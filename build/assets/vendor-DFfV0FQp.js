var TTe=Object.defineProperty;var RTe=(e,t,r)=>t in e?TTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ga=(e,t,r)=>RTe(e,typeof t!="symbol"?t+"":t,r);function ATe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ob(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var MD={exports:{}},xE={},kD={exports:{}},Oo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JG;function OTe(){if(JG)return Oo;JG=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(se){return se===null||typeof se!="object"?null:(se=h&&se[h]||se["@@iterator"],typeof se=="function"?se:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function x(se,ge,_e){this.props=se,this.context=ge,this.refs=w,this.updater=_e||m}x.prototype.isReactComponent={},x.prototype.setState=function(se,ge){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,ge,"setState")},x.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function T(){}T.prototype=x.prototype;function A(se,ge,_e){this.props=se,this.context=ge,this.refs=w,this.updater=_e||m}var P=A.prototype=new T;P.constructor=A,v(P,x.prototype),P.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(se,ge,_e){var ke,Ge={},ct=null,$e=null;if(ge!=null)for(ke in ge.ref!==void 0&&($e=ge.ref),ge.key!==void 0&&(ct=""+ge.key),ge)E.call(ge,ke)&&!R.hasOwnProperty(ke)&&(Ge[ke]=ge[ke]);var we=arguments.length-2;if(we===1)Ge.children=_e;else if(1<we){for(var Ee=Array(we),Re=0;Re<we;Re++)Ee[Re]=arguments[Re+2];Ge.children=Ee}if(se&&se.defaultProps)for(ke in we=se.defaultProps,we)Ge[ke]===void 0&&(Ge[ke]=we[ke]);return{$$typeof:e,type:se,key:ct,ref:$e,props:Ge,_owner:_.current}}function F(se,ge){return{$$typeof:e,type:se.type,key:ge,ref:se.ref,props:se.props,_owner:se._owner}}function $(se){return typeof se=="object"&&se!==null&&se.$$typeof===e}function z(se){var ge={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(_e){return ge[_e]})}var q=/\/+/g;function Z(se,ge){return typeof se=="object"&&se!==null&&se.key!=null?z(""+se.key):ge.toString(36)}function V(se,ge,_e,ke,Ge){var ct=typeof se;(ct==="undefined"||ct==="boolean")&&(se=null);var $e=!1;if(se===null)$e=!0;else switch(ct){case"string":case"number":$e=!0;break;case"object":switch(se.$$typeof){case e:case t:$e=!0}}if($e)return $e=se,Ge=Ge($e),se=ke===""?"."+Z($e,0):ke,S(Ge)?(_e="",se!=null&&(_e=se.replace(q,"$&/")+"/"),V(Ge,ge,_e,"",function(Re){return Re})):Ge!=null&&($(Ge)&&(Ge=F(Ge,_e+(!Ge.key||$e&&$e.key===Ge.key?"":(""+Ge.key).replace(q,"$&/")+"/")+se)),ge.push(Ge)),1;if($e=0,ke=ke===""?".":ke+":",S(se))for(var we=0;we<se.length;we++){ct=se[we];var Ee=ke+Z(ct,we);$e+=V(ct,ge,_e,Ee,Ge)}else if(Ee=p(se),typeof Ee=="function")for(se=Ee.call(se),we=0;!(ct=se.next()).done;)ct=ct.value,Ee=ke+Z(ct,we++),$e+=V(ct,ge,_e,Ee,Ge);else if(ct==="object")throw ge=String(se),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return $e}function J(se,ge,_e){if(se==null)return se;var ke=[],Ge=0;return V(se,ke,"","",function(ct){return ge.call(_e,ct,Ge++)}),ke}function fe(se){if(se._status===-1){var ge=se._result;ge=ge(),ge.then(function(_e){(se._status===0||se._status===-1)&&(se._status=1,se._result=_e)},function(_e){(se._status===0||se._status===-1)&&(se._status=2,se._result=_e)}),se._status===-1&&(se._status=0,se._result=ge)}if(se._status===1)return se._result.default;throw se._result}var ue={current:null},pe={transition:null},ve={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:pe,ReactCurrentOwner:_};function le(){throw Error("act(...) is not supported in production builds of React.")}return Oo.Children={map:J,forEach:function(se,ge,_e){J(se,function(){ge.apply(this,arguments)},_e)},count:function(se){var ge=0;return J(se,function(){ge++}),ge},toArray:function(se){return J(se,function(ge){return ge})||[]},only:function(se){if(!$(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Oo.Component=x,Oo.Fragment=r,Oo.Profiler=i,Oo.PureComponent=A,Oo.StrictMode=n,Oo.Suspense=l,Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Oo.act=le,Oo.cloneElement=function(se,ge,_e){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var ke=v({},se.props),Ge=se.key,ct=se.ref,$e=se._owner;if(ge!=null){if(ge.ref!==void 0&&(ct=ge.ref,$e=_.current),ge.key!==void 0&&(Ge=""+ge.key),se.type&&se.type.defaultProps)var we=se.type.defaultProps;for(Ee in ge)E.call(ge,Ee)&&!R.hasOwnProperty(Ee)&&(ke[Ee]=ge[Ee]===void 0&&we!==void 0?we[Ee]:ge[Ee])}var Ee=arguments.length-2;if(Ee===1)ke.children=_e;else if(1<Ee){we=Array(Ee);for(var Re=0;Re<Ee;Re++)we[Re]=arguments[Re+2];ke.children=we}return{$$typeof:e,type:se.type,key:Ge,ref:ct,props:ke,_owner:$e}},Oo.createContext=function(se){return se={$$typeof:s,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},Oo.createElement=O,Oo.createFactory=function(se){var ge=O.bind(null,se);return ge.type=se,ge},Oo.createRef=function(){return{current:null}},Oo.forwardRef=function(se){return{$$typeof:o,render:se}},Oo.isValidElement=$,Oo.lazy=function(se){return{$$typeof:f,_payload:{_status:-1,_result:se},_init:fe}},Oo.memo=function(se,ge){return{$$typeof:u,type:se,compare:ge===void 0?null:ge}},Oo.startTransition=function(se){var ge=pe.transition;pe.transition={};try{se()}finally{pe.transition=ge}},Oo.unstable_act=le,Oo.useCallback=function(se,ge){return ue.current.useCallback(se,ge)},Oo.useContext=function(se){return ue.current.useContext(se)},Oo.useDebugValue=function(){},Oo.useDeferredValue=function(se){return ue.current.useDeferredValue(se)},Oo.useEffect=function(se,ge){return ue.current.useEffect(se,ge)},Oo.useId=function(){return ue.current.useId()},Oo.useImperativeHandle=function(se,ge,_e){return ue.current.useImperativeHandle(se,ge,_e)},Oo.useInsertionEffect=function(se,ge){return ue.current.useInsertionEffect(se,ge)},Oo.useLayoutEffect=function(se,ge){return ue.current.useLayoutEffect(se,ge)},Oo.useMemo=function(se,ge){return ue.current.useMemo(se,ge)},Oo.useReducer=function(se,ge,_e){return ue.current.useReducer(se,ge,_e)},Oo.useRef=function(se){return ue.current.useRef(se)},Oo.useState=function(se){return ue.current.useState(se)},Oo.useSyncExternalStore=function(se,ge,_e){return ue.current.useSyncExternalStore(se,ge,_e)},Oo.useTransition=function(){return ue.current.useTransition()},Oo.version="18.3.1",Oo}var QG;function vn(){return QG||(QG=1,kD.exports=OTe()),kD.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eK;function ITe(){if(eK)return xE;eK=1;var e=vn(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,u){var f,h={},p=null,m=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(f in l)n.call(l,f)&&!a.hasOwnProperty(f)&&(h[f]=l[f]);if(o&&o.defaultProps)for(f in l=o.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:t,type:o,key:p,ref:m,props:h,_owner:i.current}}return xE.Fragment=r,xE.jsx=s,xE.jsxs=s,xE}var tK;function MTe(){return tK||(tK=1,MD.exports=ITe()),MD.exports}var io=MTe(),ne=vn();const ze=pl(ne),sj=ATe({__proto__:null,default:ze},[ne]);var QT={},DD={exports:{}},sp={},FD={exports:{}},LD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rK;function kTe(){return rK||(rK=1,function(e){function t(pe,ve){var le=pe.length;pe.push(ve);e:for(;0<le;){var se=le-1>>>1,ge=pe[se];if(0<i(ge,ve))pe[se]=ve,pe[le]=ge,le=se;else break e}}function r(pe){return pe.length===0?null:pe[0]}function n(pe){if(pe.length===0)return null;var ve=pe[0],le=pe.pop();if(le!==ve){pe[0]=le;e:for(var se=0,ge=pe.length,_e=ge>>>1;se<_e;){var ke=2*(se+1)-1,Ge=pe[ke],ct=ke+1,$e=pe[ct];if(0>i(Ge,le))ct<ge&&0>i($e,Ge)?(pe[se]=$e,pe[ct]=le,se=ct):(pe[se]=Ge,pe[ke]=le,se=ke);else if(ct<ge&&0>i($e,le))pe[se]=$e,pe[ct]=le,se=ct;else break e}}return ve}function i(pe,ve){var le=pe.sortIndex-ve.sortIndex;return le!==0?le:pe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],f=1,h=null,p=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(pe){for(var ve=r(u);ve!==null;){if(ve.callback===null)n(u);else if(ve.startTime<=pe)n(u),ve.sortIndex=ve.expirationTime,t(l,ve);else break;ve=r(u)}}function S(pe){if(w=!1,P(pe),!v)if(r(l)!==null)v=!0,fe(E);else{var ve=r(u);ve!==null&&ue(S,ve.startTime-pe)}}function E(pe,ve){v=!1,w&&(w=!1,T(O),O=-1),m=!0;var le=p;try{for(P(ve),h=r(l);h!==null&&(!(h.expirationTime>ve)||pe&&!z());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var ge=se(h.expirationTime<=ve);ve=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===r(l)&&n(l),P(ve)}else n(l);h=r(l)}if(h!==null)var _e=!0;else{var ke=r(u);ke!==null&&ue(S,ke.startTime-ve),_e=!1}return _e}finally{h=null,p=le,m=!1}}var _=!1,R=null,O=-1,F=5,$=-1;function z(){return!(e.unstable_now()-$<F)}function q(){if(R!==null){var pe=e.unstable_now();$=pe;var ve=!0;try{ve=R(!0,pe)}finally{ve?Z():(_=!1,R=null)}}else _=!1}var Z;if(typeof A=="function")Z=function(){A(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=q,Z=function(){J.postMessage(null)}}else Z=function(){x(q,0)};function fe(pe){R=pe,_||(_=!0,Z())}function ue(pe,ve){O=x(function(){pe(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,fe(E))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(pe){switch(p){case 1:case 2:case 3:var ve=3;break;default:ve=p}var le=p;p=ve;try{return pe()}finally{p=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,ve){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var le=p;p=pe;try{return ve()}finally{p=le}},e.unstable_scheduleCallback=function(pe,ve,le){var se=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,pe){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,pe={id:f++,callback:ve,priorityLevel:pe,startTime:le,expirationTime:ge,sortIndex:-1},le>se?(pe.sortIndex=le,t(u,pe),r(l)===null&&pe===r(u)&&(w?(T(O),O=-1):w=!0,ue(S,le-se))):(pe.sortIndex=ge,t(l,pe),v||m||(v=!0,fe(E))),pe},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(pe){var ve=p;return function(){var le=p;p=ve;try{return pe.apply(this,arguments)}finally{p=le}}}}(LD)),LD}var nK;function DTe(){return nK||(nK=1,FD.exports=kTe()),FD.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iK;function FTe(){if(iK)return sp;iK=1;var e=vn(),t=DTe();function r(C){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+C,W=1;W<arguments.length;W++)k+="&args[]="+encodeURIComponent(arguments[W]);return"Minified React error #"+C+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(C,k){s(C,k),s(C+"Capture",k)}function s(C,k){for(i[C]=k,C=0;C<k.length;C++)n.add(k[C])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(C){return l.call(h,C)?!0:l.call(f,C)?!1:u.test(C)?h[C]=!0:(f[C]=!0,!1)}function m(C,k,W,ee){if(W!==null&&W.type===0)return!1;switch(typeof k){case"function":case"symbol":return!0;case"boolean":return ee?!1:W!==null?!W.acceptsBooleans:(C=C.toLowerCase().slice(0,5),C!=="data-"&&C!=="aria-");default:return!1}}function v(C,k,W,ee){if(k===null||typeof k>"u"||m(C,k,W,ee))return!0;if(ee)return!1;if(W!==null)switch(W.type){case 3:return!k;case 4:return k===!1;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function w(C,k,W,ee,me,Te,lt){this.acceptsBooleans=k===2||k===3||k===4,this.attributeName=ee,this.attributeNamespace=me,this.mustUseProperty=W,this.propertyName=C,this.type=k,this.sanitizeURL=Te,this.removeEmptyString=lt}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(C){x[C]=new w(C,0,!1,C,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(C){var k=C[0];x[k]=new w(k,1,!1,C[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(C){x[C]=new w(C,2,!1,C.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(C){x[C]=new w(C,2,!1,C,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(C){x[C]=new w(C,3,!1,C.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(C){x[C]=new w(C,3,!0,C,null,!1,!1)}),["capture","download"].forEach(function(C){x[C]=new w(C,4,!1,C,null,!1,!1)}),["cols","rows","size","span"].forEach(function(C){x[C]=new w(C,6,!1,C,null,!1,!1)}),["rowSpan","start"].forEach(function(C){x[C]=new w(C,5,!1,C.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function A(C){return C[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(C){var k=C.replace(T,A);x[k]=new w(k,1,!1,C,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(C){var k=C.replace(T,A);x[k]=new w(k,1,!1,C,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(C){var k=C.replace(T,A);x[k]=new w(k,1,!1,C,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(C){x[C]=new w(C,1,!1,C.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(C){x[C]=new w(C,1,!1,C.toLowerCase(),null,!0,!0)});function P(C,k,W,ee){var me=x.hasOwnProperty(k)?x[k]:null;(me!==null?me.type!==0:ee||!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(v(k,W,me,ee)&&(W=null),ee||me===null?p(k)&&(W===null?C.removeAttribute(k):C.setAttribute(k,""+W)):me.mustUseProperty?C[me.propertyName]=W===null?me.type===3?!1:"":W:(k=me.attributeName,ee=me.attributeNamespace,W===null?C.removeAttribute(k):(me=me.type,W=me===3||me===4&&W===!0?"":""+W,ee?C.setAttributeNS(ee,k,W):C.setAttribute(k,W))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),z=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),pe=Symbol.iterator;function ve(C){return C===null||typeof C!="object"?null:(C=pe&&C[pe]||C["@@iterator"],typeof C=="function"?C:null)}var le=Object.assign,se;function ge(C){if(se===void 0)try{throw Error()}catch(W){var k=W.stack.trim().match(/\n( *(at )?)/);se=k&&k[1]||""}return`
`+se+C}var _e=!1;function ke(C,k){if(!C||_e)return"";_e=!0;var W=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(k)if(k=function(){throw Error()},Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(tn){var ee=tn}Reflect.construct(C,[],k)}else{try{k.call()}catch(tn){ee=tn}C.call(k.prototype)}else{try{throw Error()}catch(tn){ee=tn}C()}}catch(tn){if(tn&&ee&&typeof tn.stack=="string"){for(var me=tn.stack.split(`
`),Te=ee.stack.split(`
`),lt=me.length-1,Ut=Te.length-1;1<=lt&&0<=Ut&&me[lt]!==Te[Ut];)Ut--;for(;1<=lt&&0<=Ut;lt--,Ut--)if(me[lt]!==Te[Ut]){if(lt!==1||Ut!==1)do if(lt--,Ut--,0>Ut||me[lt]!==Te[Ut]){var cr=`
`+me[lt].replace(" at new "," at ");return C.displayName&&cr.includes("<anonymous>")&&(cr=cr.replace("<anonymous>",C.displayName)),cr}while(1<=lt&&0<=Ut);break}}}finally{_e=!1,Error.prepareStackTrace=W}return(C=C?C.displayName||C.name:"")?ge(C):""}function Ge(C){switch(C.tag){case 5:return ge(C.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return C=ke(C.type,!1),C;case 11:return C=ke(C.type.render,!1),C;case 1:return C=ke(C.type,!0),C;default:return""}}function ct(C){if(C==null)return null;if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case R:return"Fragment";case _:return"Portal";case F:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case V:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case z:return(C.displayName||"Context")+".Consumer";case $:return(C._context.displayName||"Context")+".Provider";case q:var k=C.render;return C=C.displayName,C||(C=k.displayName||k.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case J:return k=C.displayName||null,k!==null?k:ct(C.type)||"Memo";case fe:k=C._payload,C=C._init;try{return ct(C(k))}catch{}}return null}function $e(C){var k=C.type;switch(C.tag){case 24:return"Cache";case 9:return(k.displayName||"Context")+".Consumer";case 10:return(k._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return C=k.render,C=C.displayName||C.name||"",k.displayName||(C!==""?"ForwardRef("+C+")":"ForwardRef");case 7:return"Fragment";case 5:return k;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ct(k);case 8:return k===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k}return null}function we(C){switch(typeof C){case"boolean":case"number":case"string":case"undefined":return C;case"object":return C;default:return""}}function Ee(C){var k=C.type;return(C=C.nodeName)&&C.toLowerCase()==="input"&&(k==="checkbox"||k==="radio")}function Re(C){var k=Ee(C)?"checked":"value",W=Object.getOwnPropertyDescriptor(C.constructor.prototype,k),ee=""+C[k];if(!C.hasOwnProperty(k)&&typeof W<"u"&&typeof W.get=="function"&&typeof W.set=="function"){var me=W.get,Te=W.set;return Object.defineProperty(C,k,{configurable:!0,get:function(){return me.call(this)},set:function(lt){ee=""+lt,Te.call(this,lt)}}),Object.defineProperty(C,k,{enumerable:W.enumerable}),{getValue:function(){return ee},setValue:function(lt){ee=""+lt},stopTracking:function(){C._valueTracker=null,delete C[k]}}}}function ft(C){C._valueTracker||(C._valueTracker=Re(C))}function qe(C){if(!C)return!1;var k=C._valueTracker;if(!k)return!0;var W=k.getValue(),ee="";return C&&(ee=Ee(C)?C.checked?"true":"false":C.value),C=ee,C!==W?(k.setValue(C),!0):!1}function dt(C){if(C=C||(typeof document<"u"?document:void 0),typeof C>"u")return null;try{return C.activeElement||C.body}catch{return C.body}}function he(C,k){var W=k.checked;return le({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:W??C._wrapperState.initialChecked})}function ut(C,k){var W=k.defaultValue==null?"":k.defaultValue,ee=k.checked!=null?k.checked:k.defaultChecked;W=we(k.value!=null?k.value:W),C._wrapperState={initialChecked:ee,initialValue:W,controlled:k.type==="checkbox"||k.type==="radio"?k.checked!=null:k.value!=null}}function xt(C,k){k=k.checked,k!=null&&P(C,"checked",k,!1)}function je(C,k){xt(C,k);var W=we(k.value),ee=k.type;if(W!=null)ee==="number"?(W===0&&C.value===""||C.value!=W)&&(C.value=""+W):C.value!==""+W&&(C.value=""+W);else if(ee==="submit"||ee==="reset"){C.removeAttribute("value");return}k.hasOwnProperty("value")?Ze(C,k.type,W):k.hasOwnProperty("defaultValue")&&Ze(C,k.type,we(k.defaultValue)),k.checked==null&&k.defaultChecked!=null&&(C.defaultChecked=!!k.defaultChecked)}function rt(C,k,W){if(k.hasOwnProperty("value")||k.hasOwnProperty("defaultValue")){var ee=k.type;if(!(ee!=="submit"&&ee!=="reset"||k.value!==void 0&&k.value!==null))return;k=""+C._wrapperState.initialValue,W||k===C.value||(C.value=k),C.defaultValue=k}W=C.name,W!==""&&(C.name=""),C.defaultChecked=!!C._wrapperState.initialChecked,W!==""&&(C.name=W)}function Ze(C,k,W){(k!=="number"||dt(C.ownerDocument)!==C)&&(W==null?C.defaultValue=""+C._wrapperState.initialValue:C.defaultValue!==""+W&&(C.defaultValue=""+W))}var yt=Array.isArray;function Vt(C,k,W,ee){if(C=C.options,k){k={};for(var me=0;me<W.length;me++)k["$"+W[me]]=!0;for(W=0;W<C.length;W++)me=k.hasOwnProperty("$"+C[W].value),C[W].selected!==me&&(C[W].selected=me),me&&ee&&(C[W].defaultSelected=!0)}else{for(W=""+we(W),k=null,me=0;me<C.length;me++){if(C[me].value===W){C[me].selected=!0,ee&&(C[me].defaultSelected=!0);return}k!==null||C[me].disabled||(k=C[me])}k!==null&&(k.selected=!0)}}function At(C,k){if(k.dangerouslySetInnerHTML!=null)throw Error(r(91));return le({},k,{value:void 0,defaultValue:void 0,children:""+C._wrapperState.initialValue})}function hr(C,k){var W=k.value;if(W==null){if(W=k.children,k=k.defaultValue,W!=null){if(k!=null)throw Error(r(92));if(yt(W)){if(1<W.length)throw Error(r(93));W=W[0]}k=W}k==null&&(k=""),W=k}C._wrapperState={initialValue:we(W)}}function Sr(C,k){var W=we(k.value),ee=we(k.defaultValue);W!=null&&(W=""+W,W!==C.value&&(C.value=W),k.defaultValue==null&&C.defaultValue!==W&&(C.defaultValue=W)),ee!=null&&(C.defaultValue=""+ee)}function fr(C){var k=C.textContent;k===C._wrapperState.initialValue&&k!==""&&k!==null&&(C.value=k)}function Dt(C){switch(C){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(C,k){return C==null||C==="http://www.w3.org/1999/xhtml"?Dt(k):C==="http://www.w3.org/2000/svg"&&k==="foreignObject"?"http://www.w3.org/1999/xhtml":C}var Nr,gr=function(C){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(k,W,ee,me){MSApp.execUnsafeLocalFunction(function(){return C(k,W,ee,me)})}:C}(function(C,k){if(C.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in C)C.innerHTML=k;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+k.valueOf().toString()+"</svg>",k=Nr.firstChild;C.firstChild;)C.removeChild(C.firstChild);for(;k.firstChild;)C.appendChild(k.firstChild)}});function wr(C,k){if(k){var W=C.firstChild;if(W&&W===C.lastChild&&W.nodeType===3){W.nodeValue=k;return}}C.textContent=k}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(C){_n.forEach(function(k){k=k+C.charAt(0).toUpperCase()+C.substring(1),Fr[k]=Fr[C]})});function nn(C,k,W){return k==null||typeof k=="boolean"||k===""?"":W||typeof k!="number"||k===0||Fr.hasOwnProperty(C)&&Fr[C]?(""+k).trim():k+"px"}function ot(C,k){C=C.style;for(var W in k)if(k.hasOwnProperty(W)){var ee=W.indexOf("--")===0,me=nn(W,k[W],ee);W==="float"&&(W="cssFloat"),ee?C.setProperty(W,me):C[W]=me}}var Je=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(C,k){if(k){if(Je[C]&&(k.children!=null||k.dangerouslySetInnerHTML!=null))throw Error(r(137,C));if(k.dangerouslySetInnerHTML!=null){if(k.children!=null)throw Error(r(60));if(typeof k.dangerouslySetInnerHTML!="object"||!("__html"in k.dangerouslySetInnerHTML))throw Error(r(61))}if(k.style!=null&&typeof k.style!="object")throw Error(r(62))}}function Le(C,k){if(C.indexOf("-")===-1)return typeof k.is=="string";switch(C){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ye=null;function gt(C){return C=C.target||C.srcElement||window,C.correspondingUseElement&&(C=C.correspondingUseElement),C.nodeType===3?C.parentNode:C}var kt=null,at=null,Ft=null;function Tt(C){if(C=Xl(C)){if(typeof kt!="function")throw Error(r(280));var k=C.stateNode;k&&(k=ld(k),kt(C.stateNode,C.type,k))}}function ir(C){at?Ft?Ft.push(C):Ft=[C]:at=C}function or(){if(at){var C=at,k=Ft;if(Ft=at=null,Tt(C),k)for(C=0;C<k.length;C++)Tt(k[C])}}function ar(C,k){return C(k)}function zr(){}var mt=!1;function It(C,k,W){if(mt)return C(k,W);mt=!0;try{return ar(C,k,W)}finally{mt=!1,(at!==null||Ft!==null)&&(zr(),or())}}function Kt(C,k){var W=C.stateNode;if(W===null)return null;var ee=ld(W);if(ee===null)return null;W=ee[k];e:switch(k){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ee=!ee.disabled)||(C=C.type,ee=!(C==="button"||C==="input"||C==="select"||C==="textarea")),C=!ee;break e;default:C=!1}if(C)return null;if(W&&typeof W!="function")throw Error(r(231,k,typeof W));return W}var br=!1;if(o)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){br=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{br=!1}function jt(C,k,W,ee,me,Te,lt,Ut,cr){var tn=Array.prototype.slice.call(arguments,3);try{k.apply(W,tn)}catch(Mn){this.onError(Mn)}}var Yt=!1,Jt=null,rr=!1,vr=null,Lt={onError:function(C){Yt=!0,Jt=C}};function Ir(C,k,W,ee,me,Te,lt,Ut,cr){Yt=!1,Jt=null,jt.apply(Lt,arguments)}function fn(C,k,W,ee,me,Te,lt,Ut,cr){if(Ir.apply(this,arguments),Yt){if(Yt){var tn=Jt;Yt=!1,Jt=null}else throw Error(r(198));rr||(rr=!0,vr=tn)}}function Fn(C){var k=C,W=C;if(C.alternate)for(;k.return;)k=k.return;else{C=k;do k=C,(k.flags&4098)!==0&&(W=k.return),C=k.return;while(C)}return k.tag===3?W:null}function ui(C){if(C.tag===13){var k=C.memoizedState;if(k===null&&(C=C.alternate,C!==null&&(k=C.memoizedState)),k!==null)return k.dehydrated}return null}function yi(C){if(Fn(C)!==C)throw Error(r(188))}function Wn(C){var k=C.alternate;if(!k){if(k=Fn(C),k===null)throw Error(r(188));return k!==C?null:C}for(var W=C,ee=k;;){var me=W.return;if(me===null)break;var Te=me.alternate;if(Te===null){if(ee=me.return,ee!==null){W=ee;continue}break}if(me.child===Te.child){for(Te=me.child;Te;){if(Te===W)return yi(me),C;if(Te===ee)return yi(me),k;Te=Te.sibling}throw Error(r(188))}if(W.return!==ee.return)W=me,ee=Te;else{for(var lt=!1,Ut=me.child;Ut;){if(Ut===W){lt=!0,W=me,ee=Te;break}if(Ut===ee){lt=!0,ee=me,W=Te;break}Ut=Ut.sibling}if(!lt){for(Ut=Te.child;Ut;){if(Ut===W){lt=!0,W=Te,ee=me;break}if(Ut===ee){lt=!0,ee=Te,W=me;break}Ut=Ut.sibling}if(!lt)throw Error(r(189))}}if(W.alternate!==ee)throw Error(r(190))}if(W.tag!==3)throw Error(r(188));return W.stateNode.current===W?C:k}function mi(C){return C=Wn(C),C!==null?ya(C):null}function ya(C){if(C.tag===5||C.tag===6)return C;for(C=C.child;C!==null;){var k=ya(C);if(k!==null)return k;C=C.sibling}return null}var Ka=t.unstable_scheduleCallback,Ua=t.unstable_cancelCallback,Ji=t.unstable_shouldYield,So=t.unstable_requestPaint,ci=t.unstable_now,Ia=t.unstable_getCurrentPriorityLevel,Ti=t.unstable_ImmediatePriority,Ko=t.unstable_UserBlockingPriority,wi=t.unstable_NormalPriority,lo=t.unstable_LowPriority,co=t.unstable_IdlePriority,bi=null,Ri=null;function sa(C){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(bi,C,void 0,(C.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:Ns,os=Math.log,Eo=Math.LN2;function Ns(C){return C>>>=0,C===0?32:31-(os(C)/Eo|0)|0}var Zo=64,ml=4194304;function Au(C){switch(C&-C){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return C&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return C}}function Vl(C,k){var W=C.pendingLanes;if(W===0)return 0;var ee=0,me=C.suspendedLanes,Te=C.pingedLanes,lt=W&268435455;if(lt!==0){var Ut=lt&~me;Ut!==0?ee=Au(Ut):(Te&=lt,Te!==0&&(ee=Au(Te)))}else lt=W&~me,lt!==0?ee=Au(lt):Te!==0&&(ee=Au(Te));if(ee===0)return 0;if(k!==0&&k!==ee&&(k&me)===0&&(me=ee&-ee,Te=k&-k,me>=Te||me===16&&(Te&4194240)!==0))return k;if((ee&4)!==0&&(ee|=W&16),k=C.entangledLanes,k!==0)for(C=C.entanglements,k&=ee;0<k;)W=31-qa(k),me=1<<W,ee|=C[W],k&=~me;return ee}function gl(C,k){switch(C){case 1:case 2:case 4:return k+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(C,k){for(var W=C.suspendedLanes,ee=C.pingedLanes,me=C.expirationTimes,Te=C.pendingLanes;0<Te;){var lt=31-qa(Te),Ut=1<<lt,cr=me[lt];cr===-1?((Ut&W)===0||(Ut&ee)!==0)&&(me[lt]=gl(Ut,k)):cr<=k&&(C.expiredLanes|=Ut),Te&=~Ut}}function Gl(C){return C=C.pendingLanes&-1073741825,C!==0?C:C&1073741824?1073741824:0}function ko(){var C=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),C}function Rl(C){for(var k=[],W=0;31>W;W++)k.push(C);return k}function uo(C,k,W){C.pendingLanes|=k,k!==536870912&&(C.suspendedLanes=0,C.pingedLanes=0),C=C.eventTimes,k=31-qa(k),C[k]=W}function Al(C,k){var W=C.pendingLanes&~k;C.pendingLanes=k,C.suspendedLanes=0,C.pingedLanes=0,C.expiredLanes&=k,C.mutableReadLanes&=k,C.entangledLanes&=k,k=C.entanglements;var ee=C.eventTimes;for(C=C.expirationTimes;0<W;){var me=31-qa(W),Te=1<<me;k[me]=0,ee[me]=-1,C[me]=-1,W&=~Te}}function Ol(C,k){var W=C.entangledLanes|=k;for(C=C.entanglements;W;){var ee=31-qa(W),me=1<<ee;me&k|C[ee]&k&&(C[ee]|=k),W&=~me}}var fa=0;function Co(C){return C&=-C,1<C?4<C?(C&268435455)!==0?16:536870912:4:1}var Bi,to,Yo,du,Ei,Ou=!1,hu=[],Qs=null,Ma=null,Po=null,Ha=new Map,ss=new Map,Ca=[],nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xo(C,k){switch(C){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Ha.delete(k.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(k.pointerId)}}function ms(C,k,W,ee,me,Te){return C===null||C.nativeEvent!==Te?(C={blockedOn:k,domEventName:W,eventSystemFlags:ee,nativeEvent:Te,targetContainers:[me]},k!==null&&(k=Xl(k),k!==null&&to(k)),C):(C.eventSystemFlags|=ee,k=C.targetContainers,me!==null&&k.indexOf(me)===-1&&k.push(me),C)}function ba(C,k,W,ee,me){switch(k){case"focusin":return Qs=ms(Qs,C,k,W,ee,me),!0;case"dragenter":return Ma=ms(Ma,C,k,W,ee,me),!0;case"mouseover":return Po=ms(Po,C,k,W,ee,me),!0;case"pointerover":var Te=me.pointerId;return Ha.set(Te,ms(Ha.get(Te)||null,C,k,W,ee,me)),!0;case"gotpointercapture":return Te=me.pointerId,ss.set(Te,ms(ss.get(Te)||null,C,k,W,ee,me)),!0}return!1}function _t(C){var k=nc(C.target);if(k!==null){var W=Fn(k);if(W!==null){if(k=W.tag,k===13){if(k=ui(W),k!==null){C.blockedOn=k,Ei(C.priority,function(){Yo(W)});return}}else if(k===3&&W.stateNode.current.memoizedState.isDehydrated){C.blockedOn=W.tag===3?W.stateNode.containerInfo:null;return}}}C.blockedOn=null}function Nt(C){if(C.blockedOn!==null)return!1;for(var k=C.targetContainers;0<k.length;){var W=fi(C.domEventName,C.eventSystemFlags,k[0],C.nativeEvent);if(W===null){W=C.nativeEvent;var ee=new W.constructor(W.type,W);Ye=ee,W.target.dispatchEvent(ee),Ye=null}else return k=Xl(W),k!==null&&to(k),C.blockedOn=W,!1;k.shift()}return!0}function Ar(C,k,W){Nt(C)&&W.delete(k)}function Zt(){Ou=!1,Qs!==null&&Nt(Qs)&&(Qs=null),Ma!==null&&Nt(Ma)&&(Ma=null),Po!==null&&Nt(Po)&&(Po=null),Ha.forEach(Ar),ss.forEach(Ar)}function pr(C,k){C.blockedOn===k&&(C.blockedOn=null,Ou||(Ou=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zt)))}function Kr(C){function k(me){return pr(me,C)}if(0<hu.length){pr(hu[0],C);for(var W=1;W<hu.length;W++){var ee=hu[W];ee.blockedOn===C&&(ee.blockedOn=null)}}for(Qs!==null&&pr(Qs,C),Ma!==null&&pr(Ma,C),Po!==null&&pr(Po,C),Ha.forEach(k),ss.forEach(k),W=0;W<Ca.length;W++)ee=Ca[W],ee.blockedOn===C&&(ee.blockedOn=null);for(;0<Ca.length&&(W=Ca[0],W.blockedOn===null);)_t(W),W.blockedOn===null&&Ca.shift()}var rn=S.ReactCurrentBatchConfig,ri=!0;function Sn(C,k,W,ee){var me=fa,Te=rn.transition;rn.transition=null;try{fa=1,An(C,k,W,ee)}finally{fa=me,rn.transition=Te}}function Ln(C,k,W,ee){var me=fa,Te=rn.transition;rn.transition=null;try{fa=4,An(C,k,W,ee)}finally{fa=me,rn.transition=Te}}function An(C,k,W,ee){if(ri){var me=fi(C,k,W,ee);if(me===null)Jh(C,k,ee,Un,W),Xo(C,ee);else if(ba(me,C,k,W,ee))ee.stopPropagation();else if(Xo(C,ee),k&4&&-1<nf.indexOf(C)){for(;me!==null;){var Te=Xl(me);if(Te!==null&&Bi(Te),Te=fi(C,k,W,ee),Te===null&&Jh(C,k,ee,Un,W),Te===me)break;me=Te}me!==null&&ee.stopPropagation()}else Jh(C,k,ee,null,W)}}var Un=null;function fi(C,k,W,ee){if(Un=null,C=gt(ee),C=nc(C),C!==null)if(k=Fn(C),k===null)C=null;else if(W=k.tag,W===13){if(C=ui(k),C!==null)return C;C=null}else if(W===3){if(k.stateNode.current.memoizedState.isDehydrated)return k.tag===3?k.stateNode.containerInfo:null;C=null}else k!==C&&(C=null);return Un=C,null}function de(C){switch(C){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ia()){case Ti:return 1;case Ko:return 4;case wi:case lo:return 16;case co:return 536870912;default:return 16}default:return 16}}var Ie=null,Ke=null,et=null;function St(){if(et)return et;var C,k=Ke,W=k.length,ee,me="value"in Ie?Ie.value:Ie.textContent,Te=me.length;for(C=0;C<W&&k[C]===me[C];C++);var lt=W-C;for(ee=1;ee<=lt&&k[W-ee]===me[Te-ee];ee++);return et=me.slice(C,1<ee?1-ee:void 0)}function vt(C){var k=C.keyCode;return"charCode"in C?(C=C.charCode,C===0&&k===13&&(C=13)):C=k,C===10&&(C=13),32<=C||C===13?C:0}function Ot(){return!0}function Pr(){return!1}function Tr(C){function k(W,ee,me,Te,lt){this._reactName=W,this._targetInst=me,this.type=ee,this.nativeEvent=Te,this.target=lt,this.currentTarget=null;for(var Ut in C)C.hasOwnProperty(Ut)&&(W=C[Ut],this[Ut]=W?W(Te):Te[Ut]);return this.isDefaultPrevented=(Te.defaultPrevented!=null?Te.defaultPrevented:Te.returnValue===!1)?Ot:Pr,this.isPropagationStopped=Pr,this}return le(k.prototype,{preventDefault:function(){this.defaultPrevented=!0;var W=this.nativeEvent;W&&(W.preventDefault?W.preventDefault():typeof W.returnValue!="unknown"&&(W.returnValue=!1),this.isDefaultPrevented=Ot)},stopPropagation:function(){var W=this.nativeEvent;W&&(W.stopPropagation?W.stopPropagation():typeof W.cancelBubble!="unknown"&&(W.cancelBubble=!0),this.isPropagationStopped=Ot)},persist:function(){},isPersistent:Ot}),k}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(C){return C.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=Tr(Mr),sn=le({},Mr,{view:0,detail:0}),Pn=Tr(sn),un,gn,Cn,Zn=le({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(C){return C.relatedTarget===void 0?C.fromElement===C.srcElement?C.toElement:C.fromElement:C.relatedTarget},movementX:function(C){return"movementX"in C?C.movementX:(C!==Cn&&(Cn&&C.type==="mousemove"?(un=C.screenX-Cn.screenX,gn=C.screenY-Cn.screenY):gn=un=0,Cn=C),un)},movementY:function(C){return"movementY"in C?C.movementY:gn}}),hi=Tr(Zn),ji=le({},Zn,{dataTransfer:0}),ii=Tr(ji),Bn=le({},sn,{relatedTarget:0}),ni=Tr(Bn),ai=le({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=Tr(ai),_a=le({},Mr,{clipboardData:function(C){return"clipboardData"in C?C.clipboardData:window.clipboardData}}),Ai=Tr(_a),Zi=le({},Mr,{data:0}),ma=Tr(Zi),Hi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(C){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(C):(C=ha[C])?!!k[C]:!1}function pi(){return ka}var Ta=le({},sn,{key:function(C){if(C.key){var k=Hi[C.key]||C.key;if(k!=="Unidentified")return k}return C.type==="keypress"?(C=vt(C),C===13?"Enter":String.fromCharCode(C)):C.type==="keydown"||C.type==="keyup"?Pa[C.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(C){return C.type==="keypress"?vt(C):0},keyCode:function(C){return C.type==="keydown"||C.type==="keyup"?C.keyCode:0},which:function(C){return C.type==="keypress"?vt(C):C.type==="keydown"||C.type==="keyup"?C.keyCode:0}}),Jo=Tr(Ta),gs=le({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=Tr(gs),Qo=le({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),vs=Tr(Qo),qs=le({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Tr(qs),qc=le({},Zn,{deltaX:function(C){return"deltaX"in C?C.deltaX:"wheelDeltaX"in C?-C.wheelDeltaX:0},deltaY:function(C){return"deltaY"in C?C.deltaY:"wheelDeltaY"in C?-C.wheelDeltaY:"wheelDelta"in C?-C.wheelDelta:0},deltaZ:0,deltaMode:0}),ec=Tr(qc),Kl=[9,13,27,32],xc=o&&"CompositionEvent"in window,el=null;o&&"documentMode"in document&&(el=document.documentMode);var af=o&&"TextEvent"in window&&!el,nh=o&&(!xc||el&&8<el&&11>=el),Gh=" ",Sf=!1;function tc(C,k){switch(C){case"keyup":return Kl.indexOf(k.keyCode)!==-1;case"keydown":return k.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(C){return C=C.detail,typeof C=="object"&&"data"in C?C.data:null}var Ef=!1;function Sc(C,k){switch(C){case"compositionend":return Kh(k);case"keypress":return k.which!==32?null:(Sf=!0,Gh);case"textInput":return C=k.data,C===Gh&&Sf?null:C;default:return null}}function Pp(C,k){if(Ef)return C==="compositionend"||!xc&&tc(C,k)?(C=St(),et=Ke=Ie=null,Ef=!1,C):null;switch(C){case"paste":return null;case"keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;case"compositionend":return nh&&k.locale!=="ko"?null:k.data;default:return null}}var Il={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iu(C){var k=C&&C.nodeName&&C.nodeName.toLowerCase();return k==="input"?!!Il[C.type]:k==="textarea"}function Tp(C,k,W,ee){ir(ee),k=Fd(k,"onChange"),0<k.length&&(W=new bn("onChange","change",null,W,ee),C.push({event:W,listeners:k}))}var vl=null,To=null;function Rp(C){Em(C,0)}function Hc(C){var k=ea(C);if(qe(k))return C}function wm(C,k){if(C==="change")return k}var la=!1;if(o){var Hn;if(o){var Wc="oninput"in document;if(!Wc){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Wc=typeof ih.oninput=="function"}Hn=Wc}else Hn=!1;la=Hn&&(!document.documentMode||9<document.documentMode)}function ah(){vl&&(vl.detachEvent("onpropertychange",fg),To=vl=null)}function fg(C){if(C.propertyName==="value"&&Hc(To)){var k=[];Tp(k,To,C,gt(C)),It(Rp,k)}}function dg(C,k,W){C==="focusin"?(ah(),vl=k,To=W,vl.attachEvent("onpropertychange",fg)):C==="focusout"&&ah()}function oh(C){if(C==="selectionchange"||C==="keyup"||C==="keydown")return Hc(To)}function Id(C,k){if(C==="click")return Hc(k)}function Cr(C,k){if(C==="input"||C==="change")return Hc(k)}function dn(C,k){return C===k&&(C!==0||1/C===1/k)||C!==C&&k!==k}var Zr=typeof Object.is=="function"?Object.is:dn;function li(C,k){if(Zr(C,k))return!0;if(typeof C!="object"||C===null||typeof k!="object"||k===null)return!1;var W=Object.keys(C),ee=Object.keys(k);if(W.length!==ee.length)return!1;for(ee=0;ee<W.length;ee++){var me=W[ee];if(!l.call(k,me)||!Zr(C[me],k[me]))return!1}return!0}function ua(C){for(;C&&C.firstChild;)C=C.firstChild;return C}function fo(C,k){var W=ua(C);C=0;for(var ee;W;){if(W.nodeType===3){if(ee=C+W.textContent.length,C<=k&&ee>=k)return{node:W,offset:k-C};C=ee}e:{for(;W;){if(W.nextSibling){W=W.nextSibling;break e}W=W.parentNode}W=void 0}W=ua(W)}}function As(C,k){return C&&k?C===k?!0:C&&C.nodeType===3?!1:k&&k.nodeType===3?As(C,k.parentNode):"contains"in C?C.contains(k):C.compareDocumentPosition?!!(C.compareDocumentPosition(k)&16):!1:!1}function yo(){for(var C=window,k=dt();k instanceof C.HTMLIFrameElement;){try{var W=typeof k.contentWindow.location.href=="string"}catch{W=!1}if(W)C=k.contentWindow;else break;k=dt(C.document)}return k}function Ui(C){var k=C&&C.nodeName&&C.nodeName.toLowerCase();return k&&(k==="input"&&(C.type==="text"||C.type==="search"||C.type==="tel"||C.type==="url"||C.type==="password")||k==="textarea"||C.contentEditable==="true")}function yl(C){var k=yo(),W=C.focusedElem,ee=C.selectionRange;if(k!==W&&W&&W.ownerDocument&&As(W.ownerDocument.documentElement,W)){if(ee!==null&&Ui(W)){if(k=ee.start,C=ee.end,C===void 0&&(C=k),"selectionStart"in W)W.selectionStart=k,W.selectionEnd=Math.min(C,W.value.length);else if(C=(k=W.ownerDocument||document)&&k.defaultView||window,C.getSelection){C=C.getSelection();var me=W.textContent.length,Te=Math.min(ee.start,me);ee=ee.end===void 0?Te:Math.min(ee.end,me),!C.extend&&Te>ee&&(me=ee,ee=Te,Te=me),me=fo(W,Te);var lt=fo(W,ee);me&&lt&&(C.rangeCount!==1||C.anchorNode!==me.node||C.anchorOffset!==me.offset||C.focusNode!==lt.node||C.focusOffset!==lt.offset)&&(k=k.createRange(),k.setStart(me.node,me.offset),C.removeAllRanges(),Te>ee?(C.addRange(k),C.extend(lt.node,lt.offset)):(k.setEnd(lt.node,lt.offset),C.addRange(k)))}}for(k=[],C=W;C=C.parentNode;)C.nodeType===1&&k.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<k.length;W++)C=k[W],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}var Mu=o&&"documentMode"in document&&11>=document.documentMode,ku=null,sh=null,Du=null,Ml=!1;function lh(C,k,W){var ee=W.window===W?W.document:W.nodeType===9?W:W.ownerDocument;Ml||ku==null||ku!==dt(ee)||(ee=ku,"selectionStart"in ee&&Ui(ee)?ee={start:ee.selectionStart,end:ee.selectionEnd}:(ee=(ee.ownerDocument&&ee.ownerDocument.defaultView||window).getSelection(),ee={anchorNode:ee.anchorNode,anchorOffset:ee.anchorOffset,focusNode:ee.focusNode,focusOffset:ee.focusOffset}),Du&&li(Du,ee)||(Du=ee,ee=Fd(sh,"onSelect"),0<ee.length&&(k=new bn("onSelect","select",null,k,W),C.push({event:k,listeners:ee}),k.target=ku)))}function Za(C,k){var W={};return W[C.toLowerCase()]=k.toLowerCase(),W["Webkit"+C]="webkit"+k,W["Moz"+C]="moz"+k,W}var Md={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Cf={},rd={};o&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Md.animationend.animation,delete Md.animationiteration.animation,delete Md.animationstart.animation),"TransitionEvent"in window||delete Md.transitionend.transition);function nd(C){if(Cf[C])return Cf[C];if(!Md[C])return C;var k=Md[C],W;for(W in k)if(k.hasOwnProperty(W)&&W in rd)return Cf[C]=k[W];return C}var Zh=nd("animationend"),Ap=nd("animationiteration"),id=nd("animationstart"),Zl=nd("transitionend"),Pf=new Map,xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rc(C,k){Pf.set(C,k),a(k,[C])}for(var ga=0;ga<xm.length;ga++){var kd=xm[ga],Fu=kd.toLowerCase(),Sm=kd[0].toUpperCase()+kd.slice(1);rc(Fu,"on"+Sm)}rc(Zh,"onAnimationEnd"),rc(Ap,"onAnimationIteration"),rc(id,"onAnimationStart"),rc("dblclick","onDoubleClick"),rc("focusin","onFocus"),rc("focusout","onBlur"),rc(Zl,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function Tf(C,k,W){var ee=C.type||"unknown-event";C.currentTarget=W,fn(ee,k,void 0,C),C.currentTarget=null}function Em(C,k){k=(k&4)!==0;for(var W=0;W<C.length;W++){var ee=C[W],me=ee.event;ee=ee.listeners;e:{var Te=void 0;if(k)for(var lt=ee.length-1;0<=lt;lt--){var Ut=ee[lt],cr=Ut.instance,tn=Ut.currentTarget;if(Ut=Ut.listener,cr!==Te&&me.isPropagationStopped())break e;Tf(me,Ut,tn),Te=cr}else for(lt=0;lt<ee.length;lt++){if(Ut=ee[lt],cr=Ut.instance,tn=Ut.currentTarget,Ut=Ut.listener,cr!==Te&&me.isPropagationStopped())break e;Tf(me,Ut,tn),Te=cr}}}if(rr)throw C=vr,rr=!1,vr=null,C}function ls(C,k){var W=k[Ld];W===void 0&&(W=k[Ld]=new Set);var ee=C+"__bubble";W.has(ee)||(Xh(k,C,2,!1),W.add(ee))}function Yh(C,k,W){var ee=0;k&&(ee|=4),Xh(W,C,ee,k)}var of="_reactListening"+Math.random().toString(36).slice(2);function sf(C){if(!C[of]){C[of]=!0,n.forEach(function(W){W!=="selectionchange"&&(Yl.has(W)||Yh(W,!1,C),Yh(W,!0,C))});var k=C.nodeType===9?C:C.ownerDocument;k===null||k[of]||(k[of]=!0,Yh("selectionchange",!1,k))}}function Xh(C,k,W,ee){switch(de(k)){case 1:var me=Sn;break;case 4:me=Ln;break;default:me=An}W=me.bind(null,k,W,C),me=void 0,!br||k!=="touchstart"&&k!=="touchmove"&&k!=="wheel"||(me=!0),ee?me!==void 0?C.addEventListener(k,W,{capture:!0,passive:me}):C.addEventListener(k,W,!0):me!==void 0?C.addEventListener(k,W,{passive:me}):C.addEventListener(k,W,!1)}function Jh(C,k,W,ee,me){var Te=ee;if((k&1)===0&&(k&2)===0&&ee!==null)e:for(;;){if(ee===null)return;var lt=ee.tag;if(lt===3||lt===4){var Ut=ee.stateNode.containerInfo;if(Ut===me||Ut.nodeType===8&&Ut.parentNode===me)break;if(lt===4)for(lt=ee.return;lt!==null;){var cr=lt.tag;if((cr===3||cr===4)&&(cr=lt.stateNode.containerInfo,cr===me||cr.nodeType===8&&cr.parentNode===me))return;lt=lt.return}for(;Ut!==null;){if(lt=nc(Ut),lt===null)return;if(cr=lt.tag,cr===5||cr===6){ee=Te=lt;continue e}Ut=Ut.parentNode}}ee=ee.return}It(function(){var tn=Te,Mn=gt(W),jn=[];e:{var kn=Pf.get(C);if(kn!==void 0){var gi=bn,Oi=C;switch(C){case"keypress":if(vt(W)===0)break e;case"keydown":case"keyup":gi=Jo;break;case"focusin":Oi="focus",gi=ni;break;case"focusout":Oi="blur",gi=ni;break;case"beforeblur":case"afterblur":gi=ni;break;case"click":if(W.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gi=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gi=ii;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gi=vs;break;case Zh:case Ap:case id:gi=$i;break;case Zl:gi=Uo;break;case"scroll":gi=Pn;break;case"wheel":gi=ec;break;case"copy":case"cut":case"paste":gi=Ai;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gi=Ii}var Li=(k&4)!==0,xl=!Li&&C==="scroll",jr=Li?kn!==null?kn+"Capture":null:kn;Li=[];for(var yr=tn,Hr;yr!==null;){Hr=yr;var Vn=Hr.stateNode;if(Hr.tag===5&&Vn!==null&&(Hr=Vn,jr!==null&&(Vn=Kt(yr,jr),Vn!=null&&Li.push(Dd(yr,Vn,Hr)))),xl)break;yr=yr.return}0<Li.length&&(kn=new gi(kn,Oi,null,W,Mn),jn.push({event:kn,listeners:Li}))}}if((k&7)===0){e:{if(kn=C==="mouseover"||C==="pointerover",gi=C==="mouseout"||C==="pointerout",kn&&W!==Ye&&(Oi=W.relatedTarget||W.fromElement)&&(nc(Oi)||Oi[Nu]))break e;if((gi||kn)&&(kn=Mn.window===Mn?Mn:(kn=Mn.ownerDocument)?kn.defaultView||kn.parentWindow:window,gi?(Oi=W.relatedTarget||W.toElement,gi=tn,Oi=Oi?nc(Oi):null,Oi!==null&&(xl=Fn(Oi),Oi!==xl||Oi.tag!==5&&Oi.tag!==6)&&(Oi=null)):(gi=null,Oi=tn),gi!==Oi)){if(Li=hi,Vn="onMouseLeave",jr="onMouseEnter",yr="mouse",(C==="pointerout"||C==="pointerover")&&(Li=Ii,Vn="onPointerLeave",jr="onPointerEnter",yr="pointer"),xl=gi==null?kn:ea(gi),Hr=Oi==null?kn:ea(Oi),kn=new Li(Vn,yr+"leave",gi,W,Mn),kn.target=xl,kn.relatedTarget=Hr,Vn=null,nc(Mn)===tn&&(Li=new Li(jr,yr+"enter",Oi,W,Mn),Li.target=Hr,Li.relatedTarget=xl,Vn=Li),xl=Vn,gi&&Oi)t:{for(Li=gi,jr=Oi,yr=0,Hr=Li;Hr;Hr=lf(Hr))yr++;for(Hr=0,Vn=jr;Vn;Vn=lf(Vn))Hr++;for(;0<yr-Hr;)Li=lf(Li),yr--;for(;0<Hr-yr;)jr=lf(jr),Hr--;for(;yr--;){if(Li===jr||jr!==null&&Li===jr.alternate)break t;Li=lf(Li),jr=lf(jr)}Li=null}else Li=null;gi!==null&&Ss(jn,kn,gi,Li,!1),Oi!==null&&xl!==null&&Ss(jn,xl,Oi,Li,!0)}}e:{if(kn=tn?ea(tn):window,gi=kn.nodeName&&kn.nodeName.toLowerCase(),gi==="select"||gi==="input"&&kn.type==="file")var Ni=wm;else if(Iu(kn))if(la)Ni=Cr;else{Ni=oh;var na=dg}else(gi=kn.nodeName)&&gi.toLowerCase()==="input"&&(kn.type==="checkbox"||kn.type==="radio")&&(Ni=Id);if(Ni&&(Ni=Ni(C,tn))){Tp(jn,Ni,W,Mn);break e}na&&na(C,kn,tn),C==="focusout"&&(na=kn._wrapperState)&&na.controlled&&kn.type==="number"&&Ze(kn,"number",kn.value)}switch(na=tn?ea(tn):window,C){case"focusin":(Iu(na)||na.contentEditable==="true")&&(ku=na,sh=tn,Du=null);break;case"focusout":Du=sh=ku=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,lh(jn,W,Mn);break;case"selectionchange":if(Mu)break;case"keydown":case"keyup":lh(jn,W,Mn)}var Ki;if(xc)e:{switch(C){case"compositionstart":var da="onCompositionStart";break e;case"compositionend":da="onCompositionEnd";break e;case"compositionupdate":da="onCompositionUpdate";break e}da=void 0}else Ef?tc(C,W)&&(da="onCompositionEnd"):C==="keydown"&&W.keyCode===229&&(da="onCompositionStart");da&&(nh&&W.locale!=="ko"&&(Ef||da!=="onCompositionStart"?da==="onCompositionEnd"&&Ef&&(Ki=St()):(Ie=Mn,Ke="value"in Ie?Ie.value:Ie.textContent,Ef=!0)),na=Fd(tn,da),0<na.length&&(da=new ma(da,C,null,W,Mn),jn.push({event:da,listeners:na}),Ki?da.data=Ki:(Ki=Kh(W),Ki!==null&&(da.data=Ki)))),(Ki=af?Sc(C,W):Pp(C,W))&&(tn=Fd(tn,"onBeforeInput"),0<tn.length&&(Mn=new ma("onBeforeInput","beforeinput",null,W,Mn),jn.push({event:Mn,listeners:tn}),Mn.data=Ki))}Em(jn,k)})}function Dd(C,k,W){return{instance:C,listener:k,currentTarget:W}}function Fd(C,k){for(var W=k+"Capture",ee=[];C!==null;){var me=C,Te=me.stateNode;me.tag===5&&Te!==null&&(me=Te,Te=Kt(C,W),Te!=null&&ee.unshift(Dd(C,Te,me)),Te=Kt(C,k),Te!=null&&ee.push(Dd(C,Te,me))),C=C.return}return ee}function lf(C){if(C===null)return null;do C=C.return;while(C&&C.tag!==5);return C||null}function Ss(C,k,W,ee,me){for(var Te=k._reactName,lt=[];W!==null&&W!==ee;){var Ut=W,cr=Ut.alternate,tn=Ut.stateNode;if(cr!==null&&cr===ee)break;Ut.tag===5&&tn!==null&&(Ut=tn,me?(cr=Kt(W,Te),cr!=null&&lt.unshift(Dd(W,cr,Ut))):me||(cr=Kt(W,Te),cr!=null&&lt.push(Dd(W,cr,Ut)))),W=W.return}lt.length!==0&&C.push({event:k,listeners:lt})}var tl=/\r\n?/g,ad=/\u0000|\uFFFD/g;function Qh(C){return(typeof C=="string"?C:""+C).replace(tl,`
`).replace(ad,"")}function ep(C,k,W){if(k=Qh(k),Qh(C)!==k&&W)throw Error(r(425))}function Cc(){}var $s=null,od=null;function uh(C,k){return C==="textarea"||C==="noscript"||typeof k.children=="string"||typeof k.children=="number"||typeof k.dangerouslySetInnerHTML=="object"&&k.dangerouslySetInnerHTML!==null&&k.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,sd=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Rf=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(C){return ch.resolve(null).then(C).catch(qo)}:Pc;function qo(C){setTimeout(function(){throw C})}function uf(C,k){var W=k,ee=0;do{var me=W.nextSibling;if(C.removeChild(W),me&&me.nodeType===8)if(W=me.data,W==="/$"){if(ee===0){C.removeChild(me),Kr(k);return}ee--}else W!=="$"&&W!=="$?"&&W!=="$!"||ee++;W=me}while(W);Kr(k)}function rl(C){for(;C!=null;C=C.nextSibling){var k=C.nodeType;if(k===1||k===3)break;if(k===8){if(k=C.data,k==="$"||k==="$!"||k==="$?")break;if(k==="/$")return null}}return C}function fh(C){C=C.previousSibling;for(var k=0;C;){if(C.nodeType===8){var W=C.data;if(W==="$"||W==="$!"||W==="$?"){if(k===0)return C;k--}else W==="/$"&&k++}C=C.previousSibling}return null}var Vc=Math.random().toString(36).slice(2),Lu="__reactFiber$"+Vc,kl="__reactProps$"+Vc,Nu="__reactContainer$"+Vc,Ld="__reactEvents$"+Vc,pt="__reactListeners$"+Vc,Af="__reactHandles$"+Vc;function nc(C){var k=C[Lu];if(k)return k;for(var W=C.parentNode;W;){if(k=W[Nu]||W[Lu]){if(W=k.alternate,k.child!==null||W!==null&&W.child!==null)for(C=fh(C);C!==null;){if(W=C[Lu])return W;C=fh(C)}return k}C=W,W=C.parentNode}return null}function Xl(C){return C=C[Lu]||C[Nu],!C||C.tag!==5&&C.tag!==6&&C.tag!==13&&C.tag!==3?null:C}function ea(C){if(C.tag===5||C.tag===6)return C.stateNode;throw Error(r(33))}function ld(C){return C[kl]||null}var Os=[],cf=-1;function pu(C){return{current:C}}function us(C){0>cf||(C.current=Os[cf],Os[cf]=null,cf--)}function Do(C,k){cf++,Os[cf]=C.current,C.current=k}var ic={},Dl=pu(ic),Jl=pu(!1),Fl=ic;function ac(C,k){var W=C.type.contextTypes;if(!W)return ic;var ee=C.stateNode;if(ee&&ee.__reactInternalMemoizedUnmaskedChildContext===k)return ee.__reactInternalMemoizedMaskedChildContext;var me={},Te;for(Te in W)me[Te]=k[Te];return ee&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=k,C.__reactInternalMemoizedMaskedChildContext=me),me}function Hs(C){return C=C.childContextTypes,C!=null}function Es(){us(Jl),us(Dl)}function Gc(C,k,W){if(Dl.current!==ic)throw Error(r(168));Do(Dl,k),Do(Jl,W)}function ff(C,k,W){var ee=C.stateNode;if(k=k.childContextTypes,typeof ee.getChildContext!="function")return W;ee=ee.getChildContext();for(var me in ee)if(!(me in k))throw Error(r(108,$e(C)||"Unknown",me));return le({},W,ee)}function Cs(C){return C=(C=C.stateNode)&&C.__reactInternalMemoizedMergedChildContext||ic,Fl=Dl.current,Do(Dl,C),Do(Jl,Jl.current),!0}function dh(C,k,W){var ee=C.stateNode;if(!ee)throw Error(r(169));W?(C=ff(C,k,Fl),ee.__reactInternalMemoizedMergedChildContext=C,us(Jl),us(Dl),Do(Dl,C)):us(Jl),Do(Jl,W)}var oc=null,Cm=!1,Op=!1;function Ip(C){oc===null?oc=[C]:oc.push(C)}function ud(C){Cm=!0,Ip(C)}function mu(){if(!Op&&oc!==null){Op=!0;var C=0,k=fa;try{var W=oc;for(fa=1;C<W.length;C++){var ee=W[C];do ee=ee(!0);while(ee!==null)}oc=null,Cm=!1}catch(me){throw oc!==null&&(oc=oc.slice(C+1)),Ka(Ti,mu),me}finally{fa=k,Op=!1}}return null}var gu=[],qn=0,hh=null,Nd=0,Tc=[],Ql=0,Kc=null,Zc=1,ta="";function Of(C,k){gu[qn++]=Nd,gu[qn++]=hh,hh=C,Nd=k}function hg(C,k,W){Tc[Ql++]=Zc,Tc[Ql++]=ta,Tc[Ql++]=Kc,Kc=C;var ee=Zc;C=ta;var me=32-qa(ee)-1;ee&=~(1<<me),W+=1;var Te=32-qa(k)+me;if(30<Te){var lt=me-me%5;Te=(ee&(1<<lt)-1).toString(32),ee>>=lt,me-=lt,Zc=1<<32-qa(k)+me|W<<me|ee,ta=Te+C}else Zc=1<<Te|W<<me|ee,ta=C}function $d(C){C.return!==null&&(Of(C,1),hg(C,1,0))}function If(C){for(;C===hh;)hh=gu[--qn],gu[qn]=null,Nd=gu[--qn],gu[qn]=null;for(;C===Kc;)Kc=Tc[--Ql],Tc[Ql]=null,ta=Tc[--Ql],Tc[Ql]=null,Zc=Tc[--Ql],Tc[Ql]=null}var Ll=null,eu=null,Fo=!1,vu=null;function Rc(C,k){var W=Bf(5,null,null,0);W.elementType="DELETED",W.stateNode=k,W.return=C,k=C.deletions,k===null?(C.deletions=[W],C.flags|=16):k.push(W)}function cd(C,k){switch(C.tag){case 5:var W=C.type;return k=k.nodeType!==1||W.toLowerCase()!==k.nodeName.toLowerCase()?null:k,k!==null?(C.stateNode=k,Ll=C,eu=rl(k.firstChild),!0):!1;case 6:return k=C.pendingProps===""||k.nodeType!==3?null:k,k!==null?(C.stateNode=k,Ll=C,eu=null,!0):!1;case 13:return k=k.nodeType!==8?null:k,k!==null?(W=Kc!==null?{id:Zc,overflow:ta}:null,C.memoizedState={dehydrated:k,treeContext:W,retryLane:1073741824},W=Bf(18,null,null,0),W.stateNode=k,W.return=C,C.child=W,Ll=C,eu=null,!0):!1;default:return!1}}function Mf(C){return(C.mode&1)!==0&&(C.flags&128)===0}function sc(C){if(Fo){var k=eu;if(k){var W=k;if(!cd(C,k)){if(Mf(C))throw Error(r(418));k=rl(W.nextSibling);var ee=Ll;k&&cd(C,k)?Rc(ee,W):(C.flags=C.flags&-4097|2,Fo=!1,Ll=C)}}else{if(Mf(C))throw Error(r(418));C.flags=C.flags&-4097|2,Fo=!1,Ll=C}}}function kf(C){for(C=C.return;C!==null&&C.tag!==5&&C.tag!==3&&C.tag!==13;)C=C.return;Ll=C}function Ro(C){if(C!==Ll)return!1;if(!Fo)return kf(C),Fo=!0,!1;var k;if((k=C.tag!==3)&&!(k=C.tag!==5)&&(k=C.type,k=k!=="head"&&k!=="body"&&!uh(C.type,C.memoizedProps)),k&&(k=eu)){if(Mf(C))throw fd(),Error(r(418));for(;k;)Rc(C,k),k=rl(k.nextSibling)}if(kf(C),C.tag===13){if(C=C.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));e:{for(C=C.nextSibling,k=0;C;){if(C.nodeType===8){var W=C.data;if(W==="/$"){if(k===0){eu=rl(C.nextSibling);break e}k--}else W!=="$"&&W!=="$!"&&W!=="$?"||k++}C=C.nextSibling}eu=null}}else eu=Ll?rl(C.stateNode.nextSibling):null;return!0}function fd(){for(var C=eu;C;)C=rl(C.nextSibling)}function Ac(){eu=Ll=null,Fo=!1}function df(C){vu===null?vu=[C]:vu.push(C)}var pg=S.ReactCurrentBatchConfig;function zd(C,k,W){if(C=W.ref,C!==null&&typeof C!="function"&&typeof C!="object"){if(W._owner){if(W=W._owner,W){if(W.tag!==1)throw Error(r(309));var ee=W.stateNode}if(!ee)throw Error(r(147,C));var me=ee,Te=""+C;return k!==null&&k.ref!==null&&typeof k.ref=="function"&&k.ref._stringRef===Te?k.ref:(k=function(lt){var Ut=me.refs;lt===null?delete Ut[Te]:Ut[Te]=lt},k._stringRef=Te,k)}if(typeof C!="string")throw Error(r(284));if(!W._owner)throw Error(r(290,C))}return C}function Df(C,k){throw C=Object.prototype.toString.call(k),Error(r(31,C==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":C))}function Nl(C){var k=C._init;return k(C._payload)}function ph(C){function k(jr,yr){if(C){var Hr=jr.deletions;Hr===null?(jr.deletions=[yr],jr.flags|=16):Hr.push(yr)}}function W(jr,yr){if(!C)return null;for(;yr!==null;)k(jr,yr),yr=yr.sibling;return null}function ee(jr,yr){for(jr=new Map;yr!==null;)yr.key!==null?jr.set(yr.key,yr):jr.set(yr.index,yr),yr=yr.sibling;return jr}function me(jr,yr){return jr=bd(jr,yr),jr.index=0,jr.sibling=null,jr}function Te(jr,yr,Hr){return jr.index=Hr,C?(Hr=jr.alternate,Hr!==null?(Hr=Hr.index,Hr<yr?(jr.flags|=2,yr):Hr):(jr.flags|=2,yr)):(jr.flags|=1048576,yr)}function lt(jr){return C&&jr.alternate===null&&(jr.flags|=2),jr}function Ut(jr,yr,Hr,Vn){return yr===null||yr.tag!==6?(yr=Xb(Hr,jr.mode,Vn),yr.return=jr,yr):(yr=me(yr,Hr),yr.return=jr,yr)}function cr(jr,yr,Hr,Vn){var Ni=Hr.type;return Ni===R?Mn(jr,yr,Hr.props.children,Vn,Hr.key):yr!==null&&(yr.elementType===Ni||typeof Ni=="object"&&Ni!==null&&Ni.$$typeof===fe&&Nl(Ni)===yr.type)?(Vn=me(yr,Hr.props),Vn.ref=zd(jr,yr,Hr),Vn.return=jr,Vn):(Vn=_v(Hr.type,Hr.key,Hr.props,null,jr.mode,Vn),Vn.ref=zd(jr,yr,Hr),Vn.return=jr,Vn)}function tn(jr,yr,Hr,Vn){return yr===null||yr.tag!==4||yr.stateNode.containerInfo!==Hr.containerInfo||yr.stateNode.implementation!==Hr.implementation?(yr=Jb(Hr,jr.mode,Vn),yr.return=jr,yr):(yr=me(yr,Hr.children||[]),yr.return=jr,yr)}function Mn(jr,yr,Hr,Vn,Ni){return yr===null||yr.tag!==7?(yr=wg(Hr,jr.mode,Vn,Ni),yr.return=jr,yr):(yr=me(yr,Hr),yr.return=jr,yr)}function jn(jr,yr,Hr){if(typeof yr=="string"&&yr!==""||typeof yr=="number")return yr=Xb(""+yr,jr.mode,Hr),yr.return=jr,yr;if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case E:return Hr=_v(yr.type,yr.key,yr.props,null,jr.mode,Hr),Hr.ref=zd(jr,null,yr),Hr.return=jr,Hr;case _:return yr=Jb(yr,jr.mode,Hr),yr.return=jr,yr;case fe:var Vn=yr._init;return jn(jr,Vn(yr._payload),Hr)}if(yt(yr)||ve(yr))return yr=wg(yr,jr.mode,Hr,null),yr.return=jr,yr;Df(jr,yr)}return null}function kn(jr,yr,Hr,Vn){var Ni=yr!==null?yr.key:null;if(typeof Hr=="string"&&Hr!==""||typeof Hr=="number")return Ni!==null?null:Ut(jr,yr,""+Hr,Vn);if(typeof Hr=="object"&&Hr!==null){switch(Hr.$$typeof){case E:return Hr.key===Ni?cr(jr,yr,Hr,Vn):null;case _:return Hr.key===Ni?tn(jr,yr,Hr,Vn):null;case fe:return Ni=Hr._init,kn(jr,yr,Ni(Hr._payload),Vn)}if(yt(Hr)||ve(Hr))return Ni!==null?null:Mn(jr,yr,Hr,Vn,null);Df(jr,Hr)}return null}function gi(jr,yr,Hr,Vn,Ni){if(typeof Vn=="string"&&Vn!==""||typeof Vn=="number")return jr=jr.get(Hr)||null,Ut(yr,jr,""+Vn,Ni);if(typeof Vn=="object"&&Vn!==null){switch(Vn.$$typeof){case E:return jr=jr.get(Vn.key===null?Hr:Vn.key)||null,cr(yr,jr,Vn,Ni);case _:return jr=jr.get(Vn.key===null?Hr:Vn.key)||null,tn(yr,jr,Vn,Ni);case fe:var na=Vn._init;return gi(jr,yr,Hr,na(Vn._payload),Ni)}if(yt(Vn)||ve(Vn))return jr=jr.get(Hr)||null,Mn(yr,jr,Vn,Ni,null);Df(yr,Vn)}return null}function Oi(jr,yr,Hr,Vn){for(var Ni=null,na=null,Ki=yr,da=yr=0,fc=null;Ki!==null&&da<Hr.length;da++){Ki.index>da?(fc=Ki,Ki=null):fc=Ki.sibling;var Vo=kn(jr,Ki,Hr[da],Vn);if(Vo===null){Ki===null&&(Ki=fc);break}C&&Ki&&Vo.alternate===null&&k(jr,Ki),yr=Te(Vo,yr,da),na===null?Ni=Vo:na.sibling=Vo,na=Vo,Ki=fc}if(da===Hr.length)return W(jr,Ki),Fo&&Of(jr,da),Ni;if(Ki===null){for(;da<Hr.length;da++)Ki=jn(jr,Hr[da],Vn),Ki!==null&&(yr=Te(Ki,yr,da),na===null?Ni=Ki:na.sibling=Ki,na=Ki);return Fo&&Of(jr,da),Ni}for(Ki=ee(jr,Ki);da<Hr.length;da++)fc=gi(Ki,jr,da,Hr[da],Vn),fc!==null&&(C&&fc.alternate!==null&&Ki.delete(fc.key===null?da:fc.key),yr=Te(fc,yr,da),na===null?Ni=fc:na.sibling=fc,na=fc);return C&&Ki.forEach(function(zp){return k(jr,zp)}),Fo&&Of(jr,da),Ni}function Li(jr,yr,Hr,Vn){var Ni=ve(Hr);if(typeof Ni!="function")throw Error(r(150));if(Hr=Ni.call(Hr),Hr==null)throw Error(r(151));for(var na=Ni=null,Ki=yr,da=yr=0,fc=null,Vo=Hr.next();Ki!==null&&!Vo.done;da++,Vo=Hr.next()){Ki.index>da?(fc=Ki,Ki=null):fc=Ki.sibling;var zp=kn(jr,Ki,Vo.value,Vn);if(zp===null){Ki===null&&(Ki=fc);break}C&&Ki&&zp.alternate===null&&k(jr,Ki),yr=Te(zp,yr,da),na===null?Ni=zp:na.sibling=zp,na=zp,Ki=fc}if(Vo.done)return W(jr,Ki),Fo&&Of(jr,da),Ni;if(Ki===null){for(;!Vo.done;da++,Vo=Hr.next())Vo=jn(jr,Vo.value,Vn),Vo!==null&&(yr=Te(Vo,yr,da),na===null?Ni=Vo:na.sibling=Vo,na=Vo);return Fo&&Of(jr,da),Ni}for(Ki=ee(jr,Ki);!Vo.done;da++,Vo=Hr.next())Vo=gi(Ki,jr,da,Vo.value,Vn),Vo!==null&&(C&&Vo.alternate!==null&&Ki.delete(Vo.key===null?da:Vo.key),yr=Te(Vo,yr,da),na===null?Ni=Vo:na.sibling=Vo,na=Vo);return C&&Ki.forEach(function(nE){return k(jr,nE)}),Fo&&Of(jr,da),Ni}function xl(jr,yr,Hr,Vn){if(typeof Hr=="object"&&Hr!==null&&Hr.type===R&&Hr.key===null&&(Hr=Hr.props.children),typeof Hr=="object"&&Hr!==null){switch(Hr.$$typeof){case E:e:{for(var Ni=Hr.key,na=yr;na!==null;){if(na.key===Ni){if(Ni=Hr.type,Ni===R){if(na.tag===7){W(jr,na.sibling),yr=me(na,Hr.props.children),yr.return=jr,jr=yr;break e}}else if(na.elementType===Ni||typeof Ni=="object"&&Ni!==null&&Ni.$$typeof===fe&&Nl(Ni)===na.type){W(jr,na.sibling),yr=me(na,Hr.props),yr.ref=zd(jr,na,Hr),yr.return=jr,jr=yr;break e}W(jr,na);break}else k(jr,na);na=na.sibling}Hr.type===R?(yr=wg(Hr.props.children,jr.mode,Vn,Hr.key),yr.return=jr,jr=yr):(Vn=_v(Hr.type,Hr.key,Hr.props,null,jr.mode,Vn),Vn.ref=zd(jr,yr,Hr),Vn.return=jr,jr=Vn)}return lt(jr);case _:e:{for(na=Hr.key;yr!==null;){if(yr.key===na)if(yr.tag===4&&yr.stateNode.containerInfo===Hr.containerInfo&&yr.stateNode.implementation===Hr.implementation){W(jr,yr.sibling),yr=me(yr,Hr.children||[]),yr.return=jr,jr=yr;break e}else{W(jr,yr);break}else k(jr,yr);yr=yr.sibling}yr=Jb(Hr,jr.mode,Vn),yr.return=jr,jr=yr}return lt(jr);case fe:return na=Hr._init,xl(jr,yr,na(Hr._payload),Vn)}if(yt(Hr))return Oi(jr,yr,Hr,Vn);if(ve(Hr))return Li(jr,yr,Hr,Vn);Df(jr,Hr)}return typeof Hr=="string"&&Hr!==""||typeof Hr=="number"?(Hr=""+Hr,yr!==null&&yr.tag===6?(W(jr,yr.sibling),yr=me(yr,Hr),yr.return=jr,jr=yr):(W(jr,yr),yr=Xb(Hr,jr.mode,Vn),yr.return=jr,jr=yr),lt(jr)):W(jr,yr)}return xl}var Gn=ph(!0),Di=ph(!1),dd=pu(null),yu=null,bl=null,ys=null;function Yc(){ys=bl=yu=null}function $u(C){var k=dd.current;us(dd),C._currentValue=k}function $l(C,k,W){for(;C!==null;){var ee=C.alternate;if((C.childLanes&k)!==k?(C.childLanes|=k,ee!==null&&(ee.childLanes|=k)):ee!==null&&(ee.childLanes&k)!==k&&(ee.childLanes|=k),C===W)break;C=C.return}}function zu(C,k){yu=C,ys=bl=null,C=C.dependencies,C!==null&&C.firstContext!==null&&((C.lanes&k)!==0&&(Or=!0),C.firstContext=null)}function ro(C){var k=C._currentValue;if(ys!==C)if(C={context:C,memoizedValue:k,next:null},bl===null){if(yu===null)throw Error(r(308));bl=C,yu.dependencies={lanes:0,firstContext:C}}else bl=bl.next=C;return k}var bo=null;function hd(C){bo===null?bo=[C]:bo.push(C)}function pd(C,k,W,ee){var me=k.interleaved;return me===null?(W.next=W,hd(k)):(W.next=me.next,me.next=W),k.interleaved=W,Oc(C,ee)}function Oc(C,k){C.lanes|=k;var W=C.alternate;for(W!==null&&(W.lanes|=k),W=C,C=C.return;C!==null;)C.childLanes|=k,W=C.alternate,W!==null&&(W.childLanes|=k),W=C,C=C.return;return W.tag===3?W.stateNode:null}var zl=!1;function tp(C){C.updateQueue={baseState:C.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(C,k){C=C.updateQueue,k.updateQueue===C&&(k.updateQueue={baseState:C.baseState,firstBaseUpdate:C.firstBaseUpdate,lastBaseUpdate:C.lastBaseUpdate,shared:C.shared,effects:C.effects})}function Ws(C,k){return{eventTime:C,lane:k,tag:0,payload:null,callback:null,next:null}}function lc(C,k,W){var ee=C.updateQueue;if(ee===null)return null;if(ee=ee.shared,(Ya&2)!==0){var me=ee.pending;return me===null?k.next=k:(k.next=me.next,me.next=k),ee.pending=k,Oc(C,W)}return me=ee.interleaved,me===null?(k.next=k,hd(ee)):(k.next=me.next,me.next=k),ee.interleaved=k,Oc(C,W)}function B(C,k,W){if(k=k.updateQueue,k!==null&&(k=k.shared,(W&4194240)!==0)){var ee=k.lanes;ee&=C.pendingLanes,W|=ee,k.lanes=W,Ol(C,W)}}function c(C,k){var W=C.updateQueue,ee=C.alternate;if(ee!==null&&(ee=ee.updateQueue,W===ee)){var me=null,Te=null;if(W=W.firstBaseUpdate,W!==null){do{var lt={eventTime:W.eventTime,lane:W.lane,tag:W.tag,payload:W.payload,callback:W.callback,next:null};Te===null?me=Te=lt:Te=Te.next=lt,W=W.next}while(W!==null);Te===null?me=Te=k:Te=Te.next=k}else me=Te=k;W={baseState:ee.baseState,firstBaseUpdate:me,lastBaseUpdate:Te,shared:ee.shared,effects:ee.effects},C.updateQueue=W;return}C=W.lastBaseUpdate,C===null?W.firstBaseUpdate=k:C.next=k,W.lastBaseUpdate=k}function g(C,k,W,ee){var me=C.updateQueue;zl=!1;var Te=me.firstBaseUpdate,lt=me.lastBaseUpdate,Ut=me.shared.pending;if(Ut!==null){me.shared.pending=null;var cr=Ut,tn=cr.next;cr.next=null,lt===null?Te=tn:lt.next=tn,lt=cr;var Mn=C.alternate;Mn!==null&&(Mn=Mn.updateQueue,Ut=Mn.lastBaseUpdate,Ut!==lt&&(Ut===null?Mn.firstBaseUpdate=tn:Ut.next=tn,Mn.lastBaseUpdate=cr))}if(Te!==null){var jn=me.baseState;lt=0,Mn=tn=cr=null,Ut=Te;do{var kn=Ut.lane,gi=Ut.eventTime;if((ee&kn)===kn){Mn!==null&&(Mn=Mn.next={eventTime:gi,lane:0,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null});e:{var Oi=C,Li=Ut;switch(kn=k,gi=W,Li.tag){case 1:if(Oi=Li.payload,typeof Oi=="function"){jn=Oi.call(gi,jn,kn);break e}jn=Oi;break e;case 3:Oi.flags=Oi.flags&-65537|128;case 0:if(Oi=Li.payload,kn=typeof Oi=="function"?Oi.call(gi,jn,kn):Oi,kn==null)break e;jn=le({},jn,kn);break e;case 2:zl=!0}}Ut.callback!==null&&Ut.lane!==0&&(C.flags|=64,kn=me.effects,kn===null?me.effects=[Ut]:kn.push(Ut))}else gi={eventTime:gi,lane:kn,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null},Mn===null?(tn=Mn=gi,cr=jn):Mn=Mn.next=gi,lt|=kn;if(Ut=Ut.next,Ut===null){if(Ut=me.shared.pending,Ut===null)break;kn=Ut,Ut=kn.next,kn.next=null,me.lastBaseUpdate=kn,me.shared.pending=null}}while(!0);if(Mn===null&&(cr=jn),me.baseState=cr,me.firstBaseUpdate=tn,me.lastBaseUpdate=Mn,k=me.shared.interleaved,k!==null){me=k;do lt|=me.lane,me=me.next;while(me!==k)}else Te===null&&(me.shared.lanes=0);ti|=lt,C.lanes=lt,C.memoizedState=jn}}function M(C,k,W){if(C=k.effects,k.effects=null,C!==null)for(k=0;k<C.length;k++){var ee=C[k],me=ee.callback;if(me!==null){if(ee.callback=null,ee=W,typeof me!="function")throw Error(r(191,me));me.call(ee)}}}var L={},j=pu(L),Y=pu(L),te=pu(L);function oe(C){if(C===L)throw Error(r(174));return C}function be(C,k){switch(Do(te,k),Do(Y,C),Do(j,L),C=k.nodeType,C){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:dr(null,"");break;default:C=C===8?k.parentNode:k,k=C.namespaceURI||null,C=C.tagName,k=dr(k,C)}us(j),Do(j,k)}function Ce(){us(j),us(Y),us(te)}function Fe(C){oe(te.current);var k=oe(j.current),W=dr(k,C.type);k!==W&&(Do(Y,C),Do(j,W))}function De(C){Y.current===C&&(us(j),us(Y))}var We=pu(0);function nt(C){for(var k=C;k!==null;){if(k.tag===13){var W=k.memoizedState;if(W!==null&&(W=W.dehydrated,W===null||W.data==="$?"||W.data==="$!"))return k}else if(k.tag===19&&k.memoizedProps.revealOrder!==void 0){if((k.flags&128)!==0)return k}else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===C)break;for(;k.sibling===null;){if(k.return===null||k.return===C)return null;k=k.return}k.sibling.return=k.return,k=k.sibling}return null}var Pt=[];function Ct(){for(var C=0;C<Pt.length;C++)Pt[C]._workInProgressVersionPrimary=null;Pt.length=0}var Rt=S.ReactCurrentDispatcher,Bt=S.ReactCurrentBatchConfig,Ht=0,$t=null,Wt=null,tr=null,nr=!1,kr=!1,Qr=0,_r=0;function $r(){throw Error(r(321))}function Jr(C,k){if(k===null)return!1;for(var W=0;W<k.length&&W<C.length;W++)if(!Zr(C[W],k[W]))return!1;return!0}function Dn(C,k,W,ee,me,Te){if(Ht=Te,$t=k,k.memoizedState=null,k.updateQueue=null,k.lanes=0,Rt.current=C===null||C.memoizedState===null?Xc:Dc,C=W(ee,me),kr){Te=0;do{if(kr=!1,Qr=0,25<=Te)throw Error(r(301));Te+=1,tr=Wt=null,k.updateQueue=null,Rt.current=ru,C=W(ee,me)}while(kr)}if(Rt.current=gd,k=Wt!==null&&Wt.next!==null,Ht=0,tr=Wt=$t=null,nr=!1,k)throw Error(r(300));return C}function In(){var C=Qr!==0;return Qr=0,C}function hn(){var C={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?$t.memoizedState=tr=C:tr=tr.next=C,tr}function Jn(){if(Wt===null){var C=$t.alternate;C=C!==null?C.memoizedState:null}else C=Wt.next;var k=tr===null?$t.memoizedState:tr.next;if(k!==null)tr=k,Wt=C;else{if(C===null)throw Error(r(310));Wt=C,C={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},tr===null?$t.memoizedState=tr=C:tr=tr.next=C}return tr}function Mi(C,k){return typeof k=="function"?k(C):k}function Ra(C){var k=Jn(),W=k.queue;if(W===null)throw Error(r(311));W.lastRenderedReducer=C;var ee=Wt,me=ee.baseQueue,Te=W.pending;if(Te!==null){if(me!==null){var lt=me.next;me.next=Te.next,Te.next=lt}ee.baseQueue=me=Te,W.pending=null}if(me!==null){Te=me.next,ee=ee.baseState;var Ut=lt=null,cr=null,tn=Te;do{var Mn=tn.lane;if((Ht&Mn)===Mn)cr!==null&&(cr=cr.next={lane:0,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null}),ee=tn.hasEagerState?tn.eagerState:C(ee,tn.action);else{var jn={lane:Mn,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null};cr===null?(Ut=cr=jn,lt=ee):cr=cr.next=jn,$t.lanes|=Mn,ti|=Mn}tn=tn.next}while(tn!==null&&tn!==Te);cr===null?lt=ee:cr.next=Ut,Zr(ee,k.memoizedState)||(Or=!0),k.memoizedState=ee,k.baseState=lt,k.baseQueue=cr,W.lastRenderedState=ee}if(C=W.interleaved,C!==null){me=C;do Te=me.lane,$t.lanes|=Te,ti|=Te,me=me.next;while(me!==C)}else me===null&&(W.lanes=0);return[k.memoizedState,W.dispatch]}function Ao(C){var k=Jn(),W=k.queue;if(W===null)throw Error(r(311));W.lastRenderedReducer=C;var ee=W.dispatch,me=W.pending,Te=k.memoizedState;if(me!==null){W.pending=null;var lt=me=me.next;do Te=C(Te,lt.action),lt=lt.next;while(lt!==me);Zr(Te,k.memoizedState)||(Or=!0),k.memoizedState=Te,k.baseQueue===null&&(k.baseState=Te),W.lastRenderedState=Te}return[Te,ee]}function ho(){}function es(C,k){var W=$t,ee=Jn(),me=k(),Te=!Zr(ee.memoizedState,me);if(Te&&(ee.memoizedState=me,Or=!0),ee=ee.queue,Gs(Aa.bind(null,W,ee,C),[C]),ee.getSnapshot!==k||Te||tr!==null&&tr.memoizedState.tag&1){if(W.flags|=2048,Fa(9,Da.bind(null,W,ee,me,k),void 0,null),Ms===null)throw Error(r(349));(Ht&30)!==0||cs(W,k,me)}return me}function cs(C,k,W){C.flags|=16384,C={getSnapshot:k,value:W},k=$t.updateQueue,k===null?(k={lastEffect:null,stores:null},$t.updateQueue=k,k.stores=[C]):(W=k.stores,W===null?k.stores=[C]:W.push(C))}function Da(C,k,W,ee){k.value=W,k.getSnapshot=ee,Is(k)&&nl(C)}function Aa(C,k,W){return W(function(){Is(k)&&nl(C)})}function Is(C){var k=C.getSnapshot;C=C.value;try{var W=k();return!Zr(C,W)}catch{return!0}}function nl(C){var k=Oc(C,1);k!==null&&Qc(k,C,1,-1)}function Vs(C){var k=hn();return typeof C=="function"&&(C=C()),k.memoizedState=k.baseState=C,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:C},k.queue=C,C=C.dispatch=Mp.bind(null,$t,C),[k.memoizedState,C]}function Fa(C,k,W,ee){return C={tag:C,create:k,destroy:W,deps:ee,next:null},k=$t.updateQueue,k===null?(k={lastEffect:null,stores:null},$t.updateQueue=k,k.lastEffect=C.next=C):(W=k.lastEffect,W===null?k.lastEffect=C.next=C:(ee=W.next,W.next=C,C.next=ee,k.lastEffect=C)),C}function tu(){return Jn().memoizedState}function Bu(C,k,W,ee){var me=hn();$t.flags|=C,me.memoizedState=Fa(1|k,W,void 0,ee===void 0?null:ee)}function Ic(C,k,W,ee){var me=Jn();ee=ee===void 0?null:ee;var Te=void 0;if(Wt!==null){var lt=Wt.memoizedState;if(Te=lt.destroy,ee!==null&&Jr(ee,lt.deps)){me.memoizedState=Fa(k,W,Te,ee);return}}$t.flags|=C,me.memoizedState=Fa(1|k,W,Te,ee)}function Ff(C,k){return Bu(8390656,8,C,k)}function Gs(C,k){return Ic(2048,8,C,k)}function Mc(C,k){return Ic(4,2,C,k)}function Bl(C,k){return Ic(4,4,C,k)}function bu(C,k){if(typeof k=="function")return C=C(),k(C),function(){k(null)};if(k!=null)return C=C(),k.current=C,function(){k.current=null}}function Lf(C,k,W){return W=W!=null?W.concat([C]):null,Ic(4,4,bu.bind(null,k,C),W)}function kc(){}function md(C,k){var W=Jn();k=k===void 0?null:k;var ee=W.memoizedState;return ee!==null&&k!==null&&Jr(k,ee[1])?ee[0]:(W.memoizedState=[C,k],C)}function Ks(C,k){var W=Jn();k=k===void 0?null:k;var ee=W.memoizedState;return ee!==null&&k!==null&&Jr(k,ee[1])?ee[0]:(C=C(),W.memoizedState=[C,k],C)}function Zs(C,k,W){return(Ht&21)===0?(C.baseState&&(C.baseState=!1,Or=!0),C.memoizedState=W):(Zr(W,k)||(W=ko(),$t.lanes|=W,ti|=W,C.baseState=!0),k)}function _u(C,k){var W=fa;fa=W!==0&&4>W?W:4,C(!0);var ee=Bt.transition;Bt.transition={};try{C(!1),k()}finally{fa=W,Bt.transition=ee}}function _o(){return Jn().memoizedState}function Tm(C,k,W){var ee=$f(C);if(W={lane:ee,action:W,hasEagerState:!1,eagerState:null,next:null},rp(C))ju(k,W);else if(W=pd(C,k,W,ee),W!==null){var me=iu();Qc(W,C,ee,me),uc(W,k,ee)}}function Mp(C,k,W){var ee=$f(C),me={lane:ee,action:W,hasEagerState:!1,eagerState:null,next:null};if(rp(C))ju(k,me);else{var Te=C.alternate;if(C.lanes===0&&(Te===null||Te.lanes===0)&&(Te=k.lastRenderedReducer,Te!==null))try{var lt=k.lastRenderedState,Ut=Te(lt,W);if(me.hasEagerState=!0,me.eagerState=Ut,Zr(Ut,lt)){var cr=k.interleaved;cr===null?(me.next=me,hd(k)):(me.next=cr.next,cr.next=me),k.interleaved=me;return}}catch{}finally{}W=pd(C,k,me,ee),W!==null&&(me=iu(),Qc(W,C,ee,me),uc(W,k,ee))}}function rp(C){var k=C.alternate;return C===$t||k!==null&&k===$t}function ju(C,k){kr=nr=!0;var W=C.pending;W===null?k.next=k:(k.next=W.next,W.next=k),C.pending=k}function uc(C,k,W){if((W&4194240)!==0){var ee=k.lanes;ee&=C.pendingLanes,W|=ee,k.lanes=W,Ol(C,W)}}var gd={readContext:ro,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},Xc={readContext:ro,useCallback:function(C,k){return hn().memoizedState=[C,k===void 0?null:k],C},useContext:ro,useEffect:Ff,useImperativeHandle:function(C,k,W){return W=W!=null?W.concat([C]):null,Bu(4194308,4,bu.bind(null,k,C),W)},useLayoutEffect:function(C,k){return Bu(4194308,4,C,k)},useInsertionEffect:function(C,k){return Bu(4,2,C,k)},useMemo:function(C,k){var W=hn();return k=k===void 0?null:k,C=C(),W.memoizedState=[C,k],C},useReducer:function(C,k,W){var ee=hn();return k=W!==void 0?W(k):k,ee.memoizedState=ee.baseState=k,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:C,lastRenderedState:k},ee.queue=C,C=C.dispatch=Tm.bind(null,$t,C),[ee.memoizedState,C]},useRef:function(C){var k=hn();return C={current:C},k.memoizedState=C},useState:Vs,useDebugValue:kc,useDeferredValue:function(C){return hn().memoizedState=C},useTransition:function(){var C=Vs(!1),k=C[0];return C=_u.bind(null,C[1]),hn().memoizedState=C,[k,C]},useMutableSource:function(){},useSyncExternalStore:function(C,k,W){var ee=$t,me=hn();if(Fo){if(W===void 0)throw Error(r(407));W=W()}else{if(W=k(),Ms===null)throw Error(r(349));(Ht&30)!==0||cs(ee,k,W)}me.memoizedState=W;var Te={value:W,getSnapshot:k};return me.queue=Te,Ff(Aa.bind(null,ee,Te,C),[C]),ee.flags|=2048,Fa(9,Da.bind(null,ee,Te,W,k),void 0,null),W},useId:function(){var C=hn(),k=Ms.identifierPrefix;if(Fo){var W=ta,ee=Zc;W=(ee&~(1<<32-qa(ee)-1)).toString(32)+W,k=":"+k+"R"+W,W=Qr++,0<W&&(k+="H"+W.toString(32)),k+=":"}else W=_r++,k=":"+k+"r"+W.toString(32)+":";return C.memoizedState=k},unstable_isNewReconciler:!1},Dc={readContext:ro,useCallback:md,useContext:ro,useEffect:Gs,useImperativeHandle:Lf,useInsertionEffect:Mc,useLayoutEffect:Bl,useMemo:Ks,useReducer:Ra,useRef:tu,useState:function(){return Ra(Mi)},useDebugValue:kc,useDeferredValue:function(C){var k=Jn();return Zs(k,Wt.memoizedState,C)},useTransition:function(){var C=Ra(Mi)[0],k=Jn().memoizedState;return[C,k]},useMutableSource:ho,useSyncExternalStore:es,useId:_o,unstable_isNewReconciler:!1},ru={readContext:ro,useCallback:md,useContext:ro,useEffect:Gs,useImperativeHandle:Lf,useInsertionEffect:Mc,useLayoutEffect:Bl,useMemo:Ks,useReducer:Ao,useRef:tu,useState:function(){return Ao(Mi)},useDebugValue:kc,useDeferredValue:function(C){var k=Jn();return Wt===null?k.memoizedState=C:Zs(k,Wt.memoizedState,C)},useTransition:function(){var C=Ao(Mi)[0],k=Jn().memoizedState;return[C,k]},useMutableSource:ho,useSyncExternalStore:es,useId:_o,unstable_isNewReconciler:!1};function il(C,k){if(C&&C.defaultProps){k=le({},k),C=C.defaultProps;for(var W in C)k[W]===void 0&&(k[W]=C[W]);return k}return k}function mh(C,k,W,ee){k=C.memoizedState,W=W(ee,k),W=W==null?k:le({},k,W),C.memoizedState=W,C.lanes===0&&(C.updateQueue.baseState=W)}var K={isMounted:function(C){return(C=C._reactInternals)?Fn(C)===C:!1},enqueueSetState:function(C,k,W){C=C._reactInternals;var ee=iu(),me=$f(C),Te=Ws(ee,me);Te.payload=k,W!=null&&(Te.callback=W),k=lc(C,Te,me),k!==null&&(Qc(k,C,me,ee),B(k,C,me))},enqueueReplaceState:function(C,k,W){C=C._reactInternals;var ee=iu(),me=$f(C),Te=Ws(ee,me);Te.tag=1,Te.payload=k,W!=null&&(Te.callback=W),k=lc(C,Te,me),k!==null&&(Qc(k,C,me,ee),B(k,C,me))},enqueueForceUpdate:function(C,k){C=C._reactInternals;var W=iu(),ee=$f(C),me=Ws(W,ee);me.tag=2,k!=null&&(me.callback=k),k=lc(C,me,ee),k!==null&&(Qc(k,C,ee,W),B(k,C,ee))}};function Q(C,k,W,ee,me,Te,lt){return C=C.stateNode,typeof C.shouldComponentUpdate=="function"?C.shouldComponentUpdate(ee,Te,lt):k.prototype&&k.prototype.isPureReactComponent?!li(W,ee)||!li(me,Te):!0}function ie(C,k,W){var ee=!1,me=ic,Te=k.contextType;return typeof Te=="object"&&Te!==null?Te=ro(Te):(me=Hs(k)?Fl:Dl.current,ee=k.contextTypes,Te=(ee=ee!=null)?ac(C,me):ic),k=new k(W,Te),C.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=K,C.stateNode=k,k._reactInternals=C,ee&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=me,C.__reactInternalMemoizedMaskedChildContext=Te),k}function xe(C,k,W,ee){C=k.state,typeof k.componentWillReceiveProps=="function"&&k.componentWillReceiveProps(W,ee),typeof k.UNSAFE_componentWillReceiveProps=="function"&&k.UNSAFE_componentWillReceiveProps(W,ee),k.state!==C&&K.enqueueReplaceState(k,k.state,null)}function ye(C,k,W,ee){var me=C.stateNode;me.props=W,me.state=C.memoizedState,me.refs={},tp(C);var Te=k.contextType;typeof Te=="object"&&Te!==null?me.context=ro(Te):(Te=Hs(k)?Fl:Dl.current,me.context=ac(C,Te)),me.state=C.memoizedState,Te=k.getDerivedStateFromProps,typeof Te=="function"&&(mh(C,k,Te,W),me.state=C.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof me.getSnapshotBeforeUpdate=="function"||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(k=me.state,typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount(),k!==me.state&&K.enqueueReplaceState(me,me.state,null),g(C,W,me,ee),me.state=C.memoizedState),typeof me.componentDidMount=="function"&&(C.flags|=4194308)}function Oe(C,k){try{var W="",ee=k;do W+=Ge(ee),ee=ee.return;while(ee);var me=W}catch(Te){me=`
Error generating stack: `+Te.message+`
`+Te.stack}return{value:C,source:k,stack:me,digest:null}}function Ne(C,k,W){return{value:C,source:null,stack:W??null,digest:k??null}}function Qe(C,k){try{console.error(k.value)}catch(W){setTimeout(function(){throw W})}}var Ve=typeof WeakMap=="function"?WeakMap:Map;function ht(C,k,W){W=Ws(-1,W),W.tag=3,W.payload={element:null};var ee=k.value;return W.callback=function(){wa||(wa=!0,$o=ee),Qe(C,k)},W}function zt(C,k,W){W=Ws(-1,W),W.tag=3;var ee=C.type.getDerivedStateFromError;if(typeof ee=="function"){var me=k.value;W.payload=function(){return ee(me)},W.callback=function(){Qe(C,k)}}var Te=C.stateNode;return Te!==null&&typeof Te.componentDidCatch=="function"&&(W.callback=function(){Qe(C,k),typeof ee!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var lt=k.stack;this.componentDidCatch(k.value,{componentStack:lt!==null?lt:""})}),W}function er(C,k,W){var ee=C.pingCache;if(ee===null){ee=C.pingCache=new Ve;var me=new Set;ee.set(k,me)}else me=ee.get(k),me===void 0&&(me=new Set,ee.set(k,me));me.has(W)||(me.add(W),C=rE.bind(null,C,k,W),k.then(C,C))}function ur(C){do{var k;if((k=C.tag===13)&&(k=C.memoizedState,k=k!==null?k.dehydrated!==null:!0),k)return C;C=C.return}while(C!==null);return null}function Xt(C,k,W,ee,me){return(C.mode&1)===0?(C===k?C.flags|=65536:(C.flags|=128,W.flags|=131072,W.flags&=-52805,W.tag===1&&(W.alternate===null?W.tag=17:(k=Ws(-1,1),k.tag=2,lc(W,k,1))),W.lanes|=1),C):(C.flags|=65536,C.lanes=me,C)}var Er=S.ReactCurrentOwner,Or=!1;function Br(C,k,W,ee){k.child=C===null?Di(k,null,W,ee):Gn(k,C.child,W,ee)}function Xr(C,k,W,ee,me){W=W.render;var Te=k.ref;return zu(k,me),ee=Dn(C,k,W,ee,Te,me),W=In(),C!==null&&!Or?(k.updateQueue=C.updateQueue,k.flags&=-2053,C.lanes&=~me,ol(C,k,me)):(Fo&&W&&$d(k),k.flags|=1,Br(C,k,ee,me),k.child)}function pn(C,k,W,ee,me){if(C===null){var Te=W.type;return typeof Te=="function"&&!R0(Te)&&Te.defaultProps===void 0&&W.compare===null&&W.defaultProps===void 0?(k.tag=15,k.type=Te,on(C,k,Te,ee,me)):(C=_v(W.type,null,ee,k,k.mode,me),C.ref=k.ref,C.return=k,k.child=C)}if(Te=C.child,(C.lanes&me)===0){var lt=Te.memoizedProps;if(W=W.compare,W=W!==null?W:li,W(lt,ee)&&C.ref===k.ref)return ol(C,k,me)}return k.flags|=1,C=bd(Te,ee),C.ref=k.ref,C.return=k,k.child=C}function on(C,k,W,ee,me){if(C!==null){var Te=C.memoizedProps;if(li(Te,ee)&&C.ref===k.ref)if(Or=!1,k.pendingProps=ee=Te,(C.lanes&me)!==0)(C.flags&131072)!==0&&(Or=!0);else return k.lanes=C.lanes,ol(C,k,me)}return xr(C,k,W,ee,me)}function oi(C,k,W){var ee=k.pendingProps,me=ee.children,Te=C!==null?C.memoizedState:null;if(ee.mode==="hidden")if((k.mode&1)===0)k.memoizedState={baseLanes:0,cachePool:null,transitions:null},Do(Dr,sr),sr|=W;else{if((W&1073741824)===0)return C=Te!==null?Te.baseLanes|W:W,k.lanes=k.childLanes=1073741824,k.memoizedState={baseLanes:C,cachePool:null,transitions:null},k.updateQueue=null,Do(Dr,sr),sr|=C,null;k.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee=Te!==null?Te.baseLanes:W,Do(Dr,sr),sr|=ee}else Te!==null?(ee=Te.baseLanes|W,k.memoizedState=null):ee=W,Do(Dr,sr),sr|=ee;return Br(C,k,me,W),k.child}function en(C,k){var W=k.ref;(C===null&&W!==null||C!==null&&C.ref!==W)&&(k.flags|=512,k.flags|=2097152)}function xr(C,k,W,ee,me){var Te=Hs(W)?Fl:Dl.current;return Te=ac(k,Te),zu(k,me),W=Dn(C,k,W,ee,Te,me),ee=In(),C!==null&&!Or?(k.updateQueue=C.updateQueue,k.flags&=-2053,C.lanes&=~me,ol(C,k,me)):(Fo&&ee&&$d(k),k.flags|=1,Br(C,k,W,me),k.child)}function Kn(C,k,W,ee,me){if(Hs(W)){var Te=!0;Cs(k)}else Te=!1;if(zu(k,me),k.stateNode===null)Ho(C,k),ie(k,W,ee),ye(k,W,ee,me),ee=!0;else if(C===null){var lt=k.stateNode,Ut=k.memoizedProps;lt.props=Ut;var cr=lt.context,tn=W.contextType;typeof tn=="object"&&tn!==null?tn=ro(tn):(tn=Hs(W)?Fl:Dl.current,tn=ac(k,tn));var Mn=W.getDerivedStateFromProps,jn=typeof Mn=="function"||typeof lt.getSnapshotBeforeUpdate=="function";jn||typeof lt.UNSAFE_componentWillReceiveProps!="function"&&typeof lt.componentWillReceiveProps!="function"||(Ut!==ee||cr!==tn)&&xe(k,lt,ee,tn),zl=!1;var kn=k.memoizedState;lt.state=kn,g(k,ee,lt,me),cr=k.memoizedState,Ut!==ee||kn!==cr||Jl.current||zl?(typeof Mn=="function"&&(mh(k,W,Mn,ee),cr=k.memoizedState),(Ut=zl||Q(k,W,Ut,ee,kn,cr,tn))?(jn||typeof lt.UNSAFE_componentWillMount!="function"&&typeof lt.componentWillMount!="function"||(typeof lt.componentWillMount=="function"&&lt.componentWillMount(),typeof lt.UNSAFE_componentWillMount=="function"&&lt.UNSAFE_componentWillMount()),typeof lt.componentDidMount=="function"&&(k.flags|=4194308)):(typeof lt.componentDidMount=="function"&&(k.flags|=4194308),k.memoizedProps=ee,k.memoizedState=cr),lt.props=ee,lt.state=cr,lt.context=tn,ee=Ut):(typeof lt.componentDidMount=="function"&&(k.flags|=4194308),ee=!1)}else{lt=k.stateNode,Pm(C,k),Ut=k.memoizedProps,tn=k.type===k.elementType?Ut:il(k.type,Ut),lt.props=tn,jn=k.pendingProps,kn=lt.context,cr=W.contextType,typeof cr=="object"&&cr!==null?cr=ro(cr):(cr=Hs(W)?Fl:Dl.current,cr=ac(k,cr));var gi=W.getDerivedStateFromProps;(Mn=typeof gi=="function"||typeof lt.getSnapshotBeforeUpdate=="function")||typeof lt.UNSAFE_componentWillReceiveProps!="function"&&typeof lt.componentWillReceiveProps!="function"||(Ut!==jn||kn!==cr)&&xe(k,lt,ee,cr),zl=!1,kn=k.memoizedState,lt.state=kn,g(k,ee,lt,me);var Oi=k.memoizedState;Ut!==jn||kn!==Oi||Jl.current||zl?(typeof gi=="function"&&(mh(k,W,gi,ee),Oi=k.memoizedState),(tn=zl||Q(k,W,tn,ee,kn,Oi,cr)||!1)?(Mn||typeof lt.UNSAFE_componentWillUpdate!="function"&&typeof lt.componentWillUpdate!="function"||(typeof lt.componentWillUpdate=="function"&&lt.componentWillUpdate(ee,Oi,cr),typeof lt.UNSAFE_componentWillUpdate=="function"&&lt.UNSAFE_componentWillUpdate(ee,Oi,cr)),typeof lt.componentDidUpdate=="function"&&(k.flags|=4),typeof lt.getSnapshotBeforeUpdate=="function"&&(k.flags|=1024)):(typeof lt.componentDidUpdate!="function"||Ut===C.memoizedProps&&kn===C.memoizedState||(k.flags|=4),typeof lt.getSnapshotBeforeUpdate!="function"||Ut===C.memoizedProps&&kn===C.memoizedState||(k.flags|=1024),k.memoizedProps=ee,k.memoizedState=Oi),lt.props=ee,lt.state=Oi,lt.context=cr,ee=tn):(typeof lt.componentDidUpdate!="function"||Ut===C.memoizedProps&&kn===C.memoizedState||(k.flags|=4),typeof lt.getSnapshotBeforeUpdate!="function"||Ut===C.memoizedProps&&kn===C.memoizedState||(k.flags|=1024),ee=!1)}return Nn(C,k,W,ee,Te,me)}function Nn(C,k,W,ee,me,Te){en(C,k);var lt=(k.flags&128)!==0;if(!ee&&!lt)return me&&dh(k,W,!1),ol(C,k,Te);ee=k.stateNode,Er.current=k;var Ut=lt&&typeof W.getDerivedStateFromError!="function"?null:ee.render();return k.flags|=1,C!==null&&lt?(k.child=Gn(k,C.child,null,Te),k.child=Gn(k,null,Ut,Te)):Br(C,k,Ut,Te),k.memoizedState=ee.state,me&&dh(k,W,!0),k.child}function ei(C){var k=C.stateNode;k.pendingContext?Gc(C,k.pendingContext,k.pendingContext!==k.context):k.context&&Gc(C,k.context,!1),be(C,k.containerInfo)}function Vi(C,k,W,ee,me){return Ac(),df(me),k.flags|=256,Br(C,k,W,ee),k.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function al(C){return{baseLanes:C,cachePool:null,transitions:null}}function Wa(C,k,W){var ee=k.pendingProps,me=We.current,Te=!1,lt=(k.flags&128)!==0,Ut;if((Ut=lt)||(Ut=C!==null&&C.memoizedState===null?!1:(me&2)!==0),Ut?(Te=!0,k.flags&=-129):(C===null||C.memoizedState!==null)&&(me|=1),Do(We,me&1),C===null)return sc(k),C=k.memoizedState,C!==null&&(C=C.dehydrated,C!==null)?((k.mode&1)===0?k.lanes=1:C.data==="$!"?k.lanes=8:k.lanes=1073741824,null):(lt=ee.children,C=ee.fallback,Te?(ee=k.mode,Te=k.child,lt={mode:"hidden",children:lt},(ee&1)===0&&Te!==null?(Te.childLanes=0,Te.pendingProps=lt):Te=A0(lt,ee,0,null),C=wg(C,ee,W,null),Te.return=k,C.return=k,Te.sibling=C,k.child=Te,k.child.memoizedState=al(W),k.memoizedState=ja,C):po(k,lt));if(me=C.memoizedState,me!==null&&(Ut=me.dehydrated,Ut!==null))return Qn(C,k,lt,ee,Ut,me,W);if(Te){Te=ee.fallback,lt=k.mode,me=C.child,Ut=me.sibling;var cr={mode:"hidden",children:ee.children};return(lt&1)===0&&k.child!==me?(ee=k.child,ee.childLanes=0,ee.pendingProps=cr,k.deletions=null):(ee=bd(me,cr),ee.subtreeFlags=me.subtreeFlags&14680064),Ut!==null?Te=bd(Ut,Te):(Te=wg(Te,lt,W,null),Te.flags|=2),Te.return=k,ee.return=k,ee.sibling=Te,k.child=ee,ee=Te,Te=k.child,lt=C.child.memoizedState,lt=lt===null?al(W):{baseLanes:lt.baseLanes|W,cachePool:null,transitions:lt.transitions},Te.memoizedState=lt,Te.childLanes=C.childLanes&~W,k.memoizedState=ja,ee}return Te=C.child,C=Te.sibling,ee=bd(Te,{mode:"visible",children:ee.children}),(k.mode&1)===0&&(ee.lanes=W),ee.return=k,ee.sibling=null,C!==null&&(W=k.deletions,W===null?(k.deletions=[C],k.flags|=16):W.push(C)),k.child=ee,k.memoizedState=null,ee}function po(C,k){return k=A0({mode:"visible",children:k},C.mode,0,null),k.return=C,C.child=k}function bs(C,k,W,ee){return ee!==null&&df(ee),Gn(k,C.child,null,W),C=po(k,k.pendingProps.children),C.flags|=2,k.memoizedState=null,C}function Qn(C,k,W,ee,me,Te,lt){if(W)return k.flags&256?(k.flags&=-257,ee=Ne(Error(r(422))),bs(C,k,lt,ee)):k.memoizedState!==null?(k.child=C.child,k.flags|=128,null):(Te=ee.fallback,me=k.mode,ee=A0({mode:"visible",children:ee.children},me,0,null),Te=wg(Te,me,lt,null),Te.flags|=2,ee.return=k,Te.return=k,ee.sibling=Te,k.child=ee,(k.mode&1)!==0&&Gn(k,C.child,null,lt),k.child.memoizedState=al(lt),k.memoizedState=ja,Te);if((k.mode&1)===0)return bs(C,k,lt,null);if(me.data==="$!"){if(ee=me.nextSibling&&me.nextSibling.dataset,ee)var Ut=ee.dgst;return ee=Ut,Te=Error(r(419)),ee=Ne(Te,ee,void 0),bs(C,k,lt,ee)}if(Ut=(lt&C.childLanes)!==0,Or||Ut){if(ee=Ms,ee!==null){switch(lt&-lt){case 4:me=2;break;case 16:me=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:me=32;break;case 536870912:me=268435456;break;default:me=0}me=(me&(ee.suspendedLanes|lt))!==0?0:me,me!==0&&me!==Te.retryLane&&(Te.retryLane=me,Oc(C,me),Qc(ee,C,me,-1))}return C0(),ee=Ne(Error(r(421))),bs(C,k,lt,ee)}return me.data==="$?"?(k.flags|=128,k.child=C.child,k=Cy.bind(null,C),me._reactRetry=k,null):(C=Te.treeContext,eu=rl(me.nextSibling),Ll=k,Fo=!0,vu=null,C!==null&&(Tc[Ql++]=Zc,Tc[Ql++]=ta,Tc[Ql++]=Kc,Zc=C.id,ta=C.overflow,Kc=k),k=po(k,ee.children),k.flags|=4096,k)}function Uu(C,k,W){C.lanes|=k;var ee=C.alternate;ee!==null&&(ee.lanes|=k),$l(C.return,k,W)}function qu(C,k,W,ee,me){var Te=C.memoizedState;Te===null?C.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:ee,tail:W,tailMode:me}:(Te.isBackwards=k,Te.rendering=null,Te.renderingStartTime=0,Te.last=ee,Te.tail=W,Te.tailMode=me)}function zs(C,k,W){var ee=k.pendingProps,me=ee.revealOrder,Te=ee.tail;if(Br(C,k,ee.children,W),ee=We.current,(ee&2)!==0)ee=ee&1|2,k.flags|=128;else{if(C!==null&&(C.flags&128)!==0)e:for(C=k.child;C!==null;){if(C.tag===13)C.memoizedState!==null&&Uu(C,W,k);else if(C.tag===19)Uu(C,W,k);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===k)break e;for(;C.sibling===null;){if(C.return===null||C.return===k)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}ee&=1}if(Do(We,ee),(k.mode&1)===0)k.memoizedState=null;else switch(me){case"forwards":for(W=k.child,me=null;W!==null;)C=W.alternate,C!==null&&nt(C)===null&&(me=W),W=W.sibling;W=me,W===null?(me=k.child,k.child=null):(me=W.sibling,W.sibling=null),qu(k,!1,me,W,Te);break;case"backwards":for(W=null,me=k.child,k.child=null;me!==null;){if(C=me.alternate,C!==null&&nt(C)===null){k.child=me;break}C=me.sibling,me.sibling=W,W=me,me=C}qu(k,!0,W,null,Te);break;case"together":qu(k,!1,null,null,void 0);break;default:k.memoizedState=null}return k.child}function Ho(C,k){(k.mode&1)===0&&C!==null&&(C.alternate=null,k.alternate=null,k.flags|=2)}function ol(C,k,W){if(C!==null&&(k.dependencies=C.dependencies),ti|=k.lanes,(W&k.childLanes)===0)return null;if(C!==null&&k.child!==C.child)throw Error(r(153));if(k.child!==null){for(C=k.child,W=bd(C,C.pendingProps),k.child=W,W.return=k;C.sibling!==null;)C=C.sibling,W=W.sibling=bd(C,C.pendingProps),W.return=k;W.sibling=null}return k.child}function np(C,k,W){switch(k.tag){case 3:ei(k),Ac();break;case 5:Fe(k);break;case 1:Hs(k.type)&&Cs(k);break;case 4:be(k,k.stateNode.containerInfo);break;case 10:var ee=k.type._context,me=k.memoizedProps.value;Do(dd,ee._currentValue),ee._currentValue=me;break;case 13:if(ee=k.memoizedState,ee!==null)return ee.dehydrated!==null?(Do(We,We.current&1),k.flags|=128,null):(W&k.child.childLanes)!==0?Wa(C,k,W):(Do(We,We.current&1),C=ol(C,k,W),C!==null?C.sibling:null);Do(We,We.current&1);break;case 19:if(ee=(W&k.childLanes)!==0,(C.flags&128)!==0){if(ee)return zs(C,k,W);k.flags|=128}if(me=k.memoizedState,me!==null&&(me.rendering=null,me.tail=null,me.lastEffect=null),Do(We,We.current),ee)break;return null;case 22:case 23:return k.lanes=0,oi(C,k,W)}return ol(C,k,W)}var Ps,Bd,mg,gh;Ps=function(C,k){for(var W=k.child;W!==null;){if(W.tag===5||W.tag===6)C.appendChild(W.stateNode);else if(W.tag!==4&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===k)break;for(;W.sibling===null;){if(W.return===null||W.return===k)return;W=W.return}W.sibling.return=W.return,W=W.sibling}},Bd=function(){},mg=function(C,k,W,ee){var me=C.memoizedProps;if(me!==ee){C=k.stateNode,oe(j.current);var Te=null;switch(W){case"input":me=he(C,me),ee=he(C,ee),Te=[];break;case"select":me=le({},me,{value:void 0}),ee=le({},ee,{value:void 0}),Te=[];break;case"textarea":me=At(C,me),ee=At(C,ee),Te=[];break;default:typeof me.onClick!="function"&&typeof ee.onClick=="function"&&(C.onclick=Cc)}Me(W,ee);var lt;W=null;for(tn in me)if(!ee.hasOwnProperty(tn)&&me.hasOwnProperty(tn)&&me[tn]!=null)if(tn==="style"){var Ut=me[tn];for(lt in Ut)Ut.hasOwnProperty(lt)&&(W||(W={}),W[lt]="")}else tn!=="dangerouslySetInnerHTML"&&tn!=="children"&&tn!=="suppressContentEditableWarning"&&tn!=="suppressHydrationWarning"&&tn!=="autoFocus"&&(i.hasOwnProperty(tn)?Te||(Te=[]):(Te=Te||[]).push(tn,null));for(tn in ee){var cr=ee[tn];if(Ut=me!=null?me[tn]:void 0,ee.hasOwnProperty(tn)&&cr!==Ut&&(cr!=null||Ut!=null))if(tn==="style")if(Ut){for(lt in Ut)!Ut.hasOwnProperty(lt)||cr&&cr.hasOwnProperty(lt)||(W||(W={}),W[lt]="");for(lt in cr)cr.hasOwnProperty(lt)&&Ut[lt]!==cr[lt]&&(W||(W={}),W[lt]=cr[lt])}else W||(Te||(Te=[]),Te.push(tn,W)),W=cr;else tn==="dangerouslySetInnerHTML"?(cr=cr?cr.__html:void 0,Ut=Ut?Ut.__html:void 0,cr!=null&&Ut!==cr&&(Te=Te||[]).push(tn,cr)):tn==="children"?typeof cr!="string"&&typeof cr!="number"||(Te=Te||[]).push(tn,""+cr):tn!=="suppressContentEditableWarning"&&tn!=="suppressHydrationWarning"&&(i.hasOwnProperty(tn)?(cr!=null&&tn==="onScroll"&&ls("scroll",C),Te||Ut===cr||(Te=[])):(Te=Te||[]).push(tn,cr))}W&&(Te=Te||[]).push("style",W);var tn=Te;(k.updateQueue=tn)&&(k.flags|=4)}},gh=function(C,k,W,ee){W!==ee&&(k.flags|=4)};function gg(C,k){if(!Fo)switch(C.tailMode){case"hidden":k=C.tail;for(var W=null;k!==null;)k.alternate!==null&&(W=k),k=k.sibling;W===null?C.tail=null:W.sibling=null;break;case"collapsed":W=C.tail;for(var ee=null;W!==null;)W.alternate!==null&&(ee=W),W=W.sibling;ee===null?k||C.tail===null?C.tail=null:C.tail.sibling=null:ee.sibling=null}}function Hu(C){var k=C.alternate!==null&&C.alternate.child===C.child,W=0,ee=0;if(k)for(var me=C.child;me!==null;)W|=me.lanes|me.childLanes,ee|=me.subtreeFlags&14680064,ee|=me.flags&14680064,me.return=C,me=me.sibling;else for(me=C.child;me!==null;)W|=me.lanes|me.childLanes,ee|=me.subtreeFlags,ee|=me.flags,me.return=C,me=me.sibling;return C.subtreeFlags|=ee,C.childLanes=W,k}function wy(C,k,W){var ee=k.pendingProps;switch(If(k),k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(k),null;case 1:return Hs(k.type)&&Es(),Hu(k),null;case 3:return ee=k.stateNode,Ce(),us(Jl),us(Dl),Ct(),ee.pendingContext&&(ee.context=ee.pendingContext,ee.pendingContext=null),(C===null||C.child===null)&&(Ro(k)?k.flags|=4:C===null||C.memoizedState.isDehydrated&&(k.flags&256)===0||(k.flags|=1024,vu!==null&&(Su(vu),vu=null))),Bd(C,k),Hu(k),null;case 5:De(k);var me=oe(te.current);if(W=k.type,C!==null&&k.stateNode!=null)mg(C,k,W,ee,me),C.ref!==k.ref&&(k.flags|=512,k.flags|=2097152);else{if(!ee){if(k.stateNode===null)throw Error(r(166));return Hu(k),null}if(C=oe(j.current),Ro(k)){ee=k.stateNode,W=k.type;var Te=k.memoizedProps;switch(ee[Lu]=k,ee[kl]=Te,C=(k.mode&1)!==0,W){case"dialog":ls("cancel",ee),ls("close",ee);break;case"iframe":case"object":case"embed":ls("load",ee);break;case"video":case"audio":for(me=0;me<Ec.length;me++)ls(Ec[me],ee);break;case"source":ls("error",ee);break;case"img":case"image":case"link":ls("error",ee),ls("load",ee);break;case"details":ls("toggle",ee);break;case"input":ut(ee,Te),ls("invalid",ee);break;case"select":ee._wrapperState={wasMultiple:!!Te.multiple},ls("invalid",ee);break;case"textarea":hr(ee,Te),ls("invalid",ee)}Me(W,Te),me=null;for(var lt in Te)if(Te.hasOwnProperty(lt)){var Ut=Te[lt];lt==="children"?typeof Ut=="string"?ee.textContent!==Ut&&(Te.suppressHydrationWarning!==!0&&ep(ee.textContent,Ut,C),me=["children",Ut]):typeof Ut=="number"&&ee.textContent!==""+Ut&&(Te.suppressHydrationWarning!==!0&&ep(ee.textContent,Ut,C),me=["children",""+Ut]):i.hasOwnProperty(lt)&&Ut!=null&&lt==="onScroll"&&ls("scroll",ee)}switch(W){case"input":ft(ee),rt(ee,Te,!0);break;case"textarea":ft(ee),fr(ee);break;case"select":case"option":break;default:typeof Te.onClick=="function"&&(ee.onclick=Cc)}ee=me,k.updateQueue=ee,ee!==null&&(k.flags|=4)}else{lt=me.nodeType===9?me:me.ownerDocument,C==="http://www.w3.org/1999/xhtml"&&(C=Dt(W)),C==="http://www.w3.org/1999/xhtml"?W==="script"?(C=lt.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild)):typeof ee.is=="string"?C=lt.createElement(W,{is:ee.is}):(C=lt.createElement(W),W==="select"&&(lt=C,ee.multiple?lt.multiple=!0:ee.size&&(lt.size=ee.size))):C=lt.createElementNS(C,W),C[Lu]=k,C[kl]=ee,Ps(C,k,!1,!1),k.stateNode=C;e:{switch(lt=Le(W,ee),W){case"dialog":ls("cancel",C),ls("close",C),me=ee;break;case"iframe":case"object":case"embed":ls("load",C),me=ee;break;case"video":case"audio":for(me=0;me<Ec.length;me++)ls(Ec[me],C);me=ee;break;case"source":ls("error",C),me=ee;break;case"img":case"image":case"link":ls("error",C),ls("load",C),me=ee;break;case"details":ls("toggle",C),me=ee;break;case"input":ut(C,ee),me=he(C,ee),ls("invalid",C);break;case"option":me=ee;break;case"select":C._wrapperState={wasMultiple:!!ee.multiple},me=le({},ee,{value:void 0}),ls("invalid",C);break;case"textarea":hr(C,ee),me=At(C,ee),ls("invalid",C);break;default:me=ee}Me(W,me),Ut=me;for(Te in Ut)if(Ut.hasOwnProperty(Te)){var cr=Ut[Te];Te==="style"?ot(C,cr):Te==="dangerouslySetInnerHTML"?(cr=cr?cr.__html:void 0,cr!=null&&gr(C,cr)):Te==="children"?typeof cr=="string"?(W!=="textarea"||cr!=="")&&wr(C,cr):typeof cr=="number"&&wr(C,""+cr):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(i.hasOwnProperty(Te)?cr!=null&&Te==="onScroll"&&ls("scroll",C):cr!=null&&P(C,Te,cr,lt))}switch(W){case"input":ft(C),rt(C,ee,!1);break;case"textarea":ft(C),fr(C);break;case"option":ee.value!=null&&C.setAttribute("value",""+we(ee.value));break;case"select":C.multiple=!!ee.multiple,Te=ee.value,Te!=null?Vt(C,!!ee.multiple,Te,!1):ee.defaultValue!=null&&Vt(C,!!ee.multiple,ee.defaultValue,!0);break;default:typeof me.onClick=="function"&&(C.onclick=Cc)}switch(W){case"button":case"input":case"select":case"textarea":ee=!!ee.autoFocus;break e;case"img":ee=!0;break e;default:ee=!1}}ee&&(k.flags|=4)}k.ref!==null&&(k.flags|=512,k.flags|=2097152)}return Hu(k),null;case 6:if(C&&k.stateNode!=null)gh(C,k,C.memoizedProps,ee);else{if(typeof ee!="string"&&k.stateNode===null)throw Error(r(166));if(W=oe(te.current),oe(j.current),Ro(k)){if(ee=k.stateNode,W=k.memoizedProps,ee[Lu]=k,(Te=ee.nodeValue!==W)&&(C=Ll,C!==null))switch(C.tag){case 3:ep(ee.nodeValue,W,(C.mode&1)!==0);break;case 5:C.memoizedProps.suppressHydrationWarning!==!0&&ep(ee.nodeValue,W,(C.mode&1)!==0)}Te&&(k.flags|=4)}else ee=(W.nodeType===9?W:W.ownerDocument).createTextNode(ee),ee[Lu]=k,k.stateNode=ee}return Hu(k),null;case 13:if(us(We),ee=k.memoizedState,C===null||C.memoizedState!==null&&C.memoizedState.dehydrated!==null){if(Fo&&eu!==null&&(k.mode&1)!==0&&(k.flags&128)===0)fd(),Ac(),k.flags|=98560,Te=!1;else if(Te=Ro(k),ee!==null&&ee.dehydrated!==null){if(C===null){if(!Te)throw Error(r(318));if(Te=k.memoizedState,Te=Te!==null?Te.dehydrated:null,!Te)throw Error(r(317));Te[Lu]=k}else Ac(),(k.flags&128)===0&&(k.memoizedState=null),k.flags|=4;Hu(k),Te=!1}else vu!==null&&(Su(vu),vu=null),Te=!0;if(!Te)return k.flags&65536?k:null}return(k.flags&128)!==0?(k.lanes=W,k):(ee=ee!==null,ee!==(C!==null&&C.memoizedState!==null)&&ee&&(k.child.flags|=8192,(k.mode&1)!==0&&(C===null||(We.current&1)!==0?Gr===0&&(Gr=3):C0())),k.updateQueue!==null&&(k.flags|=4),Hu(k),null);case 4:return Ce(),Bd(C,k),C===null&&sf(k.stateNode.containerInfo),Hu(k),null;case 10:return $u(k.type._context),Hu(k),null;case 17:return Hs(k.type)&&Es(),Hu(k),null;case 19:if(us(We),Te=k.memoizedState,Te===null)return Hu(k),null;if(ee=(k.flags&128)!==0,lt=Te.rendering,lt===null)if(ee)gg(Te,!1);else{if(Gr!==0||C!==null&&(C.flags&128)!==0)for(C=k.child;C!==null;){if(lt=nt(C),lt!==null){for(k.flags|=128,gg(Te,!1),ee=lt.updateQueue,ee!==null&&(k.updateQueue=ee,k.flags|=4),k.subtreeFlags=0,ee=W,W=k.child;W!==null;)Te=W,C=ee,Te.flags&=14680066,lt=Te.alternate,lt===null?(Te.childLanes=0,Te.lanes=C,Te.child=null,Te.subtreeFlags=0,Te.memoizedProps=null,Te.memoizedState=null,Te.updateQueue=null,Te.dependencies=null,Te.stateNode=null):(Te.childLanes=lt.childLanes,Te.lanes=lt.lanes,Te.child=lt.child,Te.subtreeFlags=0,Te.deletions=null,Te.memoizedProps=lt.memoizedProps,Te.memoizedState=lt.memoizedState,Te.updateQueue=lt.updateQueue,Te.type=lt.type,C=lt.dependencies,Te.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),W=W.sibling;return Do(We,We.current&1|2),k.child}C=C.sibling}Te.tail!==null&&ci()>ra&&(k.flags|=128,ee=!0,gg(Te,!1),k.lanes=4194304)}else{if(!ee)if(C=nt(lt),C!==null){if(k.flags|=128,ee=!0,W=C.updateQueue,W!==null&&(k.updateQueue=W,k.flags|=4),gg(Te,!0),Te.tail===null&&Te.tailMode==="hidden"&&!lt.alternate&&!Fo)return Hu(k),null}else 2*ci()-Te.renderingStartTime>ra&&W!==1073741824&&(k.flags|=128,ee=!0,gg(Te,!1),k.lanes=4194304);Te.isBackwards?(lt.sibling=k.child,k.child=lt):(W=Te.last,W!==null?W.sibling=lt:k.child=lt,Te.last=lt)}return Te.tail!==null?(k=Te.tail,Te.rendering=k,Te.tail=k.sibling,Te.renderingStartTime=ci(),k.sibling=null,W=We.current,Do(We,ee?W&1|2:W&1),k):(Hu(k),null);case 22:case 23:return yv(),ee=k.memoizedState!==null,C!==null&&C.memoizedState!==null!==ee&&(k.flags|=8192),ee&&(k.mode&1)!==0?(sr&1073741824)!==0&&(Hu(k),k.subtreeFlags&6&&(k.flags|=8192)):Hu(k),null;case 24:return null;case 25:return null}throw Error(r(156,k.tag))}function Wu(C,k){switch(If(k),k.tag){case 1:return Hs(k.type)&&Es(),C=k.flags,C&65536?(k.flags=C&-65537|128,k):null;case 3:return Ce(),us(Jl),us(Dl),Ct(),C=k.flags,(C&65536)!==0&&(C&128)===0?(k.flags=C&-65537|128,k):null;case 5:return De(k),null;case 13:if(us(We),C=k.memoizedState,C!==null&&C.dehydrated!==null){if(k.alternate===null)throw Error(r(340));Ac()}return C=k.flags,C&65536?(k.flags=C&-65537|128,k):null;case 19:return us(We),null;case 4:return Ce(),null;case 10:return $u(k.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var jd=!1,Lo=!1,nu=typeof WeakSet=="function"?WeakSet:Set,di=null;function Rm(C,k){var W=C.ref;if(W!==null)if(typeof W=="function")try{W(null)}catch(ee){ul(C,k,ee)}else W.current=null}function vg(C,k,W){try{W()}catch(ee){ul(C,k,ee)}}var xy=!1;function Kb(C,k){if($s=ri,C=yo(),Ui(C)){if("selectionStart"in C)var W={start:C.selectionStart,end:C.selectionEnd};else e:{W=(W=C.ownerDocument)&&W.defaultView||window;var ee=W.getSelection&&W.getSelection();if(ee&&ee.rangeCount!==0){W=ee.anchorNode;var me=ee.anchorOffset,Te=ee.focusNode;ee=ee.focusOffset;try{W.nodeType,Te.nodeType}catch{W=null;break e}var lt=0,Ut=-1,cr=-1,tn=0,Mn=0,jn=C,kn=null;t:for(;;){for(var gi;jn!==W||me!==0&&jn.nodeType!==3||(Ut=lt+me),jn!==Te||ee!==0&&jn.nodeType!==3||(cr=lt+ee),jn.nodeType===3&&(lt+=jn.nodeValue.length),(gi=jn.firstChild)!==null;)kn=jn,jn=gi;for(;;){if(jn===C)break t;if(kn===W&&++tn===me&&(Ut=lt),kn===Te&&++Mn===ee&&(cr=lt),(gi=jn.nextSibling)!==null)break;jn=kn,kn=jn.parentNode}jn=gi}W=Ut===-1||cr===-1?null:{start:Ut,end:cr}}else W=null}W=W||{start:0,end:0}}else W=null;for(od={focusedElem:C,selectionRange:W},ri=!1,di=k;di!==null;)if(k=di,C=k.child,(k.subtreeFlags&1028)!==0&&C!==null)C.return=k,di=C;else for(;di!==null;){k=di;try{var Oi=k.alternate;if((k.flags&1024)!==0)switch(k.tag){case 0:case 11:case 15:break;case 1:if(Oi!==null){var Li=Oi.memoizedProps,xl=Oi.memoizedState,jr=k.stateNode,yr=jr.getSnapshotBeforeUpdate(k.elementType===k.type?Li:il(k.type,Li),xl);jr.__reactInternalSnapshotBeforeUpdate=yr}break;case 3:var Hr=k.stateNode.containerInfo;Hr.nodeType===1?Hr.textContent="":Hr.nodeType===9&&Hr.documentElement&&Hr.removeChild(Hr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Vn){ul(k,k.return,Vn)}if(C=k.sibling,C!==null){C.return=k.return,di=C;break}di=k.return}return Oi=xy,xy=!1,Oi}function vh(C,k,W){var ee=k.updateQueue;if(ee=ee!==null?ee.lastEffect:null,ee!==null){var me=ee=ee.next;do{if((me.tag&C)===C){var Te=me.destroy;me.destroy=void 0,Te!==void 0&&vg(k,W,Te)}me=me.next}while(me!==ee)}}function yg(C,k){if(k=k.updateQueue,k=k!==null?k.lastEffect:null,k!==null){var W=k=k.next;do{if((W.tag&C)===C){var ee=W.create;W.destroy=ee()}W=W.next}while(W!==k)}}function Am(C){var k=C.ref;if(k!==null){var W=C.stateNode;switch(C.tag){case 5:C=W;break;default:C=W}typeof k=="function"?k(C):k.current=C}}function ip(C){var k=C.alternate;k!==null&&(C.alternate=null,ip(k)),C.child=null,C.deletions=null,C.sibling=null,C.tag===5&&(k=C.stateNode,k!==null&&(delete k[Lu],delete k[kl],delete k[Ld],delete k[pt],delete k[Af])),C.stateNode=null,C.return=null,C.dependencies=null,C.memoizedProps=null,C.memoizedState=null,C.pendingProps=null,C.stateNode=null,C.updateQueue=null}function kp(C){return C.tag===5||C.tag===3||C.tag===4}function Dp(C){e:for(;;){for(;C.sibling===null;){if(C.return===null||kp(C.return))return null;C=C.return}for(C.sibling.return=C.return,C=C.sibling;C.tag!==5&&C.tag!==6&&C.tag!==18;){if(C.flags&2||C.child===null||C.tag===4)continue e;C.child.return=C,C=C.child}if(!(C.flags&2))return C.stateNode}}function bg(C,k,W){var ee=C.tag;if(ee===5||ee===6)C=C.stateNode,k?W.nodeType===8?W.parentNode.insertBefore(C,k):W.insertBefore(C,k):(W.nodeType===8?(k=W.parentNode,k.insertBefore(C,W)):(k=W,k.appendChild(C)),W=W._reactRootContainer,W!=null||k.onclick!==null||(k.onclick=Cc));else if(ee!==4&&(C=C.child,C!==null))for(bg(C,k,W),C=C.sibling;C!==null;)bg(C,k,W),C=C.sibling}function wo(C,k,W){var ee=C.tag;if(ee===5||ee===6)C=C.stateNode,k?W.insertBefore(C,k):W.appendChild(C);else if(ee!==4&&(C=C.child,C!==null))for(wo(C,k,W),C=C.sibling;C!==null;)wo(C,k,W),C=C.sibling}var No=null,hf=!1;function Fc(C,k,W){for(W=W.child;W!==null;)Om(C,k,W),W=W.sibling}function Om(C,k,W){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(bi,W)}catch{}switch(W.tag){case 5:Lo||Rm(W,k);case 6:var ee=No,me=hf;No=null,Fc(C,k,W),No=ee,hf=me,No!==null&&(hf?(C=No,W=W.stateNode,C.nodeType===8?C.parentNode.removeChild(W):C.removeChild(W)):No.removeChild(W.stateNode));break;case 18:No!==null&&(hf?(C=No,W=W.stateNode,C.nodeType===8?uf(C.parentNode,W):C.nodeType===1&&uf(C,W),Kr(C)):uf(No,W.stateNode));break;case 4:ee=No,me=hf,No=W.stateNode.containerInfo,hf=!0,Fc(C,k,W),No=ee,hf=me;break;case 0:case 11:case 14:case 15:if(!Lo&&(ee=W.updateQueue,ee!==null&&(ee=ee.lastEffect,ee!==null))){me=ee=ee.next;do{var Te=me,lt=Te.destroy;Te=Te.tag,lt!==void 0&&((Te&2)!==0||(Te&4)!==0)&&vg(W,k,lt),me=me.next}while(me!==ee)}Fc(C,k,W);break;case 1:if(!Lo&&(Rm(W,k),ee=W.stateNode,typeof ee.componentWillUnmount=="function"))try{ee.props=W.memoizedProps,ee.state=W.memoizedState,ee.componentWillUnmount()}catch(Ut){ul(W,k,Ut)}Fc(C,k,W);break;case 21:Fc(C,k,W);break;case 22:W.mode&1?(Lo=(ee=Lo)||W.memoizedState!==null,Fc(C,k,W),Lo=ee):Fc(C,k,W);break;default:Fc(C,k,W)}}function Vu(C){var k=C.updateQueue;if(k!==null){C.updateQueue=null;var W=C.stateNode;W===null&&(W=C.stateNode=new nu),k.forEach(function(ee){var me=a1.bind(null,C,ee);W.has(ee)||(W.add(ee),ee.then(me,me))})}}function Lc(C,k){var W=k.deletions;if(W!==null)for(var ee=0;ee<W.length;ee++){var me=W[ee];try{var Te=C,lt=k,Ut=lt;e:for(;Ut!==null;){switch(Ut.tag){case 5:No=Ut.stateNode,hf=!1;break e;case 3:No=Ut.stateNode.containerInfo,hf=!0;break e;case 4:No=Ut.stateNode.containerInfo,hf=!0;break e}Ut=Ut.return}if(No===null)throw Error(r(160));Om(Te,lt,me),No=null,hf=!1;var cr=me.alternate;cr!==null&&(cr.return=null),me.return=null}catch(tn){ul(me,k,tn)}}if(k.subtreeFlags&12854)for(k=k.child;k!==null;)_g(k,C),k=k.sibling}function _g(C,k){var W=C.alternate,ee=C.flags;switch(C.tag){case 0:case 11:case 14:case 15:if(Lc(k,C),cc(C),ee&4){try{vh(3,C,C.return),yg(3,C)}catch(Li){ul(C,C.return,Li)}try{vh(5,C,C.return)}catch(Li){ul(C,C.return,Li)}}break;case 1:Lc(k,C),cc(C),ee&512&&W!==null&&Rm(W,W.return);break;case 5:if(Lc(k,C),cc(C),ee&512&&W!==null&&Rm(W,W.return),C.flags&32){var me=C.stateNode;try{wr(me,"")}catch(Li){ul(C,C.return,Li)}}if(ee&4&&(me=C.stateNode,me!=null)){var Te=C.memoizedProps,lt=W!==null?W.memoizedProps:Te,Ut=C.type,cr=C.updateQueue;if(C.updateQueue=null,cr!==null)try{Ut==="input"&&Te.type==="radio"&&Te.name!=null&&xt(me,Te),Le(Ut,lt);var tn=Le(Ut,Te);for(lt=0;lt<cr.length;lt+=2){var Mn=cr[lt],jn=cr[lt+1];Mn==="style"?ot(me,jn):Mn==="dangerouslySetInnerHTML"?gr(me,jn):Mn==="children"?wr(me,jn):P(me,Mn,jn,tn)}switch(Ut){case"input":je(me,Te);break;case"textarea":Sr(me,Te);break;case"select":var kn=me._wrapperState.wasMultiple;me._wrapperState.wasMultiple=!!Te.multiple;var gi=Te.value;gi!=null?Vt(me,!!Te.multiple,gi,!1):kn!==!!Te.multiple&&(Te.defaultValue!=null?Vt(me,!!Te.multiple,Te.defaultValue,!0):Vt(me,!!Te.multiple,Te.multiple?[]:"",!1))}me[kl]=Te}catch(Li){ul(C,C.return,Li)}}break;case 6:if(Lc(k,C),cc(C),ee&4){if(C.stateNode===null)throw Error(r(162));me=C.stateNode,Te=C.memoizedProps;try{me.nodeValue=Te}catch(Li){ul(C,C.return,Li)}}break;case 3:if(Lc(k,C),cc(C),ee&4&&W!==null&&W.memoizedState.isDehydrated)try{Kr(k.containerInfo)}catch(Li){ul(C,C.return,Li)}break;case 4:Lc(k,C),cc(C);break;case 13:Lc(k,C),cc(C),me=C.child,me.flags&8192&&(Te=me.memoizedState!==null,me.stateNode.isHidden=Te,!Te||me.alternate!==null&&me.alternate.memoizedState!==null||(Gi=ci())),ee&4&&Vu(C);break;case 22:if(Mn=W!==null&&W.memoizedState!==null,C.mode&1?(Lo=(tn=Lo)||Mn,Lc(k,C),Lo=tn):Lc(k,C),cc(C),ee&8192){if(tn=C.memoizedState!==null,(C.stateNode.isHidden=tn)&&!Mn&&(C.mode&1)!==0)for(di=C,Mn=C.child;Mn!==null;){for(jn=di=Mn;di!==null;){switch(kn=di,gi=kn.child,kn.tag){case 0:case 11:case 14:case 15:vh(4,kn,kn.return);break;case 1:Rm(kn,kn.return);var Oi=kn.stateNode;if(typeof Oi.componentWillUnmount=="function"){ee=kn,W=kn.return;try{k=ee,Oi.props=k.memoizedProps,Oi.state=k.memoizedState,Oi.componentWillUnmount()}catch(Li){ul(ee,W,Li)}}break;case 5:Rm(kn,kn.return);break;case 22:if(kn.memoizedState!==null){Jc(jn);continue}}gi!==null?(gi.return=kn,di=gi):Jc(jn)}Mn=Mn.sibling}e:for(Mn=null,jn=C;;){if(jn.tag===5){if(Mn===null){Mn=jn;try{me=jn.stateNode,tn?(Te=me.style,typeof Te.setProperty=="function"?Te.setProperty("display","none","important"):Te.display="none"):(Ut=jn.stateNode,cr=jn.memoizedProps.style,lt=cr!=null&&cr.hasOwnProperty("display")?cr.display:null,Ut.style.display=nn("display",lt))}catch(Li){ul(C,C.return,Li)}}}else if(jn.tag===6){if(Mn===null)try{jn.stateNode.nodeValue=tn?"":jn.memoizedProps}catch(Li){ul(C,C.return,Li)}}else if((jn.tag!==22&&jn.tag!==23||jn.memoizedState===null||jn===C)&&jn.child!==null){jn.child.return=jn,jn=jn.child;continue}if(jn===C)break e;for(;jn.sibling===null;){if(jn.return===null||jn.return===C)break e;Mn===jn&&(Mn=null),jn=jn.return}Mn===jn&&(Mn=null),jn.sibling.return=jn.return,jn=jn.sibling}}break;case 19:Lc(k,C),cc(C),ee&4&&Vu(C);break;case 21:break;default:Lc(k,C),cc(C)}}function cc(C){var k=C.flags;if(k&2){try{e:{for(var W=C.return;W!==null;){if(kp(W)){var ee=W;break e}W=W.return}throw Error(r(160))}switch(ee.tag){case 5:var me=ee.stateNode;ee.flags&32&&(wr(me,""),ee.flags&=-33);var Te=Dp(C);wo(C,Te,me);break;case 3:case 4:var lt=ee.stateNode.containerInfo,Ut=Dp(C);bg(C,Ut,lt);break;default:throw Error(r(161))}}catch(cr){ul(C,C.return,cr)}C.flags&=-3}k&4096&&(C.flags&=-4097)}function Im(C,k,W){di=C,yh(C)}function yh(C,k,W){for(var ee=(C.mode&1)!==0;di!==null;){var me=di,Te=me.child;if(me.tag===22&&ee){var lt=me.memoizedState!==null||jd;if(!lt){var Ut=me.alternate,cr=Ut!==null&&Ut.memoizedState!==null||Lo;Ut=jd;var tn=Lo;if(jd=lt,(Lo=cr)&&!tn)for(di=me;di!==null;)lt=di,cr=lt.child,lt.tag===22&&lt.memoizedState!==null?ap(me):cr!==null?(cr.return=lt,di=cr):ap(me);for(;Te!==null;)di=Te,yh(Te),Te=Te.sibling;di=me,jd=Ut,Lo=tn}Gu(C)}else(me.subtreeFlags&8772)!==0&&Te!==null?(Te.return=me,di=Te):Gu(C)}}function Gu(C){for(;di!==null;){var k=di;if((k.flags&8772)!==0){var W=k.alternate;try{if((k.flags&8772)!==0)switch(k.tag){case 0:case 11:case 15:Lo||yg(5,k);break;case 1:var ee=k.stateNode;if(k.flags&4&&!Lo)if(W===null)ee.componentDidMount();else{var me=k.elementType===k.type?W.memoizedProps:il(k.type,W.memoizedProps);ee.componentDidUpdate(me,W.memoizedState,ee.__reactInternalSnapshotBeforeUpdate)}var Te=k.updateQueue;Te!==null&&M(k,Te,ee);break;case 3:var lt=k.updateQueue;if(lt!==null){if(W=null,k.child!==null)switch(k.child.tag){case 5:W=k.child.stateNode;break;case 1:W=k.child.stateNode}M(k,lt,W)}break;case 5:var Ut=k.stateNode;if(W===null&&k.flags&4){W=Ut;var cr=k.memoizedProps;switch(k.type){case"button":case"input":case"select":case"textarea":cr.autoFocus&&W.focus();break;case"img":cr.src&&(W.src=cr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(k.memoizedState===null){var tn=k.alternate;if(tn!==null){var Mn=tn.memoizedState;if(Mn!==null){var jn=Mn.dehydrated;jn!==null&&Kr(jn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Lo||k.flags&512&&Am(k)}catch(kn){ul(k,k.return,kn)}}if(k===C){di=null;break}if(W=k.sibling,W!==null){W.return=k.return,di=W;break}di=k.return}}function Jc(C){for(;di!==null;){var k=di;if(k===C){di=null;break}var W=k.sibling;if(W!==null){W.return=k.return,di=W;break}di=k.return}}function ap(C){for(;di!==null;){var k=di;try{switch(k.tag){case 0:case 11:case 15:var W=k.return;try{yg(4,k)}catch(cr){ul(k,W,cr)}break;case 1:var ee=k.stateNode;if(typeof ee.componentDidMount=="function"){var me=k.return;try{ee.componentDidMount()}catch(cr){ul(k,me,cr)}}var Te=k.return;try{Am(k)}catch(cr){ul(k,Te,cr)}break;case 5:var lt=k.return;try{Am(k)}catch(cr){ul(k,lt,cr)}}}catch(cr){ul(k,k.return,cr)}if(k===C){di=null;break}var Ut=k.sibling;if(Ut!==null){Ut.return=k.return,di=Ut;break}di=k.return}}var S0=Math.ceil,Mm=S.ReactCurrentDispatcher,bh=S.ReactCurrentOwner,pf=S.ReactCurrentBatchConfig,Ya=0,Ms=null,sl=null,wu=0,sr=0,Dr=pu(0),Gr=0,$n=null,ti=0,qi=0,Qi=0,xi=null,Si=null,Gi=0,ra=1/0,Fi=null,wa=!1,$o=null,_s=null,jl=!1,_l=null,oa=0,_h=0,vd=null,Nf=-1,xu=0;function iu(){return(Ya&6)!==0?ci():Nf!==-1?Nf:Nf=ci()}function $f(C){return(C.mode&1)===0?1:(Ya&2)!==0&&wu!==0?wu&-wu:pg.transition!==null?(xu===0&&(xu=ko()),xu):(C=fa,C!==0||(C=window.event,C=C===void 0?16:de(C.type)),C)}function Qc(C,k,W,ee){if(50<_h)throw _h=0,vd=null,Error(r(185));uo(C,W,ee),((Ya&2)===0||C!==Ms)&&(C===Ms&&((Ya&2)===0&&(qi|=W),Gr===4&&yd(C,wu)),wl(C,ee),W===1&&Ya===0&&(k.mode&1)===0&&(ra=ci()+500,Cm&&mu()))}function wl(C,k){var W=C.callbackNode;wc(C,k);var ee=Vl(C,C===Ms?wu:0);if(ee===0)W!==null&&Ua(W),C.callbackNode=null,C.callbackPriority=0;else if(k=ee&-ee,C.callbackPriority!==k){if(W!=null&&Ua(W),k===1)C.tag===0?ud(vv.bind(null,C)):Ip(vv.bind(null,C)),Rf(function(){(Ya&6)===0&&mu()}),W=null;else{switch(Co(ee)){case 1:W=Ti;break;case 4:W=Ko;break;case 16:W=wi;break;case 536870912:W=co;break;default:W=wi}W=Yb(W,Fp.bind(null,C))}C.callbackPriority=k,C.callbackNode=W}}function Fp(C,k){if(Nf=-1,xu=0,(Ya&6)!==0)throw Error(r(327));var W=C.callbackNode;if(bv()&&C.callbackNode!==W)return null;var ee=Vl(C,C===Ms?wu:0);if(ee===0)return null;if((ee&30)!==0||(ee&C.expiredLanes)!==0||k)k=Sy(C,ee);else{k=ee;var me=Ya;Ya|=2;var Te=E0();(Ms!==C||wu!==k)&&(Fi=null,ra=ci()+500,Lp(C,k));do try{eE();break}catch(Ut){Zb(C,Ut)}while(!0);Yc(),Mm.current=Te,Ya=me,sl!==null?k=0:(Ms=null,wu=0,k=Gr)}if(k!==0){if(k===2&&(me=Gl(C),me!==0&&(ee=me,k=Wo(C,me))),k===1)throw W=$n,Lp(C,0),yd(C,ee),wl(C,ci()),W;if(k===6)yd(C,ee);else{if(me=C.current.alternate,(ee&30)===0&&!wh(me)&&(k=Sy(C,ee),k===2&&(Te=Gl(C),Te!==0&&(ee=Te,k=Wo(C,Te))),k===1))throw W=$n,Lp(C,0),yd(C,ee),wl(C,ci()),W;switch(C.finishedWork=me,C.finishedLanes=ee,k){case 0:case 1:throw Error(r(345));case 2:km(C,Si,Fi);break;case 3:if(yd(C,ee),(ee&130023424)===ee&&(k=Gi+500-ci(),10<k)){if(Vl(C,0)!==0)break;if(me=C.suspendedLanes,(me&ee)!==ee){iu(),C.pingedLanes|=C.suspendedLanes&me;break}C.timeoutHandle=Pc(km.bind(null,C,Si,Fi),k);break}km(C,Si,Fi);break;case 4:if(yd(C,ee),(ee&4194240)===ee)break;for(k=C.eventTimes,me=-1;0<ee;){var lt=31-qa(ee);Te=1<<lt,lt=k[lt],lt>me&&(me=lt),ee&=~Te}if(ee=me,ee=ci()-ee,ee=(120>ee?120:480>ee?480:1080>ee?1080:1920>ee?1920:3e3>ee?3e3:4320>ee?4320:1960*S0(ee/1960))-ee,10<ee){C.timeoutHandle=Pc(km.bind(null,C,Si,Fi),ee);break}km(C,Si,Fi);break;case 5:km(C,Si,Fi);break;default:throw Error(r(329))}}}return wl(C,ci()),C.callbackNode===W?Fp.bind(null,C):null}function Wo(C,k){var W=xi;return C.current.memoizedState.isDehydrated&&(Lp(C,k).flags|=256),C=Sy(C,k),C!==2&&(k=Si,Si=W,k!==null&&Su(k)),C}function Su(C){Si===null?Si=C:Si.push.apply(Si,C)}function wh(C){for(var k=C;;){if(k.flags&16384){var W=k.updateQueue;if(W!==null&&(W=W.stores,W!==null))for(var ee=0;ee<W.length;ee++){var me=W[ee],Te=me.getSnapshot;me=me.value;try{if(!Zr(Te(),me))return!1}catch{return!1}}}if(W=k.child,k.subtreeFlags&16384&&W!==null)W.return=k,k=W;else{if(k===C)break;for(;k.sibling===null;){if(k.return===null||k.return===C)return!0;k=k.return}k.sibling.return=k.return,k=k.sibling}}return!0}function yd(C,k){for(k&=~Qi,k&=~qi,C.suspendedLanes|=k,C.pingedLanes&=~k,C=C.expirationTimes;0<k;){var W=31-qa(k),ee=1<<W;C[W]=-1,k&=~ee}}function vv(C){if((Ya&6)!==0)throw Error(r(327));bv();var k=Vl(C,0);if((k&1)===0)return wl(C,ci()),null;var W=Sy(C,k);if(C.tag!==0&&W===2){var ee=Gl(C);ee!==0&&(k=ee,W=Wo(C,ee))}if(W===1)throw W=$n,Lp(C,0),yd(C,k),wl(C,ci()),W;if(W===6)throw Error(r(345));return C.finishedWork=C.current.alternate,C.finishedLanes=k,km(C,Si,Fi),wl(C,ci()),null}function ll(C,k){var W=Ya;Ya|=1;try{return C(k)}finally{Ya=W,Ya===0&&(ra=ci()+500,Cm&&mu())}}function zf(C){_l!==null&&_l.tag===0&&(Ya&6)===0&&bv();var k=Ya;Ya|=1;var W=pf.transition,ee=fa;try{if(pf.transition=null,fa=1,C)return C()}finally{fa=ee,pf.transition=W,Ya=k,(Ya&6)===0&&mu()}}function yv(){sr=Dr.current,us(Dr)}function Lp(C,k){C.finishedWork=null,C.finishedLanes=0;var W=C.timeoutHandle;if(W!==-1&&(C.timeoutHandle=-1,sd(W)),sl!==null)for(W=sl.return;W!==null;){var ee=W;switch(If(ee),ee.tag){case 1:ee=ee.type.childContextTypes,ee!=null&&Es();break;case 3:Ce(),us(Jl),us(Dl),Ct();break;case 5:De(ee);break;case 4:Ce();break;case 13:us(We);break;case 19:us(We);break;case 10:$u(ee.type._context);break;case 22:case 23:yv()}W=W.return}if(Ms=C,sl=C=bd(C.current,null),wu=sr=k,Gr=0,$n=null,Qi=qi=ti=0,Si=xi=null,bo!==null){for(k=0;k<bo.length;k++)if(W=bo[k],ee=W.interleaved,ee!==null){W.interleaved=null;var me=ee.next,Te=W.pending;if(Te!==null){var lt=Te.next;Te.next=me,ee.next=lt}W.pending=ee}bo=null}return C}function Zb(C,k){do{var W=sl;try{if(Yc(),Rt.current=gd,nr){for(var ee=$t.memoizedState;ee!==null;){var me=ee.queue;me!==null&&(me.pending=null),ee=ee.next}nr=!1}if(Ht=0,tr=Wt=$t=null,kr=!1,Qr=0,bh.current=null,W===null||W.return===null){Gr=1,$n=k,sl=null;break}e:{var Te=C,lt=W.return,Ut=W,cr=k;if(k=wu,Ut.flags|=32768,cr!==null&&typeof cr=="object"&&typeof cr.then=="function"){var tn=cr,Mn=Ut,jn=Mn.tag;if((Mn.mode&1)===0&&(jn===0||jn===11||jn===15)){var kn=Mn.alternate;kn?(Mn.updateQueue=kn.updateQueue,Mn.memoizedState=kn.memoizedState,Mn.lanes=kn.lanes):(Mn.updateQueue=null,Mn.memoizedState=null)}var gi=ur(lt);if(gi!==null){gi.flags&=-257,Xt(gi,lt,Ut,Te,k),gi.mode&1&&er(Te,tn,k),k=gi,cr=tn;var Oi=k.updateQueue;if(Oi===null){var Li=new Set;Li.add(cr),k.updateQueue=Li}else Oi.add(cr);break e}else{if((k&1)===0){er(Te,tn,k),C0();break e}cr=Error(r(426))}}else if(Fo&&Ut.mode&1){var xl=ur(lt);if(xl!==null){(xl.flags&65536)===0&&(xl.flags|=256),Xt(xl,lt,Ut,Te,k),df(Oe(cr,Ut));break e}}Te=cr=Oe(cr,Ut),Gr!==4&&(Gr=2),xi===null?xi=[Te]:xi.push(Te),Te=lt;do{switch(Te.tag){case 3:Te.flags|=65536,k&=-k,Te.lanes|=k;var jr=ht(Te,cr,k);c(Te,jr);break e;case 1:Ut=cr;var yr=Te.type,Hr=Te.stateNode;if((Te.flags&128)===0&&(typeof yr.getDerivedStateFromError=="function"||Hr!==null&&typeof Hr.componentDidCatch=="function"&&(_s===null||!_s.has(Hr)))){Te.flags|=65536,k&=-k,Te.lanes|=k;var Vn=zt(Te,Ut,k);c(Te,Vn);break e}}Te=Te.return}while(Te!==null)}n1(W)}catch(Ni){k=Ni,sl===W&&W!==null&&(sl=W=W.return);continue}break}while(!0)}function E0(){var C=Mm.current;return Mm.current=gd,C===null?gd:C}function C0(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),Ms===null||(ti&268435455)===0&&(qi&268435455)===0||yd(Ms,wu)}function Sy(C,k){var W=Ya;Ya|=2;var ee=E0();(Ms!==C||wu!==k)&&(Fi=null,Lp(C,k));do try{r1();break}catch(me){Zb(C,me)}while(!0);if(Yc(),Ya=W,Mm.current=ee,sl!==null)throw Error(r(261));return Ms=null,wu=0,Gr}function r1(){for(;sl!==null;)Ey(sl)}function eE(){for(;sl!==null&&!Ji();)Ey(sl)}function Ey(C){var k=T0(C.alternate,C,sr);C.memoizedProps=C.pendingProps,k===null?n1(C):sl=k,bh.current=null}function n1(C){var k=C;do{var W=k.alternate;if(C=k.return,(k.flags&32768)===0){if(W=wy(W,k,sr),W!==null){sl=W;return}}else{if(W=Wu(W,k),W!==null){W.flags&=32767,sl=W;return}if(C!==null)C.flags|=32768,C.subtreeFlags=0,C.deletions=null;else{Gr=6,sl=null;return}}if(k=k.sibling,k!==null){sl=k;return}sl=k=C}while(k!==null);Gr===0&&(Gr=5)}function km(C,k,W){var ee=fa,me=pf.transition;try{pf.transition=null,fa=1,tE(C,k,W,ee)}finally{pf.transition=me,fa=ee}return null}function tE(C,k,W,ee){do bv();while(_l!==null);if((Ya&6)!==0)throw Error(r(327));W=C.finishedWork;var me=C.finishedLanes;if(W===null)return null;if(C.finishedWork=null,C.finishedLanes=0,W===C.current)throw Error(r(177));C.callbackNode=null,C.callbackPriority=0;var Te=W.lanes|W.childLanes;if(Al(C,Te),C===Ms&&(sl=Ms=null,wu=0),(W.subtreeFlags&2064)===0&&(W.flags&2064)===0||jl||(jl=!0,Yb(wi,function(){return bv(),null})),Te=(W.flags&15990)!==0,(W.subtreeFlags&15990)!==0||Te){Te=pf.transition,pf.transition=null;var lt=fa;fa=1;var Ut=Ya;Ya|=4,bh.current=null,Kb(C,W),_g(W,C),yl(od),ri=!!$s,od=$s=null,C.current=W,Im(W),So(),Ya=Ut,fa=lt,pf.transition=Te}else C.current=W;if(jl&&(jl=!1,_l=C,oa=me),Te=C.pendingLanes,Te===0&&(_s=null),sa(W.stateNode),wl(C,ci()),k!==null)for(ee=C.onRecoverableError,W=0;W<k.length;W++)me=k[W],ee(me.value,{componentStack:me.stack,digest:me.digest});if(wa)throw wa=!1,C=$o,$o=null,C;return(oa&1)!==0&&C.tag!==0&&bv(),Te=C.pendingLanes,(Te&1)!==0?C===vd?_h++:(_h=0,vd=C):_h=0,mu(),null}function bv(){if(_l!==null){var C=Co(oa),k=pf.transition,W=fa;try{if(pf.transition=null,fa=16>C?16:C,_l===null)var ee=!1;else{if(C=_l,_l=null,oa=0,(Ya&6)!==0)throw Error(r(331));var me=Ya;for(Ya|=4,di=C.current;di!==null;){var Te=di,lt=Te.child;if((di.flags&16)!==0){var Ut=Te.deletions;if(Ut!==null){for(var cr=0;cr<Ut.length;cr++){var tn=Ut[cr];for(di=tn;di!==null;){var Mn=di;switch(Mn.tag){case 0:case 11:case 15:vh(8,Mn,Te)}var jn=Mn.child;if(jn!==null)jn.return=Mn,di=jn;else for(;di!==null;){Mn=di;var kn=Mn.sibling,gi=Mn.return;if(ip(Mn),Mn===tn){di=null;break}if(kn!==null){kn.return=gi,di=kn;break}di=gi}}}var Oi=Te.alternate;if(Oi!==null){var Li=Oi.child;if(Li!==null){Oi.child=null;do{var xl=Li.sibling;Li.sibling=null,Li=xl}while(Li!==null)}}di=Te}}if((Te.subtreeFlags&2064)!==0&&lt!==null)lt.return=Te,di=lt;else e:for(;di!==null;){if(Te=di,(Te.flags&2048)!==0)switch(Te.tag){case 0:case 11:case 15:vh(9,Te,Te.return)}var jr=Te.sibling;if(jr!==null){jr.return=Te.return,di=jr;break e}di=Te.return}}var yr=C.current;for(di=yr;di!==null;){lt=di;var Hr=lt.child;if((lt.subtreeFlags&2064)!==0&&Hr!==null)Hr.return=lt,di=Hr;else e:for(lt=yr;di!==null;){if(Ut=di,(Ut.flags&2048)!==0)try{switch(Ut.tag){case 0:case 11:case 15:yg(9,Ut)}}catch(Ni){ul(Ut,Ut.return,Ni)}if(Ut===lt){di=null;break e}var Vn=Ut.sibling;if(Vn!==null){Vn.return=Ut.return,di=Vn;break e}di=Ut.return}}if(Ya=me,mu(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(bi,C)}catch{}ee=!0}return ee}finally{fa=W,pf.transition=k}}return!1}function P0(C,k,W){k=Oe(W,k),k=ht(C,k,1),C=lc(C,k,1),k=iu(),C!==null&&(uo(C,1,k),wl(C,k))}function ul(C,k,W){if(C.tag===3)P0(C,C,W);else for(;k!==null;){if(k.tag===3){P0(k,C,W);break}else if(k.tag===1){var ee=k.stateNode;if(typeof k.type.getDerivedStateFromError=="function"||typeof ee.componentDidCatch=="function"&&(_s===null||!_s.has(ee))){C=Oe(W,C),C=zt(k,C,1),k=lc(k,C,1),C=iu(),k!==null&&(uo(k,1,C),wl(k,C));break}}k=k.return}}function rE(C,k,W){var ee=C.pingCache;ee!==null&&ee.delete(k),k=iu(),C.pingedLanes|=C.suspendedLanes&W,Ms===C&&(wu&W)===W&&(Gr===4||Gr===3&&(wu&130023424)===wu&&500>ci()-Gi?Lp(C,0):Qi|=W),wl(C,k)}function i1(C,k){k===0&&((C.mode&1)===0?k=1:(k=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var W=iu();C=Oc(C,k),C!==null&&(uo(C,k,W),wl(C,W))}function Cy(C){var k=C.memoizedState,W=0;k!==null&&(W=k.retryLane),i1(C,W)}function a1(C,k){var W=0;switch(C.tag){case 13:var ee=C.stateNode,me=C.memoizedState;me!==null&&(W=me.retryLane);break;case 19:ee=C.stateNode;break;default:throw Error(r(314))}ee!==null&&ee.delete(k),i1(C,W)}var T0;T0=function(C,k,W){if(C!==null)if(C.memoizedProps!==k.pendingProps||Jl.current)Or=!0;else{if((C.lanes&W)===0&&(k.flags&128)===0)return Or=!1,np(C,k,W);Or=(C.flags&131072)!==0}else Or=!1,Fo&&(k.flags&1048576)!==0&&hg(k,Nd,k.index);switch(k.lanes=0,k.tag){case 2:var ee=k.type;Ho(C,k),C=k.pendingProps;var me=ac(k,Dl.current);zu(k,W),me=Dn(null,k,ee,C,me,W);var Te=In();return k.flags|=1,typeof me=="object"&&me!==null&&typeof me.render=="function"&&me.$$typeof===void 0?(k.tag=1,k.memoizedState=null,k.updateQueue=null,Hs(ee)?(Te=!0,Cs(k)):Te=!1,k.memoizedState=me.state!==null&&me.state!==void 0?me.state:null,tp(k),me.updater=K,k.stateNode=me,me._reactInternals=k,ye(k,ee,C,W),k=Nn(null,k,ee,!0,Te,W)):(k.tag=0,Fo&&Te&&$d(k),Br(null,k,me,W),k=k.child),k;case 16:ee=k.elementType;e:{switch(Ho(C,k),C=k.pendingProps,me=ee._init,ee=me(ee._payload),k.type=ee,me=k.tag=o1(ee),C=il(ee,C),me){case 0:k=xr(null,k,ee,C,W);break e;case 1:k=Kn(null,k,ee,C,W);break e;case 11:k=Xr(null,k,ee,C,W);break e;case 14:k=pn(null,k,ee,il(ee.type,C),W);break e}throw Error(r(306,ee,""))}return k;case 0:return ee=k.type,me=k.pendingProps,me=k.elementType===ee?me:il(ee,me),xr(C,k,ee,me,W);case 1:return ee=k.type,me=k.pendingProps,me=k.elementType===ee?me:il(ee,me),Kn(C,k,ee,me,W);case 3:e:{if(ei(k),C===null)throw Error(r(387));ee=k.pendingProps,Te=k.memoizedState,me=Te.element,Pm(C,k),g(k,ee,null,W);var lt=k.memoizedState;if(ee=lt.element,Te.isDehydrated)if(Te={element:ee,isDehydrated:!1,cache:lt.cache,pendingSuspenseBoundaries:lt.pendingSuspenseBoundaries,transitions:lt.transitions},k.updateQueue.baseState=Te,k.memoizedState=Te,k.flags&256){me=Oe(Error(r(423)),k),k=Vi(C,k,ee,W,me);break e}else if(ee!==me){me=Oe(Error(r(424)),k),k=Vi(C,k,ee,W,me);break e}else for(eu=rl(k.stateNode.containerInfo.firstChild),Ll=k,Fo=!0,vu=null,W=Di(k,null,ee,W),k.child=W;W;)W.flags=W.flags&-3|4096,W=W.sibling;else{if(Ac(),ee===me){k=ol(C,k,W);break e}Br(C,k,ee,W)}k=k.child}return k;case 5:return Fe(k),C===null&&sc(k),ee=k.type,me=k.pendingProps,Te=C!==null?C.memoizedProps:null,lt=me.children,uh(ee,me)?lt=null:Te!==null&&uh(ee,Te)&&(k.flags|=32),en(C,k),Br(C,k,lt,W),k.child;case 6:return C===null&&sc(k),null;case 13:return Wa(C,k,W);case 4:return be(k,k.stateNode.containerInfo),ee=k.pendingProps,C===null?k.child=Gn(k,null,ee,W):Br(C,k,ee,W),k.child;case 11:return ee=k.type,me=k.pendingProps,me=k.elementType===ee?me:il(ee,me),Xr(C,k,ee,me,W);case 7:return Br(C,k,k.pendingProps,W),k.child;case 8:return Br(C,k,k.pendingProps.children,W),k.child;case 12:return Br(C,k,k.pendingProps.children,W),k.child;case 10:e:{if(ee=k.type._context,me=k.pendingProps,Te=k.memoizedProps,lt=me.value,Do(dd,ee._currentValue),ee._currentValue=lt,Te!==null)if(Zr(Te.value,lt)){if(Te.children===me.children&&!Jl.current){k=ol(C,k,W);break e}}else for(Te=k.child,Te!==null&&(Te.return=k);Te!==null;){var Ut=Te.dependencies;if(Ut!==null){lt=Te.child;for(var cr=Ut.firstContext;cr!==null;){if(cr.context===ee){if(Te.tag===1){cr=Ws(-1,W&-W),cr.tag=2;var tn=Te.updateQueue;if(tn!==null){tn=tn.shared;var Mn=tn.pending;Mn===null?cr.next=cr:(cr.next=Mn.next,Mn.next=cr),tn.pending=cr}}Te.lanes|=W,cr=Te.alternate,cr!==null&&(cr.lanes|=W),$l(Te.return,W,k),Ut.lanes|=W;break}cr=cr.next}}else if(Te.tag===10)lt=Te.type===k.type?null:Te.child;else if(Te.tag===18){if(lt=Te.return,lt===null)throw Error(r(341));lt.lanes|=W,Ut=lt.alternate,Ut!==null&&(Ut.lanes|=W),$l(lt,W,k),lt=Te.sibling}else lt=Te.child;if(lt!==null)lt.return=Te;else for(lt=Te;lt!==null;){if(lt===k){lt=null;break}if(Te=lt.sibling,Te!==null){Te.return=lt.return,lt=Te;break}lt=lt.return}Te=lt}Br(C,k,me.children,W),k=k.child}return k;case 9:return me=k.type,ee=k.pendingProps.children,zu(k,W),me=ro(me),ee=ee(me),k.flags|=1,Br(C,k,ee,W),k.child;case 14:return ee=k.type,me=il(ee,k.pendingProps),me=il(ee.type,me),pn(C,k,ee,me,W);case 15:return on(C,k,k.type,k.pendingProps,W);case 17:return ee=k.type,me=k.pendingProps,me=k.elementType===ee?me:il(ee,me),Ho(C,k),k.tag=1,Hs(ee)?(C=!0,Cs(k)):C=!1,zu(k,W),ie(k,ee,me),ye(k,ee,me,W),Nn(null,k,ee,!0,C,W);case 19:return zs(C,k,W);case 22:return oi(C,k,W)}throw Error(r(156,k.tag))};function Yb(C,k){return Ka(C,k)}function au(C,k,W,ee){this.tag=C,this.key=W,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=k,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ee,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bf(C,k,W,ee){return new au(C,k,W,ee)}function R0(C){return C=C.prototype,!(!C||!C.isReactComponent)}function o1(C){if(typeof C=="function")return R0(C)?1:0;if(C!=null){if(C=C.$$typeof,C===q)return 11;if(C===J)return 14}return 2}function bd(C,k){var W=C.alternate;return W===null?(W=Bf(C.tag,k,C.key,C.mode),W.elementType=C.elementType,W.type=C.type,W.stateNode=C.stateNode,W.alternate=C,C.alternate=W):(W.pendingProps=k,W.type=C.type,W.flags=0,W.subtreeFlags=0,W.deletions=null),W.flags=C.flags&14680064,W.childLanes=C.childLanes,W.lanes=C.lanes,W.child=C.child,W.memoizedProps=C.memoizedProps,W.memoizedState=C.memoizedState,W.updateQueue=C.updateQueue,k=C.dependencies,W.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},W.sibling=C.sibling,W.index=C.index,W.ref=C.ref,W}function _v(C,k,W,ee,me,Te){var lt=2;if(ee=C,typeof C=="function")R0(C)&&(lt=1);else if(typeof C=="string")lt=5;else e:switch(C){case R:return wg(W.children,me,Te,k);case O:lt=8,me|=8;break;case F:return C=Bf(12,W,k,me|2),C.elementType=F,C.lanes=Te,C;case Z:return C=Bf(13,W,k,me),C.elementType=Z,C.lanes=Te,C;case V:return C=Bf(19,W,k,me),C.elementType=V,C.lanes=Te,C;case ue:return A0(W,me,Te,k);default:if(typeof C=="object"&&C!==null)switch(C.$$typeof){case $:lt=10;break e;case z:lt=9;break e;case q:lt=11;break e;case J:lt=14;break e;case fe:lt=16,ee=null;break e}throw Error(r(130,C==null?C:typeof C,""))}return k=Bf(lt,W,k,me),k.elementType=C,k.type=ee,k.lanes=Te,k}function wg(C,k,W,ee){return C=Bf(7,C,ee,k),C.lanes=W,C}function A0(C,k,W,ee){return C=Bf(22,C,ee,k),C.elementType=ue,C.lanes=W,C.stateNode={isHidden:!1},C}function Xb(C,k,W){return C=Bf(6,C,null,k),C.lanes=W,C}function Jb(C,k,W){return k=Bf(4,C.children!==null?C.children:[],C.key,k),k.lanes=W,k.stateNode={containerInfo:C.containerInfo,pendingChildren:null,implementation:C.implementation},k}function s1(C,k,W,ee,me){this.tag=k,this.containerInfo=C,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=ee,this.onRecoverableError=me,this.mutableSourceEagerHydrationData=null}function Nc(C,k,W,ee,me,Te,lt,Ut,cr){return C=new s1(C,k,W,Ut,cr),k===1?(k=1,Te===!0&&(k|=8)):k=0,Te=Bf(3,null,null,k),C.current=Te,Te.stateNode=C,Te.memoizedState={element:ee,isDehydrated:W,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(Te),C}function Qb(C,k,W){var ee=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:ee==null?null:""+ee,children:C,containerInfo:k,implementation:W}}function e_(C){if(!C)return ic;C=C._reactInternals;e:{if(Fn(C)!==C||C.tag!==1)throw Error(r(170));var k=C;do{switch(k.tag){case 3:k=k.stateNode.context;break e;case 1:if(Hs(k.type)){k=k.stateNode.__reactInternalMemoizedMergedChildContext;break e}}k=k.return}while(k!==null);throw Error(r(171))}if(C.tag===1){var W=C.type;if(Hs(W))return ff(C,W,k)}return k}function Np(C,k,W,ee,me,Te,lt,Ut,cr){return C=Nc(W,ee,!0,C,me,Te,lt,Ut,cr),C.context=e_(null),W=C.current,ee=iu(),me=$f(W),Te=Ws(ee,me),Te.callback=k??null,lc(W,Te,me),C.current.lanes=me,uo(C,me,ee),wl(C,ee),C}function xg(C,k,W,ee){var me=k.current,Te=iu(),lt=$f(me);return W=e_(W),k.context===null?k.context=W:k.pendingContext=W,k=Ws(Te,lt),k.payload={element:C},ee=ee===void 0?null:ee,ee!==null&&(k.callback=ee),C=lc(me,k,lt),C!==null&&(Qc(C,me,lt,Te),B(C,me,lt)),lt}function Dm(C){if(C=C.current,!C.child)return null;switch(C.child.tag){case 5:return C.child.stateNode;default:return C.child.stateNode}}function Sg(C,k){if(C=C.memoizedState,C!==null&&C.dehydrated!==null){var W=C.retryLane;C.retryLane=W!==0&&W<k?W:k}}function wv(C,k){Sg(C,k),(C=C.alternate)&&Sg(C,k)}function O0(){return null}var l1=typeof reportError=="function"?reportError:function(C){console.error(C)};function I0(C){this._internalRoot=C}xv.prototype.render=I0.prototype.render=function(C){var k=this._internalRoot;if(k===null)throw Error(r(409));xg(C,k,null,null)},xv.prototype.unmount=I0.prototype.unmount=function(){var C=this._internalRoot;if(C!==null){this._internalRoot=null;var k=C.containerInfo;zf(function(){xg(null,C,null,null)}),k[Nu]=null}};function xv(C){this._internalRoot=C}xv.prototype.unstable_scheduleHydration=function(C){if(C){var k=du();C={blockedOn:null,target:C,priority:k};for(var W=0;W<Ca.length&&k!==0&&k<Ca[W].priority;W++);Ca.splice(W,0,C),W===0&&_t(C)}};function M0(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)}function k0(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11&&(C.nodeType!==8||C.nodeValue!==" react-mount-point-unstable "))}function t_(){}function u1(C,k,W,ee,me){if(me){if(typeof ee=="function"){var Te=ee;ee=function(){var tn=Dm(lt);Te.call(tn)}}var lt=Np(k,ee,C,0,null,!1,!1,"",t_);return C._reactRootContainer=lt,C[Nu]=lt.current,sf(C.nodeType===8?C.parentNode:C),zf(),lt}for(;me=C.lastChild;)C.removeChild(me);if(typeof ee=="function"){var Ut=ee;ee=function(){var tn=Dm(cr);Ut.call(tn)}}var cr=Nc(C,0,!1,null,null,!1,!1,"",t_);return C._reactRootContainer=cr,C[Nu]=cr.current,sf(C.nodeType===8?C.parentNode:C),zf(function(){xg(k,cr,W,ee)}),cr}function $p(C,k,W,ee,me){var Te=W._reactRootContainer;if(Te){var lt=Te;if(typeof me=="function"){var Ut=me;me=function(){var cr=Dm(lt);Ut.call(cr)}}xg(k,lt,C,me)}else lt=u1(W,k,C,me,ee);return Dm(lt)}Bi=function(C){switch(C.tag){case 3:var k=C.stateNode;if(k.current.memoizedState.isDehydrated){var W=Au(k.pendingLanes);W!==0&&(Ol(k,W|1),wl(k,ci()),(Ya&6)===0&&(ra=ci()+500,mu()))}break;case 13:zf(function(){var ee=Oc(C,1);if(ee!==null){var me=iu();Qc(ee,C,1,me)}}),wv(C,1)}},to=function(C){if(C.tag===13){var k=Oc(C,134217728);if(k!==null){var W=iu();Qc(k,C,134217728,W)}wv(C,134217728)}},Yo=function(C){if(C.tag===13){var k=$f(C),W=Oc(C,k);if(W!==null){var ee=iu();Qc(W,C,k,ee)}wv(C,k)}},du=function(){return fa},Ei=function(C,k){var W=fa;try{return fa=C,k()}finally{fa=W}},kt=function(C,k,W){switch(k){case"input":if(je(C,W),k=W.name,W.type==="radio"&&k!=null){for(W=C;W.parentNode;)W=W.parentNode;for(W=W.querySelectorAll("input[name="+JSON.stringify(""+k)+'][type="radio"]'),k=0;k<W.length;k++){var ee=W[k];if(ee!==C&&ee.form===C.form){var me=ld(ee);if(!me)throw Error(r(90));qe(ee),je(ee,me)}}}break;case"textarea":Sr(C,W);break;case"select":k=W.value,k!=null&&Vt(C,!!W.multiple,k,!1)}},ar=ll,zr=zf;var r_={usingClientEntryPoint:!1,Events:[Xl,ea,ld,ir,or,ll]},Py={findFiberByHostInstance:nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c1={bundleType:Py.bundleType,version:Py.version,rendererPackageName:Py.rendererPackageName,rendererConfig:Py.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(C){return C=mi(C),C===null?null:C.stateNode},findFiberByHostInstance:Py.findFiberByHostInstance||O0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D0.isDisabled&&D0.supportsFiber)try{bi=D0.inject(c1),Ri=D0}catch{}}return sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r_,sp.createPortal=function(C,k){var W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M0(k))throw Error(r(200));return Qb(C,k,null,W)},sp.createRoot=function(C,k){if(!M0(C))throw Error(r(299));var W=!1,ee="",me=l1;return k!=null&&(k.unstable_strictMode===!0&&(W=!0),k.identifierPrefix!==void 0&&(ee=k.identifierPrefix),k.onRecoverableError!==void 0&&(me=k.onRecoverableError)),k=Nc(C,1,!1,null,null,W,!1,ee,me),C[Nu]=k.current,sf(C.nodeType===8?C.parentNode:C),new I0(k)},sp.findDOMNode=function(C){if(C==null)return null;if(C.nodeType===1)return C;var k=C._reactInternals;if(k===void 0)throw typeof C.render=="function"?Error(r(188)):(C=Object.keys(C).join(","),Error(r(268,C)));return C=mi(k),C=C===null?null:C.stateNode,C},sp.flushSync=function(C){return zf(C)},sp.hydrate=function(C,k,W){if(!k0(k))throw Error(r(200));return $p(null,C,k,!0,W)},sp.hydrateRoot=function(C,k,W){if(!M0(C))throw Error(r(405));var ee=W!=null&&W.hydratedSources||null,me=!1,Te="",lt=l1;if(W!=null&&(W.unstable_strictMode===!0&&(me=!0),W.identifierPrefix!==void 0&&(Te=W.identifierPrefix),W.onRecoverableError!==void 0&&(lt=W.onRecoverableError)),k=Np(k,null,C,1,W??null,me,!1,Te,lt),C[Nu]=k.current,sf(C),ee)for(C=0;C<ee.length;C++)W=ee[C],me=W._getVersion,me=me(W._source),k.mutableSourceEagerHydrationData==null?k.mutableSourceEagerHydrationData=[W,me]:k.mutableSourceEagerHydrationData.push(W,me);return new xv(k)},sp.render=function(C,k,W){if(!k0(k))throw Error(r(200));return $p(null,C,k,!1,W)},sp.unmountComponentAtNode=function(C){if(!k0(C))throw Error(r(40));return C._reactRootContainer?(zf(function(){$p(null,null,C,!1,function(){C._reactRootContainer=null,C[Nu]=null})}),!0):!1},sp.unstable_batchedUpdates=ll,sp.unstable_renderSubtreeIntoContainer=function(C,k,W,ee){if(!k0(W))throw Error(r(200));if(C==null||C._reactInternals===void 0)throw Error(r(38));return $p(C,k,W,!1,ee)},sp.version="18.3.1-next-f1338f8080-20240426",sp}var aK;function gU(){if(aK)return DD.exports;aK=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),DD.exports=FTe(),DD.exports}var oK;function LTe(){if(oK)return QT;oK=1;var e=gU();return QT.createRoot=e.createRoot,QT.hydrateRoot=e.hydrateRoot,QT}var q1t=LTe(),ND={},$D={},zD={},BD={exports:{}},jD={exports:{}},UD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sK;function NTe(){if(sK)return UD;sK=1;var e=vn();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return UD.useSyncExternalStoreWithSelector=function(l,u,f,h,p){var m=i(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=s(function(){function x(E){if(!T){if(T=!0,A=E,E=h(E),p!==void 0&&v.hasValue){var _=v.value;if(p(_,E))return P=_}return P=E}if(_=P,r(A,E))return _;var R=h(E);return p!==void 0&&p(_,R)?(A=E,_):(A=E,P=R)}var T=!1,A,P,S=f===void 0?null:f;return[function(){return x(u())},S===null?void 0:function(){return x(S())}]},[u,f,h,p]);var w=n(l,m[0],m[1]);return a(function(){v.hasValue=!0,v.value=w},[w]),o(w),w},UD}var lK;function qhe(){return lK||(lK=1,jD.exports=NTe()),jD.exports}var qD,uK;function $Te(){if(uK)return qD;uK=1;var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=(Yt,Jt)=>{for(var rr in Jt)t(Yt,rr,{get:Jt[rr],enumerable:!0})},o=(Yt,Jt,rr,vr)=>{if(Jt&&typeof Jt=="object"||typeof Jt=="function")for(let Lt of n(Jt))!a.call(Yt,Lt)&&Lt!==rr&&t(Yt,Lt,{get:()=>Jt[Lt],enumerable:!(vr=r(Jt,Lt))||vr.enumerable});return Yt},l=(Yt,Jt,rr)=>(rr=Yt!=null?e(i(Yt)):{},o(!Yt||!Yt.__esModule?t(rr,"default",{value:Yt,enumerable:!0}):rr,Yt)),u=Yt=>o(t({},"__esModule",{value:!0}),Yt),f={};s(f,{Provider:()=>Ft,ReactReduxContext:()=>nn,batch:()=>jt,connect:()=>kt,createDispatchHook:()=>zr,createSelectorHook:()=>br,createStoreHook:()=>or,shallowEqual:()=>xt,useDispatch:()=>mt,useSelector:()=>Rr,useStore:()=>ar}),qD=u(f);var h=l(vn()),p=h.version.startsWith("19"),m=Symbol.for(p?"react.transitional.element":"react.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),P=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=S,$=R;function z(Yt){if(typeof Yt=="object"&&Yt!==null){let{$$typeof:Jt}=Yt;switch(Jt){case m:switch(Yt=Yt.type,Yt){case w:case T:case x:case E:case _:return Yt;default:switch(Yt=Yt&&Yt.$$typeof,Yt){case P:case S:case O:case R:return Yt;case A:return Yt;default:return Jt}}case v:return Jt}}}function q(Yt){return z(Yt)===R}function Z(Yt,Jt,rr,vr,{areStatesEqual:Lt,areOwnPropsEqual:Ir,areStatePropsEqual:fn}){let Fn=!1,ui,yi,Wn,mi,ya;function Ka(Ia,Ti){return ui=Ia,yi=Ti,Wn=Yt(ui,yi),mi=Jt(vr,yi),ya=rr(Wn,mi,yi),Fn=!0,ya}function Ua(){return Wn=Yt(ui,yi),Jt.dependsOnOwnProps&&(mi=Jt(vr,yi)),ya=rr(Wn,mi,yi),ya}function Ji(){return Yt.dependsOnOwnProps&&(Wn=Yt(ui,yi)),Jt.dependsOnOwnProps&&(mi=Jt(vr,yi)),ya=rr(Wn,mi,yi),ya}function So(){let Ia=Yt(ui,yi),Ti=!fn(Ia,Wn);return Wn=Ia,Ti&&(ya=rr(Wn,mi,yi)),ya}function ci(Ia,Ti){let Ko=!Ir(Ti,yi),wi=!Lt(Ia,ui,Ti,yi);return ui=Ia,yi=Ti,Ko&&wi?Ua():Ko?Ji():wi?So():ya}return function(Ia,Ti){return Fn?ci(Ia,Ti):Ka(Ia,Ti)}}function V(Yt,{initMapStateToProps:Jt,initMapDispatchToProps:rr,initMergeProps:vr,...Lt}){let Ir=Jt(Yt,Lt),fn=rr(Yt,Lt),Fn=vr(Yt,Lt);return Z(Ir,fn,Fn,Yt,Lt)}function J(Yt,Jt){let rr={};for(let vr in Yt){let Lt=Yt[vr];typeof Lt=="function"&&(rr[vr]=(...Ir)=>Jt(Lt(...Ir)))}return rr}function fe(Yt){return function(Jt){let rr=Yt(Jt);function vr(){return rr}return vr.dependsOnOwnProps=!1,vr}}function ue(Yt){return Yt.dependsOnOwnProps?!!Yt.dependsOnOwnProps:Yt.length!==1}function pe(Yt,Jt){return function(rr,{displayName:vr}){let Lt=function(Ir,fn){return Lt.dependsOnOwnProps?Lt.mapToProps(Ir,fn):Lt.mapToProps(Ir,void 0)};return Lt.dependsOnOwnProps=!0,Lt.mapToProps=function(Ir,fn){Lt.mapToProps=Yt,Lt.dependsOnOwnProps=ue(Yt);let Fn=Lt(Ir,fn);return typeof Fn=="function"&&(Lt.mapToProps=Fn,Lt.dependsOnOwnProps=ue(Fn),Fn=Lt(Ir,fn)),Fn},Lt}}function ve(Yt,Jt){return(rr,vr)=>{throw new Error(`Invalid value of type ${typeof Yt} for ${Jt} argument when connecting component ${vr.wrappedComponentName}.`)}}function le(Yt){return Yt&&typeof Yt=="object"?fe(Jt=>J(Yt,Jt)):Yt?typeof Yt=="function"?pe(Yt):ve(Yt,"mapDispatchToProps"):fe(Jt=>({dispatch:Jt}))}function se(Yt){return Yt?typeof Yt=="function"?pe(Yt):ve(Yt,"mapStateToProps"):fe(()=>({}))}function ge(Yt,Jt,rr){return{...rr,...Yt,...Jt}}function _e(Yt){return function(Jt,{displayName:rr,areMergedPropsEqual:vr}){let Lt=!1,Ir;return function(fn,Fn,ui){let yi=Yt(fn,Fn,ui);return Lt?vr(yi,Ir)||(Ir=yi):(Lt=!0,Ir=yi),Ir}}}function ke(Yt){return Yt?typeof Yt=="function"?_e(Yt):ve(Yt,"mergeProps"):()=>ge}function Ge(Yt){Yt()}function ct(){let Yt=null,Jt=null;return{clear(){Yt=null,Jt=null},notify(){Ge(()=>{let rr=Yt;for(;rr;)rr.callback(),rr=rr.next})},get(){let rr=[],vr=Yt;for(;vr;)rr.push(vr),vr=vr.next;return rr},subscribe(rr){let vr=!0,Lt=Jt={callback:rr,next:null,prev:Jt};return Lt.prev?Lt.prev.next=Lt:Yt=Lt,function(){!vr||Yt===null||(vr=!1,Lt.next?Lt.next.prev=Lt.prev:Jt=Lt.prev,Lt.prev?Lt.prev.next=Lt.next:Yt=Lt.next)}}}}var $e={notify(){},get:()=>[]};function we(Yt,Jt){let rr,vr=$e,Lt=0,Ir=!1;function fn(Ji){Wn();let So=vr.subscribe(Ji),ci=!1;return()=>{ci||(ci=!0,So(),mi())}}function Fn(){vr.notify()}function ui(){Ua.onStateChange&&Ua.onStateChange()}function yi(){return Ir}function Wn(){Lt++,rr||(rr=Jt?Jt.addNestedSub(ui):Yt.subscribe(ui),vr=ct())}function mi(){Lt--,rr&&Lt===0&&(rr(),rr=void 0,vr.clear(),vr=$e)}function ya(){Ir||(Ir=!0,Wn())}function Ka(){Ir&&(Ir=!1,mi())}let Ua={addNestedSub:fn,notifyNestedSubs:Fn,handleChangeWrapper:ui,isSubscribed:yi,trySubscribe:ya,tryUnsubscribe:Ka,getListeners:()=>vr};return Ua}var Ee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Re=Ee(),ft=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qe=ft(),dt=()=>Re||qe?h.useLayoutEffect:h.useEffect,he=dt();function ut(Yt,Jt){return Yt===Jt?Yt!==0||Jt!==0||1/Yt===1/Jt:Yt!==Yt&&Jt!==Jt}function xt(Yt,Jt){if(ut(Yt,Jt))return!0;if(typeof Yt!="object"||Yt===null||typeof Jt!="object"||Jt===null)return!1;let rr=Object.keys(Yt),vr=Object.keys(Jt);if(rr.length!==vr.length)return!1;for(let Lt=0;Lt<rr.length;Lt++)if(!Object.prototype.hasOwnProperty.call(Jt,rr[Lt])||!ut(Yt[rr[Lt]],Jt[rr[Lt]]))return!1;return!0}var je={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vt={[F]:Ze,[$]:yt};function At(Yt){return q(Yt)?yt:Vt[Yt.$$typeof]||je}var hr=Object.defineProperty,Sr=Object.getOwnPropertyNames,fr=Object.getOwnPropertySymbols,Dt=Object.getOwnPropertyDescriptor,dr=Object.getPrototypeOf,Nr=Object.prototype;function gr(Yt,Jt){if(typeof Jt!="string"){if(Nr){let Ir=dr(Jt);Ir&&Ir!==Nr&&gr(Yt,Ir)}let rr=Sr(Jt);fr&&(rr=rr.concat(fr(Jt)));let vr=At(Yt),Lt=At(Jt);for(let Ir=0;Ir<rr.length;++Ir){let fn=rr[Ir];if(!rt[fn]&&!(Lt&&Lt[fn])&&!(vr&&vr[fn])){let Fn=Dt(Jt,fn);try{hr(Yt,fn,Fn)}catch{}}}}return Yt}var wr=Symbol.for("react-redux-context"),Fr=typeof globalThis<"u"?globalThis:{};function _n(){if(!h.createContext)return{};let Yt=Fr[wr]??(Fr[wr]=new Map),Jt=Yt.get(h.createContext);return Jt||(Jt=h.createContext(null),Yt.set(h.createContext,Jt)),Jt}var nn=_n(),ot=[null,null];function Je(Yt,Jt,rr){he(()=>Yt(...Jt),rr)}function Me(Yt,Jt,rr,vr,Lt,Ir){Yt.current=vr,rr.current=!1,Lt.current&&(Lt.current=null,Ir())}function Le(Yt,Jt,rr,vr,Lt,Ir,fn,Fn,ui,yi,Wn){if(!Yt)return()=>{};let mi=!1,ya=null,Ka=()=>{if(mi||!Fn.current)return;let Ua=Jt.getState(),Ji,So;try{Ji=vr(Ua,Lt.current)}catch(ci){So=ci,ya=ci}So||(ya=null),Ji===Ir.current?fn.current||yi():(Ir.current=Ji,ui.current=Ji,fn.current=!0,Wn())};return rr.onStateChange=Ka,rr.trySubscribe(),Ka(),()=>{if(mi=!0,rr.tryUnsubscribe(),rr.onStateChange=null,ya)throw ya}}function Ye(Yt,Jt){return Yt===Jt}function gt(Yt,Jt,rr,{pure:vr,areStatesEqual:Lt=Ye,areOwnPropsEqual:Ir=xt,areStatePropsEqual:fn=xt,areMergedPropsEqual:Fn=xt,forwardRef:ui=!1,context:yi=nn}={}){let Wn=yi,mi=se(Yt),ya=le(Jt),Ka=ke(rr),Ua=!!Yt;return Ji=>{let So=Ji.displayName||Ji.name||"Component",ci=`Connect(${So})`,Ia={shouldHandleStateChanges:Ua,displayName:ci,wrappedComponentName:So,WrappedComponent:Ji,initMapStateToProps:mi,initMapDispatchToProps:ya,initMergeProps:Ka,areStatesEqual:Lt,areStatePropsEqual:fn,areOwnPropsEqual:Ir,areMergedPropsEqual:Fn};function Ti(wi){let[lo,co,bi]=h.useMemo(()=>{let{reactReduxForwardedRef:Bi,...to}=wi;return[wi.context,Bi,to]},[wi]),Ri=h.useMemo(()=>{let Bi=Wn;return lo==null||lo.Consumer,Bi},[lo,Wn]),sa=h.useContext(Ri),qa=!!wi.store&&!!wi.store.getState&&!!wi.store.dispatch,os=!!sa&&!!sa.store,Eo=qa?wi.store:sa.store,Ns=os?sa.getServerState:Eo.getState,Zo=h.useMemo(()=>V(Eo.dispatch,Ia),[Eo]),[ml,Au]=h.useMemo(()=>{if(!Ua)return ot;let Bi=we(Eo,qa?void 0:sa.subscription),to=Bi.notifyNestedSubs.bind(Bi);return[Bi,to]},[Eo,qa,sa]),Vl=h.useMemo(()=>qa?sa:{...sa,subscription:ml},[qa,sa,ml]),gl=h.useRef(void 0),wc=h.useRef(bi),Gl=h.useRef(void 0),ko=h.useRef(!1),Rl=h.useRef(!1),uo=h.useRef(void 0);he(()=>(Rl.current=!0,()=>{Rl.current=!1}),[]);let Al=h.useMemo(()=>()=>Gl.current&&bi===wc.current?Gl.current:Zo(Eo.getState(),bi),[Eo,bi]),Ol=h.useMemo(()=>Bi=>ml?Le(Ua,Eo,ml,Zo,wc,gl,ko,Rl,Gl,Au,Bi):()=>{},[ml]);Je(Me,[wc,gl,ko,bi,Gl,Au]);let fa;try{fa=h.useSyncExternalStore(Ol,Al,Ns?()=>Zo(Ns(),bi):Al)}catch(Bi){throw uo.current&&(Bi.message+=`
The error may be correlated with this previous error:
${uo.current.stack}

`),Bi}he(()=>{uo.current=void 0,Gl.current=void 0,gl.current=fa});let Co=h.useMemo(()=>h.createElement(Ji,{...fa,ref:co}),[co,Ji,fa]);return h.useMemo(()=>Ua?h.createElement(Ri.Provider,{value:Vl},Co):Co,[Ri,Co,Vl])}let Ko=h.memo(Ti);if(Ko.WrappedComponent=Ji,Ko.displayName=Ti.displayName=ci,ui){let wi=h.forwardRef(function(lo,co){return h.createElement(Ko,{...lo,reactReduxForwardedRef:co})});return wi.displayName=ci,wi.WrappedComponent=Ji,gr(wi,Ji)}return gr(Ko,Ji)}}var kt=gt;function at(Yt){let{children:Jt,context:rr,serverState:vr,store:Lt}=Yt,Ir=h.useMemo(()=>{let Fn=we(Lt);return{store:Lt,subscription:Fn,getServerState:vr?()=>vr:void 0}},[Lt,vr]),fn=h.useMemo(()=>Lt.getState(),[Lt]);return he(()=>{let{subscription:Fn}=Ir;return Fn.onStateChange=Fn.notifyNestedSubs,Fn.trySubscribe(),fn!==Lt.getState()&&Fn.notifyNestedSubs(),()=>{Fn.tryUnsubscribe(),Fn.onStateChange=void 0}},[Ir,fn]),h.createElement((rr||nn).Provider,{value:Ir},Jt)}var Ft=at;function Tt(Yt=nn){return function(){return h.useContext(Yt)}}var ir=Tt();function or(Yt=nn){let Jt=Yt===nn?ir:Tt(Yt),rr=()=>{let{store:vr}=Jt();return vr};return Object.assign(rr,{withTypes:()=>rr}),rr}var ar=or();function zr(Yt=nn){let Jt=Yt===nn?ar:or(Yt),rr=()=>Jt().dispatch;return Object.assign(rr,{withTypes:()=>rr}),rr}var mt=zr(),It=qhe(),Kt=(Yt,Jt)=>Yt===Jt;function br(Yt=nn){let Jt=Yt===nn?ir:Tt(Yt),rr=(vr,Lt={})=>{let{equalityFn:Ir=Kt}=typeof Lt=="function"?{equalityFn:Lt}:Lt,fn=Jt(),{store:Fn,subscription:ui,getServerState:yi}=fn;h.useRef(!0);let Wn=h.useCallback({[vr.name](ya){return vr(ya)}}[vr.name],[vr]),mi=(0,It.useSyncExternalStoreWithSelector)(ui.addNestedSub,Fn.getState,yi||Fn.getState,Wn,Ir);return h.useDebugValue(mi),mi};return Object.assign(rr,{withTypes:()=>rr}),rr}var Rr=br(),jt=Ge;return qD}var cK;function uS(){return cK||(cK=1,BD.exports=$Te()),BD.exports}var HD={},rs={},u_={},fK;function sg(){if(fK)return u_;fK=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.postJson=u_.Config=void 0;function e(l){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(l)}function t(l,u){var f=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);u&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(l,p).enumerable})),f.push.apply(f,h)}return f}function r(l){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?t(Object(f),!0).forEach(function(h){n(l,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(f)):t(Object(f)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(f,h))})}return l}function n(l,u,f){return u=i(u),u in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l}function i(l){var u=a(l,"string");return e(u)==="symbol"?u:String(u)}function a(l,u){if(e(l)!=="object"||l===null)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var h=f.call(l,u);if(e(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(l)}var s=function(){var l=null;return function u(f){return arguments.length?(l=r({},f),Object.assign(u,f),u):l}}();u_.Config=s;var o=function(u,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return fetch(u,r({method:"POST",headers:{Accept:"application/json, text/plain","Content-type":"application/json"},body:JSON.stringify(f)},h)).then(function(p){if(p.ok)return p.json();throw new Error("There was a network problem.")})};return u_.postJson=o,u_}var dK;function _w(){if(dK)return rs;dK=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.updatePassword=rs.setUserToken=rs.setPassword=rs.resetPassword=rs.removeUserToken=rs.receiveAuthResponse=rs.logout=rs.login=rs.isAuthenticating=rs.getUserToken=rs.auth=rs.USER_LOGOUT=rs.USER_LOGIN=rs.UPDATE_USER=rs.IS_AUTHENTICATING=rs.AUTH_FAILURE=void 0;var e=g0(),t=sg(),r="AMS::USER_LOGIN";rs.USER_LOGIN=r;var n="AMS::USER_LOGOUT";rs.USER_LOGOUT=n;var i="AMS::AUTH_FAILURE";rs.AUTH_FAILURE=i;var a="AMS::UPDATE_USER";rs.UPDATE_USER=a;var s="AMS::IS_AUTHENTICATING";rs.IS_AUTHENTICATING=s;var o=function(P){return{type:r,user:P}};rs.receiveAuthResponse=o;var l=function(P){window.localStorage&&window.localStorage.setItem("userToken",P.token)};rs.setUserToken=l;var u=function(P){return window.localStorage?window.localStorage.getItem("userToken"):null};rs.getUserToken=u;var f=function(){window.localStorage&&window.localStorage.removeItem("userToken")};rs.removeUserToken=f;var h=function(){return function(P){return Promise.resolve(P({type:n}))}};rs.logout=h;var p=function(){return{type:s}};rs.isAuthenticating=p;var m=function(P,S){return function(E){var _=(0,t.Config)(),R=_.AUTH_HOST,O=_.PROJECT_NAME;return E(p()),(0,t.postJson)("".concat(R,"/login"),{email:P,password:S,project:O}).then(function(F){F.error?(E({type:i}),E((0,e.sendSystemMessage)(F.error,{type:"Danger"}))):E(o(F.user))}).catch(function(F){E((0,e.sendSystemMessage)("Cannot contact authentication server.")),E({type:i})})}};rs.login=m;var v=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u();return function(S){return P?(S(p()),(0,t.postJson)("".concat(t.Config.AUTH_HOST,"/auth"),{token:P,project:t.Config.PROJECT_NAME}).then(function(E){E.error?(S({type:i}),S((0,e.sendSystemMessage)(E.error))):S(o(E.user))}).catch(function(E){S((0,e.sendSystemMessage)("Cannot contact authentication server.")),S({type:i})})):S({type:i})}};rs.auth=v;var w=function(P,S){return function(E,_){var R=_().user.token;return R?(0,t.postJson)("".concat(t.Config.AUTH_HOST,"/password/update"),{token:R,current:P,password:S}).then(function(O){return O.error?E((0,e.sendSystemMessage)(O.error)):(l(O),E((0,e.sendSystemMessage)(O.message)),E({type:a,update:{token:O.token}}))}):Promise.resolve()}};rs.updatePassword=w;var x=function(P,S){return function(E){var _=(0,t.Config)(),R=_.AUTH_HOST,O=_.CLIENT_HOST;return(0,t.postJson)("".concat(R,"/password/set"),{token:P,password:S,host:O,url:"/auth/set-passord"}).then(function(F){if(F.error)E((0,e.sendSystemMessage)(F.error));else return F.message&&E((0,e.sendSystemMessage)(F.message)),E(v(F.token))})}};rs.setPassword=x;var T=function(P){return function(S){var E=(0,t.Config)(),_=E.AUTH_HOST,R=E.PROJECT_NAME,O=E.CLIENT_HOST;return(0,t.postJson)("".concat(_,"/password/reset"),{email:P,project_name:R,host:O,url:"/auth/set-password"}).then(function(F){F.error?S((0,e.sendSystemMessage)(F.error)):S((0,e.sendSystemMessage)(F.message))})}};return rs.resetPassword=T,rs}var Yu={},Sl={},hK;function GI(){if(hK)return Sl;hK=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.usersForGroup=Sl.removeFromGroup=Sl.getUsersPreferences=Sl.getUsers=Sl.getLogins=Sl.deleteUser=Sl.createFake=Sl.assignToGroup=Sl.USERS_IN_GROUPS=Sl.GET_USERS_PREFERENCES=Sl.GET_USERS=Sl.GET_LOGINS=void 0;var e=_w(),t=g0(),r=sg();function n(E){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(E)}function i(E,_){var R=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);_&&(O=O.filter(function(F){return Object.getOwnPropertyDescriptor(E,F).enumerable})),R.push.apply(R,O)}return R}function a(E){for(var _=1;_<arguments.length;_++){var R=arguments[_]!=null?arguments[_]:{};_%2?i(Object(R),!0).forEach(function(O){s(E,O,R[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):i(Object(R)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(R,O))})}return E}function s(E,_,R){return _=o(_),_ in E?Object.defineProperty(E,_,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[_]=R,E}function o(E){var _=l(E,"string");return n(_)==="symbol"?_:String(_)}function l(E,_){if(n(E)!=="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var O=R.call(E,_);if(n(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(E)}var u="AMS::GET_USERS";Sl.GET_USERS=u;var f="AMS::USERS_IN_GROUPS";Sl.USERS_IN_GROUPS=f;var h="AMS::GET_USERS_PREFERENCES";Sl.GET_USERS_PREFERENCES=h;var p="AMS::GET_LOGINS";Sl.GET_LOGINS=p;var m=function(){return function(_,R){var O=R().user.token;return O?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/users"),{token:O}).then(function(F){F.error?(_((0,e.auth)()),_((0,t.sendSystemMessage)(F.error))):_(a({type:u},F))}):Promise.resolve()}};Sl.getUsers=m;var v=function(_){return function(R,O){var F=O().user.token;return F?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/users/bygroup"),{token:F,groups:[_]}).then(function($){$.error?(R((0,e.auth)()),R((0,t.sendSystemMessage)($.error))):R(a({type:f,group:_},$))}):Promise.resolve()}};Sl.usersForGroup=v;var w=function(_,R){return function(O,F){var $=F().user,z=$.token,q=$.email;return z?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/user/group/assign"),{token:z,user_email:_,group_name:R}).then(function(Z){return Z.error?(O((0,e.auth)()),O((0,t.sendSystemMessage)(Z.error))):O(m()).then(function(){q===_&&O((0,e.auth)())}).then(function(){if(Z.message)return O((0,t.sendSystemMessage)(Z.message))})}):Promise.resolve()}};Sl.assignToGroup=w;var x=function(_,R){return function(O,F){var $=F().user,z=$.token,q=$.email;return z?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/user/group/remove"),{token:z,user_email:_,group_name:R}).then(function(Z){if(Z.error)O((0,e.auth)()),O((0,t.sendSystemMessage)(Z.error));else return O(m()).then(function(){q===_&&O((0,e.auth)())}).then(function(){Z.message&&O((0,t.sendSystemMessage)(Z.message))})}):Promise.resolve()}};Sl.removeFromGroup=x;var T=function(_){return function(R,O){var F=O().user.token;return F?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/user/delete"),{token:F,user_email:_}).then(function($){$.error?(R((0,e.auth)()),R((0,t.sendSystemMessage)($.error))):(R(m()),R((0,e.auth)()),$.message&&R((0,t.sendSystemMessage)($.message)))}):Promise.resolve()}};Sl.deleteUser=T;var A=function(){return function(_,R){var O=R().user.token;return O?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/user/create/fake"),{token:O}).then(function(F){F.error?(_((0,e.auth)()),_((0,t.sendSystemMessage)(F.error))):(_(m()),_((0,t.sendSystemMessage)(F.message,{duration:1e4})))}):Promise.resolve()}};Sl.createFake=A;var P=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{userEmails:[],preferenceKey:null};return function(R,O){var F=O().user.token;if(F){var $=_.userEmails,z=_.preferenceKey,q=(0,r.Config)(),Z=q.AUTH_HOST;q.PROJECT_NAME,(0,r.postJson)("".concat(Z,"/users/preferences"),{token:F,userEmails:$,preferenceKey:z}).then(function(V){V.error?R((0,t.sendSystemMessage)(V.error)):R({type:h,preferences:V.preferences||{}})})}else return Promise.resolve()}};Sl.getUsersPreferences=P;var S=function(){return function(_,R){var O=R().user.token;return O?(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/logins"),{token:O}).then(function(F){F.error?(_((0,e.auth)()),_((0,t.sendSystemMessage)(F.error))):_(a({type:p},F))}):Promise.resolve()}};return Sl.getLogins=S,Sl}var pK;function Hhe(){if(pK)return Yu;pK=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.updateGroupMeta=Yu.removeFromProject=Yu.groupsForProject=Yu.getGroups=Yu.deleteGroup=Yu.createGroup=Yu.createAndAssign=Yu.assignToProject=Yu.adjustAuthLevel=Yu.GET_GROUPS=void 0;var e=_w(),t=GI(),r=g0(),n=sg();function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(S,E){var _=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);E&&(R=R.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),_.push.apply(_,R)}return _}function s(S){for(var E=1;E<arguments.length;E++){var _=arguments[E]!=null?arguments[E]:{};E%2?a(Object(_),!0).forEach(function(R){o(S,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):a(Object(_)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(_,R))})}return S}function o(S,E,_){return E=l(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function l(S){var E=u(S,"string");return i(E)==="symbol"?E:String(E)}function u(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var f="AMS::GET_GROUPS";Yu.GET_GROUPS=f;var h=function(){return function(E,_){var R=_().user.token;return R?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/groups"),{token:R}).then(function(O){O.error?(E((0,e.auth)()),E((0,r.sendSystemMessage)(O.error))):E(s({type:f},O))}):Promise.resolve()}};Yu.getGroups=h;var p=function(){return function(E,_){var R=_().user.token,O=(0,n.Config)(),F=O.AUTH_HOST,$=O.PROJECT_NAME;return R?(0,n.postJson)("".concat(F,"/groups/byproject"),{token:R,project:$}).then(function(z){z.error?(E((0,e.auth)()),E((0,r.sendSystemMessage)(z.error))):E(s({type:f},z))}):Promise.resolve()}};Yu.groupsForProject=p;var m=function(E){return function(_,R){var O=R().user.token;return O?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/create"),{token:O,name:E}).then(function(F){F.error?(_((0,e.auth)()),_((0,r.sendSystemMessage)(F.error))):(_(h()),F.message&&_((0,r.sendSystemMessage)(F.message)))}):Promise.resolve()}};Yu.createGroup=m;var v=function(E){return function(_,R){var O=R().user,F=O.token,$=O.groups;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/delete"),{token:F,name:E}).then(function(z){z.error?(_((0,e.auth)()),_((0,r.sendSystemMessage)(z.error))):($.includes(E)&&_((0,e.auth)()),_((0,t.getUsers)()),_(h()),z.message&&_((0,r.sendSystemMessage)(z.message)))}):Promise.resolve()}};Yu.deleteGroup=v;var w=function(E,_){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(O,F){var $=F().user.token;return $?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/create/project/assign"),{token:$,group_name:E,meta:R,project_name:n.Config.PROJECT_NAME,auth_level:_}).then(function(z){z.error?(O((0,e.auth)()),O((0,r.sendSystemMessage)(z.error))):(O(h()),z.message&&O((0,r.sendSystemMessage)(z.message)))}):Promise.resolve()}};Yu.createAndAssign=w;var x=function(E,_){return function(R,O){var F=O().user,$=F.token,z=F.groups;return $?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/project/assign"),{token:$,group_name:E,project_name:n.Config.PROJECT_NAME,auth_level:_}).then(function(q){q.error?(R((0,e.auth)()),R((0,r.sendSystemMessage)(q.error))):(z.includes(E)&&R((0,e.auth)()),R(h()),q.message&&R((0,r.sendSystemMessage)(q.message)))}):Promise.resolve()}};Yu.assignToProject=x;var T=function(E){return function(_,R){var O=R().user,F=O.token,$=O.groups;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/project/remove"),{token:F,group_name:E,project_name:n.Config.PROJECT_NAME}).then(function(z){z.error?(_((0,e.auth)()),_((0,r.sendSystemMessage)(z.error))):($.includes(E)&&_((0,e.auth)()),_(h()),_((0,t.getUsers)()),z.message&&_((0,r.sendSystemMessage)(z.message)))}):Promise.resolve()}};Yu.removeFromProject=T;var A=function(E,_){return function(R,O){var F=O().user.token;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/project/adjust"),{token:F,group_name:E,project_name:n.Config.PROJECT_NAME,auth_level:_}).then(function($){$.error?(R((0,e.auth)()),R((0,r.sendSystemMessage)($.error))):(R(h()),$.message&&R((0,r.sendSystemMessage)($.message)))}):Promise.resolve()}};Yu.adjustAuthLevel=A;var P=function(E,_){return function(R,O){var F=O().user.token;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/group/meta/update"),{token:F,group_name:E,meta:_}).then(function($){$.error?(R((0,e.auth)()),R((0,r.sendSystemMessage)($.error))):(R(h()),$.message&&R((0,r.sendSystemMessage)($.message)))}):Promise.resolve()}};return Yu.updateGroupMeta=P,Yu}var Xu={},mK;function Whe(){if(mK)return Xu;mK=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.verifyRequest=Xu.verifyEmail=Xu.signupReject=Xu.signupAccept=Xu.signup=Xu.sendInvite=Xu.getRequests=Xu.deleteRequest=Xu.acceptInvite=Xu.GET_REQUESTS=void 0;var e=_w(),t=g0(),r=GI(),n=sg();function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(S,E){var _=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);E&&(R=R.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),_.push.apply(_,R)}return _}function s(S){for(var E=1;E<arguments.length;E++){var _=arguments[E]!=null?arguments[E]:{};E%2?a(Object(_),!0).forEach(function(R){o(S,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):a(Object(_)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(_,R))})}return S}function o(S,E,_){return E=l(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function l(S){var E=u(S,"string");return i(E)==="symbol"?E:String(E)}function u(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var f="AMS::GET_REQUESTS";Xu.GET_REQUESTS=f;var h=function(){return function(E,_){var R=_().user.token;return R?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/requests/byProject"),{token:R,project_name:n.Config.PROJECT_NAME}).then(function(O){O.error?E((0,t.sendSystemMessage)(O.error)):(E(s({type:f},O)),O.message&&E((0,t.sendSystemMessage)(O.message)))}):Promise.resolve()}};Xu.getRequests=h;var p=function(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(R){return(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/signup/request"),{email:E,addToGroup:_,project:n.Config.PROJECT_NAME,host:n.Config.CLIENT_HOST,url:_?"/auth/verify-request":"/auth/verify-email"}).then(function(O){return O.error?R((0,t.sendSystemMessage)(O.error,{type:"Danger"})):(O.user&&R((0,e.receiveAuthResponse)(O.user)),R((0,t.sendSystemMessage)(O.message)))}).catch(function(O){return console.log("err",O)})}};Xu.signup=p;var m=function(E,_){return function(R,O){var F=O().user.token;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/signup/accept"),{group_name:_,user_email:E,token:F,project_name:n.Config.PROJECT_NAME,host:n.Config.CLIENT_HOST,url:"/auth/set-password"}).then(function($){return $.error?R((0,t.sendSystemMessage)($.error,{type:"Danger"})):(R(h()),R((0,r.getUsers)()),R((0,t.sendSystemMessage)($.message)))}):Promise.resolve()}};Xu.signupAccept=m;var v=function(E){var _=E.user_email,R=E.project_name;return function(O,F){var $=F().user.token;return $?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/signup/reject"),{token:$,user_email:_,project_name:R}).then(function(z){z.error?O((0,t.sendSystemMessage)(z.error)):(O(h()),O((0,r.getUsers)()),z.message&&O((0,t.sendSystemMessage)(z.message)))}):Promise.resolve()}};Xu.signupReject=v;var w=function(E){return function(_){return(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/email/verify"),{token:E}).then(function(R){return{dispatch:_,res:R,sendSystemMessage:t.sendSystemMessage}})}};Xu.verifyEmail=w;var x=function(E,_){return function(R){return(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/signup/request/verify"),{token:E,password:_}).then(function(O){return console.log("verifyRequest::res",O),O.error?R((0,t.sendSystemMessage)(O.error,{type:"Danger"})):(R((0,t.sendSystemMessage)(O.message)),R((0,e.receiveAuthResponse)(O.user)))})}};Xu.verifyRequest=x;var T=function(E){return function(_,R){var O=R().user.token;return O?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/signup/delete"),{token:O,user_email:E.user_email,project_name:E.project_name}).then(function(F){F.error?(_((0,e.auth)()),_((0,t.sendSystemMessage)(F.error))):(_(h()),F.message&&_((0,t.sendSystemMessage)(F.message)))}):Promise.resolve()}};Xu.deleteRequest=T;var A=function(E,_){return function(R,O){var F=O().user.token;return F?(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/invite"),{token:F,user_email:E,group_name:_,project_name:n.Config.PROJECT_NAME,host:n.Config.CLIENT_HOST,url:"/auth/accept-invite"}).then(function($){$.error?(R((0,e.auth)()),R((0,t.sendSystemMessage)($.error))):(R(h()),R((0,t.sendSystemMessage)($.message)))}):Promise.resolve()}};Xu.sendInvite=A;var P=function(E,_){return function(R){return(0,n.postJson)("".concat(n.Config.AUTH_HOST,"/invite/accept"),{token:E,password:_}).then(function(O){return O.error?(R((0,e.auth)()),R((0,t.sendSystemMessage)(O.error,{type:"Danger"}))):(R((0,t.sendSystemMessage)(O.message)),R((0,e.receiveAuthResponse)(O.user)))})}};return Xu.acceptInvite=P,Xu}var Iy={},gK;function Vhe(){if(gK)return Iy;gK=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.updateUserPreferences=Iy.getUserPreferences=Iy.GET_PREFERENCES=void 0;var e=g0(),t=sg(),r="AMS::GET_PREFERENCES";Iy.GET_PREFERENCES=r;var n=function(){return function(s,o){var l=o().user.token;if(l){var u=(0,t.Config)(),f=u.AUTH_HOST,h=u.PROJECT_NAME;(0,t.postJson)("".concat(f,"/preferences"),{token:l,project:h}).then(function(p){p.error?s((0,e.sendSystemMessage)(p.error)):s({type:r,preferences:p.preferences||{}})})}else return Promise.resolve()}};Iy.getUserPreferences=n;var i=function(s){return function(o,l){var u=l().user.token;if(u){var f=(0,t.Config)(),h=f.AUTH_HOST,p=f.PROJECT_NAME;(0,t.postJson)("".concat(h,"/preferences/update"),{token:u,project:p,preferences:s}).then(function(m){m.error?o((0,e.sendSystemMessage)(m.error)):(o((0,e.sendSystemMessage)(m.message)),o({type:r,preferences:m.preferences}))})}else return Promise.resolve()}};return Iy.updateUserPreferences=i,Iy}var My={},vK;function Ghe(){if(vK)return My;vK=1,Object.defineProperty(My,"__esModule",{value:!0}),My.getSlackUserFromUserId=My.getSlackUserFromEmail=My.GET_SLACK_USER=void 0;var e=g0(),t=sg(),r="AMS::GET_SLACK_USER";My.GET_SLACK_USER=r;var n=function(s){return function(o,l){var u=(0,t.Config)(),f=u.SLACK_KEY;if(f){var h="https://slack.com/api/users.lookupByEmail",p={method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:"token=".concat(encodeURIComponent(f),"&email=").concat(encodeURIComponent(s))};return fetch(h,p).then(function(m){if(m.ok)return m.json();o((0,e.sendSystemMessage)("There was a network error."))}).then(function(m){m.ok?o({type:r,slacker:m.user}):o((0,e.sendSystemMessage)(m.error))})}else return Promise.resolve()}};My.getSlackUserFromEmail=n;var i=function(s){return function(o,l){var u=(0,t.Config)(),f=u.SLACK_KEY;if(!f)return Promise.resolve()}};return My.getSlackUserFromUserId=i,My}var Gp={},yK;function Khe(){if(yK)return Gp;yK=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.viewMessages=Gp.postMessage=Gp.getMessages=Gp.deleteMessages=Gp.GET_MESSAGES=void 0;var e=g0(),t=sg();function r(m){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},r(m)}function n(m,v){var w=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);v&&(x=x.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),w.push.apply(w,x)}return w}function i(m){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?n(Object(w),!0).forEach(function(x){a(m,x,w[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(w)):n(Object(w)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(w,x))})}return m}function a(m,v,w){return v=s(v),v in m?Object.defineProperty(m,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[v]=w,m}function s(m){var v=o(m,"string");return r(v)==="symbol"?v:String(v)}function o(m,v){if(r(m)!=="object"||m===null)return m;var w=m[Symbol.toPrimitive];if(w!==void 0){var x=w.call(m,v);if(r(x)!=="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(m)}var l="AMS::GET_MESSAGES";Gp.GET_MESSAGES=l;var u=function(){return function(v,w){var x=w().user.token;if(x){var T=(0,t.Config)(),A=T.AUTH_HOST,P=T.PROJECT_NAME;(0,t.postJson)("".concat(A,"/messages"),{token:x,project:P}).then(function(S){S.error?v((0,e.sendSystemMessage)(S.error)):v(i({type:l},S))}).catch(function(S){(0,e.sendSystemMessage)(S)})}else return Promise.resolve()}};Gp.getMessages=u;var f=function(v){return function(w,x){var T=x().user.token;if(T){var A=(0,t.Config)(),P=A.AUTH_HOST;(0,t.postJson)("".concat(P,"/messages/view"),{token:T,ids:v}).then(function(S){S.error?w((0,e.sendSystemMessage)(S.error)):w(u())}).catch(function(S){(0,e.sendSystemMessage)(S)})}else return Promise.resolve()}};Gp.viewMessages=f;var h=function(v){return function(w,x){var T=x().user.token;if(T){var A=(0,t.Config)(),P=A.AUTH_HOST;(0,t.postJson)("".concat(P,"/messages/delete"),{token:T,ids:v}).then(function(S){S.error?w((0,e.sendSystemMessage)(S.error)):w(u())}).catch(function(S){(0,e.sendSystemMessage)(S)})}else return Promise.resolve()}};Gp.deleteMessages=h;var p=function(v,w,x,T){return function(A,P){var S=P().user.token;if(S){var E=(0,t.Config)(),_=E.AUTH_HOST,R=E.PROJECT_NAME;return(0,t.postJson)("".concat(_,"/messages/post"),{token:S,heading:v,message:w,type:x,target:T,project:R}).then(function(O){O.error?A((0,e.sendSystemMessage)(O.error)):O.message&&A((0,e.sendSystemMessage)(O.message,{type:"Info"}))})}else return Promise.resolve()}};return Gp.postMessage=p,Gp}var bK;function vU(){return bK||(bK=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"acceptInvite",{enumerable:!0,get:function(){return i.acceptInvite}}),Object.defineProperty(e,"adjustAuthLevel",{enumerable:!0,get:function(){return r.adjustAuthLevel}}),Object.defineProperty(e,"assignToGroup",{enumerable:!0,get:function(){return n.assignToGroup}}),Object.defineProperty(e,"assignToProject",{enumerable:!0,get:function(){return r.assignToProject}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return t.auth}}),Object.defineProperty(e,"createAndAssign",{enumerable:!0,get:function(){return r.createAndAssign}}),Object.defineProperty(e,"createGroup",{enumerable:!0,get:function(){return r.createGroup}}),Object.defineProperty(e,"deleteGroup",{enumerable:!0,get:function(){return r.deleteGroup}}),Object.defineProperty(e,"deleteMessages",{enumerable:!0,get:function(){return o.deleteMessages}}),Object.defineProperty(e,"deleteRequest",{enumerable:!0,get:function(){return i.deleteRequest}}),Object.defineProperty(e,"deleteUser",{enumerable:!0,get:function(){return n.deleteUser}}),Object.defineProperty(e,"getGroups",{enumerable:!0,get:function(){return r.getGroups}}),Object.defineProperty(e,"getLogins",{enumerable:!0,get:function(){return n.getLogins}}),Object.defineProperty(e,"getMessages",{enumerable:!0,get:function(){return o.getMessages}}),Object.defineProperty(e,"getRequests",{enumerable:!0,get:function(){return i.getRequests}}),Object.defineProperty(e,"getSlackUserFromEmail",{enumerable:!0,get:function(){return s.getSlackUserFromEmail}}),Object.defineProperty(e,"getSlackUserFromUserId",{enumerable:!0,get:function(){return s.getSlackUserFromUserId}}),Object.defineProperty(e,"getUserPreferences",{enumerable:!0,get:function(){return a.getUserPreferences}}),Object.defineProperty(e,"getUsers",{enumerable:!0,get:function(){return n.getUsers}}),Object.defineProperty(e,"getUsersPreferences",{enumerable:!0,get:function(){return n.getUsersPreferences}}),Object.defineProperty(e,"login",{enumerable:!0,get:function(){return t.login}}),Object.defineProperty(e,"logout",{enumerable:!0,get:function(){return t.logout}}),Object.defineProperty(e,"postMessage",{enumerable:!0,get:function(){return o.postMessage}}),Object.defineProperty(e,"removeFromGroup",{enumerable:!0,get:function(){return n.removeFromGroup}}),Object.defineProperty(e,"removeFromProject",{enumerable:!0,get:function(){return r.removeFromProject}}),Object.defineProperty(e,"resetPassword",{enumerable:!0,get:function(){return t.resetPassword}}),Object.defineProperty(e,"sendInvite",{enumerable:!0,get:function(){return i.sendInvite}}),Object.defineProperty(e,"setPassword",{enumerable:!0,get:function(){return t.setPassword}}),Object.defineProperty(e,"signup",{enumerable:!0,get:function(){return i.signup}}),Object.defineProperty(e,"signupAccept",{enumerable:!0,get:function(){return i.signupAccept}}),Object.defineProperty(e,"signupReject",{enumerable:!0,get:function(){return i.signupReject}}),Object.defineProperty(e,"updateGroupMeta",{enumerable:!0,get:function(){return r.updateGroupMeta}}),Object.defineProperty(e,"updatePassword",{enumerable:!0,get:function(){return t.updatePassword}}),Object.defineProperty(e,"updateUserPreferences",{enumerable:!0,get:function(){return a.updateUserPreferences}}),Object.defineProperty(e,"usersForGroup",{enumerable:!0,get:function(){return n.usersForGroup}}),Object.defineProperty(e,"verifyEmail",{enumerable:!0,get:function(){return i.verifyEmail}}),Object.defineProperty(e,"verifyRequest",{enumerable:!0,get:function(){return i.verifyRequest}}),Object.defineProperty(e,"viewMessages",{enumerable:!0,get:function(){return o.viewMessages}});var t=_w(),r=Hhe(),n=GI(),i=Whe(),a=Vhe(),s=Ghe(),o=Khe()}(HD)),HD}var _K;function yU(){return _K||(_K=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useAmsApi=e.default=e.AmsApiContext=void 0;var t=s(vn()),r=uS(),n=a(vU());function i(x){if(typeof WeakMap!="function")return null;var T=new WeakMap,A=new WeakMap;return(i=function(S){return S?A:T})(x)}function a(x,T){if(x&&x.__esModule)return x;if(x===null||o(x)!=="object"&&typeof x!="function")return{default:x};var A=i(T);if(A&&A.has(x))return A.get(x);var P={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in x)if(E!=="default"&&Object.prototype.hasOwnProperty.call(x,E)){var _=S?Object.getOwnPropertyDescriptor(x,E):null;_&&(_.get||_.set)?Object.defineProperty(P,E,_):P[E]=x[E]}return P.default=x,A&&A.set(x,P),P}function s(x){return x&&x.__esModule?x:{default:x}}function o(x){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},o(x)}function l(x,T){var A=Object.keys(x);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(x);T&&(P=P.filter(function(S){return Object.getOwnPropertyDescriptor(x,S).enumerable})),A.push.apply(A,P)}return A}function u(x){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?l(Object(A),!0).forEach(function(P){f(x,P,A[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(A)):l(Object(A)).forEach(function(P){Object.defineProperty(x,P,Object.getOwnPropertyDescriptor(A,P))})}return x}function f(x,T,A){return T=h(T),T in x?Object.defineProperty(x,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):x[T]=A,x}function h(x){var T=p(x,"string");return o(T)==="symbol"?T:String(T)}function p(x,T){if(o(x)!=="object"||x===null)return x;var A=x[Symbol.toPrimitive];if(A!==void 0){var P=A.call(x,T);if(o(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(x)}var m=t.default.createContext(u({},n));e.AmsApiContext=m;var v=function(){return t.default.useContext(m)};e.useAmsApi=v;var w=function(T){var A=function(S){return{user:S.user,slacker:S.slacker,groups:S.groups,users:S.users,requests:S.requests,messages:S.avlMessages,preferences:S.preferences}};return(0,r.connect)(A,u({},n))(T)};e.default=w}(zD)),zD}var WD={},c_={},SE={},Ja={},wK;function bU(){if(wK)return Ja;wK=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.createLineSplittingTransform=Ja.Deferred=Ja.TYPE_PREVIOUS_RESOLVED=Ja.TYPE_URL=Ja.TYPE_SYMBOL=Ja.TYPE_SET=Ja.TYPE_REGEXP=Ja.TYPE_PROMISE=Ja.TYPE_NULL_OBJECT=Ja.TYPE_MAP=Ja.TYPE_ERROR=Ja.TYPE_DATE=Ja.TYPE_BIGINT=Ja.UNDEFINED=Ja.POSITIVE_INFINITY=Ja.NULL=Ja.NEGATIVE_ZERO=Ja.NEGATIVE_INFINITY=Ja.NAN=Ja.HOLE=void 0,Ja.HOLE=-1,Ja.NAN=-2,Ja.NEGATIVE_INFINITY=-3,Ja.NEGATIVE_ZERO=-4,Ja.NULL=-5,Ja.POSITIVE_INFINITY=-6,Ja.UNDEFINED=-7,Ja.TYPE_BIGINT="B",Ja.TYPE_DATE="D",Ja.TYPE_ERROR="E",Ja.TYPE_MAP="M",Ja.TYPE_NULL_OBJECT="N",Ja.TYPE_PROMISE="P",Ja.TYPE_REGEXP="R",Ja.TYPE_SET="S",Ja.TYPE_SYMBOL="Y",Ja.TYPE_URL="U",Ja.TYPE_PREVIOUS_RESOLVED="Z";class e{constructor(){Ga(this,"promise");Ga(this,"resolve");Ga(this,"reject");this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}Ja.Deferred=e;function t(){const r=new TextDecoder;let n="";return new TransformStream({transform(i,a){const s=r.decode(i,{stream:!0}),o=(n+s).split(`
`);n=o.pop()||"";for(const l of o)a.enqueue(l)},flush(i){n&&i.enqueue(n)}})}return Ja.createLineSplittingTransform=t,Ja}var xK;function zTe(){if(xK)return SE;xK=1,Object.defineProperty(SE,"__esModule",{value:!0}),SE.flatten=void 0;const e=bU();function t(a){const{indices:s}=this,o=s.get(a);if(o)return[o];if(a===void 0)return e.UNDEFINED;if(a===null)return e.NULL;if(Number.isNaN(a))return e.NAN;if(a===Number.POSITIVE_INFINITY)return e.POSITIVE_INFINITY;if(a===Number.NEGATIVE_INFINITY)return e.NEGATIVE_INFINITY;if(a===0&&1/a<0)return e.NEGATIVE_ZERO;const l=this.index++;return s.set(a,l),r.call(this,a,l),l}SE.flatten=t;function r(a,s){const{deferred:o,plugins:l,postPlugins:u}=this,f=this.stringified,h=[[a,s]];for(;h.length>0;){const[p,m]=h.pop(),v=x=>Object.keys(x).map(T=>`"_${t.call(this,T)}":${t.call(this,x[T])}`).join(",");let w=null;switch(typeof p){case"boolean":case"number":case"string":f[m]=JSON.stringify(p);break;case"bigint":f[m]=`["${e.TYPE_BIGINT}","${p}"]`;break;case"symbol":{const x=Symbol.keyFor(p);x?f[m]=`["${e.TYPE_SYMBOL}",${JSON.stringify(x)}]`:w=new Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!p){f[m]=`${e.NULL}`;break}const x=Array.isArray(p);let T=!1;if(!x&&l)for(const A of l){const P=A(p);if(Array.isArray(P)){T=!0;const[S,...E]=P;f[m]=`[${JSON.stringify(S)}`,E.length>0&&(f[m]+=`,${E.map(_=>t.call(this,_)).join(",")}`),f[m]+="]";break}}if(!T){let A=x?"[":"{";if(x){for(let P=0;P<p.length;P++)A+=(P?",":"")+(P in p?t.call(this,p[P]):e.HOLE);f[m]=`${A}]`}else p instanceof Date?f[m]=`["${e.TYPE_DATE}",${p.getTime()}]`:p instanceof URL?f[m]=`["${e.TYPE_URL}",${JSON.stringify(p.href)}]`:p instanceof RegExp?f[m]=`["${e.TYPE_REGEXP}",${JSON.stringify(p.source)},${JSON.stringify(p.flags)}]`:p instanceof Set?p.size>0?f[m]=`["${e.TYPE_SET}",${[...p].map(P=>t.call(this,P)).join(",")}]`:f[m]=`["${e.TYPE_SET}"]`:p instanceof Map?p.size>0?f[m]=`["${e.TYPE_MAP}",${[...p].flatMap(([P,S])=>[t.call(this,P),t.call(this,S)]).join(",")}]`:f[m]=`["${e.TYPE_MAP}"]`:p instanceof Promise?(f[m]=`["${e.TYPE_PROMISE}",${m}]`,o[m]=p):p instanceof Error?(f[m]=`["${e.TYPE_ERROR}",${JSON.stringify(p.message)}`,p.name!=="Error"&&(f[m]+=`,${JSON.stringify(p.name)}`),f[m]+="]"):Object.getPrototypeOf(p)===null?f[m]=`["${e.TYPE_NULL_OBJECT}",{${v(p)}}]`:i(p)?f[m]=`{${v(p)}}`:w=new Error("Cannot encode object with prototype")}break}default:{const x=Array.isArray(p);let T=!1;if(!x&&l)for(const A of l){const P=A(p);if(Array.isArray(P)){T=!0;const[S,...E]=P;f[m]=`[${JSON.stringify(S)}`,E.length>0&&(f[m]+=`,${E.map(_=>t.call(this,_)).join(",")}`),f[m]+="]";break}}T||(w=new Error("Cannot encode function or unexpected type"))}}if(w){let x=!1;if(u)for(const T of u){const A=T(p);if(Array.isArray(A)){x=!0;const[P,...S]=A;f[m]=`[${JSON.stringify(P)}`,S.length>0&&(f[m]+=`,${S.map(E=>t.call(this,E)).join(",")}`),f[m]+="]";break}}if(!x)throw w}}}const n=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i(a){const s=Object.getPrototypeOf(a);return s===Object.prototype||s===null||Object.getOwnPropertyNames(s).sort().join("\0")===n}return SE}var EE={},SK;function BTe(){if(SK)return EE;SK=1,Object.defineProperty(EE,"__esModule",{value:!0}),EE.unflatten=void 0;const e=bU(),t=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function r(i){const{hydrated:a,values:s}=this;if(typeof i=="number")return n.call(this,i);if(!Array.isArray(i)||!i.length)throw new SyntaxError;const o=s.length;for(const l of i)s.push(l);return a.length=s.length,n.call(this,o)}EE.unflatten=r;function n(i){const{hydrated:a,values:s,deferred:o,plugins:l}=this;let u;const f=[[i,p=>{u=p}]];let h=[];for(;f.length>0;){const[p,m]=f.pop();switch(p){case e.UNDEFINED:m(void 0);continue;case e.NULL:m(null);continue;case e.NAN:m(NaN);continue;case e.POSITIVE_INFINITY:m(1/0);continue;case e.NEGATIVE_INFINITY:m(-1/0);continue;case e.NEGATIVE_ZERO:m(-0);continue}if(a[p]){m(a[p]);continue}const v=s[p];if(!v||typeof v!="object"){a[p]=v,m(v);continue}if(Array.isArray(v))if(typeof v[0]=="string"){const[w,x,T]=v;switch(w){case e.TYPE_DATE:m(a[p]=new Date(x));continue;case e.TYPE_URL:m(a[p]=new URL(x));continue;case e.TYPE_BIGINT:m(a[p]=BigInt(x));continue;case e.TYPE_REGEXP:m(a[p]=new RegExp(x,T));continue;case e.TYPE_SYMBOL:m(a[p]=Symbol.for(x));continue;case e.TYPE_SET:const A=new Set;a[p]=A;for(let O=1;O<v.length;O++)f.push([v[O],F=>{A.add(F)}]);m(A);continue;case e.TYPE_MAP:const P=new Map;a[p]=P;for(let O=1;O<v.length;O+=2){const F=[];f.push([v[O+1],$=>{F[1]=$}]),f.push([v[O],$=>{F[0]=$}]),h.push(()=>{P.set(F[0],F[1])})}m(P);continue;case e.TYPE_NULL_OBJECT:const S=Object.create(null);a[p]=S;for(const O of Object.keys(x).reverse()){const F=[];f.push([x[O],$=>{F[1]=$}]),f.push([Number(O.slice(1)),$=>{F[0]=$}]),h.push(()=>{S[F[0]]=F[1]})}m(S);continue;case e.TYPE_PROMISE:if(a[x])m(a[p]=a[x]);else{const O=new e.Deferred;o[x]=O,m(a[p]=O.promise)}continue;case e.TYPE_ERROR:const[,E,_]=v;let R=_&&t&&t[_]?new t[_](E):new Error(E);a[p]=R,m(R);continue;case e.TYPE_PREVIOUS_RESOLVED:m(a[p]=a[x]);continue;default:if(Array.isArray(l)){const O=[],F=v.slice(1);for(let $=0;$<F.length;$++){const z=F[$];f.push([z,q=>{O[$]=q}])}h.push(()=>{for(const $ of l){const z=$(v[0],...O);if(z){m(a[p]=z.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const w=[];a[p]=w;for(let x=0;x<v.length;x++){const T=v[x];T!==e.HOLE&&f.push([T,A=>{w[x]=A}])}m(w);continue}else{const w={};a[p]=w;for(const x of Object.keys(v).reverse()){const T=[];f.push([v[x],A=>{T[1]=A}]),f.push([Number(x.slice(1)),A=>{T[0]=A}]),h.push(()=>{w[T[0]]=T[1]})}m(w);continue}}for(;h.length>0;)h.pop()();return u}return EE}var EK;function CK(){if(EK)return c_;EK=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.encode=c_.decode=void 0;const e=zTe(),t=BTe(),r=bU();async function n(l,u){const{plugins:f}=u??{},h=new r.Deferred,p=l.pipeThrough((0,r.createLineSplittingTransform)()).getReader(),m={values:[],hydrated:[],deferred:{},plugins:f},v=await i.call(m,p);let w=h.promise;return v.done?h.resolve():w=a.call(m,p).then(h.resolve).catch(x=>{for(const T of Object.values(m.deferred))T.reject(x);h.reject(x)}),{done:w.then(()=>p.closed),value:v.value}}c_.decode=n;async function i(l){const u=await l.read();if(!u.value)throw new SyntaxError;let f;try{f=JSON.parse(u.value)}catch{throw new SyntaxError}return{done:u.done,value:t.unflatten.call(this,f)}}async function a(l){let u=await l.read();for(;!u.done;){if(!u.value)continue;const f=u.value;switch(f[0]){case r.TYPE_PROMISE:{const h=f.indexOf(":"),p=Number(f.slice(1,h)),m=this.deferred[p];if(!m)throw new Error(`Deferred ID ${p} not found in stream`);const v=f.slice(h+1);let w;try{w=JSON.parse(v)}catch{throw new SyntaxError}const x=t.unflatten.call(this,w);m.resolve(x);break}case r.TYPE_ERROR:{const h=f.indexOf(":"),p=Number(f.slice(1,h)),m=this.deferred[p];if(!m)throw new Error(`Deferred ID ${p} not found in stream`);const v=f.slice(h+1);let w;try{w=JSON.parse(v)}catch{throw new SyntaxError}const x=t.unflatten.call(this,w);m.reject(x);break}default:throw new SyntaxError}u=await l.read()}}function s(l,u){const{plugins:f,postPlugins:h,signal:p}=u??{},m={deferred:{},index:0,indices:new Map,stringified:[],plugins:f,postPlugins:h,signal:p},v=new TextEncoder;let w=0;return new ReadableStream({async start(T){const A=e.flatten.call(m,l);if(Array.isArray(A))throw new Error("This should never happen");A<0?T.enqueue(v.encode(`${A}
`)):(T.enqueue(v.encode(`[${m.stringified.join(",")}]
`)),w=m.stringified.length-1);const P=new WeakSet;for(;Object.keys(m.deferred).length>0;){for(const[S,E]of Object.entries(m.deferred))P.has(E)||P.add(m.deferred[Number(S)]=o(E,m.signal).then(_=>{const R=e.flatten.call(m,_);if(Array.isArray(R))T.enqueue(v.encode(`${r.TYPE_PROMISE}${S}:[["${r.TYPE_PREVIOUS_RESOLVED}",${R[0]}]]
`)),m.index++,w++;else if(R<0)T.enqueue(v.encode(`${r.TYPE_PROMISE}${S}:${R}
`));else{const O=m.stringified.slice(w+1).join(",");T.enqueue(v.encode(`${r.TYPE_PROMISE}${S}:[${O}]
`)),w=m.stringified.length-1}},_=>{(!_||typeof _!="object"||!(_ instanceof Error))&&(_=new Error("An unknown error occurred"));const R=e.flatten.call(m,_);if(Array.isArray(R))T.enqueue(v.encode(`${r.TYPE_ERROR}${S}:[["${r.TYPE_PREVIOUS_RESOLVED}",${R[0]}]]
`)),m.index++,w++;else if(R<0)T.enqueue(v.encode(`${r.TYPE_ERROR}${S}:${R}
`));else{const O=m.stringified.slice(w+1).join(",");T.enqueue(v.encode(`${r.TYPE_ERROR}${S}:[${O}]
`)),w=m.stringified.length-1}}).finally(()=>{delete m.deferred[Number(S)]}));await Promise.race(Object.values(m.deferred))}await Promise.all(Object.values(m.deferred)),T.close()}})}c_.encode=s;function o(l,u){if(!u)return l;if(u.aborted)return Promise.reject(u.reason||new Error("Signal was aborted."));const f=new Promise((h,p)=>{u.addEventListener("abort",m=>{p(u.reason||new Error("Signal was aborted."))}),l.then(h).catch(p)});return f.catch(()=>{}),Promise.race([f,l])}return c_}var CE={},PK;function Zhe(){if(PK)return CE;PK=1,Object.defineProperty(CE,"__esModule",{value:!0}),CE.parse=s,CE.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function s(p,m){const v=new a,w=p.length;if(w<2)return v;const x=(m==null?void 0:m.decode)||f;let T=0;do{const A=p.indexOf("=",T);if(A===-1)break;const P=p.indexOf(";",T),S=P===-1?w:P;if(A>S){T=p.lastIndexOf(";",A-1)+1;continue}const E=o(p,T,A),_=l(p,A,E),R=p.slice(E,_);if(v[R]===void 0){let O=o(p,A+1,S),F=l(p,S,O);const $=x(p.slice(O,F));v[R]=$}T=S+1}while(T<w);return v}function o(p,m,v){do{const w=p.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<v);return v}function l(p,m,v){for(;m>v;){const w=p.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return v}function u(p,m,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const x=w(m);if(!t.test(x))throw new TypeError(`argument val is invalid: ${m}`);let T=p+"="+x;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return i.call(p)==="[object Date]"}return CE}var g1={exports:{}},TK;function jTe(){if(TK)return g1.exports;TK=1;var e={decodeValues:!0,map:!1,silent:!1};function t(s){return typeof s=="string"&&!!s.trim()}function r(s,o){var l=s.split(";").filter(t),u=l.shift(),f=n(u),h=f.name,p=f.value;o=o?Object.assign({},e,o):e;try{p=o.decodeValues?decodeURIComponent(p):p}catch(v){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+p+"'. Set options.decodeValues to false to disable this feature.",v)}var m={name:h,value:p};return l.forEach(function(v){var w=v.split("="),x=w.shift().trimLeft().toLowerCase(),T=w.join("=");x==="expires"?m.expires=new Date(T):x==="max-age"?m.maxAge=parseInt(T,10):x==="secure"?m.secure=!0:x==="httponly"?m.httpOnly=!0:x==="samesite"?m.sameSite=T:x==="partitioned"?m.partitioned=!0:m[x]=T}),m}function n(s){var o="",l="",u=s.split("=");return u.length>1?(o=u.shift(),l=u.join("=")):l=s,{name:o,value:l}}function i(s,o){if(o=o?Object.assign({},e,o):e,!s)return o.map?{}:[];if(s.headers)if(typeof s.headers.getSetCookie=="function")s=s.headers.getSetCookie();else if(s.headers["set-cookie"])s=s.headers["set-cookie"];else{var l=s.headers[Object.keys(s.headers).find(function(f){return f.toLowerCase()==="set-cookie"})];!l&&s.headers.cookie&&!o.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),s=l}if(Array.isArray(s)||(s=[s]),o.map){var u={};return s.filter(t).reduce(function(f,h){var p=r(h,o);return f[p.name]=p,f},u)}else return s.filter(t).map(function(f){return r(f,o)})}function a(s){if(Array.isArray(s))return s;if(typeof s!="string")return[];var o=[],l=0,u,f,h,p,m;function v(){for(;l<s.length&&/\s/.test(s.charAt(l));)l+=1;return l<s.length}function w(){return f=s.charAt(l),f!=="="&&f!==";"&&f!==","}for(;l<s.length;){for(u=l,m=!1;v();)if(f=s.charAt(l),f===","){for(h=l,l+=1,v(),p=l;l<s.length&&w();)l+=1;l<s.length&&s.charAt(l)==="="?(m=!0,l=p,o.push(s.substring(u,h)),u=l):l=h+1}else l+=1;(!m||l>=s.length)&&o.push(s.substring(u,s.length))}return o}return g1.exports=i,g1.exports.parse=i,g1.exports.parseString=r,g1.exports.splitCookiesString=a,g1.exports}var VD,RK;function xp(){if(RK)return VD;RK=1;var e={};/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t=Object.create,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,o=K=>{throw TypeError(K)},l=(K,Q)=>{for(var ie in Q)r(K,ie,{get:Q[ie],enumerable:!0})},u=(K,Q,ie,xe)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let ye of i(Q))!s.call(K,ye)&&ye!==ie&&r(K,ye,{get:()=>Q[ye],enumerable:!(xe=n(Q,ye))||xe.enumerable});return K},f=(K,Q,ie)=>(ie=K!=null?t(a(K)):{},u(!K||!K.__esModule?r(ie,"default",{value:K,enumerable:!0}):ie,K)),h=K=>u(r({},"__esModule",{value:!0}),K),p=(K,Q,ie)=>Q.has(K)||o("Cannot "+ie),m=(K,Q,ie)=>(p(K,Q,"read from private field"),ie?ie.call(K):Q.get(K)),v=(K,Q,ie)=>Q.has(K)?o("Cannot add the same private member more than once"):Q instanceof WeakSet?Q.add(K):Q.set(K,ie),w={};l(w,{Await:()=>vl,BrowserRouter:()=>ta,Form:()=>eu,HashRouter:()=>Of,IDLE_BLOCKER:()=>mt,IDLE_FETCHER:()=>zr,IDLE_NAVIGATION:()=>ar,Link:()=>If,Links:()=>dh,MemoryRouter:()=>Ef,Meta:()=>Ip,NavLink:()=>Ll,Navigate:()=>Sc,NavigationType:()=>x,Outlet:()=>Pp,PrefetchPageLinks:()=>oc,Route:()=>Il,Router:()=>Iu,RouterProvider:()=>Sf,Routes:()=>Tp,Scripts:()=>gu,ScrollRestoration:()=>Fo,ServerRouter:()=>lc,StaticRouter:()=>ys,StaticRouterProvider:()=>Yc,UNSAFE_DataRouterContext:()=>Kr,UNSAFE_DataRouterStateContext:()=>rn,UNSAFE_ErrorResponseImpl:()=>Ye,UNSAFE_FetchersContext:()=>Sn,UNSAFE_FrameworkContext:()=>Hs,UNSAFE_LocationContext:()=>Un,UNSAFE_NavigationContext:()=>An,UNSAFE_RemixErrorBoundary:()=>od,UNSAFE_RouteContext:()=>fi,UNSAFE_ServerMode:()=>$t,UNSAFE_SingleFetchRedirectSymbol:()=>Yl,UNSAFE_ViewTransitionContext:()=>ri,UNSAFE_createBrowserHistory:()=>P,UNSAFE_createClientRoutes:()=>Lu,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:()=>rl,UNSAFE_createRouter:()=>jt,UNSAFE_decodeViaTurboStream:()=>tl,UNSAFE_deserializeErrors:()=>il,UNSAFE_getHydrationData:()=>mh,UNSAFE_getPatchRoutesOnNavigationFunction:()=>pu,UNSAFE_getTurboStreamSingleFetchDataStrategy:()=>Yh,UNSAFE_hydrationRouteProperties:()=>af,UNSAFE_invariant:()=>E,UNSAFE_mapRouteProperties:()=>el,UNSAFE_shouldHydrateRouteLoader:()=>Af,UNSAFE_useFogOFWarDiscovery:()=>us,UNSAFE_useScrollRestoration:()=>ph,createBrowserRouter:()=>Tc,createCookie:()=>be,createCookieSessionStorage:()=>Xc,createHashRouter:()=>Ql,createMemoryRouter:()=>nh,createMemorySessionStorage:()=>Dc,createPath:()=>$,createRequestHandler:()=>Lf,createRoutesFromChildren:()=>Hc,createRoutesFromElements:()=>wm,createRoutesStub:()=>c,createSearchParams:()=>dn,createSession:()=>rp,createSessionStorage:()=>uc,createStaticHandler:()=>ro,createStaticRouter:()=>bo,data:()=>ot,generatePath:()=>rt,href:()=>ru,isCookie:()=>Ce,isRouteErrorResponse:()=>gt,isSession:()=>ju,matchPath:()=>Ze,matchRoutes:()=>ge,parsePath:()=>z,redirect:()=>Je,redirectDocument:()=>Me,renderMatches:()=>la,replace:()=>Le,resolvePath:()=>hr,unstable_HistoryRouter:()=>hg,unstable_RouterContextProvider:()=>J,unstable_createContext:()=>Z,unstable_setDevServerHooks:()=>Jn,unstable_usePrompt:()=>dd,useActionData:()=>Jo,useAsyncError:()=>Qo,useAsyncValue:()=>Ii,useBeforeUnload:()=>Gn,useBlocker:()=>qs,useFetcher:()=>df,useFetchers:()=>pg,useFormAction:()=>Ac,useHref:()=>Ke,useInRouterContext:()=>et,useLinkClickHandler:()=>Mf,useLoaderData:()=>pi,useLocation:()=>St,useMatch:()=>Ot,useMatches:()=>ka,useNavigate:()=>Mr,useNavigation:()=>Pa,useNavigationType:()=>vt,useOutlet:()=>un,useOutletContext:()=>Pn,useParams:()=>gn,useResolvedPath:()=>Cn,useRevalidator:()=>ha,useRouteError:()=>gs,useRouteLoaderData:()=>Ta,useRoutes:()=>Zn,useSearchParams:()=>sc,useSubmit:()=>fd,useViewTransitionState:()=>yu}),VD=h(w);var x=(K=>(K.Pop="POP",K.Push="PUSH",K.Replace="REPLACE",K))(x||{}),T="popstate";function A(K={}){let{initialEntries:Q=["/"],initialIndex:ie,v5Compat:xe=!1}=K,ye;ye=Q.map((Xt,Er)=>zt(Xt,typeof Xt=="string"?null:Xt.state,Er===0?"default":void 0));let Oe=Ve(ie??ye.length-1),Ne="POP",Qe=null;function Ve(Xt){return Math.min(Math.max(Xt,0),ye.length-1)}function ht(){return ye[Oe]}function zt(Xt,Er=null,Or){let Br=F(ye?ht().pathname:"/",Xt,Er,Or);return _(Br.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(Xt)}`),Br}function er(Xt){return typeof Xt=="string"?Xt:$(Xt)}return{get index(){return Oe},get action(){return Ne},get location(){return ht()},createHref:er,createURL(Xt){return new URL(er(Xt),"http://localhost")},encodeLocation(Xt){let Er=typeof Xt=="string"?z(Xt):Xt;return{pathname:Er.pathname||"",search:Er.search||"",hash:Er.hash||""}},push(Xt,Er){Ne="PUSH";let Or=zt(Xt,Er);Oe+=1,ye.splice(Oe,ye.length,Or),xe&&Qe&&Qe({action:Ne,location:Or,delta:1})},replace(Xt,Er){Ne="REPLACE";let Or=zt(Xt,Er);ye[Oe]=Or,xe&&Qe&&Qe({action:Ne,location:Or,delta:0})},go(Xt){Ne="POP";let Er=Ve(Oe+Xt),Or=ye[Er];Oe=Er,Qe&&Qe({action:Ne,location:Or,delta:Xt})},listen(Xt){return Qe=Xt,()=>{Qe=null}}}}function P(K={}){function Q(xe,ye){let{pathname:Oe,search:Ne,hash:Qe}=xe.location;return F("",{pathname:Oe,search:Ne,hash:Qe},ye.state&&ye.state.usr||null,ye.state&&ye.state.key||"default")}function ie(xe,ye){return typeof ye=="string"?ye:$(ye)}return q(Q,ie,null,K)}function S(K={}){function Q(ye,Oe){let{pathname:Ne="/",search:Qe="",hash:Ve=""}=z(ye.location.hash.substring(1));return!Ne.startsWith("/")&&!Ne.startsWith(".")&&(Ne="/"+Ne),F("",{pathname:Ne,search:Qe,hash:Ve},Oe.state&&Oe.state.usr||null,Oe.state&&Oe.state.key||"default")}function ie(ye,Oe){let Ne=ye.document.querySelector("base"),Qe="";if(Ne&&Ne.getAttribute("href")){let Ve=ye.location.href,ht=Ve.indexOf("#");Qe=ht===-1?Ve:Ve.slice(0,ht)}return Qe+"#"+(typeof Oe=="string"?Oe:$(Oe))}function xe(ye,Oe){_(ye.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(Oe)})`)}return q(Q,ie,xe,K)}function E(K,Q){if(K===!1||K===null||typeof K>"u")throw new Error(Q)}function _(K,Q){if(!K){typeof console<"u"&&console.warn(Q);try{throw new Error(Q)}catch{}}}function R(){return Math.random().toString(36).substring(2,10)}function O(K,Q){return{usr:K.state,key:K.key,idx:Q}}function F(K,Q,ie=null,xe){return{pathname:typeof K=="string"?K:K.pathname,search:"",hash:"",...typeof Q=="string"?z(Q):Q,state:ie,key:Q&&Q.key||xe||R()}}function $({pathname:K="/",search:Q="",hash:ie=""}){return Q&&Q!=="?"&&(K+=Q.charAt(0)==="?"?Q:"?"+Q),ie&&ie!=="#"&&(K+=ie.charAt(0)==="#"?ie:"#"+ie),K}function z(K){let Q={};if(K){let ie=K.indexOf("#");ie>=0&&(Q.hash=K.substring(ie),K=K.substring(0,ie));let xe=K.indexOf("?");xe>=0&&(Q.search=K.substring(xe),K=K.substring(0,xe)),K&&(Q.pathname=K)}return Q}function q(K,Q,ie,xe={}){let{window:ye=document.defaultView,v5Compat:Oe=!1}=xe,Ne=ye.history,Qe="POP",Ve=null,ht=zt();ht==null&&(ht=0,Ne.replaceState({...Ne.state,idx:ht},""));function zt(){return(Ne.state||{idx:null}).idx}function er(){Qe="POP";let Br=zt(),Xr=Br==null?null:Br-ht;ht=Br,Ve&&Ve({action:Qe,location:Or.location,delta:Xr})}function ur(Br,Xr){Qe="PUSH";let pn=F(Or.location,Br,Xr);ie&&ie(pn,Br),ht=zt()+1;let on=O(pn,ht),oi=Or.createHref(pn);try{Ne.pushState(on,"",oi)}catch(en){if(en instanceof DOMException&&en.name==="DataCloneError")throw en;ye.location.assign(oi)}Oe&&Ve&&Ve({action:Qe,location:Or.location,delta:1})}function Xt(Br,Xr){Qe="REPLACE";let pn=F(Or.location,Br,Xr);ie&&ie(pn,Br),ht=zt();let on=O(pn,ht),oi=Or.createHref(pn);Ne.replaceState(on,"",oi),Oe&&Ve&&Ve({action:Qe,location:Or.location,delta:0})}function Er(Br){let Xr=ye.location.origin!=="null"?ye.location.origin:ye.location.href,pn=typeof Br=="string"?Br:$(Br);return pn=pn.replace(/ $/,"%20"),E(Xr,`No window.location.(origin|href) available to create URL for href: ${pn}`),new URL(pn,Xr)}let Or={get action(){return Qe},get location(){return K(ye,Ne)},listen(Br){if(Ve)throw new Error("A history only accepts one active listener");return ye.addEventListener(T,er),Ve=Br,()=>{ye.removeEventListener(T,er),Ve=null}},createHref(Br){return Q(ye,Br)},createURL:Er,encodeLocation(Br){let Xr=Er(Br);return{pathname:Xr.pathname,search:Xr.search,hash:Xr.hash}},push:ur,replace:Xt,go(Br){return Ne.go(Br)}};return Or}function Z(K){return{defaultValue:K}}var V,J=class{constructor(K){if(v(this,V,new Map),K)for(let[Q,ie]of K)this.set(Q,ie)}get(K){if(m(this,V).has(K))return m(this,V).get(K);if(K.defaultValue!==void 0)return K.defaultValue;throw new Error("No value found for context")}set(K,Q){m(this,V).set(K,Q)}};V=new WeakMap;var fe=new Set(["lazy","caseSensitive","path","id","index","children"]);function ue(K){return fe.has(K)}var pe=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ve(K){return pe.has(K)}function le(K){return K.index===!0}function se(K,Q,ie=[],xe={}){return K.map((ye,Oe)=>{let Ne=[...ie,String(Oe)],Qe=typeof ye.id=="string"?ye.id:Ne.join("-");if(E(ye.index!==!0||!ye.children,"Cannot specify children on an index route"),E(!xe[Qe],`Found a route id collision on id "${Qe}".  Route id's must be globally unique within Data Router usages`),le(ye)){let Ve={...ye,...Q(ye),id:Qe};return xe[Qe]=Ve,Ve}else{let Ve={...ye,...Q(ye),id:Qe,children:void 0};return xe[Qe]=Ve,ye.children&&(Ve.children=se(ye.children,Q,Ne,xe)),Ve}})}function ge(K,Q,ie="/"){return _e(K,Q,ie,!1)}function _e(K,Q,ie,xe){let ye=typeof Q=="string"?z(Q):Q,Oe=At(ye.pathname||"/",ie);if(Oe==null)return null;let Ne=Ge(K);$e(Ne);let Qe=null;for(let Ve=0;Qe==null&&Ve<Ne.length;++Ve){let ht=Vt(Oe);Qe=je(Ne[Ve],ht,xe)}return Qe}function ke(K,Q){let{route:ie,pathname:xe,params:ye}=K;return{id:ie.id,pathname:xe,params:ye,data:Q[ie.id],handle:ie.handle}}function Ge(K,Q=[],ie=[],xe=""){let ye=(Oe,Ne,Qe)=>{let Ve={relativePath:Qe===void 0?Oe.path||"":Qe,caseSensitive:Oe.caseSensitive===!0,childrenIndex:Ne,route:Oe};Ve.relativePath.startsWith("/")&&(E(Ve.relativePath.startsWith(xe),`Absolute route path "${Ve.relativePath}" nested under path "${xe}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Ve.relativePath=Ve.relativePath.slice(xe.length));let ht=gr([xe,Ve.relativePath]),zt=ie.concat(Ve);Oe.children&&Oe.children.length>0&&(E(Oe.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ht}".`),Ge(Oe.children,Q,zt,ht)),!(Oe.path==null&&!Oe.index)&&Q.push({path:ht,score:ut(ht,Oe.index),routesMeta:zt})};return K.forEach((Oe,Ne)=>{var Qe;if(Oe.path===""||!((Qe=Oe.path)!=null&&Qe.includes("?")))ye(Oe,Ne);else for(let Ve of ct(Oe.path))ye(Oe,Ne,Ve)}),Q}function ct(K){let Q=K.split("/");if(Q.length===0)return[];let[ie,...xe]=Q,ye=ie.endsWith("?"),Oe=ie.replace(/\?$/,"");if(xe.length===0)return ye?[Oe,""]:[Oe];let Ne=ct(xe.join("/")),Qe=[];return Qe.push(...Ne.map(Ve=>Ve===""?Oe:[Oe,Ve].join("/"))),ye&&Qe.push(...Ne),Qe.map(Ve=>K.startsWith("/")&&Ve===""?"/":Ve)}function $e(K){K.sort((Q,ie)=>Q.score!==ie.score?ie.score-Q.score:xt(Q.routesMeta.map(xe=>xe.childrenIndex),ie.routesMeta.map(xe=>xe.childrenIndex)))}var we=/^:[\w-]+$/,Ee=3,Re=2,ft=1,qe=10,dt=-2,he=K=>K==="*";function ut(K,Q){let ie=K.split("/"),xe=ie.length;return ie.some(he)&&(xe+=dt),Q&&(xe+=Re),ie.filter(ye=>!he(ye)).reduce((ye,Oe)=>ye+(we.test(Oe)?Ee:Oe===""?ft:qe),xe)}function xt(K,Q){return K.length===Q.length&&K.slice(0,-1).every((xe,ye)=>xe===Q[ye])?K[K.length-1]-Q[Q.length-1]:0}function je(K,Q,ie=!1){let{routesMeta:xe}=K,ye={},Oe="/",Ne=[];for(let Qe=0;Qe<xe.length;++Qe){let Ve=xe[Qe],ht=Qe===xe.length-1,zt=Oe==="/"?Q:Q.slice(Oe.length)||"/",er=Ze({path:Ve.relativePath,caseSensitive:Ve.caseSensitive,end:ht},zt),ur=Ve.route;if(!er&&ht&&ie&&!xe[xe.length-1].route.index&&(er=Ze({path:Ve.relativePath,caseSensitive:Ve.caseSensitive,end:!1},zt)),!er)return null;Object.assign(ye,er.params),Ne.push({params:ye,pathname:gr([Oe,er.pathname]),pathnameBase:wr(gr([Oe,er.pathnameBase])),route:ur}),er.pathnameBase!=="/"&&(Oe=gr([Oe,er.pathnameBase]))}return Ne}function rt(K,Q={}){let ie=K;ie.endsWith("*")&&ie!=="*"&&!ie.endsWith("/*")&&(_(!1,`Route path "${ie}" will be treated as if it were "${ie.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${ie.replace(/\*$/,"/*")}".`),ie=ie.replace(/\*$/,"/*"));const xe=ie.startsWith("/")?"/":"",ye=Ne=>Ne==null?"":typeof Ne=="string"?Ne:String(Ne),Oe=ie.split(/\/+/).map((Ne,Qe,Ve)=>{if(Qe===Ve.length-1&&Ne==="*")return ye(Q["*"]);const zt=Ne.match(/^:([\w-]+)(\??)$/);if(zt){const[,er,ur]=zt;let Xt=Q[er];return E(ur==="?"||Xt!=null,`Missing ":${er}" param`),ye(Xt)}return Ne.replace(/\?$/g,"")}).filter(Ne=>!!Ne);return xe+Oe.join("/")}function Ze(K,Q){typeof K=="string"&&(K={path:K,caseSensitive:!1,end:!0});let[ie,xe]=yt(K.path,K.caseSensitive,K.end),ye=Q.match(ie);if(!ye)return null;let Oe=ye[0],Ne=Oe.replace(/(.)\/+$/,"$1"),Qe=ye.slice(1);return{params:xe.reduce((ht,{paramName:zt,isOptional:er},ur)=>{if(zt==="*"){let Er=Qe[ur]||"";Ne=Oe.slice(0,Oe.length-Er.length).replace(/(.)\/+$/,"$1")}const Xt=Qe[ur];return er&&!Xt?ht[zt]=void 0:ht[zt]=(Xt||"").replace(/%2F/g,"/"),ht},{}),pathname:Oe,pathnameBase:Ne,pattern:K}}function yt(K,Q=!1,ie=!0){_(K==="*"||!K.endsWith("*")||K.endsWith("/*"),`Route path "${K}" will be treated as if it were "${K.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${K.replace(/\*$/,"/*")}".`);let xe=[],ye="^"+K.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ne,Qe,Ve)=>(xe.push({paramName:Qe,isOptional:Ve!=null}),Ve?"/?([^\\/]+)?":"/([^\\/]+)"));return K.endsWith("*")?(xe.push({paramName:"*"}),ye+=K==="*"||K==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ie?ye+="\\/*$":K!==""&&K!=="/"&&(ye+="(?:(?=\\/|$))"),[new RegExp(ye,Q?void 0:"i"),xe]}function Vt(K){try{return K.split("/").map(Q=>decodeURIComponent(Q).replace(/\//g,"%2F")).join("/")}catch(Q){return _(!1,`The URL path "${K}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Q}).`),K}}function At(K,Q){if(Q==="/")return K;if(!K.toLowerCase().startsWith(Q.toLowerCase()))return null;let ie=Q.endsWith("/")?Q.length-1:Q.length,xe=K.charAt(ie);return xe&&xe!=="/"?null:K.slice(ie)||"/"}function hr(K,Q="/"){let{pathname:ie,search:xe="",hash:ye=""}=typeof K=="string"?z(K):K;return{pathname:ie?ie.startsWith("/")?ie:Sr(ie,Q):Q,search:Fr(xe),hash:_n(ye)}}function Sr(K,Q){let ie=Q.replace(/\/+$/,"").split("/");return K.split("/").forEach(ye=>{ye===".."?ie.length>1&&ie.pop():ye!=="."&&ie.push(ye)}),ie.length>1?ie.join("/"):"/"}function fr(K,Q,ie,xe){return`Cannot include a '${K}' character in a manually specified \`to.${Q}\` field [${JSON.stringify(xe)}].  Please separate it out to the \`to.${ie}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dt(K){return K.filter((Q,ie)=>ie===0||Q.route.path&&Q.route.path.length>0)}function dr(K){let Q=Dt(K);return Q.map((ie,xe)=>xe===Q.length-1?ie.pathname:ie.pathnameBase)}function Nr(K,Q,ie,xe=!1){let ye;typeof K=="string"?ye=z(K):(ye={...K},E(!ye.pathname||!ye.pathname.includes("?"),fr("?","pathname","search",ye)),E(!ye.pathname||!ye.pathname.includes("#"),fr("#","pathname","hash",ye)),E(!ye.search||!ye.search.includes("#"),fr("#","search","hash",ye)));let Oe=K===""||ye.pathname==="",Ne=Oe?"/":ye.pathname,Qe;if(Ne==null)Qe=ie;else{let er=Q.length-1;if(!xe&&Ne.startsWith("..")){let ur=Ne.split("/");for(;ur[0]==="..";)ur.shift(),er-=1;ye.pathname=ur.join("/")}Qe=er>=0?Q[er]:"/"}let Ve=hr(ye,Qe),ht=Ne&&Ne!=="/"&&Ne.endsWith("/"),zt=(Oe||Ne===".")&&ie.endsWith("/");return!Ve.pathname.endsWith("/")&&(ht||zt)&&(Ve.pathname+="/"),Ve}var gr=K=>K.join("/").replace(/\/\/+/g,"/"),wr=K=>K.replace(/\/+$/,"").replace(/^\/*/,"/"),Fr=K=>!K||K==="?"?"":K.startsWith("?")?K:"?"+K,_n=K=>!K||K==="#"?"":K.startsWith("#")?K:"#"+K,nn=class{constructor(K,Q){this.type="DataWithResponseInit",this.data=K,this.init=Q||null}};function ot(K,Q){return new nn(K,typeof Q=="number"?{status:Q}:Q)}var Je=(K,Q=302)=>{let ie=Q;typeof ie=="number"?ie={status:ie}:typeof ie.status>"u"&&(ie.status=302);let xe=new Headers(ie.headers);return xe.set("Location",K),new Response(null,{...ie,headers:xe})},Me=(K,Q)=>{let ie=Je(K,Q);return ie.headers.set("X-Remix-Reload-Document","true"),ie},Le=(K,Q)=>{let ie=Je(K,Q);return ie.headers.set("X-Remix-Replace","true"),ie},Ye=class{constructor(K,Q,ie,xe=!1){this.status=K,this.statusText=Q||"",this.internal=xe,ie instanceof Error?(this.data=ie.toString(),this.error=ie):this.data=ie}};function gt(K){return K!=null&&typeof K.status=="number"&&typeof K.statusText=="string"&&typeof K.internal=="boolean"&&"data"in K}var kt=["POST","PUT","PATCH","DELETE"],at=new Set(kt),Ft=["GET",...kt],Tt=new Set(Ft),ir=new Set([301,302,303,307,308]),or=new Set([307,308]),ar={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},It=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=K=>({hasErrorBoundary:!!K.hasErrorBoundary}),br="remix-router-transitions",Rr=Symbol("ResetLoaderData");function jt(K){const Q=K.window?K.window:typeof window<"u"?window:void 0,ie=typeof Q<"u"&&typeof Q.document<"u"&&typeof Q.document.createElement<"u";E(K.routes.length>0,"You must provide a non-empty routes array to createRouter");let xe=K.hydrationRouteProperties||[],ye=K.mapRouteProperties||Kt,Oe={},Ne=se(K.routes,ye,void 0,Oe),Qe,Ve=K.basename||"/",ht=K.dataStrategy||Ko,zt={unstable_middleware:!1,...K.future},er=null,ur=new Set,Xt=null,Er=null,Or=null,Br=K.hydrationData!=null,Xr=ge(Ne,K.history.location,Ve),pn=!1,on=null;if(Xr==null&&!K.patchRoutesOnNavigation){let sr=uo(404,{pathname:K.history.location.pathname}),{matches:Dr,route:Gr}=Rl(Ne);Xr=Dr,on={[Gr.id]:sr}}Xr&&!K.hydrationData&&Ya(Xr,Ne,K.history.location.pathname).active&&(Xr=null);let oi;if(Xr)if(Xr.some(sr=>sr.route.lazy))oi=!1;else if(!Xr.some(sr=>sr.route.loader))oi=!0;else{let sr=K.hydrationData?K.hydrationData.loaderData:null,Dr=K.hydrationData?K.hydrationData.errors:null;if(Dr){let Gr=Xr.findIndex($n=>Dr[$n.route.id]!==void 0);oi=Xr.slice(0,Gr+1).every($n=>!Fn($n.route,sr,Dr))}else oi=Xr.every(Gr=>!Fn(Gr.route,sr,Dr))}else{oi=!1,Xr=[];let sr=Ya(null,Ne,K.history.location.pathname);sr.active&&sr.matches&&(pn=!0,Xr=sr.matches)}let en,xr={historyAction:K.history.action,location:K.history.location,matches:Xr,initialized:oi,navigation:ar,restoreScrollPosition:K.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:K.hydrationData&&K.hydrationData.loaderData||{},actionData:K.hydrationData&&K.hydrationData.actionData||null,errors:K.hydrationData&&K.hydrationData.errors||on,fetchers:new Map,blockers:new Map},Kn="POP",Nn=!1,ei,Vi=!1,ja=new Map,al=null,Wa=!1,po=!1,bs=new Set,Qn=new Map,Uu=0,qu=-1,zs=new Map,Ho=new Set,ol=new Map,np=new Map,Ps=new Set,Bd=new Map,mg,gh=null;function gg(){if(er=K.history.listen(({action:sr,location:Dr,delta:Gr})=>{if(mg){mg(),mg=void 0;return}_(Bd.size===0||Gr!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $n=Jc({currentLocation:xr.location,nextLocation:Dr,historyAction:sr});if($n&&Gr!=null){let ti=new Promise(qi=>{mg=qi});K.history.go(Gr*-1),Gu($n,{state:"blocked",location:Dr,proceed(){Gu($n,{state:"proceeding",proceed:void 0,reset:void 0,location:Dr}),ti.then(()=>K.history.go(Gr))},reset(){let qi=new Map(xr.blockers);qi.set($n,mt),Wu({blockers:qi})}});return}return di(sr,Dr)}),ie){_t(Q,ja);let sr=()=>Nt(Q,ja);Q.addEventListener("pagehide",sr),al=()=>Q.removeEventListener("pagehide",sr)}return xr.initialized||di("POP",xr.location,{initialHydration:!0}),en}function Hu(){er&&er(),al&&al(),ur.clear(),ei&&ei.abort(),xr.fetchers.forEach((sr,Dr)=>Fc(Dr)),xr.blockers.forEach((sr,Dr)=>yh(Dr))}function wy(sr){return ur.add(sr),()=>ur.delete(sr)}function Wu(sr,Dr={}){xr={...xr,...sr};let Gr=[],$n=[];xr.fetchers.forEach((ti,qi)=>{ti.state==="idle"&&(Ps.has(qi)?Gr.push(qi):$n.push(qi))}),Ps.forEach(ti=>{!xr.fetchers.has(ti)&&!Qn.has(ti)&&Gr.push(ti)}),[...ur].forEach(ti=>ti(xr,{deletedFetchers:Gr,viewTransitionOpts:Dr.viewTransitionOpts,flushSync:Dr.flushSync===!0})),Gr.forEach(ti=>Fc(ti)),$n.forEach(ti=>xr.fetchers.delete(ti))}function jd(sr,Dr,{flushSync:Gr}={}){var Gi,ra;let $n=xr.actionData!=null&&xr.navigation.formMethod!=null&&Ma(xr.navigation.formMethod)&&xr.navigation.state==="loading"&&((Gi=sr.state)==null?void 0:Gi._isRedirect)!==!0,ti;Dr.actionData?Object.keys(Dr.actionData).length>0?ti=Dr.actionData:ti=null:$n?ti=xr.actionData:ti=null;let qi=Dr.loaderData?wc(xr.loaderData,Dr.loaderData,Dr.matches||[],Dr.errors):xr.loaderData,Qi=xr.blockers;Qi.size>0&&(Qi=new Map(Qi),Qi.forEach((Fi,wa)=>Qi.set(wa,mt)));let xi=Nn===!0||xr.navigation.formMethod!=null&&Ma(xr.navigation.formMethod)&&((ra=sr.state)==null?void 0:ra._isRedirect)!==!0;Qe&&(Ne=Qe,Qe=void 0),Wa||Kn==="POP"||(Kn==="PUSH"?K.history.push(sr,sr.state):Kn==="REPLACE"&&K.history.replace(sr,sr.state));let Si;if(Kn==="POP"){let Fi=ja.get(xr.location.pathname);Fi&&Fi.has(sr.pathname)?Si={currentLocation:xr.location,nextLocation:sr}:ja.has(sr.pathname)&&(Si={currentLocation:sr,nextLocation:xr.location})}else if(Vi){let Fi=ja.get(xr.location.pathname);Fi?Fi.add(sr.pathname):(Fi=new Set([sr.pathname]),ja.set(xr.location.pathname,Fi)),Si={currentLocation:xr.location,nextLocation:sr}}Wu({...Dr,actionData:ti,loaderData:qi,historyAction:Kn,location:sr,initialized:!0,navigation:ar,revalidation:"idle",restoreScrollPosition:pf(sr,Dr.matches||xr.matches),preventScrollReset:xi,blockers:Qi},{viewTransitionOpts:Si,flushSync:Gr===!0}),Kn="POP",Nn=!1,Vi=!1,Wa=!1,po=!1,gh==null||gh.resolve(),gh=null}async function Lo(sr,Dr){if(typeof sr=="number"){K.history.go(sr);return}let Gr=Lt(xr.location,xr.matches,Ve,sr,Dr==null?void 0:Dr.fromRouteId,Dr==null?void 0:Dr.relative),{path:$n,submission:ti,error:qi}=Ir(!1,Gr,Dr),Qi=xr.location,xi=F(xr.location,$n,Dr&&Dr.state);xi={...xi,...K.history.encodeLocation(xi)};let Si=Dr&&Dr.replace!=null?Dr.replace:void 0,Gi="PUSH";Si===!0?Gi="REPLACE":Si===!1||ti!=null&&Ma(ti.formMethod)&&ti.formAction===xr.location.pathname+xr.location.search&&(Gi="REPLACE");let ra=Dr&&"preventScrollReset"in Dr?Dr.preventScrollReset===!0:void 0,Fi=(Dr&&Dr.flushSync)===!0,wa=Jc({currentLocation:Qi,nextLocation:xi,historyAction:Gi});if(wa){Gu(wa,{state:"blocked",location:xi,proceed(){Gu(wa,{state:"proceeding",proceed:void 0,reset:void 0,location:xi}),Lo(sr,Dr)},reset(){let $o=new Map(xr.blockers);$o.set(wa,mt),Wu({blockers:$o})}});return}await di(Gi,xi,{submission:ti,pendingError:qi,preventScrollReset:ra,replace:Dr&&Dr.replace,enableViewTransition:Dr&&Dr.viewTransition,flushSync:Fi})}function nu(){gh||(gh=Ar()),bg(),Wu({revalidation:"loading"});let sr=gh.promise;return xr.navigation.state==="submitting"?sr:xr.navigation.state==="idle"?(di(xr.historyAction,xr.location,{startUninterruptedRevalidation:!0}),sr):(di(Kn||xr.historyAction,xr.navigation.location,{overrideNavigation:xr.navigation,enableViewTransition:Vi===!0}),sr)}async function di(sr,Dr,Gr){ei&&ei.abort(),ei=null,Kn=sr,Wa=(Gr&&Gr.startUninterruptedRevalidation)===!0,bh(xr.location,xr.matches),Nn=(Gr&&Gr.preventScrollReset)===!0,Vi=(Gr&&Gr.enableViewTransition)===!0;let $n=Qe||Ne,ti=Gr&&Gr.overrideNavigation,qi=Gr!=null&&Gr.initialHydration&&xr.matches&&xr.matches.length>0&&!pn?xr.matches:ge($n,Dr,Ve),Qi=(Gr&&Gr.flushSync)===!0;if(qi&&xr.initialized&&!po&&fa(xr.location,Dr)&&!(Gr&&Gr.submission&&Ma(Gr.submission.formMethod))){jd(Dr,{matches:qi},{flushSync:Qi});return}let xi=Ya(qi,$n,Dr.pathname);if(xi.active&&xi.matches&&(qi=xi.matches),!qi){let{error:jl,notFoundMatches:_l,route:oa}=ap(Dr.pathname);jd(Dr,{matches:_l,loaderData:{},errors:{[oa.id]:jl}},{flushSync:Qi});return}ei=new AbortController;let Si=Zo(K.history,Dr,ei.signal,Gr&&Gr.submission),Gi=new J(K.unstable_getContext?await K.unstable_getContext():void 0),ra;if(Gr&&Gr.pendingError)ra=[ko(qi).route.id,{type:"error",error:Gr.pendingError}];else if(Gr&&Gr.submission&&Ma(Gr.submission.formMethod)){let jl=await Rm(Si,Dr,Gr.submission,qi,Gi,xi.active,Gr&&Gr.initialHydration===!0,{replace:Gr.replace,flushSync:Qi});if(jl.shortCircuited)return;if(jl.pendingActionResult){let[_l,oa]=jl.pendingActionResult;if(to(oa)&&gt(oa.error)&&oa.error.status===404){ei=null,jd(Dr,{matches:jl.matches,loaderData:{},errors:{[_l]:oa.error}});return}}qi=jl.matches||qi,ra=jl.pendingActionResult,ti=Ca(Dr,Gr.submission),Qi=!1,xi.active=!1,Si=Zo(K.history,Si.url,Si.signal)}let{shortCircuited:Fi,matches:wa,loaderData:$o,errors:_s}=await vg(Si,Dr,qi,Gi,xi.active,ti,Gr&&Gr.submission,Gr&&Gr.fetcherSubmission,Gr&&Gr.replace,Gr&&Gr.initialHydration===!0,Qi,ra);Fi||(ei=null,jd(Dr,{matches:wa||qi,...Gl(ra),loaderData:$o,errors:_s}))}async function Rm(sr,Dr,Gr,$n,ti,qi,Qi,xi={}){bg();let Si=nf(Dr,Gr);if(Wu({navigation:Si},{flushSync:xi.flushSync===!0}),qi){let Fi=await Ms($n,Dr.pathname,sr.signal);if(Fi.type==="aborted")return{shortCircuited:!0};if(Fi.type==="error"){let wa=ko(Fi.partialMatches).route.id;return{matches:Fi.partialMatches,pendingActionResult:[wa,{type:"error",error:Fi.error}]}}else if(Fi.matches)$n=Fi.matches;else{let{notFoundMatches:wa,error:$o,route:_s}=ap(Dr.pathname);return{matches:wa,pendingActionResult:[_s.id,{type:"error",error:$o}]}}}let Gi,ra=Ha($n,Dr);if(!ra.route.action&&!ra.route.lazy)Gi={type:"error",error:uo(405,{method:sr.method,pathname:Dr.pathname,routeId:ra.route.id})};else{let Fi=Ri(ye,Oe,sr,$n,ra,Qi?[]:xe,ti),wa=await kp(sr,Fi,ti,null);if(Gi=wa[ra.route.id],!Gi){for(let $o of $n)if(wa[$o.route.id]){Gi=wa[$o.route.id];break}}if(sr.signal.aborted)return{shortCircuited:!0}}if(Yo(Gi)){let Fi;return xi&&xi.replace!=null?Fi=xi.replace:Fi=Ns(Gi.response.headers.get("Location"),new URL(sr.url),Ve)===xr.location.pathname+xr.location.search,await ip(sr,Gi,!0,{submission:Gr,replace:Fi}),{shortCircuited:!0}}if(to(Gi)){let Fi=ko($n,ra.route.id);return(xi&&xi.replace)!==!0&&(Kn="PUSH"),{matches:$n,pendingActionResult:[Fi.route.id,Gi,ra.route.id]}}return{matches:$n,pendingActionResult:[ra.route.id,Gi]}}async function vg(sr,Dr,Gr,$n,ti,qi,Qi,xi,Si,Gi,ra,Fi){let wa=qi||Ca(Dr,Qi),$o=Qi||xi||ss(wa),_s=!Wa&&!Gi;if(ti){if(_s){let Su=xy(Fi);Wu({navigation:wa,...Su!==void 0?{actionData:Su}:{}},{flushSync:ra})}let Wo=await Ms(Gr,Dr.pathname,sr.signal);if(Wo.type==="aborted")return{shortCircuited:!0};if(Wo.type==="error"){let Su=ko(Wo.partialMatches).route.id;return{matches:Wo.partialMatches,loaderData:{},errors:{[Su]:Wo.error}}}else if(Wo.matches)Gr=Wo.matches;else{let{error:Su,notFoundMatches:wh,route:yd}=ap(Dr.pathname);return{matches:wh,loaderData:{},errors:{[yd.id]:Su}}}}let jl=Qe||Ne,{dsMatches:_l,revalidatingFetchers:oa}=fn(sr,$n,ye,Oe,K.history,xr,Gr,$o,Dr,Gi?[]:xe,Gi===!0,po,bs,Ps,ol,Ho,jl,Ve,Fi);if(qu=++Uu,!K.dataStrategy&&!_l.some(Wo=>Wo.shouldLoad)&&oa.length===0){let Wo=_g();return jd(Dr,{matches:Gr,loaderData:{},errors:Fi&&to(Fi[1])?{[Fi[0]]:Fi[1].error}:null,...Gl(Fi),...Wo?{fetchers:new Map(xr.fetchers)}:{}},{flushSync:ra}),{shortCircuited:!0}}if(_s){let Wo={};if(!ti){Wo.navigation=wa;let Su=xy(Fi);Su!==void 0&&(Wo.actionData=Su)}oa.length>0&&(Wo.fetchers=Kb(oa)),Wu(Wo,{flushSync:ra})}oa.forEach(Wo=>{Vu(Wo.key),Wo.controller&&Qn.set(Wo.key,Wo.controller)});let _h=()=>oa.forEach(Wo=>Vu(Wo.key));ei&&ei.signal.addEventListener("abort",_h);let{loaderResults:vd,fetcherResults:Nf}=await Dp(_l,oa,sr,$n);if(sr.signal.aborted)return{shortCircuited:!0};ei&&ei.signal.removeEventListener("abort",_h),oa.forEach(Wo=>Qn.delete(Wo.key));let xu=Al(vd);if(xu)return await ip(sr,xu.result,!0,{replace:Si}),{shortCircuited:!0};if(xu=Al(Nf),xu)return Ho.add(xu.key),await ip(sr,xu.result,!0,{replace:Si}),{shortCircuited:!0};let{loaderData:iu,errors:$f}=gl(xr,Gr,vd,Fi,oa,Nf);Gi&&xr.errors&&($f={...xr.errors,...$f});let Qc=_g(),wl=cc(qu),Fp=Qc||wl||oa.length>0;return{matches:Gr,loaderData:iu,errors:$f,...Fp?{fetchers:new Map(xr.fetchers)}:{}}}function xy(sr){if(sr&&!to(sr[1]))return{[sr[0]]:sr[1].data};if(xr.actionData)return Object.keys(xr.actionData).length===0?null:xr.actionData}function Kb(sr){return sr.forEach(Dr=>{let Gr=xr.fetchers.get(Dr.key),$n=Xo(void 0,Gr?Gr.data:void 0);xr.fetchers.set(Dr.key,$n)}),new Map(xr.fetchers)}async function vh(sr,Dr,Gr,$n){Vu(sr);let ti=($n&&$n.flushSync)===!0,qi=Qe||Ne,Qi=Lt(xr.location,xr.matches,Ve,Gr,Dr,$n==null?void 0:$n.relative),xi=ge(qi,Qi,Ve),Si=Ya(xi,qi,Qi);if(Si.active&&Si.matches&&(xi=Si.matches),!xi){No(sr,Dr,uo(404,{pathname:Qi}),{flushSync:ti});return}let{path:Gi,submission:ra,error:Fi}=Ir(!0,Qi,$n);if(Fi){No(sr,Dr,Fi,{flushSync:ti});return}let wa=Ha(xi,Gi),$o=new J(K.unstable_getContext?await K.unstable_getContext():void 0),_s=($n&&$n.preventScrollReset)===!0;if(ra&&Ma(ra.formMethod)){await yg(sr,Dr,Gi,wa,xi,$o,Si.active,ti,_s,ra);return}ol.set(sr,{routeId:Dr,path:Gi}),await Am(sr,Dr,Gi,wa,xi,$o,Si.active,ti,_s,ra)}async function yg(sr,Dr,Gr,$n,ti,qi,Qi,xi,Si,Gi){bg(),ol.delete(sr);function ra(ll){if(!ll.route.action&&!ll.route.lazy){let zf=uo(405,{method:Gi.formMethod,pathname:Gr,routeId:Dr});return No(sr,Dr,zf,{flushSync:xi}),!0}return!1}if(!Qi&&ra($n))return;let Fi=xr.fetchers.get(sr);wo(sr,ms(Gi,Fi),{flushSync:xi});let wa=new AbortController,$o=Zo(K.history,Gr,wa.signal,Gi);if(Qi){let ll=await Ms(ti,Gr,$o.signal,sr);if(ll.type==="aborted")return;if(ll.type==="error"){No(sr,Dr,ll.error,{flushSync:xi});return}else if(ll.matches){if(ti=ll.matches,$n=Ha(ti,Gr),ra($n))return}else{No(sr,Dr,uo(404,{pathname:Gr}),{flushSync:xi});return}}Qn.set(sr,wa);let _s=Uu,jl=Ri(ye,Oe,$o,ti,$n,xe,qi),oa=(await kp($o,jl,qi,sr))[$n.route.id];if($o.signal.aborted){Qn.get(sr)===wa&&Qn.delete(sr);return}if(Ps.has(sr)){if(Yo(oa)||to(oa)){wo(sr,ba(void 0));return}}else{if(Yo(oa))if(Qn.delete(sr),qu>_s){wo(sr,ba(void 0));return}else return Ho.add(sr),wo(sr,Xo(Gi)),ip($o,oa,!1,{fetcherSubmission:Gi,preventScrollReset:Si});if(to(oa)){No(sr,Dr,oa.error);return}}let _h=xr.navigation.location||xr.location,vd=Zo(K.history,_h,wa.signal),Nf=Qe||Ne,xu=xr.navigation.state!=="idle"?ge(Nf,xr.navigation.location,Ve):xr.matches;E(xu,"Didn't find any matches after fetcher action");let iu=++Uu;zs.set(sr,iu);let $f=Xo(Gi,oa.data);xr.fetchers.set(sr,$f);let{dsMatches:Qc,revalidatingFetchers:wl}=fn(vd,qi,ye,Oe,K.history,xr,xu,Gi,_h,xe,!1,po,bs,Ps,ol,Ho,Nf,Ve,[$n.route.id,oa]);wl.filter(ll=>ll.key!==sr).forEach(ll=>{let zf=ll.key,yv=xr.fetchers.get(zf),Lp=Xo(void 0,yv?yv.data:void 0);xr.fetchers.set(zf,Lp),Vu(zf),ll.controller&&Qn.set(zf,ll.controller)}),Wu({fetchers:new Map(xr.fetchers)});let Fp=()=>wl.forEach(ll=>Vu(ll.key));wa.signal.addEventListener("abort",Fp);let{loaderResults:Wo,fetcherResults:Su}=await Dp(Qc,wl,vd,qi);if(wa.signal.aborted)return;wa.signal.removeEventListener("abort",Fp),zs.delete(sr),Qn.delete(sr),wl.forEach(ll=>Qn.delete(ll.key));let wh=Al(Wo);if(wh)return ip(vd,wh.result,!1,{preventScrollReset:Si});if(wh=Al(Su),wh)return Ho.add(wh.key),ip(vd,wh.result,!1,{preventScrollReset:Si});let{loaderData:yd,errors:vv}=gl(xr,xu,Wo,void 0,wl,Su);if(xr.fetchers.has(sr)){let ll=ba(oa.data);xr.fetchers.set(sr,ll)}cc(iu),xr.navigation.state==="loading"&&iu>qu?(E(Kn,"Expected pending action"),ei&&ei.abort(),jd(xr.navigation.location,{matches:xu,loaderData:yd,errors:vv,fetchers:new Map(xr.fetchers)})):(Wu({errors:vv,loaderData:wc(xr.loaderData,yd,xu,vv),fetchers:new Map(xr.fetchers)}),po=!1)}async function Am(sr,Dr,Gr,$n,ti,qi,Qi,xi,Si,Gi){let ra=xr.fetchers.get(sr);wo(sr,Xo(Gi,ra?ra.data:void 0),{flushSync:xi});let Fi=new AbortController,wa=Zo(K.history,Gr,Fi.signal);if(Qi){let oa=await Ms(ti,Gr,wa.signal,sr);if(oa.type==="aborted")return;if(oa.type==="error"){No(sr,Dr,oa.error,{flushSync:xi});return}else if(oa.matches)ti=oa.matches,$n=Ha(ti,Gr);else{No(sr,Dr,uo(404,{pathname:Gr}),{flushSync:xi});return}}Qn.set(sr,Fi);let $o=Uu,_s=Ri(ye,Oe,wa,ti,$n,xe,qi),_l=(await kp(wa,_s,qi,sr))[$n.route.id];if(Qn.get(sr)===Fi&&Qn.delete(sr),!wa.signal.aborted){if(Ps.has(sr)){wo(sr,ba(void 0));return}if(Yo(_l))if(qu>$o){wo(sr,ba(void 0));return}else{Ho.add(sr),await ip(wa,_l,!1,{preventScrollReset:Si});return}if(to(_l)){No(sr,Dr,_l.error);return}wo(sr,ba(_l.data))}}async function ip(sr,Dr,Gr,{submission:$n,fetcherSubmission:ti,preventScrollReset:qi,replace:Qi}={}){Dr.response.headers.has("X-Remix-Revalidate")&&(po=!0);let xi=Dr.response.headers.get("Location");E(xi,"Expected a Location header on the redirect Response"),xi=Ns(xi,new URL(sr.url),Ve);let Si=F(xr.location,xi,{_isRedirect:!0});if(ie){let _s=!1;if(Dr.response.headers.has("X-Remix-Reload-Document"))_s=!0;else if(It.test(xi)){const jl=K.history.createURL(xi);_s=jl.origin!==Q.location.origin||At(jl.pathname,Ve)==null}if(_s){Qi?Q.location.replace(xi):Q.location.assign(xi);return}}ei=null;let Gi=Qi===!0||Dr.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ra,formAction:Fi,formEncType:wa}=xr.navigation;!$n&&!ti&&ra&&Fi&&wa&&($n=ss(xr.navigation));let $o=$n||ti;if(or.has(Dr.response.status)&&$o&&Ma($o.formMethod))await di(Gi,Si,{submission:{...$o,formAction:xi},preventScrollReset:qi||Nn,enableViewTransition:Gr?Vi:void 0});else{let _s=Ca(Si,$n);await di(Gi,Si,{overrideNavigation:_s,fetcherSubmission:ti,preventScrollReset:qi||Nn,enableViewTransition:Gr?Vi:void 0})}}async function kp(sr,Dr,Gr,$n){let ti,qi={};try{ti=await sa(ht,sr,Dr,$n,Gr,!1)}catch(Qi){return Dr.filter(xi=>xi.shouldLoad).forEach(xi=>{qi[xi.route.id]={type:"error",error:Qi}}),qi}for(let[Qi,xi]of Object.entries(ti))if(Bi(xi)){let Si=xi.result;qi[Qi]={type:"redirect",response:Eo(Si,sr,Qi,Dr,Ve)}}else qi[Qi]=await os(xi);return qi}async function Dp(sr,Dr,Gr,$n){let ti=kp(Gr,sr,$n,null),qi=Promise.all(Dr.map(async Si=>{if(Si.matches&&Si.match&&Si.request&&Si.controller){let ra=(await kp(Si.request,Si.matches,$n,Si.key))[Si.match.route.id];return{[Si.key]:ra}}else return Promise.resolve({[Si.key]:{type:"error",error:uo(404,{pathname:Si.path})}})})),Qi=await ti,xi=(await qi).reduce((Si,Gi)=>Object.assign(Si,Gi),{});return{loaderResults:Qi,fetcherResults:xi}}function bg(){po=!0,ol.forEach((sr,Dr)=>{Qn.has(Dr)&&bs.add(Dr),Vu(Dr)})}function wo(sr,Dr,Gr={}){xr.fetchers.set(sr,Dr),Wu({fetchers:new Map(xr.fetchers)},{flushSync:(Gr&&Gr.flushSync)===!0})}function No(sr,Dr,Gr,$n={}){let ti=ko(xr.matches,Dr);Fc(sr),Wu({errors:{[ti.route.id]:Gr},fetchers:new Map(xr.fetchers)},{flushSync:($n&&$n.flushSync)===!0})}function hf(sr){return np.set(sr,(np.get(sr)||0)+1),Ps.has(sr)&&Ps.delete(sr),xr.fetchers.get(sr)||zr}function Fc(sr){let Dr=xr.fetchers.get(sr);Qn.has(sr)&&!(Dr&&Dr.state==="loading"&&zs.has(sr))&&Vu(sr),ol.delete(sr),zs.delete(sr),Ho.delete(sr),Ps.delete(sr),bs.delete(sr),xr.fetchers.delete(sr)}function Om(sr){let Dr=(np.get(sr)||0)-1;Dr<=0?(np.delete(sr),Ps.add(sr)):np.set(sr,Dr),Wu({fetchers:new Map(xr.fetchers)})}function Vu(sr){let Dr=Qn.get(sr);Dr&&(Dr.abort(),Qn.delete(sr))}function Lc(sr){for(let Dr of sr){let Gr=hf(Dr),$n=ba(Gr.data);xr.fetchers.set(Dr,$n)}}function _g(){let sr=[],Dr=!1;for(let Gr of Ho){let $n=xr.fetchers.get(Gr);E($n,`Expected fetcher: ${Gr}`),$n.state==="loading"&&(Ho.delete(Gr),sr.push(Gr),Dr=!0)}return Lc(sr),Dr}function cc(sr){let Dr=[];for(let[Gr,$n]of zs)if($n<sr){let ti=xr.fetchers.get(Gr);E(ti,`Expected fetcher: ${Gr}`),ti.state==="loading"&&(Vu(Gr),zs.delete(Gr),Dr.push(Gr))}return Lc(Dr),Dr.length>0}function Im(sr,Dr){let Gr=xr.blockers.get(sr)||mt;return Bd.get(sr)!==Dr&&Bd.set(sr,Dr),Gr}function yh(sr){xr.blockers.delete(sr),Bd.delete(sr)}function Gu(sr,Dr){let Gr=xr.blockers.get(sr)||mt;E(Gr.state==="unblocked"&&Dr.state==="blocked"||Gr.state==="blocked"&&Dr.state==="blocked"||Gr.state==="blocked"&&Dr.state==="proceeding"||Gr.state==="blocked"&&Dr.state==="unblocked"||Gr.state==="proceeding"&&Dr.state==="unblocked",`Invalid blocker state transition: ${Gr.state} -> ${Dr.state}`);let $n=new Map(xr.blockers);$n.set(sr,Dr),Wu({blockers:$n})}function Jc({currentLocation:sr,nextLocation:Dr,historyAction:Gr}){if(Bd.size===0)return;Bd.size>1&&_(!1,"A router only supports one blocker at a time");let $n=Array.from(Bd.entries()),[ti,qi]=$n[$n.length-1],Qi=xr.blockers.get(ti);if(!(Qi&&Qi.state==="proceeding")&&qi({currentLocation:sr,nextLocation:Dr,historyAction:Gr}))return ti}function ap(sr){let Dr=uo(404,{pathname:sr}),Gr=Qe||Ne,{matches:$n,route:ti}=Rl(Gr);return{notFoundMatches:$n,route:ti,error:Dr}}function S0(sr,Dr,Gr){if(Xt=sr,Or=Dr,Er=Gr||null,!Br&&xr.navigation===ar){Br=!0;let $n=pf(xr.location,xr.matches);$n!=null&&Wu({restoreScrollPosition:$n})}return()=>{Xt=null,Or=null,Er=null}}function Mm(sr,Dr){return Er&&Er(sr,Dr.map($n=>ke($n,xr.loaderData)))||sr.key}function bh(sr,Dr){if(Xt&&Or){let Gr=Mm(sr,Dr);Xt[Gr]=Or()}}function pf(sr,Dr){if(Xt){let Gr=Mm(sr,Dr),$n=Xt[Gr];if(typeof $n=="number")return $n}return null}function Ya(sr,Dr,Gr){if(K.patchRoutesOnNavigation)if(sr){if(Object.keys(sr[0].params).length>0)return{active:!0,matches:_e(Dr,Gr,Ve,!0)}}else return{active:!0,matches:_e(Dr,Gr,Ve,!0)||[]};return{active:!1,matches:null}}async function Ms(sr,Dr,Gr,$n){if(!K.patchRoutesOnNavigation)return{type:"success",matches:sr};let ti=sr;for(;;){let qi=Qe==null,Qi=Qe||Ne,xi=Oe;try{await K.patchRoutesOnNavigation({signal:Gr,path:Dr,matches:ti,fetcherKey:$n,patch:(ra,Fi)=>{Gr.aborted||mi(ra,Fi,Qi,xi,ye)}})}catch(ra){return{type:"error",error:ra,partialMatches:ti}}finally{qi&&!Gr.aborted&&(Ne=[...Ne])}if(Gr.aborted)return{type:"aborted"};let Si=ge(Qi,Dr,Ve);if(Si)return{type:"success",matches:Si};let Gi=_e(Qi,Dr,Ve,!0);if(!Gi||ti.length===Gi.length&&ti.every((ra,Fi)=>ra.route.id===Gi[Fi].route.id))return{type:"success",matches:null};ti=Gi}}function sl(sr){Oe={},Qe=se(sr,ye,void 0,Oe)}function wu(sr,Dr){let Gr=Qe==null;mi(sr,Dr,Qe||Ne,Oe,ye),Gr&&(Ne=[...Ne],Wu({}))}return en={get basename(){return Ve},get future(){return zt},get state(){return xr},get routes(){return Ne},get window(){return Q},initialize:gg,subscribe:wy,enableScrollRestoration:S0,navigate:Lo,fetch:vh,revalidate:nu,createHref:sr=>K.history.createHref(sr),encodeLocation:sr=>K.history.encodeLocation(sr),getFetcher:hf,deleteFetcher:Om,dispose:Hu,getBlocker:Im,deleteBlocker:yh,patchRoutes:wu,_internalFetchControllers:Qn,_internalSetRoutes:sl},en}function Yt(K,Q){E(K.length>0,"You must provide a non-empty routes array to createStaticHandler");let ie={},xe=(Q?Q.basename:null)||"/",ye=(Q==null?void 0:Q.mapRouteProperties)||Kt,Oe=se(K,ye,void 0,ie);async function Ne(ur,{requestContext:Xt,filterMatchesToLoad:Er,skipLoaderErrorBubbling:Or,skipRevalidation:Br,dataStrategy:Xr,unstable_respond:pn}={}){let on=new URL(ur.url),oi=ur.method,en=F("",$(on),null,"default"),xr=ge(Oe,en,xe);if(Xt=Xt??new J,!Qs(oi)&&oi!=="HEAD"){let Nn=uo(405,{method:oi}),{matches:ei,route:Vi}=Rl(Oe),ja={basename:xe,location:en,matches:ei,loaderData:{},actionData:null,errors:{[Vi.id]:Nn},statusCode:Nn.status,loaderHeaders:{},actionHeaders:{}};return pn?pn(ja):ja}else if(!xr){let Nn=uo(404,{pathname:en.pathname}),{matches:ei,route:Vi}=Rl(Oe),ja={basename:xe,location:en,matches:ei,loaderData:{},actionData:null,errors:{[Vi.id]:Nn},statusCode:Nn.status,loaderHeaders:{},actionHeaders:{}};return pn?pn(ja):ja}if(pn&&xr.some(Nn=>Nn.route.unstable_middleware||typeof Nn.route.lazy=="object"&&Nn.route.lazy.unstable_middleware)){E(Xt instanceof J,"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`");try{await Ia(xr,ie,ye);let Nn,ei=await wi({request:ur,matches:xr,params:xr[0].params,context:Xt},!0,async()=>{let Vi=await Ve(ur,en,xr,Xt,Xr||null,Or===!0,null,Er||null,Br===!0);return Ei(Vi)?Vi:(Nn={location:en,basename:xe,...Vi},await pn(Nn))},async(Vi,ja)=>{if(Ei(Vi))return Vi;if(Nn)return ja in Nn.loaderData&&(Nn.loaderData[ja]=void 0),pn(Jt(Oe,Nn,Vi,ko(xr,ja).route.id));{let al=xr.findIndex(po=>po.route.loader),Wa=al>=0?ko(xr,xr[al].route.id):ko(xr);return pn({matches:xr,location:en,basename:xe,loaderData:{},actionData:null,errors:{[Wa.route.id]:Vi},statusCode:gt(Vi)?Vi.status:500,actionHeaders:{},loaderHeaders:{}})}});return E(Ei(ei),"Expected a response in query()"),ei}catch(Nn){if(Ei(Nn))return Nn;throw Nn}}let Kn=await Ve(ur,en,xr,Xt,Xr||null,Or===!0,null,Er||null,Br===!0);return Ei(Kn)?Kn:{location:en,basename:xe,...Kn}}async function Qe(ur,{routeId:Xt,requestContext:Er,dataStrategy:Or,unstable_respond:Br}={}){let Xr=new URL(ur.url),pn=ur.method,on=F("",$(Xr),null,"default"),oi=ge(Oe,on,xe);if(Er=Er??new J,!Qs(pn)&&pn!=="HEAD"&&pn!=="OPTIONS")throw uo(405,{method:pn});if(!oi)throw uo(404,{pathname:on.pathname});let en=Xt?oi.find(Nn=>Nn.route.id===Xt):Ha(oi,on);if(Xt&&!en)throw uo(403,{pathname:on.pathname,routeId:Xt});if(!en)throw uo(404,{pathname:on.pathname});if(Br&&oi.some(Nn=>Nn.route.unstable_middleware||typeof Nn.route.lazy=="object"&&Nn.route.lazy.unstable_middleware))return E(Er instanceof J,"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `unstable_RouterContextProvider`"),await Ia(oi,ie,ye),await wi({request:ur,matches:oi,params:oi[0].params,context:Er},!0,async()=>{let ei=await Ve(ur,on,oi,Er,Or||null,!1,en,null,!1);if(Ei(ei))return Br(ei);let Vi=ei.errors?Object.values(ei.errors)[0]:void 0;if(Vi!==void 0)throw Vi;let ja=ei.actionData?Object.values(ei.actionData)[0]:Object.values(ei.loaderData)[0];return typeof ja=="string"?new Response(ja):Response.json(ja)},ei=>Ei(ei)?Br(ei):new Response(String(ei),{status:500,statusText:"Unexpected Server Error"}));let xr=await Ve(ur,on,oi,Er,Or||null,!1,en,null,!1);if(Ei(xr))return xr;let Kn=xr.errors?Object.values(xr.errors)[0]:void 0;if(Kn!==void 0)throw Kn;if(xr.actionData)return Object.values(xr.actionData)[0];if(xr.loaderData)return Object.values(xr.loaderData)[0]}async function Ve(ur,Xt,Er,Or,Br,Xr,pn,on,oi){E(ur.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(Ma(ur.method))return await ht(ur,Er,pn||Ha(Er,Xt),Or,Br,Xr,pn!=null,on,oi);let en=await zt(ur,Er,Or,Br,Xr,pn,on);return Ei(en)?en:{...en,actionData:null,actionHeaders:{}}}catch(en){if(Co(en)&&Ei(en.result)){if(en.type==="error")throw en.result;return en.result}if(hu(en))return en;throw en}}async function ht(ur,Xt,Er,Or,Br,Xr,pn,on,oi){let en;if(!Er.route.action&&!Er.route.lazy){let Nn=uo(405,{method:ur.method,pathname:new URL(ur.url).pathname,routeId:Er.route.id});if(pn)throw Nn;en={type:"error",error:Nn}}else{let Nn=Ri(ye,ie,ur,Xt,Er,[],Or);en=(await er(ur,Nn,pn,Or,Br))[Er.route.id],ur.signal.aborted&&rr(ur,pn)}if(Yo(en))throw new Response(null,{status:en.response.status,headers:{Location:en.response.headers.get("Location")}});if(pn){if(to(en))throw en.error;return{matches:[Er],loaderData:{},actionData:{[Er.route.id]:en.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}if(oi)if(to(en)){let Nn=Xr?Er:ko(Xt,Er.route.id);return{statusCode:gt(en.error)?en.error.status:en.statusCode!=null?en.statusCode:500,actionData:null,actionHeaders:{...en.headers?{[Er.route.id]:en.headers}:{}},matches:Xt,loaderData:{},errors:{[Nn.route.id]:en.error},loaderHeaders:{}}}else return{actionData:{[Er.route.id]:en.data},actionHeaders:en.headers?{[Er.route.id]:en.headers}:{},matches:Xt,loaderData:{},errors:null,statusCode:en.statusCode||200,loaderHeaders:{}};let xr=new Request(ur.url,{headers:ur.headers,redirect:ur.redirect,signal:ur.signal});if(to(en)){let Nn=Xr?Er:ko(Xt,Er.route.id);return{...await zt(xr,Xt,Or,Br,Xr,null,on,[Nn.route.id,en]),statusCode:gt(en.error)?en.error.status:en.statusCode!=null?en.statusCode:500,actionData:null,actionHeaders:{...en.headers?{[Er.route.id]:en.headers}:{}}}}return{...await zt(xr,Xt,Or,Br,Xr,null,on),actionData:{[Er.route.id]:en.data},...en.statusCode?{statusCode:en.statusCode}:{},actionHeaders:en.headers?{[Er.route.id]:en.headers}:{}}}async function zt(ur,Xt,Er,Or,Br,Xr,pn,on){let oi=Xr!=null;if(oi&&!(Xr!=null&&Xr.route.loader)&&!(Xr!=null&&Xr.route.lazy))throw uo(400,{method:ur.method,pathname:new URL(ur.url).pathname,routeId:Xr==null?void 0:Xr.route.id});let en;if(Xr)en=Ri(ye,ie,ur,Xt,Xr,[],Er);else{let Nn=on&&to(on[1])?Xt.findIndex(ei=>ei.route.id===on[0])-1:void 0;en=Xt.map((ei,Vi)=>Nn!=null&&Vi>Nn?bi(ye,ie,ur,ei,[],Er,!1):bi(ye,ie,ur,ei,[],Er,(ei.route.loader||ei.route.lazy)!=null&&(!pn||pn(ei))))}if(!Or&&!en.some(Nn=>Nn.shouldLoad))return{matches:Xt,loaderData:{},errors:on&&to(on[1])?{[on[0]]:on[1].error}:null,statusCode:200,loaderHeaders:{}};let xr=await er(ur,en,oi,Er,Or);return ur.signal.aborted&&rr(ur,oi),{...Vl(Xt,xr,on,!0,Br),matches:Xt}}async function er(ur,Xt,Er,Or,Br){let Xr=await sa(Br||Ti,ur,Xt,null,Or,!0),pn={};return await Promise.all(Xt.map(async on=>{if(!(on.route.id in Xr))return;let oi=Xr[on.route.id];if(Bi(oi)){let en=oi.result;throw Eo(en,ur,on.route.id,Xt,xe)}if(Ei(oi.result)&&Er)throw oi;pn[on.route.id]=await os(oi)})),pn}return{dataRoutes:Oe,query:Ne,queryRoute:Qe}}function Jt(K,Q,ie,xe){let ye=xe||Q._deepestRenderedBoundaryId||K[0].id;return{...Q,statusCode:gt(ie)?ie.status:500,errors:{[ye]:ie}}}function rr(K,Q){if(K.signal.reason!==void 0)throw K.signal.reason;let ie=Q?"queryRoute":"query";throw new Error(`${ie}() call aborted without an \`AbortSignal.reason\`: ${K.method} ${K.url}`)}function vr(K){return K!=null&&("formData"in K&&K.formData!=null||"body"in K&&K.body!==void 0)}function Lt(K,Q,ie,xe,ye,Oe){let Ne,Qe;if(ye){Ne=[];for(let ht of Q)if(Ne.push(ht),ht.route.id===ye){Qe=ht;break}}else Ne=Q,Qe=Q[Q.length-1];let Ve=Nr(xe||".",dr(Ne),At(K.pathname,ie)||K.pathname,Oe==="path");if(xe==null&&(Ve.search=K.search,Ve.hash=K.hash),(xe==null||xe===""||xe===".")&&Qe){let ht=Po(Ve.search);if(Qe.route.index&&!ht)Ve.search=Ve.search?Ve.search.replace(/^\?/,"?index&"):"?index";else if(!Qe.route.index&&ht){let zt=new URLSearchParams(Ve.search),er=zt.getAll("index");zt.delete("index"),er.filter(Xt=>Xt).forEach(Xt=>zt.append("index",Xt));let ur=zt.toString();Ve.search=ur?`?${ur}`:""}}return ie!=="/"&&(Ve.pathname=Ve.pathname==="/"?ie:gr([ie,Ve.pathname])),$(Ve)}function Ir(K,Q,ie){if(!ie||!vr(ie))return{path:Q};if(ie.formMethod&&!Qs(ie.formMethod))return{path:Q,error:uo(405,{method:ie.formMethod})};let xe=()=>({path:Q,error:uo(400,{type:"invalid-body"})}),Oe=(ie.formMethod||"get").toUpperCase(),Ne=Ol(Q);if(ie.body!==void 0){if(ie.formEncType==="text/plain"){if(!Ma(Oe))return xe();let er=typeof ie.body=="string"?ie.body:ie.body instanceof FormData||ie.body instanceof URLSearchParams?Array.from(ie.body.entries()).reduce((ur,[Xt,Er])=>`${ur}${Xt}=${Er}
`,""):String(ie.body);return{path:Q,submission:{formMethod:Oe,formAction:Ne,formEncType:ie.formEncType,formData:void 0,json:void 0,text:er}}}else if(ie.formEncType==="application/json"){if(!Ma(Oe))return xe();try{let er=typeof ie.body=="string"?JSON.parse(ie.body):ie.body;return{path:Q,submission:{formMethod:Oe,formAction:Ne,formEncType:ie.formEncType,formData:void 0,json:er,text:void 0}}}catch{return xe()}}}E(typeof FormData=="function","FormData is not available in this environment");let Qe,Ve;if(ie.formData)Qe=ml(ie.formData),Ve=ie.formData;else if(ie.body instanceof FormData)Qe=ml(ie.body),Ve=ie.body;else if(ie.body instanceof URLSearchParams)Qe=ie.body,Ve=Au(Qe);else if(ie.body==null)Qe=new URLSearchParams,Ve=new FormData;else try{Qe=new URLSearchParams(ie.body),Ve=Au(Qe)}catch{return xe()}let ht={formMethod:Oe,formAction:Ne,formEncType:ie&&ie.formEncType||"application/x-www-form-urlencoded",formData:Ve,json:void 0,text:void 0};if(Ma(ht.formMethod))return{path:Q,submission:ht};let zt=z(Q);return K&&zt.search&&Po(zt.search)&&Qe.append("index",""),zt.search=`?${Qe}`,{path:$(zt),submission:ht}}function fn(K,Q,ie,xe,ye,Oe,Ne,Qe,Ve,ht,zt,er,ur,Xt,Er,Or,Br,Xr,pn){var al;let on=pn?to(pn[1])?pn[1].error:pn[1].data:void 0,oi=ye.createURL(Oe.location),en=ye.createURL(Ve),xr;if(zt&&Oe.errors){let Wa=Object.keys(Oe.errors)[0];xr=Ne.findIndex(po=>po.route.id===Wa)}else if(pn&&to(pn[1])){let Wa=pn[0];xr=Ne.findIndex(po=>po.route.id===Wa)-1}let Kn=pn?pn[1].statusCode:void 0,Nn=Kn&&Kn>=400,ei={currentUrl:oi,currentParams:((al=Oe.matches[0])==null?void 0:al.params)||{},nextUrl:en,nextParams:Ne[0].params,...Qe,actionResult:on,actionStatus:Kn},Vi=Ne.map((Wa,po)=>{let{route:bs}=Wa,Qn=null;if(xr!=null&&po>xr?Qn=!1:bs.lazy?Qn=!0:bs.loader==null?Qn=!1:zt?Qn=Fn(bs,Oe.loaderData,Oe.errors):ui(Oe.loaderData,Oe.matches[po],Wa)&&(Qn=!0),Qn!==null)return bi(ie,xe,K,Wa,ht,Q,Qn);let Uu=Nn?!1:er||oi.pathname+oi.search===en.pathname+en.search||oi.search!==en.search||yi(Oe.matches[po],Wa),qu={...ei,defaultShouldRevalidate:Uu},zs=Wn(Wa,qu);return bi(ie,xe,K,Wa,ht,Q,zs,qu)}),ja=[];return Er.forEach((Wa,po)=>{if(zt||!Ne.some(ol=>ol.route.id===Wa.routeId)||Xt.has(po))return;let bs=ge(Br,Wa.path,Xr);if(!bs){ja.push({key:po,routeId:Wa.routeId,path:Wa.path,matches:null,match:null,request:null,controller:null});return}if(Or.has(po))return;let Qn=Oe.fetchers.get(po),Uu=Ha(bs,Wa.path),qu=new AbortController,zs=Zo(ye,Wa.path,qu.signal),Ho=null;if(ur.has(po))ur.delete(po),Ho=Ri(ie,xe,zs,bs,Uu,ht,Q);else if(Qn&&Qn.state!=="idle"&&Qn.data===void 0)er&&(Ho=Ri(ie,xe,zs,bs,Uu,ht,Q));else{let ol={...ei,defaultShouldRevalidate:Nn?!1:er};Wn(Uu,ol)&&(Ho=Ri(ie,xe,zs,bs,Uu,ht,Q,ol))}Ho&&ja.push({key:po,routeId:Wa.routeId,path:Wa.path,matches:Ho,match:Uu,request:zs,controller:qu})}),{dsMatches:Vi,revalidatingFetchers:ja}}function Fn(K,Q,ie){if(K.lazy)return!0;if(!K.loader)return!1;let xe=Q!=null&&Q[K.id]!==void 0,ye=ie!=null&&ie[K.id]!==void 0;return!xe&&ye?!1:typeof K.loader=="function"&&K.loader.hydrate===!0?!0:!xe&&!ye}function ui(K,Q,ie){let xe=!Q||ie.route.id!==Q.route.id,ye=!K.hasOwnProperty(ie.route.id);return xe||ye}function yi(K,Q){let ie=K.route.path;return K.pathname!==Q.pathname||ie!=null&&ie.endsWith("*")&&K.params["*"]!==Q.params["*"]}function Wn(K,Q){if(K.route.shouldRevalidate){let ie=K.route.shouldRevalidate(Q);if(typeof ie=="boolean")return ie}return Q.defaultShouldRevalidate}function mi(K,Q,ie,xe,ye){let Oe;if(K){let Ve=xe[K];E(Ve,`No route found to patch children into: routeId = ${K}`),Ve.children||(Ve.children=[]),Oe=Ve.children}else Oe=ie;let Ne=Q.filter(Ve=>!Oe.some(ht=>ya(Ve,ht))),Qe=se(Ne,ye,[K||"_","patch",String((Oe==null?void 0:Oe.length)||"0")],xe);Oe.push(...Qe)}function ya(K,Q){return"id"in K&&"id"in Q&&K.id===Q.id?!0:K.index===Q.index&&K.path===Q.path&&K.caseSensitive===Q.caseSensitive?(!K.children||K.children.length===0)&&(!Q.children||Q.children.length===0)?!0:K.children.every((ie,xe)=>{var ye;return(ye=Q.children)==null?void 0:ye.some(Oe=>ya(ie,Oe))}):!1}var Ka=new WeakMap,Ua=({key:K,route:Q,manifest:ie,mapRouteProperties:xe})=>{let ye=ie[Q.id];if(E(ye,"No route found in manifest"),!ye.lazy||typeof ye.lazy!="object")return;let Oe=ye.lazy[K];if(!Oe)return;let Ne=Ka.get(ye);Ne||(Ne={},Ka.set(ye,Ne));let Qe=Ne[K];if(Qe)return Qe;let Ve=(async()=>{let ht=ue(K),er=ye[K]!==void 0&&K!=="hasErrorBoundary";if(ht)_(!ht,"Route property "+K+" is not a supported lazy route property. This property will be ignored."),Ne[K]=Promise.resolve();else if(er)_(!1,`Route "${ye.id}" has a static property "${K}" defined. The lazy property will be ignored.`);else{let ur=await Oe();ur!=null&&(Object.assign(ye,{[K]:ur}),Object.assign(ye,xe(ye)))}typeof ye.lazy=="object"&&(ye.lazy[K]=void 0,Object.values(ye.lazy).every(ur=>ur===void 0)&&(ye.lazy=void 0))})();return Ne[K]=Ve,Ve},Ji=new WeakMap;function So(K,Q,ie,xe,ye){let Oe=ie[K.id];if(E(Oe,"No route found in manifest"),!K.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof K.lazy=="function"){let zt=Ji.get(Oe);if(zt)return{lazyRoutePromise:zt,lazyHandlerPromise:zt};let er=(async()=>{E(typeof K.lazy=="function","No lazy route function found");let ur=await K.lazy(),Xt={};for(let Er in ur){let Or=ur[Er];if(Or===void 0)continue;let Br=ve(Er),pn=Oe[Er]!==void 0&&Er!=="hasErrorBoundary";Br?_(!Br,"Route property "+Er+" is not a supported property to be returned from a lazy route function. This property will be ignored."):pn?_(!pn,`Route "${Oe.id}" has a static property "${Er}" defined but its lazy function is also returning a value for this property. The lazy route property "${Er}" will be ignored.`):Xt[Er]=Or}Object.assign(Oe,Xt),Object.assign(Oe,{...xe(Oe),lazy:void 0})})();return Ji.set(Oe,er),er.catch(()=>{}),{lazyRoutePromise:er,lazyHandlerPromise:er}}let Ne=Object.keys(K.lazy),Qe=[],Ve;for(let zt of Ne){if(ye&&ye.includes(zt))continue;let er=Ua({key:zt,route:K,manifest:ie,mapRouteProperties:xe});er&&(Qe.push(er),zt===Q&&(Ve=er))}let ht=Qe.length>0?Promise.all(Qe).then(()=>{}):void 0;return ht==null||ht.catch(()=>{}),Ve==null||Ve.catch(()=>{}),{lazyRoutePromise:ht,lazyHandlerPromise:Ve}}function ci(K){return K!==void 0}function Ia(K,Q,ie){let xe=K.map(({route:ye})=>{if(!(typeof ye.lazy!="object"||!ye.lazy.unstable_middleware))return Ua({key:"unstable_middleware",route:ye,manifest:Q,mapRouteProperties:ie})}).filter(ci);return xe.length>0?Promise.all(xe):void 0}async function Ti(K){let Q=K.matches.filter(ye=>ye.shouldLoad),ie={};return(await Promise.all(Q.map(ye=>ye.resolve()))).forEach((ye,Oe)=>{ie[Q[Oe].route.id]=ye}),ie}async function Ko(K){return K.matches.some(Q=>Q.route.unstable_middleware)?wi(K,!1,()=>Ti(K),(Q,ie)=>({[ie]:{type:"error",result:Q}})):Ti(K)}async function wi(K,Q,ie,xe){let{matches:ye,request:Oe,params:Ne,context:Qe}=K,Ve={handlerResult:void 0};try{let ht=ye.flatMap(er=>er.route.unstable_middleware?er.route.unstable_middleware.map(ur=>[er.route.id,ur]):[]),zt=await lo({request:Oe,params:Ne,context:Qe},ht,Q,Ve,ie);return Q?zt:Ve.handlerResult}catch(ht){if(!Ve.middlewareError)throw ht;let zt=await xe(Ve.middlewareError.error,Ve.middlewareError.routeId);return Q||!Ve.handlerResult?zt:Object.assign(Ve.handlerResult,zt)}}async function lo(K,Q,ie,xe,ye,Oe=0){let{request:Ne}=K;if(Ne.signal.aborted)throw Ne.signal.reason?Ne.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${Ne.method} ${Ne.url}`);let Qe=Q[Oe];if(!Qe)return xe.handlerResult=await ye(),xe.handlerResult;let[Ve,ht]=Qe,zt=!1,er,ur=async()=>{if(zt)throw new Error("You may only call `next()` once per middleware");zt=!0;let Xt=await lo(K,Q,ie,xe,ye,Oe+1);if(ie)return er=Xt,er};try{let Xt=await ht({request:K.request,params:K.params,context:K.context},ur);return zt?Xt===void 0?er:Xt:ur()}catch(Xt){throw xe.middlewareError?xe.middlewareError.error!==Xt&&(xe.middlewareError={routeId:Ve,error:Xt}):xe.middlewareError={routeId:Ve,error:Xt},Xt}}function co(K,Q,ie,xe,ye){let Oe=Ua({key:"unstable_middleware",route:xe.route,manifest:Q,mapRouteProperties:K}),Ne=So(xe.route,Ma(ie.method)?"action":"loader",Q,K,ye);return{middleware:Oe,route:Ne.lazyRoutePromise,handler:Ne.lazyHandlerPromise}}function bi(K,Q,ie,xe,ye,Oe,Ne,Qe=null){let Ve=!1,ht=co(K,Q,ie,xe,ye);return{...xe,_lazyPromises:ht,shouldLoad:Ne,unstable_shouldRevalidateArgs:Qe,unstable_shouldCallHandler(zt){return Ve=!0,Qe?typeof zt=="boolean"?Wn(xe,{...Qe,defaultShouldRevalidate:zt}):Wn(xe,Qe):Ne},resolve(zt){return Ve||Ne||zt&&ie.method==="GET"&&(xe.route.lazy||xe.route.loader)?qa({request:ie,match:xe,lazyHandlerPromise:ht==null?void 0:ht.handler,lazyRoutePromise:ht==null?void 0:ht.route,handlerOverride:zt,scopedContext:Oe}):Promise.resolve({type:"data",result:void 0})}}}function Ri(K,Q,ie,xe,ye,Oe,Ne,Qe=null){return xe.map(Ve=>Ve.route.id!==ye.route.id?{...Ve,shouldLoad:!1,unstable_shouldRevalidateArgs:Qe,unstable_shouldCallHandler:()=>!1,_lazyPromises:co(K,Q,ie,Ve,Oe),resolve:()=>Promise.resolve({type:"data",result:void 0})}:bi(K,Q,ie,Ve,Oe,Ne,!0,Qe))}async function sa(K,Q,ie,xe,ye,Oe){ie.some(ht=>{var zt;return(zt=ht._lazyPromises)==null?void 0:zt.middleware})&&await Promise.all(ie.map(ht=>{var zt;return(zt=ht._lazyPromises)==null?void 0:zt.middleware}));let Ne={request:Q,params:ie[0].params,context:ye,matches:ie},Ve=await K({...Ne,fetcherKey:xe,unstable_runClientMiddleware:Oe?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:ht=>{let zt=Ne;return wi(zt,!1,()=>ht({...zt,fetcherKey:xe,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(er,ur)=>({[ur]:{type:"error",result:er}}))}});try{await Promise.all(ie.flatMap(ht=>{var zt,er;return[(zt=ht._lazyPromises)==null?void 0:zt.handler,(er=ht._lazyPromises)==null?void 0:er.route]}))}catch{}return Ve}async function qa({request:K,match:Q,lazyHandlerPromise:ie,lazyRoutePromise:xe,handlerOverride:ye,scopedContext:Oe}){let Ne,Qe,Ve=Ma(K.method),ht=Ve?"action":"loader",zt=er=>{let ur,Xt=new Promise((Br,Xr)=>ur=Xr);Qe=()=>ur(),K.signal.addEventListener("abort",Qe);let Er=Br=>typeof er!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${ht}" [routeId: ${Q.route.id}]`)):er({request:K,params:Q.params,context:Oe},...Br!==void 0?[Br]:[]),Or=(async()=>{try{return{type:"data",result:await(ye?ye(Xr=>Er(Xr)):Er())}}catch(Br){return{type:"error",result:Br}}})();return Promise.race([Or,Xt])};try{let er=Ve?Q.route.action:Q.route.loader;if(ie||xe)if(er){let ur,[Xt]=await Promise.all([zt(er).catch(Er=>{ur=Er}),ie,xe]);if(ur!==void 0)throw ur;Ne=Xt}else{await ie;let ur=Ve?Q.route.action:Q.route.loader;if(ur)[Ne]=await Promise.all([zt(ur),xe]);else if(ht==="action"){let Xt=new URL(K.url),Er=Xt.pathname+Xt.search;throw uo(405,{method:K.method,pathname:Er,routeId:Q.route.id})}else return{type:"data",result:void 0}}else if(er)Ne=await zt(er);else{let ur=new URL(K.url),Xt=ur.pathname+ur.search;throw uo(404,{pathname:Xt})}}catch(er){return{type:"error",result:er}}finally{Qe&&K.signal.removeEventListener("abort",Qe)}return Ne}async function os(K){var xe,ye,Oe,Ne,Qe,Ve;let{result:Q,type:ie}=K;if(Ei(Q)){let ht;try{let zt=Q.headers.get("Content-Type");zt&&/\bapplication\/json\b/.test(zt)?Q.body==null?ht=null:ht=await Q.json():ht=await Q.text()}catch(zt){return{type:"error",error:zt}}return ie==="error"?{type:"error",error:new Ye(Q.status,Q.statusText,ht),statusCode:Q.status,headers:Q.headers}:{type:"data",data:ht,statusCode:Q.status,headers:Q.headers}}return ie==="error"?du(Q)?Q.data instanceof Error?{type:"error",error:Q.data,statusCode:(xe=Q.init)==null?void 0:xe.status,headers:(ye=Q.init)!=null&&ye.headers?new Headers(Q.init.headers):void 0}:{type:"error",error:new Ye(((Oe=Q.init)==null?void 0:Oe.status)||500,void 0,Q.data),statusCode:gt(Q)?Q.status:void 0,headers:(Ne=Q.init)!=null&&Ne.headers?new Headers(Q.init.headers):void 0}:{type:"error",error:Q,statusCode:gt(Q)?Q.status:void 0}:du(Q)?{type:"data",data:Q.data,statusCode:(Qe=Q.init)==null?void 0:Qe.status,headers:(Ve=Q.init)!=null&&Ve.headers?new Headers(Q.init.headers):void 0}:{type:"data",data:Q}}function Eo(K,Q,ie,xe,ye){let Oe=K.headers.get("Location");if(E(Oe,"Redirects returned/thrown from loaders/actions must have a Location header"),!It.test(Oe)){let Ne=xe.slice(0,xe.findIndex(Qe=>Qe.route.id===ie)+1);Oe=Lt(new URL(Q.url),Ne,ye,Oe),K.headers.set("Location",Oe)}return K}function Ns(K,Q,ie){if(It.test(K)){let xe=K,ye=xe.startsWith("//")?new URL(Q.protocol+xe):new URL(xe),Oe=At(ye.pathname,ie)!=null;if(ye.origin===Q.origin&&Oe)return ye.pathname+ye.search+ye.hash}return K}function Zo(K,Q,ie,xe){let ye=K.createURL(Ol(Q)).toString(),Oe={signal:ie};if(xe&&Ma(xe.formMethod)){let{formMethod:Ne,formEncType:Qe}=xe;Oe.method=Ne.toUpperCase(),Qe==="application/json"?(Oe.headers=new Headers({"Content-Type":Qe}),Oe.body=JSON.stringify(xe.json)):Qe==="text/plain"?Oe.body=xe.text:Qe==="application/x-www-form-urlencoded"&&xe.formData?Oe.body=ml(xe.formData):Oe.body=xe.formData}return new Request(ye,Oe)}function ml(K){let Q=new URLSearchParams;for(let[ie,xe]of K.entries())Q.append(ie,typeof xe=="string"?xe:xe.name);return Q}function Au(K){let Q=new FormData;for(let[ie,xe]of K.entries())Q.append(ie,xe);return Q}function Vl(K,Q,ie,xe=!1,ye=!1){let Oe={},Ne=null,Qe,Ve=!1,ht={},zt=ie&&to(ie[1])?ie[1].error:void 0;return K.forEach(er=>{if(!(er.route.id in Q))return;let ur=er.route.id,Xt=Q[ur];if(E(!Yo(Xt),"Cannot handle redirect results in processLoaderData"),to(Xt)){let Er=Xt.error;if(zt!==void 0&&(Er=zt,zt=void 0),Ne=Ne||{},ye)Ne[ur]=Er;else{let Or=ko(K,ur);Ne[Or.route.id]==null&&(Ne[Or.route.id]=Er)}xe||(Oe[ur]=Rr),Ve||(Ve=!0,Qe=gt(Xt.error)?Xt.error.status:500),Xt.headers&&(ht[ur]=Xt.headers)}else Oe[ur]=Xt.data,Xt.statusCode&&Xt.statusCode!==200&&!Ve&&(Qe=Xt.statusCode),Xt.headers&&(ht[ur]=Xt.headers)}),zt!==void 0&&ie&&(Ne={[ie[0]]:zt},ie[2]&&(Oe[ie[2]]=void 0)),{loaderData:Oe,errors:Ne,statusCode:Qe||200,loaderHeaders:ht}}function gl(K,Q,ie,xe,ye,Oe){let{loaderData:Ne,errors:Qe}=Vl(Q,ie,xe);return ye.filter(Ve=>!Ve.matches||Ve.matches.some(ht=>ht.shouldLoad)).forEach(Ve=>{let{key:ht,match:zt,controller:er}=Ve,ur=Oe[ht];if(E(ur,"Did not find corresponding fetcher result"),!(er&&er.signal.aborted))if(to(ur)){let Xt=ko(K.matches,zt==null?void 0:zt.route.id);Qe&&Qe[Xt.route.id]||(Qe={...Qe,[Xt.route.id]:ur.error}),K.fetchers.delete(ht)}else if(Yo(ur))E(!1,"Unhandled fetcher revalidation redirect");else{let Xt=ba(ur.data);K.fetchers.set(ht,Xt)}}),{loaderData:Ne,errors:Qe}}function wc(K,Q,ie,xe){let ye=Object.entries(Q).filter(([,Oe])=>Oe!==Rr).reduce((Oe,[Ne,Qe])=>(Oe[Ne]=Qe,Oe),{});for(let Oe of ie){let Ne=Oe.route.id;if(!Q.hasOwnProperty(Ne)&&K.hasOwnProperty(Ne)&&Oe.route.loader&&(ye[Ne]=K[Ne]),xe&&xe.hasOwnProperty(Ne))break}return ye}function Gl(K){return K?to(K[1])?{actionData:{}}:{actionData:{[K[0]]:K[1].data}}:{}}function ko(K,Q){return(Q?K.slice(0,K.findIndex(xe=>xe.route.id===Q)+1):[...K]).reverse().find(xe=>xe.route.hasErrorBoundary===!0)||K[0]}function Rl(K){let Q=K.length===1?K[0]:K.find(ie=>ie.index||!ie.path||ie.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:Q}],route:Q}}function uo(K,{pathname:Q,routeId:ie,method:xe,type:ye,message:Oe}={}){let Ne="Unknown Server Error",Qe="Unknown @remix-run/router error";return K===400?(Ne="Bad Request",xe&&Q&&ie?Qe=`You made a ${xe} request to "${Q}" but did not provide a \`loader\` for route "${ie}", so there is no way to handle the request.`:ye==="invalid-body"&&(Qe="Unable to encode submission body")):K===403?(Ne="Forbidden",Qe=`Route "${ie}" does not match URL "${Q}"`):K===404?(Ne="Not Found",Qe=`No route matches URL "${Q}"`):K===405&&(Ne="Method Not Allowed",xe&&Q&&ie?Qe=`You made a ${xe.toUpperCase()} request to "${Q}" but did not provide an \`action\` for route "${ie}", so there is no way to handle the request.`:xe&&(Qe=`Invalid request method "${xe.toUpperCase()}"`)),new Ye(K||500,Ne,new Error(Qe),!0)}function Al(K){let Q=Object.entries(K);for(let ie=Q.length-1;ie>=0;ie--){let[xe,ye]=Q[ie];if(Yo(ye))return{key:xe,result:ye}}}function Ol(K){let Q=typeof K=="string"?z(K):K;return $({...Q,hash:""})}function fa(K,Q){return K.pathname!==Q.pathname||K.search!==Q.search?!1:K.hash===""?Q.hash!=="":K.hash===Q.hash?!0:Q.hash!==""}function Co(K){return K!=null&&typeof K=="object"&&"type"in K&&"result"in K&&(K.type==="data"||K.type==="error")}function Bi(K){return Ei(K.result)&&ir.has(K.result.status)}function to(K){return K.type==="error"}function Yo(K){return(K&&K.type)==="redirect"}function du(K){return typeof K=="object"&&K!=null&&"type"in K&&"data"in K&&"init"in K&&K.type==="DataWithResponseInit"}function Ei(K){return K!=null&&typeof K.status=="number"&&typeof K.statusText=="string"&&typeof K.headers=="object"&&typeof K.body<"u"}function Ou(K){return ir.has(K)}function hu(K){return Ei(K)&&Ou(K.status)&&K.headers.has("Location")}function Qs(K){return Tt.has(K.toUpperCase())}function Ma(K){return at.has(K.toUpperCase())}function Po(K){return new URLSearchParams(K).getAll("index").some(Q=>Q==="")}function Ha(K,Q){let ie=typeof Q=="string"?z(Q).search:Q.search;if(K[K.length-1].route.index&&Po(ie||""))return K[K.length-1];let xe=Dt(K);return xe[xe.length-1]}function ss(K){let{formMethod:Q,formAction:ie,formEncType:xe,text:ye,formData:Oe,json:Ne}=K;if(!(!Q||!ie||!xe)){if(ye!=null)return{formMethod:Q,formAction:ie,formEncType:xe,formData:void 0,json:void 0,text:ye};if(Oe!=null)return{formMethod:Q,formAction:ie,formEncType:xe,formData:Oe,json:void 0,text:void 0};if(Ne!==void 0)return{formMethod:Q,formAction:ie,formEncType:xe,formData:void 0,json:Ne,text:void 0}}}function Ca(K,Q){return Q?{state:"loading",location:K,formMethod:Q.formMethod,formAction:Q.formAction,formEncType:Q.formEncType,formData:Q.formData,json:Q.json,text:Q.text}:{state:"loading",location:K,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nf(K,Q){return{state:"submitting",location:K,formMethod:Q.formMethod,formAction:Q.formAction,formEncType:Q.formEncType,formData:Q.formData,json:Q.json,text:Q.text}}function Xo(K,Q){return K?{state:"loading",formMethod:K.formMethod,formAction:K.formAction,formEncType:K.formEncType,formData:K.formData,json:K.json,text:K.text,data:Q}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:Q}}function ms(K,Q){return{state:"submitting",formMethod:K.formMethod,formAction:K.formAction,formEncType:K.formEncType,formData:K.formData,json:K.json,text:K.text,data:Q?Q.data:void 0}}function ba(K){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:K}}function _t(K,Q){try{let ie=K.sessionStorage.getItem(br);if(ie){let xe=JSON.parse(ie);for(let[ye,Oe]of Object.entries(xe||{}))Oe&&Array.isArray(Oe)&&Q.set(ye,new Set(Oe||[]))}}catch{}}function Nt(K,Q){if(Q.size>0){let ie={};for(let[xe,ye]of Q)ie[xe]=[...ye];try{K.sessionStorage.setItem(br,JSON.stringify(ie))}catch(xe){_(!1,`Failed to save applied view transitions in sessionStorage (${xe}).`)}}}function Ar(){let K,Q,ie=new Promise((xe,ye)=>{K=async Oe=>{xe(Oe);try{await ie}catch{}},Q=async Oe=>{ye(Oe);try{await ie}catch{}}});return{promise:ie,resolve:K,reject:Q}}var Zt=f(vn()),pr=f(vn()),Kr=pr.createContext(null);Kr.displayName="DataRouter";var rn=pr.createContext(null);rn.displayName="DataRouterState";var ri=pr.createContext({isTransitioning:!1});ri.displayName="ViewTransition";var Sn=pr.createContext(new Map);Sn.displayName="Fetchers";var Ln=pr.createContext(null);Ln.displayName="Await";var An=pr.createContext(null);An.displayName="Navigation";var Un=pr.createContext(null);Un.displayName="Location";var fi=pr.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var de=pr.createContext(null);de.displayName="RouteError";var Ie=f(vn());function Ke(K,{relative:Q}={}){E(et(),"useHref() may be used only in the context of a <Router> component.");let{basename:ie,navigator:xe}=Ie.useContext(An),{hash:ye,pathname:Oe,search:Ne}=Cn(K,{relative:Q}),Qe=Oe;return ie!=="/"&&(Qe=Oe==="/"?ie:gr([ie,Oe])),xe.createHref({pathname:Qe,search:Ne,hash:ye})}function et(){return Ie.useContext(Un)!=null}function St(){return E(et(),"useLocation() may be used only in the context of a <Router> component."),Ie.useContext(Un).location}function vt(){return Ie.useContext(Un).navigationType}function Ot(K){E(et(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:Q}=St();return Ie.useMemo(()=>Ze(K,Vt(Q)),[Q,K])}var Pr="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tr(K){Ie.useContext(An).static||Ie.useLayoutEffect(K)}function Mr(){let{isDataRoute:K}=Ie.useContext(fi);return K?Uo():bn()}function bn(){E(et(),"useNavigate() may be used only in the context of a <Router> component.");let K=Ie.useContext(Kr),{basename:Q,navigator:ie}=Ie.useContext(An),{matches:xe}=Ie.useContext(fi),{pathname:ye}=St(),Oe=JSON.stringify(dr(xe)),Ne=Ie.useRef(!1);return Tr(()=>{Ne.current=!0}),Ie.useCallback((Ve,ht={})=>{if(_(Ne.current,Pr),!Ne.current)return;if(typeof Ve=="number"){ie.go(Ve);return}let zt=Nr(Ve,JSON.parse(Oe),ye,ht.relative==="path");K==null&&Q!=="/"&&(zt.pathname=zt.pathname==="/"?Q:gr([Q,zt.pathname])),(ht.replace?ie.replace:ie.push)(zt,ht.state,ht)},[Q,ie,Oe,ye,K])}var sn=Ie.createContext(null);function Pn(){return Ie.useContext(sn)}function un(K){let Q=Ie.useContext(fi).outlet;return Q&&Ie.createElement(sn.Provider,{value:K},Q)}function gn(){let{matches:K}=Ie.useContext(fi),Q=K[K.length-1];return Q?Q.params:{}}function Cn(K,{relative:Q}={}){let{matches:ie}=Ie.useContext(fi),{pathname:xe}=St(),ye=JSON.stringify(dr(ie));return Ie.useMemo(()=>Nr(K,JSON.parse(ye),xe,Q==="path"),[K,ye,xe,Q])}function Zn(K,Q){return hi(K,Q)}function hi(K,Q,ie,xe){var pn;E(et(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:ye,static:Oe}=Ie.useContext(An),{matches:Ne}=Ie.useContext(fi),Qe=Ne[Ne.length-1],Ve=Qe?Qe.params:{},ht=Qe?Qe.pathname:"/",zt=Qe?Qe.pathnameBase:"/",er=Qe&&Qe.route;{let on=er&&er.path||"";ec(ht,!er||on.endsWith("*")||on.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ht}" (under <Route path="${on}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${on}"> to <Route path="${on==="/"?"*":`${on}/*`}">.`)}let ur=St(),Xt;if(Q){let on=typeof Q=="string"?z(Q):Q;E(zt==="/"||((pn=on.pathname)==null?void 0:pn.startsWith(zt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${zt}" but pathname "${on.pathname}" was given in the \`location\` prop.`),Xt=on}else Xt=ur;let Er=Xt.pathname||"/",Or=Er;if(zt!=="/"){let on=zt.replace(/^\//,"").split("/");Or="/"+Er.replace(/^\//,"").split("/").slice(on.length).join("/")}let Br=!Oe&&ie&&ie.matches&&ie.matches.length>0?ie.matches:ge(K,{pathname:Or});_(er||Br!=null,`No routes matched location "${Xt.pathname}${Xt.search}${Xt.hash}" `),_(Br==null||Br[Br.length-1].route.element!==void 0||Br[Br.length-1].route.Component!==void 0||Br[Br.length-1].route.lazy!==void 0,`Matched leaf route at location "${Xt.pathname}${Xt.search}${Xt.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Xr=ai(Br&&Br.map(on=>Object.assign({},on,{params:Object.assign({},Ve,on.params),pathname:gr([zt,ye.encodeLocation?ye.encodeLocation(on.pathname).pathname:on.pathname]),pathnameBase:on.pathnameBase==="/"?zt:gr([zt,ye.encodeLocation?ye.encodeLocation(on.pathnameBase).pathname:on.pathnameBase])})),Ne,ie,xe);return Q&&Xr?Ie.createElement(Un.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Xt},navigationType:"POP"}},Xr):Xr}function ji(){let K=gs(),Q=gt(K)?`${K.status} ${K.statusText}`:K instanceof Error?K.message:JSON.stringify(K),ie=K instanceof Error?K.stack:null,xe="rgba(200,200,200, 0.5)",ye={padding:"0.5rem",backgroundColor:xe},Oe={padding:"2px 4px",backgroundColor:xe},Ne=null;return console.error("Error handled by React Router default ErrorBoundary:",K),Ne=Ie.createElement(Ie.Fragment,null,Ie.createElement("p",null,"💿 Hey developer 👋"),Ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ie.createElement("code",{style:Oe},"ErrorBoundary")," or"," ",Ie.createElement("code",{style:Oe},"errorElement")," prop on your route.")),Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},Q),ie?Ie.createElement("pre",{style:ye},ie):null,Ne)}var ii=Ie.createElement(ji,null),Bn=class extends Ie.Component{constructor(K){super(K),this.state={location:K.location,revalidation:K.revalidation,error:K.error}}static getDerivedStateFromError(K){return{error:K}}static getDerivedStateFromProps(K,Q){return Q.location!==K.location||Q.revalidation!=="idle"&&K.revalidation==="idle"?{error:K.error,location:K.location,revalidation:K.revalidation}:{error:K.error!==void 0?K.error:Q.error,location:Q.location,revalidation:K.revalidation||Q.revalidation}}componentDidCatch(K,Q){console.error("React Router caught the following error during render",K,Q)}render(){return this.state.error!==void 0?Ie.createElement(fi.Provider,{value:this.props.routeContext},Ie.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ni({routeContext:K,match:Q,children:ie}){let xe=Ie.useContext(Kr);return xe&&xe.static&&xe.staticContext&&(Q.route.errorElement||Q.route.ErrorBoundary)&&(xe.staticContext._deepestRenderedBoundaryId=Q.route.id),Ie.createElement(fi.Provider,{value:K},ie)}function ai(K,Q=[],ie=null,xe=null){if(K==null){if(!ie)return null;if(ie.errors)K=ie.matches;else if(Q.length===0&&!ie.initialized&&ie.matches.length>0)K=ie.matches;else return null}let ye=K,Oe=ie==null?void 0:ie.errors;if(Oe!=null){let Ve=ye.findIndex(ht=>ht.route.id&&(Oe==null?void 0:Oe[ht.route.id])!==void 0);E(Ve>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Oe).join(",")}`),ye=ye.slice(0,Math.min(ye.length,Ve+1))}let Ne=!1,Qe=-1;if(ie)for(let Ve=0;Ve<ye.length;Ve++){let ht=ye[Ve];if((ht.route.HydrateFallback||ht.route.hydrateFallbackElement)&&(Qe=Ve),ht.route.id){let{loaderData:zt,errors:er}=ie,ur=ht.route.loader&&!zt.hasOwnProperty(ht.route.id)&&(!er||er[ht.route.id]===void 0);if(ht.route.lazy||ur){Ne=!0,Qe>=0?ye=ye.slice(0,Qe+1):ye=[ye[0]];break}}}return ye.reduceRight((Ve,ht,zt)=>{let er,ur=!1,Xt=null,Er=null;ie&&(er=Oe&&ht.route.id?Oe[ht.route.id]:void 0,Xt=ht.route.errorElement||ii,Ne&&(Qe<0&&zt===0?(ec("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ur=!0,Er=null):Qe===zt&&(ur=!0,Er=ht.route.hydrateFallbackElement||null)));let Or=Q.concat(ye.slice(0,zt+1)),Br=()=>{let Xr;return er?Xr=Xt:ur?Xr=Er:ht.route.Component?Xr=Ie.createElement(ht.route.Component,null):ht.route.element?Xr=ht.route.element:Xr=Ve,Ie.createElement(ni,{match:ht,routeContext:{outlet:Ve,matches:Or,isDataRoute:ie!=null},children:Xr})};return ie&&(ht.route.ErrorBoundary||ht.route.errorElement||zt===0)?Ie.createElement(Bn,{location:ie.location,revalidation:ie.revalidation,component:Xt,error:er,children:Br(),routeContext:{outlet:null,matches:Or,isDataRoute:!0}}):Br()},null)}function $i(K){return`${K} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _a(K){let Q=Ie.useContext(Kr);return E(Q,$i(K)),Q}function Ai(K){let Q=Ie.useContext(rn);return E(Q,$i(K)),Q}function Zi(K){let Q=Ie.useContext(fi);return E(Q,$i(K)),Q}function ma(K){let Q=Zi(K),ie=Q.matches[Q.matches.length-1];return E(ie.route.id,`${K} can only be used on routes that contain a unique "id"`),ie.route.id}function Hi(){return ma("useRouteId")}function Pa(){return Ai("useNavigation").navigation}function ha(){let K=_a("useRevalidator"),Q=Ai("useRevalidator");return Ie.useMemo(()=>({async revalidate(){await K.router.revalidate()},state:Q.revalidation}),[K.router,Q.revalidation])}function ka(){let{matches:K,loaderData:Q}=Ai("useMatches");return Ie.useMemo(()=>K.map(ie=>ke(ie,Q)),[K,Q])}function pi(){let K=Ai("useLoaderData"),Q=ma("useLoaderData");return K.loaderData[Q]}function Ta(K){return Ai("useRouteLoaderData").loaderData[K]}function Jo(){let K=Ai("useActionData"),Q=ma("useLoaderData");return K.actionData?K.actionData[Q]:void 0}function gs(){var xe;let K=Ie.useContext(de),Q=Ai("useRouteError"),ie=ma("useRouteError");return K!==void 0?K:(xe=Q.errors)==null?void 0:xe[ie]}function Ii(){let K=Ie.useContext(Ln);return K==null?void 0:K._data}function Qo(){let K=Ie.useContext(Ln);return K==null?void 0:K._error}var vs=0;function qs(K){let{router:Q,basename:ie}=_a("useBlocker"),xe=Ai("useBlocker"),[ye,Oe]=Ie.useState(""),Ne=Ie.useCallback(Qe=>{if(typeof K!="function")return!!K;if(ie==="/")return K(Qe);let{currentLocation:Ve,nextLocation:ht,historyAction:zt}=Qe;return K({currentLocation:{...Ve,pathname:At(Ve.pathname,ie)||Ve.pathname},nextLocation:{...ht,pathname:At(ht.pathname,ie)||ht.pathname},historyAction:zt})},[ie,K]);return Ie.useEffect(()=>{let Qe=String(++vs);return Oe(Qe),()=>Q.deleteBlocker(Qe)},[Q]),Ie.useEffect(()=>{ye!==""&&Q.getBlocker(ye,Ne)},[Q,ye,Ne]),ye&&xe.blockers.has(ye)?xe.blockers.get(ye):mt}function Uo(){let{router:K}=_a("useNavigate"),Q=ma("useNavigate"),ie=Ie.useRef(!1);return Tr(()=>{ie.current=!0}),Ie.useCallback(async(ye,Oe={})=>{_(ie.current,Pr),ie.current&&(typeof ye=="number"?K.navigate(ye):await K.navigate(ye,{fromRouteId:Q,...Oe}))},[K,Q])}var qc={};function ec(K,Q,ie){!Q&&!qc[K]&&(qc[K]=!0,_(!1,ie))}var Kl={};function xc(K,Q){!K&&!Kl[Q]&&(Kl[Q]=!0,console.warn(Q))}function el(K){let Q={hasErrorBoundary:K.hasErrorBoundary||K.ErrorBoundary!=null||K.errorElement!=null};return K.Component&&(K.element&&_(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(Q,{element:Zt.createElement(K.Component),Component:void 0})),K.HydrateFallback&&(K.hydrateFallbackElement&&_(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(Q,{hydrateFallbackElement:Zt.createElement(K.HydrateFallback),HydrateFallback:void 0})),K.ErrorBoundary&&(K.errorElement&&_(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(Q,{errorElement:Zt.createElement(K.ErrorBoundary),ErrorBoundary:void 0})),Q}var af=["HydrateFallback","hydrateFallbackElement"];function nh(K,Q){return jt({basename:Q==null?void 0:Q.basename,unstable_getContext:Q==null?void 0:Q.unstable_getContext,future:Q==null?void 0:Q.future,history:A({initialEntries:Q==null?void 0:Q.initialEntries,initialIndex:Q==null?void 0:Q.initialIndex}),hydrationData:Q==null?void 0:Q.hydrationData,routes:K,hydrationRouteProperties:af,mapRouteProperties:el,dataStrategy:Q==null?void 0:Q.dataStrategy,patchRoutesOnNavigation:Q==null?void 0:Q.patchRoutesOnNavigation}).initialize()}var Gh=class{constructor(){this.status="pending",this.promise=new Promise((K,Q)=>{this.resolve=ie=>{this.status==="pending"&&(this.status="resolved",K(ie))},this.reject=ie=>{this.status==="pending"&&(this.status="rejected",Q(ie))}})}};function Sf({router:K,flushSync:Q}){let[ie,xe]=Zt.useState(K.state),[ye,Oe]=Zt.useState(),[Ne,Qe]=Zt.useState({isTransitioning:!1}),[Ve,ht]=Zt.useState(),[zt,er]=Zt.useState(),[ur,Xt]=Zt.useState(),Er=Zt.useRef(new Map),Or=Zt.useCallback((on,{deletedFetchers:oi,flushSync:en,viewTransitionOpts:xr})=>{on.fetchers.forEach((Nn,ei)=>{Nn.data!==void 0&&Er.current.set(ei,Nn.data)}),oi.forEach(Nn=>Er.current.delete(Nn)),xc(en===!1||Q!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Kn=K.window!=null&&K.window.document!=null&&typeof K.window.document.startViewTransition=="function";if(xc(xr==null||Kn,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!xr||!Kn){Q&&en?Q(()=>xe(on)):Zt.startTransition(()=>xe(on));return}if(Q&&en){Q(()=>{zt&&(Ve&&Ve.resolve(),zt.skipTransition()),Qe({isTransitioning:!0,flushSync:!0,currentLocation:xr.currentLocation,nextLocation:xr.nextLocation})});let Nn=K.window.document.startViewTransition(()=>{Q(()=>xe(on))});Nn.finished.finally(()=>{Q(()=>{ht(void 0),er(void 0),Oe(void 0),Qe({isTransitioning:!1})})}),Q(()=>er(Nn));return}zt?(Ve&&Ve.resolve(),zt.skipTransition(),Xt({state:on,currentLocation:xr.currentLocation,nextLocation:xr.nextLocation})):(Oe(on),Qe({isTransitioning:!0,flushSync:!1,currentLocation:xr.currentLocation,nextLocation:xr.nextLocation}))},[K.window,Q,zt,Ve]);Zt.useLayoutEffect(()=>K.subscribe(Or),[K,Or]),Zt.useEffect(()=>{Ne.isTransitioning&&!Ne.flushSync&&ht(new Gh)},[Ne]),Zt.useEffect(()=>{if(Ve&&ye&&K.window){let on=ye,oi=Ve.promise,en=K.window.document.startViewTransition(async()=>{Zt.startTransition(()=>xe(on)),await oi});en.finished.finally(()=>{ht(void 0),er(void 0),Oe(void 0),Qe({isTransitioning:!1})}),er(en)}},[ye,Ve,K.window]),Zt.useEffect(()=>{Ve&&ye&&ie.location.key===ye.location.key&&Ve.resolve()},[Ve,zt,ie.location,ye]),Zt.useEffect(()=>{!Ne.isTransitioning&&ur&&(Oe(ur.state),Qe({isTransitioning:!0,flushSync:!1,currentLocation:ur.currentLocation,nextLocation:ur.nextLocation}),Xt(void 0))},[Ne.isTransitioning,ur]);let Br=Zt.useMemo(()=>({createHref:K.createHref,encodeLocation:K.encodeLocation,go:on=>K.navigate(on),push:(on,oi,en)=>K.navigate(on,{state:oi,preventScrollReset:en==null?void 0:en.preventScrollReset}),replace:(on,oi,en)=>K.navigate(on,{replace:!0,state:oi,preventScrollReset:en==null?void 0:en.preventScrollReset})}),[K]),Xr=K.basename||"/",pn=Zt.useMemo(()=>({router:K,navigator:Br,static:!1,basename:Xr}),[K,Br,Xr]);return Zt.createElement(Zt.Fragment,null,Zt.createElement(Kr.Provider,{value:pn},Zt.createElement(rn.Provider,{value:ie},Zt.createElement(Sn.Provider,{value:Er.current},Zt.createElement(ri.Provider,{value:Ne},Zt.createElement(Iu,{basename:Xr,location:ie.location,navigationType:ie.historyAction,navigator:Br},Zt.createElement(tc,{routes:K.routes,future:K.future,state:ie})))))),null)}var tc=Zt.memo(Kh);function Kh({routes:K,future:Q,state:ie}){return hi(K,void 0,ie,Q)}function Ef({basename:K,children:Q,initialEntries:ie,initialIndex:xe}){let ye=Zt.useRef();ye.current==null&&(ye.current=A({initialEntries:ie,initialIndex:xe,v5Compat:!0}));let Oe=ye.current,[Ne,Qe]=Zt.useState({action:Oe.action,location:Oe.location}),Ve=Zt.useCallback(ht=>{Zt.startTransition(()=>Qe(ht))},[Qe]);return Zt.useLayoutEffect(()=>Oe.listen(Ve),[Oe,Ve]),Zt.createElement(Iu,{basename:K,children:Q,location:Ne.location,navigationType:Ne.action,navigator:Oe})}function Sc({to:K,replace:Q,state:ie,relative:xe}){E(et(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ye}=Zt.useContext(An);_(!ye,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Oe}=Zt.useContext(fi),{pathname:Ne}=St(),Qe=Mr(),Ve=Nr(K,dr(Oe),Ne,xe==="path"),ht=JSON.stringify(Ve);return Zt.useEffect(()=>{Qe(JSON.parse(ht),{replace:Q,state:ie,relative:xe})},[Qe,ht,xe,Q,ie]),null}function Pp(K){return un(K.context)}function Il(K){E(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iu({basename:K="/",children:Q=null,location:ie,navigationType:xe="POP",navigator:ye,static:Oe=!1}){E(!et(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Ne=K.replace(/^\/*/,"/"),Qe=Zt.useMemo(()=>({basename:Ne,navigator:ye,static:Oe,future:{}}),[Ne,ye,Oe]);typeof ie=="string"&&(ie=z(ie));let{pathname:Ve="/",search:ht="",hash:zt="",state:er=null,key:ur="default"}=ie,Xt=Zt.useMemo(()=>{let Er=At(Ve,Ne);return Er==null?null:{location:{pathname:Er,search:ht,hash:zt,state:er,key:ur},navigationType:xe}},[Ne,Ve,ht,zt,er,ur,xe]);return _(Xt!=null,`<Router basename="${Ne}"> is not able to match the URL "${Ve}${ht}${zt}" because it does not start with the basename, so the <Router> won't render anything.`),Xt==null?null:Zt.createElement(An.Provider,{value:Qe},Zt.createElement(Un.Provider,{children:Q,value:Xt}))}function Tp({children:K,location:Q}){return Zn(Hc(K),Q)}function vl({children:K,errorElement:Q,resolve:ie}){return Zt.createElement(To,{resolve:ie,errorElement:Q},Zt.createElement(Rp,null,K))}var To=class extends Zt.Component{constructor(K){super(K),this.state={error:null}}static getDerivedStateFromError(K){return{error:K}}componentDidCatch(K,Q){console.error("<Await> caught the following error during render",K,Q)}render(){let{children:K,errorElement:Q,resolve:ie}=this.props,xe=null,ye=0;if(!(ie instanceof Promise))ye=1,xe=Promise.resolve(),Object.defineProperty(xe,"_tracked",{get:()=>!0}),Object.defineProperty(xe,"_data",{get:()=>ie});else if(this.state.error){ye=2;let Oe=this.state.error;xe=Promise.reject().catch(()=>{}),Object.defineProperty(xe,"_tracked",{get:()=>!0}),Object.defineProperty(xe,"_error",{get:()=>Oe})}else ie._tracked?(xe=ie,ye="_error"in xe?2:"_data"in xe?1:0):(ye=0,Object.defineProperty(ie,"_tracked",{get:()=>!0}),xe=ie.then(Oe=>Object.defineProperty(ie,"_data",{get:()=>Oe}),Oe=>Object.defineProperty(ie,"_error",{get:()=>Oe})));if(ye===2&&!Q)throw xe._error;if(ye===2)return Zt.createElement(Ln.Provider,{value:xe,children:Q});if(ye===1)return Zt.createElement(Ln.Provider,{value:xe,children:K});throw xe}};function Rp({children:K}){let Q=Ii(),ie=typeof K=="function"?K(Q):K;return Zt.createElement(Zt.Fragment,null,ie)}function Hc(K,Q=[]){let ie=[];return Zt.Children.forEach(K,(xe,ye)=>{if(!Zt.isValidElement(xe))return;let Oe=[...Q,ye];if(xe.type===Zt.Fragment){ie.push.apply(ie,Hc(xe.props.children,Oe));return}E(xe.type===Il,`[${typeof xe.type=="string"?xe.type:xe.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!xe.props.index||!xe.props.children,"An index route cannot have child routes.");let Ne={id:xe.props.id||Oe.join("-"),caseSensitive:xe.props.caseSensitive,element:xe.props.element,Component:xe.props.Component,index:xe.props.index,path:xe.props.path,loader:xe.props.loader,action:xe.props.action,hydrateFallbackElement:xe.props.hydrateFallbackElement,HydrateFallback:xe.props.HydrateFallback,errorElement:xe.props.errorElement,ErrorBoundary:xe.props.ErrorBoundary,hasErrorBoundary:xe.props.hasErrorBoundary===!0||xe.props.ErrorBoundary!=null||xe.props.errorElement!=null,shouldRevalidate:xe.props.shouldRevalidate,handle:xe.props.handle,lazy:xe.props.lazy};xe.props.children&&(Ne.children=Hc(xe.props.children,Oe)),ie.push(Ne)}),ie}var wm=Hc;function la(K){return ai(K)}var Hn=f(vn()),Wc="get",ih="application/x-www-form-urlencoded";function ah(K){return K!=null&&typeof K.tagName=="string"}function fg(K){return ah(K)&&K.tagName.toLowerCase()==="button"}function dg(K){return ah(K)&&K.tagName.toLowerCase()==="form"}function oh(K){return ah(K)&&K.tagName.toLowerCase()==="input"}function Id(K){return!!(K.metaKey||K.altKey||K.ctrlKey||K.shiftKey)}function Cr(K,Q){return K.button===0&&(!Q||Q==="_self")&&!Id(K)}function dn(K=""){return new URLSearchParams(typeof K=="string"||Array.isArray(K)||K instanceof URLSearchParams?K:Object.keys(K).reduce((Q,ie)=>{let xe=K[ie];return Q.concat(Array.isArray(xe)?xe.map(ye=>[ie,ye]):[[ie,xe]])},[]))}function Zr(K,Q){let ie=dn(K);return Q&&Q.forEach((xe,ye)=>{ie.has(ye)||Q.getAll(ye).forEach(Oe=>{ie.append(ye,Oe)})}),ie}var li=null;function ua(){if(li===null)try{new FormData(document.createElement("form"),0),li=!1}catch{li=!0}return li}var fo=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function As(K){return K!=null&&!fo.has(K)?(_(!1,`"${K}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):K}function yo(K,Q){let ie,xe,ye,Oe,Ne;if(dg(K)){let Qe=K.getAttribute("action");xe=Qe?At(Qe,Q):null,ie=K.getAttribute("method")||Wc,ye=As(K.getAttribute("enctype"))||ih,Oe=new FormData(K)}else if(fg(K)||oh(K)&&(K.type==="submit"||K.type==="image")){let Qe=K.form;if(Qe==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Ve=K.getAttribute("formaction")||Qe.getAttribute("action");if(xe=Ve?At(Ve,Q):null,ie=K.getAttribute("formmethod")||Qe.getAttribute("method")||Wc,ye=As(K.getAttribute("formenctype"))||As(Qe.getAttribute("enctype"))||ih,Oe=new FormData(Qe,K),!ua()){let{name:ht,type:zt,value:er}=K;if(zt==="image"){let ur=ht?`${ht}.`:"";Oe.append(`${ur}x`,"0"),Oe.append(`${ur}y`,"0")}else ht&&Oe.append(ht,er)}}else{if(ah(K))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');ie=Wc,xe=null,ye=ih,Ne=K}return Oe&&ye==="text/plain"&&(Ne=Oe,Oe=void 0),{action:xe,method:ie.toLowerCase(),encType:ye,formData:Oe,body:Ne}}var Ui=f(vn());function yl(K,Q){if(K===!1||K===null||typeof K>"u")throw new Error(Q)}async function Mu(K,Q){if(K.id in Q)return Q[K.id];try{let ie=await import(K.module);return Q[K.id]=ie,ie}catch(ie){return console.error(`Error loading route module \`${K.module}\`, reloading page...`),console.error(ie),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ku(K,Q,ie){let xe=K.map(Oe=>{var Ve;let Ne=Q[Oe.route.id],Qe=ie.routes[Oe.route.id];return[Qe&&Qe.css?Qe.css.map(ht=>({rel:"stylesheet",href:ht})):[],((Ve=Ne==null?void 0:Ne.links)==null?void 0:Ve.call(Ne))||[]]}).flat(2),ye=nd(K,ie);return id(xe,ye)}function sh(K){return K.css?K.css.map(Q=>({rel:"stylesheet",href:Q})):[]}async function Du(K){if(!K.css)return;let Q=sh(K);await Promise.all(Q.map(lh))}async function Ml(K,Q){if(!K.css&&!Q.links||!Pf())return;let ie=[];if(K.css&&ie.push(...sh(K)),Q.links&&ie.push(...Q.links()),ie.length===0)return;let xe=[];for(let ye of ie)!Za(ye)&&ye.rel==="stylesheet"&&xe.push({...ye,rel:"preload",as:"style"});await Promise.all(xe.map(lh))}async function lh(K){return new Promise(Q=>{if(K.media&&!window.matchMedia(K.media).matches||document.querySelector(`link[rel="stylesheet"][href="${K.href}"]`))return Q();let ie=document.createElement("link");Object.assign(ie,K);function xe(){document.head.contains(ie)&&document.head.removeChild(ie)}ie.onload=()=>{xe(),Q()},ie.onerror=()=>{xe(),Q()},document.head.appendChild(ie)})}function Za(K){return K!=null&&typeof K.page=="string"}function Md(K){return K==null?!1:K.href==null?K.rel==="preload"&&typeof K.imageSrcSet=="string"&&typeof K.imageSizes=="string":typeof K.rel=="string"&&typeof K.href=="string"}async function Cf(K,Q,ie){let xe=await Promise.all(K.map(async ye=>{let Oe=Q.routes[ye.route.id];if(Oe){let Ne=await Mu(Oe,ie);return Ne.links?Ne.links():[]}return[]}));return id(xe.flat(1).filter(Md).filter(ye=>ye.rel==="stylesheet"||ye.rel==="preload").map(ye=>ye.rel==="stylesheet"?{...ye,rel:"prefetch",as:"style"}:{...ye,rel:"prefetch"}))}function rd(K,Q,ie,xe,ye,Oe){let Ne=(Ve,ht)=>ie[ht]?Ve.route.id!==ie[ht].route.id:!0,Qe=(Ve,ht)=>{var zt;return ie[ht].pathname!==Ve.pathname||((zt=ie[ht].route.path)==null?void 0:zt.endsWith("*"))&&ie[ht].params["*"]!==Ve.params["*"]};return Oe==="assets"?Q.filter((Ve,ht)=>Ne(Ve,ht)||Qe(Ve,ht)):Oe==="data"?Q.filter((Ve,ht)=>{var er;let zt=xe.routes[Ve.route.id];if(!zt||!zt.hasLoader)return!1;if(Ne(Ve,ht)||Qe(Ve,ht))return!0;if(Ve.route.shouldRevalidate){let ur=Ve.route.shouldRevalidate({currentUrl:new URL(ye.pathname+ye.search+ye.hash,window.origin),currentParams:((er=ie[0])==null?void 0:er.params)||{},nextUrl:new URL(K,window.origin),nextParams:Ve.params,defaultShouldRevalidate:!0});if(typeof ur=="boolean")return ur}return!0}):[]}function nd(K,Q,{includeHydrateFallback:ie}={}){return Zh(K.map(xe=>{let ye=Q.routes[xe.route.id];if(!ye)return[];let Oe=[ye.module];return ye.clientActionModule&&(Oe=Oe.concat(ye.clientActionModule)),ye.clientLoaderModule&&(Oe=Oe.concat(ye.clientLoaderModule)),ie&&ye.hydrateFallbackModule&&(Oe=Oe.concat(ye.hydrateFallbackModule)),ye.imports&&(Oe=Oe.concat(ye.imports)),Oe}).flat(1))}function Zh(K){return[...new Set(K)]}function Ap(K){let Q={},ie=Object.keys(K).sort();for(let xe of ie)Q[xe]=K[xe];return Q}function id(K,Q){let ie=new Set,xe=new Set(Q);return K.reduce((ye,Oe)=>{if(Q&&!Za(Oe)&&Oe.as==="script"&&Oe.href&&xe.has(Oe.href))return ye;let Qe=JSON.stringify(Ap(Oe));return ie.has(Qe)||(ie.add(Qe),ye.push({key:Qe,link:Oe})),ye},[])}var Zl;function Pf(){if(Zl!==void 0)return Zl;let K=document.createElement("link");return Zl=K.relList.supports("preload"),K=null,Zl}var xm={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},rc=/[&><\u2028\u2029]/g;function ga(K){return K.replace(rc,Q=>xm[Q])}function kd(K){return{__html:K}}var Fu=f(vn()),Sm=CK();async function Ec(K){let Q={signal:K.signal};if(K.method!=="GET"){Q.method=K.method;let ie=K.headers.get("Content-Type");ie&&/\bapplication\/json\b/.test(ie)?(Q.headers={"Content-Type":ie},Q.body=JSON.stringify(await K.json())):ie&&/\btext\/plain\b/.test(ie)?(Q.headers={"Content-Type":ie},Q.body=await K.text()):ie&&/\bapplication\/x-www-form-urlencoded\b/.test(ie)?Q.body=new URLSearchParams(await K.text()):Q.body=await K.formData()}return Q}var Yl=Symbol("SingleFetchRedirect"),Tf=202,Em=new Set([100,101,204,205]);function ls({context:K,identifier:Q,reader:ie,textDecoder:xe,nonce:ye}){if(!K.renderMeta||!K.renderMeta.didRenderScripts)return null;K.renderMeta.streamCache||(K.renderMeta.streamCache={});let{streamCache:Oe}=K.renderMeta,Ne=Oe[Q];if(Ne||(Ne=Oe[Q]=ie.read().then(zt=>{Oe[Q].result={done:zt.done,value:xe.decode(zt.value,{stream:!0})}}).catch(zt=>{Oe[Q].error=zt})),Ne.error)throw Ne.error;if(Ne.result===void 0)throw Ne;let{done:Qe,value:Ve}=Ne.result,ht=Ve?Fu.createElement("script",{nonce:ye,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${ga(JSON.stringify(Ve))});`}}):null;return Qe?Fu.createElement(Fu.Fragment,null,ht,Fu.createElement("script",{nonce:ye,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):Fu.createElement(Fu.Fragment,null,ht,Fu.createElement(Fu.Suspense,null,Fu.createElement(ls,{context:K,identifier:Q+1,reader:ie,textDecoder:xe,nonce:ye})))}function Yh(K,Q,ie,xe,ye){let Oe=of(K,Ne=>{let Qe=Q.routes[Ne.route.id];yl(Qe,"Route not found in manifest");let Ve=ie[Ne.route.id];return{hasLoader:Qe.hasLoader,hasClientLoader:Qe.hasClientLoader,hasShouldRevalidate:!!(Ve!=null&&Ve.shouldRevalidate)}},Ss,xe,ye);return async Ne=>Ne.unstable_runClientMiddleware(Oe)}function of(K,Q,ie,xe,ye){return async Oe=>{let{request:Ne,matches:Qe,fetcherKey:Ve}=Oe,ht=K();if(Ne.method!=="GET")return sf(Oe,ie,ye);let zt=Qe.some(er=>{let{hasLoader:ur,hasClientLoader:Xt}=Q(er);return er.unstable_shouldCallHandler()&&ur&&!Xt});return!xe&&!zt?Xh(Oe,Q,ie,ye):Ve?Dd(Oe,ie,ye):Jh(Oe,ht,Q,ie,xe,ye)}}async function sf(K,Q,ie){let xe=K.matches.find(Ne=>Ne.unstable_shouldCallHandler());yl(xe,"No action match found");let ye,Oe=await xe.resolve(async Ne=>await Ne(async()=>{let{data:Ve,status:ht}=await Q(K,ie,[xe.route.id]);return ye=ht,ad(Ve,xe.route.id)}));return Ei(Oe.result)||gt(Oe.result)?{[xe.route.id]:Oe}:{[xe.route.id]:{type:Oe.type,result:ot(Oe.result,ye)}}}async function Xh(K,Q,ie,xe){let ye=K.matches.filter(Ne=>Ne.unstable_shouldCallHandler()),Oe={};return await Promise.all(ye.map(Ne=>Ne.resolve(async Qe=>{try{let{hasClientLoader:Ve}=Q(Ne),ht=Ne.route.id,zt=Ve?await Qe(async()=>{let{data:er}=await ie(K,xe,[ht]);return ad(er,ht)}):await Qe();Oe[Ne.route.id]={type:"data",result:zt}}catch(Ve){Oe[Ne.route.id]={type:"error",result:Ve}}}))),Oe}async function Jh(K,Q,ie,xe,ye,Oe){let Ne=new Set,Qe=!1,Ve=K.matches.map(()=>Qh()),ht=Qh(),zt={},er=Promise.all(K.matches.map(async(Xt,Er)=>Xt.resolve(async Or=>{Ve[Er].resolve();let Br=Xt.route.id,{hasLoader:Xr,hasClientLoader:pn,hasShouldRevalidate:on}=ie(Xt),oi=!Xt.unstable_shouldRevalidateArgs||Xt.unstable_shouldRevalidateArgs.actionStatus==null||Xt.unstable_shouldRevalidateArgs.actionStatus<400;if(!Xt.unstable_shouldCallHandler(oi)){Qe||(Qe=Xt.unstable_shouldRevalidateArgs!=null&&Xr&&on===!0);return}if(pn){Xr&&(Qe=!0);try{let xr=await Or(async()=>{let{data:Kn}=await xe(K,Oe,[Br]);return ad(Kn,Br)});zt[Br]={type:"data",result:xr}}catch(xr){zt[Br]={type:"error",result:xr}}return}Xr&&Ne.add(Br);try{let xr=await Or(async()=>{let Kn=await ht.promise;return ad(Kn,Br)});zt[Br]={type:"data",result:xr}}catch(xr){zt[Br]={type:"error",result:xr}}})));if(await Promise.all(Ve.map(Xt=>Xt.promise)),(!Q.state.initialized&&Q.state.navigation.state==="idle"||Ne.size===0)&&!window.__reactRouterHdrActive)ht.resolve({routes:{}});else{let Xt=ye&&Qe&&Ne.size>0?[...Ne.keys()]:void 0;try{let Er=await xe(K,Oe,Xt);ht.resolve(Er.data)}catch(Er){ht.reject(Er)}}return await er,zt}async function Dd(K,Q,ie){let xe=K.matches.find(Ne=>Ne.unstable_shouldCallHandler());yl(xe,"No fetcher match found");let ye=xe.route.id,Oe=await xe.resolve(async Ne=>Ne(async()=>{let{data:Qe}=await Q(K,ie,[ye]);return ad(Qe,ye)}));return{[xe.route.id]:Oe}}function Fd(K){let Q=K.searchParams.getAll("index");K.searchParams.delete("index");let ie=[];for(let xe of Q)xe&&ie.push(xe);for(let xe of ie)K.searchParams.append("index",xe);return K}function lf(K,Q){let ie=typeof K=="string"?new URL(K,typeof window>"u"?"server://singlefetch/":window.location.origin):K;return ie.pathname==="/"?ie.pathname="_root.data":Q&&At(ie.pathname,Q)==="/"?ie.pathname=`${Q.replace(/\/$/,"")}/_root.data`:ie.pathname=`${ie.pathname.replace(/\/$/,"")}.data`,ie}async function Ss(K,Q,ie){let{request:xe}=K,ye=lf(xe.url,Q);xe.method==="GET"&&(ye=Fd(ye),ie&&ye.searchParams.set("_routes",ie.join(",")));let Oe=await fetch(ye,await Ec(xe));if(Oe.status===404&&!Oe.headers.has("X-Remix-Response"))throw new Ye(404,"Not Found",!0);if(Oe.status===204&&Oe.headers.has("X-Remix-Redirect"))return{status:Tf,data:{redirect:{redirect:Oe.headers.get("X-Remix-Redirect"),status:Number(Oe.headers.get("X-Remix-Status")||"302"),revalidate:Oe.headers.get("X-Remix-Revalidate")==="true",reload:Oe.headers.get("X-Remix-Reload-Document")==="true",replace:Oe.headers.get("X-Remix-Replace")==="true"}}};if(Em.has(Oe.status)){let Ne={};return ie&&xe.method!=="GET"&&(Ne[ie[0]]={data:void 0}),{status:Oe.status,data:{routes:Ne}}}yl(Oe.body,"No response body to decode");try{let Ne=await tl(Oe.body,window),Qe;if(xe.method==="GET"){let Ve=Ne.value;Yl in Ve?Qe={redirect:Ve[Yl]}:Qe={routes:Ve}}else{let Ve=Ne.value,ht=ie==null?void 0:ie[0];yl(ht,"No routeId found for single fetch call decoding"),"redirect"in Ve?Qe={redirect:Ve}:Qe={routes:{[ht]:Ve}}}return{status:Oe.status,data:Qe}}catch{throw new Error("Unable to decode turbo-stream response")}}function tl(K,Q){return(0,Sm.decode)(K,{plugins:[(ie,...xe)=>{if(ie==="SanitizedError"){let[ye,Oe,Ne]=xe,Qe=Error;ye&&ye in Q&&typeof Q[ye]=="function"&&(Qe=Q[ye]);let Ve=new Qe(Oe);return Ve.stack=Ne,{value:Ve}}if(ie==="ErrorResponse"){let[ye,Oe,Ne]=xe;return{value:new Ye(Oe,Ne,ye)}}if(ie==="SingleFetchRedirect")return{value:{[Yl]:xe[0]}};if(ie==="SingleFetchClassInstance")return{value:xe[0]};if(ie==="SingleFetchFallback")return{value:void 0}}]})}function ad(K,Q){if("redirect"in K){let{redirect:xe,revalidate:ye,reload:Oe,replace:Ne,status:Qe}=K.redirect;throw Je(xe,{status:Qe,headers:{...ye?{"X-Remix-Revalidate":"yes"}:null,...Oe?{"X-Remix-Reload-Document":"yes"}:null,...Ne?{"X-Remix-Replace":"yes"}:null}})}let ie=K.routes[Q];if("error"in ie)throw ie.error;if("data"in ie)return ie.data;throw new Error(`No response found for routeId "${Q}"`)}function Qh(){let K,Q,ie=new Promise((xe,ye)=>{K=async Oe=>{xe(Oe);try{await ie}catch{}},Q=async Oe=>{ye(Oe);try{await ie}catch{}}});return{promise:ie,resolve:K,reject:Q}}var ep=f(vn()),Cc=f(vn()),$s=f(vn()),od=class extends $s.Component{constructor(K){super(K),this.state={error:K.error||null,location:K.location}}static getDerivedStateFromError(K){return{error:K}}static getDerivedStateFromProps(K,Q){return Q.location!==K.location?{error:K.error||null,location:K.location}:{error:K.error||Q.error,location:Q.location}}render(){return this.state.error?$s.createElement(uh,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function uh({error:K,isOutsideRemixApp:Q}){console.error(K);let ie=$s.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          "💿 Hey developer 👋. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."
        );
      `}});if(gt(K))return $s.createElement(Pc,{title:"Unhandled Thrown Response!"},$s.createElement("h1",{style:{fontSize:"24px"}},K.status," ",K.statusText),ie);let xe;if(K instanceof Error)xe=K;else{let ye=K==null?"Unknown Error":typeof K=="object"&&"toString"in K?K.toString():JSON.stringify(K);xe=new Error(ye)}return $s.createElement(Pc,{title:"Application Error!",isOutsideRemixApp:Q},$s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),$s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},xe.stack),ie)}function Pc({title:K,renderScripts:Q,isOutsideRemixApp:ie,children:xe}){var Oe;let{routeModules:ye}=Es();return(Oe=ye.root)!=null&&Oe.Layout&&!ie?xe:$s.createElement("html",{lang:"en"},$s.createElement("head",null,$s.createElement("meta",{charSet:"utf-8"}),$s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),$s.createElement("title",null,K)),$s.createElement("body",null,$s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},xe,Q?$s.createElement(gu,null):null)))}var sd=f(vn());function ch(){return sd.createElement(Pc,{title:"Loading...",renderScripts:!0},sd.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                "💿 Hey developer 👋. You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://remix.run/route/hydrate-fallback " +
                "for more information."
              );
            `}}))}function Rf(K){let Q={};return Object.values(K).forEach(ie=>{if(ie){let xe=ie.parentId||"";Q[xe]||(Q[xe]=[]),Q[xe].push(ie)}}),Q}function qo(K,Q,ie){let xe=pt(Q),ye=Q.HydrateFallback&&(!ie||K.id==="root")?Q.HydrateFallback:K.id==="root"?ch:void 0,Oe=Q.ErrorBoundary?Q.ErrorBoundary:K.id==="root"?()=>Cc.createElement(uh,{error:gs()}):void 0;return K.id==="root"&&Q.Layout?{...xe?{element:Cc.createElement(Q.Layout,null,Cc.createElement(xe,null))}:{Component:xe},...Oe?{errorElement:Cc.createElement(Q.Layout,null,Cc.createElement(Oe,null))}:{ErrorBoundary:Oe},...ye?{hydrateFallbackElement:Cc.createElement(Q.Layout,null,Cc.createElement(ye,null))}:{HydrateFallback:ye}}:{Component:xe,ErrorBoundary:Oe,HydrateFallback:ye}}function uf(K,Q,ie,xe,ye="",Oe=Rf(K),Ne=Promise.resolve({Component:()=>null})){return(Oe[ye]||[]).map(Qe=>{let Ve=Q[Qe.id];yl(Ve,"No `routeModule` available to create server routes");let ht={...qo(Qe,Ve,xe),caseSensitive:Qe.caseSensitive,id:Qe.id,index:Qe.index,path:Qe.path,handle:Ve.handle,lazy:xe?()=>Ne:void 0,loader:Qe.hasLoader||Qe.hasClientLoader?()=>null:void 0},zt=uf(K,Q,ie,xe,Qe.id,Oe,Ne);return zt.length>0&&(ht.children=zt),ht})}function rl(K,Q,ie,xe,ye,Oe){return Lu(Q,ie,xe,ye,Oe,"",Rf(Q),K)}function fh(K,Q){if(K==="loader"&&!Q.hasLoader||K==="action"&&!Q.hasAction){let xe=`You are trying to call ${K==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${K} (routeId: "${Q.id}")`;throw console.error(xe),new Ye(400,"Bad Request",new Error(xe),!0)}}function Vc(K,Q){let ie=K==="clientAction"?"a":"an",xe=`Route "${Q}" does not have ${ie} ${K}, but you are trying to submit to it. To fix this, please add ${ie} \`${K}\` function to the route`;throw console.error(xe),new Ye(405,"Method Not Allowed",new Error(xe),!0)}function Lu(K,Q,ie,xe,ye,Oe="",Ne=Rf(K),Qe){return(Ne[Oe]||[]).map(Ve=>{var pn,on,oi;let ht=Q[Ve.id];function zt(en){return yl(typeof en=="function","No single fetch function available for route handler"),en()}function er(en){return Ve.hasLoader?zt(en):Promise.resolve(null)}function ur(en){if(!Ve.hasAction)throw Vc("action",Ve.id);return zt(en)}function Xt(en){import(en)}function Er(en){en.clientActionModule&&Xt(en.clientActionModule),en.clientLoaderModule&&Xt(en.clientLoaderModule)}async function Or(en){let xr=Q[Ve.id],Kn=xr?Ml(Ve,xr):Promise.resolve();try{return en()}finally{await Kn}}let Br={id:Ve.id,index:Ve.index,path:Ve.path};if(ht){Object.assign(Br,{...Br,...qo(Ve,ht,ye),unstable_middleware:ht.unstable_clientMiddleware,handle:ht.handle,shouldRevalidate:kl(Br.path,ht,Ve,xe,Qe)});let en=ie&&ie.loaderData&&Ve.id in ie.loaderData,xr=en?(pn=ie==null?void 0:ie.loaderData)==null?void 0:pn[Ve.id]:void 0,Kn=ie&&ie.errors&&Ve.id in ie.errors,Nn=Kn?(on=ie==null?void 0:ie.errors)==null?void 0:on[Ve.id]:void 0,ei=Qe==null&&(((oi=ht.clientLoader)==null?void 0:oi.hydrate)===!0||!Ve.hasLoader);Br.loader=async({request:Vi,params:ja,context:al},Wa)=>{try{return await Or(async()=>(yl(ht,"No `routeModule` available for critical-route loader"),ht.clientLoader?ht.clientLoader({request:Vi,params:ja,context:al,async serverLoader(){if(fh("loader",Ve),ei){if(en)return xr;if(Kn)throw Nn}return er(Wa)}}):er(Wa)))}finally{ei=!1}},Br.loader.hydrate=Af(Ve.id,ht.clientLoader,Ve.hasLoader,ye),Br.action=({request:Vi,params:ja,context:al},Wa)=>Or(async()=>{if(yl(ht,"No `routeModule` available for critical-route action"),!ht.clientAction){if(ye)throw Vc("clientAction",Ve.id);return ur(Wa)}return ht.clientAction({request:Vi,params:ja,context:al,async serverAction(){return fh("action",Ve),ur(Wa)}})})}else{Ve.hasClientLoader||(Br.loader=(Kn,Nn)=>Or(()=>er(Nn))),Ve.hasClientAction||(Br.action=(Kn,Nn)=>Or(()=>{if(ye)throw Vc("clientAction",Ve.id);return ur(Nn)}));let en;async function xr(){return en?await en:(en=(async()=>{(Ve.clientLoaderModule||Ve.clientActionModule)&&await new Promise(Nn=>setTimeout(Nn,0));let Kn=Ld(Ve,Q);return Er(Ve),await Kn})(),await en)}Br.lazy={loader:Ve.hasClientLoader?async()=>{let{clientLoader:Kn}=Ve.clientLoaderModule?await import(Ve.clientLoaderModule):await xr();return yl(Kn,"No `clientLoader` export found"),(Nn,ei)=>Kn({...Nn,async serverLoader(){return fh("loader",Ve),er(ei)}})}:void 0,action:Ve.hasClientAction?async()=>{let Kn=Ve.clientActionModule?import(Ve.clientActionModule):xr();Er(Ve);let{clientAction:Nn}=await Kn;return yl(Nn,"No `clientAction` export found"),(ei,Vi)=>Nn({...ei,async serverAction(){return fh("action",Ve),ur(Vi)}})}:void 0,unstable_middleware:Ve.hasClientMiddleware?async()=>{let{unstable_clientMiddleware:Kn}=Ve.clientMiddlewareModule?await import(Ve.clientMiddlewareModule):await xr();return yl(Kn,"No `unstable_clientMiddleware` export found"),Kn}:void 0,shouldRevalidate:async()=>{let Kn=await xr();return kl(Br.path,Kn,Ve,xe,Qe)},handle:async()=>(await xr()).handle,Component:async()=>(await xr()).Component,ErrorBoundary:Ve.hasErrorBoundary?async()=>(await xr()).ErrorBoundary:void 0}}let Xr=Lu(K,Q,ie,xe,ye,Ve.id,Ne,Qe);return Xr.length>0&&(Br.children=Xr),Br})}function kl(K,Q,ie,xe,ye){if(ye)return Nu(ie.id,Q.shouldRevalidate,ye);if(!xe&&ie.hasLoader&&!ie.hasClientLoader){let Oe=K?yt(K)[1].map(Qe=>Qe.paramName):[];const Ne=Qe=>Oe.some(Ve=>Qe.currentParams[Ve]!==Qe.nextParams[Ve]);if(Q.shouldRevalidate){let Qe=Q.shouldRevalidate;return Ve=>Qe({...Ve,defaultShouldRevalidate:Ne(Ve)})}else return Qe=>Ne(Qe)}if(xe&&Q.shouldRevalidate){let Oe=Q.shouldRevalidate;return Ne=>Oe({...Ne,defaultShouldRevalidate:!0})}return Q.shouldRevalidate}function Nu(K,Q,ie){let xe=!1;return ye=>xe?Q?Q(ye):ye.defaultShouldRevalidate:(xe=!0,ie.has(K))}async function Ld(K,Q){let ie=Mu(K,Q),xe=Du(K),ye=await ie;return await Promise.all([xe,Ml(K,ye)]),{Component:pt(ye),ErrorBoundary:ye.ErrorBoundary,unstable_clientMiddleware:ye.unstable_clientMiddleware,clientAction:ye.clientAction,clientLoader:ye.clientLoader,handle:ye.handle,links:ye.links,meta:ye.meta,shouldRevalidate:ye.shouldRevalidate}}function pt(K){if(K.default==null)return;if(!(typeof K.default=="object"&&Object.keys(K.default).length===0))return K.default}function Af(K,Q,ie,xe){return xe&&K!=="root"||Q!=null&&(Q.hydrate===!0||ie!==!0)}var nc=new Set,Xl=1e3,ea=new Set,ld=7680;function Os(K){return K===!0}function cf({sri:K,...Q},ie){let xe=new Set(ie.state.matches.map(Qe=>Qe.route.id)),ye=ie.state.location.pathname.split("/").filter(Boolean),Oe=["/"];for(ye.pop();ye.length>0;)Oe.push(`/${ye.join("/")}`),ye.pop();Oe.forEach(Qe=>{let Ve=ge(ie.routes,Qe,ie.basename);Ve&&Ve.forEach(ht=>xe.add(ht.route.id))});let Ne=[...xe].reduce((Qe,Ve)=>Object.assign(Qe,{[Ve]:Q.routes[Ve]}),{});return{...Q,routes:Ne,sri:K?!0:void 0}}function pu(K,Q,ie,xe,ye){if(Os(ie))return async({path:Oe,patch:Ne,signal:Qe,fetcherKey:Ve})=>{ea.has(Oe)||await ic([Oe],Ve?window.location.href:Oe,K,Q,ie,xe,ye,Ne,Qe)}}function us(K,Q,ie,xe,ye){ep.useEffect(()=>{var ht;if(!Os(xe)||((ht=navigator.connection)==null?void 0:ht.saveData)===!0)return;function Oe(zt){let er=zt.tagName==="FORM"?zt.getAttribute("action"):zt.getAttribute("href");if(!er)return;let ur=zt.tagName==="A"?zt.pathname:new URL(er,window.location.origin).pathname;ea.has(ur)||nc.add(ur)}async function Ne(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(Oe);let zt=Array.from(nc.keys()).filter(er=>ea.has(er)?(nc.delete(er),!1):!0);if(zt.length!==0)try{await ic(zt,null,Q,ie,xe,ye,K.basename,K.patchRoutes)}catch(er){console.error("Failed to fetch manifest patches",er)}}let Qe=Jl(Ne,100);Ne();let Ve=new MutationObserver(()=>Qe());return Ve.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>Ve.disconnect()},[xe,ye,Q,ie,K])}var Do="react-router-manifest-version";async function ic(K,Q,ie,xe,ye,Oe,Ne,Qe,Ve){let ht=`${Ne??"/"}/__manifest`.replace(/\/+/g,"/"),zt=new URL(ht,window.location.origin);if(K.sort().forEach(Or=>zt.searchParams.append("p",Or)),zt.searchParams.set("version",ie.version),zt.toString().length>ld){nc.clear();return}let er;try{let Or=await fetch(zt,{signal:Ve});if(Or.ok){if(Or.status===204&&Or.headers.has("X-Remix-Reload-Document")){if(!Q){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}if(sessionStorage.getItem(Do)===ie.version){console.error("Unable to discover routes due to manifest version mismatch.");return}throw sessionStorage.setItem(Do,ie.version),window.location.href=Q,new Error("Detected manifest version mismatch, reloading...")}else if(Or.status>=400)throw new Error(await Or.text())}else throw new Error(`${Or.status} ${Or.statusText}`);sessionStorage.removeItem(Do),er=await Or.json()}catch(Or){if(Ve!=null&&Ve.aborted)return;throw Or}let ur=new Set(Object.keys(ie.routes)),Xt=Object.values(er).reduce((Or,Br)=>(Br&&!ur.has(Br.id)&&(Or[Br.id]=Br),Or),{});Object.assign(ie.routes,Xt),K.forEach(Or=>Dl(Or,ea));let Er=new Set;Object.values(Xt).forEach(Or=>{Or&&(!Or.parentId||!Xt[Or.parentId])&&Er.add(Or.parentId)}),Er.forEach(Or=>Qe(Or||null,Lu(Xt,xe,null,ye,Oe,Or)))}function Dl(K,Q){if(Q.size>=Xl){let ie=Q.values().next().value;Q.delete(ie)}Q.add(K)}function Jl(K,Q){let ie;return(...xe)=>{window.clearTimeout(ie),ie=window.setTimeout(()=>K(...xe),Q)}}function Fl(){let K=Ui.useContext(Kr);return yl(K,"You must render this element inside a <DataRouterContext.Provider> element"),K}function ac(){let K=Ui.useContext(rn);return yl(K,"You must render this element inside a <DataRouterStateContext.Provider> element"),K}var Hs=Ui.createContext(void 0);Hs.displayName="FrameworkContext";function Es(){let K=Ui.useContext(Hs);return yl(K,"You must render this element inside a <HydratedRouter> element"),K}function Gc(K,Q){let ie=Ui.useContext(Hs),[xe,ye]=Ui.useState(!1),[Oe,Ne]=Ui.useState(!1),{onFocus:Qe,onBlur:Ve,onMouseEnter:ht,onMouseLeave:zt,onTouchStart:er}=Q,ur=Ui.useRef(null);Ui.useEffect(()=>{if(K==="render"&&Ne(!0),K==="viewport"){let Or=Xr=>{Xr.forEach(pn=>{Ne(pn.isIntersecting)})},Br=new IntersectionObserver(Or,{threshold:.5});return ur.current&&Br.observe(ur.current),()=>{Br.disconnect()}}},[K]),Ui.useEffect(()=>{if(xe){let Or=setTimeout(()=>{Ne(!0)},100);return()=>{clearTimeout(Or)}}},[xe]);let Xt=()=>{ye(!0)},Er=()=>{ye(!1),Ne(!1)};return ie?K!=="intent"?[Oe,ur,{}]:[Oe,ur,{onFocus:ff(Qe,Xt),onBlur:ff(Ve,Er),onMouseEnter:ff(ht,Xt),onMouseLeave:ff(zt,Er),onTouchStart:ff(er,Xt)}]:[!1,ur,{}]}function ff(K,Q){return ie=>{K&&K(ie),ie.defaultPrevented||Q(ie)}}function Cs(K,Q,ie){if(ie&&!mu)return[K[0]];if(Q){let xe=K.findIndex(ye=>Q[ye.route.id]!==void 0);return K.slice(0,xe+1)}return K}function dh(){let{isSpaMode:K,manifest:Q,routeModules:ie,criticalCss:xe}=Es(),{errors:ye,matches:Oe}=ac(),Ne=Cs(Oe,ye,K),Qe=Ui.useMemo(()=>ku(Ne,ie,Q),[Ne,ie,Q]);return Ui.createElement(Ui.Fragment,null,typeof xe=="string"?Ui.createElement("style",{dangerouslySetInnerHTML:{__html:xe}}):null,typeof xe=="object"?Ui.createElement("link",{rel:"stylesheet",href:xe.href}):null,Qe.map(({key:Ve,link:ht})=>Za(ht)?Ui.createElement(oc,{key:Ve,...ht}):Ui.createElement("link",{key:Ve,...ht})))}function oc({page:K,...Q}){let{router:ie}=Fl(),xe=Ui.useMemo(()=>ge(ie.routes,K,ie.basename),[ie.routes,K,ie.basename]);return xe?Ui.createElement(Op,{page:K,matches:xe,...Q}):null}function Cm(K){let{manifest:Q,routeModules:ie}=Es(),[xe,ye]=Ui.useState([]);return Ui.useEffect(()=>{let Oe=!1;return Cf(K,Q,ie).then(Ne=>{Oe||ye(Ne)}),()=>{Oe=!0}},[K,Q,ie]),xe}function Op({page:K,matches:Q,...ie}){let xe=St(),{manifest:ye,routeModules:Oe}=Es(),{basename:Ne}=Fl(),{loaderData:Qe,matches:Ve}=ac(),ht=Ui.useMemo(()=>rd(K,Q,Ve,ye,xe,"data"),[K,Q,Ve,ye,xe]),zt=Ui.useMemo(()=>rd(K,Q,Ve,ye,xe,"assets"),[K,Q,Ve,ye,xe]),er=Ui.useMemo(()=>{if(K===xe.pathname+xe.search+xe.hash)return[];let Er=new Set,Or=!1;if(Q.forEach(Xr=>{var on;let pn=ye.routes[Xr.route.id];!pn||!pn.hasLoader||(!ht.some(oi=>oi.route.id===Xr.route.id)&&Xr.route.id in Qe&&((on=Oe[Xr.route.id])!=null&&on.shouldRevalidate)||pn.hasClientLoader?Or=!0:Er.add(Xr.route.id))}),Er.size===0)return[];let Br=lf(K,Ne);return Or&&Er.size>0&&Br.searchParams.set("_routes",Q.filter(Xr=>Er.has(Xr.route.id)).map(Xr=>Xr.route.id).join(",")),[Br.pathname+Br.search]},[Ne,Qe,xe,ye,ht,Q,K,Oe]),ur=Ui.useMemo(()=>nd(zt,ye),[zt,ye]),Xt=Cm(zt);return Ui.createElement(Ui.Fragment,null,er.map(Er=>Ui.createElement("link",{key:Er,rel:"prefetch",as:"fetch",href:Er,...ie})),ur.map(Er=>Ui.createElement("link",{key:Er,rel:"modulepreload",href:Er,...ie})),Xt.map(({key:Er,link:Or})=>Ui.createElement("link",{key:Er,...Or})))}function Ip(){let{isSpaMode:K,routeModules:Q}=Es(),{errors:ie,matches:xe,loaderData:ye}=ac(),Oe=St(),Ne=Cs(xe,ie,K),Qe=null;ie&&(Qe=ie[Ne[Ne.length-1].route.id]);let Ve=[],ht=null,zt=[];for(let er=0;er<Ne.length;er++){let ur=Ne[er],Xt=ur.route.id,Er=ye[Xt],Or=ur.params,Br=Q[Xt],Xr=[],pn={id:Xt,data:Er,meta:[],params:ur.params,pathname:ur.pathname,handle:ur.route.handle,error:Qe};if(zt[er]=pn,Br!=null&&Br.meta?Xr=typeof Br.meta=="function"?Br.meta({data:Er,params:Or,location:Oe,matches:zt,error:Qe}):Array.isArray(Br.meta)?[...Br.meta]:Br.meta:ht&&(Xr=[...ht]),Xr=Xr||[],!Array.isArray(Xr))throw new Error("The route at "+ur.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);pn.meta=Xr,zt[er]=pn,Ve=[...Xr],ht=Ve}return Ui.createElement(Ui.Fragment,null,Ve.flat().map(er=>{if(!er)return null;if("tagName"in er){let{tagName:ur,...Xt}=er;if(!ud(ur))return console.warn(`A meta object uses an invalid tagName: ${ur}. Expected either 'link' or 'meta'`),null;let Er=ur;return Ui.createElement(Er,{key:JSON.stringify(Xt),...Xt})}if("title"in er)return Ui.createElement("title",{key:"title"},String(er.title));if("charset"in er&&(er.charSet??(er.charSet=er.charset),delete er.charset),"charSet"in er&&er.charSet!=null)return typeof er.charSet=="string"?Ui.createElement("meta",{key:"charSet",charSet:er.charSet}):null;if("script:ld+json"in er)try{let ur=JSON.stringify(er["script:ld+json"]);return Ui.createElement("script",{key:`script:ld+json:${ur}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:ur}})}catch{return null}return Ui.createElement("meta",{key:JSON.stringify(er),...er})}))}function ud(K){return typeof K=="string"&&/^(meta|link)$/.test(K)}var mu=!1;function gu(K){let{manifest:Q,serverHandoffString:ie,isSpaMode:xe,ssr:ye,renderMeta:Oe}=Es(),{router:Ne,static:Qe,staticContext:Ve}=Fl(),{matches:ht}=ac(),zt=Os(ye);Oe&&(Oe.didRenderScripts=!0);let er=Cs(ht,null,xe);Ui.useEffect(()=>{mu=!0},[]);let ur=Ui.useMemo(()=>{var pn;let Br=Ve?`window.__reactRouterContext = ${ie};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",Xr=Qe?`${(pn=Q.hmr)!=null&&pn.runtime?`import ${JSON.stringify(Q.hmr.runtime)};`:""}${zt?"":`import ${JSON.stringify(Q.url)}`};
${er.map((on,oi)=>{let en=`route${oi}`,xr=Q.routes[on.route.id];yl(xr,`Route ${on.route.id} not found in manifest`);let{clientActionModule:Kn,clientLoaderModule:Nn,clientMiddlewareModule:ei,hydrateFallbackModule:Vi,module:ja}=xr,al=[...Kn?[{module:Kn,varName:`${en}_clientAction`}]:[],...Nn?[{module:Nn,varName:`${en}_clientLoader`}]:[],...ei?[{module:ei,varName:`${en}_clientMiddleware`}]:[],...Vi?[{module:Vi,varName:`${en}_HydrateFallback`}]:[],{module:ja,varName:`${en}_main`}];if(al.length===1)return`import * as ${en} from ${JSON.stringify(ja)};`;let Wa=al.map(bs=>`import * as ${bs.varName} from "${bs.module}";`).join(`
`),po=`const ${en} = {${al.map(bs=>`...${bs.varName}`).join(",")}};`;return[Wa,po].join(`
`)}).join(`
`)}
  ${zt?`window.__reactRouterManifest = ${JSON.stringify(cf(Q,Ne),null,2)};`:""}
  window.__reactRouterRouteModules = {${er.map((on,oi)=>`${JSON.stringify(on.route.id)}:route${oi}`).join(",")}};

import(${JSON.stringify(Q.entry.module)});`:" ";return Ui.createElement(Ui.Fragment,null,Ui.createElement("script",{...K,suppressHydrationWarning:!0,dangerouslySetInnerHTML:kd(Br),type:void 0}),Ui.createElement("script",{...K,suppressHydrationWarning:!0,dangerouslySetInnerHTML:kd(Xr),type:"module",async:!0}))},[]),Xt=mu?[]:qn(Q.entry.imports.concat(nd(er,Q,{includeHydrateFallback:!0}))),Er=typeof Q.sri=="object"?Q.sri:{};return mu?null:Ui.createElement(Ui.Fragment,null,typeof Q.sri=="object"?Ui.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:Er})}}):null,zt?null:Ui.createElement("link",{rel:"modulepreload",href:Q.url,crossOrigin:K.crossOrigin,integrity:Er[Q.url],suppressHydrationWarning:!0}),Ui.createElement("link",{rel:"modulepreload",href:Q.entry.module,crossOrigin:K.crossOrigin,integrity:Er[Q.entry.module],suppressHydrationWarning:!0}),Xt.map(Or=>Ui.createElement("link",{key:Or,rel:"modulepreload",href:Or,crossOrigin:K.crossOrigin,integrity:Er[Or],suppressHydrationWarning:!0})),ur)}function qn(K){return[...new Set(K)]}function hh(...K){return Q=>{K.forEach(ie=>{typeof ie=="function"?ie(Q):ie!=null&&(ie.current=Q)})}}var Nd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nd&&(window.__reactRouterVersion="7.5.3")}catch{}function Tc(K,Q){return jt({basename:Q==null?void 0:Q.basename,unstable_getContext:Q==null?void 0:Q.unstable_getContext,future:Q==null?void 0:Q.future,history:P({window:Q==null?void 0:Q.window}),hydrationData:(Q==null?void 0:Q.hydrationData)||Kc(),routes:K,mapRouteProperties:el,hydrationRouteProperties:af,dataStrategy:Q==null?void 0:Q.dataStrategy,patchRoutesOnNavigation:Q==null?void 0:Q.patchRoutesOnNavigation,window:Q==null?void 0:Q.window}).initialize()}function Ql(K,Q){return jt({basename:Q==null?void 0:Q.basename,unstable_getContext:Q==null?void 0:Q.unstable_getContext,future:Q==null?void 0:Q.future,history:S({window:Q==null?void 0:Q.window}),hydrationData:(Q==null?void 0:Q.hydrationData)||Kc(),routes:K,mapRouteProperties:el,hydrationRouteProperties:af,dataStrategy:Q==null?void 0:Q.dataStrategy,patchRoutesOnNavigation:Q==null?void 0:Q.patchRoutesOnNavigation,window:Q==null?void 0:Q.window}).initialize()}function Kc(){let K=window==null?void 0:window.__staticRouterHydrationData;return K&&K.errors&&(K={...K,errors:Zc(K.errors)}),K}function Zc(K){if(!K)return null;let Q=Object.entries(K),ie={};for(let[xe,ye]of Q)if(ye&&ye.__type==="RouteErrorResponse")ie[xe]=new Ye(ye.status,ye.statusText,ye.data,ye.internal===!0);else if(ye&&ye.__type==="Error"){if(ye.__subType){let Oe=window[ye.__subType];if(typeof Oe=="function")try{let Ne=new Oe(ye.message);Ne.stack="",ie[xe]=Ne}catch{}}if(ie[xe]==null){let Oe=new Error(ye.message);Oe.stack="",ie[xe]=Oe}}else ie[xe]=ye;return ie}function ta({basename:K,children:Q,window:ie}){let xe=Hn.useRef();xe.current==null&&(xe.current=P({window:ie,v5Compat:!0}));let ye=xe.current,[Oe,Ne]=Hn.useState({action:ye.action,location:ye.location}),Qe=Hn.useCallback(Ve=>{Hn.startTransition(()=>Ne(Ve))},[Ne]);return Hn.useLayoutEffect(()=>ye.listen(Qe),[ye,Qe]),Hn.createElement(Iu,{basename:K,children:Q,location:Oe.location,navigationType:Oe.action,navigator:ye})}function Of({basename:K,children:Q,window:ie}){let xe=Hn.useRef();xe.current==null&&(xe.current=S({window:ie,v5Compat:!0}));let ye=xe.current,[Oe,Ne]=Hn.useState({action:ye.action,location:ye.location}),Qe=Hn.useCallback(Ve=>{Hn.startTransition(()=>Ne(Ve))},[Ne]);return Hn.useLayoutEffect(()=>ye.listen(Qe),[ye,Qe]),Hn.createElement(Iu,{basename:K,children:Q,location:Oe.location,navigationType:Oe.action,navigator:ye})}function hg({basename:K,children:Q,history:ie}){let[xe,ye]=Hn.useState({action:ie.action,location:ie.location}),Oe=Hn.useCallback(Ne=>{Hn.startTransition(()=>ye(Ne))},[ye]);return Hn.useLayoutEffect(()=>ie.listen(Oe),[ie,Oe]),Hn.createElement(Iu,{basename:K,children:Q,location:xe.location,navigationType:xe.action,navigator:ie})}hg.displayName="unstable_HistoryRouter";var $d=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,If=Hn.forwardRef(function({onClick:Q,discover:ie="render",prefetch:xe="none",relative:ye,reloadDocument:Oe,replace:Ne,state:Qe,target:Ve,to:ht,preventScrollReset:zt,viewTransition:er,...ur},Xt){let{basename:Er}=Hn.useContext(An),Or=typeof ht=="string"&&$d.test(ht),Br,Xr=!1;if(typeof ht=="string"&&Or&&(Br=ht,Nd))try{let ei=new URL(window.location.href),Vi=ht.startsWith("//")?new URL(ei.protocol+ht):new URL(ht),ja=At(Vi.pathname,Er);Vi.origin===ei.origin&&ja!=null?ht=ja+Vi.search+Vi.hash:Xr=!0}catch{_(!1,`<Link to="${ht}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let pn=Ke(ht,{relative:ye}),[on,oi,en]=Gc(xe,ur),xr=Mf(ht,{replace:Ne,state:Qe,target:Ve,preventScrollReset:zt,relative:ye,viewTransition:er});function Kn(ei){Q&&Q(ei),ei.defaultPrevented||xr(ei)}let Nn=Hn.createElement("a",{...ur,...en,href:Br||pn,onClick:Xr||Oe?Q:Kn,ref:hh(Xt,oi),target:Ve,"data-discover":!Or&&ie==="render"?"true":void 0});return on&&!Or?Hn.createElement(Hn.Fragment,null,Nn,Hn.createElement(oc,{page:pn})):Nn});If.displayName="Link";var Ll=Hn.forwardRef(function({"aria-current":Q="page",caseSensitive:ie=!1,className:xe="",end:ye=!1,style:Oe,to:Ne,viewTransition:Qe,children:Ve,...ht},zt){let er=Cn(Ne,{relative:ht.relative}),ur=St(),Xt=Hn.useContext(rn),{navigator:Er,basename:Or}=Hn.useContext(An),Br=Xt!=null&&yu(er)&&Qe===!0,Xr=Er.encodeLocation?Er.encodeLocation(er).pathname:er.pathname,pn=ur.pathname,on=Xt&&Xt.navigation&&Xt.navigation.location?Xt.navigation.location.pathname:null;ie||(pn=pn.toLowerCase(),on=on?on.toLowerCase():null,Xr=Xr.toLowerCase()),on&&Or&&(on=At(on,Or)||on);const oi=Xr!=="/"&&Xr.endsWith("/")?Xr.length-1:Xr.length;let en=pn===Xr||!ye&&pn.startsWith(Xr)&&pn.charAt(oi)==="/",xr=on!=null&&(on===Xr||!ye&&on.startsWith(Xr)&&on.charAt(Xr.length)==="/"),Kn={isActive:en,isPending:xr,isTransitioning:Br},Nn=en?Q:void 0,ei;typeof xe=="function"?ei=xe(Kn):ei=[xe,en?"active":null,xr?"pending":null,Br?"transitioning":null].filter(Boolean).join(" ");let Vi=typeof Oe=="function"?Oe(Kn):Oe;return Hn.createElement(If,{...ht,"aria-current":Nn,className:ei,ref:zt,style:Vi,to:Ne,viewTransition:Qe},typeof Ve=="function"?Ve(Kn):Ve)});Ll.displayName="NavLink";var eu=Hn.forwardRef(({discover:K="render",fetcherKey:Q,navigate:ie,reloadDocument:xe,replace:ye,state:Oe,method:Ne=Wc,action:Qe,onSubmit:Ve,relative:ht,preventScrollReset:zt,viewTransition:er,...ur},Xt)=>{let Er=fd(),Or=Ac(Qe,{relative:ht}),Br=Ne.toLowerCase()==="get"?"get":"post",Xr=typeof Qe=="string"&&$d.test(Qe),pn=on=>{if(Ve&&Ve(on),on.defaultPrevented)return;on.preventDefault();let oi=on.nativeEvent.submitter,en=(oi==null?void 0:oi.getAttribute("formmethod"))||Ne;Er(oi||on.currentTarget,{fetcherKey:Q,method:en,navigate:ie,replace:ye,state:Oe,relative:ht,preventScrollReset:zt,viewTransition:er})};return Hn.createElement("form",{ref:Xt,method:Br,action:Or,onSubmit:xe?Ve:pn,...ur,"data-discover":!Xr&&K==="render"?"true":void 0})});eu.displayName="Form";function Fo({getKey:K,storageKey:Q,...ie}){let xe=Hn.useContext(Hs),{basename:ye}=Hn.useContext(An),Oe=St(),Ne=ka();ph({getKey:K,storageKey:Q});let Qe=Hn.useMemo(()=>{if(!xe||!K)return null;let ht=Nl(Oe,Ne,ye,K);return ht!==Oe.key?ht:null},[]);if(!xe||xe.isSpaMode)return null;let Ve=((ht,zt)=>{if(!window.history.state||!window.history.state.key){let er=Math.random().toString(32).slice(2);window.history.replaceState({key:er},"")}try{let ur=JSON.parse(sessionStorage.getItem(ht)||"{}")[zt||window.history.state.key];typeof ur=="number"&&window.scrollTo(0,ur)}catch(er){console.error(er),sessionStorage.removeItem(ht)}}).toString();return Hn.createElement("script",{...ie,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${Ve})(${JSON.stringify(Q||zd)}, ${JSON.stringify(Qe)})`}})}Fo.displayName="ScrollRestoration";function vu(K){return`${K} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rc(K){let Q=Hn.useContext(Kr);return E(Q,vu(K)),Q}function cd(K){let Q=Hn.useContext(rn);return E(Q,vu(K)),Q}function Mf(K,{target:Q,replace:ie,state:xe,preventScrollReset:ye,relative:Oe,viewTransition:Ne}={}){let Qe=Mr(),Ve=St(),ht=Cn(K,{relative:Oe});return Hn.useCallback(zt=>{if(Cr(zt,Q)){zt.preventDefault();let er=ie!==void 0?ie:$(Ve)===$(ht);Qe(K,{replace:er,state:xe,preventScrollReset:ye,relative:Oe,viewTransition:Ne})}},[Ve,Qe,ht,ie,xe,Q,K,ye,Oe,Ne])}function sc(K){_(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let Q=Hn.useRef(dn(K)),ie=Hn.useRef(!1),xe=St(),ye=Hn.useMemo(()=>Zr(xe.search,ie.current?null:Q.current),[xe.search]),Oe=Mr(),Ne=Hn.useCallback((Qe,Ve)=>{const ht=dn(typeof Qe=="function"?Qe(ye):Qe);ie.current=!0,Oe("?"+ht,Ve)},[Oe,ye]);return[ye,Ne]}var kf=0,Ro=()=>`__${String(++kf)}__`;function fd(){let{router:K}=Rc("useSubmit"),{basename:Q}=Hn.useContext(An),ie=Hi();return Hn.useCallback(async(xe,ye={})=>{let{action:Oe,method:Ne,encType:Qe,formData:Ve,body:ht}=yo(xe,Q);if(ye.navigate===!1){let zt=ye.fetcherKey||Ro();await K.fetch(zt,ie,ye.action||Oe,{preventScrollReset:ye.preventScrollReset,formData:Ve,body:ht,formMethod:ye.method||Ne,formEncType:ye.encType||Qe,flushSync:ye.flushSync})}else await K.navigate(ye.action||Oe,{preventScrollReset:ye.preventScrollReset,formData:Ve,body:ht,formMethod:ye.method||Ne,formEncType:ye.encType||Qe,replace:ye.replace,state:ye.state,fromRouteId:ie,flushSync:ye.flushSync,viewTransition:ye.viewTransition})},[K,Q,ie])}function Ac(K,{relative:Q}={}){let{basename:ie}=Hn.useContext(An),xe=Hn.useContext(fi);E(xe,"useFormAction must be used inside a RouteContext");let[ye]=xe.matches.slice(-1),Oe={...Cn(K||".",{relative:Q})},Ne=St();if(K==null){Oe.search=Ne.search;let Qe=new URLSearchParams(Oe.search),Ve=Qe.getAll("index");if(Ve.some(zt=>zt==="")){Qe.delete("index"),Ve.filter(er=>er).forEach(er=>Qe.append("index",er));let zt=Qe.toString();Oe.search=zt?`?${zt}`:""}}return(!K||K===".")&&ye.route.index&&(Oe.search=Oe.search?Oe.search.replace(/^\?/,"?index&"):"?index"),ie!=="/"&&(Oe.pathname=Oe.pathname==="/"?ie:gr([ie,Oe.pathname])),$(Oe)}function df({key:K}={}){var Br;let{router:Q}=Rc("useFetcher"),ie=cd("useFetcher"),xe=Hn.useContext(Sn),ye=Hn.useContext(fi),Oe=(Br=ye.matches[ye.matches.length-1])==null?void 0:Br.route.id;E(xe,"useFetcher must be used inside a FetchersContext"),E(ye,"useFetcher must be used inside a RouteContext"),E(Oe!=null,'useFetcher can only be used on routes that contain a unique "id"');let Ne=Hn.useId(),[Qe,Ve]=Hn.useState(K||Ne);K&&K!==Qe&&Ve(K),Hn.useEffect(()=>(Q.getFetcher(Qe),()=>Q.deleteFetcher(Qe)),[Q,Qe]);let ht=Hn.useCallback(async(Xr,pn)=>{E(Oe,"No routeId available for fetcher.load()"),await Q.fetch(Qe,Oe,Xr,pn)},[Qe,Oe,Q]),zt=fd(),er=Hn.useCallback(async(Xr,pn)=>{await zt(Xr,{...pn,navigate:!1,fetcherKey:Qe})},[Qe,zt]),ur=Hn.useMemo(()=>{let Xr=Hn.forwardRef((pn,on)=>Hn.createElement(eu,{...pn,navigate:!1,fetcherKey:Qe,ref:on}));return Xr.displayName="fetcher.Form",Xr},[Qe]),Xt=ie.fetchers.get(Qe)||zr,Er=xe.get(Qe);return Hn.useMemo(()=>({Form:ur,submit:er,load:ht,...Xt,data:Er}),[ur,er,ht,Xt,Er])}function pg(){let K=cd("useFetchers");return Array.from(K.fetchers.entries()).map(([Q,ie])=>({...ie,key:Q}))}var zd="react-router-scroll-positions",Df={};function Nl(K,Q,ie,xe){let ye=null;return xe&&(ie!=="/"?ye=xe({...K,pathname:At(K.pathname,ie)||K.pathname},Q):ye=xe(K,Q)),ye==null&&(ye=K.key),ye}function ph({getKey:K,storageKey:Q}={}){let{router:ie}=Rc("useScrollRestoration"),{restoreScrollPosition:xe,preventScrollReset:ye}=cd("useScrollRestoration"),{basename:Oe}=Hn.useContext(An),Ne=St(),Qe=ka(),Ve=Pa();Hn.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Di(Hn.useCallback(()=>{if(Ve.state==="idle"){let ht=Nl(Ne,Qe,Oe,K);Df[ht]=window.scrollY}try{sessionStorage.setItem(Q||zd,JSON.stringify(Df))}catch(ht){_(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${ht}).`)}window.history.scrollRestoration="auto"},[Ve.state,K,Oe,Ne,Qe,Q])),typeof document<"u"&&(Hn.useLayoutEffect(()=>{try{let ht=sessionStorage.getItem(Q||zd);ht&&(Df=JSON.parse(ht))}catch{}},[Q]),Hn.useLayoutEffect(()=>{let ht=ie==null?void 0:ie.enableScrollRestoration(Df,()=>window.scrollY,K?(zt,er)=>Nl(zt,er,Oe,K):void 0);return()=>ht&&ht()},[ie,Oe,K]),Hn.useLayoutEffect(()=>{if(xe!==!1){if(typeof xe=="number"){window.scrollTo(0,xe);return}if(Ne.hash){let ht=document.getElementById(decodeURIComponent(Ne.hash.slice(1)));if(ht){ht.scrollIntoView();return}}ye!==!0&&window.scrollTo(0,0)}},[Ne,xe,ye]))}function Gn(K,Q){let{capture:ie}=Q||{};Hn.useEffect(()=>{let xe=ie!=null?{capture:ie}:void 0;return window.addEventListener("beforeunload",K,xe),()=>{window.removeEventListener("beforeunload",K,xe)}},[K,ie])}function Di(K,Q){let{capture:ie}={};Hn.useEffect(()=>{let xe=ie!=null?{capture:ie}:void 0;return window.addEventListener("pagehide",K,xe),()=>{window.removeEventListener("pagehide",K,xe)}},[K,ie])}function dd({when:K,message:Q}){let ie=qs(K);Hn.useEffect(()=>{ie.state==="blocked"&&(window.confirm(Q)?setTimeout(ie.proceed,0):ie.reset())},[ie,Q]),Hn.useEffect(()=>{ie.state==="blocked"&&!K&&ie.reset()},[ie,K])}function yu(K,Q={}){let ie=Hn.useContext(ri);E(ie!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:xe}=Rc("useViewTransitionState"),ye=Cn(K,{relative:Q.relative});if(!ie.isTransitioning)return!1;let Oe=At(ie.currentLocation.pathname,xe)||ie.currentLocation.pathname,Ne=At(ie.nextLocation.pathname,xe)||ie.nextLocation.pathname;return Ze(ye.pathname,Ne)!=null||Ze(ye.pathname,Oe)!=null}var bl=f(vn());function ys({basename:K,children:Q,location:ie="/"}){typeof ie=="string"&&(ie=z(ie));let xe="POP",ye={pathname:ie.pathname||"/",search:ie.search||"",hash:ie.hash||"",state:ie.state!=null?ie.state:null,key:ie.key||"default"},Oe=zu();return bl.createElement(Iu,{basename:K,children:Q,location:ye,navigationType:xe,navigator:Oe,static:!0})}function Yc({context:K,router:Q,hydrate:ie=!0,nonce:xe}){E(Q&&K,"You must provide `router` and `context` to <StaticRouterProvider>");let ye={router:Q,navigator:zu(),static:!0,staticContext:K,basename:K.basename||"/"},Oe=new Map,Ne="";if(ie!==!1){let Ve={loaderData:K.loaderData,actionData:K.actionData,errors:$l(K.errors)};Ne=`window.__staticRouterHydrationData = JSON.parse(${Pm(JSON.stringify(JSON.stringify(Ve)))});`}let{state:Qe}=ye.router;return bl.createElement(bl.Fragment,null,bl.createElement(Kr.Provider,{value:ye},bl.createElement(rn.Provider,{value:Qe},bl.createElement(Sn.Provider,{value:Oe},bl.createElement(ri.Provider,{value:{isTransitioning:!1}},bl.createElement(Iu,{basename:ye.basename,location:Qe.location,navigationType:Qe.historyAction,navigator:ye.navigator,static:ye.static},bl.createElement($u,{routes:Q.routes,future:Q.future,state:Qe})))))),Ne?bl.createElement("script",{suppressHydrationWarning:!0,nonce:xe,dangerouslySetInnerHTML:{__html:Ne}}):null)}function $u({routes:K,future:Q,state:ie}){return hi(K,void 0,ie,Q)}function $l(K){if(!K)return null;let Q=Object.entries(K),ie={};for(let[xe,ye]of Q)gt(ye)?ie[xe]={...ye,__type:"RouteErrorResponse"}:ye instanceof Error?ie[xe]={message:ye.message,__type:"Error",...ye.name!=="Error"?{__subType:ye.name}:{}}:ie[xe]=ye;return ie}function zu(){return{createHref:hd,encodeLocation:pd,push(K){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(K)})\` somewhere in your app.`)},replace(K){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(K)}, { replace: true })\` somewhere in your app.`)},go(K){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${K})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function ro(K,Q){return Yt(K,{...Q,mapRouteProperties:el})}function bo(K,Q,ie={}){let xe={},ye=se(K,el,void 0,xe),Oe=Q.matches.map(Qe=>{let Ve=xe[Qe.route.id]||Qe.route;return{...Qe,route:Ve}}),Ne=Qe=>`You cannot use router.${Qe}() on the server because it is a stateless environment`;return{get basename(){return Q.basename},get future(){return{unstable_middleware:!1,...ie==null?void 0:ie.future}},get state(){return{historyAction:"POP",location:Q.location,matches:Oe,loaderData:Q.loaderData,actionData:Q.actionData,errors:Q.errors,initialized:!0,navigation:ar,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return ye},get window(){},initialize(){throw Ne("initialize")},subscribe(){throw Ne("subscribe")},enableScrollRestoration(){throw Ne("enableScrollRestoration")},navigate(){throw Ne("navigate")},fetch(){throw Ne("fetch")},revalidate(){throw Ne("revalidate")},createHref:hd,encodeLocation:pd,getFetcher(){return zr},deleteFetcher(){throw Ne("deleteFetcher")},dispose(){throw Ne("dispose")},getBlocker(){return mt},deleteBlocker(){throw Ne("deleteBlocker")},patchRoutes(){throw Ne("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw Ne("_internalSetRoutes")}}}function hd(K){return typeof K=="string"?K:$(K)}function pd(K){let Q=typeof K=="string"?K:$(K);Q=Q.replace(/ $/,"%20");let ie=Oc.test(Q)?new URL(Q):new URL(Q,"http://localhost");return{pathname:ie.pathname,search:ie.search,hash:ie.hash}}var Oc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zl={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},tp=/[&><\u2028\u2029]/g;function Pm(K){return K.replace(tp,Q=>zl[Q])}var Ws=f(vn());function lc({context:K,url:Q,nonce:ie}){typeof Q=="string"&&(Q=new URL(Q));let{manifest:xe,routeModules:ye,criticalCss:Oe,serverHandoffString:Ne}=K,Qe=uf(xe.routes,ye,K.future,K.isSpaMode);K.staticHandlerContext.loaderData={...K.staticHandlerContext.loaderData};for(let ht of K.staticHandlerContext.matches){let zt=ht.route.id,er=ye[zt],ur=K.manifest.routes[zt];er&&ur&&Af(zt,er.clientLoader,ur.hasLoader,K.isSpaMode)&&(er.HydrateFallback||!ur.hasLoader)&&delete K.staticHandlerContext.loaderData[zt]}let Ve=bo(Qe,K.staticHandlerContext);return Ws.createElement(Ws.Fragment,null,Ws.createElement(Hs.Provider,{value:{manifest:xe,routeModules:ye,criticalCss:Oe,serverHandoffString:Ne,future:K.future,ssr:K.ssr,isSpaMode:K.isSpaMode,serializeError:K.serializeError,renderMeta:K.renderMeta}},Ws.createElement(od,{location:Ve.state.location},Ws.createElement(Yc,{router:Ve,context:K.staticHandlerContext,hydrate:!1}))),K.serverHandoffStream?Ws.createElement(Ws.Suspense,null,Ws.createElement(ls,{context:K,identifier:0,reader:K.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:ie})):null)}var B=f(vn());function c(K,Q){return function({initialEntries:xe,initialIndex:ye,hydrationData:Oe,future:Ne}){let Qe=B.useRef(),Ve=B.useRef();if(Qe.current==null){Ve.current={future:{unstable_subResourceIntegrity:(Ne==null?void 0:Ne.unstable_subResourceIntegrity)===!0,unstable_middleware:(Ne==null?void 0:Ne.unstable_middleware)===!0},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},ssr:!1,isSpaMode:!1};let ht=g(se(K,zt=>zt),Ve.current.manifest,Ve.current.routeModules);Qe.current=nh(ht,{unstable_getContext:Q,initialEntries:xe,initialIndex:ye,hydrationData:Oe})}return B.createElement(Hs.Provider,{value:Ve.current},B.createElement(Sf,{router:Qe.current}))}}function g(K,Q,ie,xe){return K.map(ye=>{if(!ye.id)throw new Error("Expected a route.id in @remix-run/testing processRoutes() function");let Oe={id:ye.id,path:ye.path,index:ye.index,Component:ye.Component,HydrateFallback:ye.HydrateFallback,ErrorBoundary:ye.ErrorBoundary,action:ye.action,loader:ye.loader,handle:ye.handle,shouldRevalidate:ye.shouldRevalidate},Ne={id:ye.id,path:ye.path,index:ye.index,parentId:xe,hasAction:ye.action!=null,hasLoader:ye.loader!=null,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:ye.ErrorBoundary!=null,module:"build/stub-path-to-module.js",clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0};return Q.routes[Oe.id]=Ne,ie[ye.id]={default:ye.Component||Pp,ErrorBoundary:ye.ErrorBoundary||void 0,handle:ye.handle,links:ye.links,meta:ye.meta,shouldRevalidate:ye.shouldRevalidate},ye.children&&(Oe.children=g(ye.children,Q,ie,Oe.id)),Oe})}var M=Zhe(),L=new TextEncoder,j=async(K,Q)=>{let ie=L.encode(K),xe=await te(Q,["sign"]),ye=await crypto.subtle.sign("HMAC",xe,ie),Oe=btoa(String.fromCharCode(...new Uint8Array(ye))).replace(/=+$/,"");return K+"."+Oe},Y=async(K,Q)=>{let ie=K.lastIndexOf("."),xe=K.slice(0,ie),ye=K.slice(ie+1),Oe=L.encode(xe),Ne=await te(Q,["verify"]),Qe=oe(atob(ye));return await crypto.subtle.verify("HMAC",Ne,Qe,Oe)?xe:!1},te=async(K,Q)=>crypto.subtle.importKey("raw",L.encode(K),{name:"HMAC",hash:"SHA-256"},!1,Q);function oe(K){let Q=new Uint8Array(K.length);for(let ie=0;ie<K.length;ie++)Q[ie]=K.charCodeAt(ie);return Q}var be=(K,Q={})=>{let{secrets:ie=[],...xe}={path:"/",sameSite:"lax",...Q};return Bt(K,xe.expires),{get name(){return K},get isSigned(){return ie.length>0},get expires(){return typeof xe.maxAge<"u"?new Date(Date.now()+xe.maxAge*1e3):xe.expires},async parse(ye,Oe){if(!ye)return null;let Ne=(0,M.parse)(ye,{...xe,...Oe});if(K in Ne){let Qe=Ne[K];return typeof Qe=="string"&&Qe!==""?await De(Qe,ie):""}else return null},async serialize(ye,Oe){return(0,M.serialize)(K,ye===""?"":await Fe(ye,ie),{...xe,...Oe})}}},Ce=K=>K!=null&&typeof K.name=="string"&&typeof K.isSigned=="boolean"&&typeof K.parse=="function"&&typeof K.serialize=="function";async function Fe(K,Q){let ie=We(K);return Q.length>0&&(ie=await j(ie,Q[0])),ie}async function De(K,Q){if(Q.length>0){for(let ie of Q){let xe=await Y(K,ie);if(xe!==!1)return nt(xe)}return null}return nt(K)}function We(K){return btoa(Rt(encodeURIComponent(JSON.stringify(K))))}function nt(K){try{return JSON.parse(decodeURIComponent(Pt(atob(K))))}catch{return{}}}function Pt(K){let Q=K.toString(),ie="",xe=0,ye,Oe;for(;xe<Q.length;)ye=Q.charAt(xe++),/[\w*+\-./@]/.exec(ye)?ie+=ye:(Oe=ye.charCodeAt(0),Oe<256?ie+="%"+Ct(Oe,2):ie+="%u"+Ct(Oe,4).toUpperCase());return ie}function Ct(K,Q){let ie=K.toString(16);for(;ie.length<Q;)ie="0"+ie;return ie}function Rt(K){let Q=K.toString(),ie="",xe=0,ye,Oe;for(;xe<Q.length;){if(ye=Q.charAt(xe++),ye==="%"){if(Q.charAt(xe)==="u"){if(Oe=Q.slice(xe+1,xe+5),/^[\da-f]{4}$/i.exec(Oe)){ie+=String.fromCharCode(parseInt(Oe,16)),xe+=5;continue}}else if(Oe=Q.slice(xe,xe+2),/^[\da-f]{2}$/i.exec(Oe)){ie+=String.fromCharCode(parseInt(Oe,16)),xe+=2;continue}}ie+=ye}return ie}function Bt(K,Q){xc(!Q,`The "${K}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function Ht(K){return Object.keys(K).reduce((Q,ie)=>{let xe=K[ie];return xe&&(Q[ie]=xe.module),Q},{})}var $t=(K=>(K.Development="development",K.Production="production",K.Test="test",K))($t||{});function Wt(K){return K==="development"||K==="production"||K==="test"}function tr(K,Q){if(K instanceof Error&&Q!=="development"){let ie=new Error("Unexpected Server Error");return ie.stack=void 0,ie}return K}function nr(K,Q){return Object.entries(K).reduce((ie,[xe,ye])=>Object.assign(ie,{[xe]:tr(ye,Q)}),{})}function kr(K,Q){let ie=tr(K,Q);return{message:ie.message,stack:ie.stack}}function Qr(K,Q){if(!K)return null;let ie=Object.entries(K),xe={};for(let[ye,Oe]of ie)if(gt(Oe))xe[ye]={...Oe,__type:"RouteErrorResponse"};else if(Oe instanceof Error){let Ne=tr(Oe,Q);xe[ye]={message:Ne.message,stack:Ne.stack,__type:"Error",...Ne.name!=="Error"?{__subType:Ne.name}:{}}}else xe[ye]=Oe;return xe}function _r(K,Q,ie){let xe=ge(K,Q,ie);return xe?xe.map(ye=>({params:ye.params,pathname:ye.pathname,route:ye.route})):null}async function $r(K,Q){let ie=await K({request:Dn(Jr(Q.request)),params:Q.params,context:Q.context});if(du(ie)&&ie.init&&ie.init.status&&Ou(ie.init.status))throw new Response(null,ie.init);return ie}function Jr(K){let Q=new URL(K.url),ie=Q.searchParams.getAll("index");Q.searchParams.delete("index");let xe=[];for(let Oe of ie)Oe&&xe.push(Oe);for(let Oe of xe)Q.searchParams.append("index",Oe);let ye={method:K.method,body:K.body,headers:K.headers,signal:K.signal};return ye.body&&(ye.duplex="half"),new Request(Q.href,ye)}function Dn(K){let Q=new URL(K.url);Q.searchParams.delete("_routes");let ie={method:K.method,body:K.body,headers:K.headers,signal:K.signal};return ie.body&&(ie.duplex="half"),new Request(Q.href,ie)}function In(K,Q){if(K===!1||K===null||typeof K>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(Q)}var hn="__reactRouterDevServerHooks";function Jn(K){globalThis[hn]=K}function Mi(){return globalThis[hn]}function Ra(K,Q){if(typeof process<"u")try{if((e==null?void 0:e.IS_RR_BUILD_REQUEST)==="yes")return K.headers.get(Q)}catch{}return null}function Ao(K){let Q={};return Object.values(K).forEach(ie=>{if(ie){let xe=ie.parentId||"";Q[xe]||(Q[xe]=[]),Q[xe].push(ie)}}),Q}function ho(K,Q="",ie=Ao(K)){return(ie[Q]||[]).map(xe=>({...xe,children:ho(K,xe.id,ie)}))}function es(K,Q,ie="",xe=Ao(K)){return(xe[ie]||[]).map(ye=>{let Oe={hasErrorBoundary:ye.id==="root"||ye.module.ErrorBoundary!=null,id:ye.id,path:ye.path,unstable_middleware:ye.module.unstable_middleware,loader:ye.module.loader?async Ne=>{let Qe=Ra(Ne.request,"X-React-Router-Prerender-Data");if(Qe!=null){let ht=Qe&&decodeURI(Qe);In(ht,"Missing prerendered data for route");let zt=new TextEncoder().encode(ht),er=new ReadableStream({start(Er){Er.enqueue(zt),Er.close()}}),Xt=(await tl(er,Cl)).value;if(Xt&&Yl in Xt){let Er=Xt[Yl],Or={status:Er.status};throw Er.reload?Me(Er.redirect,Or):Er.replace?Le(Er.redirect,Or):Je(Er.redirect,Or)}else{In(Xt&&ye.id in Xt,"Unable to decode prerendered data");let Er=Xt[ye.id];return In("data"in Er,"Unable to process prerendered data"),Er.data}}return await $r(ye.module.loader,Ne)}:void 0,action:ye.module.action?Ne=>$r(ye.module.action,Ne):void 0,handle:ye.module.handle};return ye.index?{index:!0,...Oe}:{caseSensitive:ye.caseSensitive,children:es(K,Q,ye.id,xe),...Oe}})}var cs={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Da=/[&><\u2028\u2029]/g;function Aa(K){return K.replace(Da,Q=>cs[Q])}function Is(K){return Aa(JSON.stringify(K))}var nl=CK(),Vs=jTe();function Fa(K,Q){let ie=Q.errors?Q.matches.findIndex(Oe=>Q.errors[Oe.route.id]):-1,xe=ie>=0?Q.matches.slice(0,ie+1):Q.matches,ye;if(ie>=0){let{actionHeaders:Oe,actionData:Ne,loaderHeaders:Qe,loaderData:Ve}=Q;Q.matches.slice(ie).some(ht=>{let zt=ht.route.id;return Oe[zt]&&(!Ne||!Ne.hasOwnProperty(zt))?ye=Oe[zt]:Qe[zt]&&!Ve.hasOwnProperty(zt)&&(ye=Qe[zt]),ye!=null})}return xe.reduce((Oe,Ne,Qe)=>{let{id:Ve}=Ne.route,ht=K.routes[Ve];In(ht,`Route with id "${Ve}" not found in build`);let zt=ht.module,er=Q.loaderHeaders[Ve]||new Headers,ur=Q.actionHeaders[Ve]||new Headers,Xt=ye!=null&&Qe===xe.length-1,Er=Xt&&ye!==er&&ye!==ur;if(zt.headers==null){let Br=new Headers(Oe);return Er&&tu(ye,Br),tu(ur,Br),tu(er,Br),Br}let Or=new Headers(zt.headers?typeof zt.headers=="function"?zt.headers({loaderHeaders:er,parentHeaders:Oe,actionHeaders:ur,errorHeaders:Xt?ye:void 0}):zt.headers:void 0);return Er&&tu(ye,Or),tu(ur,Or),tu(er,Or),tu(Oe,Or),Or},new Headers)}function tu(K,Q){let ie=K.get("Set-Cookie");if(ie){let xe=(0,Vs.splitCookiesString)(ie),ye=new Set(Q.getSetCookie());xe.forEach(Oe=>{ye.has(Oe)||Q.append("Set-Cookie",Oe)})}}var Bu=new Set([...Em,304]);async function Ic(K,Q,ie,xe,ye,Oe,Ne){try{let Ve=function(er){let ur=Fa(K,er);if(Ou(er.statusCode)&&ur.has("Location"))return Gs(xe,K,Q,{result:Mc(er.statusCode,ur,K.basename),headers:ur,status:Tf});er.errors&&(Object.values(er.errors).forEach(Er=>{(!gt(Er)||Er.error)&&Ne(Er)}),er.errors=nr(er.errors,Q));let Xt;return er.errors?Xt={error:Object.values(er.errors)[0]}:Xt={data:Object.values(er.actionData||{})[0]},Gs(xe,K,Q,{result:Xt,headers:ur,status:er.statusCode})};var Qe=Ve;let ht=new Request(ye,{method:xe.method,body:xe.body,headers:xe.headers,signal:xe.signal,...xe.body?{duplex:"half"}:void 0}),zt=await ie.query(ht,{requestContext:Oe,skipLoaderErrorBubbling:!0,skipRevalidation:!0,unstable_respond:Ve});return Ei(zt)||(zt=Ve(zt)),hu(zt)?Gs(xe,K,Q,{result:Mc(zt.status,zt.headers,K.basename),headers:zt.headers,status:Tf}):zt}catch(Ve){return Ne(Ve),Gs(xe,K,Q,{result:{error:Ve},headers:new Headers,status:500})}}async function Ff(K,Q,ie,xe,ye,Oe,Ne){try{let Ve=function(Xt){let Er=Fa(K,Xt);if(Ou(Xt.statusCode)&&Er.has("Location"))return Gs(xe,K,Q,{result:{[Yl]:Mc(Xt.statusCode,Er,K.basename)},headers:Er,status:Tf});Xt.errors&&(Object.values(Xt.errors).forEach(Xr=>{(!gt(Xr)||Xr.error)&&Ne(Xr)}),Xt.errors=nr(Xt.errors,Q));let Or={},Br=new Set(Xt.matches.filter(Xr=>er?er.has(Xr.route.id):Xr.route.loader!=null).map(Xr=>Xr.route.id));if(Xt.errors)for(let[Xr,pn]of Object.entries(Xt.errors))Or[Xr]={error:pn};for(let[Xr,pn]of Object.entries(Xt.loaderData))!(Xr in Or)&&Br.has(Xr)&&(Or[Xr]={data:pn});return Gs(xe,K,Q,{result:Or,headers:Er,status:Xt.statusCode})};var Qe=Ve;let ht=new Request(ye,{headers:xe.headers,signal:xe.signal}),zt=new URL(xe.url).searchParams.get("_routes"),er=zt?new Set(zt.split(",")):null,ur=await ie.query(ht,{requestContext:Oe,filterMatchesToLoad:Xt=>!er||er.has(Xt.route.id),skipLoaderErrorBubbling:!0,unstable_respond:Ve});return Ei(ur)||(ur=Ve(ur)),hu(ur)?Gs(xe,K,Q,{result:{[Yl]:Mc(ur.status,ur.headers,K.basename)},headers:ur.headers,status:Tf}):ur}catch(Ve){return Ne(Ve),Gs(xe,K,Q,{result:{root:{error:Ve}},headers:new Headers,status:500})}}function Gs(K,Q,ie,{result:xe,headers:ye,status:Oe}){let Ne=new Headers(ye);return Ne.set("X-Remix-Response","yes"),Bu.has(Oe)?new Response(null,{status:Oe,headers:Ne}):(Ne.set("Content-Type","text/x-script"),new Response(Bl(xe,K.signal,Q.entry.module.streamTimeout,ie),{status:Oe||200,headers:Ne}))}function Mc(K,Q,ie){let xe=Q.get("Location");return ie&&(xe=At(xe,ie)||xe),{redirect:xe,status:K,revalidate:Q.has("X-Remix-Revalidate")||Q.has("Set-Cookie"),reload:Q.has("X-Remix-Reload-Document"),replace:Q.has("X-Remix-Replace")}}function Bl(K,Q,ie,xe){let ye=new AbortController,Oe=setTimeout(()=>ye.abort(new Error("Server Timeout")),typeof ie=="number"?ie:4950);return Q.addEventListener("abort",()=>clearTimeout(Oe)),(0,nl.encode)(K,{signal:ye.signal,plugins:[Ne=>{if(Ne instanceof Error){let{name:Qe,message:Ve,stack:ht}=xe==="production"?tr(Ne,xe):Ne;return["SanitizedError",Qe,Ve,ht]}if(Ne instanceof Ye){let{data:Qe,status:Ve,statusText:ht}=Ne;return["ErrorResponse",Qe,Ve,ht]}if(Ne&&typeof Ne=="object"&&Yl in Ne)return["SingleFetchRedirect",Ne[Yl]]}],postPlugins:[Ne=>{if(Ne&&typeof Ne=="object")return["SingleFetchClassInstance",Object.fromEntries(Object.entries(Ne))]},()=>["SingleFetchFallback"]]})}function bu(K,Q){let ie=ho(K.routes),xe=es(K.routes,K.future),ye=Wt(Q)?Q:"production",Oe=Yt(xe,{basename:K.basename}),Ne=K.entry.module.handleError||((Qe,{request:Ve})=>{ye!=="test"&&!Ve.signal.aborted&&console.error(gt(Qe)&&Qe.error?Qe.error:Qe)});return{routes:ie,dataRoutes:xe,serverMode:ye,staticHandler:Oe,errorHandler:Ne}}var Lf=(K,Q)=>{let ie,xe,ye,Oe,Ne;return async function(Ve,ht){var oi,en,xr;if(ie=typeof K=="function"?await K():K,typeof K=="function"){let Kn=bu(ie,Q);xe=Kn.routes,ye=Kn.serverMode,Oe=Kn.staticHandler,Ne=Kn.errorHandler}else if(!xe||!ye||!Oe||!Ne){let Kn=bu(ie,Q);xe=Kn.routes,ye=Kn.serverMode,Oe=Kn.staticHandler,Ne=Kn.errorHandler}let zt={},er,ur=Kn=>{var Nn,ei;Q==="development"&&((ei=(Nn=Mi())==null?void 0:Nn.processRequestError)==null||ei.call(Nn,Kn)),Ne(Kn,{context:er,params:zt,request:Ve})};if(ie.future.unstable_middleware)if(ht==null)er=new J;else try{er=new J(ht)}catch(Kn){let Nn=new Error(`Unable to create initial \`unstable_RouterContextProvider\` instance. Please confirm you are returning an instance of \`Map<unstable_routerContext, unknown>\` from your \`getLoadContext\` function.

Error: ${Kn instanceof Error?Kn.toString():Kn}`);return ur(Nn),_o(Nn,ye)}else er=ht||{};let Xt=new URL(Ve.url),Er=ie.basename||"/",Or=Xt.pathname;At(Or,Er)==="/_root.data"?Or=Er:Or.endsWith(".data")&&(Or=Or.replace(/\.data$/,"")),At(Or,Er)!=="/"&&Or.endsWith("/")&&(Or=Or.slice(0,-1));let Br=Ra(Ve,"X-React-Router-SPA-Mode")==="yes";if(!ie.ssr){if(ie.prerender.length===0)Br=!0;else if(!ie.prerender.includes(Or)&&!ie.prerender.includes(Or+"/")){if(Xt.pathname.endsWith(".data"))return Ne(new Ye(404,"Not Found",`Refusing to SSR the path \`${Or}\` because \`ssr:false\` is set and the path is not included in the \`prerender\` config, so in production the path will be a 404.`),{context:er,params:zt,request:Ve}),new Response("Not Found",{status:404,statusText:"Not Found"});Br=!0}}let Xr=`${Er}/__manifest`.replace(/\/+/g,"/");if(Xt.pathname===Xr)try{return await kc(ie,xe,Xt)}catch(Kn){return ur(Kn),new Response("Unknown Server Error",{status:500})}let pn=_r(xe,Xt.pathname,ie.basename);pn&&pn.length>0&&Object.assign(zt,pn[0].params);let on;if(Xt.pathname.endsWith(".data")){let Kn=new URL(Ve.url);Kn.pathname=Or;let Nn=_r(xe,Kn.pathname,ie.basename);if(on=await md(ye,ie,Oe,Ve,Kn,er,ur),ie.entry.module.handleDataRequest&&(on=await ie.entry.module.handleDataRequest(on,{context:er,params:Nn?Nn[0].params:{},request:Ve}),hu(on))){let ei=Mc(on.status,on.headers,ie.basename);Ve.method==="GET"&&(ei={[Yl]:ei});let Vi=new Headers(on.headers);return Vi.set("Content-Type","text/x-script"),new Response(Bl(ei,Ve.signal,ie.entry.module.streamTimeout,ye),{status:Tf,headers:Vi})}}else if(!Br&&pn&&pn[pn.length-1].route.module.default==null&&pn[pn.length-1].route.module.ErrorBoundary==null)on=await Zs(ye,ie,Oe,pn.slice(-1)[0].route.id,Ve,er,ur);else{let{pathname:Kn}=Xt,Nn;ie.unstable_getCriticalCss?Nn=await ie.unstable_getCriticalCss({pathname:Kn}):Q==="development"&&((oi=Mi())!=null&&oi.getCriticalCss)&&(Nn=await((xr=(en=Mi())==null?void 0:en.getCriticalCss)==null?void 0:xr.call(en,Kn))),on=await Ks(ye,ie,Oe,Ve,er,ur,Br,Nn)}return Ve.method==="HEAD"?new Response(null,{headers:on.headers,status:on.status,statusText:on.statusText}):on}};async function kc(K,Q,ie){if(K.assets.version!==ie.searchParams.get("version"))return new Response(null,{status:204,headers:{"X-Remix-Reload-Document":"true"}});let xe={};if(ie.searchParams.has("p")){let ye=new Set;ie.searchParams.getAll("p").forEach(Oe=>{Oe.startsWith("/")||(Oe=`/${Oe}`);let Ne=Oe.split("/").slice(1);Ne.forEach((Qe,Ve)=>{let ht=Ne.slice(0,Ve+1).join("/");ye.add(`/${ht}`)})});for(let Oe of ye){let Ne=_r(Q,Oe,K.basename);if(Ne)for(let Qe of Ne){let Ve=Qe.route.id,ht=K.assets.routes[Ve];ht&&(xe[Ve]=ht)}}return Response.json(xe,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function md(K,Q,ie,xe,ye,Oe,Ne){return xe.method!=="GET"?await Ic(Q,K,ie,xe,ye,Oe,Ne):await Ff(Q,K,ie,xe,ye,Oe,Ne)}async function Ks(K,Q,ie,xe,ye,Oe,Ne,Qe){try{let ht=await ie.query(xe,{requestContext:ye,unstable_respond:Q.future.unstable_middleware?zt=>Ve(zt,Ne):void 0});return Ei(ht)?ht:Ve(ht,Ne)}catch(ht){return Oe(ht),new Response(null,{status:500})}async function Ve(ht,zt){if(Ei(ht))return ht;let er=Fa(Q,ht);if(Bu.has(ht.statusCode))return new Response(null,{status:ht.statusCode,headers:er});ht.errors&&(Object.values(ht.errors).forEach(Or=>{(!gt(Or)||Or.error)&&Oe(Or)}),ht.errors=nr(ht.errors,K));let ur={loaderData:ht.loaderData,actionData:ht.actionData,errors:Qr(ht.errors,K)},Xt={manifest:Q.assets,routeModules:Ht(Q.routes),staticHandlerContext:ht,criticalCss:Qe,serverHandoffString:Is({basename:Q.basename,criticalCss:Qe,future:Q.future,ssr:Q.ssr,isSpaMode:zt}),serverHandoffStream:Bl(ur,xe.signal,Q.entry.module.streamTimeout,K),renderMeta:{},future:Q.future,ssr:Q.ssr,isSpaMode:zt,serializeError:Or=>kr(Or,K)},Er=Q.entry.module.default;try{return await Er(xe,ht.statusCode,er,Xt,ye)}catch(Or){Oe(Or);let Br=Or;if(Ei(Or))try{let pn=await Tm(Or);Br=new Ye(Or.status,Or.statusText,pn)}catch{}ht=Jt(ie.dataRoutes,ht,Br),ht.errors&&(ht.errors=nr(ht.errors,K));let Xr={loaderData:ht.loaderData,actionData:ht.actionData,errors:Qr(ht.errors,K)};Xt={...Xt,staticHandlerContext:ht,serverHandoffString:Is({basename:Q.basename,future:Q.future,ssr:Q.ssr,isSpaMode:zt}),serverHandoffStream:Bl(Xr,xe.signal,Q.entry.module.streamTimeout,K),renderMeta:{}};try{return await Er(xe,ht.statusCode,er,Xt,ye)}catch(pn){return Oe(pn),_o(pn,K)}}}}async function Zs(K,Q,ie,xe,ye,Oe,Ne){try{let Qe=await ie.queryRoute(ye,{routeId:xe,requestContext:Oe,unstable_respond:Q.future.unstable_middleware?Ve=>Ve:void 0});return Ei(Qe)?Qe:typeof Qe=="string"?new Response(Qe):Response.json(Qe)}catch(Qe){if(Ei(Qe))return Qe.headers.set("X-Remix-Catch","yes"),Qe;if(gt(Qe))return Qe&&Ne(Qe),_u(Qe,K);if(Qe instanceof Error&&Qe.message==="Expected a response from queryRoute"){let Ve=new Error("Expected a Response to be returned from resource route handler");return Ne(Ve),_o(Ve,K)}return Ne(Qe),_o(Qe,K)}}function _u(K,Q){return Response.json(kr(K.error||new Error("Unexpected Server Error"),Q),{status:K.status,statusText:K.statusText,headers:{"X-Remix-Error":"yes"}})}function _o(K,Q){let ie="Unexpected Server Error";return Q!=="production"&&(ie+=`

${String(K)}`),new Response(ie,{status:500,headers:{"Content-Type":"text/plain"}})}function Tm(K){let Q=K.headers.get("Content-Type");return Q&&/\bapplication\/json\b/.test(Q)?K.body==null?null:K.json():K.text()}function Mp(K){return`__flash_${K}__`}var rp=(K={},Q="")=>{let ie=new Map(Object.entries(K));return{get id(){return Q},get data(){return Object.fromEntries(ie)},has(xe){return ie.has(xe)||ie.has(Mp(xe))},get(xe){if(ie.has(xe))return ie.get(xe);let ye=Mp(xe);if(ie.has(ye)){let Oe=ie.get(ye);return ie.delete(ye),Oe}},set(xe,ye){ie.set(xe,ye)},flash(xe,ye){ie.set(Mp(xe),ye)},unset(xe){ie.delete(xe)}}},ju=K=>K!=null&&typeof K.id=="string"&&typeof K.data<"u"&&typeof K.has=="function"&&typeof K.get=="function"&&typeof K.set=="function"&&typeof K.flash=="function"&&typeof K.unset=="function";function uc({cookie:K,createData:Q,readData:ie,updateData:xe,deleteData:ye}){let Oe=Ce(K)?K:be((K==null?void 0:K.name)||"__session",K);return gd(Oe),{async getSession(Ne,Qe){let Ve=Ne&&await Oe.parse(Ne,Qe),ht=Ve&&await ie(Ve);return rp(ht||{},Ve||"")},async commitSession(Ne,Qe){let{id:Ve,data:ht}=Ne,zt=(Qe==null?void 0:Qe.maxAge)!=null?new Date(Date.now()+Qe.maxAge*1e3):(Qe==null?void 0:Qe.expires)!=null?Qe.expires:Oe.expires;return Ve?await xe(Ve,ht,zt):Ve=await Q(ht,zt),Oe.serialize(Ve,Qe)},async destroySession(Ne,Qe){return await ye(Ne.id),Oe.serialize("",{...Qe,maxAge:void 0,expires:new Date(0)})}}}function gd(K){xc(K.isSigned,`The "${K.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`)}function Xc({cookie:K}={}){let Q=Ce(K)?K:be((K==null?void 0:K.name)||"__session",K);return gd(Q),{async getSession(ie,xe){return rp(ie&&await Q.parse(ie,xe)||{})},async commitSession(ie,xe){let ye=await Q.serialize(ie.data,xe);if(ye.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+ye.length);return ye},async destroySession(ie,xe){return Q.serialize("",{...xe,maxAge:void 0,expires:new Date(0)})}}}function Dc({cookie:K}={}){let Q=new Map;return uc({cookie:K,async createData(ie,xe){let ye=Math.random().toString(36).substring(2,10);return Q.set(ye,{data:ie,expires:xe}),ye},async readData(ie){if(Q.has(ie)){let{data:xe,expires:ye}=Q.get(ie);if(!ye||ye>new Date)return xe;ye&&Q.delete(ie)}return null},async updateData(ie,xe,ye){Q.set(ie,{data:xe,expires:ye})},async deleteData(ie){Q.delete(ie)}})}function ru(K,...Q){let ie=Q[0];return K.split("/").map(xe=>{const ye=xe.match(/^:([\w-]+)(\?)?/);if(!ye)return xe;const Oe=ye[1],Ne=ie?ie[Oe]:void 0;if(ye[2]===void 0&&Ne===void 0)throw Error(`Path '${K}' requires param '${Oe}' but it was not provided`);return Ne}).filter(xe=>xe!==void 0).join("/")}function il(K){if(!K)return null;let Q=Object.entries(K),ie={};for(let[xe,ye]of Q)if(ye&&ye.__type==="RouteErrorResponse")ie[xe]=new Ye(ye.status,ye.statusText,ye.data,ye.internal===!0);else if(ye&&ye.__type==="Error"){if(ye.__subType){let Oe=window[ye.__subType];if(typeof Oe=="function")try{let Ne=new Oe(ye.message);Ne.stack=ye.stack,ie[xe]=Ne}catch{}}if(ie[xe]==null){let Oe=new Error(ye.message);Oe.stack=ye.stack,ie[xe]=Oe}}else ie[xe]=ye;return ie}function mh(K,Q,ie,xe,ye,Oe){let Ne={...K,loaderData:{...K.loaderData}},Qe=ge(Q,xe,ye);if(Qe)for(let Ve of Qe){let ht=Ve.route.id,zt=ie(ht);Af(ht,zt.clientLoader,zt.hasLoader,Oe)&&(zt.hasHydrateFallback||!zt.hasLoader)?delete Ne.loaderData[ht]:zt.hasLoader||(Ne.loaderData[ht]=null)}return Ne}return VD}var AK;function Yhe(){return AK||(AK=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(s){return s&&s.__esModule?s:{default:s}}function i(){return i=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},i.apply(this,arguments)}var a=function(o){return function(l){var u=(0,r.useLocation)();return t.default.createElement(o,i({},l,{location:u}))}};e.default=a}(WD)),WD}var GD={},KD,OK;function qh(){if(OK)return KD;OK=1;var e=Array.isArray;return KD=e,KD}var ZD,IK;function Xhe(){if(IK)return ZD;IK=1;var e=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl;return ZD=e,ZD}var YD,MK;function av(){if(MK)return YD;MK=1;var e=Xhe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return YD=r,YD}var XD,kK;function ww(){if(kK)return XD;kK=1;var e=av(),t=e.Symbol;return XD=t,XD}var JD,DK;function UTe(){if(DK)return JD;DK=1;var e=ww(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(o?s[i]=l:delete s[i]),f}return JD=a,JD}var QD,FK;function qTe(){if(FK)return QD;FK=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return QD=r,QD}var eF,LK;function xw(){if(LK)return eF;LK=1;var e=ww(),t=UTe(),r=qTe(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?t(o):r(o)}return eF=s,eF}var tF,NK;function ov(){if(NK)return tF;NK=1;function e(t){return t!=null&&typeof t=="object"}return tF=e,tF}var rF,$K;function KI(){if($K)return rF;$K=1;var e=xw(),t=ov(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return rF=n,rF}var nF,zK;function _U(){if(zK)return nF;zK=1;var e=qh(),t=KI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return nF=i,nF}var iF,BK;function ym(){if(BK)return iF;BK=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return iF=e,iF}var aF,jK;function wU(){if(jK)return aF;jK=1;var e=xw(),t=ym(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==n||l==i||l==r||l==a}return aF=s,aF}var oF,UK;function HTe(){if(UK)return oF;UK=1;var e=av(),t=e["__core-js_shared__"];return oF=t,oF}var sF,qK;function WTe(){if(qK)return sF;qK=1;var e=HTe(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return sF=r,sF}var lF,HK;function Jhe(){if(HK)return lF;HK=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return lF=r,lF}var uF,WK;function VTe(){if(WK)return uF;WK=1;var e=wU(),t=WTe(),r=ym(),n=Jhe(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||t(p))return!1;var m=e(p)?f:a;return m.test(n(p))}return uF=h,uF}var cF,VK;function GTe(){if(VK)return cF;VK=1;function e(t,r){return t==null?void 0:t[r]}return cF=e,cF}var fF,GK;function Sw(){if(GK)return fF;GK=1;var e=VTe(),t=GTe();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return fF=r,fF}var dF,KK;function ZI(){if(KK)return dF;KK=1;var e=Sw(),t=e(Object,"create");return dF=t,dF}var hF,ZK;function KTe(){if(ZK)return hF;ZK=1;var e=ZI();function t(){this.__data__=e?e(null):{},this.size=0}return hF=t,hF}var pF,YK;function ZTe(){if(YK)return pF;YK=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return pF=e,pF}var mF,XK;function YTe(){if(XK)return mF;XK=1;var e=ZI(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return n.call(s,a)?s[a]:void 0}return mF=i,mF}var gF,JK;function XTe(){if(JK)return gF;JK=1;var e=ZI(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return gF=n,gF}var vF,QK;function JTe(){if(QK)return vF;QK=1;var e=ZI(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return vF=r,vF}var yF,eZ;function QTe(){if(eZ)return yF;eZ=1;var e=KTe(),t=ZTe(),r=YTe(),n=XTe(),i=JTe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yF=a,yF}var bF,tZ;function eRe(){if(tZ)return bF;tZ=1;function e(){this.__data__=[],this.size=0}return bF=e,bF}var _F,rZ;function sP(){if(rZ)return _F;rZ=1;function e(t,r){return t===r||t!==t&&r!==r}return _F=e,_F}var wF,nZ;function YI(){if(nZ)return wF;nZ=1;var e=sP();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return wF=t,wF}var xF,iZ;function tRe(){if(iZ)return xF;iZ=1;var e=YI(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return xF=n,xF}var SF,aZ;function rRe(){if(aZ)return SF;aZ=1;var e=YI();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return SF=t,SF}var EF,oZ;function nRe(){if(oZ)return EF;oZ=1;var e=YI();function t(r){return e(this.__data__,r)>-1}return EF=t,EF}var CF,sZ;function iRe(){if(sZ)return CF;sZ=1;var e=YI();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return CF=t,CF}var PF,lZ;function XI(){if(lZ)return PF;lZ=1;var e=eRe(),t=tRe(),r=rRe(),n=nRe(),i=iRe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,PF=a,PF}var TF,uZ;function xU(){if(uZ)return TF;uZ=1;var e=Sw(),t=av(),r=e(t,"Map");return TF=r,TF}var RF,cZ;function aRe(){if(cZ)return RF;cZ=1;var e=QTe(),t=XI(),r=xU();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return RF=n,RF}var AF,fZ;function oRe(){if(fZ)return AF;fZ=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return AF=e,AF}var OF,dZ;function JI(){if(dZ)return OF;dZ=1;var e=oRe();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return OF=t,OF}var IF,hZ;function sRe(){if(hZ)return IF;hZ=1;var e=JI();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return IF=t,IF}var MF,pZ;function lRe(){if(pZ)return MF;pZ=1;var e=JI();function t(r){return e(this,r).get(r)}return MF=t,MF}var kF,mZ;function uRe(){if(mZ)return kF;mZ=1;var e=JI();function t(r){return e(this,r).has(r)}return kF=t,kF}var DF,gZ;function cRe(){if(gZ)return DF;gZ=1;var e=JI();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return DF=t,DF}var FF,vZ;function SU(){if(vZ)return FF;vZ=1;var e=aRe(),t=sRe(),r=lRe(),n=uRe(),i=cRe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,FF=a,FF}var LF,yZ;function fRe(){if(yZ)return LF;yZ=1;var e=SU(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(r.Cache||e),a}return r.Cache=e,LF=r,LF}var NF,bZ;function dRe(){if(bZ)return NF;bZ=1;var e=fRe(),t=500;function r(n){var i=e(n,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return NF=r,NF}var $F,_Z;function hRe(){if(_Z)return $F;_Z=1;var e=dRe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,l,u){a.push(l?u.replace(r,"$1"):o||s)}),a});return $F=n,$F}var zF,wZ;function EU(){if(wZ)return zF;wZ=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return zF=e,zF}var BF,xZ;function pRe(){if(xZ)return BF;xZ=1;var e=ww(),t=EU(),r=qh(),n=KI(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return BF=s,BF}var jF,SZ;function mRe(){if(SZ)return jF;SZ=1;var e=pRe();function t(r){return r==null?"":e(r)}return jF=t,jF}var UF,EZ;function CU(){if(EZ)return UF;EZ=1;var e=qh(),t=_U(),r=hRe(),n=mRe();function i(a,s){return e(a)?a:t(a,s)?[a]:r(n(a))}return UF=i,UF}var qF,CZ;function lP(){if(CZ)return qF;CZ=1;var e=KI();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return qF=t,qF}var HF,PZ;function Qhe(){if(PZ)return HF;PZ=1;var e=CU(),t=lP();function r(n,i){i=e(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[t(i[a++])];return a&&a==s?n:void 0}return HF=r,HF}var WF,TZ;function lg(){if(TZ)return WF;TZ=1;var e=Qhe();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return WF=t,WF}var RZ;function epe(){return RZ||(RZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=xp(),n=i(lg());function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},a(E)}function s(){return s=Object.assign?Object.assign.bind():function(E){for(var _=1;_<arguments.length;_++){var R=arguments[_];for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&(E[O]=R[O])}return E},s.apply(this,arguments)}function o(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function l(E,_){for(var R=0;R<_.length;R++){var O=_[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,A(O.key),O)}}function u(E,_,R){return _&&l(E.prototype,_),Object.defineProperty(E,"prototype",{writable:!1}),E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),_&&h(E,_)}function h(E,_){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,F){return O.__proto__=F,O},h(E,_)}function p(E){var _=w();return function(){var O=x(E),F;if(_){var $=x(this).constructor;F=Reflect.construct(O,arguments,$)}else F=O.apply(this,arguments);return m(this,F)}}function m(E,_){if(_&&(a(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(E)}function v(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(E){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},x(E)}function T(E,_,R){return _=A(_),_ in E?Object.defineProperty(E,_,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[_]=R,E}function A(E){var _=P(E,"string");return a(_)==="symbol"?_:String(_)}function P(E,_){if(a(E)!=="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var O=R.call(E,_);if(a(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(E)}var S=function(_){var R;return R=function(O){f($,O);var F=p($);function $(){var z;o(this,$);for(var q=arguments.length,Z=new Array(q),V=0;V<q;V++)Z[V]=arguments[V];return z=F.call.apply(F,[this].concat(Z)),T(v(z),"state",{email:"",password:""}),z}return u($,[{key:"handleSubmit",value:function(q){q.preventDefault(),this.props.login(this.state.email,this.state.password)}},{key:"render",value:function(){var q,Z,V=this,J=this.state,fe=J.email,ue=J.password,pe=fe&&ue,ve=this.props,le=ve.location,se=ve.user,ge=le.pathname,_e=this.props.redirectTo;if(_e=(q=le==null||(Z=le.state)===null||Z===void 0?void 0:Z.redirectTo)!==null&&q!==void 0?q:_e,se.authed){var ke=(0,n.default)(le,["state","from"]),Ge=ge===ke||!ke?_e:ke;return t.default.createElement(r.Navigate,{to:Ge,state:null})}return t.default.createElement(_,s({},this.props,this.state,{handleSubmit:function($e){return V.handleSubmit($e)},update:function($e){return V.setState($e)},canSubmit:pe}))}}]),$}(t.default.Component),T(R,"defaultProps",{amsAction:"login",redirectTo:"/",showIfLoggedIn:!1}),R};e.default=S}(GD)),GD}var VF={},AZ;function tpe(){return AZ||(AZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(P){return P&&P.__esModule?P:{default:P}}function i(P){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},i(P)}function a(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function s(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,x(_.key),_)}}function o(P,S,E){return S&&s(P.prototype,S),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),S&&u(P,S)}function u(P,S){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,R){return _.__proto__=R,_},u(P,S)}function f(P){var S=m();return function(){var _=v(P),R;if(S){var O=v(this).constructor;R=Reflect.construct(_,arguments,O)}else R=_.apply(this,arguments);return h(this,R)}}function h(P,S){if(S&&(i(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(P){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},v(P)}function w(P,S,E){return S=x(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function x(P){var S=T(P,"string");return i(S)==="symbol"?S:String(S)}function T(P,S){if(i(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(i(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}var A=function(S){var E;return E=function(_){l(O,_);var R=f(O);function O(){return a(this,O),R.apply(this,arguments)}return o(O,[{key:"render",value:function(){var $=this.props,z=$.user,q=$.redirectTo;return z.authed?t.default.createElement(S,this.props):t.default.createElement(r.Navigate,{to:q})}}]),O}(t.default.Component),w(E,"defaultProps",{amsAction:"logout",redirectTo:"/",authLevel:0}),E};e.default=A}(VF)),VF}var GF={},OZ;function rpe(){return OZ||(OZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(S){return S&&S.__esModule?S:{default:S}}function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},a.apply(this,arguments)}function s(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function o(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,T(R.key),R)}}function l(S,E,_){return E&&o(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&f(S,E)}function f(S,E){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},f(S,E)}function h(S){var E=v();return function(){var R=w(S),O;if(E){var F=w(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return p(this,O)}}function p(S,E){if(E&&(i(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(S)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(S)}function x(S,E,_){return E=T(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function T(S){var E=A(S,"string");return i(E)==="symbol"?E:String(E)}function A(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var P=function(E){var _;return _=function(R){u(F,R);var O=h(F);function F(){var $;s(this,F);for(var z=arguments.length,q=new Array(z),Z=0;Z<z;Z++)q[Z]=arguments[Z];return $=O.call.apply(O,[this].concat(q)),x(m($),"state",{email:"",verify:""}),$}return l(F,[{key:"handleSubmit",value:function(z){z.preventDefault(),this.setState({email:"",verify:""}),this.props.signup(this.state.email,this.props.addToGroup)}},{key:"render",value:function(){var z=this,q=this.state,Z=q.email,V=q.verify,J=Z&&V&&Z===V;return this.props.user.authed?t.default.createElement(r.Navigate,{to:this.props.redirectTo}):t.default.createElement(E,a({},this.props,this.state,{handleSubmit:function(ue){return z.handleSubmit(ue)},update:function(ue){return z.setState(ue)},canSubmit:J}))}}]),F}(t.default.Component),x(_,"defaultProps",{amsAction:"signup",addToGroup:!1,redirectTo:"/",showIfLoggedIn:!1}),_};e.default=P}(GF)),GF}var KF={},IZ;function PU(){return IZ||(IZ=1,function(e){function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(R)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(vn()),n=sg(),i=["groups","users","children","getGroups","getUsers","getRequests"];function a(R){return R&&R.__esModule?R:{default:R}}function s(){return s=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var F=arguments[O];for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(R[$]=F[$])}return R},s.apply(this,arguments)}function o(R,O){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);O&&($=$.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),F.push.apply(F,$)}return F}function l(R){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{};O%2?o(Object(F),!0).forEach(function($){u(R,$,F[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(F,$))})}return R}function u(R,O,F){return O=f(O),O in R?Object.defineProperty(R,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[O]=F,R}function f(R){var O=h(R,"string");return t(O)==="symbol"?O:String(O)}function h(R,O){if(t(R)!=="object"||R===null)return R;var F=R[Symbol.toPrimitive];if(F!==void 0){var $=F.call(R,O);if(t($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}function p(R,O){return T(R)||x(R,O)||v(R,O)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(R,O){if(R){if(typeof R=="string")return w(R,O);var F=Object.prototype.toString.call(R).slice(8,-1);if(F==="Object"&&R.constructor&&(F=R.constructor.name),F==="Map"||F==="Set")return Array.from(R);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return w(R,O)}}function w(R,O){(O==null||O>R.length)&&(O=R.length);for(var F=0,$=new Array(O);F<O;F++)$[F]=R[F];return $}function x(R,O){var F=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(F!=null){var $,z,q,Z,V=[],J=!0,fe=!1;try{if(q=(F=F.call(R)).next,O!==0)for(;!(J=($=q.call(F)).done)&&(V.push($.value),V.length!==O);J=!0);}catch(ue){fe=!0,z=ue}finally{try{if(!J&&F.return!=null&&(Z=F.return(),Object(Z)!==Z))return}finally{if(fe)throw z}}return V}}function T(R){if(Array.isArray(R))return R}function A(R,O){if(R==null)return{};var F=P(R,O),$,z;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);for(z=0;z<q.length;z++)$=q[z],!(O.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(R,$)&&(F[$]=R[$])}return F}function P(R,O){if(R==null)return{};var F={},$=Object.keys(R),z,q;for(q=0;q<$.length;q++)z=$[q],!(O.indexOf(z)>=0)&&(F[z]=R[z]);return F}var S=function(O,F){return O.name.toLowerCase()<F.name.toLowerCase()?-1:O.name.toLowerCase()>F.name.toLowerCase()?1:0},E=function(O){return function(F){var $=F.groups,z=$===void 0?[]:$,q=F.users,Z=F.children,V=F.getGroups,J=F.getUsers,fe=F.getRequests,ue=A(F,i),pe=n.Config.PROJECT_NAME;r.default.useEffect(function(){V(),J(),fe()},[V,J,fe]);var ve=r.default.useMemo(function(){return z==null?void 0:z.reduce(function($e,we){var Ee,Re=we==null||(Ee=we.projects)===null||Ee===void 0?void 0:Ee.reduce(function(ft,qe){return qe.project_name===pe?+qe.auth_level:ft},-1);return Re>-1?(we.authLevel=Re,$e[0].push(we)):$e[1].push(we),$e},[[],[]])},[z,pe]),le=p(ve,2),se=le[0],ge=le[1];se.sort(S),ge.sort(S);var _e=r.default.useMemo(function(){return q.reduce(function($e,we){return we.projects.reduce(function(Ee,Re){return Ee||Re.project_name===pe},!1)?$e[0].push(we):$e[1].push(we),$e},[[],[]])},[q,pe]),ke=p(_e,2),Ge=ke[0],ct=ke[1];return r.default.createElement(O,s({},ue,{project:pe,getGroups:V,getUsers:J,getRequests:fe,users:Ge,otherUsers:ct,groups:se,otherGroups:ge}),r.default.Children.toArray(Z).map(function($e){return r.default.cloneElement($e,l(l({},ue),{},{project:pe,getGroups:V,getUsers:J,getRequests:fe,users:Ge,otherUsers:ct,groups:se,otherGroups:ge}))}))}},_=E;e.default=_}(KF)),KF}var ZF={},MZ;function npe(){return MZ||(MZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(P){return P&&P.__esModule?P:{default:P}}function n(P){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(P)}function i(){return i=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},i.apply(this,arguments)}function a(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function s(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,x(_.key),_)}}function o(P,S,E){return S&&s(P.prototype,S),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),S&&u(P,S)}function u(P,S){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,R){return _.__proto__=R,_},u(P,S)}function f(P){var S=m();return function(){var _=v(P),R;if(S){var O=v(this).constructor;R=Reflect.construct(_,arguments,O)}else R=_.apply(this,arguments);return h(this,R)}}function h(P,S){if(S&&(n(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(P){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},v(P)}function w(P,S,E){return S=x(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function x(P){var S=T(P,"string");return n(S)==="symbol"?S:String(S)}function T(P,S){if(n(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(n(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}var A=function(S){var E;return E=function(_){l(O,_);var R=f(O);function O(){var F;a(this,O);for(var $=arguments.length,z=new Array($),q=0;q<$;q++)z[q]=arguments[q];return F=R.call.apply(R,[this].concat(z)),w(p(F),"state",{email:"",verify:""}),F}return o(O,[{key:"handleSubmit",value:function($){$.preventDefault(),this.setState({email:"",verify:""}),this.props.resetPassword(this.state.email)}},{key:"render",value:function(){var $=this,z=this.state,q=z.email,Z=z.verify,V=q&&Z&&q===Z;return t.default.createElement(S,i({},this.props,this.state,{handleSubmit:function(fe){return $.handleSubmit(fe)},update:function(fe){return $.setState(fe)},canSubmit:V}))}}]),O}(t.default.Component),w(E,"defaultProps",{amsAction:"reset-password"}),E};e.default=A}(ZF)),ZF}var YF={},kZ;function ipe(){return kZ||(kZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(S){return S&&S.__esModule?S:{default:S}}function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},a.apply(this,arguments)}function s(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function o(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,T(R.key),R)}}function l(S,E,_){return E&&o(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&f(S,E)}function f(S,E){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},f(S,E)}function h(S){var E=v();return function(){var R=w(S),O;if(E){var F=w(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return p(this,O)}}function p(S,E){if(E&&(i(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(S)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(S)}function x(S,E,_){return E=T(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function T(S){var E=A(S,"string");return i(E)==="symbol"?E:String(E)}function A(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var P=function(E){var _;return _=function(R){u(F,R);var O=h(F);function F(){var $;s(this,F);for(var z=arguments.length,q=new Array(z),Z=0;Z<z;Z++)q[Z]=arguments[Z];return $=O.call.apply(O,[this].concat(q)),x(m($),"state",{password:"",verify:""}),$}return l(F,[{key:"handleSubmit",value:function(z){z.preventDefault(),this.setState({password:"",verify:""}),this.props.verifyRequest(this.props.urlArg,this.state.password)}},{key:"render",value:function(){var z=this,q=this.state,Z=q.password,V=q.verify,J=Z&&V&&Z===V;return this.props.user.authed?t.default.createElement(r.Navigate,{to:this.props.redirectTo}):t.default.createElement(E,a({},this.state,this.props,{canSubmit:J,handleSubmit:function(ue){return z.handleSubmit(ue)},update:function(ue){return z.setState(ue)}}))}}]),F}(t.default.Component),x(_,"defaultProps",{amsAction:"verify-request",urlArg:null,showInDirectory:!1,redirectTo:"/"}),_};e.default=P}(YF)),YF}var XF={},JF,DZ;function gRe(){if(DZ)return JF;DZ=1;var e=XI();function t(){this.__data__=new e,this.size=0}return JF=t,JF}var QF,FZ;function vRe(){if(FZ)return QF;FZ=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return QF=e,QF}var e3,LZ;function yRe(){if(LZ)return e3;LZ=1;function e(t){return this.__data__.get(t)}return e3=e,e3}var t3,NZ;function bRe(){if(NZ)return t3;NZ=1;function e(t){return this.__data__.has(t)}return t3=e,t3}var r3,$Z;function _Re(){if($Z)return r3;$Z=1;var e=XI(),t=xU(),r=SU(),n=200;function i(a,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<n-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(a,s),this.size=o.size,this}return r3=i,r3}var n3,zZ;function QI(){if(zZ)return n3;zZ=1;var e=XI(),t=gRe(),r=vRe(),n=yRe(),i=bRe(),a=_Re();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,n3=s,n3}var i3,BZ;function wRe(){if(BZ)return i3;BZ=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return i3=t,i3}var a3,jZ;function xRe(){if(jZ)return a3;jZ=1;function e(t){return this.__data__.has(t)}return a3=e,a3}var o3,UZ;function ape(){if(UZ)return o3;UZ=1;var e=SU(),t=wRe(),r=xRe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,o3=n,o3}var s3,qZ;function SRe(){if(qZ)return s3;qZ=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return s3=e,s3}var l3,HZ;function ope(){if(HZ)return l3;HZ=1;function e(t,r){return t.has(r)}return l3=e,l3}var u3,WZ;function spe(){if(WZ)return u3;WZ=1;var e=ape(),t=SRe(),r=ope(),n=1,i=2;function a(s,o,l,u,f,h){var p=l&n,m=s.length,v=o.length;if(m!=v&&!(p&&v>m))return!1;var w=h.get(s),x=h.get(o);if(w&&x)return w==o&&x==s;var T=-1,A=!0,P=l&i?new e:void 0;for(h.set(s,o),h.set(o,s);++T<m;){var S=s[T],E=o[T];if(u)var _=p?u(E,S,T,o,s,h):u(S,E,T,s,o,h);if(_!==void 0){if(_)continue;A=!1;break}if(P){if(!t(o,function(R,O){if(!r(P,O)&&(S===R||f(S,R,l,u,h)))return P.push(O)})){A=!1;break}}else if(!(S===E||f(S,E,l,u,h))){A=!1;break}}return h.delete(s),h.delete(o),A}return u3=a,u3}var c3,VZ;function lpe(){if(VZ)return c3;VZ=1;var e=av(),t=e.Uint8Array;return c3=t,c3}var f3,GZ;function upe(){if(GZ)return f3;GZ=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return f3=e,f3}var d3,KZ;function eM(){if(KZ)return d3;KZ=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return d3=e,d3}var h3,ZZ;function ERe(){if(ZZ)return h3;ZZ=1;var e=ww(),t=lpe(),r=sP(),n=spe(),i=upe(),a=eM(),s=1,o=2,l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",w="[object String]",x="[object Symbol]",T="[object ArrayBuffer]",A="[object DataView]",P=e?e.prototype:void 0,S=P?P.valueOf:void 0;function E(_,R,O,F,$,z,q){switch(O){case A:if(_.byteLength!=R.byteLength||_.byteOffset!=R.byteOffset)return!1;_=_.buffer,R=R.buffer;case T:return!(_.byteLength!=R.byteLength||!z(new t(_),new t(R)));case l:case u:case p:return r(+_,+R);case f:return _.name==R.name&&_.message==R.message;case m:case w:return _==R+"";case h:var Z=i;case v:var V=F&s;if(Z||(Z=a),_.size!=R.size&&!V)return!1;var J=q.get(_);if(J)return J==R;F|=o,q.set(_,R);var fe=n(Z(_),Z(R),F,$,z,q);return q.delete(_),fe;case x:if(S)return S.call(_)==S.call(R)}return!1}return h3=E,h3}var p3,YZ;function tM(){if(YZ)return p3;YZ=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return p3=e,p3}var m3,XZ;function cpe(){if(XZ)return m3;XZ=1;var e=tM(),t=qh();function r(n,i,a){var s=i(n);return t(n)?s:e(s,a(n))}return m3=r,m3}var g3,JZ;function CRe(){if(JZ)return g3;JZ=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,s=[];++n<i;){var o=t[n];r(o,n,t)&&(s[a++]=o)}return s}return g3=e,g3}var v3,QZ;function fpe(){if(QZ)return v3;QZ=1;function e(){return[]}return v3=e,v3}var y3,eY;function TU(){if(eY)return y3;eY=1;var e=CRe(),t=fpe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(o){return n.call(s,o)}))}:t;return y3=a,y3}var b3,tY;function PRe(){if(tY)return b3;tY=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return b3=e,b3}var _3,rY;function TRe(){if(rY)return _3;rY=1;var e=xw(),t=ov(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return _3=n,_3}var w3,nY;function rM(){if(nY)return w3;nY=1;var e=TRe(),t=ov(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return w3=a,w3}var sC={exports:{}},x3,iY;function RRe(){if(iY)return x3;iY=1;function e(){return!1}return x3=e,x3}sC.exports;var aY;function nM(){return aY||(aY=1,function(e,t){var r=av(),n=RRe(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u}(sC,sC.exports)),sC.exports}var S3,oY;function uP(){if(oY)return S3;oY=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return S3=r,S3}var E3,sY;function RU(){if(sY)return E3;sY=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return E3=t,E3}var C3,lY;function ARe(){if(lY)return C3;lY=1;var e=xw(),t=RU(),r=ov(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",m="[object Set]",v="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",T="[object DataView]",A="[object Float32Array]",P="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",_="[object Int32Array]",R="[object Uint8Array]",O="[object Uint8ClampedArray]",F="[object Uint16Array]",$="[object Uint32Array]",z={};z[A]=z[P]=z[S]=z[E]=z[_]=z[R]=z[O]=z[F]=z[$]=!0,z[n]=z[i]=z[x]=z[a]=z[T]=z[s]=z[o]=z[l]=z[u]=z[f]=z[h]=z[p]=z[m]=z[v]=z[w]=!1;function q(Z){return r(Z)&&t(Z.length)&&!!z[e(Z)]}return C3=q,C3}var P3,uY;function AU(){if(uY)return P3;uY=1;function e(t){return function(r){return t(r)}}return P3=e,P3}var lC={exports:{}};lC.exports;var cY;function OU(){return cY||(cY=1,function(e,t){var r=Xhe(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(lC,lC.exports)),lC.exports}var T3,fY;function IU(){if(fY)return T3;fY=1;var e=ARe(),t=AU(),r=OU(),n=r&&r.isTypedArray,i=n?t(n):e;return T3=i,T3}var R3,dY;function dpe(){if(dY)return R3;dY=1;var e=PRe(),t=rM(),r=qh(),n=nM(),i=uP(),a=IU(),s=Object.prototype,o=s.hasOwnProperty;function l(u,f){var h=r(u),p=!h&&t(u),m=!h&&!p&&n(u),v=!h&&!p&&!m&&a(u),w=h||p||m||v,x=w?e(u.length,String):[],T=x.length;for(var A in u)(f||o.call(u,A))&&!(w&&(A=="length"||m&&(A=="offset"||A=="parent")||v&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,T)))&&x.push(A);return x}return R3=l,R3}var A3,hY;function MU(){if(hY)return A3;hY=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return A3=t,A3}var O3,pY;function hpe(){if(pY)return O3;pY=1;function e(t,r){return function(n){return t(r(n))}}return O3=e,O3}var I3,mY;function ORe(){if(mY)return I3;mY=1;var e=hpe(),t=e(Object.keys,Object);return I3=t,I3}var M3,gY;function IRe(){if(gY)return M3;gY=1;var e=MU(),t=ORe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return M3=i,M3}var k3,vY;function Ew(){if(vY)return k3;vY=1;var e=wU(),t=RU();function r(n){return n!=null&&t(n.length)&&!e(n)}return k3=r,k3}var D3,yY;function cS(){if(yY)return D3;yY=1;var e=dpe(),t=IRe(),r=Ew();function n(i){return r(i)?e(i):t(i)}return D3=n,D3}var F3,bY;function ppe(){if(bY)return F3;bY=1;var e=cpe(),t=TU(),r=cS();function n(i){return e(i,r,t)}return F3=n,F3}var L3,_Y;function MRe(){if(_Y)return L3;_Y=1;var e=ppe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,l,u,f){var h=o&t,p=e(a),m=p.length,v=e(s),w=v.length;if(m!=w&&!h)return!1;for(var x=m;x--;){var T=p[x];if(!(h?T in s:n.call(s,T)))return!1}var A=f.get(a),P=f.get(s);if(A&&P)return A==s&&P==a;var S=!0;f.set(a,s),f.set(s,a);for(var E=h;++x<m;){T=p[x];var _=a[T],R=s[T];if(l)var O=h?l(R,_,T,s,a,f):l(_,R,T,a,s,f);if(!(O===void 0?_===R||u(_,R,o,l,f):O)){S=!1;break}E||(E=T=="constructor")}if(S&&!E){var F=a.constructor,$=s.constructor;F!=$&&"constructor"in a&&"constructor"in s&&!(typeof F=="function"&&F instanceof F&&typeof $=="function"&&$ instanceof $)&&(S=!1)}return f.delete(a),f.delete(s),S}return L3=i,L3}var N3,wY;function kRe(){if(wY)return N3;wY=1;var e=Sw(),t=av(),r=e(t,"DataView");return N3=r,N3}var $3,xY;function DRe(){if(xY)return $3;xY=1;var e=Sw(),t=av(),r=e(t,"Promise");return $3=r,$3}var z3,SY;function mpe(){if(SY)return z3;SY=1;var e=Sw(),t=av(),r=e(t,"Set");return z3=r,z3}var B3,EY;function FRe(){if(EY)return B3;EY=1;var e=Sw(),t=av(),r=e(t,"WeakMap");return B3=r,B3}var j3,CY;function cP(){if(CY)return j3;CY=1;var e=kRe(),t=xU(),r=DRe(),n=mpe(),i=FRe(),a=xw(),s=Jhe(),o="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=s(e),v=s(t),w=s(r),x=s(n),T=s(i),A=a;return(e&&A(new e(new ArrayBuffer(1)))!=p||t&&A(new t)!=o||r&&A(r.resolve())!=u||n&&A(new n)!=f||i&&A(new i)!=h)&&(A=function(P){var S=a(P),E=S==l?P.constructor:void 0,_=E?s(E):"";if(_)switch(_){case m:return p;case v:return o;case w:return u;case x:return f;case T:return h}return S}),j3=A,j3}var U3,PY;function LRe(){if(PY)return U3;PY=1;var e=QI(),t=spe(),r=ERe(),n=MRe(),i=cP(),a=qh(),s=nM(),o=IU(),l=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function v(w,x,T,A,P,S){var E=a(w),_=a(x),R=E?f:i(w),O=_?f:i(x);R=R==u?h:R,O=O==u?h:O;var F=R==h,$=O==h,z=R==O;if(z&&s(w)){if(!s(x))return!1;E=!0,F=!1}if(z&&!F)return S||(S=new e),E||o(w)?t(w,x,T,A,P,S):r(w,x,R,T,A,P,S);if(!(T&l)){var q=F&&m.call(w,"__wrapped__"),Z=$&&m.call(x,"__wrapped__");if(q||Z){var V=q?w.value():w,J=Z?x.value():x;return S||(S=new e),P(V,J,T,A,S)}}return z?(S||(S=new e),n(w,x,T,A,P,S)):!1}return U3=v,U3}var q3,TY;function kU(){if(TY)return q3;TY=1;var e=LRe(),t=ov();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,s,r,o)}return q3=r,q3}var H3,RY;function Cw(){if(RY)return H3;RY=1;var e=kU();function t(r,n){return e(r,n)}return H3=t,H3}var AY;function gpe(){return AY||(AY=1,function(e){function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(R)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(vn()),n=a(Cw()),i=["getMessages","preferences","getUserPreferences","updateUserPreferences","updatePassword"];function a(R){return R&&R.__esModule?R:{default:R}}function s(){return s=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var F=arguments[O];for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(R[$]=F[$])}return R},s.apply(this,arguments)}function o(R,O){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);O&&($=$.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),F.push.apply(F,$)}return F}function l(R){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{};O%2?o(Object(F),!0).forEach(function($){u(R,$,F[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(F,$))})}return R}function u(R,O,F){return O=f(O),O in R?Object.defineProperty(R,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[O]=F,R}function f(R){var O=h(R,"string");return t(O)==="symbol"?O:String(O)}function h(R,O){if(t(R)!=="object"||R===null)return R;var F=R[Symbol.toPrimitive];if(F!==void 0){var $=F.call(R,O);if(t($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}function p(R,O){return T(R)||x(R,O)||v(R,O)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(R,O){if(R){if(typeof R=="string")return w(R,O);var F=Object.prototype.toString.call(R).slice(8,-1);if(F==="Object"&&R.constructor&&(F=R.constructor.name),F==="Map"||F==="Set")return Array.from(R);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return w(R,O)}}function w(R,O){(O==null||O>R.length)&&(O=R.length);for(var F=0,$=new Array(O);F<O;F++)$[F]=R[F];return $}function x(R,O){var F=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(F!=null){var $,z,q,Z,V=[],J=!0,fe=!1;try{if(q=(F=F.call(R)).next,O!==0)for(;!(J=($=q.call(F)).done)&&(V.push($.value),V.length!==O);J=!0);}catch(ue){fe=!0,z=ue}finally{try{if(!J&&F.return!=null&&(Z=F.return(),Object(Z)!==Z))return}finally{if(fe)throw z}}return V}}function T(R){if(Array.isArray(R))return R}function A(R,O){if(R==null)return{};var F=P(R,O),$,z;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);for(z=0;z<q.length;z++)$=q[z],!(O.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(R,$)&&(F[$]=R[$])}return F}function P(R,O){if(R==null)return{};var F={},$=Object.keys(R),z,q;for(q=0;q<$.length;q++)z=$[q],!(O.indexOf(z)>=0)&&(F[z]=R[z]);return F}var S={current:"",password:"",verify:""},E=function(O){return function(F){var $=F.getMessages,z=F.preferences,q=F.getUserPreferences,Z=F.updateUserPreferences,V=F.updatePassword,J=A(F,i),fe=r.default.useState(S),ue=p(fe,2),pe=ue[0],ve=ue[1];r.default.useEffect(function(){$()},[$]),r.default.useEffect(function(){q()},[q]);var le=r.default.useCallback(function(Ee){ve(function(Re){return l(l({},Re),Ee)})},[]),se=r.default.useMemo(function(){var Ee=pe.current,Re=pe.password,ft=pe.verify;return Ee&&Re&&Ee!==Re&&Re===ft},[pe]),ge=r.default.useCallback(function(Ee){Ee.preventDefault(),se&&V(pe.current,pe.password)},[V,pe,se]),_e=r.default.useState(z),ke=p(_e,2),Ge=ke[0],ct=ke[1];r.default.useEffect(function(){ct(z)},[z]);var $e=r.default.useMemo(function(){return(0,n.default)(z,Ge)},[z,Ge]),we=r.default.useCallback(function(Ee){Z(Ge)},[Z,Ge]);return r.default.createElement(O,s({},J,pe,{canSubmit:se,handleSubmit:ge,update:le,preferences:Ge,setNewPreferences:ct,updateDisabled:$e,updatePreferences:we}))}},_=E;e.default=_}(XF)),XF}var W3={},OY;function vpe(){return OY||(OY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(S){return S&&S.__esModule?S:{default:S}}function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},a.apply(this,arguments)}function s(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function o(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,T(R.key),R)}}function l(S,E,_){return E&&o(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&f(S,E)}function f(S,E){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},f(S,E)}function h(S){var E=v();return function(){var R=w(S),O;if(E){var F=w(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return p(this,O)}}function p(S,E){if(E&&(i(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(S)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(S)}function x(S,E,_){return E=T(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function T(S){var E=A(S,"string");return i(E)==="symbol"?E:String(E)}function A(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var P=function(E){var _;return _=function(R){u(F,R);var O=h(F);function F(){var $;s(this,F);for(var z=arguments.length,q=new Array(z),Z=0;Z<z;Z++)q[Z]=arguments[Z];return $=O.call.apply(O,[this].concat(q)),x(m($),"state",{password:"",verify:""}),$}return l(F,[{key:"handleSubmit",value:function(z){z.preventDefault(),console.log("handle submit set password",this.props,this.state),this.props.setPassword(this.props.urlArg,this.state.password),this.setState({password:"",verify:""})}},{key:"render",value:function(){var z=this,q=this.state,Z=q.password,V=q.verify,J=Z&&V&&Z===V;return this.props.user.authed?(0,r.redirect)(this.props.redirectTo):t.default.createElement(E,a({},this.state,this.props,{canSubmit:J,handleSubmit:function(ue){return z.handleSubmit(ue)},update:function(ue){return z.setState(ue)}}))}}]),F}(t.default.Component),x(_,"defaultProps",{amsAction:"set-password",urlArg:null,showInDirectory:!1,redirectTo:"/"}),_};e.default=P}(W3)),W3}var V3={},IY;function ype(){return IY||(IY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(E){return E&&E.__esModule?E:{default:E}}function n(E){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(E)}function i(){return i=Object.assign?Object.assign.bind():function(E){for(var _=1;_<arguments.length;_++){var R=arguments[_];for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&(E[O]=R[O])}return E},i.apply(this,arguments)}function a(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function s(E,_){for(var R=0;R<_.length;R++){var O=_[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,A(O.key),O)}}function o(E,_,R){return _&&s(E.prototype,_),Object.defineProperty(E,"prototype",{writable:!1}),E}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(_,R,O){var F=u(_,R);if(F){var $=Object.getOwnPropertyDescriptor(F,R);return $.get?$.get.call(arguments.length<3?_:O):$.value}},l.apply(this,arguments)}function u(E,_){for(;!Object.prototype.hasOwnProperty.call(E,_)&&(E=x(E),E!==null););return E}function f(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),_&&h(E,_)}function h(E,_){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,F){return O.__proto__=F,O},h(E,_)}function p(E){var _=w();return function(){var O=x(E),F;if(_){var $=x(this).constructor;F=Reflect.construct(O,arguments,$)}else F=O.apply(this,arguments);return m(this,F)}}function m(E,_){if(_&&(n(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(E)}function v(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(E){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},x(E)}function T(E,_,R){return _=A(_),_ in E?Object.defineProperty(E,_,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[_]=R,E}function A(E){var _=P(E,"string");return n(_)==="symbol"?_:String(_)}function P(E,_){if(n(E)!=="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var O=R.call(E,_);if(n(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(E)}var S=function(_){var R;return R=function(O){f($,O);var F=p($);function $(){var z;a(this,$);for(var q=arguments.length,Z=new Array(q),V=0;V<q;V++)Z[V]=arguments[V];return z=F.call.apply(F,[this].concat(Z)),T(v(z),"state",{verified:"waiting"}),T(v(z),"MOUNTED",!1),z}return o($,[{key:"setState",value:function(){for(var q,Z=arguments.length,V=new Array(Z),J=0;J<Z;J++)V[J]=arguments[J];this.MOUNTED&&(q=l(x($.prototype),"setState",this)).call.apply(q,[this].concat(V))}},{key:"componentDidMount",value:function(){var q=this;this.MOUNTED=!0,this.props.verifyEmail(this.props.urlArg).then(function(Z){var V=Z.res,J=Z.dispatch,fe=Z.sendSystemMessage;V.error?(J(fe(V.error,{type:"Danger",id:"email-verification-failed"})),q.setState({verified:"failed"})):(J(fe(V.message,{type:"Info",id:"email-verification-succeeded"})),q.setState({verified:"succeeded"}))})}},{key:"componentWillUnmount",value:function(){this.MOUNTED=!1}},{key:"render",value:function(){return t.default.createElement(_,i({},this.props,this.state))}}]),$}(t.default.Component),T(R,"defaultProps",{amsAction:"verify-email",urlArg:null,showInDirectory:!1}),R};e.default=S}(V3)),V3}var G3={},MY;function bpe(){return MY||(MY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=xp();function n(S){return S&&S.__esModule?S:{default:S}}function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},a.apply(this,arguments)}function s(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function o(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,T(R.key),R)}}function l(S,E,_){return E&&o(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&f(S,E)}function f(S,E){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},f(S,E)}function h(S){var E=v();return function(){var R=w(S),O;if(E){var F=w(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return p(this,O)}}function p(S,E){if(E&&(i(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(S)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(S)}function x(S,E,_){return E=T(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function T(S){var E=A(S,"string");return i(E)==="symbol"?E:String(E)}function A(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var P=function(E){var _;return _=function(R){u(F,R);var O=h(F);function F(){var $;s(this,F);for(var z=arguments.length,q=new Array(z),Z=0;Z<z;Z++)q[Z]=arguments[Z];return $=O.call.apply(O,[this].concat(q)),x(m($),"state",{password:"",verify:""}),$}return l(F,[{key:"handleSubmit",value:function(z){z.preventDefault(),this.props.acceptInvite(this.props.urlArg,this.state.password),this.setState({password:"",verify:""})}},{key:"render",value:function(){var z=this,q=this.state,Z=q.password,V=q.verify,J=Z&&V&&Z===V;return this.props.user.authed?(0,r.redirect)(this.props.redirectTo):t.default.createElement(E,a({},this.state,this.props,{canSubmit:J,handleSubmit:function(ue){return z.handleSubmit(ue)},update:function(ue){return z.setState(ue)}}))}}]),F}(t.default.Component),x(_,"defaultProps",{amsAction:"accept-invite",urlArg:null,showInDirectory:!1,redirectTo:"/"}),_};e.default=P}(G3)),G3}var K3={},kY;function _pe(){return kY||(kY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(A){return A&&A.__esModule?A:{default:A}}function n(A){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},n(A)}function i(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function a(A,P){for(var S=0;S<P.length;S++){var E=P[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,w(E.key),E)}}function s(A,P,S){return P&&a(A.prototype,P),Object.defineProperty(A,"prototype",{writable:!1}),A}function o(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&l(A,P)}function l(A,P){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,_){return E.__proto__=_,E},l(A,P)}function u(A){var P=p();return function(){var E=m(A),_;if(P){var R=m(this).constructor;_=Reflect.construct(E,arguments,R)}else _=E.apply(this,arguments);return f(this,_)}}function f(A,P){if(P&&(n(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(A)}function h(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(A){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},m(A)}function v(A,P,S){return P=w(P),P in A?Object.defineProperty(A,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):A[P]=S,A}function w(A){var P=x(A,"string");return n(P)==="symbol"?P:String(P)}function x(A,P){if(n(A)!=="object"||A===null)return A;var S=A[Symbol.toPrimitive];if(S!==void 0){var E=S.call(A,P);if(n(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(A)}var T=function(P){var S;return S=function(E){o(R,E);var _=u(R);function R(){return i(this,R),_.apply(this,arguments)}return s(R,[{key:"render",value:function(){return t.default.createElement(P,this.props)}}]),R}(t.default.Component),v(S,"defaultProps",{amsAction:"directory",showInDirectory:!1}),S};e.default=T}(K3)),K3}var Z3={},DY;function wpe(){return DY||(DY=1,function(e){function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(_)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(vn()),n=["updatePassword"];function i(_){return _&&_.__esModule?_:{default:_}}function a(){return a=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(_[F]=O[F])}return _},a.apply(this,arguments)}function s(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(_);R&&(F=F.filter(function($){return Object.getOwnPropertyDescriptor(_,$).enumerable})),O.push.apply(O,F)}return O}function o(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?s(Object(O),!0).forEach(function(F){l(_,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):s(Object(O)).forEach(function(F){Object.defineProperty(_,F,Object.getOwnPropertyDescriptor(O,F))})}return _}function l(_,R,O){return R=u(R),R in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function u(_){var R=f(_,"string");return t(R)==="symbol"?R:String(R)}function f(_,R){if(t(_)!=="object"||_===null)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var F=O.call(_,R);if(t(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}function h(_,R){return x(_)||w(_,R)||m(_,R)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(_,R){if(_){if(typeof _=="string")return v(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return v(_,R)}}function v(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function w(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R!==0)for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function x(_){if(Array.isArray(_))return _}function T(_,R){if(_==null)return{};var O=A(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function A(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var P={current:"",password:"",verify:""},S=function(R){return function(O){var F=O.updatePassword,$=T(O,n),z=r.default.useState(P),q=h(z,2),Z=q[0],V=q[1],J=r.default.useCallback(function(pe){V(function(ve){return o(o({},ve),pe)})},[]),fe=r.default.useMemo(function(){var pe=Z.current,ve=Z.password,le=Z.verify;return pe&&ve&&pe!==ve&&ve===le},[Z]),ue=r.default.useCallback(function(pe){pe.preventDefault(),fe&&F(Z.current,Z.password)},[F,Z,fe]);return r.default.createElement(R,a({},$,Z,{canSubmit:fe,handleSubmit:ue,update:J}))}},E=S;e.default=E}(Z3)),Z3}var Y3={},FY;function xpe(){return FY||(FY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=["requests"];function n(q){return q&&q.__esModule?q:{default:q}}function i(q){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},i(q)}function a(){return a=Object.assign?Object.assign.bind():function(q){for(var Z=1;Z<arguments.length;Z++){var V=arguments[Z];for(var J in V)Object.prototype.hasOwnProperty.call(V,J)&&(q[J]=V[J])}return q},a.apply(this,arguments)}function s(q,Z){return h(q)||f(q,Z)||l(q,Z)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(q,Z){if(q){if(typeof q=="string")return u(q,Z);var V=Object.prototype.toString.call(q).slice(8,-1);if(V==="Object"&&q.constructor&&(V=q.constructor.name),V==="Map"||V==="Set")return Array.from(q);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return u(q,Z)}}function u(q,Z){(Z==null||Z>q.length)&&(Z=q.length);for(var V=0,J=new Array(Z);V<Z;V++)J[V]=q[V];return J}function f(q,Z){var V=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(V!=null){var J,fe,ue,pe,ve=[],le=!0,se=!1;try{if(ue=(V=V.call(q)).next,Z!==0)for(;!(le=(J=ue.call(V)).done)&&(ve.push(J.value),ve.length!==Z);le=!0);}catch(ge){se=!0,fe=ge}finally{try{if(!le&&V.return!=null&&(pe=V.return(),Object(pe)!==pe))return}finally{if(se)throw fe}}return ve}}function h(q){if(Array.isArray(q))return q}function p(q,Z){if(q==null)return{};var V=m(q,Z),J,fe;if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(q);for(fe=0;fe<ue.length;fe++)J=ue[fe],!(Z.indexOf(J)>=0)&&Object.prototype.propertyIsEnumerable.call(q,J)&&(V[J]=q[J])}return V}function m(q,Z){if(q==null)return{};var V={},J=Object.keys(q),fe,ue;for(ue=0;ue<J.length;ue++)fe=J[ue],!(Z.indexOf(fe)>=0)&&(V[fe]=q[fe]);return V}function v(q,Z){if(!(q instanceof Z))throw new TypeError("Cannot call a class as a function")}function w(q,Z){for(var V=0;V<Z.length;V++){var J=Z[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(q,F(J.key),J)}}function x(q,Z,V){return Z&&w(q.prototype,Z),Object.defineProperty(q,"prototype",{writable:!1}),q}function T(q,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),Z&&A(q,Z)}function A(q,Z){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,fe){return J.__proto__=fe,J},A(q,Z)}function P(q){var Z=_();return function(){var J=R(q),fe;if(Z){var ue=R(this).constructor;fe=Reflect.construct(J,arguments,ue)}else fe=J.apply(this,arguments);return S(this,fe)}}function S(q,Z){if(Z&&(i(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(q)}function E(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(q){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},R(q)}function O(q,Z,V){return Z=F(Z),Z in q?Object.defineProperty(q,Z,{value:V,enumerable:!0,configurable:!0,writable:!0}):q[Z]=V,q}function F(q){var Z=$(q,"string");return i(Z)==="symbol"?Z:String(Z)}function $(q,Z){if(i(q)!=="object"||q===null)return q;var V=q[Symbol.toPrimitive];if(V!==void 0){var J=V.call(q,Z);if(i(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(q)}var z=function(Z){var V;return V=function(J){T(ue,J);var fe=P(ue);function ue(){return v(this,ue),fe.apply(this,arguments)}return x(ue,[{key:"render",value:function(){var ve=this.props,le=ve.requests,se=p(ve,r),ge=le.reduce(function($e,we){return we.state==="pending"?$e[0].push(we):we.state==="awaiting"?$e[1].push(we):we.state==="rejected"&&$e[2].push(we),$e},[[],[],[]]),_e=s(ge,3),ke=_e[0],Ge=_e[1],ct=_e[2];return le.length?t.default.createElement(Z,a({},se,{pending:ke,awaiting:Ge,rejected:ct})):null}}]),ue}(t.default.Component),O(V,"defaultProps",{amsAction:"requests",authLevel:5}),V};e.default=z}(Y3)),Y3}var X3={},LY;function Spe(){return LY||(LY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(P){return P&&P.__esModule?P:{default:P}}function n(P){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(P)}function i(){return i=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},i.apply(this,arguments)}function a(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function s(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,x(_.key),_)}}function o(P,S,E){return S&&s(P.prototype,S),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),S&&u(P,S)}function u(P,S){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,R){return _.__proto__=R,_},u(P,S)}function f(P){var S=m();return function(){var _=v(P),R;if(S){var O=v(this).constructor;R=Reflect.construct(_,arguments,O)}else R=_.apply(this,arguments);return h(this,R)}}function h(P,S){if(S&&(n(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(P){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},v(P)}function w(P,S,E){return S=x(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function x(P){var S=T(P,"string");return n(S)==="symbol"?S:String(S)}function T(P,S){if(n(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(n(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}var A=function(S){var E;return E=function(_){l(O,_);var R=f(O);function O(){var F;a(this,O);for(var $=arguments.length,z=new Array($),q=0;q<$;q++)z[q]=arguments[q];return F=R.call.apply(R,[this].concat(z)),w(p(F),"state",{email:"",verify:"",group:null}),F}return o(O,[{key:"handleSubmit",value:function($){$.preventDefault(),this.props.sendInvite(this.state.email,this.state.group.name)}},{key:"render",value:function(){var $=this,z=this.state,q=z.email,Z=z.verify,V=z.group,J=q&&Z&&V&&q===Z;return t.default.createElement(S,i({},this.props,this.state,{handleSubmit:function(ue){return $.handleSubmit(ue)},update:function(ue){return $.setState(ue)},canSubmit:J}))}}]),O}(t.default.Component),w(E,"defaultProps",{amsAction:"send-invite",authLevel:5}),E};e.default=A}(X3)),X3}var J3={},NY;function Epe(){return NY||(NY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(P){return P&&P.__esModule?P:{default:P}}function n(P){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(P)}function i(){return i=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},i.apply(this,arguments)}function a(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function s(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,x(_.key),_)}}function o(P,S,E){return S&&s(P.prototype,S),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),S&&u(P,S)}function u(P,S){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,R){return _.__proto__=R,_},u(P,S)}function f(P){var S=m();return function(){var _=v(P),R;if(S){var O=v(this).constructor;R=Reflect.construct(_,arguments,O)}else R=_.apply(this,arguments);return h(this,R)}}function h(P,S){if(S&&(n(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(P){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},v(P)}function w(P,S,E){return S=x(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function x(P){var S=T(P,"string");return n(S)==="symbol"?S:String(S)}function T(P,S){if(n(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(n(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}var A=function(S){var E;return E=function(_){l(O,_);var R=f(O);function O(){var F;a(this,O);for(var $=arguments.length,z=new Array($),q=0;q<$;q++)z[q]=arguments[q];return F=R.call.apply(R,[this].concat(z)),w(p(F),"state",{group:null,authLevel:-1}),F}return o(O,[{key:"handleSubmit",value:function($){$.preventDefault();var z=this.state,q=z.group,Z=z.authLevel;this.props.assignToProject(q.name,Z),this.setState({group:null,authLevel:-1})}},{key:"render",value:function(){var $=this,z=this.props.user,q=this.state,Z=q.group,V=q.authLevel,J=Z&&V>=0&&z.authLevel>=V;return t.default.createElement(S,i({},this.props,this.state,{groups:this.props.otherGroups,update:function(ue){return $.setState(ue)},canSubmit:J,handleSubmit:function(ue){return $.handleSubmit(ue)}}))}}]),O}(t.default.Component),w(E,"defaultProps",{amsAction:"assign-to-project",authLevel:5}),E};e.default=A}(J3)),J3}var Q3={},$Y;function Cpe(){return $Y||($Y=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(P){return P&&P.__esModule?P:{default:P}}function n(P){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(P)}function i(){return i=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},i.apply(this,arguments)}function a(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function s(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,x(_.key),_)}}function o(P,S,E){return S&&s(P.prototype,S),Object.defineProperty(P,"prototype",{writable:!1}),P}function l(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),S&&u(P,S)}function u(P,S){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,R){return _.__proto__=R,_},u(P,S)}function f(P){var S=m();return function(){var _=v(P),R;if(S){var O=v(this).constructor;R=Reflect.construct(_,arguments,O)}else R=_.apply(this,arguments);return h(this,R)}}function h(P,S){if(S&&(n(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(P){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},v(P)}function w(P,S,E){return S=x(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function x(P){var S=T(P,"string");return n(S)==="symbol"?S:String(S)}function T(P,S){if(n(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(n(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}var A=function(S){var E;return E=function(_){l(O,_);var R=f(O);function O(){var F;a(this,O);for(var $=arguments.length,z=new Array($),q=0;q<$;q++)z[q]=arguments[q];return F=R.call.apply(R,[this].concat(z)),w(p(F),"state",{group:"",authLevel:-1}),F}return o(O,[{key:"handleSubmit",value:function($){$.preventDefault();var z=this.state,q=z.group,Z=z.authLevel;this.props.createAndAssign(q,Z),this.setState({group:"",authLevel:-1})}},{key:"render",value:function(){var $=this,z=this.props.user,q=this.state,Z=q.group,V=q.authLevel,J=Z&&V>=0&&z.authLevel>=V;return t.default.createElement(S,i({},this.props,this.state,{groups:this.props.otherGroups,update:function(ue){return $.setState(ue)},canSubmit:J,handleSubmit:function(ue){return $.handleSubmit(ue)}}))}}]),O}(t.default.Component),w(E,"defaultProps",{amsAction:"create-group",authLevel:5}),E};e.default=A}(Q3)),Q3}var eL={},zY;function NRe(){return zY||(zY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=i(Cw()),n=["preferences","getUserPreferences","updateUserPreferences"];function i(x){return x&&x.__esModule?x:{default:x}}function a(){return a=Object.assign?Object.assign.bind():function(x){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(x[P]=A[P])}return x},a.apply(this,arguments)}function s(x,T){return h(x)||f(x,T)||l(x,T)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(x,T){if(x){if(typeof x=="string")return u(x,T);var A=Object.prototype.toString.call(x).slice(8,-1);if(A==="Object"&&x.constructor&&(A=x.constructor.name),A==="Map"||A==="Set")return Array.from(x);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return u(x,T)}}function u(x,T){(T==null||T>x.length)&&(T=x.length);for(var A=0,P=new Array(T);A<T;A++)P[A]=x[A];return P}function f(x,T){var A=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(A!=null){var P,S,E,_,R=[],O=!0,F=!1;try{if(E=(A=A.call(x)).next,T!==0)for(;!(O=(P=E.call(A)).done)&&(R.push(P.value),R.length!==T);O=!0);}catch($){F=!0,S=$}finally{try{if(!O&&A.return!=null&&(_=A.return(),Object(_)!==_))return}finally{if(F)throw S}}return R}}function h(x){if(Array.isArray(x))return x}function p(x,T){if(x==null)return{};var A=m(x,T),P,S;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(x);for(S=0;S<E.length;S++)P=E[S],!(T.indexOf(P)>=0)&&Object.prototype.propertyIsEnumerable.call(x,P)&&(A[P]=x[P])}return A}function m(x,T){if(x==null)return{};var A={},P=Object.keys(x),S,E;for(E=0;E<P.length;E++)S=P[E],!(T.indexOf(S)>=0)&&(A[S]=x[S]);return A}var v=function(T){return function(A){var P=A.preferences,S=A.getUserPreferences,E=A.updateUserPreferences,_=p(A,n);t.default.useEffect(function(){S()},[S]);var R=t.default.useState(P),O=s(R,2),F=O[0],$=O[1];t.default.useEffect(function(){$(P)},[P]);var z=t.default.useMemo(function(){return(0,r.default)(P,F)},[P,F]),q=t.default.useCallback(function(Z){E(F)},[E,F]);return t.default.createElement(T,a({},_,{preferences:F,setNewPreferences:$,updateDisabled:z,updatePreferences:q}))}},w=v;e.default=w}(eL)),eL}var tL={},BY;function $Re(){return BY||(BY=1,function(e){function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(_)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(vn()),n=a(Cw()),i=["slacker","preferences","getSlackUserFromEmail","getUserPreferences","updateUserPreferences"];function a(_){return _&&_.__esModule?_:{default:_}}function s(){return s=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(_[F]=O[F])}return _},s.apply(this,arguments)}function o(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(_);R&&(F=F.filter(function($){return Object.getOwnPropertyDescriptor(_,$).enumerable})),O.push.apply(O,F)}return O}function l(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?o(Object(O),!0).forEach(function(F){u(_,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(F){Object.defineProperty(_,F,Object.getOwnPropertyDescriptor(O,F))})}return _}function u(_,R,O){return R=f(R),R in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function f(_){var R=h(_,"string");return t(R)==="symbol"?R:String(R)}function h(_,R){if(t(_)!=="object"||_===null)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var F=O.call(_,R);if(t(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}function p(_,R){return T(_)||x(_,R)||v(_,R)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(_,R){if(_){if(typeof _=="string")return w(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return w(_,R)}}function w(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function x(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R!==0)for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function T(_){if(Array.isArray(_))return _}function A(_,R){if(_==null)return{};var O=P(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function P(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var S=function(R){return function(O){var F=O.slacker,$=O.preferences,z=O.getSlackUserFromEmail,q=O.getUserPreferences,Z=O.updateUserPreferences,V=A(O,i);r.default.useEffect(function(){q()},[q]);var J=r.default.useState($),fe=p(J,2),ue=fe[0],pe=fe[1],ve=r.default.useState(null),le=p(ve,2),se=le[0],ge=le[1],_e=r.default.useState(!1),ke=p(_e,2),Ge=ke[0],ct=ke[1];r.default.useEffect(function(){pe($)},[$]),r.default.useEffect(function(){pe(function(ft){return l(l({},ft),{},{slackUserId:F.id})})},[F]);var $e=r.default.useCallback(function(ft){pe(l(l({},$),{},{receiveSlack:ft}))},[pe,$]),we=r.default.useCallback(function(ft){ft.preventDefault(),se&&(ct(!0),z(se).then(function(){return ct(!1)}))},[z,se]),Ee=r.default.useMemo(function(){return ue.receiveSlack&&!ue.slackUserId?!0:(0,n.default)($,ue)},[$,ue]),Re=r.default.useCallback(function(ft){Z(ue)},[Z,ue]);return r.default.createElement(R,s({},V,{loading:Ge,preferences:$,newPreferences:ue,setNewPreferences:$e,slackEmail:se,setSlackEmail:ge,getSlackUserFromEmail:we,updateDisabled:Ee,updateSlackPreferences:Re}))}},E=S;e.default=E}(tL)),tL}var rL={},jY;function zRe(){return jY||(jY=1,function(e){function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(_)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(vn()),n=a(Cw()),i=["preferences","getUserPreferences","updateUserPreferences"];function a(_){return _&&_.__esModule?_:{default:_}}function s(){return s=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(_[F]=O[F])}return _},s.apply(this,arguments)}function o(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(_);R&&(F=F.filter(function($){return Object.getOwnPropertyDescriptor(_,$).enumerable})),O.push.apply(O,F)}return O}function l(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?o(Object(O),!0).forEach(function(F){u(_,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(F){Object.defineProperty(_,F,Object.getOwnPropertyDescriptor(O,F))})}return _}function u(_,R,O){return R=f(R),R in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function f(_){var R=h(_,"string");return t(R)==="symbol"?R:String(R)}function h(_,R){if(t(_)!=="object"||_===null)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var F=O.call(_,R);if(t(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}function p(_,R){return T(_)||x(_,R)||v(_,R)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(_,R){if(_){if(typeof _=="string")return w(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return w(_,R)}}function w(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function x(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R!==0)for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function T(_){if(Array.isArray(_))return _}function A(_,R){if(_==null)return{};var O=P(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function P(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var S=function(R){return function(O){var F=O.preferences,$=O.getUserPreferences,z=O.updateUserPreferences,q=A(O,i);r.default.useEffect(function(){$()},[$]);var Z=r.default.useState(F),V=p(Z,2),J=V[0],fe=V[1];r.default.useEffect(function(){fe(F)},[F]);var ue=r.default.useCallback(function(le){fe(l(l({},F),{},{receiveEmail:le}))},[fe,F]),pe=r.default.useMemo(function(){return(0,n.default)(F,J)},[F,J]),ve=r.default.useCallback(function(le){z(J)},[z,J]);return r.default.createElement(R,s({},q,{newPreferences:J,setNewPreferences:ue,updateDisabled:pe,updateEmailPreferences:ve}))}},E=S;e.default=E}(rL)),rL}var nL={},UY;function Ppe(){return UY||(UY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=["messages","viewMessages","deleteMessages","getMessages"];function n(P){return P&&P.__esModule?P:{default:P}}function i(){return i=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},i.apply(this,arguments)}function a(P){return l(P)||o(P)||h(P)||s()}function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function l(P){if(Array.isArray(P))return p(P)}function u(P,S){return v(P)||m(P,S)||h(P,S)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(P,S){if(P){if(typeof P=="string")return p(P,S);var E=Object.prototype.toString.call(P).slice(8,-1);if(E==="Object"&&P.constructor&&(E=P.constructor.name),E==="Map"||E==="Set")return Array.from(P);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return p(P,S)}}function p(P,S){(S==null||S>P.length)&&(S=P.length);for(var E=0,_=new Array(S);E<S;E++)_[E]=P[E];return _}function m(P,S){var E=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(E!=null){var _,R,O,F,$=[],z=!0,q=!1;try{if(O=(E=E.call(P)).next,S!==0)for(;!(z=(_=O.call(E)).done)&&($.push(_.value),$.length!==S);z=!0);}catch(Z){q=!0,R=Z}finally{try{if(!z&&E.return!=null&&(F=E.return(),Object(F)!==F))return}finally{if(q)throw R}}return $}}function v(P){if(Array.isArray(P))return P}function w(P,S){if(P==null)return{};var E=x(P,S),_,R;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(P);for(R=0;R<O.length;R++)_=O[R],!(S.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(P,_)&&(E[_]=P[_])}return E}function x(P,S){if(P==null)return{};var E={},_=Object.keys(P),R,O;for(O=0;O<_.length;O++)R=_[O],!(S.indexOf(R)>=0)&&(E[R]=P[R]);return E}var T=function(S){return function(E){var _=E.messages,R=E.viewMessages,O=E.deleteMessages,F=E.getMessages,$=w(E,r);t.default.useEffect(function(){F()},[]);var z=t.default.useMemo(function(){return _.reduce(function(_e,ke){return ke.deleted?_e[1].push(ke):_e[0].push(ke),_e},[[],[]])},[_]),q=u(z,2),Z=q[0],V=q[1],J=t.default.useState([]),fe=u(J,2),ue=fe[0],pe=fe[1],ve=t.default.useCallback(function(_e){pe(function(ke){return ke.includes(_e)?ke.filter(function(Ge){return Ge!==_e}):[].concat(a(ke),[_e])})},[]),le=t.default.useCallback(function(){pe(function(_e){return _e.length?[]:_.map(function(ke){return ke.id})})},[_]),se=t.default.useCallback(function(){R(ue)},[R,ue]),ge=t.default.useCallback(function(){pe([]),O(ue)},[O,ue]);return t.default.createElement(S,i({},$,{toggleSelected:ve,viewMessages:R,viewSelected:se,deleteMessages:O,deleteSelected:ge,toggleAll:le,selected:ue,messages:Z,deleted:V}))}},A=T;e.default=A}(nL)),nL}var iL={},aL={},qY;function DU(){return qY||(qY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sendSystemMessage=e.dismissSystemMessage=e.default=void 0;function t(T){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(T)}function r(T,A){var P=Object.keys(T);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(T);A&&(S=S.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),P.push.apply(P,S)}return P}function n(T){for(var A=1;A<arguments.length;A++){var P=arguments[A]!=null?arguments[A]:{};A%2?r(Object(P),!0).forEach(function(S){i(T,S,P[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(P)):r(Object(P)).forEach(function(S){Object.defineProperty(T,S,Object.getOwnPropertyDescriptor(P,S))})}return T}function i(T,A,P){return A=a(A),A in T?Object.defineProperty(T,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[A]=P,T}function a(T){var A=s(T,"string");return t(A)==="symbol"?A:String(A)}function s(T,A){if(t(T)!=="object"||T===null)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var S=P.call(T,A);if(t(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(T)}var o="SEND_SYSTEM_MESSAGE",l="DISMISS_SYSTEM_MESSAGE",u=0,f=function(){return"system-message-".concat(++u)},h=["Danger","Warning","Success","Info"],p={duration:7500,type:h[0],onDismiss:function(){},onConfirm:null},m=function(A){return A.id||(A.id=f()),h.includes(A.type)||(A.type=h[0]),A},v=function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(S){return Promise.resolve(S({type:o,message:A,options:m(n(n({},p),P))}))}};e.sendSystemMessage=v;var w=function(A){return function(P){return Promise.resolve(P({type:l,id:A}))}};e.dismissSystemMessage=w;var x=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1?arguments[1]:void 0;switch(P.type){case o:{var S=A.filter(function(E){var _=E.id;return _!==P.options.id});return S.push(n({message:P.message},P.options)),S}case l:return A.filter(function(E){var _=E.id;return _!==P.id});default:return A}};e.default=x}(aL)),aL}var HY;function Tpe(){return HY||(HY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.postMessageWrapper=e.default=e.MessageTypes=void 0;var t=o(vn()),r=uS(),n=DU(),i=vU(),a=sg(),s=["getUsers","getGroups","users","groups","projectName","postMessage","sendSystemMessage"];function o(q){return q&&q.__esModule?q:{default:q}}function l(q){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},l(q)}function u(){return u=Object.assign?Object.assign.bind():function(q){for(var Z=1;Z<arguments.length;Z++){var V=arguments[Z];for(var J in V)Object.prototype.hasOwnProperty.call(V,J)&&(q[J]=V[J])}return q},u.apply(this,arguments)}function f(q,Z){return w(q)||v(q,Z)||p(q,Z)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(q,Z){if(q){if(typeof q=="string")return m(q,Z);var V=Object.prototype.toString.call(q).slice(8,-1);if(V==="Object"&&q.constructor&&(V=q.constructor.name),V==="Map"||V==="Set")return Array.from(q);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return m(q,Z)}}function m(q,Z){(Z==null||Z>q.length)&&(Z=q.length);for(var V=0,J=new Array(Z);V<Z;V++)J[V]=q[V];return J}function v(q,Z){var V=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(V!=null){var J,fe,ue,pe,ve=[],le=!0,se=!1;try{if(ue=(V=V.call(q)).next,Z!==0)for(;!(le=(J=ue.call(V)).done)&&(ve.push(J.value),ve.length!==Z);le=!0);}catch(ge){se=!0,fe=ge}finally{try{if(!le&&V.return!=null&&(pe=V.return(),Object(pe)!==pe))return}finally{if(se)throw fe}}return ve}}function w(q){if(Array.isArray(q))return q}function x(q,Z){if(q==null)return{};var V=T(q,Z),J,fe;if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(q);for(fe=0;fe<ue.length;fe++)J=ue[fe],!(Z.indexOf(J)>=0)&&Object.prototype.propertyIsEnumerable.call(q,J)&&(V[J]=q[J])}return V}function T(q,Z){if(q==null)return{};var V={},J=Object.keys(q),fe,ue;for(ue=0;ue<J.length;ue++)fe=J[ue],!(Z.indexOf(fe)>=0)&&(V[fe]=q[fe]);return V}function A(q,Z){var V=Object.keys(q);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(q);Z&&(J=J.filter(function(fe){return Object.getOwnPropertyDescriptor(q,fe).enumerable})),V.push.apply(V,J)}return V}function P(q){for(var Z=1;Z<arguments.length;Z++){var V=arguments[Z]!=null?arguments[Z]:{};Z%2?A(Object(V),!0).forEach(function(J){S(q,J,V[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(V)):A(Object(V)).forEach(function(J){Object.defineProperty(q,J,Object.getOwnPropertyDescriptor(V,J))})}return q}function S(q,Z,V){return Z=E(Z),Z in q?Object.defineProperty(q,Z,{value:V,enumerable:!0,configurable:!0,writable:!0}):q[Z]=V,q}function E(q){var Z=_(q,"string");return l(Z)==="symbol"?Z:String(Z)}function _(q,Z){if(l(q)!=="object"||q===null)return q;var V=q[Symbol.toPrimitive];if(V!==void 0){var J=V.call(q,Z);if(l(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(q)}var R=["user","users","group","project"];e.MessageTypes=R;var O={heading:"",message:"",type:"",target:"",filterGroups:[]},F=function(Z,V){var J=V.type,fe=V.payload;switch(J){case"update-state":return P(P({},Z),fe);default:return Z}},$=function(Z){var V=function(pe){var ve=pe.getUsers,le=pe.getGroups,se=pe.users,ge=pe.groups,_e=pe.projectName,ke=pe.postMessage;pe.sendSystemMessage;var Ge=x(pe,s);t.default.useEffect(function(){ve(),le()},[ve,le]);var ct=t.default.useReducer(F,O),$e=f(ct,2),we=$e[0],Ee=$e[1],Re=t.default.useMemo(function(){var ut=we.filterGroups,xt=ut.reduce(function(je,rt){return je[rt]=!0,je},{});return se.filter(function(je){var rt=je.projects;return rt.reduce(function(Ze,yt){return Ze||yt.project_name===_e},!1)}).filter(function(je){var rt=je.groups;return rt.reduce(function(Ze,yt){return Ze||xt[yt]},!ut.length)}).sort(function(je,rt){return je.email.localeCompare(rt.email)})},[se,_e,we]),ft=t.default.useMemo(function(){return ge.filter(function(ut){var xt=ut.projects;return xt.reduce(function(je,rt){return je||rt.project_name===_e},!1)}).sort(function(ut,xt){return ut.name.localeCompare(xt.name)})},[ge,_e]),qe=t.default.useCallback(function(ut){"type"in ut&&(ut.target=""),ut.type==="project"&&(ut.target=_e),Ee({type:"update-state",payload:ut})},[_e,Ee]),dt=t.default.useMemo(function(){var ut=we.heading,xt=we.message,je=we.type,rt=we.target;return!!(ut&&xt&&je&&rt)},[we]),he=t.default.useCallback(function(){if(dt){var ut=we.heading,xt=we.message,je=we.type,rt=we.target;return ke(ut,xt,je,rt)}},[ke,we,dt]);return t.default.createElement(Z,u({},Ge,{canPostMessage:dt,postMessage:he,updatePostState:qe,postState:we,users:Re,groups:ft}))},J=function(pe){return{messages:pe.messages,users:pe.users,groups:pe.groups,projectName:a.Config.PROJECT_NAME}},fe={postMessage:i.postMessage,getMessages:i.getMessages,getUsers:i.getUsers,getGroups:i.getGroups,sendSystemMessage:n.sendSystemMessage};return(0,r.connect)(J,fe)(V)};e.postMessageWrapper=$;var z=$;e.default=z}(iL)),iL}var oL={},WY;function Rpe(){return WY||(WY=1,function(e){function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(R)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(vn()),n=sg(),i=["groups","users","children","getGroups","getUsers","getRequests","getUsersPreferences","getLogins"];function a(R){return R&&R.__esModule?R:{default:R}}function s(){return s=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var F=arguments[O];for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(R[$]=F[$])}return R},s.apply(this,arguments)}function o(R,O){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);O&&($=$.filter(function(z){return Object.getOwnPropertyDescriptor(R,z).enumerable})),F.push.apply(F,$)}return F}function l(R){for(var O=1;O<arguments.length;O++){var F=arguments[O]!=null?arguments[O]:{};O%2?o(Object(F),!0).forEach(function($){u(R,$,F[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(F,$))})}return R}function u(R,O,F){return O=f(O),O in R?Object.defineProperty(R,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[O]=F,R}function f(R){var O=h(R,"string");return t(O)==="symbol"?O:String(O)}function h(R,O){if(t(R)!=="object"||R===null)return R;var F=R[Symbol.toPrimitive];if(F!==void 0){var $=F.call(R,O);if(t($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}function p(R,O){return T(R)||x(R,O)||v(R,O)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(R,O){if(R){if(typeof R=="string")return w(R,O);var F=Object.prototype.toString.call(R).slice(8,-1);if(F==="Object"&&R.constructor&&(F=R.constructor.name),F==="Map"||F==="Set")return Array.from(R);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return w(R,O)}}function w(R,O){(O==null||O>R.length)&&(O=R.length);for(var F=0,$=new Array(O);F<O;F++)$[F]=R[F];return $}function x(R,O){var F=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(F!=null){var $,z,q,Z,V=[],J=!0,fe=!1;try{if(q=(F=F.call(R)).next,O!==0)for(;!(J=($=q.call(F)).done)&&(V.push($.value),V.length!==O);J=!0);}catch(ue){fe=!0,z=ue}finally{try{if(!J&&F.return!=null&&(Z=F.return(),Object(Z)!==Z))return}finally{if(fe)throw z}}return V}}function T(R){if(Array.isArray(R))return R}function A(R,O){if(R==null)return{};var F=P(R,O),$,z;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);for(z=0;z<q.length;z++)$=q[z],!(O.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(R,$)&&(F[$]=R[$])}return F}function P(R,O){if(R==null)return{};var F={},$=Object.keys(R),z,q;for(q=0;q<$.length;q++)z=$[q],!(O.indexOf(z)>=0)&&(F[z]=R[z]);return F}var S=function(O,F){return O.name.toLowerCase()<F.name.toLowerCase()?-1:O.name.toLowerCase()>F.name.toLowerCase()?1:0},E=function(O){return function(F){var $=F.groups,z=$===void 0?[]:$,q=F.users,Z=F.children,V=F.getGroups,J=F.getUsers,fe=F.getRequests,ue=F.getUsersPreferences,pe=F.getLogins,ve=A(F,i),le=n.Config.PROJECT_NAME;r.default.useEffect(function(){V(),J(),fe()},[V,J,fe]),r.default.useEffect(function(){if(!q.some(function(Re){return!!Re.preferences})){var Ee=q.map(function(Re){return Re.email});ue({userEmails:Ee})}},[q]),r.default.useEffect(function(){q.some(function(Ee){return!!Ee.logins})},[pe]);var se=r.default.useMemo(function(){return z.reduce(function(Ee,Re){var ft,qe=Re==null||(ft=Re.projects)===null||ft===void 0?void 0:ft.reduce(function(dt,he){return he.project_name===le?+he.auth_level:dt},-1);return qe>-1?(Re.authLevel=qe,Ee[0].push(Re)):Ee[1].push(Re),Ee},[[],[]])},[z,le]),ge=p(se,2),_e=ge[0],ke=ge[1];_e.sort(S),ke.sort(S);var Ge=r.default.useMemo(function(){return q.length>0?q.reduce(function(Ee,Re){return Re.projects.reduce(function(ft,qe){return ft||qe.project_name===le},!1)?Ee[0].push(Re):Ee[1].push(Re),Ee},[[],[]]):[]},[q,le]),ct=p(Ge,2),$e=ct[0],we=ct[1];return r.default.createElement(O,s({},ve,{project:le,getGroups:V,getUsers:J,getRequests:fe,users:$e,otherUsers:we,groups:_e,otherGroups:ke}),r.default.Children.toArray(Z).map(function(Ee){return r.default.cloneElement(Ee,l(l({},ve),{},{project:le,getGroups:V,getUsers:J,getRequests:fe,users:$e,otherUsers:we,groups:_e,otherGroups:ke}))}))}},_=E;e.default=_}(oL)),oL}var sL={},VY;function BRe(){return VY||(VY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=yU();function n(s){return s&&s.__esModule?s:{default:s}}function i(){return i=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},i.apply(this,arguments)}var a=function(o){return function(l){return t.default.createElement(o,i({},l,(0,r.useAmsApi)()))}};e.default=a}(sL)),sL}var lL={},GY;function jRe(){return GY||(GY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=uS();function n(s){return s&&s.__esModule?s:{default:s}}var i=function(o){var l=function(h){return t.default.createElement(o,h)},u=function(h){return{slacker:h.slacker}};return(0,r.connect)(u)(l)},a=i;e.default=a}(lL)),lL}var uL={},KY;function URe(){return KY||(KY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=uS();function n(s){return s&&s.__esModule?s:{default:s}}var i=function(o){var l=function(h){return t.default.createElement(o,h)},u=function(h){return{preferences:h.preferences}};return(0,r.connect)(u)(l)},a=i;e.default=a}(uL)),uL}var Ag={},cL={},ZY;function Ape(){return ZY||(ZY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultUserState=e.default=void 0;var t=_w();function r(f){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(f)}function n(f,h){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);h&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),p.push.apply(p,m)}return p}function i(f){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?n(Object(p),!0).forEach(function(m){a(f,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(p,m))})}return f}function a(f,h,p){return h=s(h),h in f?Object.defineProperty(f,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[h]=p,f}function s(f){var h=o(f,"string");return r(h)==="symbol"?h:String(h)}function o(f,h){if(r(f)!=="object"||f===null)return f;var p=f[Symbol.toPrimitive];if(p!==void 0){var m=p.call(f,h);if(r(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}var l=function(){return{token:null,groups:[],authLevel:-1,authed:!1,attempts:0,meta:[],id:null,isAuthenticating:!1,email:null}};e.defaultUserState=l;var u=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),p=arguments.length>1?arguments[1]:void 0;switch(p.type){case t.IS_AUTHENTICATING:return i(i({},h),{},{isAuthenticating:!0});case t.UPDATE_USER:return i(i({},h),p.update);case t.USER_LOGIN:{(0,t.setUserToken)(p.user);var m=i(i(i({},h),p.user),{},{authed:!0,isAuthenticating:!1});return++m.attempts,m}case t.AUTH_FAILURE:{(0,t.removeUserToken)();var v=l();return++v.attempts,v}case t.USER_LOGOUT:return(0,t.removeUserToken)(),l();default:return h}};e.default=u}(cL)),cL}var fL={},dL={},YY;function qRe(){return YY||(YY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Hhe(),r=[],n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case t.GET_GROUPS:return s.groups;default:return a}};e.default=n}(dL)),dL}var hL={},XY;function HRe(){return XY||(XY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=GI();function r(f){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(f)}function n(f,h){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);h&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),p.push.apply(p,m)}return p}function i(f){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?n(Object(p),!0).forEach(function(m){a(f,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(p,m))})}return f}function a(f,h,p){return h=s(h),h in f?Object.defineProperty(f,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[h]=p,f}function s(f){var h=o(f,"string");return r(h)==="symbol"?h:String(h)}function o(f,h){if(r(f)!=="object"||f===null)return f;var p=f[Symbol.toPrimitive];if(p!==void 0){var m=p.call(f,h);if(r(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}var l=[],u=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l,p=arguments.length>1?arguments[1]:void 0;switch(p.type){case t.GET_USERS:if(h.some(function(w){return!!w.preferences})||h.some(function(w){return!!w.logins})){var m=p.users.map(function(w){var x,T=(x=h.find(function(A){return A.email===w.email}))!==null&&x!==void 0?x:{};return i(i({},T),w)});return m}else return p.users;case t.GET_USERS_PREFERENCES:var v=h.map(function(w){var x,T;return i(i({},w),{},{preferences:(x=(T=p.preferences.find(function(A){return A.user_email===w.email}))===null||T===void 0?void 0:T.preferences)!==null&&x!==void 0?x:{}})});return v;case t.GET_LOGINS:return h.some(function(w){return!!w.logins})||p.logins.forEach(function(w){var x=w.user_email,T=h.find(function(A){return A.email===x});T&&(T.logins||(T.logins=0),T.logins++,(!T.lastLogin||w.created_at<T.lastLogin)&&(T.lastLogin=w.created_at))}),h;default:return h}};e.default=u}(hL)),hL}var pL={},Og={},JY;function WRe(){if(JY)return Og;JY=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.getProjects=Og.deleteProject=Og.createProject=Og.GET_PROJECTS=void 0;var e=_w(),t=g0(),r=sg();function n(m){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},n(m)}function i(m,v){var w=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);v&&(x=x.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),w.push.apply(w,x)}return w}function a(m){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?i(Object(w),!0).forEach(function(x){s(m,x,w[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(w)):i(Object(w)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(w,x))})}return m}function s(m,v,w){return v=o(v),v in m?Object.defineProperty(m,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):m[v]=w,m}function o(m){var v=l(m,"string");return n(v)==="symbol"?v:String(v)}function l(m,v){if(n(m)!=="object"||m===null)return m;var w=m[Symbol.toPrimitive];if(w!==void 0){var x=w.call(m,v);if(n(x)!=="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(m)}var u="AMS::GET_PROJECTS";Og.GET_PROJECTS=u;var f=function(){return function(v,w){var x=w().user.token;if(x)(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/projects"),{token:x}).then(function(T){T.error?(v((0,e.auth)()),v((0,t.sendSystemMessage)(T.error))):v(a({type:u},T))});else return Promise.resolve()}};Og.getProjects=f;var h=function(v){return function(w,x){var T=x().user.token;if(T)(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/project/create"),{token:T,name:v}).then(function(A){A.error?(w((0,e.auth)()),w((0,t.sendSystemMessage)(A.error))):(w((0,t.sendSystemMessage)(A.message)),w(f()))});else return Promise.resolve()}};Og.createProject=h;var p=function(v){return function(w,x){var T=x().user.token;if(T)(0,r.postJson)("".concat(r.Config.AUTH_HOST,"/project/delete"),{token:T,name:v}).then(function(A){A.error?(w((0,e.auth)()),w((0,t.sendSystemMessage)(A.error))):(w((0,t.sendSystemMessage)(A.message)),w(f()))});else return Promise.resolve()}};return Og.deleteProject=p,Og}var QY;function VRe(){return QY||(QY=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=WRe(),r=[],n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case t.GET_PROJECTS:return s.projects;default:return a}};e.default=n}(pL)),pL}var mL={},eX;function GRe(){return eX||(eX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Whe(),r=[],n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case t.GET_REQUESTS:return s.requests;default:return a}};e.default=n}(mL)),mL}var gL={},tX;function KRe(){return tX||(tX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Vhe();function r(f){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(f)}function n(f,h){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);h&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),p.push.apply(p,m)}return p}function i(f){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?n(Object(p),!0).forEach(function(m){a(f,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(p,m))})}return f}function a(f,h,p){return h=s(h),h in f?Object.defineProperty(f,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[h]=p,f}function s(f){var h=o(f,"string");return r(h)==="symbol"?h:String(h)}function o(f,h){if(r(f)!=="object"||f===null)return f;var p=f[Symbol.toPrimitive];if(p!==void 0){var m=p.call(f,h);if(r(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(f)}var l={receiveEmail:!1,receiveSlack:!1,slackUserId:void 0},u=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l,p=arguments.length>1?arguments[1]:void 0;switch(p.type){case t.GET_PREFERENCES:return i(i({},l),p.preferences);default:return h}};e.default=u}(gL)),gL}var vL={},rX;function ZRe(){return rX||(rX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ghe(),r={profile:{email:void 0},id:void 0},n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case t.GET_SLACK_USER:return s.slacker;default:return a}};e.default=n}(vL)),vL}var yL={},nX;function YRe(){return nX||(nX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Khe(),r=[],n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case t.GET_MESSAGES:return s.messages;default:return a}};e.default=n}(yL)),yL}var iX;function Ope(){return iX||(iX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(Ape()),r=u(qRe()),n=u(HRe()),i=u(VRe()),a=u(GRe()),s=u(KRe()),o=u(ZRe()),l=u(YRe());function u(h){return h&&h.__esModule?h:{default:h}}var f={user:t.default,groups:r.default,users:n.default,projects:i.default,requests:a.default,preferences:s.default,slacker:o.default,avlMessages:l.default};e.default=f}(fL)),fL}var bL={},f_={},aX;function XRe(){if(aX)return f_;aX=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.SystemMessage=f_.ConfirmMessage=void 0;var e=t(vn());function t(S){return S&&S.__esModule?S:{default:S}}function r(S){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},r(S)}function n(){return n=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},n.apply(this,arguments)}function i(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function a(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,w(R.key),R)}}function s(S,E,_){return E&&a(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function o(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&l(S,E)}function l(S,E){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},l(S,E)}function u(S){var E=p();return function(){var R=m(S),O;if(E){var F=m(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return f(this,O)}}function f(S,E){if(E&&(r(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(S)}function h(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(S){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(S)}function v(S,E,_){return E=w(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function w(S){var E=x(S,"string");return r(E)==="symbol"?E:String(E)}function x(S,E){if(r(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(r(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var T=function(E){var _=E.message,R=E.top,O=E.type,F=E.show,$=E.dismiss,z=E.confirm,q=z===void 0?null:z,Z={bgDanger:"bg-red-300 border border-red-400"};return console.log("type",O,R),e.default.createElement("div",{className:"bg-white absolute whitespace-nowrap rounded ".concat(F),style:{top:"".concat(R,"rem")}},e.default.createElement("div",{className:`
          bg-opacity-25 `.concat(Z["bg".concat(O)],`
          rounded px-6 py-2 text-large
        `)},e.default.createElement("div",{className:"flex justify-center "},e.default.createElement("div",{className:"mr-4 p-2"},_),e.default.createElement("button",{onClick:$,className:"px-3 rounded-md hover:bg-white text-xl"},"✕"),q?e.default.createElement("span",{className:"ml-2"},e.default.createElement("button",{onClick:q,className:"px-3 rounded-md hover:bg-white text-xl"},"✓")):null)))},A=function(S){o(_,S);var E=u(_);function _(){var R;i(this,_);for(var O=arguments.length,F=new Array(O),$=0;$<O;$++)F[$]=arguments[$];return R=E.call.apply(E,[this].concat(F)),v(h(R),"state",{show:"show"}),v(h(R),"timeout",null),R}return s(_,[{key:"componentDidMount",value:function(){this.props.duration&&(this.timeout=setTimeout(this.dismiss.bind(this),this.props.duration))}},{key:"dismiss",value:function(){console.log("dismissing"),this.setState({show:"hide"}),clearTimeout(this.timeout),this.timeout=setTimeout(this.props.dismissSystemMessage,750,this.props.id),this.props.onDismiss()}},{key:"render",value:function(){var O=this;return console.log("rendering message",this.props,this.state),e.default.createElement(T,n({},this.props,this.state,{dismiss:function($){return O.dismiss($)}}))}}]),_}(e.default.Component);f_.SystemMessage=A;var P=function(S){o(_,S);var E=u(_);function _(){return i(this,_),E.apply(this,arguments)}return s(_,[{key:"confirm",value:function(){this.setState({show:"hide"}),clearTimeout(this.timeout),console.log("confirm message"),this.timeout=setTimeout(this.props.dismissSystemMessage,750,this.props.id),this.props.onConfirm()}},{key:"render",value:function(){var O=this;return e.default.createElement(T,n({},this.props,this.state,{dismiss:function($){return O.dismiss($)},confirm:function($){return O.confirm($)}}))}}]),_}(A);return f_.ConfirmMessage=P,f_}var oX;function Ipe(){return oX||(oX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=uS(),n=DU(),i=XRe();function a(f){return f&&f.__esModule?f:{default:f}}function s(){return s=Object.assign?Object.assign.bind():function(f){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])}return f},s.apply(this,arguments)}var o=function(h){var p=h.messages,m=h.dismissSystemMessage;return p!=null&&p.length?t.default.createElement("div",{className:"fixed z-50 top-[70px] right-[350px]"},p.map(function(v,w){return v.onConfirm?t.default.createElement(i.ConfirmMessage,s({key:v.id,top:w*3},v,{dismissSystemMessage:m})):t.default.createElement(i.SystemMessage,s({className:"absolute whitespace-nowrap",key:v.id,top:w*3},v,{dismissSystemMessage:m}))})):t.default.createElement("span",null)},l=function(h){return{messages:h.messages}},u=(0,r.connect)(l,{dismissSystemMessage:n.dismissSystemMessage})(o);e.default=u}(bL)),bL}var _L={exports:{}},wL={exports:{}},xL,sX;function q0(){if(sX)return xL;sX=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(O,F)=>{for(var $ in F)e(O,$,{get:F[$],enumerable:!0})},a=(O,F,$,z)=>{if(F&&typeof F=="object"||typeof F=="function")for(let q of r(F))!n.call(O,q)&&q!==$&&e(O,q,{get:()=>F[q],enumerable:!(z=t(F,q))||z.enumerable});return O},s=O=>a(e({},"__esModule",{value:!0}),O),o={};i(o,{__DO_NOT_USE__ActionTypes:()=>m,applyMiddleware:()=>_,bindActionCreators:()=>S,combineReducers:()=>A,compose:()=>E,createStore:()=>w,isAction:()=>R,isPlainObject:()=>v,legacy_createStore:()=>x}),xL=s(o);function l(O){return`Minified Redux error #${O}; visit https://redux.js.org/Errors?code=${O} for the full message or use the non-minified dev environment for full errors. `}var u=typeof Symbol=="function"&&Symbol.observable||"@@observable",f=u,h=()=>Math.random().toString(36).substring(7).split("").join("."),p={INIT:`@@redux/INIT${h()}`,REPLACE:`@@redux/REPLACE${h()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${h()}`},m=p;function v(O){if(typeof O!="object"||O===null)return!1;let F=O;for(;Object.getPrototypeOf(F)!==null;)F=Object.getPrototypeOf(F);return Object.getPrototypeOf(O)===F||Object.getPrototypeOf(O)===null}function w(O,F,$){if(typeof O!="function")throw new Error(l(2));if(typeof F=="function"&&typeof $=="function"||typeof $=="function"&&typeof arguments[3]=="function")throw new Error(l(0));if(typeof F=="function"&&typeof $>"u"&&($=F,F=void 0),typeof $<"u"){if(typeof $!="function")throw new Error(l(1));return $(w)(O,F)}let z=O,q=F,Z=new Map,V=Z,J=0,fe=!1;function ue(){V===Z&&(V=new Map,Z.forEach((ke,Ge)=>{V.set(Ge,ke)}))}function pe(){if(fe)throw new Error(l(3));return q}function ve(ke){if(typeof ke!="function")throw new Error(l(4));if(fe)throw new Error(l(5));let Ge=!0;ue();const ct=J++;return V.set(ct,ke),function(){if(Ge){if(fe)throw new Error(l(6));Ge=!1,ue(),V.delete(ct),Z=null}}}function le(ke){if(!v(ke))throw new Error(l(7));if(typeof ke.type>"u")throw new Error(l(8));if(typeof ke.type!="string")throw new Error(l(17));if(fe)throw new Error(l(9));try{fe=!0,q=z(q,ke)}finally{fe=!1}return(Z=V).forEach(ct=>{ct()}),ke}function se(ke){if(typeof ke!="function")throw new Error(l(10));z=ke,le({type:m.REPLACE})}function ge(){const ke=ve;return{subscribe(Ge){if(typeof Ge!="object"||Ge===null)throw new Error(l(11));function ct(){const we=Ge;we.next&&we.next(pe())}return ct(),{unsubscribe:ke(ct)}},[f](){return this}}}return le({type:m.INIT}),{dispatch:le,subscribe:ve,getState:pe,replaceReducer:se,[f]:ge}}function x(O,F,$){return w(O,F,$)}function T(O){Object.keys(O).forEach(F=>{const $=O[F];if(typeof $(void 0,{type:m.INIT})>"u")throw new Error(l(12));if(typeof $(void 0,{type:m.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(l(13))})}function A(O){const F=Object.keys(O),$={};for(let Z=0;Z<F.length;Z++){const V=F[Z];typeof O[V]=="function"&&($[V]=O[V])}const z=Object.keys($);let q;try{T($)}catch(Z){q=Z}return function(V={},J){if(q)throw q;let fe=!1;const ue={};for(let pe=0;pe<z.length;pe++){const ve=z[pe],le=$[ve],se=V[ve],ge=le(se,J);if(typeof ge>"u")throw J&&J.type,new Error(l(14));ue[ve]=ge,fe=fe||ge!==se}return fe=fe||z.length!==Object.keys(V).length,fe?ue:V}}function P(O,F){return function(...$){return F(O.apply(this,$))}}function S(O,F){if(typeof O=="function")return P(O,F);if(typeof O!="object"||O===null)throw new Error(l(16));const $={};for(const z in O){const q=O[z];typeof q=="function"&&($[z]=P(q,F))}return $}function E(...O){return O.length===0?F=>F:O.length===1?O[0]:O.reduce((F,$)=>(...z)=>F($(...z)))}function _(...O){return F=>($,z)=>{const q=F($,z);let Z=()=>{throw new Error(l(15))};const V={getState:q.getState,dispatch:(fe,...ue)=>Z(fe,...ue)},J=O.map(fe=>fe(V));return Z=E(...J)(q.dispatch),{...q,dispatch:Z}}}function R(O){return v(O)&&"type"in O&&typeof O.type=="string"}return xL}var SL={exports:{}},EL,lX;function JRe(){if(lX)return EL;lX=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(ot,Je)=>{for(var Me in Je)e(ot,Me,{get:Je[Me],enumerable:!0})},a=(ot,Je,Me,Le)=>{if(Je&&typeof Je=="object"||typeof Je=="function")for(let Ye of r(Je))!n.call(ot,Ye)&&Ye!==Me&&e(ot,Ye,{get:()=>Je[Ye],enumerable:!(Le=t(Je,Ye))||Le.enumerable});return ot},s=ot=>a(e({},"__esModule",{value:!0}),ot),o={};i(o,{Immer:()=>rt,applyPatches:()=>gr,castDraft:()=>_n,castImmutable:()=>nn,createDraft:()=>wr,current:()=>yt,enableMapSet:()=>hr,enablePatches:()=>At,finishDraft:()=>Fr,freeze:()=>q,immerable:()=>u,isDraft:()=>m,isDraftable:()=>v,nothing:()=>l,original:()=>T,produce:()=>fr,produceWithPatches:()=>Dt,setAutoFreeze:()=>dr,setUseStrictShallowCopy:()=>Nr}),EL=s(o);var l=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),f=Symbol.for("immer-state");function h(ot,...Je){throw new Error(`[Immer] minified error nr: ${ot}. Full error at: https://bit.ly/3cXEKWf`)}var p=Object.getPrototypeOf;function m(ot){return!!ot&&!!ot[f]}function v(ot){var Je;return ot?x(ot)||Array.isArray(ot)||!!ot[u]||!!((Je=ot.constructor)!=null&&Je[u])||O(ot)||F(ot):!1}var w=Object.prototype.constructor.toString();function x(ot){if(!ot||typeof ot!="object")return!1;let Je=p(ot);if(Je===null)return!0;let Me=Object.hasOwnProperty.call(Je,"constructor")&&Je.constructor;return Me===Object?!0:typeof Me=="function"&&Function.toString.call(Me)===w}function T(ot){return m(ot)||h(15,ot),ot[f].t}function A(ot,Je){P(ot)===0?Reflect.ownKeys(ot).forEach(Me=>{Je(Me,ot[Me],ot)}):ot.forEach((Me,Le)=>Je(Le,Me,ot))}function P(ot){let Je=ot[f];return Je?Je.o:Array.isArray(ot)?1:O(ot)?2:F(ot)?3:0}function S(ot,Je){return P(ot)===2?ot.has(Je):Object.prototype.hasOwnProperty.call(ot,Je)}function E(ot,Je){return P(ot)===2?ot.get(Je):ot[Je]}function _(ot,Je,Me){let Le=P(ot);Le===2?ot.set(Je,Me):Le===3?ot.add(Me):ot[Je]=Me}function R(ot,Je){return ot===Je?ot!==0||1/ot===1/Je:ot!==ot&&Je!==Je}function O(ot){return ot instanceof Map}function F(ot){return ot instanceof Set}function $(ot){return ot.e||ot.t}function z(ot,Je){if(O(ot))return new Map(ot);if(F(ot))return new Set(ot);if(Array.isArray(ot))return Array.prototype.slice.call(ot);let Me=x(ot);if(Je===!0||Je==="class_only"&&!Me){let Le=Object.getOwnPropertyDescriptors(ot);delete Le[f];let Ye=Reflect.ownKeys(Le);for(let gt=0;gt<Ye.length;gt++){let kt=Ye[gt],at=Le[kt];at.writable===!1&&(at.writable=!0,at.configurable=!0),(at.get||at.set)&&(Le[kt]={configurable:!0,writable:!0,enumerable:at.enumerable,value:ot[kt]})}return Object.create(p(ot),Le)}else{let Le=p(ot);if(Le!==null&&Me)return{...ot};let Ye=Object.create(Le);return Object.assign(Ye,ot)}}function q(ot,Je=!1){return V(ot)||m(ot)||!v(ot)||(P(ot)>1&&(ot.set=ot.add=ot.clear=ot.delete=Z),Object.freeze(ot),Je&&Object.entries(ot).forEach(([Me,Le])=>q(Le,!0))),ot}function Z(){h(2)}function V(ot){return Object.isFrozen(ot)}var J={};function fe(ot){let Je=J[ot];return Je||h(0,ot),Je}function ue(ot,Je){J[ot]||(J[ot]=Je)}var pe;function ve(){return pe}function le(ot,Je){return{a:[],i:ot,p:Je,P:!0,d:0}}function se(ot,Je){Je&&(fe("Patches"),ot.f=[],ot.h=[],ot.b=Je)}function ge(ot){_e(ot),ot.a.forEach(Ge),ot.a=null}function _e(ot){ot===pe&&(pe=ot.i)}function ke(ot){return pe=le(pe,ot)}function Ge(ot){let Je=ot[f];Je.o===0||Je.o===1?Je.x():Je.m=!0}function ct(ot,Je){Je.d=Je.a.length;let Me=Je.a[0];return ot!==void 0&&ot!==Me?(Me[f].s&&(ge(Je),h(4)),v(ot)&&(ot=$e(Je,ot),Je.i||Ee(Je,ot)),Je.f&&fe("Patches").T(Me[f].t,ot,Je.f,Je.h)):ot=$e(Je,Me,[]),ge(Je),Je.f&&Je.b(Je.f,Je.h),ot!==l?ot:void 0}function $e(ot,Je,Me){if(V(Je))return Je;let Le=Je[f];if(!Le)return A(Je,(Ye,gt)=>we(ot,Le,Je,Ye,gt,Me)),Je;if(Le.n!==ot)return Je;if(!Le.s)return Ee(ot,Le.t,!0),Le.t;if(!Le.c){Le.c=!0,Le.n.d--;let Ye=Le.e,gt=Ye,kt=!1;Le.o===3&&(gt=new Set(Ye),Ye.clear(),kt=!0),A(gt,(at,Ft)=>we(ot,Le,Ye,at,Ft,Me,kt)),Ee(ot,Ye,!1),Me&&ot.f&&fe("Patches").g(Le,Me,ot.f,ot.h)}return Le.e}function we(ot,Je,Me,Le,Ye,gt,kt){if(m(Ye)){let at=gt&&Je&&Je.o!==3&&!S(Je.r,Le)?gt.concat(Le):void 0,Ft=$e(ot,Ye,at);if(_(Me,Le,Ft),m(Ft))ot.P=!1;else return}else kt&&Me.add(Ye);if(v(Ye)&&!V(Ye)){if(!ot.p.y&&ot.d<1)return;$e(ot,Ye),(!Je||!Je.n.i)&&typeof Le!="symbol"&&Object.prototype.propertyIsEnumerable.call(Me,Le)&&Ee(ot,Ye)}}function Ee(ot,Je,Me=!1){!ot.i&&ot.p.y&&ot.P&&q(Je,Me)}function Re(ot,Je){let Me=Array.isArray(ot),Le={o:Me?1:0,n:Je?Je.n:ve(),s:!1,c:!1,r:{},i:Je,t:ot,u:null,e:null,x:null,l:!1},Ye=Le,gt=ft;Me&&(Ye=[Le],gt=qe);let{revoke:kt,proxy:at}=Proxy.revocable(Ye,gt);return Le.u=at,Le.x=kt,at}var ft={get(ot,Je){if(Je===f)return ot;let Me=$(ot);if(!S(Me,Je))return he(ot,Me,Je);let Le=Me[Je];return ot.c||!v(Le)?Le:Le===dt(ot.t,Je)?(je(ot),ot.e[Je]=Ze(Le,ot)):Le},has(ot,Je){return Je in $(ot)},ownKeys(ot){return Reflect.ownKeys($(ot))},set(ot,Je,Me){let Le=ut($(ot),Je);if(Le!=null&&Le.set)return Le.set.call(ot.u,Me),!0;if(!ot.s){let Ye=dt($(ot),Je),gt=Ye==null?void 0:Ye[f];if(gt&&gt.t===Me)return ot.e[Je]=Me,ot.r[Je]=!1,!0;if(R(Me,Ye)&&(Me!==void 0||S(ot.t,Je)))return!0;je(ot),xt(ot)}return ot.e[Je]===Me&&(Me!==void 0||Je in ot.e)||Number.isNaN(Me)&&Number.isNaN(ot.e[Je])||(ot.e[Je]=Me,ot.r[Je]=!0),!0},deleteProperty(ot,Je){return dt(ot.t,Je)!==void 0||Je in ot.t?(ot.r[Je]=!1,je(ot),xt(ot)):delete ot.r[Je],ot.e&&delete ot.e[Je],!0},getOwnPropertyDescriptor(ot,Je){let Me=$(ot),Le=Reflect.getOwnPropertyDescriptor(Me,Je);return Le&&{writable:!0,configurable:ot.o!==1||Je!=="length",enumerable:Le.enumerable,value:Me[Je]}},defineProperty(){h(11)},getPrototypeOf(ot){return p(ot.t)},setPrototypeOf(){h(12)}},qe={};A(ft,(ot,Je)=>{qe[ot]=function(){return arguments[0]=arguments[0][0],Je.apply(this,arguments)}}),qe.deleteProperty=function(ot,Je){return qe.set.call(this,ot,Je,void 0)},qe.set=function(ot,Je,Me){return ft.set.call(this,ot[0],Je,Me,ot[0])};function dt(ot,Je){let Me=ot[f];return(Me?$(Me):ot)[Je]}function he(ot,Je,Me){var Ye;let Le=ut(Je,Me);return Le?"value"in Le?Le.value:(Ye=Le.get)==null?void 0:Ye.call(ot.u):void 0}function ut(ot,Je){if(!(Je in ot))return;let Me=p(ot);for(;Me;){let Le=Object.getOwnPropertyDescriptor(Me,Je);if(Le)return Le;Me=p(Me)}}function xt(ot){ot.s||(ot.s=!0,ot.i&&xt(ot.i))}function je(ot){ot.e||(ot.e=z(ot.t,ot.n.p.S))}var rt=class{constructor(ot){this.y=!0,this.S=!1,this.produce=(Je,Me,Le)=>{if(typeof Je=="function"&&typeof Me!="function"){let gt=Me;Me=Je;let kt=this;return function(at=gt,...Ft){return kt.produce(at,Tt=>Me.call(this,Tt,...Ft))}}typeof Me!="function"&&h(6),Le!==void 0&&typeof Le!="function"&&h(7);let Ye;if(v(Je)){let gt=ke(this),kt=Ze(Je,void 0),at=!0;try{Ye=Me(kt),at=!1}finally{at?ge(gt):_e(gt)}return se(gt,Le),ct(Ye,gt)}else if(!Je||typeof Je!="object"){if(Ye=Me(Je),Ye===void 0&&(Ye=Je),Ye===l&&(Ye=void 0),this.y&&q(Ye,!0),Le){let gt=[],kt=[];fe("Patches").T(Je,Ye,gt,kt),Le(gt,kt)}return Ye}else h(1,Je)},this.produceWithPatches=(Je,Me)=>{if(typeof Je=="function")return(gt,...kt)=>this.produceWithPatches(gt,at=>Je(at,...kt));let Le,Ye;return[this.produce(Je,Me,(gt,kt)=>{Le=gt,Ye=kt}),Le,Ye]},typeof(ot==null?void 0:ot.autoFreeze)=="boolean"&&this.setAutoFreeze(ot.autoFreeze),typeof(ot==null?void 0:ot.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(ot.useStrictShallowCopy)}createDraft(ot){v(ot)||h(8),m(ot)&&(ot=yt(ot));let Je=ke(this),Me=Ze(ot,void 0);return Me[f].l=!0,_e(Je),Me}finishDraft(ot,Je){let Me=ot&&ot[f];(!Me||!Me.l)&&h(9);let{n:Le}=Me;return se(Le,Je),ct(void 0,Le)}setAutoFreeze(ot){this.y=ot}setUseStrictShallowCopy(ot){this.S=ot}applyPatches(ot,Je){let Me;for(Me=Je.length-1;Me>=0;Me--){let Ye=Je[Me];if(Ye.path.length===0&&Ye.op==="replace"){ot=Ye.value;break}}Me>-1&&(Je=Je.slice(Me+1));let Le=fe("Patches").A;return m(ot)?Le(ot,Je):this.produce(ot,Ye=>Le(Ye,Je))}};function Ze(ot,Je){let Me=O(ot)?fe("MapSet").I(ot,Je):F(ot)?fe("MapSet").D(ot,Je):Re(ot,Je);return(Je?Je.n:ve()).a.push(Me),Me}function yt(ot){return m(ot)||h(10,ot),Vt(ot)}function Vt(ot){if(!v(ot)||V(ot))return ot;let Je=ot[f],Me;if(Je){if(!Je.s)return Je.t;Je.c=!0,Me=z(ot,Je.n.p.S)}else Me=z(ot,!0);return A(Me,(Le,Ye)=>{_(Me,Le,Vt(Ye))}),Je&&(Je.c=!1),Me}function At(){let ot="replace",Je="add",Me="remove";function Le(or,ar,zr,mt){switch(or.o){case 0:case 2:return gt(or,ar,zr,mt);case 1:return Ye(or,ar,zr,mt);case 3:return kt(or,ar,zr,mt)}}function Ye(or,ar,zr,mt){let{t:It,r:Kt}=or,br=or.e;br.length<It.length&&([It,br]=[br,It],[zr,mt]=[mt,zr]);for(let Rr=0;Rr<It.length;Rr++)if(Kt[Rr]&&br[Rr]!==It[Rr]){let jt=ar.concat([Rr]);zr.push({op:ot,path:jt,value:ir(br[Rr])}),mt.push({op:ot,path:jt,value:ir(It[Rr])})}for(let Rr=It.length;Rr<br.length;Rr++){let jt=ar.concat([Rr]);zr.push({op:Je,path:jt,value:ir(br[Rr])})}for(let Rr=br.length-1;It.length<=Rr;--Rr){let jt=ar.concat([Rr]);mt.push({op:Me,path:jt})}}function gt(or,ar,zr,mt){let{t:It,e:Kt}=or;A(or.r,(br,Rr)=>{let jt=E(It,br),Yt=E(Kt,br),Jt=Rr?S(It,br)?ot:Je:Me;if(jt===Yt&&Jt===ot)return;let rr=ar.concat(br);zr.push(Jt===Me?{op:Jt,path:rr}:{op:Jt,path:rr,value:Yt}),mt.push(Jt===Je?{op:Me,path:rr}:Jt===Me?{op:Je,path:rr,value:ir(jt)}:{op:ot,path:rr,value:ir(jt)})})}function kt(or,ar,zr,mt){let{t:It,e:Kt}=or,br=0;It.forEach(Rr=>{if(!Kt.has(Rr)){let jt=ar.concat([br]);zr.push({op:Me,path:jt,value:Rr}),mt.unshift({op:Je,path:jt,value:Rr})}br++}),br=0,Kt.forEach(Rr=>{if(!It.has(Rr)){let jt=ar.concat([br]);zr.push({op:Je,path:jt,value:Rr}),mt.unshift({op:Me,path:jt,value:Rr})}br++})}function at(or,ar,zr,mt){zr.push({op:ot,path:[],value:ar===l?void 0:ar}),mt.push({op:ot,path:[],value:or})}function Ft(or,ar){return ar.forEach(zr=>{let{path:mt,op:It}=zr,Kt=or;for(let Yt=0;Yt<mt.length-1;Yt++){let Jt=P(Kt),rr=mt[Yt];typeof rr!="string"&&typeof rr!="number"&&(rr=""+rr),(Jt===0||Jt===1)&&(rr==="__proto__"||rr==="constructor")&&h(19),typeof Kt=="function"&&rr==="prototype"&&h(19),Kt=E(Kt,rr),typeof Kt!="object"&&h(18,mt.join("/"))}let br=P(Kt),Rr=Tt(zr.value),jt=mt[mt.length-1];switch(It){case ot:switch(br){case 2:return Kt.set(jt,Rr);case 3:h(16);default:return Kt[jt]=Rr}case Je:switch(br){case 1:return jt==="-"?Kt.push(Rr):Kt.splice(jt,0,Rr);case 2:return Kt.set(jt,Rr);case 3:return Kt.add(Rr);default:return Kt[jt]=Rr}case Me:switch(br){case 1:return Kt.splice(jt,1);case 2:return Kt.delete(jt);case 3:return Kt.delete(zr.value);default:return delete Kt[jt]}default:h(17,It)}}),or}function Tt(or){if(!v(or))return or;if(Array.isArray(or))return or.map(Tt);if(O(or))return new Map(Array.from(or.entries()).map(([zr,mt])=>[zr,Tt(mt)]));if(F(or))return new Set(Array.from(or).map(Tt));let ar=Object.create(p(or));for(let zr in or)ar[zr]=Tt(or[zr]);return S(or,u)&&(ar[u]=or[u]),ar}function ir(or){return m(or)?Tt(or):or}ue("Patches",{A:Ft,g:Le,T:at})}function hr(){class ot extends Map{constructor(Ft,Tt){super(),this[f]={o:2,i:Tt,n:Tt?Tt.n:ve(),s:!1,c:!1,e:void 0,r:void 0,t:Ft,u:this,l:!1,m:!1}}get size(){return $(this[f]).size}has(Ft){return $(this[f]).has(Ft)}set(Ft,Tt){let ir=this[f];return kt(ir),(!$(ir).has(Ft)||$(ir).get(Ft)!==Tt)&&(Me(ir),xt(ir),ir.r.set(Ft,!0),ir.e.set(Ft,Tt),ir.r.set(Ft,!0)),this}delete(Ft){if(!this.has(Ft))return!1;let Tt=this[f];return kt(Tt),Me(Tt),xt(Tt),Tt.t.has(Ft)?Tt.r.set(Ft,!1):Tt.r.delete(Ft),Tt.e.delete(Ft),!0}clear(){let Ft=this[f];kt(Ft),$(Ft).size&&(Me(Ft),xt(Ft),Ft.r=new Map,A(Ft.t,Tt=>{Ft.r.set(Tt,!1)}),Ft.e.clear())}forEach(Ft,Tt){let ir=this[f];$(ir).forEach((or,ar,zr)=>{Ft.call(Tt,this.get(ar),ar,this)})}get(Ft){let Tt=this[f];kt(Tt);let ir=$(Tt).get(Ft);if(Tt.c||!v(ir)||ir!==Tt.t.get(Ft))return ir;let or=Ze(ir,Tt);return Me(Tt),Tt.e.set(Ft,or),or}keys(){return $(this[f]).keys()}values(){let Ft=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{let Tt=Ft.next();return Tt.done?Tt:{done:!1,value:this.get(Tt.value)}}}}entries(){let Ft=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{let Tt=Ft.next();if(Tt.done)return Tt;let ir=this.get(Tt.value);return{done:!1,value:[Tt.value,ir]}}}}[Symbol.iterator](){return this.entries()}}function Je(at,Ft){return new ot(at,Ft)}function Me(at){at.e||(at.r=new Map,at.e=new Map(at.t))}class Le extends Set{constructor(Ft,Tt){super(),this[f]={o:3,i:Tt,n:Tt?Tt.n:ve(),s:!1,c:!1,e:void 0,t:Ft,u:this,a:new Map,m:!1,l:!1}}get size(){return $(this[f]).size}has(Ft){let Tt=this[f];return kt(Tt),Tt.e?!!(Tt.e.has(Ft)||Tt.a.has(Ft)&&Tt.e.has(Tt.a.get(Ft))):Tt.t.has(Ft)}add(Ft){let Tt=this[f];return kt(Tt),this.has(Ft)||(gt(Tt),xt(Tt),Tt.e.add(Ft)),this}delete(Ft){if(!this.has(Ft))return!1;let Tt=this[f];return kt(Tt),gt(Tt),xt(Tt),Tt.e.delete(Ft)||(Tt.a.has(Ft)?Tt.e.delete(Tt.a.get(Ft)):!1)}clear(){let Ft=this[f];kt(Ft),$(Ft).size&&(gt(Ft),xt(Ft),Ft.e.clear())}values(){let Ft=this[f];return kt(Ft),gt(Ft),Ft.e.values()}entries(){let Ft=this[f];return kt(Ft),gt(Ft),Ft.e.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(Ft,Tt){let ir=this.values(),or=ir.next();for(;!or.done;)Ft.call(Tt,or.value,or.value,this),or=ir.next()}}function Ye(at,Ft){return new Le(at,Ft)}function gt(at){at.e||(at.e=new Set,at.t.forEach(Ft=>{if(v(Ft)){let Tt=Ze(Ft,at);at.a.set(Ft,Tt),at.e.add(Tt)}else at.e.add(Ft)}))}function kt(at){at.m&&h(3,JSON.stringify($(at)))}ue("MapSet",{I:Je,D:Ye})}var Sr=new rt,fr=Sr.produce,Dt=Sr.produceWithPatches.bind(Sr),dr=Sr.setAutoFreeze.bind(Sr),Nr=Sr.setUseStrictShallowCopy.bind(Sr),gr=Sr.applyPatches.bind(Sr),wr=Sr.createDraft.bind(Sr),Fr=Sr.finishDraft.bind(Sr);function _n(ot){return ot}function nn(ot){return ot}return EL}var uX;function v1(){return uX||(uX=1,SL.exports=JRe()),SL.exports}var CL,cX;function fX(){if(cX)return CL;cX=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(Ze,yt)=>{for(var Vt in yt)e(Ze,Vt,{get:yt[Vt],enumerable:!0})},a=(Ze,yt,Vt,At)=>{if(yt&&typeof yt=="object"||typeof yt=="function")for(let hr of r(yt))!n.call(Ze,hr)&&hr!==Vt&&e(Ze,hr,{get:()=>yt[hr],enumerable:!(At=t(yt,hr))||At.enumerable});return Ze},s=Ze=>a(e({},"__esModule",{value:!0}),Ze),o={};i(o,{createSelector:()=>je,createSelectorCreator:()=>xt,createStructuredSelector:()=>rt,lruMemoize:()=>we,referenceEqualityCheck:()=>ct,setGlobalDevModeChecks:()=>u,unstable_autotrackMemoize:()=>Ee,weakMapMemoize:()=>ut}),CL=s(o);var l={inputStabilityCheck:"once",identityFunctionCheck:"once"},u=Ze=>{Object.assign(l,Ze)},f=Symbol("NOT_FOUND");function h(Ze,yt=`expected a function, instead received ${typeof Ze}`){if(typeof Ze!="function")throw new TypeError(yt)}function p(Ze,yt=`expected an object, instead received ${typeof Ze}`){if(typeof Ze!="object")throw new TypeError(yt)}function m(Ze,yt="expected all items to be functions, instead received the following types: "){if(!Ze.every(Vt=>typeof Vt=="function")){const Vt=Ze.map(At=>typeof At=="function"?`function ${At.name||"unnamed"}()`:typeof At).join(", ");throw new TypeError(`${yt}[${Vt}]`)}}var v=Ze=>Array.isArray(Ze)?Ze:[Ze];function w(Ze){const yt=Array.isArray(Ze[0])?Ze[0]:Ze;return m(yt,"createSelector expects all input-selectors to be functions, but received the following types: "),yt}function x(Ze,yt){const Vt=[],{length:At}=Ze;for(let hr=0;hr<At;hr++)Vt.push(Ze[hr].apply(null,yt));return Vt}var T=0,A=null,P=class{constructor(Ze,yt=S){Ga(this,"revision",T);Ga(this,"_value");Ga(this,"_lastValue");Ga(this,"_isEqual",S);this._value=this._lastValue=Ze,this._isEqual=yt}get value(){return A==null||A.add(this),this._value}set value(Ze){this.value!==Ze&&(this._value=Ze,this.revision=++T)}};function S(Ze,yt){return Ze===yt}var E=class{constructor(Ze){Ga(this,"_cachedValue");Ga(this,"_cachedRevision",-1);Ga(this,"_deps",[]);Ga(this,"hits",0);Ga(this,"fn");this.fn=Ze}clear(){this._cachedValue=void 0,this._cachedRevision=-1,this._deps=[],this.hits=0}get value(){if(this.revision>this._cachedRevision){const{fn:Ze}=this,yt=new Set,Vt=A;A=yt,this._cachedValue=Ze(),A=Vt,this.hits++,this._deps=Array.from(yt),this._cachedRevision=this.revision}return A==null||A.add(this),this._cachedValue}get revision(){return Math.max(...this._deps.map(Ze=>Ze.revision),0)}};function _(Ze){return Ze instanceof P||console.warn("Not a valid cell! ",Ze),Ze.value}function R(Ze,yt){if(!(Ze instanceof P))throw new TypeError("setValue must be passed a tracked store created with `createStorage`.");Ze.value=Ze._lastValue=yt}function O(Ze,yt=S){return new P(Ze,yt)}function F(Ze){return h(Ze,"the first parameter to `createCache` must be a function"),new E(Ze)}var $=(Ze,yt)=>!1;function z(){return O(null,$)}function q(Ze,yt){R(Ze,yt)}var Z=Ze=>{let yt=Ze.collectionTag;yt===null&&(yt=Ze.collectionTag=z()),_(yt)},V=Ze=>{const yt=Ze.collectionTag;yt!==null&&q(yt,null)},J=0,fe=Object.getPrototypeOf({}),ue=class{constructor(Ze){Ga(this,"proxy",new Proxy(this,pe));Ga(this,"tag",z());Ga(this,"tags",{});Ga(this,"children",{});Ga(this,"collectionTag",null);Ga(this,"id",J++);this.value=Ze,this.value=Ze,this.tag.value=Ze}},pe={get(Ze,yt){function Vt(){const{value:hr}=Ze,Sr=Reflect.get(hr,yt);if(typeof yt=="symbol"||yt in fe)return Sr;if(typeof Sr=="object"&&Sr!==null){let fr=Ze.children[yt];return fr===void 0&&(fr=Ze.children[yt]=se(Sr)),fr.tag&&_(fr.tag),fr.proxy}else{let fr=Ze.tags[yt];return fr===void 0&&(fr=Ze.tags[yt]=z(),fr.value=Sr),_(fr),Sr}}return Vt()},ownKeys(Ze){return Z(Ze),Reflect.ownKeys(Ze.value)},getOwnPropertyDescriptor(Ze,yt){return Reflect.getOwnPropertyDescriptor(Ze.value,yt)},has(Ze,yt){return Reflect.has(Ze.value,yt)}},ve=class{constructor(Ze){Ga(this,"proxy",new Proxy([this],le));Ga(this,"tag",z());Ga(this,"tags",{});Ga(this,"children",{});Ga(this,"collectionTag",null);Ga(this,"id",J++);this.value=Ze,this.value=Ze,this.tag.value=Ze}},le={get([Ze],yt){return yt==="length"&&Z(Ze),pe.get(Ze,yt)},ownKeys([Ze]){return pe.ownKeys(Ze)},getOwnPropertyDescriptor([Ze],yt){return pe.getOwnPropertyDescriptor(Ze,yt)},has([Ze],yt){return pe.has(Ze,yt)}};function se(Ze){return Array.isArray(Ze)?new ve(Ze):new ue(Ze)}function ge(Ze,yt){const{value:Vt,tags:At,children:hr}=Ze;if(Ze.value=yt,Array.isArray(Vt)&&Array.isArray(yt)&&Vt.length!==yt.length)V(Ze);else if(Vt!==yt){let Sr=0,fr=0,Dt=!1;for(const Nr in Vt)Sr++;for(const Nr in yt)if(fr++,!(Nr in Vt)){Dt=!0;break}(Dt||Sr!==fr)&&V(Ze)}for(const Sr in At){const fr=Vt[Sr],Dt=yt[Sr];fr!==Dt&&(V(Ze),q(At[Sr],Dt)),typeof Dt=="object"&&Dt!==null&&delete At[Sr]}for(const Sr in hr){const fr=hr[Sr],Dt=yt[Sr];fr.value!==Dt&&(typeof Dt=="object"&&Dt!==null?ge(fr,Dt):(_e(fr),delete hr[Sr]))}}function _e(Ze){Ze.tag&&q(Ze.tag,null),V(Ze);for(const yt in Ze.tags)q(Ze.tags[yt],null);for(const yt in Ze.children)_e(Ze.children[yt])}function ke(Ze){let yt;return{get(Vt){return yt&&Ze(yt.key,Vt)?yt.value:f},put(Vt,At){yt={key:Vt,value:At}},getEntries(){return yt?[yt]:[]},clear(){yt=void 0}}}function Ge(Ze,yt){let Vt=[];function At(Dt){const dr=Vt.findIndex(Nr=>yt(Dt,Nr.key));if(dr>-1){const Nr=Vt[dr];return dr>0&&(Vt.splice(dr,1),Vt.unshift(Nr)),Nr.value}return f}function hr(Dt,dr){At(Dt)===f&&(Vt.unshift({key:Dt,value:dr}),Vt.length>Ze&&Vt.pop())}function Sr(){return Vt}function fr(){Vt=[]}return{get:At,put:hr,getEntries:Sr,clear:fr}}var ct=(Ze,yt)=>Ze===yt;function $e(Ze){return function(Vt,At){if(Vt===null||At===null||Vt.length!==At.length)return!1;const{length:hr}=Vt;for(let Sr=0;Sr<hr;Sr++)if(!Ze(Vt[Sr],At[Sr]))return!1;return!0}}function we(Ze,yt){const Vt=typeof yt=="object"?yt:{equalityCheck:yt},{equalityCheck:At=ct,maxSize:hr=1,resultEqualityCheck:Sr}=Vt,fr=$e(At);let Dt=0;const dr=hr<=1?ke(fr):Ge(hr,fr);function Nr(){let gr=dr.get(arguments);if(gr===f){if(gr=Ze.apply(null,arguments),Dt++,Sr){const Fr=dr.getEntries().find(_n=>Sr(_n.value,gr));Fr&&(gr=Fr.value,Dt!==0&&Dt--)}dr.put(arguments,gr)}return gr}return Nr.clearCache=()=>{dr.clear(),Nr.resetResultsCount()},Nr.resultsCount=()=>Dt,Nr.resetResultsCount=()=>{Dt=0},Nr}function Ee(Ze){const yt=se([]);let Vt=null;const At=$e(ct),hr=F(()=>Ze.apply(null,yt.proxy));function Sr(){return At(Vt,arguments)||(ge(yt,arguments),Vt=arguments),hr.value}return Sr.clearCache=()=>hr.clear(),Sr}var Re=class{constructor(Ze){this.value=Ze}deref(){return this.value}},ft=typeof WeakRef<"u"?WeakRef:Re,qe=0,dt=1;function he(){return{s:qe,v:void 0,o:null,p:null}}function ut(Ze,yt={}){let Vt=he();const{resultEqualityCheck:At}=yt;let hr,Sr=0;function fr(){var wr;let Dt=Vt;const{length:dr}=arguments;for(let Fr=0,_n=dr;Fr<_n;Fr++){const nn=arguments[Fr];if(typeof nn=="function"||typeof nn=="object"&&nn!==null){let ot=Dt.o;ot===null&&(Dt.o=ot=new WeakMap);const Je=ot.get(nn);Je===void 0?(Dt=he(),ot.set(nn,Dt)):Dt=Je}else{let ot=Dt.p;ot===null&&(Dt.p=ot=new Map);const Je=ot.get(nn);Je===void 0?(Dt=he(),ot.set(nn,Dt)):Dt=Je}}const Nr=Dt;let gr;if(Dt.s===dt)gr=Dt.v;else if(gr=Ze.apply(null,arguments),Sr++,At){const Fr=((wr=hr==null?void 0:hr.deref)==null?void 0:wr.call(hr))??hr;Fr!=null&&At(Fr,gr)&&(gr=Fr,Sr!==0&&Sr--),hr=typeof gr=="object"&&gr!==null||typeof gr=="function"?new ft(gr):gr}return Nr.s=dt,Nr.v=gr,gr}return fr.clearCache=()=>{Vt=he(),fr.resetResultsCount()},fr.resultsCount=()=>Sr,fr.resetResultsCount=()=>{Sr=0},fr}function xt(Ze,...yt){const Vt=typeof Ze=="function"?{memoize:Ze,memoizeOptions:yt}:Ze,At=(...hr)=>{let Sr=0,fr=0,Dt,dr={},Nr=hr.pop();typeof Nr=="object"&&(dr=Nr,Nr=hr.pop()),h(Nr,`createSelector expects an output function after the inputs, but received: [${typeof Nr}]`);const gr={...Vt,...dr},{memoize:wr,memoizeOptions:Fr=[],argsMemoize:_n=ut,argsMemoizeOptions:nn=[]}=gr,ot=v(Fr),Je=v(nn),Me=w(hr),Le=wr(function(){return Sr++,Nr.apply(null,arguments)},...ot),Ye=_n(function(){fr++;const kt=x(Me,arguments);return Dt=Le.apply(null,kt),Dt},...Je);return Object.assign(Ye,{resultFunc:Nr,memoizedResultFunc:Le,dependencies:Me,dependencyRecomputations:()=>fr,resetDependencyRecomputations:()=>{fr=0},lastResult:()=>Dt,recomputations:()=>Sr,resetRecomputations:()=>{Sr=0},memoize:wr,argsMemoize:_n})};return Object.assign(At,{withTypes:()=>At}),At}var je=xt(ut),rt=Object.assign((Ze,yt=je)=>{p(Ze,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof Ze}`);const Vt=Object.keys(Ze),At=Vt.map(Sr=>Ze[Sr]);return yt(At,(...Sr)=>Sr.reduce((fr,Dt,dr)=>(fr[Vt[dr]]=Dt,fr),{}))},{withTypes:()=>rt});return CL}var PL,dX;function QRe(){if(dX)return PL;dX=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(h,p)=>{for(var m in p)e(h,m,{get:p[m],enumerable:!0})},a=(h,p,m,v)=>{if(p&&typeof p=="object"||typeof p=="function")for(let w of r(p))!n.call(h,w)&&w!==m&&e(h,w,{get:()=>p[w],enumerable:!(v=t(p,w))||v.enumerable});return h},s=h=>a(e({},"__esModule",{value:!0}),h),o={};i(o,{thunk:()=>u,withExtraArgument:()=>f}),PL=s(o);function l(h){return({dispatch:m,getState:v})=>w=>x=>typeof x=="function"?x(m,v,h):w(x)}var u=l(),f=l;return PL}var hX;function eAe(){return hX||(hX=1,function(e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(_t,Nt)=>{for(var Ar in Nt)t(_t,Ar,{get:Nt[Ar],enumerable:!0})},s=(_t,Nt,Ar,Zt)=>{if(Nt&&typeof Nt=="object"||typeof Nt=="function")for(let pr of n(Nt))!i.call(_t,pr)&&pr!==Ar&&t(_t,pr,{get:()=>Nt[pr],enumerable:!(Zt=r(Nt,pr))||Zt.enumerable});return _t},o=(_t,Nt,Ar)=>(s(_t,Nt,"default"),Ar&&s(Ar,Nt,"default")),l=_t=>s(t({},"__esModule",{value:!0}),_t),u={};a(u,{ReducerType:()=>Me,SHOULD_AUTOBATCH:()=>ke,TaskAbortError:()=>Ti,Tuple:()=>q,addListener:()=>Al,asyncThunkCreator:()=>Je,autoBatchEnhancer:()=>$e,buildCreateSlice:()=>Ye,clearAllListeners:()=>Ol,combineSlices:()=>ms,configureStore:()=>Ee,createAction:()=>_,createActionCreatorInvariantMiddleware:()=>$,createAsyncThunk:()=>Fr,createDraftSafeSelector:()=>w,createDraftSafeSelectorCreator:()=>v,createDynamicMiddleware:()=>Ei,createEntityAdapter:()=>yi,createImmutableStateInvariantMiddleware:()=>fe,createListenerMiddleware:()=>Bi,createNextState:()=>f.produce,createReducer:()=>dt,createSelector:()=>h.createSelector,createSelectorCreator:()=>h.createSelectorCreator,createSerializableStateInvariantMiddleware:()=>se,createSlice:()=>kt,current:()=>f.current,findNonSerializableValue:()=>ve,formatProdErrorMessage:()=>ba,freeze:()=>f.freeze,isActionCreator:()=>R,isAllOf:()=>xt,isAnyOf:()=>ut,isAsyncThunkAction:()=>hr,isDraft:()=>f.isDraft,isFluxStandardAction:()=>O,isFulfilled:()=>At,isImmutableDefault:()=>J,isPending:()=>Ze,isPlain:()=>pe,isRejected:()=>yt,isRejectedWithValue:()=>Vt,lruMemoize:()=>h.lruMemoize,miniSerializeError:()=>gr,nanoid:()=>fr,original:()=>f.original,prepareAutoBatched:()=>Ge,removeListener:()=>fa,unwrapResult:()=>_n,weakMapMemoize:()=>h.weakMapMemoize}),e.exports=l(u),o(u,q0(),e.exports);var f=v1(),h=fX(),p=v1(),m=fX(),v=(..._t)=>{let Nt=(0,m.createSelectorCreator)(..._t),Ar=Object.assign((...Zt)=>{let pr=Nt(...Zt),Kr=(rn,...ri)=>pr((0,p.isDraft)(rn)?(0,p.current)(rn):rn,...ri);return Object.assign(Kr,pr),Kr},{withTypes:()=>Ar});return Ar},w=v(m.weakMapMemoize),x=q0(),T=q0(),A=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?T.compose:T.compose.apply(null,arguments)},P=QRe(),S=q0(),E=_t=>_t&&typeof _t.match=="function";function _(_t,Nt){function Ar(...Zt){if(Nt){let pr=Nt(...Zt);if(!pr)throw new Error(ba(0));return{type:_t,payload:pr.payload,..."meta"in pr&&{meta:pr.meta},..."error"in pr&&{error:pr.error}}}return{type:_t,payload:Zt[0]}}return Ar.toString=()=>`${_t}`,Ar.type=_t,Ar.match=Zt=>(0,S.isAction)(Zt)&&Zt.type===_t,Ar}function R(_t){return typeof _t=="function"&&"type"in _t&&E(_t)}function O(_t){return(0,S.isAction)(_t)&&Object.keys(_t).every(F)}function F(_t){return["type","payload","error","meta"].indexOf(_t)>-1}function $(_t={}){return()=>Nt=>Ar=>Nt(Ar)}var z=v1(),q=class uC extends Array{constructor(...Nt){super(...Nt),Object.setPrototypeOf(this,uC.prototype)}static get[Symbol.species](){return uC}concat(...Nt){return super.concat.apply(this,Nt)}prepend(...Nt){return Nt.length===1&&Array.isArray(Nt[0])?new uC(...Nt[0].concat(this)):new uC(...Nt.concat(this))}};function Z(_t){return(0,z.isDraftable)(_t)?(0,z.produce)(_t,()=>{}):_t}function V(_t,Nt,Ar){return _t.has(Nt)?_t.get(Nt):_t.set(Nt,Ar(Nt)).get(Nt)}function J(_t){return typeof _t!="object"||_t==null||Object.isFrozen(_t)}function fe(_t={}){return()=>Nt=>Ar=>Nt(Ar)}var ue=q0();function pe(_t){let Nt=typeof _t;return _t==null||Nt==="string"||Nt==="boolean"||Nt==="number"||Array.isArray(_t)||(0,ue.isPlainObject)(_t)}function ve(_t,Nt="",Ar=pe,Zt,pr=[],Kr){let rn;if(!Ar(_t))return{keyPath:Nt||"<root>",value:_t};if(typeof _t!="object"||_t===null||Kr!=null&&Kr.has(_t))return!1;let ri=Zt!=null?Zt(_t):Object.entries(_t),Sn=pr.length>0;for(let[Ln,An]of ri){let Un=Nt?Nt+"."+Ln:Ln;if(!(Sn&&pr.some(fi=>fi instanceof RegExp?fi.test(Un):Un===fi))){if(!Ar(An))return{keyPath:Un,value:An};if(typeof An=="object"&&(rn=ve(An,Un,Ar,Zt,pr,Kr),rn))return rn}}return Kr&&le(_t)&&Kr.add(_t),!1}function le(_t){if(!Object.isFrozen(_t))return!1;for(let Nt of Object.values(_t))if(!(typeof Nt!="object"||Nt===null)&&!le(Nt))return!1;return!0}function se(_t={}){return()=>Nt=>Ar=>Nt(Ar)}function ge(_t){return typeof _t=="boolean"}var _e=()=>function(_t){let{thunk:Nt=!0,immutableCheck:Ar=!0,serializableCheck:Zt=!0,actionCreatorCheck:pr=!0}=_t??{},Kr=new q;return Nt&&(ge(Nt)?Kr.push(P.thunk):Kr.push((0,P.withExtraArgument)(Nt.extraArgument))),Kr},ke="RTK_autoBatch",Ge=()=>_t=>({payload:_t,meta:{[ke]:!0}}),ct=_t=>Nt=>{setTimeout(Nt,_t)},$e=(_t={type:"raf"})=>Nt=>(...Ar)=>{let Zt=Nt(...Ar),pr=!0,Kr=!1,rn=!1,ri=new Set,Sn=_t.type==="tick"?queueMicrotask:_t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ct(10):_t.type==="callback"?_t.queueNotification:ct(_t.timeout),Ln=()=>{rn=!1,Kr&&(Kr=!1,ri.forEach(An=>An()))};return Object.assign({},Zt,{subscribe(An){let Un=()=>pr&&An(),fi=Zt.subscribe(Un);return ri.add(An),()=>{fi(),ri.delete(An)}},dispatch(An){var Un;try{return pr=!((Un=An==null?void 0:An.meta)!=null&&Un[ke]),Kr=!pr,Kr&&(rn||(rn=!0,Sn(Ln))),Zt.dispatch(An)}finally{pr=!0}}})},we=_t=>function(Nt){let{autoBatch:Ar=!0}=Nt??{},Zt=new q(_t);return Ar&&Zt.push($e(typeof Ar=="object"?Ar:void 0)),Zt};function Ee(_t){let Nt=_e(),{reducer:Ar=void 0,middleware:Zt,devTools:pr=!0,duplicateMiddlewareCheck:Kr=!0,preloadedState:rn=void 0,enhancers:ri=void 0}=_t||{},Sn;if(typeof Ar=="function")Sn=Ar;else if((0,x.isPlainObject)(Ar))Sn=(0,x.combineReducers)(Ar);else throw new Error(ba(1));let Ln;typeof Zt=="function"?Ln=Zt(Nt):Ln=Nt();let An=x.compose;pr&&(An=A({trace:!1,...typeof pr=="object"&&pr}));let Un=(0,x.applyMiddleware)(...Ln),fi=we(Un),de=typeof ri=="function"?ri(fi):fi(),Ie=An(...de);return(0,x.createStore)(Sn,rn,Ie)}var Re=v1();function ft(_t){let Nt={},Ar=[],Zt,pr={addCase(Kr,rn){let ri=typeof Kr=="string"?Kr:Kr.type;if(!ri)throw new Error(ba(28));if(ri in Nt)throw new Error(ba(29));return Nt[ri]=rn,pr},addMatcher(Kr,rn){return Ar.push({matcher:Kr,reducer:rn}),pr},addDefaultCase(Kr){return Zt=Kr,pr}};return _t(pr),[Nt,Ar,Zt]}function qe(_t){return typeof _t=="function"}function dt(_t,Nt){let[Ar,Zt,pr]=ft(Nt),Kr;if(qe(_t))Kr=()=>Z(_t());else{let ri=Z(_t);Kr=()=>ri}function rn(ri=Kr(),Sn){let Ln=[Ar[Sn.type],...Zt.filter(({matcher:An})=>An(Sn)).map(({reducer:An})=>An)];return Ln.filter(An=>!!An).length===0&&(Ln=[pr]),Ln.reduce((An,Un)=>{if(Un)if((0,Re.isDraft)(An)){let fi=Un(An,Sn);return fi===void 0?An:fi}else{if((0,Re.isDraftable)(An))return(0,Re.produce)(An,fi=>Un(fi,Sn));{let fi=Un(An,Sn);if(fi===void 0){if(An===null)return An;throw Error("A case reducer on a non-draftable value must not return undefined")}return fi}}return An},ri)}return rn.getInitialState=Kr,rn}var he=(_t,Nt)=>E(_t)?_t.match(Nt):_t(Nt);function ut(..._t){return Nt=>_t.some(Ar=>he(Ar,Nt))}function xt(..._t){return Nt=>_t.every(Ar=>he(Ar,Nt))}function je(_t,Nt){if(!_t||!_t.meta)return!1;let Ar=typeof _t.meta.requestId=="string",Zt=Nt.indexOf(_t.meta.requestStatus)>-1;return Ar&&Zt}function rt(_t){return typeof _t[0]=="function"&&"pending"in _t[0]&&"fulfilled"in _t[0]&&"rejected"in _t[0]}function Ze(..._t){return _t.length===0?Nt=>je(Nt,["pending"]):rt(_t)?ut(..._t.map(Nt=>Nt.pending)):Ze()(_t[0])}function yt(..._t){return _t.length===0?Nt=>je(Nt,["rejected"]):rt(_t)?ut(..._t.map(Nt=>Nt.rejected)):yt()(_t[0])}function Vt(..._t){let Nt=Ar=>Ar&&Ar.meta&&Ar.meta.rejectedWithValue;return _t.length===0?xt(yt(..._t),Nt):rt(_t)?xt(yt(..._t),Nt):Vt()(_t[0])}function At(..._t){return _t.length===0?Nt=>je(Nt,["fulfilled"]):rt(_t)?ut(..._t.map(Nt=>Nt.fulfilled)):At()(_t[0])}function hr(..._t){return _t.length===0?Nt=>je(Nt,["pending","fulfilled","rejected"]):rt(_t)?ut(..._t.flatMap(Nt=>[Nt.pending,Nt.rejected,Nt.fulfilled])):hr()(_t[0])}var Sr="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fr=(_t=21)=>{let Nt="",Ar=_t;for(;Ar--;)Nt+=Sr[Math.random()*64|0];return Nt},Dt=["name","message","stack","code"],dr=class{constructor(_t,Nt){Ga(this,"_type");this.payload=_t,this.meta=Nt}},Nr=class{constructor(_t,Nt){Ga(this,"_type");this.payload=_t,this.meta=Nt}},gr=_t=>{if(typeof _t=="object"&&_t!==null){let Nt={};for(let Ar of Dt)typeof _t[Ar]=="string"&&(Nt[Ar]=_t[Ar]);return Nt}return{message:String(_t)}},wr="External signal was aborted",Fr=(()=>{function _t(Nt,Ar,Zt){let pr=_(Nt+"/fulfilled",(Sn,Ln,An,Un)=>({payload:Sn,meta:{...Un||{},arg:An,requestId:Ln,requestStatus:"fulfilled"}})),Kr=_(Nt+"/pending",(Sn,Ln,An)=>({payload:void 0,meta:{...An||{},arg:Ln,requestId:Sn,requestStatus:"pending"}})),rn=_(Nt+"/rejected",(Sn,Ln,An,Un,fi)=>({payload:Un,error:(Zt&&Zt.serializeError||gr)(Sn||"Rejected"),meta:{...fi||{},arg:An,requestId:Ln,rejectedWithValue:!!Un,requestStatus:"rejected",aborted:(Sn==null?void 0:Sn.name)==="AbortError",condition:(Sn==null?void 0:Sn.name)==="ConditionError"}}));function ri(Sn,{signal:Ln}={}){return(An,Un,fi)=>{let de=Zt!=null&&Zt.idGenerator?Zt.idGenerator(Sn):fr(),Ie=new AbortController,Ke,et;function St(Ot){et=Ot,Ie.abort()}Ln&&(Ln.aborted?St(wr):Ln.addEventListener("abort",()=>St(wr),{once:!0}));let vt=async function(){var Pr,Tr;let Ot;try{let Mr=(Pr=Zt==null?void 0:Zt.condition)==null?void 0:Pr.call(Zt,Sn,{getState:Un,extra:fi});if(nn(Mr)&&(Mr=await Mr),Mr===!1||Ie.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let bn=new Promise((sn,Pn)=>{Ke=()=>{Pn({name:"AbortError",message:et||"Aborted"})},Ie.signal.addEventListener("abort",Ke)});An(Kr(de,Sn,(Tr=Zt==null?void 0:Zt.getPendingMeta)==null?void 0:Tr.call(Zt,{requestId:de,arg:Sn},{getState:Un,extra:fi}))),Ot=await Promise.race([bn,Promise.resolve(Ar(Sn,{dispatch:An,getState:Un,extra:fi,requestId:de,signal:Ie.signal,abort:St,rejectWithValue:(sn,Pn)=>new dr(sn,Pn),fulfillWithValue:(sn,Pn)=>new Nr(sn,Pn)})).then(sn=>{if(sn instanceof dr)throw sn;return sn instanceof Nr?pr(sn.payload,de,Sn,sn.meta):pr(sn,de,Sn)})])}catch(Mr){Ot=Mr instanceof dr?rn(null,de,Sn,Mr.payload,Mr.meta):rn(Mr,de,Sn)}finally{Ke&&Ie.signal.removeEventListener("abort",Ke)}return Zt&&!Zt.dispatchConditionRejection&&rn.match(Ot)&&Ot.meta.condition||An(Ot),Ot}();return Object.assign(vt,{abort:St,requestId:de,arg:Sn,unwrap(){return vt.then(_n)}})}}return Object.assign(ri,{pending:Kr,rejected:rn,fulfilled:pr,settled:ut(rn,pr),typePrefix:Nt})}return _t.withTypes=()=>_t,_t})();function _n(_t){if(_t.meta&&_t.meta.rejectedWithValue)throw _t.payload;if(_t.error)throw _t.error;return _t.payload}function nn(_t){return _t!==null&&typeof _t=="object"&&typeof _t.then=="function"}var ot=Symbol.for("rtk-slice-createasyncthunk"),Je={[ot]:Fr},Me=(_t=>(_t.reducer="reducer",_t.reducerWithPrepare="reducerWithPrepare",_t.asyncThunk="asyncThunk",_t))(Me||{});function Le(_t,Nt){return`${_t}/${Nt}`}function Ye({creators:_t}={}){var Ar;let Nt=(Ar=_t==null?void 0:_t.asyncThunk)==null?void 0:Ar[ot];return function(Zt){let{name:pr,reducerPath:Kr=pr}=Zt;if(!pr)throw new Error(ba(11));let rn=(typeof Zt.reducers=="function"?Zt.reducers(at()):Zt.reducers)||{},ri=Object.keys(rn),Sn={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},Ln={addCase(Ot,Pr){let Tr=typeof Ot=="string"?Ot:Ot.type;if(!Tr)throw new Error(ba(12));if(Tr in Sn.sliceCaseReducersByType)throw new Error(ba(13));return Sn.sliceCaseReducersByType[Tr]=Pr,Ln},addMatcher(Ot,Pr){return Sn.sliceMatchers.push({matcher:Ot,reducer:Pr}),Ln},exposeAction(Ot,Pr){return Sn.actionCreators[Ot]=Pr,Ln},exposeCaseReducer(Ot,Pr){return Sn.sliceCaseReducersByName[Ot]=Pr,Ln}};ri.forEach(Ot=>{let Pr=rn[Ot],Tr={reducerName:Ot,type:Le(pr,Ot),createNotation:typeof Zt.reducers=="function"};Tt(Pr)?or(Tr,Pr,Ln,Nt):Ft(Tr,Pr,Ln)});function An(){let[Ot={},Pr=[],Tr=void 0]=typeof Zt.extraReducers=="function"?ft(Zt.extraReducers):[Zt.extraReducers],Mr={...Ot,...Sn.sliceCaseReducersByType};return dt(Zt.initialState,bn=>{for(let sn in Mr)bn.addCase(sn,Mr[sn]);for(let sn of Sn.sliceMatchers)bn.addMatcher(sn.matcher,sn.reducer);for(let sn of Pr)bn.addMatcher(sn.matcher,sn.reducer);Tr&&bn.addDefaultCase(Tr)})}let Un=Ot=>Ot,fi=new Map,de=new WeakMap,Ie;function Ke(Ot,Pr){return Ie||(Ie=An()),Ie(Ot,Pr)}function et(){return Ie||(Ie=An()),Ie.getInitialState()}function St(Ot,Pr=!1){function Tr(bn){let sn=bn[Ot];return typeof sn>"u"&&Pr&&(sn=V(de,Tr,et)),sn}function Mr(bn=Un){let sn=V(fi,Pr,()=>new WeakMap);return V(sn,bn,()=>{let Pn={};for(let[un,gn]of Object.entries(Zt.selectors??{}))Pn[un]=gt(gn,bn,()=>V(de,bn,et),Pr);return Pn})}return{reducerPath:Ot,getSelectors:Mr,get selectors(){return Mr(Tr)},selectSlice:Tr}}let vt={name:pr,reducer:Ke,actions:Sn.actionCreators,caseReducers:Sn.sliceCaseReducersByName,getInitialState:et,...St(Kr),injectInto(Ot,{reducerPath:Pr,...Tr}={}){let Mr=Pr??Kr;return Ot.inject({reducerPath:Mr,reducer:Ke},Tr),{...vt,...St(Mr,!0)}}};return vt}}function gt(_t,Nt,Ar,Zt){function pr(Kr,...rn){let ri=Nt(Kr);return typeof ri>"u"&&Zt&&(ri=Ar()),_t(ri,...rn)}return pr.unwrapped=_t,pr}var kt=Ye();function at(){function _t(Nt,Ar){return{_reducerDefinitionType:"asyncThunk",payloadCreator:Nt,...Ar}}return _t.withTypes=()=>_t,{reducer(Nt){return Object.assign({[Nt.name](...Ar){return Nt(...Ar)}}[Nt.name],{_reducerDefinitionType:"reducer"})},preparedReducer(Nt,Ar){return{_reducerDefinitionType:"reducerWithPrepare",prepare:Nt,reducer:Ar}},asyncThunk:_t}}function Ft({type:_t,reducerName:Nt,createNotation:Ar},Zt,pr){let Kr,rn;if("reducer"in Zt){if(Ar&&!ir(Zt))throw new Error(ba(17));Kr=Zt.reducer,rn=Zt.prepare}else Kr=Zt;pr.addCase(_t,Kr).exposeCaseReducer(Nt,Kr).exposeAction(Nt,rn?_(_t,rn):_(_t))}function Tt(_t){return _t._reducerDefinitionType==="asyncThunk"}function ir(_t){return _t._reducerDefinitionType==="reducerWithPrepare"}function or({type:_t,reducerName:Nt},Ar,Zt,pr){if(!pr)throw new Error(ba(18));let{payloadCreator:Kr,fulfilled:rn,pending:ri,rejected:Sn,settled:Ln,options:An}=Ar,Un=pr(_t,Kr,An);Zt.exposeAction(Nt,Un),rn&&Zt.addCase(Un.fulfilled,rn),ri&&Zt.addCase(Un.pending,ri),Sn&&Zt.addCase(Un.rejected,Sn),Ln&&Zt.addMatcher(Un.settled,Ln),Zt.exposeCaseReducer(Nt,{fulfilled:rn||ar,pending:ri||ar,rejected:Sn||ar,settled:Ln||ar})}function ar(){}function zr(){return{ids:[],entities:{}}}function mt(_t){function Nt(Ar={},Zt){let pr=Object.assign(zr(),Ar);return Zt?_t.setAll(pr,Zt):pr}return{getInitialState:Nt}}function It(){function _t(Nt,Ar={}){let{createSelector:Zt=w}=Ar,pr=Un=>Un.ids,Kr=Un=>Un.entities,rn=Zt(pr,Kr,(Un,fi)=>Un.map(de=>fi[de])),ri=(Un,fi)=>fi,Sn=(Un,fi)=>Un[fi],Ln=Zt(pr,Un=>Un.length);if(!Nt)return{selectIds:pr,selectEntities:Kr,selectAll:rn,selectTotal:Ln,selectById:Zt(Kr,ri,Sn)};let An=Zt(Nt,Kr);return{selectIds:Zt(Nt,pr),selectEntities:An,selectAll:Zt(Nt,rn),selectTotal:Zt(Nt,Ln),selectById:Zt(An,ri,Sn)}}return{getSelectors:_t}}var Kt=v1(),br=Kt.isDraft;function Rr(_t){let Nt=jt((Ar,Zt)=>_t(Zt));return function(Ar){return Nt(Ar,void 0)}}function jt(_t){return function(Nt,Ar){function Zt(Kr){return O(Kr)}let pr=Kr=>{Zt(Ar)?_t(Ar.payload,Kr):_t(Ar,Kr)};return br(Nt)?(pr(Nt),Nt):(0,Kt.produce)(Nt,pr)}}var Yt=v1();function Jt(_t,Nt){return Nt(_t)}function rr(_t){return Array.isArray(_t)||(_t=Object.values(_t)),_t}function vr(_t){return(0,Yt.isDraft)(_t)?(0,Yt.current)(_t):_t}function Lt(_t,Nt,Ar){_t=rr(_t);let Zt=vr(Ar.ids),pr=new Set(Zt),Kr=[],rn=new Set([]),ri=[];for(let Sn of _t){let Ln=Jt(Sn,Nt);pr.has(Ln)||rn.has(Ln)?ri.push({id:Ln,changes:Sn}):(rn.add(Ln),Kr.push(Sn))}return[Kr,ri,Zt]}function Ir(_t){function Nt(Ie,Ke){let et=Jt(Ie,_t);et in Ke.entities||(Ke.ids.push(et),Ke.entities[et]=Ie)}function Ar(Ie,Ke){Ie=rr(Ie);for(let et of Ie)Nt(et,Ke)}function Zt(Ie,Ke){let et=Jt(Ie,_t);et in Ke.entities||Ke.ids.push(et),Ke.entities[et]=Ie}function pr(Ie,Ke){Ie=rr(Ie);for(let et of Ie)Zt(et,Ke)}function Kr(Ie,Ke){Ie=rr(Ie),Ke.ids=[],Ke.entities={},Ar(Ie,Ke)}function rn(Ie,Ke){return ri([Ie],Ke)}function ri(Ie,Ke){let et=!1;Ie.forEach(St=>{St in Ke.entities&&(delete Ke.entities[St],et=!0)}),et&&(Ke.ids=Ke.ids.filter(St=>St in Ke.entities))}function Sn(Ie){Object.assign(Ie,{ids:[],entities:{}})}function Ln(Ie,Ke,et){let St=et.entities[Ke.id];if(St===void 0)return!1;let vt=Object.assign({},St,Ke.changes),Ot=Jt(vt,_t),Pr=Ot!==Ke.id;return Pr&&(Ie[Ke.id]=Ot,delete et.entities[Ke.id]),et.entities[Ot]=vt,Pr}function An(Ie,Ke){return Un([Ie],Ke)}function Un(Ie,Ke){let et={},St={};Ie.forEach(vt=>{var Ot;vt.id in Ke.entities&&(St[vt.id]={id:vt.id,changes:{...(Ot=St[vt.id])==null?void 0:Ot.changes,...vt.changes}})}),Ie=Object.values(St),Ie.length>0&&Ie.filter(vt=>Ln(et,vt,Ke)).length>0&&(Ke.ids=Object.values(Ke.entities).map(vt=>Jt(vt,_t)))}function fi(Ie,Ke){return de([Ie],Ke)}function de(Ie,Ke){let[et,St]=Lt(Ie,_t,Ke);Ar(et,Ke),Un(St,Ke)}return{removeAll:Rr(Sn),addOne:jt(Nt),addMany:jt(Ar),setOne:jt(Zt),setMany:jt(pr),setAll:jt(Kr),updateOne:jt(An),updateMany:jt(Un),upsertOne:jt(fi),upsertMany:jt(de),removeOne:jt(rn),removeMany:jt(ri)}}function fn(_t,Nt,Ar){let Zt=0,pr=_t.length;for(;Zt<pr;){let Kr=Zt+pr>>>1,rn=_t[Kr];Ar(Nt,rn)>=0?Zt=Kr+1:pr=Kr}return Zt}function Fn(_t,Nt,Ar){let Zt=fn(_t,Nt,Ar);return _t.splice(Zt,0,Nt),_t}function ui(_t,Nt){let{removeOne:Ar,removeMany:Zt,removeAll:pr}=Ir(_t);function Kr(et,St){return rn([et],St)}function rn(et,St,vt){et=rr(et);let Ot=new Set(vt??vr(St.ids)),Pr=et.filter(Tr=>!Ot.has(Jt(Tr,_t)));Pr.length!==0&&Ke(St,Pr)}function ri(et,St){return Sn([et],St)}function Sn(et,St){if(et=rr(et),et.length!==0){for(let vt of et)delete St.entities[_t(vt)];Ke(St,et)}}function Ln(et,St){et=rr(et),St.entities={},St.ids=[],rn(et,St,[])}function An(et,St){return Un([et],St)}function Un(et,St){let vt=!1,Ot=!1;for(let Pr of et){let Tr=St.entities[Pr.id];if(!Tr)continue;vt=!0,Object.assign(Tr,Pr.changes);let Mr=_t(Tr);if(Pr.id!==Mr){Ot=!0,delete St.entities[Pr.id];let bn=St.ids.indexOf(Pr.id);St.ids[bn]=Mr,St.entities[Mr]=Tr}}vt&&Ke(St,[],vt,Ot)}function fi(et,St){return de([et],St)}function de(et,St){let[vt,Ot,Pr]=Lt(et,_t,St);vt.length&&rn(vt,St,Pr),Ot.length&&Un(Ot,St)}function Ie(et,St){if(et.length!==St.length)return!1;for(let vt=0;vt<et.length;vt++)if(et[vt]!==St[vt])return!1;return!0}let Ke=(et,St,vt,Ot)=>{let Pr=vr(et.entities),Tr=vr(et.ids),Mr=et.entities,bn=Tr;Ot&&(bn=new Set(Tr));let sn=[];for(let gn of bn){let Cn=Pr[gn];Cn&&sn.push(Cn)}let Pn=sn.length===0;for(let gn of St)Mr[_t(gn)]=gn,Pn||Fn(sn,gn,Nt);Pn?sn=St.slice().sort(Nt):vt&&sn.sort(Nt);let un=sn.map(_t);Ie(Tr,un)||(et.ids=un)};return{removeOne:Ar,removeMany:Zt,removeAll:pr,addOne:jt(Kr),updateOne:jt(An),upsertOne:jt(fi),setOne:jt(ri),setMany:jt(Sn),setAll:jt(Ln),addMany:jt(rn),updateMany:jt(Un),upsertMany:jt(de)}}function yi(_t={}){let{selectId:Nt,sortComparer:Ar}={sortComparer:!1,selectId:rn=>rn.id,..._t},Zt=Ar?ui(Nt,Ar):Ir(Nt),pr=mt(Zt),Kr=It();return{selectId:Nt,sortComparer:Ar,...pr,...Kr,...Zt}}var Wn=q0(),mi="task",ya="listener",Ka="completed",Ua="cancelled",Ji=`task-${Ua}`,So=`task-${Ka}`,ci=`${ya}-${Ua}`,Ia=`${ya}-${Ka}`,Ti=class{constructor(_t){Ga(this,"name","TaskAbortError");Ga(this,"message");this.code=_t,this.message=`${mi} ${Ua} (reason: ${_t})`}},Ko=(_t,Nt)=>{if(typeof _t!="function")throw new TypeError(ba(32))},wi=()=>{},lo=(_t,Nt=wi)=>(_t.catch(Nt),_t),co=(_t,Nt)=>(_t.addEventListener("abort",Nt,{once:!0}),()=>_t.removeEventListener("abort",Nt)),bi=(_t,Nt)=>{let Ar=_t.signal;Ar.aborted||("reason"in Ar||Object.defineProperty(Ar,"reason",{enumerable:!0,value:Nt,configurable:!0,writable:!0}),_t.abort(Nt))},Ri=_t=>{if(_t.aborted){let{reason:Nt}=_t;throw new Ti(Nt)}};function sa(_t,Nt){let Ar=wi;return new Promise((Zt,pr)=>{let Kr=()=>pr(new Ti(_t.reason));if(_t.aborted){Kr();return}Ar=co(_t,Kr),Nt.finally(()=>Ar()).then(Zt,pr)}).finally(()=>{Ar=wi})}var qa=async(_t,Nt)=>{try{return await Promise.resolve(),{status:"ok",value:await _t()}}catch(Ar){return{status:Ar instanceof Ti?"cancelled":"rejected",error:Ar}}finally{Nt==null||Nt()}},os=_t=>Nt=>lo(sa(_t,Nt).then(Ar=>(Ri(_t),Ar))),Eo=_t=>{let Nt=os(_t);return Ar=>Nt(new Promise(Zt=>setTimeout(Zt,Ar)))},{assign:Ns}=Object,Zo={},ml="listenerMiddleware",Au=(_t,Nt)=>{let Ar=Zt=>co(_t,()=>bi(Zt,_t.reason));return(Zt,pr)=>{Ko(Zt);let Kr=new AbortController;Ar(Kr);let rn=qa(async()=>{Ri(_t),Ri(Kr.signal);let ri=await Zt({pause:os(Kr.signal),delay:Eo(Kr.signal),signal:Kr.signal});return Ri(Kr.signal),ri},()=>bi(Kr,So));return pr!=null&&pr.autoJoin&&Nt.push(rn.catch(wi)),{result:os(_t)(rn),cancel(){bi(Kr,Ji)}}}},Vl=(_t,Nt)=>{let Ar=async(Zt,pr)=>{Ri(Nt);let Kr=()=>{},rn=[new Promise((ri,Sn)=>{let Ln=_t({predicate:Zt,effect:(An,Un)=>{Un.unsubscribe(),ri([An,Un.getState(),Un.getOriginalState()])}});Kr=()=>{Ln(),Sn()}})];pr!=null&&rn.push(new Promise(ri=>setTimeout(ri,pr,null)));try{let ri=await sa(Nt,Promise.race(rn));return Ri(Nt),ri}finally{Kr()}};return(Zt,pr)=>lo(Ar(Zt,pr))},gl=_t=>{let{type:Nt,actionCreator:Ar,matcher:Zt,predicate:pr,effect:Kr}=_t;if(Nt)pr=_(Nt).match;else if(Ar)Nt=Ar.type,pr=Ar.match;else if(Zt)pr=Zt;else if(!pr)throw new Error(ba(21));return Ko(Kr),{predicate:pr,type:Nt,effect:Kr}},wc=Ns(_t=>{let{type:Nt,predicate:Ar,effect:Zt}=gl(_t);return{id:fr(),effect:Zt,type:Nt,predicate:Ar,pending:new Set,unsubscribe:()=>{throw new Error(ba(22))}}},{withTypes:()=>wc}),Gl=(_t,Nt)=>{let{type:Ar,effect:Zt,predicate:pr}=gl(Nt);return Array.from(_t.values()).find(Kr=>(typeof Ar=="string"?Kr.type===Ar:Kr.predicate===pr)&&Kr.effect===Zt)},ko=_t=>{_t.pending.forEach(Nt=>{bi(Nt,ci)})},Rl=_t=>()=>{_t.forEach(ko),_t.clear()},uo=(_t,Nt,Ar)=>{try{_t(Nt,Ar)}catch(Zt){setTimeout(()=>{throw Zt},0)}},Al=Ns(_(`${ml}/add`),{withTypes:()=>Al}),Ol=_(`${ml}/removeAll`),fa=Ns(_(`${ml}/remove`),{withTypes:()=>fa}),Co=(..._t)=>{console.error(`${ml}/error`,..._t)},Bi=(_t={})=>{let Nt=new Map,{extra:Ar,onError:Zt=Co}=_t;Ko(Zt);let pr=Ln=>(Ln.unsubscribe=()=>Nt.delete(Ln.id),Nt.set(Ln.id,Ln),An=>{Ln.unsubscribe(),An!=null&&An.cancelActive&&ko(Ln)}),Kr=Ln=>{let An=Gl(Nt,Ln)??wc(Ln);return pr(An)};Ns(Kr,{withTypes:()=>Kr});let rn=Ln=>{let An=Gl(Nt,Ln);return An&&(An.unsubscribe(),Ln.cancelActive&&ko(An)),!!An};Ns(rn,{withTypes:()=>rn});let ri=async(Ln,An,Un,fi)=>{let de=new AbortController,Ie=Vl(Kr,de.signal),Ke=[];try{Ln.pending.add(de),await Promise.resolve(Ln.effect(An,Ns({},Un,{getOriginalState:fi,condition:(et,St)=>Ie(et,St).then(Boolean),take:Ie,delay:Eo(de.signal),pause:os(de.signal),extra:Ar,signal:de.signal,fork:Au(de.signal,Ke),unsubscribe:Ln.unsubscribe,subscribe:()=>{Nt.set(Ln.id,Ln)},cancelActiveListeners:()=>{Ln.pending.forEach((et,St,vt)=>{et!==de&&(bi(et,ci),vt.delete(et))})},cancel:()=>{bi(de,ci),Ln.pending.delete(de)},throwIfCancelled:()=>{Ri(de.signal)}})))}catch(et){et instanceof Ti||uo(Zt,et,{raisedBy:"effect"})}finally{await Promise.all(Ke),bi(de,Ia),Ln.pending.delete(de)}},Sn=Rl(Nt);return{middleware:Ln=>An=>Un=>{if(!(0,Wn.isAction)(Un))return An(Un);if(Al.match(Un))return Kr(Un.payload);if(Ol.match(Un)){Sn();return}if(fa.match(Un))return rn(Un.payload);let fi=Ln.getState(),de=()=>{if(fi===Zo)throw new Error(ba(23));return fi},Ie;try{if(Ie=An(Un),Nt.size>0){let Ke=Ln.getState(),et=Array.from(Nt.values());for(let St of et){let vt=!1;try{vt=St.predicate(Un,Ke,fi)}catch(Ot){vt=!1,uo(Zt,Ot,{raisedBy:"predicate"})}vt&&ri(St,Un,Ln,de)}}}finally{fi=Zo}return Ie},startListening:Kr,stopListening:rn,clearListeners:Sn}},to=q0(),Yo=_t=>({middleware:_t,applied:new Map}),du=_t=>Nt=>{var Ar;return((Ar=Nt==null?void 0:Nt.meta)==null?void 0:Ar.instanceId)===_t},Ei=()=>{let _t=fr(),Nt=new Map,Ar=Object.assign(_("dynamicMiddleware/add",(...rn)=>({payload:rn,meta:{instanceId:_t}})),{withTypes:()=>Ar}),Zt=Object.assign(function(...rn){rn.forEach(ri=>{V(Nt,ri,Yo)})},{withTypes:()=>Zt}),pr=rn=>{let ri=Array.from(Nt.values()).map(Sn=>V(Sn.applied,rn,Sn.middleware));return(0,to.compose)(...ri)},Kr=xt(Ar,du(_t));return{middleware:rn=>ri=>Sn=>Kr(Sn)?(Zt(...Sn.payload),rn.dispatch):pr(rn)(ri)(Sn),addMiddleware:Zt,withMiddleware:Ar,instanceId:_t}},Ou=q0(),hu=_t=>"reducerPath"in _t&&typeof _t.reducerPath=="string",Qs=_t=>_t.flatMap(Nt=>hu(Nt)?[[Nt.reducerPath,Nt.reducer]]:Object.entries(Nt)),Ma=Symbol.for("rtk-state-proxy-original"),Po=_t=>!!_t&&!!_t[Ma],Ha=new WeakMap,ss=(_t,Nt,Ar)=>V(Ha,_t,()=>new Proxy(_t,{get:(Zt,pr,Kr)=>{if(pr===Ma)return Zt;let rn=Reflect.get(Zt,pr,Kr);if(typeof rn>"u"){let ri=Ar[pr];if(typeof ri<"u")return ri;let Sn=Nt[pr];if(Sn){let Ln=Sn(void 0,{type:fr()});if(typeof Ln>"u")throw new Error(ba(24));return Ar[pr]=Ln,Ln}}return rn}})),Ca=_t=>{if(!Po(_t))throw new Error(ba(25));return _t[Ma]},nf={},Xo=(_t=nf)=>_t;function ms(..._t){let Nt=Object.fromEntries(Qs(_t)),Ar=()=>Object.keys(Nt).length?(0,Ou.combineReducers)(Nt):Xo,Zt=Ar();function pr(Sn,Ln){return Zt(Sn,Ln)}pr.withLazyLoadedSlices=()=>pr;let Kr={},rn=(Sn,Ln={})=>{let{reducerPath:An,reducer:Un}=Sn,fi=Nt[An];return!Ln.overrideExisting&&fi&&fi!==Un||(Ln.overrideExisting&&fi!==Un&&delete Kr[An],Nt[An]=Un,Zt=Ar()),pr},ri=Object.assign(function(Sn,Ln){return function(An,...Un){return Sn(ss(Ln?Ln(An,...Un):An,Nt,Kr),...Un)}},{original:Ca});return Object.assign(pr,{inject:rn,selector:ri})}function ba(_t){return`Minified Redux Toolkit error #${_t}; visit https://redux-toolkit.js.org/Errors?code=${_t} for the full message or use the non-minified dev environment for full errors. `}}(wL)),wL.exports}var pX;function tAe(){return pX||(pX=1,_L.exports=eAe()),_L.exports}var mX;function rAe(){if(mX)return Ag;mX=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.withAuth=Ag.useAuth=Ag.enableAuth=Ag.authProvider=void 0;var e=f(vn()),t=uS(),r=_w(),n=sg(),i=f(lg()),a=Ape(),s=f(Ope()),o=f(Ipe()),l=tAe(),u=["authFunc"];function f(z){return z&&z.__esModule?z:{default:z}}function h(z){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},h(z)}function p(z){if(z==null)throw new TypeError("Cannot destructure "+z)}function m(){return m=Object.assign?Object.assign.bind():function(z){for(var q=1;q<arguments.length;q++){var Z=arguments[q];for(var V in Z)Object.prototype.hasOwnProperty.call(Z,V)&&(z[V]=Z[V])}return z},m.apply(this,arguments)}function v(z,q){if(z==null)return{};var Z=w(z,q),V,J;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(z);for(J=0;J<fe.length;J++)V=fe[J],!(q.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(z,V)&&(Z[V]=z[V])}return Z}function w(z,q){if(z==null)return{};var Z={},V=Object.keys(z),J,fe;for(fe=0;fe<V.length;fe++)J=V[fe],!(q.indexOf(J)>=0)&&(Z[J]=z[J]);return Z}function x(z,q){var Z=Object.keys(z);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(z);q&&(V=V.filter(function(J){return Object.getOwnPropertyDescriptor(z,J).enumerable})),Z.push.apply(Z,V)}return Z}function T(z){for(var q=1;q<arguments.length;q++){var Z=arguments[q]!=null?arguments[q]:{};q%2?x(Object(Z),!0).forEach(function(V){A(z,V,Z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Z)):x(Object(Z)).forEach(function(V){Object.defineProperty(z,V,Object.getOwnPropertyDescriptor(Z,V))})}return z}function A(z,q,Z){return q=P(q),q in z?Object.defineProperty(z,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):z[q]=Z,z}function P(z){var q=S(z,"string");return h(q)==="symbol"?q:String(q)}function S(z,q){if(h(z)!=="object"||z===null)return z;var Z=z[Symbol.toPrimitive];if(Z!==void 0){var V=Z.call(z,q);if(h(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(z)}var E=(0,l.configureStore)({reducer:T(T({},s.default),{},{messages:o.default})}),_=function(q,Z){(0,n.Config)(Z);var V=function(ue){var pe=ue.authFunc,ve=v(ue,u);return e.default.useEffect(function(){pe()},[pe]),e.default.createElement(O.Provider,{value:ve.user},e.default.createElement(q,m({},ve,{isAuthenticating:(0,i.default)(ve,["user","isAuthenticating"],!1)})))},J=function(ue){return{user:ue.user}};return(0,t.connect)(J,{authFunc:r.auth})(V)};Ag.enableAuth=_;var R=function(q,Z){var V=_(q,Z),J=function(ue){var pe=m({},(p(ue),ue));return e.default.createElement(t.Provider,{store:E},e.default.createElement(V,pe))};return J};Ag.authProvider=R;var O=e.default.createContext((0,a.defaultUserState)()),F=function(){return e.default.useContext(O)};Ag.useAuth=F;var $=function(q){var Z=function(J,fe){return{user:J.user}};return(0,t.connect)(Z,null)(q)};return Ag.withAuth=$,Ag}var gX;function Mpe(){return gX||(gX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"authProvider",{enumerable:!0,get:function(){return q.authProvider}}),e.default=void 0,Object.defineProperty(e,"enableAuth",{enumerable:!0,get:function(){return q.enableAuth}}),Object.defineProperty(e,"postMessageWrapper",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"useAuth",{enumerable:!0,get:function(){return q.useAuth}}),Object.defineProperty(e,"withAuth",{enumerable:!0,get:function(){return q.withAuth}});var t=Z(yU()),r=Z(Yhe()),n=Z(epe()),i=Z(tpe()),a=Z(rpe()),s=Z(PU()),o=Z(npe()),l=Z(ipe()),u=Z(gpe()),f=Z(vpe()),h=Z(ype()),p=Z(bpe()),m=Z(_pe()),v=Z(wpe()),w=Z(xpe()),x=Z(Spe()),T=Z(Epe()),A=Z(Cpe()),P=Z(NRe()),S=Z($Re()),E=Z(zRe()),_=Z(Ppe()),R=Z(Tpe()),O=Z(Rpe()),F=Z(BRe()),$=Z(jRe()),z=Z(URe()),q=rAe();function Z(J){return J&&J.__esModule?J:{default:J}}var V={"ams-redux":t.default,"ams-router":r.default,"ams-login":n.default,"ams-logout":i.default,"ams-signup":a.default,"ams-project-management":s.default,"ams-reset-password":o.default,"ams-verify-request":l.default,"ams-profile":u.default,"ams-set-password":f.default,"ams-verify-email":h.default,"ams-accept-invite":p.default,"ams-directory":m.default,"ams-update-password":v.default,"ams-requests":w.default,"ams-send-invite":x.default,"ams-assign-to-project":T.default,"ams-create-group":A.default,"ams-user-preferences":P.default,"ams-slack-preferences":S.default,"ams-messages":_.default,"ams-post-message":R.default,"ams-email-preferences":E.default,"ams-users":O.default,"with-ams-api":F.default,"with-preferences":z.default,"with-slacker":$.default};e.default=V}($D)),$D}var TL={},RL={},AL={},OL={},vX;function nAe(){return vX||(vX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=xp(),n=i(epe());function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,n.default)(function(s){var o=s.email,l=s.password,u=s.update;s.canSubmit;var f=s.handleSubmit,h=s.title,p=h===void 0?"":h;return t.default.createElement("div",{className:"h-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8 "},t.default.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},t.default.createElement("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10"},t.default.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md border-b border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900"},p),t.default.createElement("p",{className:"text-lg font-thin text-gray-600"},t.default.createElement("span",{href:"#",className:"font-thin text-blue-400 hover:text-blue-500"},"Login"))),t.default.createElement("form",{className:"space-y-6",onSubmit:f},t.default.createElement("div",{className:"pt-4"},t.default.createElement("label",{htmlFor:"email",className:"block text-sm font-thin text-gray-700"},"Email"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"email",name:"email",type:"email",value:o,onChange:function(v){return u({email:v.target.value})},autoComplete:"email",placeholder:"Enter your email",required:!0,autoFocus:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block text-sm font-thin text-gray-700"},"Password"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"password",name:"password",type:"password",value:l,onChange:function(v){return u({password:v.target.value})},autoComplete:"current-password",placeholder:"Enter your password",required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Sign in")))),t.default.createElement("div",{className:"flex items-center justify-between px-2 py-4"},t.default.createElement("div",{className:"text-xs"},t.default.createElement(r.Link,{to:"/auth/reset-password",className:"font-medium text-blue-600 hover:text-blue-500"},"Forgot your password?")))))});e.default=a}(OL)),OL}var IL={},yX;function iAe(){return yX||(yX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=xp(),n=i(tpe());function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,n.default)(function(s){var o=s.logout,l=s.redirectTo,u=l===void 0?"/":l;return t.default.useEffect(function(){o()},[o]),t.default.createElement(r.Navigate,{to:u})});e.default=a}(IL)),IL}var ML={},kL={},DL={},bX;function kpe(){return bX||(bX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(l){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(l)}function r(l,u,f){return u=n(u),u in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l}function n(l){var u=i(l,"string");return t(u)==="symbol"?u:String(u)}function i(l,u){if(t(l)!=="object"||l===null)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var h=f.call(l,u);if(t(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(l)}var a="blue";function s(){return r({accent1:"bg-blue-100",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",transition:"transition ease-in-out duration-150",landing:{wrapper:"p-4 border-2 border-blue-300"},table:{table:"min-w-full divide-y divide-gray-300",thead:"",th:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900",tbody:"divide-y divide-gray-200 ",td:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},textarea:{viewWrapper:"overflow-hidden p-2 bg-gray-100 border-b-2"},card:{wrapper:"p-4",row:"flex py-1",rowLabel:"px-4 w-28 text-sm",rowContent:"flex-1"},tile:"bg-[#EEEEEE] py-8 px-10  border-t-4 border-[#679d89] rounded-t",button:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.color,h=f===void 0?"tig":f,p=u.size,m=p===void 0?"base":p,v=u.width,w=v===void 0?"block":v,x={white:`
						border border-gray-300  text-gray-700 bg-white hover:text-gray-500
						focus:outline-none focus:shadow-outline-blue focus:border-blue-300
						active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out
				`,tig:`
						h-full hover:bg-[#EEEEEE] hover:text-yellow-500 hover:cursor-pointer 
						bg-[#D2D2D2] text-[13px] font-light md:mr-2
				`,cancel:`
						border border-red-300  text-red-700 bg-white hover:text-red-500
						focus:outline-none focus:shadow-outline-blue focus:border-blue-300
						active:text-red-800 active:bg-gray-50 transition duration-150 ease-in-out
				`,transparent:`
						border border-gray-300  text-gray-700 bg-white hover:text-gray-500
						focus:outline-none focus:shadow-outline-blue focus:border-blue-300
						active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out
				`,primary:`
						border border-transparent shadow 
						text-sm leading-4 rounded-sm text-white bg-blue-600 hover:bg-blue-700 
						focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,danger:`
						border border-transparent shadow 
						text-sm leading-4 rounded-sm text-white bg-red-600 hover:bg-red-700 
						focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500`},T={base:"px-4 py-4 leading-5 font-medium",sm:"text-sm px-2 py-2 leading-5 font-medium",lg:"text-lg px-6 py-6 leading-5 font-medium",xl:"text-2xl px-12 py-8 leading-5 font-medium"},A={block:"",full:"w-full"};return{button:`
						capitalize disabled:cursor-not-allowed cursor-pointer
						`.concat(x[h]," ").concat(T[m]," ").concat(A[w],`
					`),vars:{color:x,size:T,width:A}}},input:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.color,h=f===void 0?"white":f,p=u.size,m=p===void 0?"small":p,v=u.width,w=v===void 0?"block":v,x={white:"bg-white",gray:"bg-gray-100"},T={base:"px-4 py-4 font-medium",small:"text-sm px-2 py-2 font-medium text-xs",large:"text-lg px-6 py-6 font-medium text-xl"},A={block:"",full:"w-full"};return{input:`
						border-b border-gray-300  disabled:bg-gray-200
						`.concat(x[h]," ").concat(T[m]," ").concat(A[w],`
					`),vars:{color:x,size:T,width:A}}},select:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.color,h=f===void 0?"white":f,p={white:"white",transparent:"gray-100 border border-gray-200 shadow-sm"};return{menuWrapper:"bg-".concat(p[h]," my-1"),menuItemActive:"px-4 py-2 cursor-not-allowed bg-".concat(a,"-200 border-1 focus:border-").concat(a,"-300"),menuItem:"px-4 py-2 cursor-pointer hover:bg-blue-100 border-1 border-".concat(p[h]," focus:border-blue-300"),select:"rounded px-1 bg-".concat(p[h]," w-full flex flex-row flex-wrap py-2 cursor-pointer focus:border-blue-300"),selectIcon:"fal fa-angle-down text-gray-400 pt-1",valueItem:"overflow-hidden text-ellipsis whitespace-nowrap",itemText:"w-32 text-gray-400",menuBgActive:"bg-blue-100 rounded overflow-visible text-gray-700"}}},"table",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{color:"white",size:"compact"},f=u.color,h=f===void 0?"white":f,p=u.size,m=p===void 0?"compact":p,v={white:"bg-white hover:bg-gray-100",gray:"bg-gray-100 hover:bg-gray-200",transparent:"gray-100"},w={small:"px-1 py-1 text-xs",compact:"px-2 py-1 text-sm",full:"px-10 py-5"};return{tableHeader:"".concat(w[m],` pb-1 h-8 border border-b-4 border-gray-200 bg-white text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md capitalize Class
							Properties
							align-baseline	vertical-align: baseline;
							align-top`),tableInfoBar:"bg-white",tableRow:"".concat(v[h]," transition ease-in-out duration-150 hover:bg-gray-300"),tableRowStriped:"bg-white odd:bg-[#F9F9F9] hover:bg-[#E6E6E6] bg-opacity-25 transition ease-in-out duration-150",tableCell:"".concat(w[m]," break-words border border-gray-200 pl-1 align-top font-light text-sm"),inputSmall:"w-24",sortIconDown:"fas fa-sort-amount-down text-gray-300 opacity-75",sortIconUp:"fas fa-sort-amount-up text-gray-300 opacity-75",sortIconIdeal:"fa fa-sort-alt text-gray-300 opacity-25",vars:{color:v,size:w}}})}var o=s();e.default=o}(DL)),DL}var _X;function Qf(){return _X||(_X=1,function(e){function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},t(f)}Object.defineProperty(e,"__esModule",{value:!0}),e.useTheme=e.default=void 0;var r=s(vn()),n=i(kpe());function i(f){return f&&f.__esModule?f:{default:f}}function a(f){if(typeof WeakMap!="function")return null;var h=new WeakMap,p=new WeakMap;return(a=function(v){return v?p:h})(f)}function s(f,h){if(f&&f.__esModule)return f;if(f===null||t(f)!=="object"&&typeof f!="function")return{default:f};var p=a(h);if(p&&p.has(f))return p.get(f);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in f)if(w!=="default"&&Object.prototype.hasOwnProperty.call(f,w)){var x=v?Object.getOwnPropertyDescriptor(f,w):null;x&&(x.get||x.set)?Object.defineProperty(m,w,x):m[w]=f[w]}return m.default=f,p&&p.set(f,m),m}var o=r.default.createContext(n.default),l=function(){return(0,r.useContext)(o)};e.useTheme=l;var u=o;e.default=u}(kL)),kL}var FL={},LL={},NL={},$L={exports:{}},cC={exports:{}},aAe=cC.exports,wX;function oAe(){return wX||(wX=1,function(e,t){(function(r,n){n(t,vn())})(aAe,function(r,n){function i(de,Ie,Ke,et,St,vt,Ot){try{var Pr=de[vt](Ot),Tr=Pr.value}catch(Mr){return void Ke(Mr)}Pr.done?Ie(Tr):Promise.resolve(Tr).then(et,St)}function a(de){return function(){var Ie=this,Ke=arguments;return new Promise(function(et,St){var vt=de.apply(Ie,Ke);function Ot(Tr){i(vt,et,St,Ot,Pr,"next",Tr)}function Pr(Tr){i(vt,et,St,Ot,Pr,"throw",Tr)}Ot(void 0)})}}function s(){return(s=Object.assign||function(de){for(var Ie=1;Ie<arguments.length;Ie++){var Ke=arguments[Ie];for(var et in Ke)Object.prototype.hasOwnProperty.call(Ke,et)&&(de[et]=Ke[et])}return de}).apply(this,arguments)}function o(de,Ie){if(de==null)return{};var Ke,et,St={},vt=Object.keys(de);for(et=0;et<vt.length;et++)Ke=vt[et],Ie.indexOf(Ke)>=0||(St[Ke]=de[Ke]);return St}function l(de){var Ie=function(Ke,et){if(typeof Ke!="object"||Ke===null)return Ke;var St=Ke[Symbol.toPrimitive];if(St!==void 0){var vt=St.call(Ke,et);if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ke)}(de,"string");return typeof Ie=="symbol"?Ie:String(Ie)}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var u={init:"init"},f=function(de){var Ie=de.value;return Ie===void 0?"":Ie},h=function(){return n.createElement(n.Fragment,null," ")},p={Cell:f,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function m(){for(var de=arguments.length,Ie=new Array(de),Ke=0;Ke<de;Ke++)Ie[Ke]=arguments[Ke];return Ie.reduce(function(et,St){var vt=St.style,Ot=St.className;return et=s({},et,{},o(St,["style","className"])),vt&&(et.style=et.style?s({},et.style||{},{},vt||{}):vt),Ot&&(et.className=et.className?et.className+" "+Ot:Ot),et.className===""&&delete et.className,et},{})}var v=function(de,Ie){return Ie===void 0&&(Ie={}),function(Ke){return Ke===void 0&&(Ke={}),[].concat(de,[Ke]).reduce(function(et,St){return function vt(Ot,Pr,Tr){return typeof Pr=="function"?vt({},Pr(Ot,Tr)):Array.isArray(Pr)?m.apply(void 0,[Ot].concat(Pr)):m(Ot,Pr)}(et,St,s({},Ie,{userProps:Ke}))},{})}},w=function(de,Ie,Ke,et){return Ke===void 0&&(Ke={}),de.reduce(function(St,vt){return vt(St,Ke)},Ie)},x=function(de,Ie,Ke){return Ke===void 0&&(Ke={}),de.forEach(function(et){et(Ie,Ke)})};function T(de,Ie,Ke,et){de.findIndex(function(St){return St.pluginName===Ke}),Ie.forEach(function(St){de.findIndex(function(vt){return vt.pluginName===St})})}function A(de,Ie){return typeof de=="function"?de(Ie):de}function P(de){var Ie=n.useRef();return Ie.current=de,n.useCallback(function(){return Ie.current},[])}var S=typeof document<"u"?n.useLayoutEffect:n.useEffect;function E(de,Ie){var Ke=n.useRef(!1);S(function(){Ke.current&&de(),Ke.current=!0},Ie)}function _(de,Ie,Ke){return Ke===void 0&&(Ke={}),function(et,St){St===void 0&&(St={});var vt=typeof et=="string"?Ie[et]:et;if(vt===void 0)throw console.info(Ie),new Error("Renderer Error ☝️");return R(vt,s({},de,{column:Ie},Ke,{},St))}}function R(de,Ie){return function(et){return typeof et=="function"&&(St=Object.getPrototypeOf(et)).prototype&&St.prototype.isReactComponent;var St}(Ke=de)||typeof Ke=="function"||function(et){return typeof et=="object"&&typeof et.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(et.$$typeof.description)}(Ke)?n.createElement(de,Ie):de;var Ke}function O(de,Ie,Ke){return Ke===void 0&&(Ke=0),de.map(function(et){return $(et=s({},et,{parent:Ie,depth:Ke})),et.columns&&(et.columns=O(et.columns,et,Ke+1)),et})}function F(de){return fe(de,"columns")}function $(de){var Ie=de.id,Ke=de.accessor,et=de.Header;if(typeof Ke=="string"){Ie=Ie||Ke;var St=Ke.split(".");Ke=function(vt){return function(Ot,Pr,Tr){if(!Pr)return Ot;var Mr,bn=typeof Pr=="function"?Pr:JSON.stringify(Pr),sn=Z.get(bn)||function(){var Pn=function(un){return function gn(Cn,Zn){if(Zn===void 0&&(Zn=[]),Array.isArray(Cn))for(var hi=0;hi<Cn.length;hi+=1)gn(Cn[hi],Zn);else Zn.push(Cn);return Zn}(un).map(function(gn){return String(gn).replace(".","_")}).join(".").replace(ge,".").replace(_e,"").split(".")}(Pr);return Z.set(bn,Pn),Pn}();try{Mr=sn.reduce(function(Pn,un){return Pn[un]},Ot)}catch{}return Mr!==void 0?Mr:Tr}(vt,St)}}if(!Ie&&typeof et=="string"&&et&&(Ie=et),!Ie&&de.columns)throw console.error(de),new Error('A column ID (or unique "Header" value) is required!');if(!Ie)throw console.error(de),new Error("A column ID (or string accessor) is required!");return Object.assign(de,{id:Ie,accessor:Ke}),de}function z(de,Ie){if(!Ie)throw new Error;return Object.assign(de,s({Header:h,Footer:h},p,{},Ie,{},de)),Object.assign(de,{originalWidth:de.width}),de}function q(de,Ie,Ke){Ke===void 0&&(Ke=function(){return{}});for(var et=[],St=de,vt=0,Ot=function(){return vt++},Pr=function(){var Tr={headers:[]},Mr=[],bn=St.some(function(sn){return sn.parent});St.forEach(function(sn){var Pn,un=[].concat(Mr).reverse()[0];bn&&(sn.parent?Pn=s({},sn.parent,{originalId:sn.parent.id,id:sn.parent.id+"_"+Ot(),headers:[sn]},Ke(sn)):Pn=z(s({originalId:sn.id+"_placeholder",id:sn.id+"_placeholder_"+Ot(),placeholderOf:sn,headers:[sn]},Ke(sn)),Ie),un&&un.originalId===Pn.originalId?un.headers.push(sn):Mr.push(Pn)),Tr.headers.push(sn)}),et.push(Tr),St=Mr};St.length;)Pr();return et.reverse()}var Z=new Map;function V(){for(var de=arguments.length,Ie=new Array(de),Ke=0;Ke<de;Ke++)Ie[Ke]=arguments[Ke];for(var et=0;et<Ie.length;et+=1)if(Ie[et]!==void 0)return Ie[et]}function J(de){if(typeof de=="function")return de}function fe(de,Ie){var Ke=[];return function et(St){St.forEach(function(vt){vt[Ie]?et(vt[Ie]):Ke.push(vt)})}(de),Ke}function ue(de,Ie){var Ke=Ie.manualExpandedKey,et=Ie.expanded,St=Ie.expandSubRows,vt=St===void 0||St,Ot=[];return de.forEach(function(Pr){return function Tr(Mr,bn){bn===void 0&&(bn=!0),Mr.isExpanded=Mr.original&&Mr.original[Ke]||et[Mr.id],Mr.canExpand=Mr.subRows&&!!Mr.subRows.length,bn&&Ot.push(Mr),Mr.subRows&&Mr.subRows.length&&Mr.isExpanded&&Mr.subRows.forEach(function(sn){return Tr(sn,vt)})}(Pr)}),Ot}function pe(de,Ie,Ke){return J(de)||Ie[de]||Ke[de]||Ke.text}function ve(de,Ie,Ke){return de?de(Ie,Ke):Ie===void 0}function le(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var se=null,ge=/\[/g,_e=/\]/g,ke=function(de){return s({role:"table"},de)},Ge=function(de){return s({role:"rowgroup"},de)},ct=function(de,Ie){var Ke=Ie.column;return s({key:"header_"+Ke.id,colSpan:Ke.totalVisibleHeaderCount,role:"columnheader"},de)},$e=function(de,Ie){var Ke=Ie.column;return s({key:"footer_"+Ke.id,colSpan:Ke.totalVisibleHeaderCount},de)},we=function(de,Ie){return s({key:"headerGroup_"+Ie.index,role:"row"},de)},Ee=function(de,Ie){return s({key:"footerGroup_"+Ie.index},de)},Re=function(de,Ie){return s({key:"row_"+Ie.row.id,role:"row"},de)},ft=function(de,Ie){var Ke=Ie.cell;return s({key:"cell_"+Ke.row.id+"_"+Ke.column.id,role:"cell"},de)};function qe(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[ke],getTableBodyProps:[Ge],getHeaderGroupProps:[we],getFooterGroupProps:[Ee],getHeaderProps:[ct],getFooterProps:[$e],getRowProps:[Re],getCellProps:[ft],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var dt=function(de){de.getToggleHiddenProps=[he],de.getToggleHideAllColumnsProps=[ut],de.stateReducers.push(xt),de.useInstanceBeforeDimensions.push(je),de.headerGroupsDeps.push(function(Ie,Ke){var et=Ke.instance;return[].concat(Ie,[et.state.hiddenColumns])}),de.useInstance.push(rt)};dt.pluginName="useColumnVisibility";var he=function(de,Ie){var Ke=Ie.column;return[de,{onChange:function(et){Ke.toggleHidden(!et.target.checked)},style:{cursor:"pointer"},checked:Ke.isVisible,title:"Toggle Column Visible"}]},ut=function(de,Ie){var Ke=Ie.instance;return[de,{onChange:function(et){Ke.toggleHideAllColumns(!et.target.checked)},style:{cursor:"pointer"},checked:!Ke.allColumnsHidden&&!Ke.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!Ke.allColumnsHidden&&Ke.state.hiddenColumns.length}]};function xt(de,Ie,Ke,et){if(Ie.type===u.init)return s({hiddenColumns:[]},de);if(Ie.type===u.resetHiddenColumns)return s({},de,{hiddenColumns:et.initialState.hiddenColumns||[]});if(Ie.type===u.toggleHideColumn){var St=(Ie.value!==void 0?Ie.value:!de.hiddenColumns.includes(Ie.columnId))?[].concat(de.hiddenColumns,[Ie.columnId]):de.hiddenColumns.filter(function(vt){return vt!==Ie.columnId});return s({},de,{hiddenColumns:St})}return Ie.type===u.setHiddenColumns?s({},de,{hiddenColumns:A(Ie.value,de.hiddenColumns)}):Ie.type===u.toggleHideAllColumns?s({},de,{hiddenColumns:(Ie.value!==void 0?Ie.value:!de.hiddenColumns.length)?et.allColumns.map(function(vt){return vt.id}):[]}):void 0}function je(de){var Ie=de.headers,Ke=de.state.hiddenColumns;n.useRef(!1).current;var et=0;Ie.forEach(function(St){return et+=function vt(Ot,Pr){Ot.isVisible=Pr&&!Ke.includes(Ot.id);var Tr=0;return Ot.headers&&Ot.headers.length?Ot.headers.forEach(function(Mr){return Tr+=vt(Mr,Ot.isVisible)}):Tr=Ot.isVisible?1:0,Ot.totalVisibleHeaderCount=Tr,Tr}(St,!0)})}function rt(de){var Ie=de.columns,Ke=de.flatHeaders,et=de.dispatch,St=de.allColumns,vt=de.getHooks,Ot=de.state.hiddenColumns,Pr=de.autoResetHiddenColumns,Tr=Pr===void 0||Pr,Mr=P(de),bn=St.length===Ot.length,sn=n.useCallback(function(Zn,hi){return et({type:u.toggleHideColumn,columnId:Zn,value:hi})},[et]),Pn=n.useCallback(function(Zn){return et({type:u.setHiddenColumns,value:Zn})},[et]),un=n.useCallback(function(Zn){return et({type:u.toggleHideAllColumns,value:Zn})},[et]),gn=v(vt().getToggleHideAllColumnsProps,{instance:Mr()});Ke.forEach(function(Zn){Zn.toggleHidden=function(hi){et({type:u.toggleHideColumn,columnId:Zn.id,value:hi})},Zn.getToggleHiddenProps=v(vt().getToggleHiddenProps,{instance:Mr(),column:Zn})});var Cn=P(Tr);E(function(){Cn()&&et({type:u.resetHiddenColumns})},[et,Ie]),Object.assign(de,{allColumnsHidden:bn,toggleHideColumn:sn,setHiddenColumns:Pn,toggleHideAllColumns:un,getToggleHideAllColumnsProps:gn})}var Ze={},yt={},Vt=function(de,Ie,Ke){return de},At=function(de,Ie){return de.subRows||[]},hr=function(de,Ie,Ke){return""+(Ke?[Ke.id,Ie].join("."):Ie)},Sr=function(de){return de};function fr(de){var Ie=de.initialState,Ke=Ie===void 0?Ze:Ie,et=de.defaultColumn,St=et===void 0?yt:et,vt=de.getSubRows,Ot=vt===void 0?At:vt,Pr=de.getRowId,Tr=Pr===void 0?hr:Pr,Mr=de.stateReducer,bn=Mr===void 0?Vt:Mr,sn=de.useControlledState,Pn=sn===void 0?Sr:sn;return s({},o(de,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:Ke,defaultColumn:St,getSubRows:Ot,getRowId:Tr,stateReducer:bn,useControlledState:Pn})}function Dt(de,Ie){Ie===void 0&&(Ie=0);var Ke=0,et=0,St=0,vt=0;return de.forEach(function(Ot){var Pr=Ot.headers;if(Ot.totalLeft=Ie,Pr&&Pr.length){var Tr=Dt(Pr,Ie),Mr=Tr[0],bn=Tr[1],sn=Tr[2],Pn=Tr[3];Ot.totalMinWidth=Mr,Ot.totalWidth=bn,Ot.totalMaxWidth=sn,Ot.totalFlexWidth=Pn}else Ot.totalMinWidth=Ot.minWidth,Ot.totalWidth=Math.min(Math.max(Ot.minWidth,Ot.width),Ot.maxWidth),Ot.totalMaxWidth=Ot.maxWidth,Ot.totalFlexWidth=Ot.canResize?Ot.totalWidth:0;Ot.isVisible&&(Ie+=Ot.totalWidth,Ke+=Ot.totalMinWidth,et+=Ot.totalWidth,St+=Ot.totalMaxWidth,vt+=Ot.totalFlexWidth)}),[Ke,et,St,vt]}function dr(de){var Ie=de.data,Ke=de.rows,et=de.flatRows,St=de.rowsById,vt=de.column,Ot=de.getRowId,Pr=de.getSubRows,Tr=de.accessValueHooks,Mr=de.getInstance;Ie.forEach(function(bn,sn){return function Pn(un,gn,Cn,Zn,hi){Cn===void 0&&(Cn=0);var ji=un,ii=Ot(un,gn,Zn),Bn=St[ii];if(Bn)Bn.subRows&&Bn.originalSubRows.forEach(function(ai,$i){return Pn(ai,$i,Cn+1,Bn)});else if((Bn={id:ii,original:ji,index:gn,depth:Cn,cells:[{}]}).cells.map=le,Bn.cells.filter=le,Bn.cells.forEach=le,Bn.cells[0].getCellProps=le,Bn.values={},hi.push(Bn),et.push(Bn),St[ii]=Bn,Bn.originalSubRows=Pr(un,gn),Bn.originalSubRows){var ni=[];Bn.originalSubRows.forEach(function(ai,$i){return Pn(ai,$i,Cn+1,Bn,ni)}),Bn.subRows=ni}vt.accessor&&(Bn.values[vt.id]=vt.accessor(un,gn,Bn,hi,Ie)),Bn.values[vt.id]=w(Tr,Bn.values[vt.id],{row:Bn,column:vt,instance:Mr()})}(bn,sn,0,void 0,Ke)})}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var Nr=function(de){de.getToggleAllRowsExpandedProps=[gr],de.getToggleRowExpandedProps=[wr],de.stateReducers.push(Fr),de.useInstance.push(_n),de.prepareRow.push(nn)};Nr.pluginName="useExpanded";var gr=function(de,Ie){var Ke=Ie.instance;return[de,{onClick:function(et){Ke.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},wr=function(de,Ie){var Ke=Ie.row;return[de,{onClick:function(){Ke.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function Fr(de,Ie,Ke,et){if(Ie.type===u.init)return s({expanded:{}},de);if(Ie.type===u.resetExpanded)return s({},de,{expanded:et.initialState.expanded||{}});if(Ie.type===u.toggleAllRowsExpanded){var St=Ie.value,vt=et.rowsById,Ot=Object.keys(vt).length===Object.keys(de.expanded).length;if(St!==void 0?St:!Ot){var Pr={};return Object.keys(vt).forEach(function(gn){Pr[gn]=!0}),s({},de,{expanded:Pr})}return s({},de,{expanded:{}})}if(Ie.type===u.toggleRowExpanded){var Tr,Mr=Ie.id,bn=Ie.value,sn=de.expanded[Mr],Pn=bn!==void 0?bn:!sn;if(!sn&&Pn)return s({},de,{expanded:s({},de.expanded,(Tr={},Tr[Mr]=!0,Tr))});if(sn&&!Pn){var un=de.expanded;return un[Mr],s({},de,{expanded:o(un,[Mr].map(l))})}return de}}function _n(de){var Ie=de.data,Ke=de.rows,et=de.rowsById,St=de.manualExpandedKey,vt=St===void 0?"expanded":St,Ot=de.paginateExpandedRows,Pr=Ot===void 0||Ot,Tr=de.expandSubRows,Mr=Tr===void 0||Tr,bn=de.autoResetExpanded,sn=bn===void 0||bn,Pn=de.getHooks,un=de.plugins,gn=de.state.expanded,Cn=de.dispatch;T(un,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var Zn=P(sn),hi=!!(Object.keys(et).length&&Object.keys(gn).length);hi&&Object.keys(et).some(function(_a){return!gn[_a]})&&(hi=!1),E(function(){Zn()&&Cn({type:u.resetExpanded})},[Cn,Ie]);var ji=n.useCallback(function(_a,Ai){Cn({type:u.toggleRowExpanded,id:_a,value:Ai})},[Cn]),ii=n.useCallback(function(_a){return Cn({type:u.toggleAllRowsExpanded,value:_a})},[Cn]),Bn=n.useMemo(function(){return Pr?ue(Ke,{manualExpandedKey:vt,expanded:gn,expandSubRows:Mr}):Ke},[Pr,Ke,vt,gn,Mr]),ni=n.useMemo(function(){return function(_a){var Ai=0;return Object.keys(_a).forEach(function(Zi){var ma=Zi.split(".");Ai=Math.max(Ai,ma.length)}),Ai}(gn)},[gn]),ai=P(de),$i=v(Pn().getToggleAllRowsExpandedProps,{instance:ai()});Object.assign(de,{preExpandedRows:Ke,expandedRows:Bn,rows:Bn,expandedDepth:ni,isAllRowsExpanded:hi,toggleRowExpanded:ji,toggleAllRowsExpanded:ii,getToggleAllRowsExpandedProps:$i})}function nn(de,Ie){var Ke=Ie.instance.getHooks,et=Ie.instance;de.toggleRowExpanded=function(St){return et.toggleRowExpanded(de.id,St)},de.getToggleRowExpandedProps=v(Ke().getToggleRowExpandedProps,{instance:et,row:de})}var ot=function(de,Ie,Ke){return de=de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return String(vt).toLowerCase().includes(String(Ke).toLowerCase())})})};ot.autoRemove=function(de){return!de};var Je=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return vt===void 0||String(vt).toLowerCase()===String(Ke).toLowerCase()})})};Je.autoRemove=function(de){return!de};var Me=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return vt===void 0||String(vt)===String(Ke)})})};Me.autoRemove=function(de){return!de};var Le=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){return et.values[St].includes(Ke)})})};Le.autoRemove=function(de){return!de||!de.length};var Ye=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return vt&&vt.length&&Ke.every(function(Ot){return vt.includes(Ot)})})})};Ye.autoRemove=function(de){return!de||!de.length};var gt=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return vt&&vt.length&&Ke.some(function(Ot){return vt.includes(Ot)})})})};gt.autoRemove=function(de){return!de||!de.length};var kt=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){var vt=et.values[St];return Ke.includes(vt)})})};kt.autoRemove=function(de){return!de||!de.length};var at=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){return et.values[St]===Ke})})};at.autoRemove=function(de){return de===void 0};var Ft=function(de,Ie,Ke){return de.filter(function(et){return Ie.some(function(St){return et.values[St]==Ke})})};Ft.autoRemove=function(de){return de==null};var Tt=function(de,Ie,Ke){var et=Ke||[],St=et[0],vt=et[1];if((St=typeof St=="number"?St:-1/0)>(vt=typeof vt=="number"?vt:1/0)){var Ot=St;St=vt,vt=Ot}return de.filter(function(Pr){return Ie.some(function(Tr){var Mr=Pr.values[Tr];return Mr>=St&&Mr<=vt})})};Tt.autoRemove=function(de){return!de||typeof de[0]!="number"&&typeof de[1]!="number"};var ir=Object.freeze({__proto__:null,text:ot,exactText:Je,exactTextCase:Me,includes:Le,includesAll:Ye,includesSome:gt,includesValue:kt,exact:at,equals:Ft,between:Tt});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var or=function(de){de.stateReducers.push(ar),de.useInstance.push(zr)};function ar(de,Ie,Ke,et){if(Ie.type===u.init)return s({filters:[]},de);if(Ie.type===u.resetFilters)return s({},de,{filters:et.initialState.filters||[]});if(Ie.type===u.setFilter){var St=Ie.columnId,vt=Ie.filterValue,Ot=et.allColumns,Pr=et.filterTypes,Tr=Ot.find(function(Cn){return Cn.id===St});if(!Tr)throw new Error("React-Table: Could not find a column with id: "+St);var Mr=pe(Tr.filter,Pr||{},ir),bn=de.filters.find(function(Cn){return Cn.id===St}),sn=A(vt,bn&&bn.value);return ve(Mr.autoRemove,sn,Tr)?s({},de,{filters:de.filters.filter(function(Cn){return Cn.id!==St})}):s({},de,bn?{filters:de.filters.map(function(Cn){return Cn.id===St?{id:St,value:sn}:Cn})}:{filters:[].concat(de.filters,[{id:St,value:sn}])})}if(Ie.type===u.setAllFilters){var Pn=Ie.filters,un=et.allColumns,gn=et.filterTypes;return s({},de,{filters:A(Pn,de.filters).filter(function(Cn){var Zn=un.find(function(hi){return hi.id===Cn.id});return!ve(pe(Zn.filter,gn||{},ir).autoRemove,Cn.value,Zn)})})}}function zr(de){var Ie=de.data,Ke=de.rows,et=de.flatRows,St=de.rowsById,vt=de.allColumns,Ot=de.filterTypes,Pr=de.manualFilters,Tr=de.defaultCanFilter,Mr=Tr!==void 0&&Tr,bn=de.disableFilters,sn=de.state.filters,Pn=de.dispatch,un=de.autoResetFilters,gn=un===void 0||un,Cn=n.useCallback(function(ai,$i){Pn({type:u.setFilter,columnId:ai,filterValue:$i})},[Pn]),Zn=n.useCallback(function(ai){Pn({type:u.setAllFilters,filters:ai})},[Pn]);vt.forEach(function(ai){var $i=ai.id,_a=ai.accessor,Ai=ai.defaultCanFilter,Zi=ai.disableFilters;ai.canFilter=_a?V(Zi!==!0&&void 0,bn!==!0&&void 0,!0):V(Ai,Mr,!1),ai.setFilter=function(Hi){return Cn(ai.id,Hi)};var ma=sn.find(function(Hi){return Hi.id===$i});ai.filterValue=ma&&ma.value});var hi=n.useMemo(function(){if(Pr||!sn.length)return[Ke,et,St];var ai=[],$i={};return[function _a(Ai,Zi){Zi===void 0&&(Zi=0);var ma=Ai;return(ma=sn.reduce(function(Hi,Pa){var ha=Pa.id,ka=Pa.value,pi=vt.find(function(Jo){return Jo.id===ha});if(!pi)return Hi;Zi===0&&(pi.preFilteredRows=Hi);var Ta=pe(pi.filter,Ot||{},ir);return Ta?(pi.filteredRows=Ta(Hi,[ha],ka),pi.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+pi.id+"."),Hi)},Ai)).forEach(function(Hi){ai.push(Hi),$i[Hi.id]=Hi,Hi.subRows&&(Hi.subRows=Hi.subRows&&Hi.subRows.length>0?_a(Hi.subRows,Zi+1):Hi.subRows)}),ma}(Ke),ai,$i]},[Pr,sn,Ke,et,St,vt,Ot]),ji=hi[0],ii=hi[1],Bn=hi[2];n.useMemo(function(){vt.filter(function(ai){return!sn.find(function($i){return $i.id===ai.id})}).forEach(function(ai){ai.preFilteredRows=ji,ai.filteredRows=ji})},[ji,sn,vt]);var ni=P(gn);E(function(){ni()&&Pn({type:u.resetFilters})},[Pn,Pr?null:Ie]),Object.assign(de,{preFilteredRows:Ke,preFilteredFlatRows:et,preFilteredRowsById:St,filteredRows:ji,filteredFlatRows:ii,filteredRowsById:Bn,rows:ji,flatRows:ii,rowsById:Bn,setFilter:Cn,setAllFilters:Zn})}or.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var mt=function(de){de.stateReducers.push(It),de.useInstance.push(Kt)};function It(de,Ie,Ke,et){if(Ie.type===u.resetGlobalFilter)return s({},de,{globalFilter:et.initialState.globalFilter||void 0});if(Ie.type===u.setGlobalFilter){var St=Ie.filterValue,vt=et.userFilterTypes,Ot=pe(et.globalFilter,vt||{},ir),Pr=A(St,de.globalFilter);return ve(Ot.autoRemove,Pr)?(de.globalFilter,o(de,["globalFilter"])):s({},de,{globalFilter:Pr})}}function Kt(de){var Ie=de.data,Ke=de.rows,et=de.flatRows,St=de.rowsById,vt=de.allColumns,Ot=de.filterTypes,Pr=de.globalFilter,Tr=de.manualGlobalFilter,Mr=de.state.globalFilter,bn=de.dispatch,sn=de.autoResetGlobalFilter,Pn=sn===void 0||sn,un=de.disableGlobalFilter,gn=n.useCallback(function(Bn){bn({type:u.setGlobalFilter,filterValue:Bn})},[bn]),Cn=n.useMemo(function(){if(Tr||Mr===void 0)return[Ke,et,St];var Bn=[],ni={},ai=pe(Pr,Ot||{},ir);if(!ai)return console.warn("Could not find a valid 'globalFilter' option."),Ke;vt.forEach(function(_a){var Ai=_a.disableGlobalFilter;_a.canFilter=V(Ai!==!0&&void 0,un!==!0&&void 0,!0)});var $i=vt.filter(function(_a){return _a.canFilter===!0});return[function _a(Ai){return(Ai=ai(Ai,$i.map(function(Zi){return Zi.id}),Mr)).forEach(function(Zi){Bn.push(Zi),ni[Zi.id]=Zi,Zi.subRows=Zi.subRows&&Zi.subRows.length?_a(Zi.subRows):Zi.subRows}),Ai}(Ke),Bn,ni]},[Tr,Mr,Pr,Ot,vt,Ke,et,St,un]),Zn=Cn[0],hi=Cn[1],ji=Cn[2],ii=P(Pn);E(function(){ii()&&bn({type:u.resetGlobalFilter})},[bn,Tr?null:Ie]),Object.assign(de,{preGlobalFilteredRows:Ke,preGlobalFilteredFlatRows:et,preGlobalFilteredRowsById:St,globalFilteredRows:Zn,globalFilteredFlatRows:hi,globalFilteredRowsById:ji,rows:Zn,flatRows:hi,rowsById:ji,setGlobalFilter:gn,disableGlobalFilter:un})}function br(de,Ie){return Ie.reduce(function(Ke,et){return Ke+(typeof et=="number"?et:0)},0)}mt.pluginName="useGlobalFilter";var Rr=Object.freeze({__proto__:null,sum:br,min:function(de){var Ie=de[0]||0;return de.forEach(function(Ke){typeof Ke=="number"&&(Ie=Math.min(Ie,Ke))}),Ie},max:function(de){var Ie=de[0]||0;return de.forEach(function(Ke){typeof Ke=="number"&&(Ie=Math.max(Ie,Ke))}),Ie},minMax:function(de){var Ie=de[0]||0,Ke=de[0]||0;return de.forEach(function(et){typeof et=="number"&&(Ie=Math.min(Ie,et),Ke=Math.max(Ke,et))}),Ie+".."+Ke},average:function(de){return br(0,de)/de.length},median:function(de){if(!de.length)return null;var Ie=Math.floor(de.length/2),Ke=[].concat(de).sort(function(et,St){return et-St});return de.length%2!=0?Ke[Ie]:(Ke[Ie-1]+Ke[Ie])/2},unique:function(de){return Array.from(new Set(de).values())},uniqueCount:function(de){return new Set(de).size},count:function(de){return de.length}}),jt=[],Yt={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var Jt=function(de){de.getGroupByToggleProps=[rr],de.stateReducers.push(vr),de.visibleColumnsDeps.push(function(Ie,Ke){var et=Ke.instance;return[].concat(Ie,[et.state.groupBy])}),de.visibleColumns.push(Lt),de.useInstance.push(fn),de.prepareRow.push(Fn)};Jt.pluginName="useGroupBy";var rr=function(de,Ie){var Ke=Ie.header;return[de,{onClick:Ke.canGroupBy?function(et){et.persist(),Ke.toggleGroupBy()}:void 0,style:{cursor:Ke.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function vr(de,Ie,Ke,et){if(Ie.type===u.init)return s({groupBy:[]},de);if(Ie.type===u.resetGroupBy)return s({},de,{groupBy:et.initialState.groupBy||[]});if(Ie.type===u.setGroupBy)return s({},de,{groupBy:Ie.value});if(Ie.type===u.toggleGroupBy){var St=Ie.columnId,vt=Ie.value,Ot=vt!==void 0?vt:!de.groupBy.includes(St);return s({},de,Ot?{groupBy:[].concat(de.groupBy,[St])}:{groupBy:de.groupBy.filter(function(Pr){return Pr!==St})})}}function Lt(de,Ie){var Ke=Ie.instance.state.groupBy,et=Ke.map(function(vt){return de.find(function(Ot){return Ot.id===vt})}).filter(Boolean),St=de.filter(function(vt){return!Ke.includes(vt.id)});return(de=[].concat(et,St)).forEach(function(vt){vt.isGrouped=Ke.includes(vt.id),vt.groupedIndex=Ke.indexOf(vt.id)}),de}var Ir={};function fn(de){var Ie=de.data,Ke=de.rows,et=de.flatRows,St=de.rowsById,vt=de.allColumns,Ot=de.flatHeaders,Pr=de.groupByFn,Tr=Pr===void 0?ui:Pr,Mr=de.manualGroupBy,bn=de.aggregations,sn=bn===void 0?Ir:bn,Pn=de.plugins,un=de.state.groupBy,gn=de.dispatch,Cn=de.autoResetGroupBy,Zn=Cn===void 0||Cn,hi=de.disableGroupBy,ji=de.defaultCanGroupBy,ii=de.getHooks;T(Pn,["useColumnOrder","useFilters"],"useGroupBy");var Bn=P(de);vt.forEach(function(pi){var Ta=pi.accessor,Jo=pi.defaultGroupBy,gs=pi.disableGroupBy;pi.canGroupBy=Ta?V(pi.canGroupBy,gs!==!0&&void 0,hi!==!0&&void 0,!0):V(pi.canGroupBy,Jo,ji,!1),pi.canGroupBy&&(pi.toggleGroupBy=function(){return de.toggleGroupBy(pi.id)}),pi.Aggregated=pi.Aggregated||pi.Cell});var ni=n.useCallback(function(pi,Ta){gn({type:u.toggleGroupBy,columnId:pi,value:Ta})},[gn]),ai=n.useCallback(function(pi){gn({type:u.setGroupBy,value:pi})},[gn]);Ot.forEach(function(pi){pi.getGroupByToggleProps=v(ii().getGroupByToggleProps,{instance:Bn(),header:pi})});var $i=n.useMemo(function(){if(Mr||!un.length)return[Ke,et,St,jt,Yt,et,St];var pi=un.filter(function(Uo){return vt.find(function(qc){return qc.id===Uo})}),Ta=[],Jo={},gs=[],Ii={},Qo=[],vs={},qs=function Uo(qc,ec,Kl){if(ec===void 0&&(ec=0),ec===pi.length)return qc.map(function(af){return s({},af,{depth:ec})});var xc=pi[ec],el=Tr(qc,xc);return Object.entries(el).map(function(af,nh){var Gh=af[0],Sf=af[1],tc=xc+":"+Gh,Kh=Uo(Sf,ec+1,tc=Kl?Kl+">"+tc:tc),Ef=ec?fe(Sf,"leafRows"):Sf,Sc=function(Il,Iu,Tp){var vl={};return vt.forEach(function(To){if(pi.includes(To.id))vl[To.id]=Iu[0]?Iu[0].values[To.id]:null;else{var Rp=typeof To.aggregate=="function"?To.aggregate:sn[To.aggregate]||Rr[To.aggregate];if(Rp){var Hc=Iu.map(function(la){return la.values[To.id]}),wm=Il.map(function(la){var Hn=la.values[To.id];if(!Tp&&To.aggregateValue){var Wc=typeof To.aggregateValue=="function"?To.aggregateValue:sn[To.aggregateValue]||Rr[To.aggregateValue];if(!Wc)throw console.info({column:To}),new Error("React Table: Invalid column.aggregateValue option for column listed above");Hn=Wc(Hn,la,To)}return Hn});vl[To.id]=Rp(wm,Hc)}else{if(To.aggregate)throw console.info({column:To}),new Error("React Table: Invalid column.aggregate option for column listed above");vl[To.id]=null}}}),vl}(Ef,Sf,ec),Pp={id:tc,isGrouped:!0,groupByID:xc,groupByVal:Gh,values:Sc,subRows:Kh,leafRows:Ef,depth:ec,index:nh};return Kh.forEach(function(Il){Ta.push(Il),Jo[Il.id]=Il,Il.isGrouped?(gs.push(Il),Ii[Il.id]=Il):(Qo.push(Il),vs[Il.id]=Il)}),Pp})}(Ke);return qs.forEach(function(Uo){Ta.push(Uo),Jo[Uo.id]=Uo,Uo.isGrouped?(gs.push(Uo),Ii[Uo.id]=Uo):(Qo.push(Uo),vs[Uo.id]=Uo)}),[qs,Ta,Jo,gs,Ii,Qo,vs]},[Mr,un,Ke,et,St,vt,sn,Tr]),_a=$i[0],Ai=$i[1],Zi=$i[2],ma=$i[3],Hi=$i[4],Pa=$i[5],ha=$i[6],ka=P(Zn);E(function(){ka()&&gn({type:u.resetGroupBy})},[gn,Mr?null:Ie]),Object.assign(de,{preGroupedRows:Ke,preGroupedFlatRow:et,preGroupedRowsById:St,groupedRows:_a,groupedFlatRows:Ai,groupedRowsById:Zi,onlyGroupedFlatRows:ma,onlyGroupedRowsById:Hi,nonGroupedFlatRows:Pa,nonGroupedRowsById:ha,rows:_a,flatRows:Ai,rowsById:Zi,toggleGroupBy:ni,setGroupBy:ai})}function Fn(de){de.allCells.forEach(function(Ie){var Ke;Ie.isGrouped=Ie.column.isGrouped&&Ie.column.id===de.groupByID,Ie.isPlaceholder=!Ie.isGrouped&&Ie.column.isGrouped,Ie.isAggregated=!Ie.isGrouped&&!Ie.isPlaceholder&&((Ke=de.subRows)==null?void 0:Ke.length)})}function ui(de,Ie){return de.reduce(function(Ke,et,St){var vt=""+et.values[Ie];return Ke[vt]=Array.isArray(Ke[vt])?Ke[vt]:[],Ke[vt].push(et),Ke},{})}var yi=/([0-9]+)/gm;function Wn(de,Ie){return de===Ie?0:de>Ie?1:-1}function mi(de,Ie,Ke){return[de.values[Ke],Ie.values[Ke]]}function ya(de){return typeof de=="number"?isNaN(de)||de===1/0||de===-1/0?"":String(de):typeof de=="string"?de:""}var Ka=Object.freeze({__proto__:null,alphanumeric:function(de,Ie,Ke){var et=mi(de,Ie,Ke),St=et[0],vt=et[1];for(St=ya(St),vt=ya(vt),St=St.split(yi).filter(Boolean),vt=vt.split(yi).filter(Boolean);St.length&&vt.length;){var Ot=St.shift(),Pr=vt.shift(),Tr=parseInt(Ot,10),Mr=parseInt(Pr,10),bn=[Tr,Mr].sort();if(isNaN(bn[0])){if(Ot>Pr)return 1;if(Pr>Ot)return-1}else{if(isNaN(bn[1]))return isNaN(Tr)?-1:1;if(Tr>Mr)return 1;if(Mr>Tr)return-1}}return St.length-vt.length},datetime:function(de,Ie,Ke){var et=mi(de,Ie,Ke),St=et[0],vt=et[1];return Wn(St=St.getTime(),vt=vt.getTime())},basic:function(de,Ie,Ke){var et=mi(de,Ie,Ke);return Wn(et[0],et[1])},string:function(de,Ie,Ke){var et=mi(de,Ie,Ke),St=et[0],vt=et[1];for(St=St.split("").filter(Boolean),vt=vt.split("").filter(Boolean);St.length&&vt.length;){var Ot=St.shift(),Pr=vt.shift(),Tr=Ot.toLowerCase(),Mr=Pr.toLowerCase();if(Tr>Mr)return 1;if(Mr>Tr)return-1;if(Ot>Pr)return 1;if(Pr>Ot)return-1}return St.length-vt.length},number:function(de,Ie,Ke){var et=mi(de,Ie,Ke),St=et[0],vt=et[1],Ot=/[^0-9.]/gi;return Wn(St=Number(String(St).replace(Ot,"")),vt=Number(String(vt).replace(Ot,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",p.sortType="alphanumeric",p.sortDescFirst=!1;var Ua=function(de){de.getSortByToggleProps=[Ji],de.stateReducers.push(So),de.useInstance.push(ci)};Ua.pluginName="useSortBy";var Ji=function(de,Ie){var Ke=Ie.instance,et=Ie.column,St=Ke.isMultiSortEvent,vt=St===void 0?function(Ot){return Ot.shiftKey}:St;return[de,{onClick:et.canSort?function(Ot){Ot.persist(),et.toggleSortBy(void 0,!Ke.disableMultiSort&&vt(Ot))}:void 0,style:{cursor:et.canSort?"pointer":void 0},title:et.canSort?"Toggle SortBy":void 0}]};function So(de,Ie,Ke,et){if(Ie.type===u.init)return s({sortBy:[]},de);if(Ie.type===u.resetSortBy)return s({},de,{sortBy:et.initialState.sortBy||[]});if(Ie.type===u.clearSortBy)return s({},de,{sortBy:de.sortBy.filter(function(Bn){return Bn.id!==Ie.columnId})});if(Ie.type===u.setSortBy)return s({},de,{sortBy:Ie.sortBy});if(Ie.type===u.toggleSortBy){var St,vt=Ie.columnId,Ot=Ie.desc,Pr=Ie.multi,Tr=et.allColumns,Mr=et.disableMultiSort,bn=et.disableSortRemove,sn=et.disableMultiRemove,Pn=et.maxMultiSortColCount,un=Pn===void 0?Number.MAX_SAFE_INTEGER:Pn,gn=de.sortBy,Cn=Tr.find(function(Bn){return Bn.id===vt}).sortDescFirst,Zn=gn.find(function(Bn){return Bn.id===vt}),hi=gn.findIndex(function(Bn){return Bn.id===vt}),ji=Ot!=null,ii=[];return(St=!Mr&&Pr?Zn?"toggle":"add":hi!==gn.length-1||gn.length!==1?"replace":Zn?"toggle":"replace")!="toggle"||bn||ji||Pr&&sn||!(Zn&&Zn.desc&&!Cn||!Zn.desc&&Cn)||(St="remove"),St==="replace"?ii=[{id:vt,desc:ji?Ot:Cn}]:St==="add"?(ii=[].concat(gn,[{id:vt,desc:ji?Ot:Cn}])).splice(0,ii.length-un):St==="toggle"?ii=gn.map(function(Bn){return Bn.id===vt?s({},Bn,{desc:ji?Ot:!Zn.desc}):Bn}):St==="remove"&&(ii=gn.filter(function(Bn){return Bn.id!==vt})),s({},de,{sortBy:ii})}}function ci(de){var Ie=de.data,Ke=de.rows,et=de.flatRows,St=de.allColumns,vt=de.orderByFn,Ot=vt===void 0?Ia:vt,Pr=de.sortTypes,Tr=de.manualSortBy,Mr=de.defaultCanSort,bn=de.disableSortBy,sn=de.flatHeaders,Pn=de.state.sortBy,un=de.dispatch,gn=de.plugins,Cn=de.getHooks,Zn=de.autoResetSortBy,hi=Zn===void 0||Zn;T(gn,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var ji=n.useCallback(function(Ai){un({type:u.setSortBy,sortBy:Ai})},[un]),ii=n.useCallback(function(Ai,Zi,ma){un({type:u.toggleSortBy,columnId:Ai,desc:Zi,multi:ma})},[un]),Bn=P(de);sn.forEach(function(Ai){var Zi=Ai.accessor,ma=Ai.canSort,Hi=Ai.disableSortBy,Pa=Ai.id,ha=Zi?V(Hi!==!0&&void 0,bn!==!0&&void 0,!0):V(Mr,ma,!1);Ai.canSort=ha,Ai.canSort&&(Ai.toggleSortBy=function(pi,Ta){return ii(Ai.id,pi,Ta)},Ai.clearSortBy=function(){un({type:u.clearSortBy,columnId:Ai.id})}),Ai.getSortByToggleProps=v(Cn().getSortByToggleProps,{instance:Bn(),column:Ai});var ka=Pn.find(function(pi){return pi.id===Pa});Ai.isSorted=!!ka,Ai.sortedIndex=Pn.findIndex(function(pi){return pi.id===Pa}),Ai.isSortedDesc=Ai.isSorted?ka.desc:void 0});var ni=n.useMemo(function(){if(Tr||!Pn.length)return[Ke,et];var Ai=[],Zi=Pn.filter(function(ma){return St.find(function(Hi){return Hi.id===ma.id})});return[function ma(Hi){var Pa=Ot(Hi,Zi.map(function(ha){var ka=St.find(function(Jo){return Jo.id===ha.id});if(!ka)throw new Error("React-Table: Could not find a column with id: "+ha.id+" while sorting");var pi=ka.sortType,Ta=J(pi)||(Pr||{})[pi]||Ka[pi];if(!Ta)throw new Error("React-Table: Could not find a valid sortType of '"+pi+"' for column '"+ha.id+"'.");return function(Jo,gs){return Ta(Jo,gs,ha.id,ha.desc)}}),Zi.map(function(ha){var ka=St.find(function(pi){return pi.id===ha.id});return ka&&ka.sortInverted?ha.desc:!ha.desc}));return Pa.forEach(function(ha){Ai.push(ha),ha.subRows&&ha.subRows.length!==0&&(ha.subRows=ma(ha.subRows))}),Pa}(Ke),Ai]},[Tr,Pn,Ke,et,St,Ot,Pr]),ai=ni[0],$i=ni[1],_a=P(hi);E(function(){_a()&&un({type:u.resetSortBy})},[Tr?null:Ie]),Object.assign(de,{preSortedRows:Ke,preSortedFlatRows:et,sortedRows:ai,sortedFlatRows:$i,rows:ai,flatRows:$i,setSortBy:ji,toggleSortBy:ii})}function Ia(de,Ie,Ke){return[].concat(de).sort(function(et,St){for(var vt=0;vt<Ie.length;vt+=1){var Ot=Ie[vt],Pr=Ke[vt]===!1||Ke[vt]==="desc",Tr=Ot(et,St);if(Tr!==0)return Pr?-Tr:Tr}return Ke[0]?et.index-St.index:St.index-et.index})}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var Ti=function(de){de.stateReducers.push(Ko),de.useInstance.push(wi)};function Ko(de,Ie,Ke,et){if(Ie.type===u.init)return s({pageSize:10,pageIndex:0},de);if(Ie.type===u.resetPage)return s({},de,{pageIndex:et.initialState.pageIndex||0});if(Ie.type===u.gotoPage){var St=et.pageCount,vt=et.page,Ot=A(Ie.pageIndex,de.pageIndex),Pr=!1;return Ot>de.pageIndex?Pr=St===-1?vt.length>=de.pageSize:Ot<St:Ot<de.pageIndex&&(Pr=Ot>-1),Pr?s({},de,{pageIndex:Ot}):de}if(Ie.type===u.setPageSize){var Tr=Ie.pageSize,Mr=de.pageSize*de.pageIndex;return s({},de,{pageIndex:Math.floor(Mr/Tr),pageSize:Tr})}}function wi(de){var Ie=de.rows,Ke=de.autoResetPage,et=Ke===void 0||Ke,St=de.manualExpandedKey,vt=St===void 0?"expanded":St,Ot=de.plugins,Pr=de.pageCount,Tr=de.paginateExpandedRows,Mr=Tr===void 0||Tr,bn=de.expandSubRows,sn=bn===void 0||bn,Pn=de.state,un=Pn.pageSize,gn=Pn.pageIndex,Cn=Pn.expanded,Zn=Pn.globalFilter,hi=Pn.filters,ji=Pn.groupBy,ii=Pn.sortBy,Bn=de.dispatch,ni=de.data,ai=de.manualPagination;T(Ot,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var $i=P(et);E(function(){$i()&&Bn({type:u.resetPage})},[Bn,ai?null:ni,Zn,hi,ji,ii]);var _a=ai?Pr:Math.ceil(Ie.length/un),Ai=n.useMemo(function(){return _a>0?[].concat(new Array(_a)).fill(null).map(function(Ta,Jo){return Jo}):[]},[_a]),Zi=n.useMemo(function(){var Ta;if(ai)Ta=Ie;else{var Jo=un*gn,gs=Jo+un;Ta=Ie.slice(Jo,gs)}return Mr?Ta:ue(Ta,{manualExpandedKey:vt,expanded:Cn,expandSubRows:sn})},[sn,Cn,vt,ai,gn,un,Mr,Ie]),ma=gn>0,Hi=_a===-1?Zi.length>=un:gn<_a-1,Pa=n.useCallback(function(Ta){Bn({type:u.gotoPage,pageIndex:Ta})},[Bn]),ha=n.useCallback(function(){return Pa(function(Ta){return Ta-1})},[Pa]),ka=n.useCallback(function(){return Pa(function(Ta){return Ta+1})},[Pa]),pi=n.useCallback(function(Ta){Bn({type:u.setPageSize,pageSize:Ta})},[Bn]);Object.assign(de,{pageOptions:Ai,pageCount:_a,page:Zi,canPreviousPage:ma,canNextPage:Hi,gotoPage:Pa,previousPage:ha,nextPage:ka,setPageSize:pi})}Ti.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var lo=function(de){de.getPivotToggleProps=[bi],de.stateReducers.push(Ri),de.useInstanceAfterData.push(sa),de.allColumns.push(qa),de.accessValue.push(os),de.materializedColumns.push(Eo),de.materializedColumnsDeps.push(Ns),de.visibleColumns.push(Zo),de.visibleColumnsDeps.push(ml),de.useInstance.push(Au),de.prepareRow.push(Vl)};lo.pluginName="usePivotColumns";var co=[],bi=function(de,Ie){var Ke=Ie.header;return[de,{onClick:Ke.canPivot?function(et){et.persist(),Ke.togglePivot()}:void 0,style:{cursor:Ke.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function Ri(de,Ie,Ke,et){if(Ie.type===u.init)return s({pivotColumns:co},de);if(Ie.type===u.resetPivot)return s({},de,{pivotColumns:et.initialState.pivotColumns||co});if(Ie.type===u.togglePivot){var St=Ie.columnId,vt=Ie.value,Ot=vt!==void 0?vt:!de.pivotColumns.includes(St);return s({},de,Ot?{pivotColumns:[].concat(de.pivotColumns,[St])}:{pivotColumns:de.pivotColumns.filter(function(Pr){return Pr!==St})})}}function sa(de){de.allColumns.forEach(function(Ie){Ie.isPivotSource=de.state.pivotColumns.includes(Ie.id)})}function qa(de,Ie){var Ke=Ie.instance;return de.forEach(function(et){et.isPivotSource=Ke.state.pivotColumns.includes(et.id),et.uniqueValues=new Set}),de}function os(de,Ie){var Ke=Ie.column;return Ke.uniqueValues&&de!==void 0&&Ke.uniqueValues.add(de),de}function Eo(de,Ie){var Ke=Ie.instance,et=Ke.allColumns,St=Ke.state;if(!St.pivotColumns.length||!St.groupBy||!St.groupBy.length)return de;var vt=St.pivotColumns.map(function(Tr){return et.find(function(Mr){return Mr.id===Tr})}).filter(Boolean),Ot=et.filter(function(Tr){return!Tr.isPivotSource&&!St.groupBy.includes(Tr.id)&&!St.pivotColumns.includes(Tr.id)}),Pr=F(function Tr(Mr,bn,sn){Mr===void 0&&(Mr=0),sn===void 0&&(sn=[]);var Pn=vt[Mr];return Pn?Array.from(Pn.uniqueValues).sort().map(function(un){var gn=s({},Pn,{Header:Pn.PivotHeader||typeof Pn.header=="string"?Pn.Header+": "+un:un,isPivotGroup:!0,parent:bn,depth:Mr,id:bn?bn.id+"."+Pn.id+"."+un:Pn.id+"."+un,pivotValue:un});return gn.columns=Tr(Mr+1,gn,[].concat(sn,[function(Cn){return Cn.values[Pn.id]===un}])),gn}):Ot.map(function(un){return s({},un,{canPivot:!1,isPivoted:!0,parent:bn,depth:Mr,id:""+(bn?bn.id+"."+un.id:un.id),accessor:function(gn,Cn,Zn){if(sn.every(function(hi){return hi(Zn)}))return Zn.values[un.id]}})})}());return[].concat(de,Pr)}function Ns(de,Ie){var Ke=Ie.instance.state,et=Ke.pivotColumns,St=Ke.groupBy;return[].concat(de,[et,St])}function Zo(de,Ie){var Ke=Ie.instance.state;return de=de.filter(function(et){return!et.isPivotSource}),Ke.pivotColumns.length&&Ke.groupBy&&Ke.groupBy.length&&(de=de.filter(function(et){return et.isGrouped||et.isPivoted})),de}function ml(de,Ie){var Ke=Ie.instance;return[].concat(de,[Ke.state.pivotColumns,Ke.state.groupBy])}function Au(de){var Ie=de.columns,Ke=de.allColumns,et=de.flatHeaders,St=de.getHooks,vt=de.plugins,Ot=de.dispatch,Pr=de.autoResetPivot,Tr=Pr===void 0||Pr,Mr=de.manaulPivot,bn=de.disablePivot,sn=de.defaultCanPivot;T(vt,["useGroupBy"],"usePivotColumns");var Pn=P(de);Ke.forEach(function(gn){var Cn=gn.accessor,Zn=gn.defaultPivot,hi=gn.disablePivot;gn.canPivot=Cn?V(gn.canPivot,hi!==!0&&void 0,bn!==!0&&void 0,!0):V(gn.canPivot,Zn,sn,!1),gn.canPivot&&(gn.togglePivot=function(){return de.togglePivot(gn.id)}),gn.Aggregated=gn.Aggregated||gn.Cell}),et.forEach(function(gn){gn.getPivotToggleProps=v(St().getPivotToggleProps,{instance:Pn(),header:gn})});var un=P(Tr);E(function(){un()&&Ot({type:u.resetPivot})},[Ot,Mr?null:Ie]),Object.assign(de,{togglePivot:function(gn,Cn){Ot({type:u.togglePivot,columnId:gn,value:Cn})}})}function Vl(de){de.allCells.forEach(function(Ie){Ie.isPivoted=Ie.column.isPivoted})}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var gl=function(de){de.getToggleRowSelectedProps=[wc],de.getToggleAllRowsSelectedProps=[Gl],de.getToggleAllPageRowsSelectedProps=[ko],de.stateReducers.push(Rl),de.useInstance.push(uo),de.prepareRow.push(Al)};gl.pluginName="useRowSelect";var wc=function(de,Ie){var Ke=Ie.instance,et=Ie.row,St=Ke.manualRowSelectedKey,vt=St===void 0?"isSelected":St;return[de,{onChange:function(Ot){et.toggleRowSelected(Ot.target.checked)},style:{cursor:"pointer"},checked:!(!et.original||!et.original[vt])||et.isSelected,title:"Toggle Row Selected",indeterminate:et.isSomeSelected}]},Gl=function(de,Ie){var Ke=Ie.instance;return[de,{onChange:function(et){Ke.toggleAllRowsSelected(et.target.checked)},style:{cursor:"pointer"},checked:Ke.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!Ke.isAllRowsSelected&&Object.keys(Ke.state.selectedRowIds).length)}]},ko=function(de,Ie){var Ke=Ie.instance;return[de,{onChange:function(et){Ke.toggleAllPageRowsSelected(et.target.checked)},style:{cursor:"pointer"},checked:Ke.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!Ke.isAllPageRowsSelected&&Ke.page.some(function(et){var St=et.id;return Ke.state.selectedRowIds[St]}))}]};function Rl(de,Ie,Ke,et){if(Ie.type===u.init)return s({selectedRowIds:{}},de);if(Ie.type===u.resetSelectedRows)return s({},de,{selectedRowIds:et.initialState.selectedRowIds||{}});if(Ie.type===u.toggleAllRowsSelected){var St=Ie.value,vt=et.isAllRowsSelected,Ot=et.rowsById,Pr=et.nonGroupedRowsById,Tr=Pr===void 0?Ot:Pr,Mr=St!==void 0?St:!vt,bn=Object.assign({},de.selectedRowIds);return Mr?Object.keys(Tr).forEach(function(Pa){bn[Pa]=!0}):Object.keys(Tr).forEach(function(Pa){delete bn[Pa]}),s({},de,{selectedRowIds:bn})}if(Ie.type===u.toggleRowSelected){var sn=Ie.id,Pn=Ie.value,un=et.rowsById,gn=et.selectSubRows,Cn=gn===void 0||gn,Zn=et.getSubRows,hi=de.selectedRowIds[sn],ji=Pn!==void 0?Pn:!hi;if(hi===ji)return de;var ii=s({},de.selectedRowIds);return function Pa(ha){var ka=un[ha];if(ka&&(ka.isGrouped||(ji?ii[ha]=!0:delete ii[ha]),Cn&&Zn(ka)))return Zn(ka).forEach(function(pi){return Pa(pi.id)})}(sn),s({},de,{selectedRowIds:ii})}if(Ie.type===u.toggleAllPageRowsSelected){var Bn=Ie.value,ni=et.page,ai=et.rowsById,$i=et.selectSubRows,_a=$i===void 0||$i,Ai=et.isAllPageRowsSelected,Zi=et.getSubRows,ma=Bn!==void 0?Bn:!Ai,Hi=s({},de.selectedRowIds);return ni.forEach(function(Pa){return function ha(ka){var pi=ai[ka];if(pi.isGrouped||(ma?Hi[ka]=!0:delete Hi[ka]),_a&&Zi(pi))return Zi(pi).forEach(function(Ta){return ha(Ta.id)})}(Pa.id)}),s({},de,{selectedRowIds:Hi})}return de}function uo(de){var Ie=de.data,Ke=de.rows,et=de.getHooks,St=de.plugins,vt=de.rowsById,Ot=de.nonGroupedRowsById,Pr=Ot===void 0?vt:Ot,Tr=de.autoResetSelectedRows,Mr=Tr===void 0||Tr,bn=de.state.selectedRowIds,sn=de.selectSubRows,Pn=sn===void 0||sn,un=de.dispatch,gn=de.page,Cn=de.getSubRows;T(St,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var Zn=n.useMemo(function(){var Zi=[];return Ke.forEach(function(ma){var Hi=Pn?function Pa(ha,ka,pi){if(ka[ha.id])return!0;var Ta=pi(ha);if(Ta&&Ta.length){var Jo=!0,gs=!1;return Ta.forEach(function(Ii){gs&&!Jo||(Pa(Ii,ka,pi)?gs=!0:Jo=!1)}),!!Jo||!!gs&&null}return!1}(ma,bn,Cn):!!bn[ma.id];ma.isSelected=!!Hi,ma.isSomeSelected=Hi===null,Hi&&Zi.push(ma)}),Zi},[Ke,Pn,bn,Cn]),hi=!!(Object.keys(Pr).length&&Object.keys(bn).length),ji=hi;hi&&Object.keys(Pr).some(function(Zi){return!bn[Zi]})&&(hi=!1),hi||gn&&gn.length&&gn.some(function(Zi){var ma=Zi.id;return!bn[ma]})&&(ji=!1);var ii=P(Mr);E(function(){ii()&&un({type:u.resetSelectedRows})},[un,Ie]);var Bn=n.useCallback(function(Zi){return un({type:u.toggleAllRowsSelected,value:Zi})},[un]),ni=n.useCallback(function(Zi){return un({type:u.toggleAllPageRowsSelected,value:Zi})},[un]),ai=n.useCallback(function(Zi,ma){return un({type:u.toggleRowSelected,id:Zi,value:ma})},[un]),$i=P(de),_a=v(et().getToggleAllRowsSelectedProps,{instance:$i()}),Ai=v(et().getToggleAllPageRowsSelectedProps,{instance:$i()});Object.assign(de,{selectedFlatRows:Zn,isAllRowsSelected:hi,isAllPageRowsSelected:ji,toggleRowSelected:ai,toggleAllRowsSelected:Bn,getToggleAllRowsSelectedProps:_a,getToggleAllPageRowsSelectedProps:Ai,toggleAllPageRowsSelected:ni})}function Al(de,Ie){var Ke=Ie.instance;de.toggleRowSelected=function(et){return Ke.toggleRowSelected(de.id,et)},de.getToggleRowSelectedProps=v(Ke.getHooks().getToggleRowSelectedProps,{instance:Ke,row:de})}var Ol=function(de){return{}},fa=function(de){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var Co=function(de){de.stateReducers.push(Bi),de.useInstance.push(to),de.prepareRow.push(Yo)};function Bi(de,Ie,Ke,et){var St=et.initialRowStateAccessor,vt=St===void 0?Ol:St,Ot=et.initialCellStateAccessor,Pr=Ot===void 0?fa:Ot,Tr=et.rowsById;if(Ie.type===u.init)return s({rowState:{}},de);if(Ie.type===u.resetRowState)return s({},de,{rowState:et.initialState.rowState||{}});if(Ie.type===u.setRowState){var Mr,bn=Ie.rowId,sn=Ie.value,Pn=de.rowState[bn]!==void 0?de.rowState[bn]:vt(Tr[bn]);return s({},de,{rowState:s({},de.rowState,(Mr={},Mr[bn]=A(sn,Pn),Mr))})}if(Ie.type===u.setCellState){var un,gn,Cn,Zn,hi,ji=Ie.rowId,ii=Ie.columnId,Bn=Ie.value,ni=de.rowState[ji]!==void 0?de.rowState[ji]:vt(Tr[ji]),ai=(ni==null||(un=ni.cellState)==null?void 0:un[ii])!==void 0?ni.cellState[ii]:Pr((gn=Tr[ji])==null||(Cn=gn.cells)==null?void 0:Cn.find(function($i){return $i.column.id===ii}));return s({},de,{rowState:s({},de.rowState,(hi={},hi[ji]=s({},ni,{cellState:s({},ni.cellState||{},(Zn={},Zn[ii]=A(Bn,ai),Zn))}),hi))})}}function to(de){var Ie=de.autoResetRowState,Ke=Ie===void 0||Ie,et=de.data,St=de.dispatch,vt=n.useCallback(function(Tr,Mr){return St({type:u.setRowState,rowId:Tr,value:Mr})},[St]),Ot=n.useCallback(function(Tr,Mr,bn){return St({type:u.setCellState,rowId:Tr,columnId:Mr,value:bn})},[St]),Pr=P(Ke);E(function(){Pr()&&St({type:u.resetRowState})},[et]),Object.assign(de,{setRowState:vt,setCellState:Ot})}function Yo(de,Ie){var Ke=Ie.instance,et=Ke.initialRowStateAccessor,St=et===void 0?Ol:et,vt=Ke.initialCellStateAccessor,Ot=vt===void 0?fa:vt,Pr=Ke.state.rowState;de&&(de.state=Pr[de.id]!==void 0?Pr[de.id]:St(de),de.setState=function(Tr){return Ke.setRowState(de.id,Tr)},de.cells.forEach(function(Tr){de.state.cellState||(de.state.cellState={}),Tr.state=de.state.cellState[Tr.column.id]!==void 0?de.state.cellState[Tr.column.id]:Ot(Tr),Tr.setState=function(Mr){return Ke.setCellState(de.id,Tr.column.id,Mr)}}))}Co.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var du=function(de){de.stateReducers.push(Ei),de.visibleColumnsDeps.push(function(Ie,Ke){var et=Ke.instance;return[].concat(Ie,[et.state.columnOrder])}),de.visibleColumns.push(Ou),de.useInstance.push(hu)};function Ei(de,Ie,Ke,et){return Ie.type===u.init?s({columnOrder:[]},de):Ie.type===u.resetColumnOrder?s({},de,{columnOrder:et.initialState.columnOrder||[]}):Ie.type===u.setColumnOrder?s({},de,{columnOrder:A(Ie.columnOrder,de.columnOrder)}):void 0}function Ou(de,Ie){var Ke=Ie.instance.state.columnOrder;if(!Ke||!Ke.length)return de;for(var et=[].concat(Ke),St=[].concat(de),vt=[],Ot=function(){var Pr=et.shift(),Tr=St.findIndex(function(Mr){return Mr.id===Pr});Tr>-1&&vt.push(St.splice(Tr,1)[0])};St.length&&et.length;)Ot();return[].concat(vt,St)}function hu(de){var Ie=de.dispatch;de.setColumnOrder=n.useCallback(function(Ke){return Ie({type:u.setColumnOrder,columnOrder:Ke})},[Ie])}du.pluginName="useColumnOrder",p.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var Qs=function(de){de.getResizerProps=[Ma],de.getHeaderProps.push({style:{position:"relative"}}),de.stateReducers.push(Po),de.useInstance.push(ss),de.useInstanceBeforeDimensions.push(Ha)},Ma=function(de,Ie){var Ke=Ie.instance,et=Ie.header,St=Ke.dispatch,vt=function(Ot,Pr){var Tr=!1;if(Ot.type==="touchstart"){if(Ot.touches&&Ot.touches.length>1)return;Tr=!0}var Mr,bn,sn=function(ii){var Bn=[];return function ni(ai){ai.columns&&ai.columns.length&&ai.columns.map(ni),Bn.push(ai)}(ii),Bn}(Pr).map(function(ii){return[ii.id,ii.totalWidth]}),Pn=Tr?Math.round(Ot.touches[0].clientX):Ot.clientX,un=function(){window.cancelAnimationFrame(Mr),Mr=null,St({type:u.columnDoneResizing})},gn=function(){window.cancelAnimationFrame(Mr),Mr=null,St({type:u.columnResizing,clientX:bn})},Cn=function(ii){bn=ii,Mr||(Mr=window.requestAnimationFrame(gn))},Zn={mouse:{moveEvent:"mousemove",moveHandler:function(ii){return Cn(ii.clientX)},upEvent:"mouseup",upHandler:function(ii){document.removeEventListener("mousemove",Zn.mouse.moveHandler),document.removeEventListener("mouseup",Zn.mouse.upHandler),un()}},touch:{moveEvent:"touchmove",moveHandler:function(ii){return ii.cancelable&&(ii.preventDefault(),ii.stopPropagation()),Cn(ii.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(ii){document.removeEventListener(Zn.touch.moveEvent,Zn.touch.moveHandler),document.removeEventListener(Zn.touch.upEvent,Zn.touch.moveHandler),un()}}},hi=Tr?Zn.touch:Zn.mouse,ji=!!function(){if(typeof se=="boolean")return se;var ii=!1;try{var Bn={get passive(){return ii=!0,!1}};window.addEventListener("test",null,Bn),window.removeEventListener("test",null,Bn)}catch{ii=!1}return se=ii}()&&{passive:!1};document.addEventListener(hi.moveEvent,hi.moveHandler,ji),document.addEventListener(hi.upEvent,hi.upHandler,ji),St({type:u.columnStartResizing,columnId:Pr.id,columnWidth:Pr.totalWidth,headerIdWidths:sn,clientX:Pn})};return[de,{onMouseDown:function(Ot){return Ot.persist()||vt(Ot,et)},onTouchStart:function(Ot){return Ot.persist()||vt(Ot,et)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Po(de,Ie){if(Ie.type===u.init)return s({columnResizing:{columnWidths:{}}},de);if(Ie.type===u.resetResize)return s({},de,{columnResizing:{columnWidths:{}}});if(Ie.type===u.columnStartResizing){var Ke=Ie.clientX,et=Ie.columnId,St=Ie.columnWidth,vt=Ie.headerIdWidths;return s({},de,{columnResizing:s({},de.columnResizing,{startX:Ke,headerIdWidths:vt,columnWidth:St,isResizingColumn:et})})}if(Ie.type===u.columnResizing){var Ot=Ie.clientX,Pr=de.columnResizing,Tr=Pr.startX,Mr=Pr.columnWidth,bn=Pr.headerIdWidths,sn=(Ot-Tr)/Mr,Pn={};return(bn===void 0?[]:bn).forEach(function(un){var gn=un[0],Cn=un[1];Pn[gn]=Math.max(Cn+Cn*sn,0)}),s({},de,{columnResizing:s({},de.columnResizing,{columnWidths:s({},de.columnResizing.columnWidths,{},Pn)})})}return Ie.type===u.columnDoneResizing?s({},de,{columnResizing:s({},de.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Qs.pluginName="useResizeColumns";var Ha=function(de){var Ie=de.flatHeaders,Ke=de.disableResizing,et=de.getHooks,St=de.state.columnResizing,vt=P(de);Ie.forEach(function(Ot){var Pr=V(Ot.disableResizing!==!0&&void 0,Ke!==!0&&void 0,!0);Ot.canResize=Pr,Ot.width=St.columnWidths[Ot.id]||Ot.originalWidth||Ot.width,Ot.isResizing=St.isResizingColumn===Ot.id,Pr&&(Ot.getResizerProps=v(et().getResizerProps,{instance:vt(),header:Ot}))})};function ss(de){var Ie=de.plugins,Ke=de.dispatch,et=de.autoResetResize,St=et===void 0||et,vt=de.columns;T(Ie,["useAbsoluteLayout"],"useResizeColumns");var Ot=P(St);E(function(){Ot()&&Ke({type:u.resetResize})},[vt]);var Pr=n.useCallback(function(){return Ke({type:u.resetResize})},[Ke]);Object.assign(de,{resetResizing:Pr})}var Ca={position:"absolute",top:0},nf=function(de){de.getTableBodyProps.push(Xo),de.getRowProps.push(Xo),de.getHeaderGroupProps.push(Xo),de.getFooterGroupProps.push(Xo),de.getHeaderProps.push(function(Ie,Ke){var et=Ke.column;return[Ie,{style:s({},Ca,{left:et.totalLeft+"px",width:et.totalWidth+"px"})}]}),de.getCellProps.push(function(Ie,Ke){var et=Ke.cell;return[Ie,{style:s({},Ca,{left:et.column.totalLeft+"px",width:et.column.totalWidth+"px"})}]}),de.getFooterProps.push(function(Ie,Ke){var et=Ke.column;return[Ie,{style:s({},Ca,{left:et.totalLeft+"px",width:et.totalWidth+"px"})}]})};nf.pluginName="useAbsoluteLayout";var Xo=function(de,Ie){return[de,{style:{position:"relative",width:Ie.instance.totalColumnsWidth+"px"}}]},ms={display:"inline-block",boxSizing:"border-box"},ba=function(de,Ie){return[de,{style:{display:"flex",width:Ie.instance.totalColumnsWidth+"px"}}]},_t=function(de){de.getRowProps.push(ba),de.getHeaderGroupProps.push(ba),de.getFooterGroupProps.push(ba),de.getHeaderProps.push(function(Ie,Ke){var et=Ke.column;return[Ie,{style:s({},ms,{width:et.totalWidth+"px"})}]}),de.getCellProps.push(function(Ie,Ke){var et=Ke.cell;return[Ie,{style:s({},ms,{width:et.column.totalWidth+"px"})}]}),de.getFooterProps.push(function(Ie,Ke){var et=Ke.column;return[Ie,{style:s({},ms,{width:et.totalWidth+"px"})}]})};function Nt(de){de.getTableProps.push(Ar),de.getRowProps.push(Zt),de.getHeaderGroupProps.push(Zt),de.getFooterGroupProps.push(Zt),de.getHeaderProps.push(pr),de.getCellProps.push(Kr),de.getFooterProps.push(rn)}_t.pluginName="useBlockLayout",Nt.pluginName="useFlexLayout";var Ar=function(de,Ie){return[de,{style:{minWidth:Ie.instance.totalColumnsMinWidth+"px"}}]},Zt=function(de,Ie){return[de,{style:{display:"flex",flex:"1 0 auto",minWidth:Ie.instance.totalColumnsMinWidth+"px"}}]},pr=function(de,Ie){var Ke=Ie.column;return[de,{style:{boxSizing:"border-box",flex:Ke.totalFlexWidth?Ke.totalFlexWidth+" 0 auto":void 0,minWidth:Ke.totalMinWidth+"px",width:Ke.totalWidth+"px"}}]},Kr=function(de,Ie){var Ke=Ie.cell;return[de,{style:{boxSizing:"border-box",flex:Ke.column.totalFlexWidth+" 0 auto",minWidth:Ke.column.totalMinWidth+"px",width:Ke.column.totalWidth+"px"}}]},rn=function(de,Ie){var Ke=Ie.column;return[de,{style:{boxSizing:"border-box",flex:Ke.totalFlexWidth?Ke.totalFlexWidth+" 0 auto":void 0,minWidth:Ke.totalMinWidth+"px",width:Ke.totalWidth+"px"}}]};function ri(de){de.stateReducers.push(Un),de.getTableProps.push(Sn),de.getHeaderProps.push(Ln),de.getRowProps.push(An)}u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize",ri.pluginName="useGridLayout";var Sn=function(de,Ie){var Ke=Ie.instance;return[de,{style:{display:"grid",gridTemplateColumns:Ke.visibleColumns.map(function(et){var St;return Ke.state.gridLayout.columnWidths[et.id]?Ke.state.gridLayout.columnWidths[et.id]+"px":(St=Ke.state.columnResizing)!=null&&St.isResizingColumn?Ke.state.gridLayout.startWidths[et.id]+"px":typeof et.width=="number"?et.width+"px":et.width}).join(" ")}}]},Ln=function(de,Ie){var Ke=Ie.column;return[de,{id:"header-cell-"+Ke.id,style:{position:"sticky",gridColumn:"span "+Ke.totalVisibleHeaderCount}}]},An=function(de,Ie){var Ke=Ie.row;return Ke.isExpanded?[de,{style:{gridColumn:"1 / "+(Ke.cells.length+1)}}]:[de,{}]};function Un(de,Ie,Ke,et){if(Ie.type===u.init)return s({gridLayout:{columnWidths:{}}},de);if(Ie.type===u.resetResize)return s({},de,{gridLayout:{columnWidths:{}}});if(Ie.type===u.columnStartResizing){var St=Ie.columnId,vt=Ie.headerIdWidths,Ot=fi(St);if(Ot!==void 0){var Pr=et.visibleColumns.reduce(function(Bn,ni){var ai;return s({},Bn,((ai={})[ni.id]=fi(ni.id),ai))},{}),Tr=et.visibleColumns.reduce(function(Bn,ni){var ai;return s({},Bn,((ai={})[ni.id]=ni.minWidth,ai))},{}),Mr=et.visibleColumns.reduce(function(Bn,ni){var ai;return s({},Bn,((ai={})[ni.id]=ni.maxWidth,ai))},{}),bn=vt.map(function(Bn){var ni=Bn[0];return[ni,fi(ni)]});return s({},de,{gridLayout:s({},de.gridLayout,{startWidths:Pr,minWidths:Tr,maxWidths:Mr,headerIdGridWidths:bn,columnWidth:Ot})})}return de}if(Ie.type===u.columnResizing){var sn=Ie.clientX,Pn=de.columnResizing.startX,un=de.gridLayout,gn=un.columnWidth,Cn=un.minWidths,Zn=un.maxWidths,hi=un.headerIdGridWidths,ji=(sn-Pn)/gn,ii={};return(hi===void 0?[]:hi).forEach(function(Bn){var ni=Bn[0],ai=Bn[1];ii[ni]=Math.min(Math.max(Cn[ni],ai+ai*ji),Zn[ni])}),s({},de,{gridLayout:s({},de.gridLayout,{columnWidths:s({},de.gridLayout.columnWidths,{},ii)})})}return Ie.type===u.columnDoneResizing?s({},de,{gridLayout:s({},de.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function fi(de){var Ie,Ke=(Ie=document.getElementById("header-cell-"+de))==null?void 0:Ie.offsetWidth;if(Ke!==void 0)return Ke}r._UNSTABLE_usePivotColumns=lo,r.actions=u,r.defaultColumn=p,r.defaultGroupByFn=ui,r.defaultOrderByFn=Ia,r.defaultRenderer=f,r.emptyRenderer=h,r.ensurePluginOrder=T,r.flexRender=R,r.functionalUpdate=A,r.loopHooks=x,r.makePropGetter=v,r.makeRenderer=_,r.reduceHooks=w,r.safeUseLayoutEffect=S,r.useAbsoluteLayout=nf,r.useAsyncDebounce=function(de,Ie){Ie===void 0&&(Ie=0);var Ke=n.useRef({}),et=P(de),St=P(Ie);return n.useCallback(function(){var vt=a(regeneratorRuntime.mark(function Ot(){var Pr,Tr,Mr,bn=arguments;return regeneratorRuntime.wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:for(Pr=bn.length,Tr=new Array(Pr),Mr=0;Mr<Pr;Mr++)Tr[Mr]=bn[Mr];return Ke.current.promise||(Ke.current.promise=new Promise(function(Pn,un){Ke.current.resolve=Pn,Ke.current.reject=un})),Ke.current.timeout&&clearTimeout(Ke.current.timeout),Ke.current.timeout=setTimeout(a(regeneratorRuntime.mark(function Pn(){return regeneratorRuntime.wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return delete Ke.current.timeout,un.prev=1,un.t0=Ke.current,un.next=5,et().apply(void 0,Tr);case 5:un.t1=un.sent,un.t0.resolve.call(un.t0,un.t1),un.next=12;break;case 9:un.prev=9,un.t2=un.catch(1),Ke.current.reject(un.t2);case 12:return un.prev=12,delete Ke.current.promise,un.finish(12);case 15:case"end":return un.stop()}},Pn,null,[[1,9,12,15]])})),St()),sn.abrupt("return",Ke.current.promise);case 5:case"end":return sn.stop()}},Ot)}));return function(){return vt.apply(this,arguments)}}(),[et,St])},r.useBlockLayout=_t,r.useColumnOrder=du,r.useExpanded=Nr,r.useFilters=or,r.useFlexLayout=Nt,r.useGetLatest=P,r.useGlobalFilter=mt,r.useGridLayout=ri,r.useGroupBy=Jt,r.useMountedLayoutEffect=E,r.usePagination=Ti,r.useResizeColumns=Qs,r.useRowSelect=gl,r.useRowState=Co,r.useSortBy=Ua,r.useTable=function(de){for(var Ie=arguments.length,Ke=new Array(Ie>1?Ie-1:0),et=1;et<Ie;et++)Ke[et-1]=arguments[et];de=fr(de),Ke=[dt].concat(Ke);var St=n.useRef({}),vt=P(St.current);Object.assign(vt(),s({},de,{plugins:Ke,hooks:qe()})),Ke.filter(Boolean).forEach(function(Ii){Ii(vt().hooks)});var Ot=P(vt().hooks);vt().getHooks=Ot,delete vt().hooks,Object.assign(vt(),w(Ot().useOptions,fr(de)));var Pr=vt(),Tr=Pr.data,Mr=Pr.columns,bn=Pr.initialState,sn=Pr.defaultColumn,Pn=Pr.getSubRows,un=Pr.getRowId,gn=Pr.stateReducer,Cn=Pr.useControlledState,Zn=P(gn),hi=n.useCallback(function(Ii,Qo){if(!Qo.type)throw console.info({action:Qo}),new Error("Unknown Action 👆");return[].concat(Ot().stateReducers,Array.isArray(Zn())?Zn():[Zn()]).reduce(function(vs,qs){return qs(vs,Qo,Ii,vt())||vs},Ii)},[Ot,Zn,vt]),ji=n.useReducer(hi,void 0,function(){return hi(bn,{type:u.init})}),ii=ji[0],Bn=ji[1],ni=w([].concat(Ot().useControlledState,[Cn]),ii,{instance:vt()});Object.assign(vt(),{state:ni,dispatch:Bn});var ai=n.useMemo(function(){return O(w(Ot().columns,Mr,{instance:vt()}))},[Ot,vt,Mr].concat(w(Ot().columnsDeps,[],{instance:vt()})));vt().columns=ai;var $i=n.useMemo(function(){return w(Ot().allColumns,F(ai),{instance:vt()}).map($)},[ai,Ot,vt].concat(w(Ot().allColumnsDeps,[],{instance:vt()})));vt().allColumns=$i;var _a=n.useMemo(function(){for(var Ii=[],Qo=[],vs={},qs=[].concat($i);qs.length;){var Uo=qs.shift();dr({data:Tr,rows:Ii,flatRows:Qo,rowsById:vs,column:Uo,getRowId:un,getSubRows:Pn,accessValueHooks:Ot().accessValue,getInstance:vt})}return[Ii,Qo,vs]},[$i,Tr,un,Pn,Ot,vt]),Ai=_a[0],Zi=_a[1],ma=_a[2];Object.assign(vt(),{rows:Ai,initialRows:[].concat(Ai),flatRows:Zi,rowsById:ma}),x(Ot().useInstanceAfterData,vt());var Hi=n.useMemo(function(){return w(Ot().visibleColumns,$i,{instance:vt()}).map(function(Ii){return z(Ii,sn)})},[Ot,$i,vt,sn].concat(w(Ot().visibleColumnsDeps,[],{instance:vt()})));$i=n.useMemo(function(){var Ii=[].concat(Hi);return $i.forEach(function(Qo){Ii.find(function(vs){return vs.id===Qo.id})||Ii.push(Qo)}),Ii},[$i,Hi]),vt().allColumns=$i;var Pa=n.useMemo(function(){return w(Ot().headerGroups,q(Hi,sn),vt())},[Ot,Hi,sn,vt].concat(w(Ot().headerGroupsDeps,[],{instance:vt()})));vt().headerGroups=Pa;var ha=n.useMemo(function(){return Pa.length?Pa[0].headers:[]},[Pa]);vt().headers=ha,vt().flatHeaders=Pa.reduce(function(Ii,Qo){return[].concat(Ii,Qo.headers)},[]),x(Ot().useInstanceBeforeDimensions,vt());var ka=Hi.filter(function(Ii){return Ii.isVisible}).map(function(Ii){return Ii.id}).sort().join("_");Hi=n.useMemo(function(){return Hi.filter(function(Ii){return Ii.isVisible})},[Hi,ka]),vt().visibleColumns=Hi;var pi=Dt(ha),Ta=pi[0],Jo=pi[1],gs=pi[2];return vt().totalColumnsMinWidth=Ta,vt().totalColumnsWidth=Jo,vt().totalColumnsMaxWidth=gs,x(Ot().useInstance,vt()),[].concat(vt().flatHeaders,vt().allColumns).forEach(function(Ii){Ii.render=_(vt(),Ii),Ii.getHeaderProps=v(Ot().getHeaderProps,{instance:vt(),column:Ii}),Ii.getFooterProps=v(Ot().getFooterProps,{instance:vt(),column:Ii})}),vt().headerGroups=n.useMemo(function(){return Pa.filter(function(Ii,Qo){return Ii.headers=Ii.headers.filter(function(vs){return vs.headers?function qs(Uo){return Uo.filter(function(qc){return qc.headers?qs(qc.headers):qc.isVisible}).length}(vs.headers):vs.isVisible}),!!Ii.headers.length&&(Ii.getHeaderGroupProps=v(Ot().getHeaderGroupProps,{instance:vt(),headerGroup:Ii,index:Qo}),Ii.getFooterGroupProps=v(Ot().getFooterGroupProps,{instance:vt(),headerGroup:Ii,index:Qo}),!0)})},[Pa,vt,Ot]),vt().footerGroups=[].concat(vt().headerGroups).reverse(),vt().prepareRow=n.useCallback(function(Ii){Ii.getRowProps=v(Ot().getRowProps,{instance:vt(),row:Ii}),Ii.allCells=$i.map(function(Qo){var vs=Ii.values[Qo.id],qs={column:Qo,row:Ii,value:vs};return qs.getCellProps=v(Ot().getCellProps,{instance:vt(),cell:qs}),qs.render=_(vt(),Qo,{row:Ii,cell:qs,value:vs}),qs}),Ii.cells=Hi.map(function(Qo){return Ii.allCells.find(function(vs){return vs.column.id===Qo.id})}),x(Ot().prepareRow,Ii,{instance:vt()})},[Ot,vt,$i,Hi]),vt().getTableProps=v(Ot().getTableProps,{instance:vt()}),vt().getTableBodyProps=v(Ot().getTableBodyProps,{instance:vt()}),x(Ot().useFinalInstance,vt()),vt()},Object.defineProperty(r,"__esModule",{value:!0})})}(cC,cC.exports)),cC.exports}var xX;function Dpe(){return xX||(xX=1,$L.exports=oAe()),$L.exports}var zL={},SX;function Fpe(){return SX||(SX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ScalableLoading=void 0;var t=r(vn());function r(s){return s&&s.__esModule?s:{default:s}}var n=function(o){var l=o.color;return t.default.createElement("svg",{width:"100",height:"100"},t.default.createElement("path",{fill:l,d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3 c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z"},t.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})),t.default.createElement("path",{fill:l,d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7 c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z"},t.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"})),t.default.createElement("path",{fill:l,d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5 L82,35.7z"},t.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1.5s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})))},i=function(o){var l=o.width,u=l===void 0?"100vw":l,f=o.height,h=f===void 0?"100vh":f,p=o.color,m=p===void 0?"#005bcc":p;return t.default.createElement("div",{style:{width:u,height:h,display:"flex",justifyContent:"center",alignItems:"center"}},t.default.createElement(n,{color:m}))};e.default=i;var a=function(o){var l=o.scale,u=l===void 0?1:l,f=o.color,h=f===void 0?"#005bcc":f,p=100*u;return t.default.createElement("div",{style:{position:"relative",width:"".concat(p,"px"),height:"".concat(p,"px"),display:"flex",alignItems:"center",justifyContent:"center"}},t.default.createElement("div",{style:{display:"flex",transform:"scale(".concat(u,", ").concat(u,")"),width:"100px",height:"100px"}},t.default.createElement(n,{color:h})))};e.ScalableLoading=a}(zL)),zL}var d_={},EX;function fS(){if(EX)return d_;EX=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.LinkButton=d_.Button=void 0;var e=s(vn()),t=xp(),r=Qf(),n=["onClick","children","confirmMessage","type"],i=["children","type","showConfirm","confirmMessage","themeOptions"],a=["themeOptions","className","type","children","disabled"];function s(P){return P&&P.__esModule?P:{default:P}}function o(){return o=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},o.apply(this,arguments)}function l(P,S){return m(P)||p(P,S)||f(P,S)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(P,S){if(P){if(typeof P=="string")return h(P,S);var E=Object.prototype.toString.call(P).slice(8,-1);if(E==="Object"&&P.constructor&&(E=P.constructor.name),E==="Map"||E==="Set")return Array.from(P);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return h(P,S)}}function h(P,S){(S==null||S>P.length)&&(S=P.length);for(var E=0,_=new Array(S);E<S;E++)_[E]=P[E];return _}function p(P,S){var E=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(E!=null){var _,R,O,F,$=[],z=!0,q=!1;try{if(O=(E=E.call(P)).next,S!==0)for(;!(z=(_=O.call(E)).done)&&($.push(_.value),$.length!==S);z=!0);}catch(Z){q=!0,R=Z}finally{try{if(!z&&E.return!=null&&(F=E.return(),Object(F)!==F))return}finally{if(q)throw R}}return $}}function m(P){if(Array.isArray(P))return P}function v(P,S){if(P==null)return{};var E=w(P,S),_,R;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(P);for(R=0;R<O.length;R++)_=O[R],!(S.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(P,_)&&(E[_]=P[_])}return E}function w(P,S){if(P==null)return{};var E={},_=Object.keys(P),R,O;for(O=0;O<_.length;O++)R=_[O],!(S.indexOf(R)>=0)&&(E[R]=P[R]);return E}var x=function(S){var E=S.onClick,_=S.children,R=S.confirmMessage,O=S.type,F=v(S,n),$=e.default.useState(!1),z=l($,2),q=z[0],Z=z[1],V=e.default.useRef(null),J=e.default.useCallback(function(ue){ue.preventDefault(),Z(!0),V.current=setTimeout(Z,5e3,!1)},[V]),fe=e.default.useCallback(function(ue){Z(!1),E&&E(ue)},[E]);return e.default.useEffect(function(){return function(){return clearTimeout(V.current)}},[V]),e.default.createElement("button",o({onClick:q?O==="submit"?null:fe:J},F,{type:q?O:"button"}),e.default.createElement("div",{className:"relative w-full"},q?e.default.createElement("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex items-center overflow-hidden"},e.default.createElement("div",null,R)):null,e.default.createElement("div",{style:{color:q?"transparent":null}},_)))},T=function(S){var E=S.children,_=S.type,R=_===void 0?"button":_,O=S.showConfirm,F=O===void 0?!1:O,$=S.confirmMessage,z=$===void 0?"click to confirm":$,q=S.themeOptions,Z=q===void 0?{}:q,V=v(S,i),J=(0,r.useTheme)(),fe=J.button(Z);return F?e.default.createElement(x,o({type:R},V,{confirmMessage:z,className:"".concat(fe.button)}),E):e.default.createElement("button",o({type:R},V,{className:"".concat(fe.button)}),E)};d_.Button=T;var A=function(S){var E=S.themeOptions,_=E===void 0?{}:E,R=S.className,O=R===void 0?"":R;S.type;var F=S.children;S.disabled;var $=v(S,a),z=(0,r.useTheme)(),q=z.button(_);return e.default.createElement(t.Link,o({},$,{onClick:function(V){return V.stopPropagation()},className:"".concat(q," ").concat(O)}),F)};return d_.LinkButton=A,d_}var BL={},jL={},h_={},CX;function iM(){if(CX)return h_;CX=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.verifyValue=h_.hasValue=void 0;function e(P){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},e(P)}function t(P){return i(P)||n(P)||o(P)||r()}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function i(P){if(Array.isArray(P))return l(P)}function a(P,S){return f(P)||u(P,S)||o(P,S)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(P,S){if(P){if(typeof P=="string")return l(P,S);var E=Object.prototype.toString.call(P).slice(8,-1);if(E==="Object"&&P.constructor&&(E=P.constructor.name),E==="Map"||E==="Set")return Array.from(P);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return l(P,S)}}function l(P,S){(S==null||S>P.length)&&(S=P.length);for(var E=0,_=new Array(S);E<S;E++)_[E]=P[E];return _}function u(P,S){var E=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(E!=null){var _,R,O,F,$=[],z=!0,q=!1;try{if(O=(E=E.call(P)).next,S===0){if(Object(E)!==E)return;z=!1}else for(;!(z=(_=O.call(E)).done)&&($.push(_.value),$.length!==S);z=!0);}catch(Z){q=!0,R=Z}finally{try{if(!z&&E.return!=null&&(F=E.return(),Object(F)!==F))return}finally{if(q)throw R}}return $}}function f(P){if(Array.isArray(P))return P}var h=/^\d{4}-[01][0-9]-[0-3][0-9]$/,p=/^(-(?=[1-9]|(0[.]0*[1-9]+)))?\d*[.]?\d+/,m=/^([[(])(-?\d+),(-?\d+)([)\]])$/,v=/^([><]=?)(\d+)$/,w=function(S,E,_){switch(E){case">":return S>_;case">=":return S>=_;case"<":return S<_;case"<=":return S<=_;default:return!0}},x=function(S,E){if(!E)return!0;E=E.replace(/\s/g,"");var _=[],R=m.exec(E);if(R){var O=a(R,5),F=O[1],$=O[2],z=O[3],q=O[4];F==="("?_.push([">",+$]):F==="["&&_.push([">=",+$]),q===")"?_.push(["<",+z]):q==="]"&&_.push(["<=",+z])}var Z=v.exec(E);if(Z){var V=a(Z,3),J=V[1],fe=V[2];_.push([J,+fe])}return _.reduce(function(ue,pe){return ue&&w.apply(void 0,[+S].concat(t(pe)))},!0)},T=function(S,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;switch(E){case"number":return p.test(S)&&x(S,_);case"date":{var R=typeof _=="string"?new RegExp(_):h;return R.test(S)}default:{var O=typeof _=="string"?new RegExp(_):!1;return!O||O.test(S)}}};h_.verifyValue=T;var A=function P(S){return S==null||typeof S=="string"&&!S.length?!1:Array.isArray(S)?S.reduce(function(E,_){return E||P(_)},!1):typeof S=="number"&&isNaN(S)?!1:e(S)==="object"?Object.values(S).reduce(function(E,_){return E||P(_)},!1):!0};return h_.hasValue=A,h_}var PX;function fP(){return PX||(PX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=Qf(),n=iM(),i=["large","small","className","onChange","value","showClear","placeholder","themeOptions"];function a(f){return f&&f.__esModule?f:{default:f}}function s(){return s=Object.assign?Object.assign.bind():function(f){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])}return f},s.apply(this,arguments)}function o(f,h){if(f==null)return{};var p=l(f,h),m,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);for(v=0;v<w.length;v++)m=w[v],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(p[m]=f[m])}return p}function l(f,h){if(f==null)return{};var p={},m=Object.keys(f),v,w;for(w=0;w<m.length;w++)v=m[w],!(h.indexOf(v)>=0)&&(p[v]=f[v]);return p}var u=t.default.forwardRef(function(f,h){f.large;var p=f.small,m=f.className,v=m===void 0?null:m,w=f.onChange,x=f.value,T=f.showClear,A=T===void 0?!1:T,P=f.placeholder,S=P===void 0?"type a value...":P,E=f.themeOptions,_=E===void 0?{color:"white",size:"small",width:"block"}:E,R=o(f,i),O=(0,r.useTheme)().input(_).input,F=t.default.useCallback(function($){$.stopPropagation(),w($.target.value,$)},[w]);return A?t.default.createElement(t.default.Fragment,null,t.default.createElement("input",s({},R,{ref:h,onChange:F,value:(0,n.hasValue)(x)?x:"",className:"".concat(v||O," "),placeholder:S})),(0,n.hasValue)(x)?t.default.createElement("div",{className:"absolute right-0 ".concat(p?"mr-1":"mr-2"," top-0 bottom-0 flex items-center")},t.default.createElement("div",{className:`
                `.concat(O.menuBgActive," ").concat(O.menuBgActiveHover," ").concat(O.textContrast,`
                p-1 flex justify-center items-center rounded cursor-pointer
              `),onClick:function(){return w("")}},t.default.createElement("svg",{width:"8",height:"8"},t.default.createElement("line",{x2:"8",y2:"8",style:{stroke:"currentColor",strokeWidth:2}}),t.default.createElement("line",{y1:"8",x2:"8",style:{stroke:"currentColor",strokeWidth:2}})))):null):t.default.createElement("input",s({},R,{ref:h,onChange:F,value:(0,n.hasValue)(x)?x:"",className:"".concat(v||O," "),placeholder:S}))});e.default=u}(jL)),jL}var UL={},qL={},sAe={value:()=>{}};function FU(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new vA(r)}function vA(e){this._=e}function lAe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}vA.prototype=FU.prototype={constructor:vA,on:function(e,t){var r=this._,n=lAe(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=uAe(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=TX(r[i],e.name,t);else if(t==null)for(i in r)r[i]=TX(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new vA(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function uAe(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function TX(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=sAe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var lj="http://www.w3.org/1999/xhtml";const q_={svg:"http://www.w3.org/2000/svg",xhtml:lj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dP(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),q_.hasOwnProperty(t)?{space:q_[t],local:e}:e}function cAe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===lj&&t.documentElement.namespaceURI===lj?t.createElement(e):t.createElementNS(r,e)}}function fAe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dS(e){var t=dP(e);return(t.local?fAe:cAe)(t)}function dAe(){}function aM(e){return e==null?dAe:function(){return this.querySelector(e)}}function hAe(e){typeof e!="function"&&(e=aM(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=new Array(s),l,u,f=0;f<s;++f)(l=a[f])&&(u=e.call(l,l.__data__,f,a))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new Bh(n,this._parents)}function Lpe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pAe(){return[]}function LU(e){return e==null?pAe:function(){return this.querySelectorAll(e)}}function mAe(e){return function(){return Lpe(e.apply(this,arguments))}}function gAe(e){typeof e=="function"?e=mAe(e):e=LU(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(n.push(e.call(l,l.__data__,u,s)),i.push(l));return new Bh(n,i)}function NU(e){return function(){return this.matches(e)}}function Npe(e){return function(t){return t.matches(e)}}var vAe=Array.prototype.find;function yAe(e){return function(){return vAe.call(this.children,e)}}function bAe(){return this.firstElementChild}function _Ae(e){return this.select(e==null?bAe:yAe(typeof e=="function"?e:Npe(e)))}var wAe=Array.prototype.filter;function xAe(){return Array.from(this.children)}function SAe(e){return function(){return wAe.call(this.children,e)}}function EAe(e){return this.selectAll(e==null?xAe:SAe(typeof e=="function"?e:Npe(e)))}function CAe(e){typeof e!="function"&&(e=NU(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new Bh(n,this._parents)}function $pe(e){return new Array(e.length)}function PAe(){return new Bh(this._enter||this._groups.map($pe),this._parents)}function qA(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qA.prototype={constructor:qA,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function TAe(e){return function(){return e}}function RAe(e,t,r,n,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new qA(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function AAe(e,t,r,n,i,a,s){var o,l,u=new Map,f=t.length,h=a.length,p=new Array(f),m;for(o=0;o<f;++o)(l=t[o])&&(p[o]=m=s.call(l,l.__data__,o,t)+"",u.has(m)?i[o]=l:u.set(m,l));for(o=0;o<h;++o)m=s.call(e,a[o],o,a)+"",(l=u.get(m))?(n[o]=l,l.__data__=a[o],u.delete(m)):r[o]=new qA(e,a[o]);for(o=0;o<f;++o)(l=t[o])&&u.get(p[o])===l&&(i[o]=l)}function OAe(e){return e.__data__}function IAe(e,t){if(!arguments.length)return Array.from(this,OAe);var r=t?AAe:RAe,n=this._parents,i=this._groups;typeof e!="function"&&(e=TAe(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var f=n[u],h=i[u],p=h.length,m=MAe(e.call(f,f&&f.__data__,u,n)),v=m.length,w=o[u]=new Array(v),x=s[u]=new Array(v),T=l[u]=new Array(p);r(f,h,w,x,T,m,t);for(var A=0,P=0,S,E;A<v;++A)if(S=w[A]){for(A>=P&&(P=A+1);!(E=x[P])&&++P<v;);S._next=E||null}}return s=new Bh(s,n),s._enter=o,s._exit=l,s}function MAe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kAe(){return new Bh(this._exit||this._groups.map($pe),this._parents)}function DAe(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function FAe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=r[l],f=n[l],h=u.length,p=o[l]=new Array(h),m,v=0;v<h;++v)(m=u[v]||f[v])&&(p[v]=m);for(;l<i;++l)o[l]=r[l];return new Bh(o,this._parents)}function LAe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function NAe(e){e||(e=$Ae);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),u,f=0;f<o;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new Bh(i,this._parents).order()}function $Ae(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function zAe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function BAe(){return Array.from(this)}function jAe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function UAe(){let e=0;for(const t of this)++e;return e}function qAe(){return!this.node()}function HAe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function WAe(e){return function(){this.removeAttribute(e)}}function VAe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GAe(e,t){return function(){this.setAttribute(e,t)}}function KAe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ZAe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function YAe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function XAe(e,t){var r=dP(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?VAe:WAe:typeof t=="function"?r.local?YAe:ZAe:r.local?KAe:GAe)(r,t))}function $U(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JAe(e){return function(){this.style.removeProperty(e)}}function QAe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function eOe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function tOe(e,t,r){return arguments.length>1?this.each((t==null?JAe:typeof t=="function"?eOe:QAe)(e,t,r??"")):H_(this.node(),e)}function H_(e,t){return e.style.getPropertyValue(t)||$U(e).getComputedStyle(e,null).getPropertyValue(t)}function rOe(e){return function(){delete this[e]}}function nOe(e,t){return function(){this[e]=t}}function iOe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function aOe(e,t){return arguments.length>1?this.each((t==null?rOe:typeof t=="function"?iOe:nOe)(e,t)):this.node()[e]}function zpe(e){return e.trim().split(/^|\s+/)}function zU(e){return e.classList||new Bpe(e)}function Bpe(e){this._node=e,this._names=zpe(e.getAttribute("class")||"")}Bpe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jpe(e,t){for(var r=zU(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Upe(e,t){for(var r=zU(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function oOe(e){return function(){jpe(this,e)}}function sOe(e){return function(){Upe(this,e)}}function lOe(e,t){return function(){(t.apply(this,arguments)?jpe:Upe)(this,e)}}function uOe(e,t){var r=zpe(e+"");if(arguments.length<2){for(var n=zU(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?lOe:t?oOe:sOe)(r,t))}function cOe(){this.textContent=""}function fOe(e){return function(){this.textContent=e}}function dOe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hOe(e){return arguments.length?this.each(e==null?cOe:(typeof e=="function"?dOe:fOe)(e)):this.node().textContent}function pOe(){this.innerHTML=""}function mOe(e){return function(){this.innerHTML=e}}function gOe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function vOe(e){return arguments.length?this.each(e==null?pOe:(typeof e=="function"?gOe:mOe)(e)):this.node().innerHTML}function yOe(){this.nextSibling&&this.parentNode.appendChild(this)}function bOe(){return this.each(yOe)}function _Oe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wOe(){return this.each(_Oe)}function xOe(e){var t=typeof e=="function"?e:dS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function SOe(){return null}function EOe(e,t){var r=typeof e=="function"?e:dS(e),n=t==null?SOe:typeof t=="function"?t:aM(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function COe(){var e=this.parentNode;e&&e.removeChild(this)}function POe(){return this.each(COe)}function TOe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ROe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function AOe(e){return this.select(e?ROe:TOe)}function OOe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function IOe(e){return function(t){e.call(this,t,this.__data__)}}function MOe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function kOe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function DOe(e,t,r){return function(){var n=this.__on,i,a=IOe(t);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function FOe(e,t,r){var n=MOe(e+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<a;++i)if((s=n[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=t?DOe:kOe,i=0;i<a;++i)this.each(o(n[i],t,r));return this}function qpe(e,t,r){var n=$U(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function LOe(e,t){return function(){return qpe(this,e,t)}}function NOe(e,t){return function(){return qpe(this,e,t.apply(this,arguments))}}function $Oe(e,t){return this.each((typeof t=="function"?NOe:LOe)(e,t))}function*zOe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var BU=[null];function Bh(e,t){this._groups=e,this._parents=t}function Pw(){return new Bh([[document.documentElement]],BU)}function BOe(){return this}Bh.prototype=Pw.prototype={constructor:Bh,select:hAe,selectAll:gAe,selectChild:_Ae,selectChildren:EAe,filter:CAe,data:IAe,enter:PAe,exit:kAe,join:DAe,merge:FAe,selection:BOe,order:LAe,sort:NAe,call:zAe,nodes:BAe,node:jAe,size:UAe,empty:qAe,each:HAe,attr:XAe,style:tOe,property:aOe,classed:uOe,text:hOe,html:vOe,raise:bOe,lower:wOe,append:xOe,insert:EOe,remove:POe,clone:AOe,datum:OOe,on:FOe,dispatch:$Oe,[Symbol.iterator]:zOe};function Kd(e){return typeof e=="string"?new Bh([[document.querySelector(e)]],[document.documentElement]):new Bh([[e]],BU)}function jOe(e){return Kd(dS(e).call(document.documentElement))}var UOe=0;function Hpe(){return new uj}function uj(){this._="@"+(++UOe).toString(36)}uj.prototype=Hpe.prototype={constructor:uj,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Wpe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function s2(e,t){if(e=Wpe(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function qOe(e,t){return e.target&&(e=Wpe(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>s2(r,t))}function HOe(e){return typeof e=="string"?new Bh([document.querySelectorAll(e)],[document.documentElement]):new Bh([Lpe(e)],BU)}const WOe=Object.freeze(Object.defineProperty({__proto__:null,create:jOe,creator:dS,local:Hpe,matcher:NU,namespace:dP,namespaces:q_,pointer:s2,pointers:qOe,select:Kd,selectAll:HOe,selection:Pw,selector:aM,selectorAll:LU,style:H_,window:$U},Symbol.toStringTag,{value:"Module"})),cj={capture:!0,passive:!1};function fj(e){e.preventDefault(),e.stopImmediatePropagation()}function VOe(e){var t=e.document.documentElement,r=Kd(e).on("dragstart.drag",fj,cj);"onselectstart"in t?r.on("selectstart.drag",fj,cj):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function GOe(e,t){var r=e.document.documentElement,n=Kd(e).on("dragstart.drag",null);t&&(n.on("click.drag",fj,cj),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function hS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ib(){}var W_=.7,kx=1/W_,bx="\\s*([+-]?\\d+)\\s*",l2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KOe=/^#([0-9a-f]{3,8})$/,ZOe=new RegExp(`^rgb\\(${bx},${bx},${bx}\\)$`),YOe=new RegExp(`^rgb\\(${Vv},${Vv},${Vv}\\)$`),XOe=new RegExp(`^rgba\\(${bx},${bx},${bx},${l2}\\)$`),JOe=new RegExp(`^rgba\\(${Vv},${Vv},${Vv},${l2}\\)$`),QOe=new RegExp(`^hsl\\(${l2},${Vv},${Vv}\\)$`),eIe=new RegExp(`^hsla\\(${l2},${Vv},${Vv},${l2}\\)$`),RX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hS(Ib,V_,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AX,formatHex:AX,formatHex8:tIe,formatHsl:rIe,formatRgb:OX,toString:OX});function AX(){return this.rgb().formatHex()}function tIe(){return this.rgb().formatHex8()}function rIe(){return Vpe(this).formatHsl()}function OX(){return this.rgb().formatRgb()}function V_(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KOe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IX(t):r===3?new Wf(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?eR(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?eR(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZOe.exec(e))?new Wf(t[1],t[2],t[3],1):(t=YOe.exec(e))?new Wf(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XOe.exec(e))?eR(t[1],t[2],t[3],t[4]):(t=JOe.exec(e))?eR(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QOe.exec(e))?DX(t[1],t[2]/100,t[3]/100,1):(t=eIe.exec(e))?DX(t[1],t[2]/100,t[3]/100,t[4]):RX.hasOwnProperty(e)?IX(RX[e]):e==="transparent"?new Wf(NaN,NaN,NaN,0):null}function IX(e){return new Wf(e>>16&255,e>>8&255,e&255,1)}function eR(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wf(e,t,r,n)}function jU(e){return e instanceof Ib||(e=V_(e)),e?(e=e.rgb(),new Wf(e.r,e.g,e.b,e.opacity)):new Wf}function hb(e,t,r,n){return arguments.length===1?jU(e):new Wf(e,t,r,n??1)}function Wf(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hS(Wf,hb,hP(Ib,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new Wf(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?W_:Math.pow(W_,e),new Wf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wf(F_(this.r),F_(this.g),F_(this.b),HA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MX,formatHex:MX,formatHex8:nIe,formatRgb:kX,toString:kX}));function MX(){return`#${R_(this.r)}${R_(this.g)}${R_(this.b)}`}function nIe(){return`#${R_(this.r)}${R_(this.g)}${R_(this.b)}${R_((isNaN(this.opacity)?1:this.opacity)*255)}`}function kX(){const e=HA(this.opacity);return`${e===1?"rgb(":"rgba("}${F_(this.r)}, ${F_(this.g)}, ${F_(this.b)}${e===1?")":`, ${e})`}`}function HA(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function F_(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function R_(e){return e=F_(e),(e<16?"0":"")+e.toString(16)}function DX(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Bg(e,t,r,n)}function Vpe(e){if(e instanceof Bg)return new Bg(e.h,e.s,e.l,e.opacity);if(e instanceof Ib||(e=V_(e)),!e)return new Bg;if(e instanceof Bg)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Bg(s,o,l,e.opacity)}function dj(e,t,r,n){return arguments.length===1?Vpe(e):new Bg(e,t,r,n??1)}function Bg(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hS(Bg,dj,hP(Ib,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new Bg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W_:Math.pow(W_,e),new Bg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Wf(HL(e>=240?e-240:e+120,i,n),HL(e,i,n),HL(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Bg(FX(this.h),tR(this.s),tR(this.l),HA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=HA(this.opacity);return`${e===1?"hsl(":"hsla("}${FX(this.h)}, ${tR(this.s)*100}%, ${tR(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FX(e){return e=(e||0)%360,e<0?e+360:e}function tR(e){return Math.max(0,Math.min(1,e||0))}function HL(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gpe=Math.PI/180,Kpe=180/Math.PI,WA=18,Zpe=.96422,Ype=1,Xpe=.82521,Jpe=4/29,_x=6/29,Qpe=3*_x*_x,iIe=_x*_x*_x;function eme(e){if(e instanceof Gv)return new Gv(e.l,e.a,e.b,e.opacity);if(e instanceof Zy)return tme(e);e instanceof Wf||(e=jU(e));var t=KL(e.r),r=KL(e.g),n=KL(e.b),i=WL((.2225045*t+.7168786*r+.0606169*n)/Ype),a,s;return t===r&&r===n?a=s=i:(a=WL((.4360747*t+.3850649*r+.1430804*n)/Zpe),s=WL((.0139322*t+.0971045*r+.7141733*n)/Xpe)),new Gv(116*i-16,500*(a-i),200*(i-s),e.opacity)}function hj(e,t,r,n){return arguments.length===1?eme(e):new Gv(e,t,r,n??1)}function Gv(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}hS(Gv,hj,hP(Ib,{brighter(e){return new Gv(this.l+WA*(e??1),this.a,this.b,this.opacity)},darker(e){return new Gv(this.l-WA*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Zpe*VL(t),e=Ype*VL(e),r=Xpe*VL(r),new Wf(GL(3.1338561*t-1.6168667*e-.4906146*r),GL(-.9787684*t+1.9161415*e+.033454*r),GL(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function WL(e){return e>iIe?Math.pow(e,1/3):e/Qpe+Jpe}function VL(e){return e>_x?e*e*e:Qpe*(e-Jpe)}function GL(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function KL(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function aIe(e){if(e instanceof Zy)return new Zy(e.h,e.c,e.l,e.opacity);if(e instanceof Gv||(e=eme(e)),e.a===0&&e.b===0)return new Zy(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Kpe;return new Zy(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function pj(e,t,r,n){return arguments.length===1?aIe(e):new Zy(e,t,r,n??1)}function Zy(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function tme(e){if(isNaN(e.h))return new Gv(e.l,0,0,e.opacity);var t=e.h*Gpe;return new Gv(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}hS(Zy,pj,hP(Ib,{brighter(e){return new Zy(this.h,this.c,this.l+WA*(e??1),this.opacity)},darker(e){return new Zy(this.h,this.c,this.l-WA*(e??1),this.opacity)},rgb(){return tme(this).rgb()}}));var rme=-.14861,UU=1.78277,qU=-.29227,oM=-.90649,u2=1.97294,LX=u2*oM,NX=u2*UU,$X=UU*qU-oM*rme;function oIe(e){if(e instanceof L_)return new L_(e.h,e.s,e.l,e.opacity);e instanceof Wf||(e=jU(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=($X*n+LX*t-NX*r)/($X+LX-NX),a=n-i,s=(u2*(r-i)-qU*a)/oM,o=Math.sqrt(s*s+a*a)/(u2*i*(1-i)),l=o?Math.atan2(s,a)*Kpe-120:NaN;return new L_(l<0?l+360:l,o,i,e.opacity)}function Jv(e,t,r,n){return arguments.length===1?oIe(e):new L_(e,t,r,n??1)}function L_(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hS(L_,Jv,hP(Ib,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new L_(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W_:Math.pow(W_,e),new L_(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Gpe,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Wf(255*(t+r*(rme*n+UU*i)),255*(t+r*(qU*n+oM*i)),255*(t+r*(u2*n)),this.opacity)}}));function sIe(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}function lIe(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,o=n<t-1?e[n+2]:2*a-i;return sIe((r-n/t)*t,s,i,a,o)}}const sM=e=>()=>e;function nme(e,t){return function(r){return e+r*t}}function uIe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HU(e,t){var r=t-e;return r?nme(e,r>180||r<-180?r-360*Math.round(r/360):r):sM(isNaN(e)?t:e)}function cIe(e){return(e=+e)==1?Yd:function(t,r){return r-t?uIe(t,r,e):sM(isNaN(t)?r:t)}}function Yd(e,t){var r=t-e;return r?nme(e,r):sM(isNaN(e)?t:e)}const G_=function e(t){var r=cIe(t);function n(i,a){var s=r((i=hb(i)).r,(a=hb(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Yd(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function fIe(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),s,o;for(s=0;s<r;++s)o=hb(t[s]),n[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return n=e(n),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=n(l),o.g=i(l),o.b=a(l),o+""}}}var dIe=fIe(lIe);function hIe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function pIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mIe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=pS(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function gIe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function vIe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=pS(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var mj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ZL=new RegExp(mj.source,"g");function yIe(e){return function(){return e}}function bIe(e){return function(t){return e(t)+""}}function ime(e,t){var r=mj.lastIndex=ZL.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=mj.exec(e))&&(i=ZL.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Wd(n,i)})),r=ZL.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?bIe(l[0].x):yIe(t):(t=l.length,function(u){for(var f=0,h;f<t;++f)o[(h=l[f]).i]=h.x(u);return o.join("")})}function pS(e,t){var r=typeof t,n;return t==null||r==="boolean"?sM(t):(r==="number"?Wd:r==="string"?(n=V_(t))?(t=n,G_):ime:t instanceof V_?G_:t instanceof Date?gIe:pIe(t)?hIe:Array.isArray(t)?mIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vIe:Wd)(e,t)}function WU(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var zX=180/Math.PI,gj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ame(e,t,r,n,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*zX,skewX:Math.atan(l)*zX,scaleX:s,scaleY:o}}var rR;function _Ie(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gj:ame(t.a,t.b,t.c,t.d,t.e,t.f)}function wIe(e){return e==null||(rR||(rR=document.createElementNS("http://www.w3.org/2000/svg","g")),rR.setAttribute("transform",e),!(e=rR.transform.baseVal.consolidate()))?gj:(e=e.matrix,ame(e.a,e.b,e.c,e.d,e.e,e.f))}function ome(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,f,h,p,m,v){if(u!==h||f!==p){var w=m.push("translate(",null,t,null,r);v.push({i:w-4,x:Wd(u,h)},{i:w-2,x:Wd(f,p)})}else(h||p)&&m.push("translate("+h+t+p+r)}function s(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(i(h)+"rotate(",null,n)-2,x:Wd(u,f)})):f&&h.push(i(h)+"rotate("+f+n)}function o(u,f,h,p){u!==f?p.push({i:h.push(i(h)+"skewX(",null,n)-2,x:Wd(u,f)}):f&&h.push(i(h)+"skewX("+f+n)}function l(u,f,h,p,m,v){if(u!==h||f!==p){var w=m.push(i(m)+"scale(",null,",",null,")");v.push({i:w-4,x:Wd(u,h)},{i:w-2,x:Wd(f,p)})}else(h!==1||p!==1)&&m.push(i(m)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,h,p),s(u.rotate,f.rotate,h,p),o(u.skewX,f.skewX,h,p),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(m){for(var v=-1,w=p.length,x;++v<w;)h[(x=p[v]).i]=x.x(m);return h.join("")}}}var xIe=ome(_Ie,"px, ","px)","deg)"),SIe=ome(wIe,", ",")",")");function EIe(e){return function(t,r){var n=e((t=dj(t)).h,(r=dj(r)).h),i=Yd(t.s,r.s),a=Yd(t.l,r.l),s=Yd(t.opacity,r.opacity);return function(o){return t.h=n(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const CIe=EIe(HU);function PIe(e,t){var r=Yd((e=hj(e)).l,(t=hj(t)).l),n=Yd(e.a,t.a),i=Yd(e.b,t.b),a=Yd(e.opacity,t.opacity);return function(s){return e.l=r(s),e.a=n(s),e.b=i(s),e.opacity=a(s),e+""}}function TIe(e){return function(t,r){var n=e((t=pj(t)).h,(r=pj(r)).h),i=Yd(t.c,r.c),a=Yd(t.l,r.l),s=Yd(t.opacity,r.opacity);return function(o){return t.h=n(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const RIe=TIe(HU);function sme(e){return function t(r){r=+r;function n(i,a){var s=e((i=Jv(i)).h,(a=Jv(a)).h),o=Yd(i.s,a.s),l=Yd(i.l,a.l),u=Yd(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=l(Math.pow(f,r)),i.opacity=u(f),i+""}}return n.gamma=t,n}(1)}sme(HU);var VU=sme(Yd);function lM(e,t){t===void 0&&(t=e,e=pS);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Xg(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var Dx=0,fC=0,PE=0,lme=1e3,VA,dC,GA=0,K_=0,uM=0,c2=typeof performance=="object"&&performance.now?performance:Date,ume=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function GU(){return K_||(ume(AIe),K_=c2.now()+uM)}function AIe(){K_=0}function KA(){this._call=this._time=this._next=null}KA.prototype=cme.prototype={constructor:KA,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?GU():+r)+(t==null?0:+t),!this._next&&dC!==this&&(dC?dC._next=this:VA=this,dC=this),this._call=e,this._time=r,vj()},stop:function(){this._call&&(this._call=null,this._time=1/0,vj())}};function cme(e,t,r){var n=new KA;return n.restart(e,t,r),n}function OIe(){GU(),++Dx;for(var e=VA,t;e;)(t=K_-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Dx}function BX(){K_=(GA=c2.now())+uM,Dx=fC=0;try{OIe()}finally{Dx=0,MIe(),K_=0}}function IIe(){var e=c2.now(),t=e-GA;t>lme&&(uM-=t,GA=e)}function MIe(){for(var e,t=VA,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:VA=r);dC=e,vj(n)}function vj(e){if(!Dx){fC&&(fC=clearTimeout(fC));var t=e-K_;t>24?(e<1/0&&(fC=setTimeout(BX,e-c2.now()-uM)),PE&&(PE=clearInterval(PE))):(PE||(GA=c2.now(),PE=setInterval(IIe,lme)),Dx=1,ume(BX))}}function jX(e,t,r){var n=new KA;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var kIe=FU("start","end","cancel","interrupt"),DIe=[],fme=0,yj=1,bj=2,yA=3,UX=4,_j=5,bA=6;function cM(e,t,r,n,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;FIe(e,r,{name:t,index:n,group:i,on:kIe,tween:DIe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fme})}function KU(e,t){var r=sv(e,t);if(r.state>fme)throw new Error("too late; already scheduled");return r}function fy(e,t){var r=sv(e,t);if(r.state>yA)throw new Error("too late; already running");return r}function sv(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function FIe(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=cme(a,0,r.time);function a(u){r.state=yj,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var f,h,p,m;if(r.state!==yj)return l();for(f in n)if(m=n[f],m.name===r.name){if(m.state===yA)return jX(s);m.state===UX?(m.state=bA,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[f]):+f<t&&(m.state=bA,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[f])}if(jX(function(){r.state===yA&&(r.state=UX,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=bj,r.on.call("start",e,e.__data__,r.index,r.group),r.state===bj){for(r.state=yA,i=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(m=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=m);i.length=h+1}}function o(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=_j,1),h=-1,p=i.length;++h<p;)i[h].call(e,f);r.state===_j&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=bA,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function ZA(e,t){var r=e.__transition,n,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){a=!1;continue}i=n.state>bj&&n.state<_j,n.state=bA,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}a&&delete e.__transition}}function LIe(e){return this.each(function(){ZA(this,e)})}function NIe(e,t){var r,n;return function(){var i=fy(this,e),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function $Ie(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=fy(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function zIe(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=sv(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?NIe:$Ie)(r,e,t))}function ZU(e,t,r){var n=e._id;return e.each(function(){var i=fy(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return sv(i,n).value[t]}}function dme(e,t){var r;return(typeof t=="number"?Wd:t instanceof V_?G_:(r=V_(t))?(t=r,G_):ime)(e,t)}function BIe(e){return function(){this.removeAttribute(e)}}function jIe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UIe(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===n?a:a=t(n=s,r)}}function qIe(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?a:a=t(n=s,r)}}function HIe(e,t,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o)))}}function WIe(e,t,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o)))}}function VIe(e,t){var r=dP(e),n=r==="transform"?SIe:dme;return this.attrTween(e,typeof t=="function"?(r.local?WIe:HIe)(r,n,ZU(this,"attr."+e,t)):t==null?(r.local?jIe:BIe)(r):(r.local?qIe:UIe)(r,n,t))}function GIe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function KIe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ZIe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&KIe(e,a)),r}return i._value=t,i}function YIe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&GIe(e,a)),r}return i._value=t,i}function XIe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=dP(e);return this.tween(r,(n.local?ZIe:YIe)(n,t))}function JIe(e,t){return function(){KU(this,e).delay=+t.apply(this,arguments)}}function QIe(e,t){return t=+t,function(){KU(this,e).delay=t}}function eMe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JIe:QIe)(t,e)):sv(this.node(),t).delay}function tMe(e,t){return function(){fy(this,e).duration=+t.apply(this,arguments)}}function rMe(e,t){return t=+t,function(){fy(this,e).duration=t}}function nMe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tMe:rMe)(t,e)):sv(this.node(),t).duration}function iMe(e,t){if(typeof t!="function")throw new Error;return function(){fy(this,e).ease=t}}function aMe(e){var t=this._id;return arguments.length?this.each(iMe(t,e)):sv(this.node(),t).ease}function oMe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;fy(this,e).ease=r}}function sMe(e){if(typeof e!="function")throw new Error;return this.each(oMe(this._id,e))}function lMe(e){typeof e!="function"&&(e=NU(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new Qv(n,this._parents,this._name,this._id)}function uMe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=t[o],u=r[o],f=l.length,h=s[o]=new Array(f),p,m=0;m<f;++m)(p=l[m]||u[m])&&(h[m]=p);for(;o<n;++o)s[o]=t[o];return new Qv(s,this._parents,this._name,this._id)}function cMe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function fMe(e,t,r){var n,i,a=cMe(t)?KU:fy;return function(){var s=a(this,e),o=s.on;o!==n&&(i=(n=o).copy()).on(t,r),s.on=i}}function dMe(e,t){var r=this._id;return arguments.length<2?sv(this.node(),r).on.on(e):this.each(fMe(r,e,t))}function hMe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function pMe(){return this.on("end.remove",hMe(this._id))}function mMe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=aM(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,u=a[s]=new Array(l),f,h,p=0;p<l;++p)(f=o[p])&&(h=e.call(f,f.__data__,p,o))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,cM(u[p],t,r,p,u,sv(f,r)));return new Qv(a,this._parents,t,r)}function gMe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=LU(e));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],u=l.length,f,h=0;h<u;++h)if(f=l[h]){for(var p=e.call(f,f.__data__,h,l),m,v=sv(f,r),w=0,x=p.length;w<x;++w)(m=p[w])&&cM(m,t,r,w,p,v);a.push(p),s.push(f)}return new Qv(a,s,t,r)}var vMe=Pw.prototype.constructor;function yMe(){return new vMe(this._groups,this._parents)}function bMe(e,t){var r,n,i;return function(){var a=H_(this,e),s=(this.style.removeProperty(e),H_(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function hme(e){return function(){this.style.removeProperty(e)}}function _Me(e,t,r){var n,i=r+"",a;return function(){var s=H_(this,e);return s===i?null:s===n?a:a=t(n=s,r)}}function wMe(e,t,r){var n,i,a;return function(){var s=H_(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),H_(this,e))),s===l?null:s===n&&l===i?a:(i=l,a=t(n=s,o))}}function xMe(e,t){var r,n,i,a="style."+t,s="end."+a,o;return function(){var l=fy(this,e),u=l.on,f=l.value[a]==null?o||(o=hme(t)):void 0;(u!==r||i!==f)&&(n=(r=u).copy()).on(s,i=f),l.on=n}}function SMe(e,t,r){var n=(e+="")=="transform"?xIe:dme;return t==null?this.styleTween(e,bMe(e,n)).on("end.style."+e,hme(e)):typeof t=="function"?this.styleTween(e,wMe(e,n,ZU(this,"style."+e,t))).each(xMe(this._id,e)):this.styleTween(e,_Me(e,n,t),r).on("end.style."+e,null)}function EMe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function CMe(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&EMe(e,s,r)),n}return a._value=t,a}function PMe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,CMe(e,t,r??""))}function TMe(e){return function(){this.textContent=e}}function RMe(e){return function(){var t=e(this);this.textContent=t??""}}function AMe(e){return this.tween("text",typeof e=="function"?RMe(ZU(this,"text",e)):TMe(e==null?"":e+""))}function OMe(e){return function(t){this.textContent=e.call(this,t)}}function IMe(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&OMe(i)),t}return n._value=e,n}function MMe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,IMe(e))}function kMe(){for(var e=this._name,t=this._id,r=mme(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var f=sv(l,t);cM(l,e,r,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Qv(n,this._parents,e,r)}function DMe(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var u=fy(this,n),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var FMe=0;function Qv(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function pme(e){return Pw().transition(e)}function mme(){return++FMe}var ky=Pw.prototype;Qv.prototype=pme.prototype={constructor:Qv,select:mMe,selectAll:gMe,selectChild:ky.selectChild,selectChildren:ky.selectChildren,filter:lMe,merge:uMe,selection:yMe,transition:kMe,call:ky.call,nodes:ky.nodes,node:ky.node,size:ky.size,empty:ky.empty,each:ky.each,on:dMe,attr:VIe,attrTween:XIe,style:SMe,styleTween:PMe,text:AMe,textTween:MMe,remove:pMe,tween:zIe,delay:eMe,duration:nMe,ease:aMe,easeVarying:sMe,end:DMe,[Symbol.iterator]:ky[Symbol.iterator]};function LMe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var NMe={time:null,delay:0,duration:250,ease:LMe};function $Me(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function zMe(e){var t,r;e instanceof Qv?(t=e._id,e=e._name):(t=mme(),(r=NMe).time=GU(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&cM(l,e,t,u,s,r||$Me(l,t));return new Qv(n,this._parents,e,t)}Pw.prototype.interrupt=LIe;Pw.prototype.transition=zMe;var BMe=[null];function jMe(e,t){var r=e.__transition,n,i;if(r){t=t==null?null:t+"";for(i in r)if((n=r[i]).state>yj&&n.name===t)return new Qv([[e]],BMe,t,+i)}return null}const UMe=Object.freeze(Object.defineProperty({__proto__:null,active:jMe,interrupt:ZA,transition:pme},Symbol.toStringTag,{value:"Module"})),YL=e=>()=>e;function qMe(e,{sourceEvent:t,target:r,selection:n,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function HMe(e){e.stopImmediatePropagation()}function XL(e){e.preventDefault(),e.stopImmediatePropagation()}var qX={name:"drag"},JL={name:"space"},y1={name:"handle"},b1={name:"center"};const{abs:HX,max:Ud,min:qd}=Math;function WX(e){return[+e[0],+e[1]]}function wj(e){return[WX(e[0]),WX(e[1])]}var _A={name:"x",handles:["w","e"].map(f2),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},wA={name:"y",handles:["n","s"].map(f2),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},WMe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(f2),input:function(e){return e==null?null:wj(e)},output:function(e){return e}},Dy={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},VX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},GX={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},VMe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},GMe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function f2(e){return{type:e}}function KMe(e){return!e.ctrlKey&&!e.button}function ZMe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function YMe(){return navigator.maxTouchPoints||"ontouchstart"in this}function QL(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function XMe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function JMe(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function QMe(){return YU(_A)}function eke(){return YU(wA)}function tke(){return YU(WMe)}function YU(e){var t=ZMe,r=KMe,n=YMe,i=!0,a=FU("start","brush","end"),s=6,o;function l(x){var T=x.property("__brush",w).selectAll(".overlay").data([f2("overlay")]);T.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Dy.overlay).merge(T).each(function(){var P=QL(this).extent;Kd(this).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1])}),x.selectAll(".selection").data([f2("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Dy.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var A=x.selectAll(".handle").data(e.handles,function(P){return P.type});A.exit().remove(),A.enter().append("rect").attr("class",function(P){return"handle handle--"+P.type}).attr("cursor",function(P){return Dy[P.type]}),x.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(n).on("touchstart.brush",p).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(x,T,A){x.tween?x.on("start.brush",function(P){f(this,arguments).beforestart().start(P)}).on("interrupt.brush end.brush",function(P){f(this,arguments).end(P)}).tween("brush",function(){var P=this,S=P.__brush,E=f(P,arguments),_=S.selection,R=e.input(typeof T=="function"?T.apply(this,arguments):T,S.extent),O=pS(_,R);function F($){S.selection=$===1&&R===null?null:O($),u.call(P),E.brush()}return _!==null&&R!==null?F:F(1)}):x.each(function(){var P=this,S=arguments,E=P.__brush,_=e.input(typeof T=="function"?T.apply(P,S):T,E.extent),R=f(P,S).beforestart();ZA(P),E.selection=_===null?null:_,u.call(P),R.start(A).brush(A).end(A)})},l.clear=function(x,T){l.move(x,null,T)};function u(){var x=Kd(this),T=QL(this).selection;T?(x.selectAll(".selection").style("display",null).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1]),x.selectAll(".handle").style("display",null).attr("x",function(A){return A.type[A.type.length-1]==="e"?T[1][0]-s/2:T[0][0]-s/2}).attr("y",function(A){return A.type[0]==="s"?T[1][1]-s/2:T[0][1]-s/2}).attr("width",function(A){return A.type==="n"||A.type==="s"?T[1][0]-T[0][0]+s:s}).attr("height",function(A){return A.type==="e"||A.type==="w"?T[1][1]-T[0][1]+s:s})):x.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(x,T,A){var P=x.__brush.emitter;return P&&(!A||!P.clean)?P:new h(x,T,A)}function h(x,T,A){this.that=x,this.args=T,this.state=x.__brush,this.active=0,this.clean=A}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(x,T){return this.starting?(this.starting=!1,this.emit("start",x,T)):this.emit("brush",x),this},brush:function(x,T){return this.emit("brush",x,T),this},end:function(x,T){return--this.active===0&&(delete this.state.emitter,this.emit("end",x,T)),this},emit:function(x,T,A){var P=Kd(this.that).datum();a.call(x,this.that,new qMe(x,{sourceEvent:T,target:l,selection:e.output(this.state.selection),mode:A,dispatch:a}),P)}};function p(x){if(o&&!x.touches||!r.apply(this,arguments))return;var T=this,A=x.target.__data__.type,P=(i&&x.metaKey?A="overlay":A)==="selection"?qX:i&&x.altKey?b1:y1,S=e===wA?null:VMe[A],E=e===_A?null:GMe[A],_=QL(T),R=_.extent,O=_.selection,F=R[0][0],$,z,q=R[0][1],Z,V,J=R[1][0],fe,ue,pe=R[1][1],ve,le,se=0,ge=0,_e,ke=S&&E&&i&&x.shiftKey,Ge,ct,$e=Array.from(x.touches||[x],je=>{const rt=je.identifier;return je=s2(je,T),je.point0=je.slice(),je.identifier=rt,je});ZA(T);var we=f(T,arguments,!0).beforestart();if(A==="overlay"){O&&(_e=!0);const je=[$e[0],$e[1]||$e[0]];_.selection=O=[[$=e===wA?F:qd(je[0][0],je[1][0]),Z=e===_A?q:qd(je[0][1],je[1][1])],[fe=e===wA?J:Ud(je[0][0],je[1][0]),ve=e===_A?pe:Ud(je[0][1],je[1][1])]],$e.length>1&&dt(x)}else $=O[0][0],Z=O[0][1],fe=O[1][0],ve=O[1][1];z=$,V=Z,ue=fe,le=ve;var Ee=Kd(T).attr("pointer-events","none"),Re=Ee.selectAll(".overlay").attr("cursor",Dy[A]);if(x.touches)we.moved=qe,we.ended=he;else{var ft=Kd(x.view).on("mousemove.brush",qe,!0).on("mouseup.brush",he,!0);i&&ft.on("keydown.brush",ut,!0).on("keyup.brush",xt,!0),VOe(x.view)}u.call(T),we.start(x,P.name);function qe(je){for(const rt of je.changedTouches||[je])for(const Ze of $e)Ze.identifier===rt.identifier&&(Ze.cur=s2(rt,T));if(ke&&!Ge&&!ct&&$e.length===1){const rt=$e[0];HX(rt.cur[0]-rt[0])>HX(rt.cur[1]-rt[1])?ct=!0:Ge=!0}for(const rt of $e)rt.cur&&(rt[0]=rt.cur[0],rt[1]=rt.cur[1]);_e=!0,XL(je),dt(je)}function dt(je){const rt=$e[0],Ze=rt.point0;var yt;switch(se=rt[0]-Ze[0],ge=rt[1]-Ze[1],P){case JL:case qX:{S&&(se=Ud(F-$,qd(J-fe,se)),z=$+se,ue=fe+se),E&&(ge=Ud(q-Z,qd(pe-ve,ge)),V=Z+ge,le=ve+ge);break}case y1:{$e[1]?(S&&(z=Ud(F,qd(J,$e[0][0])),ue=Ud(F,qd(J,$e[1][0])),S=1),E&&(V=Ud(q,qd(pe,$e[0][1])),le=Ud(q,qd(pe,$e[1][1])),E=1)):(S<0?(se=Ud(F-$,qd(J-$,se)),z=$+se,ue=fe):S>0&&(se=Ud(F-fe,qd(J-fe,se)),z=$,ue=fe+se),E<0?(ge=Ud(q-Z,qd(pe-Z,ge)),V=Z+ge,le=ve):E>0&&(ge=Ud(q-ve,qd(pe-ve,ge)),V=Z,le=ve+ge));break}case b1:{S&&(z=Ud(F,qd(J,$-se*S)),ue=Ud(F,qd(J,fe+se*S))),E&&(V=Ud(q,qd(pe,Z-ge*E)),le=Ud(q,qd(pe,ve+ge*E)));break}}ue<z&&(S*=-1,yt=$,$=fe,fe=yt,yt=z,z=ue,ue=yt,A in VX&&Re.attr("cursor",Dy[A=VX[A]])),le<V&&(E*=-1,yt=Z,Z=ve,ve=yt,yt=V,V=le,le=yt,A in GX&&Re.attr("cursor",Dy[A=GX[A]])),_.selection&&(O=_.selection),Ge&&(z=O[0][0],ue=O[1][0]),ct&&(V=O[0][1],le=O[1][1]),(O[0][0]!==z||O[0][1]!==V||O[1][0]!==ue||O[1][1]!==le)&&(_.selection=[[z,V],[ue,le]],u.call(T),we.brush(je,P.name))}function he(je){if(HMe(je),je.touches){if(je.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else GOe(je.view,_e),ft.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ee.attr("pointer-events","all"),Re.attr("cursor",Dy.overlay),_.selection&&(O=_.selection),XMe(O)&&(_.selection=null,u.call(T)),we.end(je,P.name)}function ut(je){switch(je.keyCode){case 16:{ke=S&&E;break}case 18:{P===y1&&(S&&(fe=ue-se*S,$=z+se*S),E&&(ve=le-ge*E,Z=V+ge*E),P=b1,dt(je));break}case 32:{(P===y1||P===b1)&&(S<0?fe=ue-se:S>0&&($=z-se),E<0?ve=le-ge:E>0&&(Z=V-ge),P=JL,Re.attr("cursor",Dy.selection),dt(je));break}default:return}XL(je)}function xt(je){switch(je.keyCode){case 16:{ke&&(Ge=ct=ke=!1,dt(je));break}case 18:{P===b1&&(S<0?fe=ue:S>0&&($=z),E<0?ve=le:E>0&&(Z=V),P=y1,dt(je));break}case 32:{P===JL&&(je.altKey?(S&&(fe=ue-se*S,$=z+se*S),E&&(ve=le-ge*E,Z=V+ge*E),P=b1):(S<0?fe=ue:S>0&&($=z),E<0?ve=le:E>0&&(Z=V),P=y1),Re.attr("cursor",Dy[A]),dt(je));break}default:return}XL(je)}}function m(x){f(this,arguments).moved(x)}function v(x){f(this,arguments).ended(x)}function w(){var x=this.__brush||{selection:null};return x.extent=wj(t.apply(this,arguments)),x.dim=e,x}return l.extent=function(x){return arguments.length?(t=typeof x=="function"?x:YL(wj(x)),l):t},l.filter=function(x){return arguments.length?(r=typeof x=="function"?x:YL(!!x),l):r},l.touchable=function(x){return arguments.length?(n=typeof x=="function"?x:YL(!!x),l):n},l.handleSize=function(x){return arguments.length?(s=+x,l):s},l.keyModifiers=function(x){return arguments.length?(i=!!x,l):i},l.on=function(){var x=a.on.apply(a,arguments);return x===a?l:x},l}const rke=Object.freeze(Object.defineProperty({__proto__:null,brush:tke,brushSelection:JMe,brushX:QMe,brushY:eke},Symbol.toStringTag,{value:"Module"})),nke=Ob(rke),gme=Ob(WOe);var Fy={},ike={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};const ake=Object.freeze(Object.defineProperty({__proto__:null,default:ike},Symbol.toStringTag,{value:"Module"})),oke=Ob(ake);var KX;function ske(){if(KX)return Fy;KX=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.getColorRange=Fy.ColorRanges=Fy.ColorBar=void 0;var e=n(vn()),t=n(oke),r=n(lg());function n(u){return u&&u.__esModule?u:{default:u}}var i={};Fy.ColorRanges=i;var a=function(f){t.default.schemeGroups[f].forEach(function(h){var p=t.default[h];for(var m in p)m in i||(i[m]=[]),i[m].push({type:"".concat(f[0].toUpperCase()).concat(f.slice(1)),name:h,category:"Colorbrewer",colors:p[m]})})};for(var s in t.default.schemeGroups)a(s);var o=function(f,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=(0,r.default)(i,[f],[]).reduce(function(v,w){return w.name===h?w.colors:v},[]).slice();return p&&m.reverse(),m};Fy.getColorRange=o;var l=function(f){var h=f.colors,p=f.size,m=p===void 0?3:p;return e.default.createElement("div",{className:"flex"},h.map(function(v,w){return e.default.createElement("div",{key:w,style:{backgroundColor:v,transition:"background-color 0.5s"},className:"flex-1 h-".concat(m)})}))};return Fy.ColorBar=l,Fy}var ZX;function fM(){return ZX||(ZX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={composeOptions:!0,useSetRefs:!0,useClickOutside:!0,useBrush:!0,useSetSize:!0,useAsyncSafe:!0,classNames:!0};e.classNames=fe,e.useSetSize=e.useSetRefs=e.useClickOutside=e.useBrush=e.useAsyncSafe=e.composeOptions=void 0;var r=o(vn()),n=o(nke),i=o(gme),a=ske();Object.keys(a).forEach(function(ue){ue==="default"||ue==="__esModule"||Object.prototype.hasOwnProperty.call(t,ue)||ue in e&&e[ue]===a[ue]||Object.defineProperty(e,ue,{enumerable:!0,get:function(){return a[ue]}})});function s(ue){if(typeof WeakMap!="function")return null;var pe=new WeakMap,ve=new WeakMap;return(s=function(se){return se?ve:pe})(ue)}function o(ue,pe){if(ue&&ue.__esModule)return ue;if(ue===null||l(ue)!=="object"&&typeof ue!="function")return{default:ue};var ve=s(pe);if(ve&&ve.has(ue))return ve.get(ue);var le={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ge in ue)if(ge!=="default"&&Object.prototype.hasOwnProperty.call(ue,ge)){var _e=se?Object.getOwnPropertyDescriptor(ue,ge):null;_e&&(_e.get||_e.set)?Object.defineProperty(le,ge,_e):le[ge]=ue[ge]}return le.default=ue,ve&&ve.set(ue,le),le}function l(ue){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},l(ue)}function u(ue,pe){var ve=Object.keys(ue);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(ue);pe&&(le=le.filter(function(se){return Object.getOwnPropertyDescriptor(ue,se).enumerable})),ve.push.apply(ve,le)}return ve}function f(ue){for(var pe=1;pe<arguments.length;pe++){var ve=arguments[pe]!=null?arguments[pe]:{};pe%2?u(Object(ve),!0).forEach(function(le){h(ue,le,ve[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(ve)):u(Object(ve)).forEach(function(le){Object.defineProperty(ue,le,Object.getOwnPropertyDescriptor(ve,le))})}return ue}function h(ue,pe,ve){return pe=p(pe),pe in ue?Object.defineProperty(ue,pe,{value:ve,enumerable:!0,configurable:!0,writable:!0}):ue[pe]=ve,ue}function p(ue){var pe=m(ue,"string");return l(pe)==="symbol"?pe:String(pe)}function m(ue,pe){if(l(ue)!=="object"||ue===null)return ue;var ve=ue[Symbol.toPrimitive];if(ve!==void 0){var le=ve.call(ue,pe);if(l(le)!=="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(ue)}function v(ue,pe){return P(ue)||A(ue,pe)||x(ue,pe)||w()}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(ue,pe){if(ue){if(typeof ue=="string")return T(ue,pe);var ve=Object.prototype.toString.call(ue).slice(8,-1);if(ve==="Object"&&ue.constructor&&(ve=ue.constructor.name),ve==="Map"||ve==="Set")return Array.from(ue);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return T(ue,pe)}}function T(ue,pe){(pe==null||pe>ue.length)&&(pe=ue.length);for(var ve=0,le=new Array(pe);ve<pe;ve++)le[ve]=ue[ve];return le}function A(ue,pe){var ve=ue==null?null:typeof Symbol<"u"&&ue[Symbol.iterator]||ue["@@iterator"];if(ve!=null){var le,se,ge,_e,ke=[],Ge=!0,ct=!1;try{if(ge=(ve=ve.call(ue)).next,pe!==0)for(;!(Ge=(le=ge.call(ve)).done)&&(ke.push(le.value),ke.length!==pe);Ge=!0);}catch($e){ct=!0,se=$e}finally{try{if(!Ge&&ve.return!=null&&(_e=ve.return(),Object(_e)!==_e))return}finally{if(ct)throw se}}return ke}}function P(ue){if(Array.isArray(ue))return ue}function S(ue){if(ue==null)throw new TypeError("Cannot destructure "+ue)}function E(){return E=Object.assign?Object.assign.bind():function(ue){for(var pe=1;pe<arguments.length;pe++){var ve=arguments[pe];for(var le in ve)Object.prototype.hasOwnProperty.call(ve,le)&&(ue[le]=ve[le])}return ue},E.apply(this,arguments)}var _=function(pe){var ve=E({},(S(pe),pe));return Object.keys(ve).reduce(function(le,se){return ve[se]&&le.push(se.split("").map(function(ge,_e){return _e===0?ge.toUpperCase():ge}).join("")),le},[]).join("")};e.composeOptions=_;var R=function(){for(var pe=arguments.length,ve=new Array(pe),le=0;le<pe;le++)ve[le]=arguments[le];return r.default.useCallback(function(se){[].concat(ve).forEach(function(ge){ge&&(typeof ge=="function"?ge(se):ge.current=se)})},[ve])};e.useSetRefs=R;var O=function(pe){var ve=(0,r.useState)(null),le=v(ve,2),se=le[0],ge=le[1];return(0,r.useEffect)(function(){var _e=function(Ge){se.contains(Ge.target)||typeof pe=="function"&&pe(Ge)};return se&&document.addEventListener("mousedown",_e),function(){return document.removeEventListener("mousedown",_e)}},[se,pe]),[ge,se]};e.useClickOutside=O;var F=f(f({},n),i),$=function(pe){return{group:null,brush:F[pe](),Brush:function(){return null},width:0,height:0,selection:null}},z=function(pe,ve){return f(f({},pe),ve)},q=function(pe){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"brush",le=(0,r.useReducer)(z,ve,$),se=v(le,2),ge=se[0],_e=ge.group,ke=ge.brush,Ge=ge.Brush,ct=ge.width,$e=ge.height,we=ge.selection,Ee=se[1];if((0,r.useEffect)(function(){var ft=function(dt){return Ee({group:dt})};Ee({Brush:r.default.memo(function(){return r.default.createElement("g",{ref:ft})})})},[]),(0,r.useEffect)(function(){if(pe&&_e){var ft=function(dt){return Ee({selection:_e?F.brushSelection(_e):null})};F.select(_e).call(ke.on("end",ft,50))}else ct&&$e&&(Ee({selection:null}),Ee({width:0,height:0}));return function(){return ke.on("end",null)}},[pe,_e,ke,ct,$e]),pe){var Re=pe.getBoundingClientRect();(Re.width!==ct||Re.height!==$e)&&(Ee({width:Re.width,height:Re.height}),ke.extent([[0,0],[Re.width,Re.height]]))}return(0,r.useEffect)(function(){if(pe){var ft=pe.getBoundingClientRect();(ft.width!==ct||ft.height!==$e)&&(Ee({width:ft.width,height:ft.height}),ke.extent([[0,0],[ft.width,ft.height]]))}},[pe,ke,ct,$e]),{Brush:Ge,selection:we,clearBrush:function(){return ke.clear(F.select(_e))}}};e.useBrush=q;var Z=function(pe){var ve=pe&&pe.current;return ve?ve.getBoundingClientRect():{width:0,height:0}},V=function(pe,ve){var le=r.default.useState({width:0,height:0,x:0,y:0}),se=v(le,2),ge=se[0],_e=se[1],ke=r.default.useCallback(function(){var Ge=Z(pe),ct=Ge.width,$e=Ge.height,we=Ge.x,Ee=Ge.y;(ct!==ge.width||$e!==ge.height)&&(typeof ve=="function"&&ve({width:ct,height:$e,x:we,y:Ee}),_e({width:ct,height:$e,x:we,y:Ee}))},[pe,ge,ve]);return r.default.useEffect(function(){return window.addEventListener("resize",ke),function(){window.removeEventListener("resize",ke)}},[ke]),r.default.useEffect(function(){ke()}),ge};e.useSetSize=V;var J=function(pe){var ve=r.default.useRef(!1);return r.default.useEffect(function(){return ve.current=!0,function(){ve.current=!1}},[]),r.default.useCallback(function(){ve.current&&pe.apply(void 0,arguments)},[pe])};e.useAsyncSafe=J;function fe(){for(var ue={}.hasOwnProperty,pe=[],ve=0;ve<arguments.length;ve++){var le=arguments[ve];if(le){var se=l(le);if(se==="string"||se==="number")pe.push(le);else if(Array.isArray(le)){if(le.length){var ge=fe.apply(null,le);ge&&pe.push(ge)}}else if(se==="object"){if(le.toString!==Object.prototype.toString&&!le.toString.toString().includes("[native code]")){pe.push(le.toString());continue}for(var _e in le)ue.call(le,_e)&&le[_e]&&pe.push(_e)}}}return pe.join(" ")}}(qL)),qL}var YX;function lke(){return YX||(YX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=fM(),n=Qf(),i=["large","small","className","children","onChange","value"];function a(f){return f&&f.__esModule?f:{default:f}}function s(){return s=Object.assign?Object.assign.bind():function(f){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])}return f},s.apply(this,arguments)}function o(f,h){if(f==null)return{};var p=l(f,h),m,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);for(v=0;v<w.length;v++)m=w[v],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(p[m]=f[m])}return p}function l(f,h){if(f==null)return{};var p={},m=Object.keys(f),v,w;for(w=0;w<m.length;w++)v=m[w],!(h.indexOf(v)>=0)&&(p[v]=f[v]);return p}var u=t.default.forwardRef(function(f,h){var p=f.large,m=f.small,v=f.className,w=v===void 0?"":v,x=f.children,T=f.onChange,A=f.value,P=o(f,i),S=(0,n.useTheme)(),E=S["input".concat((0,r.composeOptions)({large:p,small:m}))];return t.default.createElement("textarea",s({},P,{onChange:function(R){return T(R.target.value)},value:A||"",className:"".concat(E()," ").concat(w),ref:h,rows:6}),x)});e.default=u}(UL)),UL}var eN={},p_={},XX;function XU(){if(XX)return p_;XX=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.ValueItem=p_.ValueContainer=void 0;var e=n(vn()),t=Qf(),r=["children","hasFocus","large","small","disabled","customTheme","className"];function n(w){return w&&w.__esModule?w:{default:w}}function i(w){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},i(w)}function a(){return a=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var T=arguments[x];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(w[A]=T[A])}return w},a.apply(this,arguments)}function s(w,x){if(w==null)return{};var T=o(w,x),A,P;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);for(P=0;P<S.length;P++)A=S[P],!(x.indexOf(A)>=0)&&Object.prototype.propertyIsEnumerable.call(w,A)&&(T[A]=w[A])}return T}function o(w,x){if(w==null)return{};var T={},A=Object.keys(w),P,S;for(S=0;S<A.length;S++)P=A[S],!(x.indexOf(P)>=0)&&(T[P]=w[P]);return T}function l(w,x){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(w);x&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),T.push.apply(T,A)}return T}function u(w){for(var x=1;x<arguments.length;x++){var T=arguments[x]!=null?arguments[x]:{};x%2?l(Object(T),!0).forEach(function(A){f(w,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):l(Object(T)).forEach(function(A){Object.defineProperty(w,A,Object.getOwnPropertyDescriptor(T,A))})}return w}function f(w,x,T){return x=h(x),x in w?Object.defineProperty(w,x,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[x]=T,w}function h(w){var x=p(w,"string");return i(x)==="symbol"?x:String(x)}function p(w,x){if(i(w)!=="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var A=T.call(w,x);if(i(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}var m=function(x){var T=x.isPlaceholder,A=x.children,P=x.remove,S=x.edit,E=x.customTheme,_=x.disabled,R=_===void 0?!1:_,O=u(u({},(0,t.useTheme)()),E);return e.default.createElement("div",{className:`
        `.concat(T?O.textLight:"".concat(R?O.accent2:P||S?O.menuBgActive:"",`
            mr-1 pl-2 `).concat(!R&&(P||S)?"pr-1":"pr-2",`
          `),`
        `).concat(O.itemText,`
        whitespace-pre-wrap mt-1 flex items-center
      `)},A,T||R||!S?null:e.default.createElement("div",{className:`
            `.concat(O.menuBgActive," ").concat(O.menuBgActiveHover," ").concat(O.textContrast,`
            ml-2 p-1 flex justify-center items-center rounded cursor-pointer
          `),onClick:S},e.default.createElement("svg",{width:"8",height:"8"},e.default.createElement("line",{x1:"0",y1:"6",x2:"4",y2:"2",style:{stroke:"currentColor",strokeWidth:2}}),e.default.createElement("line",{x1:"4",y1:"2",x2:"8",y2:"6",style:{stroke:"currentColor",strokeWidth:2}}))),T||R||!P?null:e.default.createElement("div",{className:`
            `.concat(O.menuBgActive," ").concat(O.menuBgActiveHover," ").concat(O.textContrast,`
            `).concat(S?"ml-1":"ml-2",` p-1 flex justify-center items-center rounded cursor-pointer
          `),onClick:P},e.default.createElement("svg",{width:"8",height:"8"},e.default.createElement("line",{x2:"8",y2:"8",style:{stroke:"currentColor",strokeWidth:2}}),e.default.createElement("line",{y1:"8",x2:"8",style:{stroke:"currentColor",strokeWidth:2}}))))};p_.ValueItem=m;var v=e.default.forwardRef(function(w,x){var T=w.children,A=w.hasFocus,P=w.large,S=w.small,E=w.disabled,_=E===void 0?!1:E,R=w.customTheme,O=w.className,F=O===void 0?"":O,$=s(w,r),z=u(u({},(0,t.useTheme)()),R);return e.default.createElement("div",a({},$,{ref:x,className:`
        w-full flex flex-row flex-wrap
        `.concat(_?"".concat(z.inputBgDisabled," ").concat(z.inputBorderDisabled):A?"".concat(z.inputBgFocus," ").concat(z.inputBorderFocus):"".concat(z.inputBg," ").concat(z.inputBorder),`
        `).concat(P?"pt-1 pb-2 px-4":S?"pb-1 px-1":"pb-1 px-2",`
        `).concat(P?z.textLarge:S?z.textSmall:z.textBase,`
        `).concat(F,`
      `)}),T)});return p_.ValueContainer=v,p_}var JX;function uke(){return JX||(JX=1,function(e){function t($){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},t($)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(vn()),n=fS(),i=u(fP()),a=XU(),s=iM(),o=["verify","id","autoFocus"],l=["value","type","disabled"];function u($){return $&&$.__esModule?$:{default:$}}function f($){if(typeof WeakMap!="function")return null;var z=new WeakMap,q=new WeakMap;return(f=function(V){return V?q:z})($)}function h($,z){if($&&$.__esModule)return $;if($===null||t($)!=="object"&&typeof $!="function")return{default:$};var q=f(z);if(q&&q.has($))return q.get($);var Z={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in $)if(J!=="default"&&Object.prototype.hasOwnProperty.call($,J)){var fe=V?Object.getOwnPropertyDescriptor($,J):null;fe&&(fe.get||fe.set)?Object.defineProperty(Z,J,fe):Z[J]=$[J]}return Z.default=$,q&&q.set($,Z),Z}function p(){return p=Object.assign?Object.assign.bind():function($){for(var z=1;z<arguments.length;z++){var q=arguments[z];for(var Z in q)Object.prototype.hasOwnProperty.call(q,Z)&&($[Z]=q[Z])}return $},p.apply(this,arguments)}function m($){return x($)||w($)||P($)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}function x($){if(Array.isArray($))return S($)}function T($,z){return _($)||E($,z)||P($,z)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P($,z){if($){if(typeof $=="string")return S($,z);var q=Object.prototype.toString.call($).slice(8,-1);if(q==="Object"&&$.constructor&&(q=$.constructor.name),q==="Map"||q==="Set")return Array.from($);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return S($,z)}}function S($,z){(z==null||z>$.length)&&(z=$.length);for(var q=0,Z=new Array(z);q<z;q++)Z[q]=$[q];return Z}function E($,z){var q=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(q!=null){var Z,V,J,fe,ue=[],pe=!0,ve=!1;try{if(J=(q=q.call($)).next,z!==0)for(;!(pe=(Z=J.call(q)).done)&&(ue.push(Z.value),ue.length!==z);pe=!0);}catch(le){ve=!0,V=le}finally{try{if(!pe&&q.return!=null&&(fe=q.return(),Object(fe)!==fe))return}finally{if(ve)throw V}}return ue}}function _($){if(Array.isArray($))return $}function R($,z){if($==null)return{};var q=O($,z),Z,V;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols($);for(V=0;V<J.length;V++)Z=J[V],!(z.indexOf(Z)>=0)&&Object.prototype.propertyIsEnumerable.call($,Z)&&(q[Z]=$[Z])}return q}function O($,z){if($==null)return{};var q={},Z=Object.keys($),V,J;for(J=0;J<Z.length;J++)V=Z[J],!(z.indexOf(V)>=0)&&(q[V]=$[V]);return q}var F=function(z){var q=z.verify,Z=z.id,V=z.autoFocus,J=R(z,o),fe=(0,r.useState)(""),ue=T(fe,2),pe=ue[0],ve=ue[1],le=(0,r.useState)(!1),se=T(le,2),ge=se[0],_e=se[1],ke=J.value,Ge=J.type,ct=J.disabled,$e=R(J,l),we=null,Ee=function(){var he=ke||[];J.onChange([].concat(m(he),[pe])),ve(""),we&&we.focus()},Re=function(he){var ut=Array.isArray(J.value)?J.value:[];ut.includes(he)&&(ut=ut.filter(function(xt){return xt!==he})),ut.length===0&&(ut=null),J.onChange(ut)},ft=function(he){ve(he),Re(he),we&&we.focus()};(0,r.useEffect)(function(){_e(ct||!(0,s.hasValue)(pe)||(ke||[]).includes(pe)||!(0,s.verifyValue)(pe,Ge,q)||Ge==="number"&&!(ke||[]).reduce(function(dt,he){return dt&&+he!=+pe},!0))},[ke,pe,q,ct,Ge]);var qe=function(he){pe&&he.keyCode===13&&(he.stopPropagation(),he.preventDefault(),Ee())};return r.default.createElement("div",{className:"w-full"},r.default.createElement("div",{className:"flex"},r.default.createElement(i.default,p({},$e,{type:Ge,className:"mr-1",onKeyDown:qe,value:pe,id:Z,onChange:function(he){return ve(he)},disabled:ct,autoFocus:V,placeholder:"Type a value...",ref:function(he){we=he}})),r.default.createElement(n.Button,{onClick:function(he){return Ee()},buttonTheme:"buttonInfo",disabled:ge},"add")),ke?r.default.createElement("div",{className:"mt-1 ml-10"},r.default.createElement(a.ValueContainer,{className:"cursor-default"},ke.map(function(dt,he){return r.default.createElement(a.ValueItem,{key:dt,edit:function(xt){return ft(dt)},remove:function(xt){return Re(dt)}},dt)}))):null)};e.default=F}(eN)),eN}var tN={};function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(null,arguments)}var TE={exports:{}},QX;function cke(){if(QX)return TE.exports;QX=1;var e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},t=Object.keys(e).join("|"),r=new RegExp(t,"g"),n=new RegExp(t,""),i=function(s){return s.replace(r,function(o){return e[o]})},a=function(s){return!!s.match(n)};return TE.exports=i,TE.exports.has=a,TE.exports.remove=i,TE.exports}var fke=cke();const dke=pl(fke);var Hd={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};vme.rankings=Hd;var hke=function(e,t){return String(e.rankedItem).localeCompare(t.rankedItem)};function vme(e,t,r){r===void 0&&(r={});var n=r,i=n.keys,a=n.threshold,s=a===void 0?Hd.MATCHES:a,o=n.baseSort,l=o===void 0?hke:o,u=e.reduce(f,[]);return u.sort(function(h,p){return vke(h,p,l)}).map(function(h){var p=h.item;return p});function f(h,p,m){var v=pke(p,i,t,r),w=v.rankedItem,x=v.rank,T=v.keyIndex,A=v.keyThreshold,P=A===void 0?s:A;return x>=P&&h.push({rankedItem:w,item:p,rank:x,index:m,keyIndex:T}),h}}function pke(e,t,r,n){if(!t)return{rankedItem:e,rank:eJ(e,r,n),keyIndex:-1,keyThreshold:n.threshold};var i=bke(e,t);return i.reduce(function(a,s,o){var l=a.rank,u=a.rankedItem,f=a.keyIndex,h=a.keyThreshold,p=s.itemValue,m=s.attributes,v=eJ(p,r,n),w=u,x=m.minRanking,T=m.maxRanking,A=m.threshold;return v<x&&v>=Hd.MATCHES?v=x:v>T&&(v=T),v>l&&(l=v,f=o,h=A,w=p),{rankedItem:w,rank:l,keyIndex:f,keyThreshold:h}},{rank:Hd.NO_MATCH,keyIndex:-1,keyThreshold:n.threshold})}function eJ(e,t,r){return e=tJ(e,r),t=tJ(t,r),t.length>e.length?Hd.NO_MATCH:e===t?Hd.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?Hd.EQUAL:e.indexOf(t)===0?Hd.STARTS_WITH:e.indexOf(" "+t)!==-1?Hd.WORD_STARTS_WITH:e.indexOf(t)!==-1?Hd.CONTAINS:t.length===1?Hd.NO_MATCH:mke(e).indexOf(t)!==-1?Hd.ACRONYM:gke(e,t))}function mke(e){var t="",r=e.split(" ");return r.forEach(function(n){var i=n.split("-");i.forEach(function(a){t+=a.substr(0,1)})}),t}function gke(e,t){var r=0,n=0;function i(h,p,m){for(var v=m;v<p.length;v++){var w=p[v];if(w===h)return r+=1,v+1}return-1}function a(h){var p=r/t.length,m=Hd.MATCHES+p*(1/h);return m}var s=i(t[0],e,0);if(s<0)return Hd.NO_MATCH;n=s;for(var o=1;o<t.length;o++){var l=t[o];n=i(l,e,n);var u=n>-1;if(!u)return Hd.NO_MATCH}var f=n-s;return a(f)}function vke(e,t,r){var n=-1,i=1,a=e.rank,s=e.keyIndex,o=t.rank,l=t.keyIndex;return a===o?s===l?r(e,t):s<l?n:i:a>o?n:i}function tJ(e,t){var r=t.keepDiacritics;return e=""+e,r||(e=dke(e)),e}function yke(e,t){typeof t=="object"&&(t=t.key);var r;return typeof t=="function"?r=t(e):t.indexOf(".")!==-1?r=t.split(".").reduce(function(n,i){return n?n[i]:null},e):r=e[t],r!=null?[].concat(r):null}function bke(e,t){return t.reduce(function(r,n){var i=yke(e,n);return i&&i.forEach(function(a){r.push({itemValue:a,attributes:_ke(n)})}),r},[])}function _ke(e){return typeof e=="string"&&(e={key:e}),Pu({maxRanking:1/0,minRanking:-1/0},e)}const wke=Object.freeze(Object.defineProperty({__proto__:null,matchSorter:vme,rankings:Hd},Symbol.toStringTag,{value:"Module"})),pP=Ob(wke);var rJ;function xke(){return rJ||(rJ=1,function(e){function t(z){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},t(z)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ValueItem=void 0;var r=h(vn()),n=u(fP()),i=iM(),a=Qf(),s=u(Cw()),o=u(lg()),l=pP;function u(z){return z&&z.__esModule?z:{default:z}}function f(z){if(typeof WeakMap!="function")return null;var q=new WeakMap,Z=new WeakMap;return(f=function(J){return J?Z:q})(z)}function h(z,q){if(z&&z.__esModule)return z;if(z===null||t(z)!=="object"&&typeof z!="function")return{default:z};var Z=f(q);if(Z&&Z.has(z))return Z.get(z);var V={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in z)if(fe!=="default"&&Object.prototype.hasOwnProperty.call(z,fe)){var ue=J?Object.getOwnPropertyDescriptor(z,fe):null;ue&&(ue.get||ue.set)?Object.defineProperty(V,fe,ue):V[fe]=z[fe]}return V.default=z,Z&&Z.set(z,V),V}function p(z){return w(z)||v(z)||A(z)||m()}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function w(z){if(Array.isArray(z))return P(z)}function x(z,q){return E(z)||S(z,q)||A(z,q)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(z,q){if(z){if(typeof z=="string")return P(z,q);var Z=Object.prototype.toString.call(z).slice(8,-1);if(Z==="Object"&&z.constructor&&(Z=z.constructor.name),Z==="Map"||Z==="Set")return Array.from(z);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return P(z,q)}}function P(z,q){(q==null||q>z.length)&&(q=z.length);for(var Z=0,V=new Array(q);Z<q;Z++)V[Z]=z[Z];return V}function S(z,q){var Z=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(Z!=null){var V,J,fe,ue,pe=[],ve=!0,le=!1;try{if(fe=(Z=Z.call(z)).next,q!==0)for(;!(ve=(V=fe.call(Z)).done)&&(pe.push(V.value),pe.length!==q);ve=!0);}catch(se){le=!0,J=se}finally{try{if(!ve&&Z.return!=null&&(ue=Z.return(),Object(ue)!==ue))return}finally{if(le)throw J}}return pe}}function E(z){if(Array.isArray(z))return z}var _=function(q){var Z=q.isPlaceholder,V=q.children,J=q.remove,fe=q.edit,ue=q.disabled,pe=ue===void 0?!1:ue,ve=q.themeOptions,le=(0,a.useTheme)().select(ve);return r.default.createElement("div",{className:`
        `.concat(Z?le.textLight:"".concat(pe?le.accent2:J||fe?le.menuBgActive:"",`
            mr-1 pl-2 `).concat(!pe&&(J||fe)?"pr-1":"pr-4",`
          `),`
        `).concat(le.itemText,`
         flex items-center max-w-full
      `)},r.default.createElement("span",{className:le.valueItem},V),Z||pe||!fe?null:r.default.createElement("div",{className:`
            `.concat(le.menuBgActive," ").concat(le.menuBgActiveHover," ").concat(le.textContrast,`
            ml-2 p-1 flex justify-center items-center rounded cursor-pointer
          `),onClick:fe},r.default.createElement("svg",{width:"8",height:"8"},r.default.createElement("line",{x1:"0",y1:"6",x2:"4",y2:"2",style:{stroke:"currentColor",strokeWidth:2}}),r.default.createElement("line",{x1:"4",y1:"2",x2:"8",y2:"6",style:{stroke:"currentColor",strokeWidth:2}}))),Z||pe||!J?null:r.default.createElement("div",{className:`
            `.concat(le.menuBgActive," ").concat(le.menuBgActiveHover," ").concat(le.textContrast,`
            `).concat(fe?"ml-1":"ml-2",` p-1 flex justify-center items-center rounded cursor-pointer
          `),onClick:J},r.default.createElement("svg",{width:"8",height:"8"},r.default.createElement("line",{x2:"8",y2:"8",style:{stroke:"currentColor",strokeWidth:2}}),r.default.createElement("line",{y1:"8",x2:"8",style:{stroke:"currentColor",strokeWidth:2}}))))};e.ValueItem=_;var R=r.default.forwardRef(function(z,q){var Z=z.children;z.searchable;var V=z.opened,J=z.direction,fe=z.themeOptions,ue=fe===void 0?{}:fe,pe=(0,a.useTheme)().select(ue);return r.default.createElement("div",{className:`
      absolute left-0 z-40 overflow-hidden min-w-full
      `.concat(V?"block":"hidden",`
    `),style:J==="down"?{top:"100%"}:{bottom:"100%"},ref:q},r.default.createElement("div",{className:"".concat(pe.menuWrapper)},Z))}),O=function(q){return q},F=function(q){var Z=q.multi,V=Z===void 0?!1:Z,J=q.searchable,fe=J===void 0?!1:J,ue=q.domain,pe=ue===void 0?[]:ue,ve=q.options,le=ve===void 0?[]:ve,se=q.value,ge=se===void 0?null:se,_e=q.placeholder,ke=_e===void 0?"Select a value...":_e,Ge=q.accessor,ct=Ge===void 0?O:Ge,$e=q.listAccessor,we=$e===void 0?null:$e,Ee=q.autoFocus,Re=Ee===void 0?!1:Ee,ft=q.disabled,qe=ft===void 0?!1:ft,dt=q.removable,he=dt===void 0?!1:dt,ut=q.themeOptions,xt=ut===void 0?{}:ut,je=q.onChange,rt=je===void 0?O:je,Ze=q.valueAccessor,yt=Ze===void 0?O:Ze,Vt=q.className,At=Vt===void 0?"":Vt,hr=(0,a.useTheme)().select(xt),Sr=r.default.useRef(),fr=r.default.useRef(),Dt=r.default.useRef(),dr=r.default.useRef([]),Nr=(0,r.useState)(!1),gr=x(Nr,2),wr=gr[0],Fr=gr[1],_n=(0,r.useState)("down"),nn=x(_n,2),ot=nn[0],Je=nn[1],Me=(0,r.useState)(!1),Le=x(Me,2),Ye=Le[1],gt=(0,r.useState)(""),kt=x(gt,2),at=kt[0],Ft=kt[1],Tt=function(vr){vr.stopPropagation(),Fr(!0),Ye(!0)},ir=function(vr){wr&&fr&&fr.current.focus(),Fr(!1)},or=function(){fr&&fr.focus()};(0,r.useEffect)(function(){Re&&or()},[Re]),(0,r.useEffect)(function(){var rr=function(fn){wr&&fr&&fr.current.focus(),Fr(!1)},vr=function(fn){Sr&&Sr.current&&Sr.current.contains(fn.target)||rr()};if(document.addEventListener("mousedown",vr),Dt&&Dt.current&&wr&&ot==="down"){var Lt=Dt.current.getBoundingClientRect();Lt.top+Lt.height>window.innerHeight&&Je("up")}return function(){document.removeEventListener("mousedown",vr)}},[ot,wr]);var ar=function(){var vr=[];return(0,i.hasValue)(ge)?(Array.isArray(ge)?vr=ge:vr=[ge],It().filter(function(Lt){return vr.reduce(function(Ir,fn){return Ir||(0,s.default)(yt(Lt),fn)},!1)})):[]},zr=function(vr,Lt){vr.stopPropagation(),ir(),Lt=yt(Lt),V?(0,i.hasValue)(ge)?ge.reduce(function(Ir,fn){return Ir&&!(0,s.default)(fn,Lt)},!0)&&rt([].concat(p(ge),[Lt])):rt([Lt]):rt(Lt)},mt=function(vr,Lt){vr.stopPropagation(),Lt=yt(Lt),rt(V?ge.filter(function(Ir){return!(0,s.default)(Ir,Lt)}):null)},It=function(){return le.length?le:pe},Kt=(0,r.useCallback)(function(rr){switch(rr.key){case"Space":case"Enter":case"ArrowDown":rr.preventDefault(),wr||Fr(!0),dr[0]&&dr[0].current&&dr[0].current.focus();break;case"ArrowUp":rr.preventDefault(),wr||Fr(!0),dr[0]&&dr[0].current&&dr[0].current.focus();break;case"Escape":rr.preventDefault(),rr.stopPropagation(),wr&&Fr(!1);break}},[wr]),br=ar(),Rr=It(),jt=Rr.filter(function(rr){return br.includes(rr)}),Yt=we||ct,Jt=at?(0,l.matchSorter)(Rr,at,{keys:[Yt]}):Rr;return r.default.createElement("div",{ref:Sr,onMouseLeave:function(vr){return ir()}},r.default.createElement("div",{className:"cursor-pointer"},r.default.createElement("div",{id:q.id,ref:fr,onBlur:function(vr){return Ye(!1)},onFocus:function(vr){return Ye(!0)},onKeyDown:Kt,disabled:qe,tabIndex:qe?-1:0,onClick:Tt,className:"".concat(hr.select," ").concat(At)},r.default.createElement("div",{className:"w-11/12 overflow-x-hidden"},br.length?br.map(function(rr,vr,Lt){return r.default.createElement(_,{key:vr,disabled:qe,themeOptions:xt,remove:he?function(Ir){return mt(Ir,rr)}:null},ct(rr,Lt))}):r.default.createElement(_,{key:"placeholder",isPlaceholder:!0,themeOptions:xt},ke)),r.default.createElement("div",{className:"".concat(hr.selectIcon)}))),r.default.createElement("div",{className:"relative"},qe||!wr?null:r.default.createElement(R,{opened:wr,direction:ot,searchable:fe,ref:Dt,themeOptions:xt},fe?r.default.createElement("div",{className:"p-2 pt-1 w-full"},r.default.createElement(n.default,{type:"text",autoFocus:!0,placeholder:"search...",className:"w-full",value:at,onChange:function(vr){return Ft(vr)}})):null,Jt.length?r.default.createElement("div",{className:"scrollbar overflow-y-auto",style:{maxHeight:"15rem"}},Jt.map(function(rr,vr){return r.default.createElement("div",{ref:function(Ir){return dr.current.push(Ir)},key:"".concat(ct(rr),"-").concat(vr),onClick:jt.includes(rr)?function(Lt){return Lt.stopPropagation()}:function(Lt){return zr(Lt,rr)},className:"".concat(jt.includes(rr)?"".concat(hr.menuItemActive):"".concat(hr.menuItem))},(0,o.default)(rr,"OptionComponent")?r.default.createElement(rr.OptionComponent,{option:rr}):Yt(rr))})):r.default.createElement("div",{className:"p-1 text-center"},"No Selections"))))},$=F;e.default=$}(tN)),tN}var rN={},nJ;function Ske(){return nJ||(nJ=1,function(e){function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(_)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(vn()),n=o(fP()),i=fS(),a=XU(),s=["value","id","onChange","disabled","autoFocus","large","small"];function o(_){return _&&_.__esModule?_:{default:_}}function l(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(_);R&&(F=F.filter(function($){return Object.getOwnPropertyDescriptor(_,$).enumerable})),O.push.apply(O,F)}return O}function u(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?l(Object(O),!0).forEach(function(F){f(_,F,O[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):l(Object(O)).forEach(function(F){Object.defineProperty(_,F,Object.getOwnPropertyDescriptor(O,F))})}return _}function f(_,R,O){return R=h(R),R in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function h(_){var R=p(_,"string");return t(R)==="symbol"?R:String(R)}function p(_,R){if(t(_)!=="object"||_===null)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var F=O.call(_,R);if(t(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}function m(_,R){return A(_)||T(_,R)||w(_,R)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(_,R){if(_){if(typeof _=="string")return x(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return x(_,R)}}function x(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function T(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R!==0)for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function A(_){if(Array.isArray(_))return _}function P(_,R){if(_==null)return{};var O=S(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function S(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var E=function(R){var O=R.value,F=O===void 0?{}:O,$=R.id,z=R.onChange,q=R.disabled,Z=R.autoFocus,V=R.large,J=R.small;P(R,s);var fe=r.default.useState(""),ue=m(fe,2),pe=ue[0],ve=ue[1],le=r.default.useState(""),se=m(le,2),ge=se[0],_e=se[1],ke=null,Ge=function(){z(u(u({},F),{},f({},pe,ge))),ve(""),_e(""),ke&&ke.focus()},ct=function(ft){pe&&ge&&ft.keyCode===13&&(ft.stopPropagation(),ft.preventDefault(),Ge())},$e=function(ft){delete F[ft],z(u({},F))},we=function(ft){ve(ft),_e(F[ft]),$e(ft),ke&&ke.focus()},Ee=Object.keys(F).length;return r.default.createElement("div",null,r.default.createElement("div",{className:"flex"},r.default.createElement(n.default,{className:"flex-1",value:pe,onChange:ve,id:$,autoFocus:Z,ref:function(ft){return ke=ft},disabled:q,onKeyDown:ct,large:V,small:J}),r.default.createElement(n.default,{className:"flex-1 ml-1",value:ge,onKeyDown:ct,onChange:_e,disabled:q,large:V,small:J}),r.default.createElement(i.Button,{className:"flex-0 ml-1",onClick:Ge,disabled:q||!pe||!ge||pe in F,large:V,small:J},"Add to Object")),Ee?r.default.createElement("div",{className:"mt-1 ml-10"},r.default.createElement(a.ValueContainer,{className:"cursor-default"},r.default.createElement(a.ValueItem,null,"{"),Object.keys(F).map(function(Re,ft){return r.default.createElement(a.ValueItem,{key:Re,edit:function(dt){return we(Re)},remove:function(dt){return $e(Re)}},Re,": ",F[Re])}),r.default.createElement(a.ValueItem,null,"}"))):null)};e.default=E}(rN)),rN}var nN={},iJ;function Eke(){return iJ||(iJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=fM(),n=Qf(),i=["large","small","className","labels","value","onChange","disabled","autoFocus"];function a(T){return T&&T.__esModule?T:{default:T}}function s(){return s=Object.assign?Object.assign.bind():function(T){for(var A=1;A<arguments.length;A++){var P=arguments[A];for(var S in P)Object.prototype.hasOwnProperty.call(P,S)&&(T[S]=P[S])}return T},s.apply(this,arguments)}function o(T,A){return p(T)||h(T,A)||u(T,A)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(T,A){if(T){if(typeof T=="string")return f(T,A);var P=Object.prototype.toString.call(T).slice(8,-1);if(P==="Object"&&T.constructor&&(P=T.constructor.name),P==="Map"||P==="Set")return Array.from(T);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return f(T,A)}}function f(T,A){(A==null||A>T.length)&&(A=T.length);for(var P=0,S=new Array(A);P<A;P++)S[P]=T[P];return S}function h(T,A){var P=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(P!=null){var S,E,_,R,O=[],F=!0,$=!1;try{if(_=(P=P.call(T)).next,A!==0)for(;!(F=(S=_.call(P)).done)&&(O.push(S.value),O.length!==A);F=!0);}catch(z){$=!0,E=z}finally{try{if(!F&&P.return!=null&&(R=P.return(),Object(R)!==R))return}finally{if($)throw E}}return O}}function p(T){if(Array.isArray(T))return T}function m(T,A){if(T==null)return{};var P=v(T,A),S,E;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(T);for(E=0;E<_.length;E++)S=_[E],!(A.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(T,S)&&(P[S]=T[S])}return P}function v(T,A){if(T==null)return{};var P={},S=Object.keys(T),E,_;for(_=0;_<S.length;_++)E=S[_],!(A.indexOf(E)>=0)&&(P[E]=T[E]);return P}var w=t.default.forwardRef(function(T,A){var P=T.large,S=T.small,E=T.className,_=E===void 0?"":E,R=T.labels,O=R===void 0?["False","True"]:R,F=T.value,$=T.onChange,z=T.disabled,q=z===void 0?!1:z,Z=T.autoFocus,V=Z===void 0?!1:Z,J=m(T,i),fe=t.default.useState(!1),ue=o(fe,2),pe=ue[0],ve=ue[1],le=t.default.useState(null),se=o(le,2),ge=se[0],_e=se[1];t.default.useEffect(function(){ge&&V&&ge.focus()},[V,ge]);var ke=(0,n.useTheme)();return t.default.createElement("div",s({},J,{onClick:q?null:function(Ge){return $(!F)},onFocus:function(ct){return ve(!q)},onBlur:function(ct){return ve(!1)},className:`
        `.concat(P?"".concat(ke.paddingLarge," ").concat(ke.textLarge):S?"".concat(ke.paddingSmall," ").concat(ke.textSmall):"".concat(ke.paddingBase," ").concat(ke.textBase),`
        `).concat(q?"".concat(ke.inputBgDisabled," ").concat(ke.inputBorderDisabled):pe?"".concat(ke.inputBgFocus," ").concat(ke.inputBorderFocus):"".concat(ke.inputBg," ").concat(ke.inputBorder),`
        `).concat(_,`
      `),ref:(0,r.useSetRefs)(A,_e),tabIndex:q?"-1":"0"}),t.default.createElement("div",{className:"flex"},t.default.createElement("div",{className:"flex-0"},t.default.createElement(x,{value:F})),t.default.createElement("div",{className:"flex-1 ml-4"},O[+!!F])))});e.default=w;var x=function(A){var P=A.value,S=(0,n.useTheme)();return t.default.createElement("div",{className:"px-1 h-full flex justify-center items-center"},t.default.createElement("div",{className:"relative h-3"},t.default.createElement("div",{className:"relative w-10 h-3 rounded-lg overflow-hidden"},t.default.createElement("div",{className:"absolute top-0 w-20 h-full ".concat(S.accent4),style:{left:P?"100%":"0",transition:"left 0.25s"}}),t.default.createElement("div",{className:"absolute top-0 w-20 h-full ".concat(S.bgInfo),style:{right:P?"0":"100%",transition:"right 0.25s"}})),t.default.createElement("div",{className:"absolute h-4 w-4 rounded-lg ".concat(S.booleanInputSlider||S.accent2),style:{top:"50%",left:P?"calc(100% - 0.625rem)":"-0.125rem",transform:"translateY(-50%)",transition:"left 0.25s"}})))}}(nN)),nN}var iN={};function Cke(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Pke=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tke=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rke={};function aJ(e,t){return(Rke.jsx?Tke:Pke).test(e)}const Ake=/[ \t\n\f\r]/g;function Oke(e){return typeof e=="object"?e.type==="text"?oJ(e.value):!1:oJ(e)}function oJ(e){return e.replace(Ake,"")===""}class mP{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}mP.prototype.normal={};mP.prototype.property={};mP.prototype.space=void 0;function yme(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new mP(r,n,t)}function xj(e){return e.toLowerCase()}class Sp{constructor(t,r){this.attribute=r,this.property=t}}Sp.prototype.attribute="";Sp.prototype.booleanish=!1;Sp.prototype.boolean=!1;Sp.prototype.commaOrSpaceSeparated=!1;Sp.prototype.commaSeparated=!1;Sp.prototype.defined=!1;Sp.prototype.mustUseProperty=!1;Sp.prototype.number=!1;Sp.prototype.overloadedBoolean=!1;Sp.prototype.property="";Sp.prototype.spaceSeparated=!1;Sp.prototype.space=void 0;let Ike=0;const no=Tw(),rf=Tw(),bme=Tw(),Xn=Tw(),Hl=Tw(),wx=Tw(),Kp=Tw();function Tw(){return 2**++Ike}const Sj=Object.freeze(Object.defineProperty({__proto__:null,boolean:no,booleanish:rf,commaOrSpaceSeparated:Kp,commaSeparated:wx,number:Xn,overloadedBoolean:bme,spaceSeparated:Hl},Symbol.toStringTag,{value:"Module"})),aN=Object.keys(Sj);class JU extends Sp{constructor(t,r,n,i){let a=-1;if(super(t,r),sJ(this,"space",i),typeof n=="number")for(;++a<aN.length;){const s=aN[a];sJ(this,aN[a],(n&Sj[s])===Sj[s])}}}JU.prototype.defined=!0;function sJ(e,t,r){r&&(e[t]=r)}function mS(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new JU(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[xj(n)]=n,r[xj(a.attribute)]=n}return new mP(t,r,e.space)}const _me=mS({properties:{ariaActiveDescendant:null,ariaAtomic:rf,ariaAutoComplete:null,ariaBusy:rf,ariaChecked:rf,ariaColCount:Xn,ariaColIndex:Xn,ariaColSpan:Xn,ariaControls:Hl,ariaCurrent:null,ariaDescribedBy:Hl,ariaDetails:null,ariaDisabled:rf,ariaDropEffect:Hl,ariaErrorMessage:null,ariaExpanded:rf,ariaFlowTo:Hl,ariaGrabbed:rf,ariaHasPopup:null,ariaHidden:rf,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hl,ariaLevel:Xn,ariaLive:null,ariaModal:rf,ariaMultiLine:rf,ariaMultiSelectable:rf,ariaOrientation:null,ariaOwns:Hl,ariaPlaceholder:null,ariaPosInSet:Xn,ariaPressed:rf,ariaReadOnly:rf,ariaRelevant:null,ariaRequired:rf,ariaRoleDescription:Hl,ariaRowCount:Xn,ariaRowIndex:Xn,ariaRowSpan:Xn,ariaSelected:rf,ariaSetSize:Xn,ariaSort:null,ariaValueMax:Xn,ariaValueMin:Xn,ariaValueNow:Xn,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function wme(e,t){return t in e?e[t]:t}function xme(e,t){return wme(e,t.toLowerCase())}const Mke=mS({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wx,acceptCharset:Hl,accessKey:Hl,action:null,allow:null,allowFullScreen:no,allowPaymentRequest:no,allowUserMedia:no,alt:null,as:null,async:no,autoCapitalize:null,autoComplete:Hl,autoFocus:no,autoPlay:no,blocking:Hl,capture:null,charSet:null,checked:no,cite:null,className:Hl,cols:Xn,colSpan:null,content:null,contentEditable:rf,controls:no,controlsList:Hl,coords:Xn|wx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:no,defer:no,dir:null,dirName:null,disabled:no,download:bme,draggable:rf,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:no,formTarget:null,headers:Hl,height:Xn,hidden:no,high:Xn,href:null,hrefLang:null,htmlFor:Hl,httpEquiv:Hl,id:null,imageSizes:null,imageSrcSet:null,inert:no,inputMode:null,integrity:null,is:null,isMap:no,itemId:null,itemProp:Hl,itemRef:Hl,itemScope:no,itemType:Hl,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:no,low:Xn,manifest:null,max:null,maxLength:Xn,media:null,method:null,min:null,minLength:Xn,multiple:no,muted:no,name:null,nonce:null,noModule:no,noValidate:no,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:no,optimum:Xn,pattern:null,ping:Hl,placeholder:null,playsInline:no,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:no,referrerPolicy:null,rel:Hl,required:no,reversed:no,rows:Xn,rowSpan:Xn,sandbox:Hl,scope:null,scoped:no,seamless:no,selected:no,shadowRootClonable:no,shadowRootDelegatesFocus:no,shadowRootMode:null,shape:null,size:Xn,sizes:null,slot:null,span:Xn,spellCheck:rf,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Xn,step:null,style:null,tabIndex:Xn,target:null,title:null,translate:null,type:null,typeMustMatch:no,useMap:null,value:rf,width:Xn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Hl,axis:null,background:null,bgColor:null,border:Xn,borderColor:null,bottomMargin:Xn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:no,declare:no,event:null,face:null,frame:null,frameBorder:null,hSpace:Xn,leftMargin:Xn,link:null,longDesc:null,lowSrc:null,marginHeight:Xn,marginWidth:Xn,noResize:no,noHref:no,noShade:no,noWrap:no,object:null,profile:null,prompt:null,rev:null,rightMargin:Xn,rules:null,scheme:null,scrolling:rf,standby:null,summary:null,text:null,topMargin:Xn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Xn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:no,disableRemotePlayback:no,prefix:null,property:null,results:Xn,security:null,unselectable:null},space:"html",transform:xme}),kke=mS({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kp,accentHeight:Xn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Xn,amplitude:Xn,arabicForm:null,ascent:Xn,attributeName:null,attributeType:null,azimuth:Xn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Xn,by:null,calcMode:null,capHeight:Xn,className:Hl,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Xn,diffuseConstant:Xn,direction:null,display:null,dur:null,divisor:Xn,dominantBaseline:null,download:no,dx:null,dy:null,edgeMode:null,editable:null,elevation:Xn,enableBackground:null,end:null,event:null,exponent:Xn,externalResourcesRequired:null,fill:null,fillOpacity:Xn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wx,g2:wx,glyphName:wx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Xn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Xn,horizOriginX:Xn,horizOriginY:Xn,id:null,ideographic:Xn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Xn,k:Xn,k1:Xn,k2:Xn,k3:Xn,k4:Xn,kernelMatrix:Kp,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Xn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Xn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Xn,overlineThickness:Xn,paintOrder:null,panose1:null,path:null,pathLength:Xn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hl,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Xn,pointsAtY:Xn,pointsAtZ:Xn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kp,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kp,rev:Kp,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kp,requiredFeatures:Kp,requiredFonts:Kp,requiredFormats:Kp,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Xn,specularExponent:Xn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Xn,strikethroughThickness:Xn,string:null,stroke:null,strokeDashArray:Kp,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Xn,strokeOpacity:Xn,strokeWidth:null,style:null,surfaceScale:Xn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kp,tabIndex:Xn,tableValues:null,target:null,targetX:Xn,targetY:Xn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kp,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Xn,underlineThickness:Xn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Xn,values:null,vAlphabetic:Xn,vMathematical:Xn,vectorEffect:null,vHanging:Xn,vIdeographic:Xn,version:null,vertAdvY:Xn,vertOriginX:Xn,vertOriginY:Xn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Xn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:wme}),Sme=mS({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Eme=mS({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:xme}),Cme=mS({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Dke={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fke=/[A-Z]/g,lJ=/-[a-z]/g,Lke=/^data[-\w.:]+$/i;function Nke(e,t){const r=xj(t);let n=t,i=Sp;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Lke.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(lJ,zke);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!lJ.test(a)){let s=a.replace(Fke,$ke);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=JU}return new i(n,t)}function $ke(e){return"-"+e.toLowerCase()}function zke(e){return e.charAt(1).toUpperCase()}const Bke=yme([_me,Mke,Sme,Eme,Cme],"html"),QU=yme([_me,kke,Sme,Eme,Cme],"svg");function jke(e){return e.join(" ").trim()}var _1={},oN,uJ;function Uke(){if(uJ)return oN;uJ=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,u="/",f="*",h="",p="comment",m="declaration";oN=function(w,x){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];x=x||{};var T=1,A=1;function P(Z){var V=Z.match(t);V&&(T+=V.length);var J=Z.lastIndexOf(l);A=~J?Z.length-J:A+Z.length}function S(){var Z={line:T,column:A};return function(V){return V.position=new E(Z),O(),V}}function E(Z){this.start=Z,this.end={line:T,column:A},this.source=x.source}E.prototype.content=w;function _(Z){var V=new Error(x.source+":"+T+":"+A+": "+Z);if(V.reason=Z,V.filename=x.source,V.line=T,V.column=A,V.source=w,!x.silent)throw V}function R(Z){var V=Z.exec(w);if(V){var J=V[0];return P(J),w=w.slice(J.length),V}}function O(){R(r)}function F(Z){var V;for(Z=Z||[];V=$();)V!==!1&&Z.push(V);return Z}function $(){var Z=S();if(!(u!=w.charAt(0)||f!=w.charAt(1))){for(var V=2;h!=w.charAt(V)&&(f!=w.charAt(V)||u!=w.charAt(V+1));)++V;if(V+=2,h===w.charAt(V-1))return _("End of comment missing");var J=w.slice(2,V-2);return A+=2,P(J),w=w.slice(V),A+=2,Z({type:p,comment:J})}}function z(){var Z=S(),V=R(n);if(V){if($(),!R(i))return _("property missing ':'");var J=R(a),fe=Z({type:m,property:v(V[0].replace(e,h)),value:J?v(J[0].replace(e,h)):h});return R(s),fe}}function q(){var Z=[];F(Z);for(var V;V=z();)V!==!1&&(Z.push(V),F(Z));return Z}return O(),q()};function v(w){return w?w.replace(o,h):h}return oN}var cJ;function qke(){if(cJ)return _1;cJ=1;var e=_1&&_1.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_1,"__esModule",{value:!0}),_1.default=r;var t=e(Uke());function r(n,i){var a=null;if(!n||typeof n!="string")return a;var s=(0,t.default)(n),o=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,f=l.value;o?i(u,f,l):f&&(a=a||{},a[u]=f)}}),a}return _1}var RE={},fJ;function Hke(){if(fJ)return RE;fJ=1,Object.defineProperty(RE,"__esModule",{value:!0}),RE.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(u){return!u||r.test(u)||e.test(u)},s=function(u,f){return f.toUpperCase()},o=function(u,f){return"".concat(f,"-")},l=function(u,f){return f===void 0&&(f={}),a(u)?u:(u=u.toLowerCase(),f.reactCompat?u=u.replace(i,o):u=u.replace(n,o),u.replace(t,s))};return RE.camelCase=l,RE}var AE,dJ;function Wke(){if(dJ)return AE;dJ=1;var e=AE&&AE.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(qke()),r=Hke();function n(i,a){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(o,l){o&&l&&(s[(0,r.camelCase)(o,a)]=l)}),s}return n.default=n,AE=n,AE}var Vke=Wke();const Gke=pl(Vke),Pme=Tme("end"),eq=Tme("start");function Tme(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Kke(e){const t=eq(e),r=Pme(e);if(t&&r)return{start:t,end:r}}function kC(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hJ(e.position):"start"in e||"end"in e?hJ(e):"line"in e||"column"in e?Ej(e):""}function Ej(e){return pJ(e&&e.line)+":"+pJ(e&&e.column)}function hJ(e){return Ej(e&&e.start)+"-"+Ej(e&&e.end)}function pJ(e){return e&&typeof e=="number"?e:1}class rh extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=kC(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}rh.prototype.file="";rh.prototype.name="";rh.prototype.reason="";rh.prototype.message="";rh.prototype.stack="";rh.prototype.column=void 0;rh.prototype.line=void 0;rh.prototype.ancestors=void 0;rh.prototype.cause=void 0;rh.prototype.fatal=void 0;rh.prototype.place=void 0;rh.prototype.ruleId=void 0;rh.prototype.source=void 0;const tq={}.hasOwnProperty,Zke=new Map,Yke=/[A-Z]/g,Xke=new Set(["table","tbody","thead","tfoot","tr"]),Jke=new Set(["td","th"]),Rme="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qke(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=sDe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=oDe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?QU:Bke,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Ame(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function Ame(e,t,r){if(t.type==="element")return eDe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return tDe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return nDe(e,t,r);if(t.type==="mdxjsEsm")return rDe(e,t);if(t.type==="root")return iDe(e,t,r);if(t.type==="text")return aDe(e,t)}function eDe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=QU,e.schema=i),e.ancestors.push(t);const a=Ime(e,t.tagName,!1),s=lDe(e,t);let o=nq(e,t);return Xke.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Oke(l):!0})),Ome(e,s,a,t),rq(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function tDe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}d2(e,t.position)}function rDe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);d2(e,t.position)}function nDe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=QU,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:Ime(e,t.name,!0),s=uDe(e,t),o=nq(e,t);return Ome(e,s,a,t),rq(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function iDe(e,t,r){const n={};return rq(n,nq(e,t)),e.create(t,e.Fragment,n,r)}function aDe(e,t){return t.value}function Ome(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function rq(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function oDe(e,t,r){return n;function n(i,a,s,o){const u=Array.isArray(s.children)?r:t;return o?u(a,s,o):u(a,s)}}function sDe(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=eq(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function lDe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&tq.call(t.properties,i)){const a=cDe(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Jke.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function uDe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else d2(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else d2(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function nq(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:Zke;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=Ame(e,a,s);o!==void 0&&r.push(o)}return r}function cDe(e,t,r){const n=Nke(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?Cke(r):jke(r)),n.property==="style"){let i=typeof r=="object"?r:fDe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=dDe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?Dke[n.property]||n.property:n.attribute,r]}}function fDe(e,t){try{return Gke(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new rh("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Rme+"#cannot-parse-style-attribute",i}}function Ime(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=aJ(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=aJ(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return tq.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);d2(e)}function d2(e,t){const r=new rh("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Rme+"#cannot-handle-mdx-estrees-without-createevaluater",r}function dDe(e){const t={};let r;for(r in e)tq.call(e,r)&&(t[hDe(r)]=e[r]);return t}function hDe(e){let t=e.replace(Yke,pDe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function pDe(e){return"-"+e.toLowerCase()}const sN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mDe={};function gDe(e,t){const r=mDe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Mme(e,n,i)}function Mme(e,t,r){if(vDe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return mJ(e.children,t,r)}return Array.isArray(e)?mJ(e,t,r):""}function mJ(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=Mme(e[i],t,r);return n.join("")}function vDe(e){return!!(e&&typeof e=="object")}const gJ=document.createElement("i");function iq(e){const t="&"+e+";";gJ.innerHTML=t;const r=gJ.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function ey(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Bm(e,t){return e.length>0?(ey(e,e.length,0,t),e):t}const vJ={}.hasOwnProperty;function yDe(e){const t={};let r=-1;for(;++r<e.length;)bDe(t,e[r]);return t}function bDe(e,t){let r;for(r in t){const i=(vJ.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){vJ.call(i,s)||(i[s]=[]);const o=a[s];_De(i[s],Array.isArray(o)?o:o?[o]:[])}}}function _De(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);ey(e,0,0,n)}function kme(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function xx(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Dv=Mb(/[A-Za-z]/),im=Mb(/[\dA-Za-z]/),wDe=Mb(/[#-'*+\--9=?A-Z^-~]/);function Cj(e){return e!==null&&(e<32||e===127)}const Pj=Mb(/\d/),xDe=Mb(/[\dA-Fa-f]/),SDe=Mb(/[!-/:-@[-`{-~]/);function $a(e){return e!==null&&e<-2}function hp(e){return e!==null&&(e<0||e===32)}function Fs(e){return e===-2||e===-1||e===32}const EDe=Mb(new RegExp("\\p{P}|\\p{S}","u")),CDe=Mb(/\s/);function Mb(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function gS(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&im(e.charCodeAt(r+1))&&im(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Wl(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Fs(l)?(e.enter(r),o(l)):t(l)}function o(l){return Fs(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const PDe={tokenize:TDe};function TDe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Wl(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return $a(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const RDe={tokenize:ADe},yJ={tokenize:ODe};function ADe(e){const t=this,r=[];let n=0,i,a,s;return o;function o(P){if(n<r.length){const S=r[n];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(P)}return u(P)}function l(P){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&A();const S=t.events.length;let E=S,_;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){_=t.events[E][1].end;break}T(n);let R=S;for(;R<t.events.length;)t.events[R][1].end={..._},R++;return ey(t.events,E+1,0,t.events.slice(S)),t.events.length=R,u(P)}return o(P)}function u(P){if(n===r.length){if(!i)return p(P);if(i.currentConstruct&&i.currentConstruct.concrete)return v(P);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(yJ,f,h)(P)}function f(P){return i&&A(),T(n),p(P)}function h(P){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,v(P)}function p(P){return t.containerState={},e.attempt(yJ,m,v)(P)}function m(P){return n++,r.push([t.currentConstruct,t.containerState]),p(P)}function v(P){if(P===null){i&&A(),T(0),e.consume(P);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(P)}function w(P){if(P===null){x(e.exit("chunkFlow"),!0),T(0),e.consume(P);return}return $a(P)?(e.consume(P),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(P),w)}function x(P,S){const E=t.sliceStream(P);if(S&&E.push(null),P.previous=a,a&&(a.next=P),a=P,i.defineSkip(P.start),i.write(E),t.parser.lazy[P.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<s&&(!i.events[_][1].end||i.events[_][1].end.offset>s))return;const R=t.events.length;let O=R,F,$;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(F){$=t.events[O][1].end;break}F=!0}for(T(n),_=R;_<t.events.length;)t.events[_][1].end={...$},_++;ey(t.events,O+1,0,t.events.slice(R)),t.events.length=_}}function T(P){let S=r.length;for(;S-- >P;){const E=r[S];t.containerState=E[1],E[0].exit.call(t,e)}r.length=P}function A(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ODe(e,t,r){return Wl(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bJ(e){if(e===null||hp(e)||CDe(e))return 1;if(EDe(e))return 2}function aq(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const Tj={name:"attention",resolveAll:IDe,tokenize:MDe};function IDe(e,t){let r=-1,n,i,a,s,o,l,u,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},p={...e[r][1].start};_J(h,-l),_J(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Bm(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Bm(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Bm(u,aq(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Bm(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,u=Bm(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,ey(e,n-1,r-n+3,u),r=n+u.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function MDe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=bJ(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),f=bJ(l),h=!f||f===2&&i||r.includes(l),p=!i||i===2&&f||r.includes(n);return u._open=!!(a===42?h:h&&(i||!p)),u._close=!!(a===42?p:p&&(f||!h)),t(l)}}function _J(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const kDe={name:"autolink",tokenize:DDe};function DDe(e,t,r){let n=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Dv(m)?(e.consume(m),s):m===64?r(m):u(m)}function s(m){return m===43||m===45||m===46||im(m)?(n=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),n=0,l):(m===43||m===45||m===46||im(m))&&n++<32?(e.consume(m),o):(n=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Cj(m)?r(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),f):wDe(m)?(e.consume(m),u):r(m)}function f(m){return im(m)?h(m):r(m)}function h(m){return m===46?(e.consume(m),n=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||im(m))&&n++<63){const v=m===45?p:h;return e.consume(m),v}return r(m)}}const dM={partial:!0,tokenize:FDe};function FDe(e,t,r){return n;function n(a){return Fs(a)?Wl(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||$a(a)?t(a):r(a)}}const Dme={continuation:{tokenize:NDe},exit:$De,name:"blockQuote",tokenize:LDe};function LDe(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return Fs(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function NDe(e,t,r){const n=this;return i;function i(s){return Fs(s)?Wl(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(Dme,t,r)(s)}}function $De(e){e.exit("blockQuote")}const Fme={name:"characterEscape",tokenize:zDe};function zDe(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return SDe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const Lme={name:"characterReference",tokenize:BDe};function BDe(e,t,r){const n=this;let i=0,a,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=im,f(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=xDe,f):(e.enter("characterReferenceValue"),a=7,s=Pj,f(h))}function f(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return s===im&&!iq(n.sliceSerialize(p))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&i++<a?(e.consume(h),f):r(h)}}const wJ={partial:!0,tokenize:UDe},xJ={concrete:!0,name:"codeFenced",tokenize:jDe};function jDe(e,t,r){const n=this,i={partial:!0,tokenize:E};let a=0,s=0,o;return l;function l(_){return u(_)}function u(_){const R=n.events[n.events.length-1];return a=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(_)}function f(_){return _===o?(s++,e.consume(_),f):s<3?r(_):(e.exit("codeFencedFenceSequence"),Fs(_)?Wl(e,h,"whitespace")(_):h(_))}function h(_){return _===null||$a(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(wJ,w,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||$a(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(_)):Fs(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Wl(e,m,"whitespace")(_)):_===96&&_===o?r(_):(e.consume(_),p)}function m(_){return _===null||$a(_)?h(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===null||$a(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(_)):_===96&&_===o?r(_):(e.consume(_),v)}function w(_){return e.attempt(i,S,x)(_)}function x(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),T}function T(_){return a>0&&Fs(_)?Wl(e,A,"linePrefix",a+1)(_):A(_)}function A(_){return _===null||$a(_)?e.check(wJ,w,S)(_):(e.enter("codeFlowValue"),P(_))}function P(_){return _===null||$a(_)?(e.exit("codeFlowValue"),A(_)):(e.consume(_),P)}function S(_){return e.exit("codeFenced"),t(_)}function E(_,R,O){let F=0;return $;function $(J){return _.enter("lineEnding"),_.consume(J),_.exit("lineEnding"),z}function z(J){return _.enter("codeFencedFence"),Fs(J)?Wl(_,q,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===o?(_.enter("codeFencedFenceSequence"),Z(J)):O(J)}function Z(J){return J===o?(F++,_.consume(J),Z):F>=s?(_.exit("codeFencedFenceSequence"),Fs(J)?Wl(_,V,"whitespace")(J):V(J)):O(J)}function V(J){return J===null||$a(J)?(_.exit("codeFencedFence"),R(J)):O(J)}}}function UDe(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const lN={name:"codeIndented",tokenize:HDe},qDe={partial:!0,tokenize:WDe};function HDe(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),Wl(e,a,"linePrefix",5)(u)}function a(u){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?l(u):$a(u)?e.attempt(qDe,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||$a(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function WDe(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):$a(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Wl(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):$a(s)?i(s):r(s)}}const VDe={name:"codeText",previous:KDe,resolve:GDe,tokenize:ZDe};function GDe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function KDe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ZDe(e,t,r){let n=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,f(h)):$a(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||$a(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function f(h){return h===96?(e.consume(h),i++,f):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}class YDe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&OE(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),OE(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),OE(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);OE(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);OE(this.left,r.reverse())}}}function OE(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Nme(e){const t={};let r=-1,n,i,a,s,o,l,u;const f=new YDe(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,XDe(f,r)),r=t[r],u=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=f.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},o=f.slice(i,r),o.unshift(n),f.splice(i,r-i+1,o))}}return ey(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function XDe(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let f,h,p=-1,m=r,v=0,w=0;const x=[w];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(f=n.sliceStream(m),m.next||f.push(null),h&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(w=p+1,x.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const T=o.slice(x[p],x[p+1]),A=a.pop();l.push([A,A+T.length-1]),e.splice(A,2,T)}for(l.reverse(),p=-1;++p<l.length;)u[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return u}const JDe={resolve:eFe,tokenize:tFe},QDe={partial:!0,tokenize:rFe};function eFe(e){return Nme(e),e}function tFe(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):$a(o)?e.check(QDe,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function rFe(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Wl(e,a,"linePrefix")}function a(s){if(s===null||$a(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function $me(e,t,r,n,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return h;function h(T){return T===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(T),e.exit(a),p):T===null||T===32||T===41||Cj(T)?r(T):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),w(T))}function p(T){return T===62?(e.enter(a),e.consume(T),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(e.exit("chunkString"),e.exit(o),p(T)):T===null||T===60||$a(T)?r(T):(e.consume(T),T===92?v:m)}function v(T){return T===60||T===62||T===92?(e.consume(T),m):m(T)}function w(T){return!f&&(T===null||T===41||hp(T))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(T)):f<u&&T===40?(e.consume(T),f++,w):T===41?(e.consume(T),f--,w):T===null||T===32||T===40||Cj(T)?r(T):(e.consume(T),T===92?x:w)}function x(T){return T===40||T===41||T===92?(e.consume(T),w):w(T)}}function zme(e,t,r,n,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(n),e.enter(i),e.consume(m),e.exit(i),e.enter(a),f}function f(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(n),t):$a(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||$a(m)||o++>999?(e.exit("chunkString"),f(m)):(e.consume(m),l||(l=!Fs(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,h):h(m)}}function Bme(e,t,r,n,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):r(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),u(p))}function u(p){return p===s?(e.exit(a),l(s)):p===null?r(p):$a(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Wl(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===s||p===null||$a(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:f)}function h(p){return p===s||p===92?(e.consume(p),f):f(p)}}function DC(e,t){let r;return n;function n(i){return $a(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Fs(i)?Wl(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const nFe={name:"definition",tokenize:aFe},iFe={partial:!0,tokenize:oFe};function aFe(e,t,r){const n=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return zme.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=xx(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):r(m)}function l(m){return hp(m)?DC(e,u)(m):u(m)}function u(m){return $me(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(iFe,h,h)(m)}function h(m){return Fs(m)?Wl(e,p,"whitespace")(m):p(m)}function p(m){return m===null||$a(m)?(e.exit("definition"),n.parser.defined.push(i),t(m)):r(m)}}function oFe(e,t,r){return n;function n(o){return hp(o)?DC(e,i)(o):r(o)}function i(o){return Bme(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Fs(o)?Wl(e,s,"whitespace")(o):s(o)}function s(o){return o===null||$a(o)?t(o):r(o)}}const sFe={name:"hardBreakEscape",tokenize:lFe};function lFe(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return $a(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const uFe={name:"headingAtx",resolve:cFe,tokenize:fFe};function cFe(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},ey(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function fFe(e,t,r){let n=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&n++<6?(e.consume(f),s):f===null||hp(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||$a(f)?(e.exit("atxHeading"),t(f)):Fs(f)?Wl(e,o,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),o(f))}function u(f){return f===null||f===35||hp(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),u)}}const dFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],SJ=["pre","script","style","textarea"],hFe={concrete:!0,name:"htmlFlow",resolveTo:gFe,tokenize:vFe},pFe={partial:!0,tokenize:bFe},mFe={partial:!0,tokenize:yFe};function gFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vFe(e,t,r){const n=this;let i,a,s,o,l;return u;function u(_e){return f(_e)}function f(_e){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_e),h}function h(_e){return _e===33?(e.consume(_e),p):_e===47?(e.consume(_e),a=!0,w):_e===63?(e.consume(_e),i=3,n.interrupt?t:le):Dv(_e)?(e.consume(_e),s=String.fromCharCode(_e),x):r(_e)}function p(_e){return _e===45?(e.consume(_e),i=2,m):_e===91?(e.consume(_e),i=5,o=0,v):Dv(_e)?(e.consume(_e),i=4,n.interrupt?t:le):r(_e)}function m(_e){return _e===45?(e.consume(_e),n.interrupt?t:le):r(_e)}function v(_e){const ke="CDATA[";return _e===ke.charCodeAt(o++)?(e.consume(_e),o===ke.length?n.interrupt?t:q:v):r(_e)}function w(_e){return Dv(_e)?(e.consume(_e),s=String.fromCharCode(_e),x):r(_e)}function x(_e){if(_e===null||_e===47||_e===62||hp(_e)){const ke=_e===47,Ge=s.toLowerCase();return!ke&&!a&&SJ.includes(Ge)?(i=1,n.interrupt?t(_e):q(_e)):dFe.includes(s.toLowerCase())?(i=6,ke?(e.consume(_e),T):n.interrupt?t(_e):q(_e)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(_e):a?A(_e):P(_e))}return _e===45||im(_e)?(e.consume(_e),s+=String.fromCharCode(_e),x):r(_e)}function T(_e){return _e===62?(e.consume(_e),n.interrupt?t:q):r(_e)}function A(_e){return Fs(_e)?(e.consume(_e),A):$(_e)}function P(_e){return _e===47?(e.consume(_e),$):_e===58||_e===95||Dv(_e)?(e.consume(_e),S):Fs(_e)?(e.consume(_e),P):$(_e)}function S(_e){return _e===45||_e===46||_e===58||_e===95||im(_e)?(e.consume(_e),S):E(_e)}function E(_e){return _e===61?(e.consume(_e),_):Fs(_e)?(e.consume(_e),E):P(_e)}function _(_e){return _e===null||_e===60||_e===61||_e===62||_e===96?r(_e):_e===34||_e===39?(e.consume(_e),l=_e,R):Fs(_e)?(e.consume(_e),_):O(_e)}function R(_e){return _e===l?(e.consume(_e),l=null,F):_e===null||$a(_e)?r(_e):(e.consume(_e),R)}function O(_e){return _e===null||_e===34||_e===39||_e===47||_e===60||_e===61||_e===62||_e===96||hp(_e)?E(_e):(e.consume(_e),O)}function F(_e){return _e===47||_e===62||Fs(_e)?P(_e):r(_e)}function $(_e){return _e===62?(e.consume(_e),z):r(_e)}function z(_e){return _e===null||$a(_e)?q(_e):Fs(_e)?(e.consume(_e),z):r(_e)}function q(_e){return _e===45&&i===2?(e.consume(_e),fe):_e===60&&i===1?(e.consume(_e),ue):_e===62&&i===4?(e.consume(_e),se):_e===63&&i===3?(e.consume(_e),le):_e===93&&i===5?(e.consume(_e),ve):$a(_e)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pFe,ge,Z)(_e)):_e===null||$a(_e)?(e.exit("htmlFlowData"),Z(_e)):(e.consume(_e),q)}function Z(_e){return e.check(mFe,V,ge)(_e)}function V(_e){return e.enter("lineEnding"),e.consume(_e),e.exit("lineEnding"),J}function J(_e){return _e===null||$a(_e)?Z(_e):(e.enter("htmlFlowData"),q(_e))}function fe(_e){return _e===45?(e.consume(_e),le):q(_e)}function ue(_e){return _e===47?(e.consume(_e),s="",pe):q(_e)}function pe(_e){if(_e===62){const ke=s.toLowerCase();return SJ.includes(ke)?(e.consume(_e),se):q(_e)}return Dv(_e)&&s.length<8?(e.consume(_e),s+=String.fromCharCode(_e),pe):q(_e)}function ve(_e){return _e===93?(e.consume(_e),le):q(_e)}function le(_e){return _e===62?(e.consume(_e),se):_e===45&&i===2?(e.consume(_e),le):q(_e)}function se(_e){return _e===null||$a(_e)?(e.exit("htmlFlowData"),ge(_e)):(e.consume(_e),se)}function ge(_e){return e.exit("htmlFlow"),t(_e)}}function yFe(e,t,r){const n=this;return i;function i(s){return $a(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function bFe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(dM,t,r)}}const _Fe={name:"htmlText",tokenize:wFe};function wFe(e,t,r){const n=this;let i,a,s;return o;function o(le){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(le),l}function l(le){return le===33?(e.consume(le),u):le===47?(e.consume(le),E):le===63?(e.consume(le),P):Dv(le)?(e.consume(le),O):r(le)}function u(le){return le===45?(e.consume(le),f):le===91?(e.consume(le),a=0,v):Dv(le)?(e.consume(le),A):r(le)}function f(le){return le===45?(e.consume(le),m):r(le)}function h(le){return le===null?r(le):le===45?(e.consume(le),p):$a(le)?(s=h,ue(le)):(e.consume(le),h)}function p(le){return le===45?(e.consume(le),m):h(le)}function m(le){return le===62?fe(le):le===45?p(le):h(le)}function v(le){const se="CDATA[";return le===se.charCodeAt(a++)?(e.consume(le),a===se.length?w:v):r(le)}function w(le){return le===null?r(le):le===93?(e.consume(le),x):$a(le)?(s=w,ue(le)):(e.consume(le),w)}function x(le){return le===93?(e.consume(le),T):w(le)}function T(le){return le===62?fe(le):le===93?(e.consume(le),T):w(le)}function A(le){return le===null||le===62?fe(le):$a(le)?(s=A,ue(le)):(e.consume(le),A)}function P(le){return le===null?r(le):le===63?(e.consume(le),S):$a(le)?(s=P,ue(le)):(e.consume(le),P)}function S(le){return le===62?fe(le):P(le)}function E(le){return Dv(le)?(e.consume(le),_):r(le)}function _(le){return le===45||im(le)?(e.consume(le),_):R(le)}function R(le){return $a(le)?(s=R,ue(le)):Fs(le)?(e.consume(le),R):fe(le)}function O(le){return le===45||im(le)?(e.consume(le),O):le===47||le===62||hp(le)?F(le):r(le)}function F(le){return le===47?(e.consume(le),fe):le===58||le===95||Dv(le)?(e.consume(le),$):$a(le)?(s=F,ue(le)):Fs(le)?(e.consume(le),F):fe(le)}function $(le){return le===45||le===46||le===58||le===95||im(le)?(e.consume(le),$):z(le)}function z(le){return le===61?(e.consume(le),q):$a(le)?(s=z,ue(le)):Fs(le)?(e.consume(le),z):F(le)}function q(le){return le===null||le===60||le===61||le===62||le===96?r(le):le===34||le===39?(e.consume(le),i=le,Z):$a(le)?(s=q,ue(le)):Fs(le)?(e.consume(le),q):(e.consume(le),V)}function Z(le){return le===i?(e.consume(le),i=void 0,J):le===null?r(le):$a(le)?(s=Z,ue(le)):(e.consume(le),Z)}function V(le){return le===null||le===34||le===39||le===60||le===61||le===96?r(le):le===47||le===62||hp(le)?F(le):(e.consume(le),V)}function J(le){return le===47||le===62||hp(le)?F(le):r(le)}function fe(le){return le===62?(e.consume(le),e.exit("htmlTextData"),e.exit("htmlText"),t):r(le)}function ue(le){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(le),e.exit("lineEnding"),pe}function pe(le){return Fs(le)?Wl(e,ve,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):ve(le)}function ve(le){return e.enter("htmlTextData"),s(le)}}const oq={name:"labelEnd",resolveAll:CFe,resolveTo:PFe,tokenize:TFe},xFe={tokenize:RFe},SFe={tokenize:AFe},EFe={tokenize:OFe};function CFe(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&ey(e,0,e.length,r),e}function PFe(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},f={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Bm(o,e.slice(a+1,a+n+3)),o=Bm(o,[["enter",f,t]]),o=Bm(o,aq(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=Bm(o,[["exit",f,t],e[s-2],e[s-1],["exit",u,t]]),o=Bm(o,e.slice(s+1)),o=Bm(o,[["exit",l,t]]),ey(e,a,e.length,o),e}function TFe(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(p){return a?a._inactive?h(p):(s=n.parser.defined.includes(xx(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(xFe,f,s?f:h)(p):p===91?e.attempt(SFe,f,s?u:h)(p):s?f(p):h(p)}function u(p){return e.attempt(EFe,f,h)(p)}function f(p){return t(p)}function h(p){return a._balanced=!0,r(p)}}function RFe(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return hp(h)?DC(e,a)(h):a(h)}function a(h){return h===41?f(h):$me(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return hp(h)?DC(e,l)(h):f(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?Bme(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function u(h){return hp(h)?DC(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function AFe(e,t,r){const n=this;return i;function i(o){return zme.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(xx(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function OFe(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const IFe={name:"labelStartImage",resolveAll:oq.resolveAll,tokenize:MFe};function MFe(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const kFe={name:"labelStartLink",resolveAll:oq.resolveAll,tokenize:DFe};function DFe(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const uN={name:"lineEnding",tokenize:FFe};function FFe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Wl(e,t,"linePrefix")}}const xA={name:"thematicBreak",tokenize:LFe};function LFe(e,t,r){let n=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||$a(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===i?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),Fs(u)?Wl(e,o,"whitespace")(u):o(u))}}const up={continuation:{tokenize:BFe},exit:UFe,name:"list",tokenize:zFe},NFe={partial:!0,tokenize:qFe},$Fe={partial:!0,tokenize:jFe};function zFe(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const v=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:Pj(m)){if(n.containerState.type||(n.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(xA,r,u)(m):u(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return r(m)}function l(m){return Pj(m)&&++s<10?(e.consume(m),l):(!n.interrupt||s<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):r(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(dM,n.interrupt?r:f,e.attempt(NFe,p,h))}function f(m){return n.containerState.initialBlankLine=!0,a++,p(m)}function h(m){return Fs(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):r(m)}function p(m){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function BFe(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(dM,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Wl(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!Fs(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt($Fe,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Wl(e,e.attempt(up,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function jFe(e,t,r){const n=this;return Wl(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function UFe(e){e.exit(this.containerState.type)}function qFe(e,t,r){const n=this;return Wl(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!Fs(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const EJ={name:"setextUnderline",resolveTo:HFe,tokenize:WFe};function HFe(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function WFe(e,t,r){const n=this;let i;return a;function a(u){let f=n.events.length,h;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){h=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Fs(u)?Wl(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||$a(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const VFe={tokenize:GFe};function GFe(e){const t=this,r=e.attempt(dM,n,e.attempt(this.parser.constructs.flowInitial,i,Wl(e,e.attempt(this.parser.constructs.flow,i,e.attempt(JDe,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const KFe={resolveAll:Ume()},ZFe=jme("string"),YFe=jme("text");function jme(e){return{resolveAll:Ume(e==="text"?XFe:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(f){return u(f)?a(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),l}function l(f){return u(f)?(r.exit("data"),a(f)):(r.consume(f),l)}function u(f){if(f===null)return!0;const h=i[f];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}function Ume(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function XFe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const JFe={42:up,43:up,45:up,48:up,49:up,50:up,51:up,52:up,53:up,54:up,55:up,56:up,57:up,62:Dme},QFe={91:nFe},e3e={[-2]:lN,[-1]:lN,32:lN},t3e={35:uFe,42:xA,45:[EJ,xA],60:hFe,61:EJ,95:xA,96:xJ,126:xJ},r3e={38:Lme,92:Fme},n3e={[-5]:uN,[-4]:uN,[-3]:uN,33:IFe,38:Lme,42:Tj,60:[kDe,_Fe],91:kFe,92:[sFe,Fme],93:oq,95:Tj,96:VDe},i3e={null:[Tj,KFe]},a3e={null:[42,95]},o3e={null:[]},s3e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:a3e,contentInitial:QFe,disable:o3e,document:JFe,flow:t3e,flowInitial:e3e,insideSpan:i3e,string:r3e,text:n3e},Symbol.toStringTag,{value:"Module"}));function l3e(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:R(E),check:R(_),consume:A,enter:P,exit:S,interrupt:R(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:w,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let f=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function h(z){return s=Bm(s,z),x(),s[s.length-1]!==null?[]:(O(t,0),u.events=aq(a,u.events,u),u.events)}function p(z,q){return c3e(m(z),q)}function m(z){return u3e(s,z)}function v(){const{_bufferIndex:z,_index:q,line:Z,column:V,offset:J}=n;return{_bufferIndex:z,_index:q,line:Z,column:V,offset:J}}function w(z){i[z.line]=z.column,$()}function x(){let z;for(;n._index<s.length;){const q=s[n._index];if(typeof q=="string")for(z=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===z&&n._bufferIndex<q.length;)T(q.charCodeAt(n._bufferIndex));else T(q)}}function T(z){f=f(z)}function A(z){$a(z)?(n.line++,n.column=1,n.offset+=z===-3?2:1,$()):z!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=z}function P(z,q){const Z=q||{};return Z.type=z,Z.start=v(),u.events.push(["enter",Z,u]),o.push(Z),Z}function S(z){const q=o.pop();return q.end=v(),u.events.push(["exit",q,u]),q}function E(z,q){O(z,q.from)}function _(z,q){q.restore()}function R(z,q){return Z;function Z(V,J,fe){let ue,pe,ve,le;return Array.isArray(V)?ge(V):"tokenize"in V?ge([V]):se(V);function se(ct){return $e;function $e(we){const Ee=we!==null&&ct[we],Re=we!==null&&ct.null,ft=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return ge(ft)(we)}}function ge(ct){return ue=ct,pe=0,ct.length===0?fe:_e(ct[pe])}function _e(ct){return $e;function $e(we){return le=F(),ve=ct,ct.partial||(u.currentConstruct=ct),ct.name&&u.parser.constructs.disable.null.includes(ct.name)?Ge():ct.tokenize.call(q?Object.assign(Object.create(u),q):u,l,ke,Ge)(we)}}function ke(ct){return z(ve,le),J}function Ge(ct){return le.restore(),++pe<ue.length?_e(ue[pe]):fe}}}function O(z,q){z.resolveAll&&!a.includes(z)&&a.push(z),z.resolve&&ey(u.events,q,u.events.length-q,z.resolve(u.events.slice(q),u)),z.resolveTo&&(u.events=z.resolveTo(u.events,u))}function F(){const z=v(),q=u.previous,Z=u.currentConstruct,V=u.events.length,J=Array.from(o);return{from:V,restore:fe};function fe(){n=z,u.previous=q,u.currentConstruct=Z,u.events.length=V,o=J,$()}}function $(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function u3e(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function c3e(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function f3e(e){const n={constructs:yDe([s3e,...(e||{}).extensions||[]]),content:i(PDe),defined:[],document:i(RDe),flow:i(VFe),lazy:{},string:i(ZFe),text:i(YFe)};return n;function i(a){return s;function s(o){return l3e(n,a,o)}}}function d3e(e){for(;!Nme(e););return e}const CJ=/[\0\t\n\r]/g;function h3e(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let u,f,h,p,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,t="",r&&(a.charCodeAt(0)===65279&&h++,r=void 0);h<a.length;){if(CJ.lastIndex=h,u=CJ.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){t=a.slice(h);break}if(m===10&&h===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<p&&(l.push(a.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}h=p+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const p3e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function m3e(e){return e.replace(p3e,g3e)}function g3e(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return kme(r.slice(a?2:1),a?16:10)}return iq(r)||e}const qme={}.hasOwnProperty;function v3e(e,t,r){return typeof t!="string"&&(r=t,t=void 0),y3e(r)(d3e(f3e(r).document().write(h3e()(e,t,!0))))}function y3e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ze),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(ut),blockQuote:a(Re),characterEscape:F,characterReference:F,codeFenced:a(ft),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ft,s),codeText:a(qe,s),codeTextData:F,data:F,codeFlowValue:F,definition:a(dt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(he),hardBreakEscape:a(xt),hardBreakTrailing:a(xt),htmlFlow:a(je,s),htmlFlowData:F,htmlText:a(je,s),htmlTextData:F,image:a(rt),label:s,link:a(Ze),listItem:a(Vt),listItemValue:p,listOrdered:a(yt,h),listUnordered:a(yt),paragraph:a(At),reference:_e,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ut),strong:a(hr),thematicBreak:a(fr)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:Ee,autolinkProtocol:we,blockQuote:l(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:Ge,characterReferenceMarkerNumeric:Ge,characterReferenceValue:ct,characterReference:$e,codeFenced:l(x),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:l(T),codeText:l(J),codeTextData:$,data:$,definition:l(),definitionDestinationString:S,definitionLabelString:A,definitionTitleString:P,emphasis:l(),hardBreakEscape:l(q),hardBreakTrailing:l(q),htmlFlow:l(Z),htmlFlowData:$,htmlText:l(V),htmlTextData:$,image:l(ue),label:ve,labelText:pe,lineEnding:z,link:l(fe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ke,resourceDestinationString:le,resourceTitleString:se,resource:ge,setextHeading:l(O),setextHeadingLineSequence:R,setextHeadingText:_,strong:l(),thematicBreak:l()}};Hme(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Dt){let dr={type:"root",children:[]};const Nr={stack:[dr],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:f,data:r},gr=[];let wr=-1;for(;++wr<Dt.length;)if(Dt[wr][1].type==="listOrdered"||Dt[wr][1].type==="listUnordered")if(Dt[wr][0]==="enter")gr.push(wr);else{const Fr=gr.pop();wr=i(Dt,Fr,wr)}for(wr=-1;++wr<Dt.length;){const Fr=t[Dt[wr][0]];qme.call(Fr,Dt[wr][1].type)&&Fr[Dt[wr][1].type].call(Object.assign({sliceSerialize:Dt[wr][2].sliceSerialize},Nr),Dt[wr][1])}if(Nr.tokenStack.length>0){const Fr=Nr.tokenStack[Nr.tokenStack.length-1];(Fr[1]||PJ).call(Nr,void 0,Fr[0])}for(dr.position={start:H0(Dt.length>0?Dt[0][1].start:{line:1,column:1,offset:0}),end:H0(Dt.length>0?Dt[Dt.length-2][1].end:{line:1,column:1,offset:0})},wr=-1;++wr<t.transforms.length;)dr=t.transforms[wr](dr)||dr;return dr}function i(Dt,dr,Nr){let gr=dr-1,wr=-1,Fr=!1,_n,nn,ot,Je;for(;++gr<=Nr;){const Me=Dt[gr];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?wr++:wr--,Je=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(_n&&!Je&&!wr&&!ot&&(ot=gr),Je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Je=void 0}if(!wr&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||wr===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(_n){let Le=gr;for(nn=void 0;Le--;){const Ye=Dt[Le];if(Ye[1].type==="lineEnding"||Ye[1].type==="lineEndingBlank"){if(Ye[0]==="exit")continue;nn&&(Dt[nn][1].type="lineEndingBlank",Fr=!0),Ye[1].type="lineEnding",nn=Le}else if(!(Ye[1].type==="linePrefix"||Ye[1].type==="blockQuotePrefix"||Ye[1].type==="blockQuotePrefixWhitespace"||Ye[1].type==="blockQuoteMarker"||Ye[1].type==="listItemIndent"))break}ot&&(!nn||ot<nn)&&(_n._spread=!0),_n.end=Object.assign({},nn?Dt[nn][1].start:Me[1].end),Dt.splice(nn||gr,0,["exit",_n,Me[2]]),gr++,Nr++}if(Me[1].type==="listItemPrefix"){const Le={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};_n=Le,Dt.splice(gr,0,["enter",Le,Me[2]]),gr++,Nr++,ot=void 0,Je=!0}}}return Dt[dr][1]._spread=Fr,Nr}function a(Dt,dr){return Nr;function Nr(gr){o.call(this,Dt(gr),gr),dr&&dr.call(this,gr)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Dt,dr,Nr){this.stack[this.stack.length-1].children.push(Dt),this.stack.push(Dt),this.tokenStack.push([dr,Nr||void 0]),Dt.position={start:H0(dr.start),end:void 0}}function l(Dt){return dr;function dr(Nr){Dt&&Dt.call(this,Nr),u.call(this,Nr)}}function u(Dt,dr){const Nr=this.stack.pop(),gr=this.tokenStack.pop();if(gr)gr[0].type!==Dt.type&&(dr?dr.call(this,Dt,gr[0]):(gr[1]||PJ).call(this,Dt,gr[0]));else throw new Error("Cannot close `"+Dt.type+"` ("+kC({start:Dt.start,end:Dt.end})+"): it’s not open");Nr.position.end=H0(Dt.end)}function f(){return gDe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(Dt){if(this.data.expectingFirstListItemValue){const dr=this.stack[this.stack.length-2];dr.start=Number.parseInt(this.sliceSerialize(Dt),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.lang=Dt}function v(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.meta=Dt}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.value=Dt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.value=Dt.replace(/(\r?\n|\r)$/g,"")}function A(Dt){const dr=this.resume(),Nr=this.stack[this.stack.length-1];Nr.label=dr,Nr.identifier=xx(this.sliceSerialize(Dt)).toLowerCase()}function P(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.title=Dt}function S(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.url=Dt}function E(Dt){const dr=this.stack[this.stack.length-1];if(!dr.depth){const Nr=this.sliceSerialize(Dt).length;dr.depth=Nr}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function R(Dt){const dr=this.stack[this.stack.length-1];dr.depth=this.sliceSerialize(Dt).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function F(Dt){const Nr=this.stack[this.stack.length-1].children;let gr=Nr[Nr.length-1];(!gr||gr.type!=="text")&&(gr=Sr(),gr.position={start:H0(Dt.start),end:void 0},Nr.push(gr)),this.stack.push(gr)}function $(Dt){const dr=this.stack.pop();dr.value+=this.sliceSerialize(Dt),dr.position.end=H0(Dt.end)}function z(Dt){const dr=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Nr=dr.children[dr.children.length-1];Nr.position.end=H0(Dt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(dr.type)&&(F.call(this,Dt),$.call(this,Dt))}function q(){this.data.atHardBreak=!0}function Z(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.value=Dt}function V(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.value=Dt}function J(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.value=Dt}function fe(){const Dt=this.stack[this.stack.length-1];if(this.data.inReference){const dr=this.data.referenceType||"shortcut";Dt.type+="Reference",Dt.referenceType=dr,delete Dt.url,delete Dt.title}else delete Dt.identifier,delete Dt.label;this.data.referenceType=void 0}function ue(){const Dt=this.stack[this.stack.length-1];if(this.data.inReference){const dr=this.data.referenceType||"shortcut";Dt.type+="Reference",Dt.referenceType=dr,delete Dt.url,delete Dt.title}else delete Dt.identifier,delete Dt.label;this.data.referenceType=void 0}function pe(Dt){const dr=this.sliceSerialize(Dt),Nr=this.stack[this.stack.length-2];Nr.label=m3e(dr),Nr.identifier=xx(dr).toLowerCase()}function ve(){const Dt=this.stack[this.stack.length-1],dr=this.resume(),Nr=this.stack[this.stack.length-1];if(this.data.inReference=!0,Nr.type==="link"){const gr=Dt.children;Nr.children=gr}else Nr.alt=dr}function le(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.url=Dt}function se(){const Dt=this.resume(),dr=this.stack[this.stack.length-1];dr.title=Dt}function ge(){this.data.inReference=void 0}function _e(){this.data.referenceType="collapsed"}function ke(Dt){const dr=this.resume(),Nr=this.stack[this.stack.length-1];Nr.label=dr,Nr.identifier=xx(this.sliceSerialize(Dt)).toLowerCase(),this.data.referenceType="full"}function Ge(Dt){this.data.characterReferenceType=Dt.type}function ct(Dt){const dr=this.sliceSerialize(Dt),Nr=this.data.characterReferenceType;let gr;Nr?(gr=kme(dr,Nr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gr=iq(dr);const wr=this.stack[this.stack.length-1];wr.value+=gr}function $e(Dt){const dr=this.stack.pop();dr.position.end=H0(Dt.end)}function we(Dt){$.call(this,Dt);const dr=this.stack[this.stack.length-1];dr.url=this.sliceSerialize(Dt)}function Ee(Dt){$.call(this,Dt);const dr=this.stack[this.stack.length-1];dr.url="mailto:"+this.sliceSerialize(Dt)}function Re(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function dt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function he(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function je(){return{type:"html",value:""}}function rt(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function yt(Dt){return{type:"list",ordered:Dt.type==="listOrdered",start:null,spread:Dt._spread,children:[]}}function Vt(Dt){return{type:"listItem",spread:Dt._spread,checked:null,children:[]}}function At(){return{type:"paragraph",children:[]}}function hr(){return{type:"strong",children:[]}}function Sr(){return{type:"text",value:""}}function fr(){return{type:"thematicBreak"}}}function H0(e){return{line:e.line,column:e.column,offset:e.offset}}function Hme(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Hme(e,n):b3e(e,n)}}function b3e(e,t){let r;for(r in t)if(qme.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function PJ(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+kC({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+kC({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+kC({start:t.start,end:t.end})+") is still open")}function _3e(e){const t=this;t.parser=r;function r(n){return v3e(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function w3e(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function x3e(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function S3e(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function E3e(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function C3e(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P3e(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=gS(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function T3e(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function R3e(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function Wme(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function A3e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Wme(e,t);const i={src:gS(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function O3e(e,t){const r={src:gS(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function I3e(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function M3e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Wme(e,t);const i={href:gS(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function k3e(e,t){const r={href:gS(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D3e(e,t,r){const n=e.all(t),i=r?F3e(r):Vme(t),a={},s=[];if(typeof t.checked=="boolean"){const f=n[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function F3e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Vme(r[n])}return t}function Vme(e){const t=e.spread;return t??e.children.length>1}function L3e(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function N3e(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $3e(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function z3e(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B3e(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=eq(t.children[1]),l=Pme(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function j3e(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const h=t.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:a,properties:p,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),u.push(v)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function U3e(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const TJ=9,RJ=32;function q3e(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(AJ(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(AJ(t.slice(i),i>0,!1)),a.join("")}function AJ(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===TJ||a===RJ;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===TJ||a===RJ;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function H3e(e,t){const r={type:"text",value:q3e(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function W3e(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const V3e={blockquote:w3e,break:x3e,code:S3e,delete:E3e,emphasis:C3e,footnoteReference:P3e,heading:T3e,html:R3e,imageReference:A3e,image:O3e,inlineCode:I3e,linkReference:M3e,link:k3e,listItem:D3e,list:L3e,paragraph:N3e,root:$3e,strong:z3e,table:B3e,tableCell:U3e,tableRow:j3e,text:H3e,thematicBreak:W3e,toml:nR,yaml:nR,definition:nR,footnoteDefinition:nR};function nR(){}const Gme=-1,hM=0,FC=1,YA=2,sq=3,lq=4,uq=5,cq=6,Kme=7,Zme=8,OJ=typeof self=="object"?self:globalThis,G3e=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case hM:case Gme:return r(s,i);case FC:{const o=r([],i);for(const l of s)o.push(n(l));return o}case YA:{const o=r({},i);for(const[l,u]of s)o[n(l)]=n(u);return o}case sq:return r(new Date(s),i);case lq:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case uq:{const o=r(new Map,i);for(const[l,u]of s)o.set(n(l),n(u));return o}case cq:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case Kme:{const{name:o,message:l}=s;return r(new OJ[o](l),i)}case Zme:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new OJ[a](s),i)};return n},IJ=e=>G3e(new Map,e)(0),w1="",{toString:K3e}={},{keys:Z3e}=Object,IE=e=>{const t=typeof e;if(t!=="object"||!e)return[hM,t];const r=K3e.call(e).slice(8,-1);switch(r){case"Array":return[FC,w1];case"Object":return[YA,w1];case"Date":return[sq,w1];case"RegExp":return[lq,w1];case"Map":return[uq,w1];case"Set":return[cq,w1];case"DataView":return[FC,r]}return r.includes("Array")?[FC,r]:r.includes("Error")?[Kme,r]:[YA,r]},iR=([e,t])=>e===hM&&(t==="function"||t==="symbol"),Y3e=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=IE(s);switch(o){case hM:{let f=s;switch(l){case"bigint":o=Zme,f=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([Gme],s)}return i([o,f],s)}case FC:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const f=[],h=i([o,f],s);for(const p of s)f.push(a(p));return h}case YA:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const f=[],h=i([o,f],s);for(const p of Z3e(s))(e||!iR(IE(s[p])))&&f.push([a(p),a(s[p])]);return h}case sq:return i([o,s.toISOString()],s);case lq:{const{source:f,flags:h}=s;return i([o,{source:f,flags:h}],s)}case uq:{const f=[],h=i([o,f],s);for(const[p,m]of s)(e||!(iR(IE(p))||iR(IE(m))))&&f.push([a(p),a(m)]);return h}case cq:{const f=[],h=i([o,f],s);for(const p of s)(e||!iR(IE(p)))&&f.push(a(p));return h}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},MJ=(e,{json:t,lossy:r}={})=>{const n=[];return Y3e(!(t||r),!!t,new Map,n)(e),n},XA=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?IJ(MJ(e,t)):structuredClone(e):(e,t)=>IJ(MJ(e,t));function X3e(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function J3e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Q3e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||X3e,n=e.options.footnoteBackLabel||J3e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const f=e.all(u),h=String(u.identifier).toUpperCase(),p=gS(h.toLowerCase());let m=0;const v=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++m<=w;){v.length>0&&v.push({type:"text",value:" "});let A=typeof r=="string"?r:r(l,m);typeof A=="string"&&(A={type:"text",value:A}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,m),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const x=f[f.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const A=x.children[x.children.length-1];A&&A.type==="text"?A.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...v)}else f.push(...v);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(f,!0)};e.patch(u,T),o.push(T)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...XA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Yme=function(e){if(e==null)return nLe;if(typeof e=="function")return pM(e);if(typeof e=="object")return Array.isArray(e)?eLe(e):tLe(e);if(typeof e=="string")return rLe(e);throw new Error("Expected function, string, or object as test")};function eLe(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Yme(e[r]);return pM(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function tLe(e){const t=e;return pM(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function rLe(e){return pM(t);function t(r){return r&&r.type===e}}function pM(e){return t;function t(r,n,i){return!!(iLe(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function nLe(){return!0}function iLe(e){return e!==null&&typeof e=="object"&&"type"in e}const Xme=[],aLe=!0,kJ=!1,oLe="skip";function sLe(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Yme(i),s=n?-1:1;o(e,void 0,[])();function o(l,u,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=Xme,v,w,x;if((!t||a(l,u,f[f.length-1]||void 0))&&(m=lLe(r(l,f)),m[0]===kJ))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==oLe)for(w=(n?T.children.length:-1)+s,x=f.concat(T);w>-1&&w<T.children.length;){const A=T.children[w];if(v=o(A,w,x)(),v[0]===kJ)return v;w=typeof v[1]=="number"?v[1]:w+s}}return m}}}function lLe(e){return Array.isArray(e)?e:typeof e=="number"?[aLe,e]:e==null?Xme:[e]}function Jme(e,t,r,n){let i,a,s;typeof t=="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),sLe(e,a,o,i);function o(l,u){const f=u[u.length-1],h=f?f.children.indexOf(l):void 0;return s(l,h,f)}}const Rj={}.hasOwnProperty,uLe={};function cLe(e,t){const r=t||uLe,n=new Map,i=new Map,a=new Map,s={...V3e,...r.handlers},o={all:u,applyData:dLe,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:fLe,wrap:pLe};return Jme(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?n:i,p=String(f.identifier).toUpperCase();h.has(p)||h.set(p,f)}}),o;function l(f,h){const p=f.type,m=o.handlers[p];if(Rj.call(o.handlers,p)&&m)return m(o,f,h);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in f){const{children:w,...x}=f,T=XA(x);return T.children=o.all(f),T}return XA(f)}return(o.options.unknownHandler||hLe)(o,f,h)}function u(f){const h=[];if("children"in f){const p=f.children;let m=-1;for(;++m<p.length;){const v=o.one(p[m],f);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=DJ(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=DJ(w.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function fLe(e,t){e.position&&(t.position=Kke(e))}function dLe(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,XA(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function hLe(e,t){const r=t.data||{},n="value"in t&&!(Rj.call(r,"hProperties")||Rj.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pLe(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function DJ(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function FJ(e,t){const r=cLe(e,t),n=r.one(e,void 0),i=Q3e(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function mLe(e,t){return e&&"run"in e?async function(r,n){const i=FJ(r,{file:n,...t});await e.run(i,n)}:function(r,n){return FJ(r,{file:n,...e||t})}}function LJ(e){if(e)throw e}var cN,NJ;function gLe(){if(NJ)return cN;NJ=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},a=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!h)return!1;var p;for(p in u);return typeof p>"u"||e.call(u,p)},s=function(u,f){r&&f.name==="__proto__"?r(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},o=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(n)return n(u,f).value}else return;return u[f]};return cN=function l(){var u,f,h,p,m,v,w=arguments[0],x=1,T=arguments.length,A=!1;for(typeof w=="boolean"&&(A=w,w=arguments[1]||{},x=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});x<T;++x)if(u=arguments[x],u!=null)for(f in u)h=o(w,f),p=o(u,f),w!==p&&(A&&p&&(a(p)||(m=i(p)))?(m?(m=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},s(w,{name:f,newValue:l(A,v,p)})):typeof p<"u"&&s(w,{name:f,newValue:p}));return w},cN}var vLe=gLe();const fN=pl(vLe);function Aj(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yLe(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const f=e[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,f?bLe(f,o)(...u):s(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function bLe(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const f=u;if(o&&r)throw f;return i(f)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const Av={basename:_Le,dirname:wLe,extname:xLe,join:SLe,sep:"/"};function _Le(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');gP(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function wLe(e){if(gP(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function xLe(e){gP(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function SLe(...e){let t=-1,r;for(;++t<e.length;)gP(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":ELe(r)}function ELe(e){gP(e);const t=e.codePointAt(0)===47;let r=CLe(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function CLe(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function gP(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const PLe={cwd:TLe};function TLe(){return"/"}function Oj(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function RLe(e){if(typeof e=="string")e=new URL(e);else if(!Oj(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ALe(e)}function ALe(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const dN=["history","path","basename","stem","extname","dirname"];class Qme{constructor(t){let r;t?Oj(t)?r={path:t}:typeof t=="string"||OLe(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":PLe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<dN.length;){const a=dN[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)dN.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Av.basename(this.path):void 0}set basename(t){pN(t,"basename"),hN(t,"basename"),this.path=Av.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Av.dirname(this.path):void 0}set dirname(t){$J(this.basename,"dirname"),this.path=Av.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Av.extname(this.path):void 0}set extname(t){if(hN(t,"extname"),$J(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Av.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Oj(t)&&(t=RLe(t)),pN(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Av.basename(this.path,this.extname):void 0}set stem(t){pN(t,"stem"),hN(t,"stem"),this.path=Av.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new rh(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function hN(e,t){if(e&&e.includes(Av.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Av.sep+"`")}function pN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $J(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function OLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ILe=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},MLe={}.hasOwnProperty;class fq extends ILe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yLe()}copy(){const t=new fq;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(fN(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(vN("data",this.frozen),this.namespace[t]=r,this):MLe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(vN("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=aR(t),n=this.parser||this.Parser;return mN("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),mN("process",this.parser||this.Parser),gN("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=aR(t),l=n.parse(o);n.run(l,o,function(f,h,p){if(f||!h||!p)return u(f);const m=h,v=n.stringify(m,p);FLe(v)?p.value=v:p.result=v,u(f,p)});function u(f,h){f||!h?s(f):a?a(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),mN("processSync",this.parser||this.Parser),gN("processSync",this.compiler||this.Compiler),this.process(t,i),BJ("processSync","process",r),n;function i(a,s){r=!0,LJ(a),n=s}}run(t,r,n){zJ(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=aR(r);i.run(t,l,u);function u(f,h,p){const m=h||t;f?o(f):s?s(m):n(void 0,m,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),BJ("runSync","run",n),i;function a(s,o){LJ(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=aR(r),i=this.compiler||this.Compiler;return gN("stringify",i),zJ(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(vN("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...h]=u;l(f,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=fN(!0,i.settings,u.settings))}function o(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const h=u[f];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let h=-1,p=-1;for(;++h<n.length;)if(n[h][0]===u){p=h;break}if(p===-1)n.push([u,...f]);else if(f.length>0){let[m,...v]=f;const w=n[p][1];Aj(w)&&Aj(m)&&(m=fN(!0,w,m)),n[p]=[u,m,...v]}}}}const kLe=new fq().freeze();function mN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function gN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function vN(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zJ(e){if(!Aj(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function BJ(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function aR(e){return DLe(e)?e:new Qme(e)}function DLe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function FLe(e){return typeof e=="string"||LLe(e)}function LLe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NLe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",jJ=[],UJ={allowDangerousHtml:!0},$Le=/^(https?|ircs?|mailto|xmpp)$/i,zLe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function BLe(e){const t=dq(e),r=hq(e);return pq(t.runSync(t.parse(r),r),e)}async function jLe(e){const t=dq(e),r=hq(e),n=await t.run(t.parse(r),r);return pq(n,e)}function ULe(e){const t=dq(e),[r,n]=ne.useState(void 0),[i,a]=ne.useState(void 0);if(ne.useEffect(function(){const s=hq(e);t.run(t.parse(s),s,function(o,l){n(o),a(l)})},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),r)throw r;return i?pq(i,e):ne.createElement(io.Fragment)}function dq(e){const t=e.rehypePlugins||jJ,r=e.remarkPlugins||jJ,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...UJ}:UJ;return kLe().use(_3e).use(r).use(mLe,n).use(t)}function hq(e){const t=e.children||"",r=new Qme;return typeof t=="string"&&(r.value=t),r}function pq(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||ege;for(const f of zLe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+NLe+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Jme(e,u),Qke(e,{Fragment:io.Fragment,components:i,ignoreInvalidStyle:!0,jsx:io.jsx,jsxs:io.jsxs,passKeys:!0,passNode:!0});function u(f,h,p){if(f.type==="raw"&&p&&typeof h=="number")return s?p.children.splice(h,1):p.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let m;for(m in sN)if(Object.hasOwn(sN,m)&&Object.hasOwn(f.properties,m)){const v=f.properties[m],w=sN[m];(w===null||w.includes(f.tagName))&&(f.properties[m]=l(String(v||""),m,f))}}if(f.type==="element"){let m=r?!r.includes(f.tagName):a?a.includes(f.tagName):!1;if(!m&&n&&typeof h=="number"&&(m=!n(f,h,p)),m&&p&&typeof h=="number")return o&&f.children?p.children.splice(h,1,...f.children):p.children.splice(h,1),h}}}function ege(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||$Le.test(e.slice(0,t))?e:""}const qLe=Object.freeze(Object.defineProperty({__proto__:null,MarkdownAsync:jLe,MarkdownHooks:ULe,default:BLe,defaultUrlTransform:ege},Symbol.toStringTag,{value:"Module"})),HLe=Ob(qLe);var W0={},qJ;function WLe(){if(qJ)return W0;qJ=1;var e=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,t=/[\0-\x1F\x7F-\x9F]/,r=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,n=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,i=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,a=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;return W0.Any=e,W0.Cc=t,W0.Cf=r,W0.P=n,W0.S=i,W0.Z=a,W0}var yN,HJ;function VLe(){if(HJ)return yN;HJ=1;var e=WLe();function t(E){const _={};E=E||{},_.src_Any=e.Any.source,_.src_Cc=e.Cc.source,_.src_Z=e.Z.source,_.src_P=e.P.source,_.src_ZPCc=[_.src_Z,_.src_P,_.src_Cc].join("|"),_.src_ZCc=[_.src_Z,_.src_Cc].join("|");const R="[><｜]";return _.src_pseudo_letter="(?:(?!"+R+"|"+_.src_ZPCc+")"+_.src_Any+")",_.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",_.src_auth="(?:(?:(?!"+_.src_ZCc+"|[@/\\[\\]()]).)+@)?",_.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",_.src_host_terminator="(?=$|"+R+"|"+_.src_ZPCc+")(?!"+(E["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+_.src_ZPCc+"))",_.src_path="(?:[/?#](?:(?!"+_.src_ZCc+"|"+R+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+_.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+_.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+_.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+_.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+_.src_ZCc+"|[']).)+\\'|\\'(?="+_.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+_.src_ZCc+"|[.]|$)|"+(E["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+_.src_ZCc+"|$)|;(?!"+_.src_ZCc+"|$)|\\!+(?!"+_.src_ZCc+"|[!]|$)|\\?(?!"+_.src_ZCc+"|[?]|$))+|\\/)?",_.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',_.src_xn="xn--[a-z0-9\\-]{1,59}",_.src_domain_root="(?:"+_.src_xn+"|"+_.src_pseudo_letter+"{1,63})",_.src_domain="(?:"+_.src_xn+"|(?:"+_.src_pseudo_letter+")|(?:"+_.src_pseudo_letter+"(?:-|"+_.src_pseudo_letter+"){0,61}"+_.src_pseudo_letter+"))",_.src_host="(?:(?:(?:(?:"+_.src_domain+")\\.)*"+_.src_domain+"))",_.tpl_host_fuzzy="(?:"+_.src_ip4+"|(?:(?:(?:"+_.src_domain+")\\.)+(?:%TLDS%)))",_.tpl_host_no_ip_fuzzy="(?:(?:(?:"+_.src_domain+")\\.)+(?:%TLDS%))",_.src_host_strict=_.src_host+_.src_host_terminator,_.tpl_host_fuzzy_strict=_.tpl_host_fuzzy+_.src_host_terminator,_.src_host_port_strict=_.src_host+_.src_port+_.src_host_terminator,_.tpl_host_port_fuzzy_strict=_.tpl_host_fuzzy+_.src_port+_.src_host_terminator,_.tpl_host_port_no_ip_fuzzy_strict=_.tpl_host_no_ip_fuzzy+_.src_port+_.src_host_terminator,_.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+_.src_ZPCc+"|>|$))",_.tpl_email_fuzzy="(^|"+R+'|"|\\(|'+_.src_ZCc+")("+_.src_email_name+"@"+_.tpl_host_fuzzy_strict+")",_.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+_.src_ZPCc+"))((?![$+<=>^`|｜])"+_.tpl_host_port_fuzzy_strict+_.src_path+")",_.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+_.src_ZPCc+"))((?![$+<=>^`|｜])"+_.tpl_host_port_no_ip_fuzzy_strict+_.src_path+")",_}function r(E){return Array.prototype.slice.call(arguments,1).forEach(function(R){R&&Object.keys(R).forEach(function(O){E[O]=R[O]})}),E}function n(E){return Object.prototype.toString.call(E)}function i(E){return n(E)==="[object String]"}function a(E){return n(E)==="[object Object]"}function s(E){return n(E)==="[object RegExp]"}function o(E){return n(E)==="[object Function]"}function l(E){return E.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const u={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function f(E){return Object.keys(E||{}).reduce(function(_,R){return _||u.hasOwnProperty(R)},!1)}const h={"http:":{validate:function(E,_,R){const O=E.slice(_);return R.re.http||(R.re.http=new RegExp("^\\/\\/"+R.re.src_auth+R.re.src_host_port_strict+R.re.src_path,"i")),R.re.http.test(O)?O.match(R.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(E,_,R){const O=E.slice(_);return R.re.no_http||(R.re.no_http=new RegExp("^"+R.re.src_auth+"(?:localhost|(?:(?:"+R.re.src_domain+")\\.)+"+R.re.src_domain_root+")"+R.re.src_port+R.re.src_host_terminator+R.re.src_path,"i")),R.re.no_http.test(O)?_>=3&&E[_-3]===":"||_>=3&&E[_-3]==="/"?0:O.match(R.re.no_http)[0].length:0}},"mailto:":{validate:function(E,_,R){const O=E.slice(_);return R.re.mailto||(R.re.mailto=new RegExp("^"+R.re.src_email_name+"@"+R.re.src_host_strict,"i")),R.re.mailto.test(O)?O.match(R.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function v(E){E.__index__=-1,E.__text_cache__=""}function w(E){return function(_,R){const O=_.slice(R);return E.test(O)?O.match(E)[0].length:0}}function x(){return function(E,_){_.normalize(E)}}function T(E){const _=E.re=t(E.__opts__),R=E.__tlds__.slice();E.onCompile(),E.__tlds_replaced__||R.push(p),R.push(_.src_xn),_.src_tlds=R.join("|");function O(q){return q.replace("%TLDS%",_.src_tlds)}_.email_fuzzy=RegExp(O(_.tpl_email_fuzzy),"i"),_.link_fuzzy=RegExp(O(_.tpl_link_fuzzy),"i"),_.link_no_ip_fuzzy=RegExp(O(_.tpl_link_no_ip_fuzzy),"i"),_.host_fuzzy_test=RegExp(O(_.tpl_host_fuzzy_test),"i");const F=[];E.__compiled__={};function $(q,Z){throw new Error('(LinkifyIt) Invalid schema "'+q+'": '+Z)}Object.keys(E.__schemas__).forEach(function(q){const Z=E.__schemas__[q];if(Z===null)return;const V={validate:null,link:null};if(E.__compiled__[q]=V,a(Z)){s(Z.validate)?V.validate=w(Z.validate):o(Z.validate)?V.validate=Z.validate:$(q,Z),o(Z.normalize)?V.normalize=Z.normalize:Z.normalize?$(q,Z):V.normalize=x();return}if(i(Z)){F.push(q);return}$(q,Z)}),F.forEach(function(q){E.__compiled__[E.__schemas__[q]]&&(E.__compiled__[q].validate=E.__compiled__[E.__schemas__[q]].validate,E.__compiled__[q].normalize=E.__compiled__[E.__schemas__[q]].normalize)}),E.__compiled__[""]={validate:null,normalize:x()};const z=Object.keys(E.__compiled__).filter(function(q){return q.length>0&&E.__compiled__[q]}).map(l).join("|");E.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+_.src_ZPCc+"))("+z+")","i"),E.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+_.src_ZPCc+"))("+z+")","ig"),E.re.schema_at_start=RegExp("^"+E.re.schema_search.source,"i"),E.re.pretest=RegExp("("+E.re.schema_test.source+")|("+E.re.host_fuzzy_test.source+")|@","i"),v(E)}function A(E,_){const R=E.__index__,O=E.__last_index__,F=E.__text_cache__.slice(R,O);this.schema=E.__schema__.toLowerCase(),this.index=R+_,this.lastIndex=O+_,this.raw=F,this.text=F,this.url=F}function P(E,_){const R=new A(E,_);return E.__compiled__[R.schema].normalize(R,E),R}function S(E,_){if(!(this instanceof S))return new S(E,_);_||f(E)&&(_=E,E={}),this.__opts__=r({},u,_),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},h,E),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},T(this)}return S.prototype.add=function(_,R){return this.__schemas__[_]=R,T(this),this},S.prototype.set=function(_){return this.__opts__=r(this.__opts__,_),this},S.prototype.test=function(_){if(this.__text_cache__=_,this.__index__=-1,!_.length)return!1;let R,O,F,$,z,q,Z,V,J;if(this.re.schema_test.test(_)){for(Z=this.re.schema_search,Z.lastIndex=0;(R=Z.exec(_))!==null;)if($=this.testSchemaAt(_,R[2],Z.lastIndex),$){this.__schema__=R[2],this.__index__=R.index+R[1].length,this.__last_index__=R.index+R[0].length+$;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(V=_.search(this.re.host_fuzzy_test),V>=0&&(this.__index__<0||V<this.__index__)&&(O=_.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(z=O.index+O[1].length,(this.__index__<0||z<this.__index__)&&(this.__schema__="",this.__index__=z,this.__last_index__=O.index+O[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(J=_.indexOf("@"),J>=0&&(F=_.match(this.re.email_fuzzy))!==null&&(z=F.index+F[1].length,q=F.index+F[0].length,(this.__index__<0||z<this.__index__||z===this.__index__&&q>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=z,this.__last_index__=q))),this.__index__>=0},S.prototype.pretest=function(_){return this.re.pretest.test(_)},S.prototype.testSchemaAt=function(_,R,O){return this.__compiled__[R.toLowerCase()]?this.__compiled__[R.toLowerCase()].validate(_,O,this):0},S.prototype.match=function(_){const R=[];let O=0;this.__index__>=0&&this.__text_cache__===_&&(R.push(P(this,O)),O=this.__last_index__);let F=O?_.slice(O):_;for(;this.test(F);)R.push(P(this,O)),F=F.slice(this.__last_index__),O+=this.__last_index__;return R.length?R:null},S.prototype.matchAtStart=function(_){if(this.__text_cache__=_,this.__index__=-1,!_.length)return null;const R=this.re.schema_at_start.exec(_);if(!R)return null;const O=this.testSchemaAt(_,R[2],R[0].length);return O?(this.__schema__=R[2],this.__index__=R.index+R[1].length,this.__last_index__=R.index+R[0].length+O,P(this,0)):null},S.prototype.tlds=function(_,R){return _=Array.isArray(_)?_:[_],R?(this.__tlds__=this.__tlds__.concat(_).sort().filter(function(O,F,$){return O!==$[F-1]}).reverse(),T(this),this):(this.__tlds__=_.slice(),this.__tlds_replaced__=!0,T(this),this)},S.prototype.normalize=function(_){_.schema||(_.url="http://"+_.url),_.schema==="mailto:"&&!/^mailto:/i.test(_.url)&&(_.url="mailto:"+_.url)},S.prototype.onCompile=function(){},yN=S,yN}const GLe=JSON.parse('["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermögensberater","vermögensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","ελ","ευ","бг","бел","дети","ею","католик","ком","мкд","мон","москва","онлайн","орг","рус","рф","сайт","срб","укр","қаз","հայ","ישראל","קום","ابوظبي","ارامكو","الاردن","البحرين","الجزائر","السعودية","العليان","المغرب","امارات","ایران","بارت","بازار","بيتك","بھارت","تونس","سودان","سورية","شبكة","عراق","عرب","عمان","فلسطين","قطر","كاثوليك","كوم","مصر","مليسيا","موريتانيا","موقع","همراه","پاکستان","ڀارت","कॉम","नेट","भारत","भारतम्","भारोत","संगठन","বাংলা","ভারত","ভাৰত","ਭਾਰਤ","ભારત","ଭାରତ","இந்தியா","இலங்கை","சிங்கப்பூர்","భారత్","ಭಾರತ","ഭാരതം","ලංකා","คอม","ไทย","ລາວ","გე","みんな","アマゾン","クラウド","グーグル","コム","ストア","セール","ファッション","ポイント","世界","中信","中国","中國","中文网","亚马逊","企业","佛山","信息","健康","八卦","公司","公益","台湾","台灣","商城","商店","商标","嘉里","嘉里大酒店","在线","大拿","天主教","娱乐","家電","广东","微博","慈善","我爱你","手机","招聘","政务","政府","新加坡","新闻","时尚","書籍","机构","淡马锡","游戏","澳門","点看","移动","组织机构","网址","网店","网站","网络","联通","谷歌","购物","通販","集团","電訊盈科","飞利浦","食品","餐厅","香格里拉","香港","닷넷","닷컴","삼성","한국"]');var WJ;function KLe(){return WJ||(WJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MarkdownViewer=void 0;var t=p(vn()),r=fS(),n=fM(),i=Qf(),a=p(HLe),s=p(VLe()),o=p(GLe),l=["value"],u=["children"],f=["markdown"],h=["large","small","className","children","onChange","value","autoFocus","disabled","placeholder"];function p(V){return V&&V.__esModule?V:{default:V}}function m(V,J){return A(V)||T(V,J)||w(V,J)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(V,J){if(V){if(typeof V=="string")return x(V,J);var fe=Object.prototype.toString.call(V).slice(8,-1);if(fe==="Object"&&V.constructor&&(fe=V.constructor.name),fe==="Map"||fe==="Set")return Array.from(V);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return x(V,J)}}function x(V,J){(J==null||J>V.length)&&(J=V.length);for(var fe=0,ue=new Array(J);fe<J;fe++)ue[fe]=V[fe];return ue}function T(V,J){var fe=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(fe!=null){var ue,pe,ve,le,se=[],ge=!0,_e=!1;try{if(ve=(fe=fe.call(V)).next,J===0){if(Object(fe)!==fe)return;ge=!1}else for(;!(ge=(ue=ve.call(fe)).done)&&(se.push(ue.value),se.length!==J);ge=!0);}catch(ke){_e=!0,pe=ke}finally{try{if(!ge&&fe.return!=null&&(le=fe.return(),Object(le)!==le))return}finally{if(_e)throw pe}}return se}}function A(V){if(Array.isArray(V))return V}function P(){return P=Object.assign?Object.assign.bind():function(V){for(var J=1;J<arguments.length;J++){var fe=arguments[J];for(var ue in fe)Object.prototype.hasOwnProperty.call(fe,ue)&&(V[ue]=fe[ue])}return V},P.apply(this,arguments)}function S(V,J){if(V==null)return{};var fe=E(V,J),ue,pe;if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(V);for(pe=0;pe<ve.length;pe++)ue=ve[pe],!(J.indexOf(ue)>=0)&&Object.prototype.propertyIsEnumerable.call(V,ue)&&(fe[ue]=V[ue])}return fe}function E(V,J){if(V==null)return{};var fe={},ue=Object.keys(V),pe,ve;for(ve=0;ve<ue.length;ve++)pe=ue[ve],!(J.indexOf(pe)>=0)&&(fe[pe]=V[pe]);return fe}var _=(0,s.default)().tlds(o.default).add("ftp",null).set({fuzzyIP:!0}),R=function(J){var fe=J.href,ue=J.children,pe=(0,i.useTheme)();return t.default.createElement("a",{href:fe,className:`
      `.concat(pe.textInfo,` hover:underline
    `)},ue)},O=function(J){var fe=J.value,ue=fe===void 0?"":fe,pe=_.match(ue);if(!pe)return ue;var ve=[],le=0;return pe.forEach(function(se){ve.push(ue.slice(le,se.index)),ve.push(t.default.createElement(R,{key:se.index,href:se.url},se.text)),le=se.lastIndex}),ve.push(ue.slice(le)),ve.filter(Boolean)},F=function(J){var fe=J.value;S(J,l);var ue=(0,i.useTheme)();return t.default.createElement("pre",{className:`
      rounded `.concat(ue.accent1,` px-2 py-1
      scrollbar overflow-x-auto
    `)},t.default.createElement(O,{value:fe}))},$=function(J){var fe=J.children;S(J,u);var ue=(0,i.useTheme)();return t.default.createElement("blockquote",{className:`
      rounded `.concat(ue.accent1,` px-2 py-1 whitespace-pre-wrap
    `)},fe)},z={heading:function(J){var fe=J.level,ue=J.children;return fe===1?t.default.createElement("h1",{className:"font-bold text-3xl"},ue):fe===2?t.default.createElement("h2",{className:"font-bold text-2xl"},ue):fe===3?t.default.createElement("h3",{className:"font-bold text-xl"},ue):t.default.createElement("h4",{className:"font-bold text-lg"},ue)},list:function(J){var fe=J.ordered,ue=J.children;return fe?t.default.createElement("ol",{className:"list-decimal list-inside"},ue):t.default.createElement("ul",{className:"list-disc list-inside"},ue)},code:F,blockquote:$,paragraph:function(J){var fe=J.children;return t.default.createElement("p",{className:"whitespace-pre-wrap"},fe)},text:O,link:R},q=function(J){var fe=J.markdown,ue=S(J,f);return t.default.createElement(a.default,P({renderers:z},ue),fe)};e.MarkdownViewer=q;var Z=t.default.forwardRef(function(V,J){var fe=V.large,ue=V.small,pe=V.className,ve=pe===void 0?"":pe;V.children;var le=V.onChange,se=V.value,ge=V.autoFocus,_e=V.disabled,ke=_e===void 0?!1:_e,Ge=V.placeholder,ct=Ge===void 0?"enter some markdown...":Ge,$e=S(V,h),we=t.default.useState(!se),Ee=m(we,2),Re=Ee[0],ft=Ee[1],qe=t.default.useRef(Re),dt=t.default.useRef(),he=t.default.useCallback(function(fr){le(fr.target.value)},[le]),ut=(0,i.useTheme)(),xt=ut["input".concat((0,n.composeOptions)({large:fe,small:ue}))],je=t.default.useState(null),rt=m(je,2),Ze=rt[0],yt=rt[1];t.default.useEffect(function(){ge&&Ze&&(Ze.focus(),ft(!0))},[ge,Ze]),t.default.useEffect(function(){Re&&Ze&&dt.current!==se&&(Ze.style.height="auto",Ze.style.height="calc(".concat(Ze.scrollHeight,"px + 0.125rem)"),dt.current=se),Re&&!qe.current&&Ze.focus(),qe.current=Re},[se,Re,Ze]);var Vt=t.default.useCallback(function(fr){ft(!se)},[se]),At=(0,n.useClickOutside)(Vt),hr=m(At,1),Sr=hr[0];return t.default.createElement("div",{ref:Sr,className:"relative",onDoubleClick:function(Dt){return ft(!0)}},se?t.default.createElement("div",{className:"absolute right-0 top-0 mr-1 mt-1"},t.default.createElement(r.Button,{tabIndex:-1,small:!0,key:Re?"editing":"viewing",onClick:function(Dt){return ft(function(dr){return!dr})}},Re?"preview":"edit")):null,t.default.createElement("textarea",P({},$e,{rows:1,tabIndex:ke||!Re?-1:0,value:se||"",onChange:he,style:{display:Re?"block":"none"},className:"".concat(xt," ").concat(ve," resize-none"),onFocus:function(Dt){return Re&&Ze.focus()},onBlur:function(Dt){return ft(!se)},placeholder:ct,ref:(0,n.useSetRefs)(J,yt)})),t.default.createElement("div",{tabIndex:ke||Re?-1:0,className:`
          `.concat(xt," ").concat(ve," ").concat(Re?"hidden":"block",`
        `)},t.default.createElement(a.default,{renderers:z},se)))});e.default=Z}(iN)),iN}var bN={},lp={},x1={},_N,VJ;function tge(){if(VJ)return _N;VJ=1;var e=xw(),t=qh(),r=ov(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return _N=i,_N}var wN,GJ;function ZLe(){if(GJ)return wN;GJ=1;function e(t){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),l=o.length;l--;){var u=o[t?l:++a];if(n(s[u],u,s)===!1)break}return r}}return wN=e,wN}var xN,KJ;function rge(){if(KJ)return xN;KJ=1;var e=ZLe(),t=e();return xN=t,xN}var SN,ZJ;function mq(){if(ZJ)return SN;ZJ=1;var e=rge(),t=cS();function r(n,i){return n&&e(n,i,t)}return SN=r,SN}var EN,YJ;function mM(){if(YJ)return EN;YJ=1;function e(t){return t}return EN=e,EN}var CN,XJ;function nge(){if(XJ)return CN;XJ=1;var e=mM();function t(r){return typeof r=="function"?r:e}return CN=t,CN}var PN,JJ;function gq(){if(JJ)return PN;JJ=1;var e=mq(),t=nge();function r(n,i){return n&&e(n,t(i))}return PN=r,PN}var TN,QJ;function vq(){if(QJ)return TN;QJ=1;var e=hpe(),t=e(Object.getPrototypeOf,Object);return TN=t,TN}var RN,eQ;function ige(){if(eQ)return RN;eQ=1;var e=xw(),t=vq(),r=ov(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var h=t(f);if(h===null)return!0;var p=o.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return RN=u,RN}var AN,tQ;function YLe(){if(tQ)return AN;tQ=1;var e=QI(),t=kU(),r=1,n=2;function i(a,s,o,l){var u=o.length,f=u,h=!l;if(a==null)return!f;for(a=Object(a);u--;){var p=o[u];if(h&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<f;){p=o[u];var m=p[0],v=a[m],w=p[1];if(h&&p[2]){if(v===void 0&&!(m in a))return!1}else{var x=new e;if(l)var T=l(v,w,m,a,s,x);if(!(T===void 0?t(w,v,r|n,l,x):T))return!1}}return!0}return AN=i,AN}var ON,rQ;function age(){if(rQ)return ON;rQ=1;var e=ym();function t(r){return r===r&&!e(r)}return ON=t,ON}var IN,nQ;function XLe(){if(nQ)return IN;nQ=1;var e=age(),t=cS();function r(n){for(var i=t(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,e(o)]}return i}return IN=r,IN}var MN,iQ;function oge(){if(iQ)return MN;iQ=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return MN=e,MN}var kN,aQ;function JLe(){if(aQ)return kN;aQ=1;var e=YLe(),t=XLe(),r=oge();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return kN=n,kN}var DN,oQ;function QLe(){if(oQ)return DN;oQ=1;function e(t,r){return t!=null&&r in Object(t)}return DN=e,DN}var FN,sQ;function eNe(){if(sQ)return FN;sQ=1;var e=CU(),t=rM(),r=qh(),n=uP(),i=RU(),a=lP();function s(o,l,u){l=e(l,o);for(var f=-1,h=l.length,p=!1;++f<h;){var m=a(l[f]);if(!(p=o!=null&&u(o,m)))break;o=o[m]}return p||++f!=h?p:(h=o==null?0:o.length,!!h&&i(h)&&n(m,h)&&(r(o)||t(o)))}return FN=s,FN}var LN,lQ;function tNe(){if(lQ)return LN;lQ=1;var e=QLe(),t=eNe();function r(n,i){return n!=null&&t(n,i,e)}return LN=r,LN}var NN,uQ;function rNe(){if(uQ)return NN;uQ=1;var e=kU(),t=lg(),r=tNe(),n=_U(),i=age(),a=oge(),s=lP(),o=1,l=2;function u(f,h){return n(f)&&i(h)?a(s(f),h):function(p){var m=t(p,f);return m===void 0&&m===h?r(p,f):e(h,m,o|l)}}return NN=u,NN}var $N,cQ;function nNe(){if(cQ)return $N;cQ=1;function e(t){return function(r){return r==null?void 0:r[t]}}return $N=e,$N}var zN,fQ;function iNe(){if(fQ)return zN;fQ=1;var e=Qhe();function t(r){return function(n){return e(n,r)}}return zN=t,zN}var BN,dQ;function aNe(){if(dQ)return BN;dQ=1;var e=nNe(),t=iNe(),r=_U(),n=lP();function i(a){return r(a)?e(n(a)):t(a)}return BN=i,BN}var jN,hQ;function sge(){if(hQ)return jN;hQ=1;var e=JLe(),t=rNe(),r=mM(),n=qh(),i=aNe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):i(s)}return jN=a,jN}var UN,pQ;function oNe(){if(pQ)return UN;pQ=1;var e=Ew();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var s=i.length,o=n?s:-1,l=Object(i);(n?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return UN=t,UN}var qN,mQ;function lge(){if(mQ)return qN;mQ=1;var e=mq(),t=oNe(),r=t(e);return qN=r,qN}var HN,gQ;function sNe(){if(gQ)return HN;gQ=1;var e=lge(),t=Ew();function r(n,i){var a=-1,s=t(n)?Array(n.length):[];return e(n,function(o,l,u){s[++a]=i(o,l,u)}),s}return HN=r,HN}var WN,vQ;function lNe(){if(vQ)return WN;vQ=1;var e=EU(),t=sge(),r=sNe(),n=qh();function i(a,s){var o=n(a)?e:r;return o(a,t(s,3))}return WN=i,WN}var yQ;function uNe(){if(yQ)return x1;yQ=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.flattenNames=void 0;var e=tge(),t=l(e),r=gq(),n=l(r),i=ige(),a=l(i),s=lNe(),o=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var u=x1.flattenNames=function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=[];return(0,o.default)(h,function(m){Array.isArray(m)?f(m).map(function(v){return p.push(v)}):(0,a.default)(m)?(0,n.default)(m,function(v,w){v===!0&&p.push(w),p.push(w+"-"+v)}):(0,t.default)(m)&&p.push(m)}),p};return x1.default=u,x1}var S1={},VN,bQ;function uge(){if(bQ)return VN;bQ=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return VN=e,VN}var GN,_Q;function cge(){if(_Q)return GN;_Q=1;var e=Sw(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return GN=t,GN}var KN,wQ;function gM(){if(wQ)return KN;wQ=1;var e=cge();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return KN=t,KN}var ZN,xQ;function yq(){if(xQ)return ZN;xQ=1;var e=gM(),t=sP(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var l=a[s];(!(n.call(a,s)&&t(l,o))||o===void 0&&!(s in a))&&e(a,s,o)}return ZN=i,ZN}var YN,SQ;function vP(){if(SQ)return YN;SQ=1;var e=yq(),t=gM();function r(n,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var f=i[l],h=s?s(a[f],n[f],f,a,n):void 0;h===void 0&&(h=n[f]),o?t(a,f,h):e(a,f,h)}return a}return YN=r,YN}var XN,EQ;function cNe(){if(EQ)return XN;EQ=1;var e=vP(),t=cS();function r(n,i){return n&&e(i,t(i),n)}return XN=r,XN}var JN,CQ;function fNe(){if(CQ)return JN;CQ=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return JN=e,JN}var QN,PQ;function dNe(){if(PQ)return QN;PQ=1;var e=ym(),t=MU(),r=fNe(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!e(s))return r(s);var o=t(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return QN=a,QN}var e5,TQ;function yP(){if(TQ)return e5;TQ=1;var e=dpe(),t=dNe(),r=Ew();function n(i){return r(i)?e(i,!0):t(i)}return e5=n,e5}var t5,RQ;function hNe(){if(RQ)return t5;RQ=1;var e=vP(),t=yP();function r(n,i){return n&&e(i,t(i),n)}return t5=r,t5}var hC={exports:{}};hC.exports;var AQ;function fge(){return AQ||(AQ=1,function(e,t){var r=av(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var h=u.length,p=o?o(h):new u.constructor(h);return u.copy(p),p}e.exports=l}(hC,hC.exports)),hC.exports}var r5,OQ;function vM(){if(OQ)return r5;OQ=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return r5=e,r5}var n5,IQ;function pNe(){if(IQ)return n5;IQ=1;var e=vP(),t=TU();function r(n,i){return e(n,t(n),i)}return n5=r,n5}var i5,MQ;function dge(){if(MQ)return i5;MQ=1;var e=tM(),t=vq(),r=TU(),n=fpe(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)e(o,r(s)),s=t(s);return o}:n;return i5=a,i5}var a5,kQ;function mNe(){if(kQ)return a5;kQ=1;var e=vP(),t=dge();function r(n,i){return e(n,t(n),i)}return a5=r,a5}var o5,DQ;function gNe(){if(DQ)return o5;DQ=1;var e=cpe(),t=dge(),r=yP();function n(i){return e(i,r,t)}return o5=n,o5}var s5,FQ;function vNe(){if(FQ)return s5;FQ=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return s5=r,s5}var l5,LQ;function bq(){if(LQ)return l5;LQ=1;var e=lpe();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return l5=t,l5}var u5,NQ;function yNe(){if(NQ)return u5;NQ=1;var e=bq();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return u5=t,u5}var c5,$Q;function bNe(){if($Q)return c5;$Q=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return c5=t,c5}var f5,zQ;function _Ne(){if(zQ)return f5;zQ=1;var e=ww(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return f5=n,f5}var d5,BQ;function hge(){if(BQ)return d5;BQ=1;var e=bq();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return d5=t,d5}var h5,jQ;function wNe(){if(jQ)return h5;jQ=1;var e=bq(),t=yNe(),r=bNe(),n=_Ne(),i=hge(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",f="[object Set]",h="[object String]",p="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",P="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",_="[object Uint16Array]",R="[object Uint32Array]";function O(F,$,z){var q=F.constructor;switch($){case m:return e(F);case a:case s:return new q(+F);case v:return t(F,z);case w:case x:case T:case A:case P:case S:case E:case _:case R:return i(F,z);case o:return new q;case l:case h:return new q(F);case u:return r(F);case f:return new q;case p:return n(F)}}return h5=O,h5}var p5,UQ;function _q(){if(UQ)return p5;UQ=1;var e=ym(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return p5=r,p5}var m5,qQ;function pge(){if(qQ)return m5;qQ=1;var e=_q(),t=vq(),r=MU();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return m5=n,m5}var g5,HQ;function xNe(){if(HQ)return g5;HQ=1;var e=cP(),t=ov(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return g5=n,g5}var v5,WQ;function SNe(){if(WQ)return v5;WQ=1;var e=xNe(),t=AU(),r=OU(),n=r&&r.isMap,i=n?t(n):e;return v5=i,v5}var y5,VQ;function ENe(){if(VQ)return y5;VQ=1;var e=cP(),t=ov(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return y5=n,y5}var b5,GQ;function CNe(){if(GQ)return b5;GQ=1;var e=ENe(),t=AU(),r=OU(),n=r&&r.isSet,i=n?t(n):e;return b5=i,b5}var _5,KQ;function PNe(){if(KQ)return _5;KQ=1;var e=QI(),t=uge(),r=yq(),n=cNe(),i=hNe(),a=fge(),s=vM(),o=pNe(),l=mNe(),u=ppe(),f=gNe(),h=cP(),p=vNe(),m=wNe(),v=pge(),w=qh(),x=nM(),T=SNe(),A=ym(),P=CNe(),S=cS(),E=yP(),_=1,R=2,O=4,F="[object Arguments]",$="[object Array]",z="[object Boolean]",q="[object Date]",Z="[object Error]",V="[object Function]",J="[object GeneratorFunction]",fe="[object Map]",ue="[object Number]",pe="[object Object]",ve="[object RegExp]",le="[object Set]",se="[object String]",ge="[object Symbol]",_e="[object WeakMap]",ke="[object ArrayBuffer]",Ge="[object DataView]",ct="[object Float32Array]",$e="[object Float64Array]",we="[object Int8Array]",Ee="[object Int16Array]",Re="[object Int32Array]",ft="[object Uint8Array]",qe="[object Uint8ClampedArray]",dt="[object Uint16Array]",he="[object Uint32Array]",ut={};ut[F]=ut[$]=ut[ke]=ut[Ge]=ut[z]=ut[q]=ut[ct]=ut[$e]=ut[we]=ut[Ee]=ut[Re]=ut[fe]=ut[ue]=ut[pe]=ut[ve]=ut[le]=ut[se]=ut[ge]=ut[ft]=ut[qe]=ut[dt]=ut[he]=!0,ut[Z]=ut[V]=ut[_e]=!1;function xt(je,rt,Ze,yt,Vt,At){var hr,Sr=rt&_,fr=rt&R,Dt=rt&O;if(Ze&&(hr=Vt?Ze(je,yt,Vt,At):Ze(je)),hr!==void 0)return hr;if(!A(je))return je;var dr=w(je);if(dr){if(hr=p(je),!Sr)return s(je,hr)}else{var Nr=h(je),gr=Nr==V||Nr==J;if(x(je))return a(je,Sr);if(Nr==pe||Nr==F||gr&&!Vt){if(hr=fr||gr?{}:v(je),!Sr)return fr?l(je,i(hr,je)):o(je,n(hr,je))}else{if(!ut[Nr])return Vt?je:{};hr=m(je,Nr,Sr)}}At||(At=new e);var wr=At.get(je);if(wr)return wr;At.set(je,hr),P(je)?je.forEach(function(nn){hr.add(xt(nn,rt,Ze,nn,je,At))}):T(je)&&je.forEach(function(nn,ot){hr.set(ot,xt(nn,rt,Ze,ot,je,At))});var Fr=Dt?fr?f:u:fr?E:S,_n=dr?void 0:Fr(je);return t(_n||je,function(nn,ot){_n&&(ot=nn,nn=je[ot]),r(hr,ot,xt(nn,rt,Ze,ot,je,At))}),hr}return _5=xt,_5}var w5,ZQ;function wq(){if(ZQ)return w5;ZQ=1;var e=PNe(),t=1,r=4;function n(i){return e(i,t|r)}return w5=n,w5}var YQ;function TNe(){if(YQ)return S1;YQ=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.mergeClasses=void 0;var e=gq(),t=a(e),r=wq(),n=a(r),i=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])}return o};function a(o){return o&&o.__esModule?o:{default:o}}var s=S1.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=l.default&&(0,n.default)(l.default)||{};return u.map(function(h){var p=l[h];return p&&(0,t.default)(p,function(m,v){f[v]||(f[v]={}),f[v]=i({},f[v],p[v])}),h}),f};return S1.default=s,S1}var E1={},XQ;function RNe(){if(XQ)return E1;XQ=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.autoprefix=void 0;var e=gq(),t=n(e),r=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function n(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(o){return{msBorderRadius:o,MozBorderRadius:o,OBorderRadius:o,WebkitBorderRadius:o,borderRadius:o}},boxShadow:function(o){return{msBoxShadow:o,MozBoxShadow:o,OBoxShadow:o,WebkitBoxShadow:o,boxShadow:o}},userSelect:function(o){return{WebkitTouchCallout:o,KhtmlUserSelect:o,MozUserSelect:o,msUserSelect:o,WebkitUserSelect:o,userSelect:o}},flex:function(o){return{WebkitBoxFlex:o,MozBoxFlex:o,WebkitFlex:o,msFlex:o,flex:o}},flexBasis:function(o){return{WebkitFlexBasis:o,flexBasis:o}},justifyContent:function(o){return{WebkitJustifyContent:o,justifyContent:o}},transition:function(o){return{msTransition:o,MozTransition:o,OTransition:o,WebkitTransition:o,transition:o}},transform:function(o){return{msTransform:o,MozTransform:o,OTransform:o,WebkitTransform:o,transform:o}},absolute:function(o){var l=o&&o.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(o,l){var u=l[o];return u||{extend:o}}},a=E1.autoprefix=function(o){var l={};return(0,t.default)(o,function(u,f){var h={};(0,t.default)(u,function(p,m){var v=i[m];v?h=r({},h,v(p)):h[m]=p}),l[f]=h}),l};return E1.default=a,E1}var C1={},JQ;function ANe(){if(JQ)return C1;JQ=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.hover=void 0;var e=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l},t=vn(),r=n(t);function n(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function a(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=C1.hover=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){s(p,h);function p(){var m,v,w,x;i(this,p);for(var T=arguments.length,A=Array(T),P=0;P<T;P++)A[P]=arguments[P];return x=(v=(w=a(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(A))),w),w.state={hover:!1},w.handleMouseOver=function(){return w.setState({hover:!0})},w.handleMouseOut=function(){return w.setState({hover:!1})},w.render=function(){return r.default.createElement(f,{onMouseOver:w.handleMouseOver,onMouseOut:w.handleMouseOut},r.default.createElement(u,e({},w.props,w.state)))},v),a(w,x)}return p}(r.default.Component)};return C1.default=o,C1}var P1={},QQ;function ONe(){if(QQ)return P1;QQ=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.active=void 0;var e=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l},t=vn(),r=n(t);function n(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function a(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var o=P1.active=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){s(p,h);function p(){var m,v,w,x;i(this,p);for(var T=arguments.length,A=Array(T),P=0;P<T;P++)A[P]=arguments[P];return x=(v=(w=a(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(A))),w),w.state={active:!1},w.handleMouseDown=function(){return w.setState({active:!0})},w.handleMouseUp=function(){return w.setState({active:!1})},w.render=function(){return r.default.createElement(f,{onMouseDown:w.handleMouseDown,onMouseUp:w.handleMouseUp},r.default.createElement(u,e({},w.props,w.state)))},v),a(w,x)}return p}(r.default.Component)};return P1.default=o,P1}var oR={},eee;function INe(){if(eee)return oR;eee=1,Object.defineProperty(oR,"__esModule",{value:!0});var e=function(r,n){var i={},a=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[o]=l};return r===0&&a("first-child"),r===n-1&&a("last-child"),(r===0||r%2===0)&&a("even"),Math.abs(r%2)===1&&a("odd"),a("nth-child",r),i};return oR.default=e,oR}var tee;function kb(){if(tee)return lp;tee=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.ReactCSS=lp.loop=lp.handleActive=lp.handleHover=lp.hover=void 0;var e=uNe(),t=p(e),r=TNe(),n=p(r),i=RNe(),a=p(i),s=ANe(),o=p(s),l=ONe(),u=p(l),f=INe(),h=p(f);function p(v){return v&&v.__esModule?v:{default:v}}lp.hover=o.default,lp.handleHover=o.default,lp.handleActive=u.default,lp.loop=h.default;var m=lp.ReactCSS=function(w){for(var x=arguments.length,T=Array(x>1?x-1:0),A=1;A<x;A++)T[A-1]=arguments[A];var P=(0,t.default)(T),S=(0,n.default)(w,P);return(0,a.default)(S)};return lp.default=m,lp}var xq=kb();const Ba=pl(xq);var MNe=function(t,r,n,i,a){var s=a.clientWidth,o=a.clientHeight,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,u=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=l-(a.getBoundingClientRect().left+window.pageXOffset),h=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(h<0?p=0:h>o?p=1:p=Math.round(h*100/o)/100,r.a!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}else{var m=void 0;if(f<0?m=0:f>s?m=1:m=Math.round(f*100/s)/100,i!==m)return{h:r.h,s:r.s,l:r.l,a:m,source:"rgb"}}return null},x5={},kNe=function(t,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var s=a.getContext("2d");return s?(s.fillStyle=t,s.fillRect(0,0,a.width,a.height),s.fillStyle=r,s.fillRect(0,0,n,n),s.translate(n,n),s.fillRect(0,0,n,n),a.toDataURL()):null},DNe=function(t,r,n,i){var a=t+"-"+r+"-"+n+(i?"-server":"");if(x5[a])return x5[a];var s=kNe(t,r,n,i);return x5[a]=s,s},ree=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS=function(t){var r=t.white,n=t.grey,i=t.size,a=t.renderers,s=t.borderRadius,o=t.boxShadow,l=t.children,u=Ba({default:{grid:{borderRadius:s,boxShadow:o,absolute:"0px 0px 0px 0px",background:"url("+DNe(r,n,i,a.canvas)+") center left"}}});return ne.isValidElement(l)?ze.cloneElement(l,ree({},l.props,{style:ree({},l.props.style,u.grid)})):ze.createElement("div",{style:u.grid})};vS.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var FNe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LNe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function NNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $Ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sq=function(e){$Ne(t,e);function t(){var r,n,i,a;NNe(this,t);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return a=(n=(i=nee(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(o))),i),i.handleChange=function(u){var f=MNe(u,i.props.hsl,i.props.direction,i.props.a,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),nee(i,a)}return LNe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=Ba({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:FNe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return ze.createElement("div",{style:a.alpha},ze.createElement("div",{style:a.checkboard},ze.createElement(vS,{renderers:this.props.renderers})),ze.createElement("div",{style:a.gradient}),ze.createElement("div",{style:a.container,ref:function(o){return n.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ze.createElement("div",{style:a.pointer},this.props.pointer?ze.createElement(this.props.pointer,this.props):ze.createElement("div",{style:a.slider}))))}}]),t}(ne.PureComponent||ne.Component),zNe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function BNe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UNe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var HNe=1,mge=38,WNe=40,VNe=[mge,WNe],GNe=function(t){return VNe.indexOf(t)>-1},KNe=function(t){return Number(String(t).replace(/%/g,""))},ZNe=1,is=function(e){qNe(t,e);function t(r){jNe(this,t);var n=UNe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=KNe(i.target.value);if(!isNaN(a)&&GNe(i.keyCode)){var s=n.getArrowOffset(),o=i.keyCode===mge?a+s:a-s;n.setUpdatedValue(o,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+ZNe++,n}return zNe(t,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return BNe({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||HNe}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=Ba({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return ze.createElement("div",{style:i.wrap},ze.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return n.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?ze.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(ne.PureComponent||ne.Component),YNe=function(t,r,n,i){var a=i.clientWidth,s=i.clientHeight,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,l=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=o-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0)h=359;else if(f>s)h=0;else{var p=-(f*100/s)+100;h=360*p/100}if(n.h!==h)return{h,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var m=void 0;if(u<0)m=0;else if(u>a)m=359;else{var v=u*100/a;m=360*v/100}if(n.h!==m)return{h:m,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},XNe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function JNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function QNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yS=function(e){QNe(t,e);function t(){var r,n,i,a;JNe(this,t);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return a=(n=(i=iee(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(o))),i),i.handleChange=function(u){var f=YNe(u,i.props.direction,i.props.hsl,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),iee(i,a)}return XNe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,s=Ba({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return ze.createElement("div",{style:s.hue},ze.createElement("div",{className:"hue-"+a,style:s.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ze.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),ze.createElement("div",{style:s.pointer},this.props.pointer?ze.createElement(this.props.pointer,this.props):ze.createElement("div",{style:s.slider}))))}}]),t}(ne.PureComponent||ne.Component),S5={exports:{}},E5,aee;function e5e(){if(aee)return E5;aee=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return E5=e,E5}var C5,oee;function t5e(){if(oee)return C5;oee=1;var e=e5e();function t(){}function r(){}return r.resetWarningCache=t,C5=function(){function n(s,o,l,u,f,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},C5}var see;function yM(){return see||(see=1,S5.exports=t5e()()),S5.exports}var Zp=yM();const Wr=pl(Zp);function r5e(){this.__data__=[],this.size=0}function bP(e,t){return e===t||e!==e&&t!==t}function bM(e,t){for(var r=e.length;r--;)if(bP(e[r][0],t))return r;return-1}var n5e=Array.prototype,i5e=n5e.splice;function a5e(e){var t=this.__data__,r=bM(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():i5e.call(t,r,1),--this.size,!0}function o5e(e){var t=this.__data__,r=bM(t,e);return r<0?void 0:t[r][1]}function s5e(e){return bM(this.__data__,e)>-1}function l5e(e,t){var r=this.__data__,n=bM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function p0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}p0.prototype.clear=r5e;p0.prototype.delete=a5e;p0.prototype.get=o5e;p0.prototype.has=s5e;p0.prototype.set=l5e;function u5e(){this.__data__=new p0,this.size=0}function c5e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function f5e(e){return this.__data__.get(e)}function d5e(e){return this.__data__.has(e)}var gge=typeof global=="object"&&global&&global.Object===Object&&global,h5e=typeof self=="object"&&self&&self.Object===Object&&self,lv=gge||h5e||Function("return this")(),ty=lv.Symbol,vge=Object.prototype,p5e=vge.hasOwnProperty,m5e=vge.toString,ME=ty?ty.toStringTag:void 0;function g5e(e){var t=p5e.call(e,ME),r=e[ME];try{e[ME]=void 0;var n=!0}catch{}var i=m5e.call(e);return n&&(t?e[ME]=r:delete e[ME]),i}var v5e=Object.prototype,y5e=v5e.toString;function b5e(e){return y5e.call(e)}var _5e="[object Null]",w5e="[object Undefined]",lee=ty?ty.toStringTag:void 0;function Rw(e){return e==null?e===void 0?w5e:_5e:lee&&lee in Object(e)?g5e(e):b5e(e)}function jh(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var x5e="[object AsyncFunction]",S5e="[object Function]",E5e="[object GeneratorFunction]",C5e="[object Proxy]";function Eq(e){if(!jh(e))return!1;var t=Rw(e);return t==S5e||t==E5e||t==x5e||t==C5e}var P5=lv["__core-js_shared__"],uee=function(){var e=/[^.]+$/.exec(P5&&P5.keys&&P5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P5e(e){return!!uee&&uee in e}var T5e=Function.prototype,R5e=T5e.toString;function Aw(e){if(e!=null){try{return R5e.call(e)}catch{}try{return e+""}catch{}}return""}var A5e=/[\\^$.*+?()[\]{}|]/g,O5e=/^\[object .+?Constructor\]$/,I5e=Function.prototype,M5e=Object.prototype,k5e=I5e.toString,D5e=M5e.hasOwnProperty,F5e=RegExp("^"+k5e.call(D5e).replace(A5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L5e(e){if(!jh(e)||P5e(e))return!1;var t=Eq(e)?F5e:O5e;return t.test(Aw(e))}function N5e(e,t){return e==null?void 0:e[t]}function Ow(e,t){var r=N5e(e,t);return L5e(r)?r:void 0}var h2=Ow(lv,"Map"),p2=Ow(Object,"create");function $5e(){this.__data__=p2?p2(null):{},this.size=0}function z5e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var B5e="__lodash_hash_undefined__",j5e=Object.prototype,U5e=j5e.hasOwnProperty;function q5e(e){var t=this.__data__;if(p2){var r=t[e];return r===B5e?void 0:r}return U5e.call(t,e)?t[e]:void 0}var H5e=Object.prototype,W5e=H5e.hasOwnProperty;function V5e(e){var t=this.__data__;return p2?t[e]!==void 0:W5e.call(t,e)}var G5e="__lodash_hash_undefined__";function K5e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=p2&&t===void 0?G5e:t,this}function Z_(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Z_.prototype.clear=$5e;Z_.prototype.delete=z5e;Z_.prototype.get=q5e;Z_.prototype.has=V5e;Z_.prototype.set=K5e;function Z5e(){this.size=0,this.__data__={hash:new Z_,map:new(h2||p0),string:new Z_}}function Y5e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _M(e,t){var r=e.__data__;return Y5e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function X5e(e){var t=_M(this,e).delete(e);return this.size-=t?1:0,t}function J5e(e){return _M(this,e).get(e)}function Q5e(e){return _M(this,e).has(e)}function e$e(e,t){var r=_M(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function m0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}m0.prototype.clear=Z5e;m0.prototype.delete=X5e;m0.prototype.get=J5e;m0.prototype.has=Q5e;m0.prototype.set=e$e;var t$e=200;function r$e(e,t){var r=this.__data__;if(r instanceof p0){var n=r.__data__;if(!h2||n.length<t$e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m0(n)}return r.set(e,t),this.size=r.size,this}function Kg(e){var t=this.__data__=new p0(e);this.size=t.size}Kg.prototype.clear=u5e;Kg.prototype.delete=c5e;Kg.prototype.get=f5e;Kg.prototype.has=d5e;Kg.prototype.set=r$e;var JA=function(){try{var e=Ow(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Cq(e,t,r){t=="__proto__"&&JA?JA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ij(e,t,r){(r!==void 0&&!bP(e[t],r)||r===void 0&&!(t in e))&&Cq(e,t,r)}function n$e(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[++i];if(r(a[l],l,a)===!1)break}return t}}var yge=n$e(),bge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cee=bge&&typeof module=="object"&&module&&!module.nodeType&&module,i$e=cee&&cee.exports===bge,fee=i$e?lv.Buffer:void 0,dee=fee?fee.allocUnsafe:void 0;function _ge(e,t){if(t)return e.slice();var r=e.length,n=dee?dee(r):new e.constructor(r);return e.copy(n),n}var QA=lv.Uint8Array;function Pq(e){var t=new e.constructor(e.byteLength);return new QA(t).set(new QA(e)),t}function wge(e,t){var r=t?Pq(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function a$e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var hee=Object.create,o$e=function(){function e(){}return function(t){if(!jh(t))return{};if(hee)return hee(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function xge(e,t){return function(r){return e(t(r))}}var Sge=xge(Object.getPrototypeOf,Object),s$e=Object.prototype;function Tq(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||s$e;return e===r}function Ege(e){return typeof e.constructor=="function"&&!Tq(e)?o$e(Sge(e)):{}}function ry(e){return e!=null&&typeof e=="object"}var l$e="[object Arguments]";function pee(e){return ry(e)&&Rw(e)==l$e}var Cge=Object.prototype,u$e=Cge.hasOwnProperty,c$e=Cge.propertyIsEnumerable,eO=pee(function(){return arguments}())?pee:function(e){return ry(e)&&u$e.call(e,"callee")&&!c$e.call(e,"callee")},yp=Array.isArray,f$e=9007199254740991;function Rq(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f$e}function bS(e){return e!=null&&Rq(e.length)&&!Eq(e)}function d$e(e){return ry(e)&&bS(e)}function h$e(){return!1}var Pge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mee=Pge&&typeof module=="object"&&module&&!module.nodeType&&module,p$e=mee&&mee.exports===Pge,gee=p$e?lv.Buffer:void 0,m$e=gee?gee.isBuffer:void 0,m2=m$e||h$e,g$e="[object Object]",v$e=Function.prototype,y$e=Object.prototype,Tge=v$e.toString,b$e=y$e.hasOwnProperty,_$e=Tge.call(Object);function w$e(e){if(!ry(e)||Rw(e)!=g$e)return!1;var t=Sge(e);if(t===null)return!0;var r=b$e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Tge.call(r)==_$e}var x$e="[object Arguments]",S$e="[object Array]",E$e="[object Boolean]",C$e="[object Date]",P$e="[object Error]",T$e="[object Function]",R$e="[object Map]",A$e="[object Number]",O$e="[object Object]",I$e="[object RegExp]",M$e="[object Set]",k$e="[object String]",D$e="[object WeakMap]",F$e="[object ArrayBuffer]",L$e="[object DataView]",N$e="[object Float32Array]",$$e="[object Float64Array]",z$e="[object Int8Array]",B$e="[object Int16Array]",j$e="[object Int32Array]",U$e="[object Uint8Array]",q$e="[object Uint8ClampedArray]",H$e="[object Uint16Array]",W$e="[object Uint32Array]",lu={};lu[N$e]=lu[$$e]=lu[z$e]=lu[B$e]=lu[j$e]=lu[U$e]=lu[q$e]=lu[H$e]=lu[W$e]=!0;lu[x$e]=lu[S$e]=lu[F$e]=lu[E$e]=lu[L$e]=lu[C$e]=lu[P$e]=lu[T$e]=lu[R$e]=lu[A$e]=lu[O$e]=lu[I$e]=lu[M$e]=lu[k$e]=lu[D$e]=!1;function V$e(e){return ry(e)&&Rq(e.length)&&!!lu[Rw(e)]}function Aq(e){return function(t){return e(t)}}var Rge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LC=Rge&&typeof module=="object"&&module&&!module.nodeType&&module,G$e=LC&&LC.exports===Rge,T5=G$e&&gge.process,Fx=function(){try{var e=LC&&LC.require&&LC.require("util").types;return e||T5&&T5.binding&&T5.binding("util")}catch{}}(),vee=Fx&&Fx.isTypedArray,Oq=vee?Aq(vee):V$e;function Mj(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var K$e=Object.prototype,Z$e=K$e.hasOwnProperty;function Iq(e,t,r){var n=e[t];(!(Z$e.call(e,t)&&bP(n,r))||r===void 0&&!(t in e))&&Cq(e,t,r)}function Y$e(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=void 0;l===void 0&&(l=e[o]),i?Cq(r,o,l):Iq(r,o,l)}return r}function X$e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var J$e=9007199254740991,Q$e=/^(?:0|[1-9]\d*)$/;function wM(e,t){var r=typeof e;return t=t??J$e,!!t&&(r=="number"||r!="symbol"&&Q$e.test(e))&&e>-1&&e%1==0&&e<t}var e4e=Object.prototype,t4e=e4e.hasOwnProperty;function Age(e,t){var r=yp(e),n=!r&&eO(e),i=!r&&!n&&m2(e),a=!r&&!n&&!i&&Oq(e),s=r||n||i||a,o=s?X$e(e.length,String):[],l=o.length;for(var u in e)(t||t4e.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wM(u,l)))&&o.push(u);return o}function r4e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var n4e=Object.prototype,i4e=n4e.hasOwnProperty;function a4e(e){if(!jh(e))return r4e(e);var t=Tq(e),r=[];for(var n in e)n=="constructor"&&(t||!i4e.call(e,n))||r.push(n);return r}function Oge(e){return bS(e)?Age(e,!0):a4e(e)}function o4e(e){return Y$e(e,Oge(e))}function s4e(e,t,r,n,i,a,s){var o=Mj(e,r),l=Mj(t,r),u=s.get(l);if(u){Ij(e,r,u);return}var f=a?a(o,l,r+"",e,t,s):void 0,h=f===void 0;if(h){var p=yp(l),m=!p&&m2(l),v=!p&&!m&&Oq(l);f=l,p||m||v?yp(o)?f=o:d$e(o)?f=a$e(o):m?(h=!1,f=_ge(l,!0)):v?(h=!1,f=wge(l,!0)):f=[]:w$e(l)||eO(l)?(f=o,eO(o)?f=o4e(o):(!jh(o)||Eq(o))&&(f=Ege(l))):h=!1}h&&(s.set(l,f),i(f,l,n,a,s),s.delete(l)),Ij(e,r,f)}function Ige(e,t,r,n,i){e!==t&&yge(t,function(a,s){if(i||(i=new Kg),jh(a))s4e(e,t,s,r,Ige,n,i);else{var o=n?n(Mj(e,s),a,s+"",e,t,i):void 0;o===void 0&&(o=a),Ij(e,s,o)}},Oge)}function xM(e){return e}function l4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yee=Math.max;function u4e(e,t,r){return t=yee(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=yee(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),l4e(e,this,o)}}function c4e(e){return function(){return e}}var f4e=JA?function(e,t){return JA(e,"toString",{configurable:!0,enumerable:!1,value:c4e(t),writable:!0})}:xM,d4e=800,h4e=16,p4e=Date.now;function m4e(e){var t=0,r=0;return function(){var n=p4e(),i=h4e-(n-r);if(r=n,i>0){if(++t>=d4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var g4e=m4e(f4e);function v4e(e,t){return g4e(u4e(e,t,xM),e+"")}function y4e(e,t,r){if(!jh(r))return!1;var n=typeof t;return(n=="number"?bS(r)&&wM(t,r.length):n=="string"&&t in r)?bP(r[t],e):!1}function b4e(e){return v4e(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&y4e(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,a)}return t})}var Ep=b4e(function(e,t,r){Ige(e,t,r)}),_P=function(t){var r=t.zDepth,n=t.radius,i=t.background,a=t.children,s=t.styles,o=s===void 0?{}:s,l=Ba(Ep({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},o),{"zDepth-1":r===1});return ze.createElement("div",{style:l.wrap},ze.createElement("div",{style:l.bg}),ze.createElement("div",{style:l.content},a))};_P.propTypes={background:Wr.string,zDepth:Wr.oneOf([0,1,2,3,4,5]),radius:Wr.number,styles:Wr.object};_P.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var R5=function(){return lv.Date.now()},_4e=/\s/;function w4e(e){for(var t=e.length;t--&&_4e.test(e.charAt(t)););return t}var x4e=/^\s+/;function S4e(e){return e&&e.slice(0,w4e(e)+1).replace(x4e,"")}var E4e="[object Symbol]";function SM(e){return typeof e=="symbol"||ry(e)&&Rw(e)==E4e}var bee=NaN,C4e=/^[-+]0x[0-9a-f]+$/i,P4e=/^0b[01]+$/i,T4e=/^0o[0-7]+$/i,R4e=parseInt;function _ee(e){if(typeof e=="number")return e;if(SM(e))return bee;if(jh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S4e(e);var r=P4e.test(e);return r||T4e.test(e)?R4e(e.slice(2),r?2:8):C4e.test(e)?bee:+e}var A4e="Expected a function",O4e=Math.max,I4e=Math.min;function Mge(e,t,r){var n,i,a,s,o,l,u=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(A4e);t=_ee(t)||0,jh(r)&&(f=!!r.leading,h="maxWait"in r,a=h?O4e(_ee(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function m(_){var R=n,O=i;return n=i=void 0,u=_,s=e.apply(O,R),s}function v(_){return u=_,o=setTimeout(T,t),f?m(_):s}function w(_){var R=_-l,O=_-u,F=t-R;return h?I4e(F,a-O):F}function x(_){var R=_-l,O=_-u;return l===void 0||R>=t||R<0||h&&O>=a}function T(){var _=R5();if(x(_))return A(_);o=setTimeout(T,w(_))}function A(_){return o=void 0,p&&n?m(_):(n=i=void 0,s)}function P(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function S(){return o===void 0?s:A(R5())}function E(){var _=R5(),R=x(_);if(n=arguments,i=this,l=_,R){if(o===void 0)return v(l);if(h)return clearTimeout(o),o=setTimeout(T,t),m(l)}return o===void 0&&(o=setTimeout(T,t)),s}return E.cancel=P,E.flush=S,E}var M4e="Expected a function";function k4e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(M4e);return jh(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Mge(e,t,{leading:n,maxWait:t,trailing:i})}var D4e=function(t,r,n){var i=n.getBoundingClientRect(),a=i.width,s=i.height,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,l=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=o-(n.getBoundingClientRect().left+window.pageXOffset),f=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),f<0?f=0:f>s&&(f=s);var h=u/a,p=1-f/s;return{h:r.h,s:h,v:p,a:r.a,source:"hsv"}},F4e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function L4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var EM=function(e){$4e(t,e);function t(r){L4e(this,t);var n=N4e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,D4e(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=k4e(function(i,a,s){i(a,s)},50),n}return F4e(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,s=i.white,o=i.black,l=i.pointer,u=i.circle,f=Ba({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:s,black:o,pointer:l,circle:u}},{custom:!!this.props.style});return ze.createElement("div",{style:f.color,ref:function(p){return n.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ze.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),ze.createElement("div",{style:f.white,className:"saturation-white"},ze.createElement("div",{style:f.black,className:"saturation-black"}),ze.createElement("div",{style:f.pointer},this.props.pointer?ze.createElement(this.props.pointer,this.props):ze.createElement("div",{style:f.circle}))))}}]),t}(ne.PureComponent||ne.Component);function kge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var z4e=xge(Object.keys,Object),B4e=Object.prototype,j4e=B4e.hasOwnProperty;function U4e(e){if(!Tq(e))return z4e(e);var t=[];for(var r in Object(e))j4e.call(e,r)&&r!="constructor"&&t.push(r);return t}function Mq(e){return bS(e)?Age(e):U4e(e)}function q4e(e,t){return e&&yge(e,t,Mq)}function H4e(e,t){return function(r,n){if(r==null)return r;if(!bS(r))return e(r,n);for(var i=r.length,a=-1,s=Object(r);++a<i&&n(s[a],a,s)!==!1;);return r}}var Dge=H4e(q4e);function W4e(e){return typeof e=="function"?e:xM}function V4e(e,t){var r=yp(e)?kge:Dge;return r(e,W4e(t))}function tO(e){"@babel/helpers - typeof";return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tO(e)}var G4e=/^\s+/,K4e=/\s+$/;function Xi(e,t){if(e=e||"",t=t||{},e instanceof Xi)return e;if(!(this instanceof Xi))return new Xi(e,t);var r=Z4e(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Xi.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,i,a,s,o;return r=t.r/255,n=t.g/255,i=t.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*s+.0722*o},setAlpha:function(t){return this._a=Fge(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=xee(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=xee(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=wee(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=wee(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return See(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Q4e(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Cu(this._r,255)*100)+"%",g:Math.round(Cu(this._g,255)*100)+"%",b:Math.round(Cu(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Cu(this._r,255)*100)+"%, "+Math.round(Cu(this._g,255)*100)+"%, "+Math.round(Cu(this._b,255)*100)+"%)":"rgba("+Math.round(Cu(this._r,255)*100)+"%, "+Math.round(Cu(this._g,255)*100)+"%, "+Math.round(Cu(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:f6e[See(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+Eee(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(t){var a=Xi(t);n="#"+Eee(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return a?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Xi(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(n6e,arguments)},brighten:function(){return this._applyModification(i6e,arguments)},darken:function(){return this._applyModification(a6e,arguments)},desaturate:function(){return this._applyModification(e6e,arguments)},saturate:function(){return this._applyModification(t6e,arguments)},greyscale:function(){return this._applyModification(r6e,arguments)},spin:function(){return this._applyModification(o6e,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(u6e,arguments)},complement:function(){return this._applyCombination(s6e,arguments)},monochromatic:function(){return this._applyCombination(c6e,arguments)},splitcomplement:function(){return this._applyCombination(l6e,arguments)},triad:function(){return this._applyCombination(Cee,[3])},tetrad:function(){return this._applyCombination(Cee,[4])}};Xi.fromRatio=function(e,t){if(tO(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=pC(e[n]));e=r}return Xi(e,t)};function Z4e(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,a=null,s=!1,o=!1;return typeof e=="string"&&(e=m6e(e)),tO(e)=="object"&&(Ly(e.r)&&Ly(e.g)&&Ly(e.b)?(t=Y4e(e.r,e.g,e.b),s=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ly(e.h)&&Ly(e.s)&&Ly(e.v)?(n=pC(e.s),i=pC(e.v),t=J4e(e.h,n,i),s=!0,o="hsv"):Ly(e.h)&&Ly(e.s)&&Ly(e.l)&&(n=pC(e.s),a=pC(e.l),t=X4e(e.h,n,a),s=!0,o="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Fge(r),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function Y4e(e,t,r){return{r:Cu(e,255)*255,g:Cu(t,255)*255,b:Cu(r,255)*255}}function wee(e,t,r){e=Cu(e,255),t=Cu(t,255),r=Cu(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a,s,o=(n+i)/2;if(n==i)a=s=0;else{var l=n-i;switch(s=o>.5?l/(2-n-i):l/(n+i),n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s,l:o}}function X4e(e,t,r){var n,i,a;e=Cu(e,360),t=Cu(t,100),r=Cu(r,100);function s(u,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(f-u)*6*h:h<1/2?f:h<2/3?u+(f-u)*(2/3-h)*6:u}if(t===0)n=i=a=r;else{var o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;n=s(l,o,e+1/3),i=s(l,o,e),a=s(l,o,e-1/3)}return{r:n*255,g:i*255,b:a*255}}function xee(e,t,r){e=Cu(e,255),t=Cu(t,255),r=Cu(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a,s,o=n,l=n-i;if(s=n===0?0:l/n,n==i)a=0;else{switch(n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s,v:o}}function J4e(e,t,r){e=Cu(e,360)*6,t=Cu(t,100),r=Cu(r,100);var n=Math.floor(e),i=e-n,a=r*(1-t),s=r*(1-i*t),o=r*(1-(1-i)*t),l=n%6,u=[r,s,a,a,o,r][l],f=[o,r,r,s,a,a][l],h=[a,a,o,r,r,s][l];return{r:u*255,g:f*255,b:h*255}}function See(e,t,r,n){var i=[Hg(Math.round(e).toString(16)),Hg(Math.round(t).toString(16)),Hg(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Q4e(e,t,r,n,i){var a=[Hg(Math.round(e).toString(16)),Hg(Math.round(t).toString(16)),Hg(Math.round(r).toString(16)),Hg(Lge(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Eee(e,t,r,n){var i=[Hg(Lge(n)),Hg(Math.round(e).toString(16)),Hg(Math.round(t).toString(16)),Hg(Math.round(r).toString(16))];return i.join("")}Xi.equals=function(e,t){return!e||!t?!1:Xi(e).toRgbString()==Xi(t).toRgbString()};Xi.random=function(){return Xi.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function e6e(e,t){t=t===0?0:t||10;var r=Xi(e).toHsl();return r.s-=t/100,r.s=CM(r.s),Xi(r)}function t6e(e,t){t=t===0?0:t||10;var r=Xi(e).toHsl();return r.s+=t/100,r.s=CM(r.s),Xi(r)}function r6e(e){return Xi(e).desaturate(100)}function n6e(e,t){t=t===0?0:t||10;var r=Xi(e).toHsl();return r.l+=t/100,r.l=CM(r.l),Xi(r)}function i6e(e,t){t=t===0?0:t||10;var r=Xi(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),Xi(r)}function a6e(e,t){t=t===0?0:t||10;var r=Xi(e).toHsl();return r.l-=t/100,r.l=CM(r.l),Xi(r)}function o6e(e,t){var r=Xi(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,Xi(r)}function s6e(e){var t=Xi(e).toHsl();return t.h=(t.h+180)%360,Xi(t)}function Cee(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Xi(e).toHsl(),n=[Xi(e)],i=360/t,a=1;a<t;a++)n.push(Xi({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function l6e(e){var t=Xi(e).toHsl(),r=t.h;return[Xi(e),Xi({h:(r+72)%360,s:t.s,l:t.l}),Xi({h:(r+216)%360,s:t.s,l:t.l})]}function u6e(e,t,r){t=t||6,r=r||30;var n=Xi(e).toHsl(),i=360/r,a=[Xi(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(Xi(n));return a}function c6e(e,t){t=t||6;for(var r=Xi(e).toHsv(),n=r.h,i=r.s,a=r.v,s=[],o=1/t;t--;)s.push(Xi({h:n,s:i,v:a})),a=(a+o)%1;return s}Xi.mix=function(e,t,r){r=r===0?0:r||50;var n=Xi(e).toRgb(),i=Xi(t).toRgb(),a=r/100,s={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return Xi(s)};Xi.readability=function(e,t){var r=Xi(e),n=Xi(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Xi.isReadable=function(e,t,r){var n=Xi.readability(e,t),i,a;switch(a=!1,i=g6e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};Xi.mostReadable=function(e,t,r){var n=null,i=0,a,s,o,l;r=r||{},s=r.includeFallbackColors,o=r.level,l=r.size;for(var u=0;u<t.length;u++)a=Xi.readability(e,t[u]),a>i&&(i=a,n=Xi(t[u]));return Xi.isReadable(e,n,{level:o,size:l})||!s?n:(r.includeFallbackColors=!1,Xi.mostReadable(e,["#fff","#000"],r))};var kj=Xi.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f6e=Xi.hexNames=d6e(kj);function d6e(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Fge(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Cu(e,t){h6e(e)&&(e="100%");var r=p6e(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function CM(e){return Math.min(1,Math.max(0,e))}function Yp(e){return parseInt(e,16)}function h6e(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function p6e(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Hg(e){return e.length==1?"0"+e:""+e}function pC(e){return e<=1&&(e=e*100+"%"),e}function Lge(e){return Math.round(parseFloat(e)*255).toString(16)}function Pee(e){return Yp(e)/255}var Dg=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ly(e){return!!Dg.CSS_UNIT.exec(e)}function m6e(e){e=e.replace(G4e,"").replace(K4e,"").toLowerCase();var t=!1;if(kj[e])e=kj[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Dg.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Dg.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Dg.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Dg.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Dg.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Dg.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Dg.hex8.exec(e))?{r:Yp(r[1]),g:Yp(r[2]),b:Yp(r[3]),a:Pee(r[4]),format:t?"name":"hex8"}:(r=Dg.hex6.exec(e))?{r:Yp(r[1]),g:Yp(r[2]),b:Yp(r[3]),format:t?"name":"hex"}:(r=Dg.hex4.exec(e))?{r:Yp(r[1]+""+r[1]),g:Yp(r[2]+""+r[2]),b:Yp(r[3]+""+r[3]),a:Pee(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Dg.hex3.exec(e))?{r:Yp(r[1]+""+r[1]),g:Yp(r[2]+""+r[2]),b:Yp(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function g6e(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Tee=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return V4e(r,function(a){if(t[a]&&(n+=1,isNaN(t[a])||(i+=1),a==="s"||a==="l")){var s=/^\d+%$/;s.test(t[a])&&(i+=1)}}),n===i?t:!1},mC=function(t,r){var n=t.hex?Xi(t.hex):Xi(t),i=n.toHsl(),a=n.toHsv(),s=n.toRgb(),o=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=o==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+o,rgb:s,hsv:a,oldHue:t.h||r||i.h,source:t.source}},Db=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&Xi(t).isValid()},kq=function(t){if(!t)return"#fff";var r=mC(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},A5=function(t,r){var n=t.replace("°","");return Xi(r+" ("+n+")")._ok},kE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function y6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hh=function(t){var r=function(n){_6e(i,n);function i(a){y6e(this,i);var s=b6e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(o,l){var u=Tee(o);if(u){var f=mC(o,o.h||s.state.oldHue);s.setState(f),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,f,l),s.props.onChange&&s.props.onChange(f,l)}},s.handleSwatchHover=function(o,l){var u=Tee(o);if(u){var f=mC(o,o.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(f,l)}},s.state=kE({},mC(a.color,0)),s.debounce=Mge(function(o,l,u){o(l,u)},100),s}return v6e(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),ze.createElement(t,kE({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,o){return kE({},mC(s.color,o.oldHue))}}]),i}(ne.PureComponent||ne.Component);return r.propTypes=kE({},t.propTypes),r.defaultProps=kE({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},w6e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function S6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ree(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function E6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){E6e(i,n);function i(){var a,s,o,l;S6e(this,i);for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];return l=(s=(o=Ree(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(f))),o),o.state={focus:!1},o.handleFocus=function(){return o.setState({focus:!0})},o.handleBlur=function(){return o.setState({focus:!1})},s),Ree(o,l)}return x6e(i,[{key:"render",value:function(){return ze.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},ze.createElement(t,w6e({},this.props,this.state)))}}]),i}(ze.Component)},Aee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P6e=13,T6e=function(t){var r=t.color,n=t.style,i=t.onClick,a=i===void 0?function(){}:i,s=t.onHover,o=t.title,l=o===void 0?r:o,u=t.children,f=t.focus,h=t.focusStyle,p=h===void 0?{}:h,m=r==="transparent",v=Ba({default:{swatch:Aee({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?p:{})}}),w=function(S){return a(r,S)},x=function(S){return S.keyCode===P6e&&a(r,S)},T=function(S){return s(r,S)},A={};return s&&(A.onMouseOver=T),ze.createElement("div",Aee({style:v.swatch,onClick:w,title:l,tabIndex:0,onKeyDown:x},A),u,m&&ze.createElement(vS,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Iw=C6e(T6e);var R6e=function(t){var r=t.direction,n=Ba({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return ze.createElement("div",{style:n.picker})},A6e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nge=function(t){var r=t.rgb,n=t.hsl,i=t.width,a=t.height,s=t.onChange,o=t.direction,l=t.style,u=t.renderers,f=t.pointer,h=t.className,p=h===void 0?"":h,m=Ba({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return ze.createElement("div",{style:m.picker,className:"alpha-picker "+p},ze.createElement(Sq,A6e({},m.alpha,{rgb:r,hsl:n,pointer:f,renderers:u,onChange:s,direction:o})))};Nge.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:R6e};const O6e=Hh(Nge);function $ge(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var I6e="__lodash_hash_undefined__";function M6e(e){return this.__data__.set(e,I6e),this}function k6e(e){return this.__data__.has(e)}function g2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new m0;++t<r;)this.add(e[t])}g2.prototype.add=g2.prototype.push=M6e;g2.prototype.has=k6e;function D6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function zge(e,t){return e.has(t)}var F6e=1,L6e=2;function Bge(e,t,r,n,i,a){var s=r&F6e,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var h=-1,p=!0,m=r&L6e?new g2:void 0;for(a.set(e,t),a.set(t,e);++h<o;){var v=e[h],w=t[h];if(n)var x=s?n(w,v,h,t,e,a):n(v,w,h,e,t,a);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!D6e(t,function(T,A){if(!zge(m,A)&&(v===T||i(v,T,r,n,a)))return m.push(A)})){p=!1;break}}else if(!(v===w||i(v,w,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}function N6e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Dq(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $6e=1,z6e=2,B6e="[object Boolean]",j6e="[object Date]",U6e="[object Error]",q6e="[object Map]",H6e="[object Number]",W6e="[object RegExp]",V6e="[object Set]",G6e="[object String]",K6e="[object Symbol]",Z6e="[object ArrayBuffer]",Y6e="[object DataView]",Oee=ty?ty.prototype:void 0,O5=Oee?Oee.valueOf:void 0;function X6e(e,t,r,n,i,a,s){switch(r){case Y6e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Z6e:return!(e.byteLength!=t.byteLength||!a(new QA(e),new QA(t)));case B6e:case j6e:case H6e:return bP(+e,+t);case U6e:return e.name==t.name&&e.message==t.message;case W6e:case G6e:return e==t+"";case q6e:var o=N6e;case V6e:var l=n&$6e;if(o||(o=Dq),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=z6e,s.set(e,t);var f=Bge(o(e),o(t),n,i,a,s);return s.delete(e),f;case K6e:if(O5)return O5.call(e)==O5.call(t)}return!1}function J6e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Q6e(e,t,r){var n=t(e);return yp(e)?n:J6e(n,r(e))}function eze(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}function tze(){return[]}var rze=Object.prototype,nze=rze.propertyIsEnumerable,Iee=Object.getOwnPropertySymbols,ize=Iee?function(e){return e==null?[]:(e=Object(e),eze(Iee(e),function(t){return nze.call(e,t)}))}:tze;function Dj(e){return Q6e(e,Mq,ize)}var aze=1,oze=Object.prototype,sze=oze.hasOwnProperty;function lze(e,t,r,n,i,a){var s=r&aze,o=Dj(e),l=o.length,u=Dj(t),f=u.length;if(l!=f&&!s)return!1;for(var h=l;h--;){var p=o[h];if(!(s?p in t:sze.call(t,p)))return!1}var m=a.get(e),v=a.get(t);if(m&&v)return m==t&&v==e;var w=!0;a.set(e,t),a.set(t,e);for(var x=s;++h<l;){p=o[h];var T=e[p],A=t[p];if(n)var P=s?n(A,T,p,t,e,a):n(T,A,p,e,t,a);if(!(P===void 0?T===A||i(T,A,r,n,a):P)){w=!1;break}x||(x=p=="constructor")}if(w&&!x){var S=e.constructor,E=t.constructor;S!=E&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(w=!1)}return a.delete(e),a.delete(t),w}var Fj=Ow(lv,"DataView"),Lj=Ow(lv,"Promise"),Sx=Ow(lv,"Set"),Nj=Ow(lv,"WeakMap"),Mee="[object Map]",uze="[object Object]",kee="[object Promise]",Dee="[object Set]",Fee="[object WeakMap]",Lee="[object DataView]",cze=Aw(Fj),fze=Aw(h2),dze=Aw(Lj),hze=Aw(Sx),pze=Aw(Nj),zg=Rw;(Fj&&zg(new Fj(new ArrayBuffer(1)))!=Lee||h2&&zg(new h2)!=Mee||Lj&&zg(Lj.resolve())!=kee||Sx&&zg(new Sx)!=Dee||Nj&&zg(new Nj)!=Fee)&&(zg=function(e){var t=Rw(e),r=t==uze?e.constructor:void 0,n=r?Aw(r):"";if(n)switch(n){case cze:return Lee;case fze:return Mee;case dze:return kee;case hze:return Dee;case pze:return Fee}return t});var mze=1,Nee="[object Arguments]",$ee="[object Array]",sR="[object Object]",gze=Object.prototype,zee=gze.hasOwnProperty;function vze(e,t,r,n,i,a){var s=yp(e),o=yp(t),l=s?$ee:zg(e),u=o?$ee:zg(t);l=l==Nee?sR:l,u=u==Nee?sR:u;var f=l==sR,h=u==sR,p=l==u;if(p&&m2(e)){if(!m2(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Kg),s||Oq(e)?Bge(e,t,r,n,i,a):X6e(e,t,l,r,n,i,a);if(!(r&mze)){var m=f&&zee.call(e,"__wrapped__"),v=h&&zee.call(t,"__wrapped__");if(m||v){var w=m?e.value():e,x=v?t.value():t;return a||(a=new Kg),i(w,x,r,n,a)}}return p?(a||(a=new Kg),lze(e,t,r,n,i,a)):!1}function PM(e,t,r,n,i){return e===t?!0:e==null||t==null||!ry(e)&&!ry(t)?e!==e&&t!==t:vze(e,t,r,n,PM,i)}var yze=1,bze=2;function _ze(e,t,r,n){var i=r.length,a=i;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var o=s[0],l=e[o],u=s[1];if(s[2]){if(l===void 0&&!(o in e))return!1}else{var f=new Kg,h;if(!(h===void 0?PM(u,l,yze|bze,n,f):h))return!1}}return!0}function jge(e){return e===e&&!jh(e)}function wze(e){for(var t=Mq(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,jge(i)]}return t}function Uge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function xze(e){var t=wze(e);return t.length==1&&t[0][2]?Uge(t[0][0],t[0][1]):function(r){return r===e||_ze(r,e,t)}}var Sze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eze=/^\w*$/;function Fq(e,t){if(yp(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||SM(e)?!0:Eze.test(e)||!Sze.test(e)||t!=null&&e in Object(t)}var Cze="Expected a function";function Lq(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Cze);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Lq.Cache||m0),r}Lq.Cache=m0;var Pze=500;function Tze(e){var t=Lq(e,function(n){return r.size===Pze&&r.clear(),n}),r=t.cache;return t}var Rze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aze=/\\(\\)?/g,Oze=Tze(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rze,function(r,n,i,a){t.push(i?a.replace(Aze,"$1"):n||r)}),t}),Bee=ty?ty.prototype:void 0,jee=Bee?Bee.toString:void 0;function qge(e){if(typeof e=="string")return e;if(yp(e))return $ge(e,qge)+"";if(SM(e))return jee?jee.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ize(e){return e==null?"":qge(e)}function Nq(e,t){return yp(e)?e:Fq(e,t)?[e]:Oze(Ize(e))}function wP(e){if(typeof e=="string"||SM(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Hge(e,t){t=Nq(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wP(t[r++])];return r&&r==n?e:void 0}function Mze(e,t,r){var n=e==null?void 0:Hge(e,t);return n===void 0?r:n}function kze(e,t){return e!=null&&t in Object(e)}function Dze(e,t,r){t=Nq(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=wP(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Rq(i)&&wM(s,i)&&(yp(e)||eO(e)))}function Fze(e,t){return e!=null&&Dze(e,t,kze)}var Lze=1,Nze=2;function $ze(e,t){return Fq(e)&&jge(t)?Uge(wP(e),t):function(r){var n=Mze(r,e);return n===void 0&&n===t?Fze(r,e):PM(t,n,Lze|Nze)}}function zze(e){return function(t){return t==null?void 0:t[e]}}function Bze(e){return function(t){return Hge(t,e)}}function jze(e){return Fq(e)?zze(wP(e)):Bze(e)}function Wge(e){return typeof e=="function"?e:e==null?xM:typeof e=="object"?yp(e)?$ze(e[0],e[1]):xze(e):jze(e)}function Uze(e,t){var r=-1,n=bS(e)?Array(e.length):[];return Dge(e,function(i,a,s){n[++r]=t(i,a,s)}),n}function Mw(e,t){var r=yp(e)?$ge:Uze;return r(e,Wge(t))}var qze=function(t){var r=t.colors,n=t.onClick,i=t.onSwatchHover,a=Ba({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return ze.createElement("div",{style:a.swatches},Mw(r,function(s){return ze.createElement(Iw,{key:s,color:s,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),ze.createElement("div",{style:a.clear}))},$q=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,a=t.colors,s=t.width,o=t.triangle,l=t.styles,u=l===void 0?{}:l,f=t.className,h=f===void 0?"":f,p=i==="transparent",m=function(x,T){Db(x)&&r({hex:x,source:"hex"},T)},v=Ba(Ep({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:kq(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":o==="hide"});return ze.createElement("div",{style:v.card,className:"block-picker "+h},ze.createElement("div",{style:v.triangle}),ze.createElement("div",{style:v.head},p&&ze.createElement(vS,{borderRadius:"6px 6px 0 0"}),ze.createElement("div",{style:v.label},i)),ze.createElement("div",{style:v.body},ze.createElement(qze,{colors:a,onClick:m,onSwatchHover:n}),ze.createElement(is,{style:{input:v.input},value:i,onChange:m})))};$q.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),colors:Wr.arrayOf(Wr.string),triangle:Wr.oneOf(["top","hide"]),styles:Wr.object};$q.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};const Hze=Hh($q);var K1={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Z1={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Y1={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},X1={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},J1={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Q1={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},ex={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},tx={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},rx={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},gC={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},nx={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},ix={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},ax={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},ox={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},sx={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},lx={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},ux={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},cx={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},Vge=function(t){var r=t.color,n=t.onClick,i=t.onSwatchHover,a=t.hover,s=t.active,o=t.circleSize,l=t.circleSpacing,u=Ba({default:{swatch:{width:o,height:o,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(o/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:s});return ze.createElement("div",{style:u.swatch},ze.createElement(Iw,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};Vge.defaultProps={circleSize:28,circleSpacing:14};const Wze=xq.handleHover(Vge);var zq=function(t){var r=t.width,n=t.onChange,i=t.onSwatchHover,a=t.colors,s=t.hex,o=t.circleSize,l=t.styles,u=l===void 0?{}:l,f=t.circleSpacing,h=t.className,p=h===void 0?"":h,m=Ba(Ep({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},u)),v=function(x,T){return n({hex:x,source:"hex"},T)};return ze.createElement("div",{style:m.card,className:"circle-picker "+p},Mw(a,function(w){return ze.createElement(Wze,{key:w,color:w,onClick:v,onSwatchHover:i,active:s===w.toLowerCase(),circleSize:o,circleSpacing:f})}))};zq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),circleSize:Wr.number,circleSpacing:Wr.number,styles:Wr.object};zq.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[K1[500],Z1[500],Y1[500],X1[500],J1[500],Q1[500],ex[500],tx[500],rx[500],gC[500],nx[500],ix[500],ax[500],ox[500],sx[500],lx[500],ux[500],cx[500]],styles:{}};const Vze=Hh(zq);function Uee(e){return e===void 0}var lR={},qee;function Gze(){if(qee)return lR;qee=1,Object.defineProperty(lR,"__esModule",{value:!0});var e=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},t=vn(),r=n(t);function n(s){return s&&s.__esModule?s:{default:s}}function i(s,o){var l={};for(var u in s)o.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var a=24;return lR.default=function(s){var o=s.fill,l=o===void 0?"currentColor":o,u=s.width,f=u===void 0?a:u,h=s.height,p=h===void 0?a:h,m=s.style,v=m===void 0?{}:m,w=i(s,["fill","width","height","style"]);return r.default.createElement("svg",e({viewBox:"0 0 "+a+" "+a,style:e({fill:l,width:f,height:p},v)},w),r.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},lR}var Kze=Gze();const Zze=pl(Kze);var Yze=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Xze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Qze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gge=function(e){Qze(t,e);function t(r){Xze(this,t);var n=Jze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?Db(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(Uee(i.s)?n.props.hsl.s:i.s),l:Number(Uee(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return Yze(t,[{key:"render",value:function(){var n=this,i=Ba({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=ze.createElement("div",{style:i.fields,className:"flexbox-fix"},ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=ze.createElement("div",{style:i.fields,className:"flexbox-fix"},ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),ze.createElement("div",{style:i.alpha},ze.createElement(is,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=ze.createElement("div",{style:i.fields,className:"flexbox-fix"},ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),ze.createElement("div",{style:i.field},ze.createElement(is,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),ze.createElement("div",{style:i.alpha},ze.createElement(is,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),ze.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,ze.createElement("div",{style:i.toggle},ze.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(o){return n.icon=o}},ze.createElement(Zze,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(ze.Component);Gge.defaultProps={view:"hex"};var Hee=function(){var t=Ba({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ze.createElement("div",{style:t.picker})},e8e=function(){var t=Ba({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return ze.createElement("div",{style:t.picker})},Bq=function(t){var r=t.width,n=t.onChange,i=t.disableAlpha,a=t.rgb,s=t.hsl,o=t.hsv,l=t.hex,u=t.renderers,f=t.styles,h=f===void 0?{}:f,p=t.className,m=p===void 0?"":p,v=t.defaultView,w=Ba(Ep({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return ze.createElement("div",{style:w.picker,className:"chrome-picker "+m},ze.createElement("div",{style:w.saturation},ze.createElement(EM,{style:w.Saturation,hsl:s,hsv:o,pointer:e8e,onChange:n})),ze.createElement("div",{style:w.body},ze.createElement("div",{style:w.controls,className:"flexbox-fix"},ze.createElement("div",{style:w.color},ze.createElement("div",{style:w.swatch},ze.createElement("div",{style:w.active}),ze.createElement(vS,{renderers:u}))),ze.createElement("div",{style:w.toggles},ze.createElement("div",{style:w.hue},ze.createElement(yS,{style:w.Hue,hsl:s,pointer:Hee,onChange:n})),ze.createElement("div",{style:w.alpha},ze.createElement(Sq,{style:w.Alpha,rgb:a,hsl:s,pointer:Hee,renderers:u,onChange:n})))),ze.createElement(Gge,{rgb:a,hsl:s,hex:l,view:v,onChange:n,disableAlpha:i})))};Bq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),disableAlpha:Wr.bool,styles:Wr.object,defaultView:Wr.oneOf(["hex","rgb","hsl"])};Bq.defaultProps={width:225,disableAlpha:!1,styles:{}};const Wee=Hh(Bq);var t8e=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,s=t.active,o=Ba({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:kq(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return ze.createElement(Iw,{style:o.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},ze.createElement("div",{style:o.dot}))},r8e=function(t){var r=t.hex,n=t.rgb,i=t.onChange,a=Ba({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return ze.createElement("div",{style:a.fields,className:"flexbox-fix"},ze.createElement("div",{style:a.active}),ze.createElement(is,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:s}),ze.createElement(is,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:s}),ze.createElement(is,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:s}),ze.createElement(is,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:s}))},jq=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.colors,a=t.hex,s=t.rgb,o=t.styles,l=o===void 0?{}:o,u=t.className,f=u===void 0?"":u,h=Ba(Ep({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,w){v.hex?Db(v.hex)&&r({hex:v.hex,source:"hex"},w):r(v,w)};return ze.createElement(_P,{style:h.Compact,styles:l},ze.createElement("div",{style:h.compact,className:"compact-picker "+f},ze.createElement("div",null,Mw(i,function(m){return ze.createElement(t8e,{key:m,color:m,active:m.toLowerCase()===a,onClick:p,onSwatchHover:n})}),ze.createElement("div",{style:h.clear})),ze.createElement(r8e,{hex:a,rgb:s,onChange:p})))};jq.propTypes={colors:Wr.arrayOf(Wr.string),styles:Wr.object};jq.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};const n8e=Hh(jq);var i8e=function(t){var r=t.hover,n=t.color,i=t.onClick,a=t.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},o=Ba({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:r});return ze.createElement("div",{style:o.swatch},ze.createElement(Iw,{color:n,onClick:i,onHover:a,focusStyle:s}))};const a8e=xq.handleHover(i8e);var Uq=function(t){var r=t.width,n=t.colors,i=t.onChange,a=t.onSwatchHover,s=t.triangle,o=t.styles,l=o===void 0?{}:o,u=t.className,f=u===void 0?"":u,h=Ba(Ep({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),p=function(v,w){return i({hex:v,source:"hex"},w)};return ze.createElement("div",{style:h.card,className:"github-picker "+f},ze.createElement("div",{style:h.triangleShadow}),ze.createElement("div",{style:h.triangle}),Mw(n,function(m){return ze.createElement(a8e,{color:m,key:m,onClick:p,onSwatchHover:a})}))};Uq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),colors:Wr.arrayOf(Wr.string),triangle:Wr.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Wr.object};Uq.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};const o8e=Hh(Uq);var s8e=function(t){var r=t.direction,n=Ba({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return ze.createElement("div",{style:n.picker})},l8e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qq=function(t){var r=t.width,n=t.height,i=t.onChange,a=t.hsl,s=t.direction,o=t.pointer,l=t.styles,u=l===void 0?{}:l,f=t.className,h=f===void 0?"":f,p=Ba(Ep({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),m=function(w){return i({a:1,h:w.h,l:.5,s:1})};return ze.createElement("div",{style:p.picker,className:"hue-picker "+h},ze.createElement(yS,l8e({},p.hue,{hsl:a,pointer:o,onChange:m,direction:s})))};qq.propTypes={styles:Wr.object};qq.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s8e,styles:{}};const u8e=Hh(qq);var c8e=function(t){var r=t.onChange,n=t.hex,i=t.rgb,a=t.styles,s=a===void 0?{}:a,o=t.className,l=o===void 0?"":o,u=Ba(Ep({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),f=function(p,m){p.hex?Db(p.hex)&&r({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&r({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return ze.createElement(_P,{styles:s},ze.createElement("div",{style:u.material,className:"material-picker "+l},ze.createElement(is,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:f}),ze.createElement("div",{style:u.split,className:"flexbox-fix"},ze.createElement("div",{style:u.third},ze.createElement(is,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:f})),ze.createElement("div",{style:u.third},ze.createElement(is,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:f})),ze.createElement("div",{style:u.third},ze.createElement(is,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:f})))))};const f8e=Hh(c8e);var d8e=function(t){var r=t.onChange,n=t.rgb,i=t.hsv,a=t.hex,s=Ba({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),o=function(u,f){u["#"]?Db(u["#"])&&r({hex:u["#"],source:"hex"},f):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},f):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},f)};return ze.createElement("div",{style:s.fields},ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:o}),ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:o}),ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:o}),ze.createElement("div",{style:s.divider}),ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:o}),ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:o}),ze.createElement(is,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:o}),ze.createElement("div",{style:s.divider}),ze.createElement(is,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:a.replace("#",""),onChange:o}),ze.createElement("div",{style:s.fieldSymbols},ze.createElement("div",{style:s.symbol},"°"),ze.createElement("div",{style:s.symbol},"%"),ze.createElement("div",{style:s.symbol},"%")))},h8e=function(t){var r=t.hsl,n=Ba({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return ze.createElement("div",{style:n.picker})},p8e=function(){var t=Ba({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return ze.createElement("div",{style:t.pointer},ze.createElement("div",{style:t.left},ze.createElement("div",{style:t.leftInside})),ze.createElement("div",{style:t.right},ze.createElement("div",{style:t.rightInside})))},Vee=function(t){var r=t.onClick,n=t.label,i=t.children,a=t.active,s=Ba({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return ze.createElement("div",{style:s.button,onClick:r},n||i)},m8e=function(t){var r=t.rgb,n=t.currentColor,i=Ba({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return ze.createElement("div",null,ze.createElement("div",{style:i.label},"new"),ze.createElement("div",{style:i.swatches},ze.createElement("div",{style:i.new}),ze.createElement("div",{style:i.current})),ze.createElement("div",{style:i.label},"current"))},g8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function v8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function b8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hq=function(e){b8e(t,e);function t(r){v8e(this,t);var n=y8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return g8e(t,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,s=n.className,o=s===void 0?"":s,l=Ba(Ep({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return ze.createElement("div",{style:l.picker,className:"photoshop-picker "+o},ze.createElement("div",{style:l.head},this.props.header),ze.createElement("div",{style:l.body,className:"flexbox-fix"},ze.createElement("div",{style:l.saturation},ze.createElement(EM,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:h8e,onChange:this.props.onChange})),ze.createElement("div",{style:l.hue},ze.createElement(yS,{direction:"vertical",hsl:this.props.hsl,pointer:p8e,onChange:this.props.onChange})),ze.createElement("div",{style:l.controls},ze.createElement("div",{style:l.top,className:"flexbox-fix"},ze.createElement("div",{style:l.previews},ze.createElement(m8e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),ze.createElement("div",{style:l.actions},ze.createElement(Vee,{label:"OK",onClick:this.props.onAccept,active:!0}),ze.createElement(Vee,{label:"Cancel",onClick:this.props.onCancel}),ze.createElement(d8e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(ze.Component);Hq.propTypes={header:Wr.string,styles:Wr.object};Hq.defaultProps={header:"Color Picker",styles:{}};const _8e=Hh(Hq);var w8e=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,a=t.hex,s=t.disableAlpha,o=Ba({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(f,h){f.hex?Db(f.hex)&&r({hex:f.hex,source:"hex"},h):f.r||f.g||f.b?r({r:f.r||n.r,g:f.g||n.g,b:f.b||n.b,a:n.a,source:"rgb"},h):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,r({h:i.h,s:i.s,l:i.l,a:f.a,source:"rgb"},h))};return ze.createElement("div",{style:o.fields,className:"flexbox-fix"},ze.createElement("div",{style:o.double},ze.createElement(is,{style:{input:o.input,label:o.label},label:"hex",value:a.replace("#",""),onChange:l})),ze.createElement("div",{style:o.single},ze.createElement(is,{style:{input:o.input,label:o.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),ze.createElement("div",{style:o.single},ze.createElement(is,{style:{input:o.input,label:o.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),ze.createElement("div",{style:o.single},ze.createElement(is,{style:{input:o.input,label:o.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),ze.createElement("div",{style:o.alpha},ze.createElement(is,{style:{input:o.input,label:o.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},x8e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kge=function(t){var r=t.colors,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,s=Ba({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),o=function(u,f){i({hex:u,source:"hex"},f)};return ze.createElement("div",{style:s.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,f=""+u.color+(u.title||"");return ze.createElement("div",{key:f,style:s.swatchWrap},ze.createElement(Iw,x8e({},u,{style:s.swatch,onClick:o,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};Kge.propTypes={colors:Wr.arrayOf(Wr.oneOfType([Wr.string,Wr.shape({color:Wr.string,title:Wr.string})])).isRequired};var S8e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wq=function(t){var r=t.width,n=t.rgb,i=t.hex,a=t.hsv,s=t.hsl,o=t.onChange,l=t.onSwatchHover,u=t.disableAlpha,f=t.presetColors,h=t.renderers,p=t.styles,m=p===void 0?{}:p,v=t.className,w=v===void 0?"":v,x=Ba(Ep({default:S8e({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:u});return ze.createElement("div",{style:x.picker,className:"sketch-picker "+w},ze.createElement("div",{style:x.saturation},ze.createElement(EM,{style:x.Saturation,hsl:s,hsv:a,onChange:o})),ze.createElement("div",{style:x.controls,className:"flexbox-fix"},ze.createElement("div",{style:x.sliders},ze.createElement("div",{style:x.hue},ze.createElement(yS,{style:x.Hue,hsl:s,onChange:o})),ze.createElement("div",{style:x.alpha},ze.createElement(Sq,{style:x.Alpha,rgb:n,hsl:s,renderers:h,onChange:o}))),ze.createElement("div",{style:x.color},ze.createElement(vS,null),ze.createElement("div",{style:x.activeColor}))),ze.createElement(w8e,{rgb:n,hsl:s,hex:i,onChange:o,disableAlpha:u}),ze.createElement(Kge,{colors:f,onClick:o,onSwatchHover:l}))};Wq.propTypes={disableAlpha:Wr.bool,width:Wr.oneOfType([Wr.string,Wr.number]),styles:Wr.object};Wq.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const E8e=Hh(Wq);var DE=function(t){var r=t.hsl,n=t.offset,i=t.onClick,a=i===void 0?function(){}:i,s=t.active,o=t.first,l=t.last,u=Ba({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:o,last:l}),f=function(p){return a({h:r.h,s:.5,l:n,source:"hsl"},p)};return ze.createElement("div",{style:u.swatch,onClick:f})},C8e=function(t){var r=t.onClick,n=t.hsl,i=Ba({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return ze.createElement("div",{style:i.swatches},ze.createElement("div",{style:i.swatch},ze.createElement(DE,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),ze.createElement("div",{style:i.swatch},ze.createElement(DE,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),ze.createElement("div",{style:i.swatch},ze.createElement(DE,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),ze.createElement("div",{style:i.swatch},ze.createElement(DE,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),ze.createElement("div",{style:i.swatch},ze.createElement(DE,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),ze.createElement("div",{style:i.clear}))},P8e=function(){var t=Ba({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ze.createElement("div",{style:t.picker})},Vq=function(t){var r=t.hsl,n=t.onChange,i=t.pointer,a=t.styles,s=a===void 0?{}:a,o=t.className,l=o===void 0?"":o,u=Ba(Ep({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return ze.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},ze.createElement("div",{style:u.hue},ze.createElement(yS,{style:u.Hue,hsl:r,pointer:i,onChange:n})),ze.createElement("div",{style:u.swatches},ze.createElement(C8e,{hsl:r,onClick:n})))};Vq.propTypes={styles:Wr.object};Vq.defaultProps={pointer:P8e,styles:{}};const T8e=Hh(Vq);var uR={},Gee;function R8e(){if(Gee)return uR;Gee=1,Object.defineProperty(uR,"__esModule",{value:!0});var e=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},t=vn(),r=n(t);function n(s){return s&&s.__esModule?s:{default:s}}function i(s,o){var l={};for(var u in s)o.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var a=24;return uR.default=function(s){var o=s.fill,l=o===void 0?"currentColor":o,u=s.width,f=u===void 0?a:u,h=s.height,p=h===void 0?a:h,m=s.style,v=m===void 0?{}:m,w=i(s,["fill","width","height","style"]);return r.default.createElement("svg",e({viewBox:"0 0 "+a+" "+a,style:e({fill:l,width:f,height:p},v)},w),r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},uR}var A8e=R8e();const O8e=pl(A8e);var I8e=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,s=t.first,o=t.last,l=t.active,u=Ba({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:kq(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:o,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return ze.createElement(Iw,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},ze.createElement("div",{style:u.check},ze.createElement(O8e,null)))},M8e=function(t){var r=t.onClick,n=t.onSwatchHover,i=t.group,a=t.active,s=Ba({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return ze.createElement("div",{style:s.group},Mw(i,function(o,l){return ze.createElement(I8e,{key:o,color:o,active:o.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},Gq=function(t){var r=t.width,n=t.height,i=t.onChange,a=t.onSwatchHover,s=t.colors,o=t.hex,l=t.styles,u=l===void 0?{}:l,f=t.className,h=f===void 0?"":f,p=Ba(Ep({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),m=function(w,x){return i({hex:w,source:"hex"},x)};return ze.createElement("div",{style:p.picker,className:"swatches-picker "+h},ze.createElement(_P,null,ze.createElement("div",{style:p.overflow},ze.createElement("div",{style:p.body},Mw(s,function(v){return ze.createElement(M8e,{key:v.toString(),group:v,active:o,onClick:m,onSwatchHover:a})}),ze.createElement("div",{style:p.clear})))))};Gq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),height:Wr.oneOfType([Wr.string,Wr.number]),colors:Wr.arrayOf(Wr.arrayOf(Wr.string)),styles:Wr.object};Gq.defaultProps={width:320,height:240,colors:[[K1[900],K1[700],K1[500],K1[300],K1[100]],[Z1[900],Z1[700],Z1[500],Z1[300],Z1[100]],[Y1[900],Y1[700],Y1[500],Y1[300],Y1[100]],[X1[900],X1[700],X1[500],X1[300],X1[100]],[J1[900],J1[700],J1[500],J1[300],J1[100]],[Q1[900],Q1[700],Q1[500],Q1[300],Q1[100]],[ex[900],ex[700],ex[500],ex[300],ex[100]],[tx[900],tx[700],tx[500],tx[300],tx[100]],[rx[900],rx[700],rx[500],rx[300],rx[100]],["#194D33",gC[700],gC[500],gC[300],gC[100]],[nx[900],nx[700],nx[500],nx[300],nx[100]],[ix[900],ix[700],ix[500],ix[300],ix[100]],[ax[900],ax[700],ax[500],ax[300],ax[100]],[ox[900],ox[700],ox[500],ox[300],ox[100]],[sx[900],sx[700],sx[500],sx[300],sx[100]],[lx[900],lx[700],lx[500],lx[300],lx[100]],[ux[900],ux[700],ux[500],ux[300],ux[100]],[cx[900],cx[700],cx[500],cx[300],cx[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};const k8e=Hh(Gq);var Kq=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,a=t.colors,s=t.width,o=t.triangle,l=t.styles,u=l===void 0?{}:l,f=t.className,h=f===void 0?"":f,p=Ba(Ep({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right"}),m=function(w,x){Db(w)&&r({hex:w,source:"hex"},x)};return ze.createElement("div",{style:p.card,className:"twitter-picker "+h},ze.createElement("div",{style:p.triangleShadow}),ze.createElement("div",{style:p.triangle}),ze.createElement("div",{style:p.body},Mw(a,function(v,w){return ze.createElement(Iw,{key:w,color:v,hex:v,style:p.swatch,onClick:m,onHover:n,focusStyle:{boxShadow:"0 0 4px "+v}})}),ze.createElement("div",{style:p.hash},"#"),ze.createElement(is,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),ze.createElement("div",{style:p.clear})))};Kq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),triangle:Wr.oneOf(["hide","top-left","top-right"]),colors:Wr.arrayOf(Wr.string),styles:Wr.object};Kq.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};const D8e=Hh(Kq);var Zq=function(t){var r=Ba({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return ze.createElement("div",{style:r.picker})};Zq.propTypes={hsl:Wr.shape({h:Wr.number,s:Wr.number,l:Wr.number,a:Wr.number})};Zq.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Yq=function(t){var r=Ba({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return ze.createElement("div",{style:r.picker})};Yq.propTypes={hsl:Wr.shape({h:Wr.number,s:Wr.number,l:Wr.number,a:Wr.number})};Yq.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var F8e=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,a=t.hex,s=t.hsv,o=function(m,v){if(m.hex)Db(m.hex)&&r({hex:m.hex,source:"hex"},v);else if(m.rgb){var w=m.rgb.split(",");A5(m.rgb,"rgb")&&r({r:w[0],g:w[1],b:w[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");A5(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),r({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var T=m.hsl.split(",");A5(m.hsl,"hsl")&&(T[2]=T[2].replace("%",""),T[1]=T[1].replace("%",""),T[0]=T[0].replace("°",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),r({h:Number(T[0]),s:Number(T[1]),v:Number(T[2]),source:"hsl"},v))}},l=Ba({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,f=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return ze.createElement("div",{style:l.wrap,className:"flexbox-fix"},ze.createElement("div",{style:l.fields},ze.createElement("div",{style:l.double},ze.createElement(is,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:o})),ze.createElement("div",{style:l.column},ze.createElement("div",{style:l.single},ze.createElement(is,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:o})),ze.createElement("div",{style:l.single},ze.createElement(is,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:o})),ze.createElement("div",{style:l.single},ze.createElement(is,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:o})))))},Xq=function(t){var r=t.width,n=t.onChange,i=t.rgb,a=t.hsl,s=t.hsv,o=t.hex,l=t.header,u=t.styles,f=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,m=Ba(Ep({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return ze.createElement("div",{style:m.picker,className:"google-picker "+p},ze.createElement("div",{style:m.head},l),ze.createElement("div",{style:m.swatch}),ze.createElement("div",{style:m.saturation},ze.createElement(EM,{hsl:a,hsv:s,pointer:Zq,onChange:n})),ze.createElement("div",{style:m.body},ze.createElement("div",{style:m.controls,className:"flexbox-fix"},ze.createElement("div",{style:m.hue},ze.createElement(yS,{style:m.Hue,hsl:a,radius:"4px",pointer:Yq,onChange:n}))),ze.createElement(F8e,{rgb:i,hsl:a,hex:o,hsv:s,onChange:n})))};Xq.propTypes={width:Wr.oneOfType([Wr.string,Wr.number]),styles:Wr.object,header:Wr.string};Xq.defaultProps={width:652,styles:{},header:"Color picker"};const L8e=Hh(Xq),N8e=Object.freeze(Object.defineProperty({__proto__:null,AlphaPicker:O6e,BlockPicker:Hze,ChromePicker:Wee,CirclePicker:Vze,CompactPicker:n8e,CustomPicker:Hh,GithubPicker:o8e,GooglePicker:L8e,HuePicker:u8e,MaterialPicker:f8e,PhotoshopPicker:_8e,SketchPicker:E8e,SliderPicker:T8e,SwatchesPicker:k8e,TwitterPicker:D8e,default:Wee},Symbol.toStringTag,{value:"Module"})),$8e=Ob(N8e);var I5={},T1={},cR={},Kee;function z8e(){return Kee||(Kee=1,Object.defineProperty(cR,"__esModule",{value:!0}),cR.calculateChange=function(t,r,n,i,a){var s=a.clientWidth,o=a.clientHeight,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,u=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,f=l-(a.getBoundingClientRect().left+window.pageXOffset),h=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(h<0?p=0:h>o?p=1:p=Math.round(h*100/o)/100,r.a!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}else{var m=void 0;if(f<0?m=0:f>s?m=1:m=Math.round(f*100/s)/100,i!==m)return{h:r.h,s:r.s,l:r.l,a:m,source:"rgb"}}return null}),cR}var R1={},FE={},Zee;function B8e(){if(Zee)return FE;Zee=1,Object.defineProperty(FE,"__esModule",{value:!0});var e={},t=FE.render=function(n,i,a,s){if(typeof document>"u"&&!s)return null;var o=s?new s:document.createElement("canvas");o.width=a*2,o.height=a*2;var l=o.getContext("2d");return l?(l.fillStyle=n,l.fillRect(0,0,o.width,o.height),l.fillStyle=i,l.fillRect(0,0,a,a),l.translate(a,a),l.fillRect(0,0,a,a),o.toDataURL()):null};return FE.get=function(n,i,a,s){var o=n+"-"+i+"-"+a+(s?"-server":"");if(e[o])return e[o];var l=t(n,i,a,s);return e[o]=l,l},FE}var Yee;function Jq(){if(Yee)return R1;Yee=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.Checkboard=void 0;var e=Object.assign||function(f){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])}return f},t=vn(),r=l(t),n=kb(),i=l(n),a=B8e(),s=o(a);function o(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(h[p]=f[p]);return h.default=f,h}function l(f){return f&&f.__esModule?f:{default:f}}var u=R1.Checkboard=function(h){var p=h.white,m=h.grey,v=h.size,w=h.renderers,x=h.borderRadius,T=h.boxShadow,A=h.children,P=(0,i.default)({default:{grid:{borderRadius:x,boxShadow:T,absolute:"0px 0px 0px 0px",background:"url("+s.get(p,m,v,w.canvas)+") center left"}}});return(0,t.isValidElement)(A)?r.default.cloneElement(A,e({},A.props,{style:e({},A.props.style,P.grid)})):r.default.createElement("div",{style:P.grid})};return u.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},R1.default=u,R1}var Xee;function j8e(){if(Xee)return T1;Xee=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.Alpha=void 0;var e=Object.assign||function(x){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(x[P]=A[P])}return x},t=function(){function x(T,A){for(var P=0;P<A.length;P++){var S=A[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,A,P){return A&&x(T.prototype,A),P&&x(T,P),T}}(),r=vn(),n=h(r),i=kb(),a=h(i),s=z8e(),o=f(s),l=Jq(),u=h(l);function f(x){if(x&&x.__esModule)return x;var T={};if(x!=null)for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(T[A]=x[A]);return T.default=x,T}function h(x){return x&&x.__esModule?x:{default:x}}function p(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function m(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function v(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var w=T1.Alpha=function(x){v(T,x);function T(){var A,P,S,E;p(this,T);for(var _=arguments.length,R=Array(_),O=0;O<_;O++)R[O]=arguments[O];return E=(P=(S=m(this,(A=T.__proto__||Object.getPrototypeOf(T)).call.apply(A,[this].concat(R))),S),S.handleChange=function(F){var $=o.calculateChange(F,S.props.hsl,S.props.direction,S.props.a,S.container);$&&typeof S.props.onChange=="function"&&S.props.onChange($,F)},S.handleMouseDown=function(F){S.handleChange(F),window.addEventListener("mousemove",S.handleChange),window.addEventListener("mouseup",S.handleMouseUp)},S.handleMouseUp=function(){S.unbindEventListeners()},S.unbindEventListeners=function(){window.removeEventListener("mousemove",S.handleChange),window.removeEventListener("mouseup",S.handleMouseUp)},P),m(S,E)}return t(T,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var P=this,S=this.props.rgb,E=(0,a.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+S.r+","+S.g+","+S.b+`, 0) 0%,
           rgba(`+S.r+","+S.g+","+S.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:S.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+S.r+","+S.g+","+S.b+`, 0) 0%,
           rgba(`+S.r+","+S.g+","+S.b+", 1) 100%)"},pointer:{left:0,top:S.a*100+"%"}},overwrite:e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return n.default.createElement("div",{style:E.alpha},n.default.createElement("div",{style:E.checkboard},n.default.createElement(u.default,{renderers:this.props.renderers})),n.default.createElement("div",{style:E.gradient}),n.default.createElement("div",{style:E.container,ref:function(R){return P.container=R},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},n.default.createElement("div",{style:E.pointer},this.props.pointer?n.default.createElement(this.props.pointer,this.props):n.default.createElement("div",{style:E.slider}))))}}]),T}(r.PureComponent||r.Component);return T1.default=w,T1}var A1={},Jee;function U8e(){if(Jee)return A1;Jee=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.EditableInput=void 0;var e=function(){function A(P,S){for(var E=0;E<S.length;E++){var _=S[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(P,_.key,_)}}return function(P,S,E){return S&&A(P.prototype,S),E&&A(P,E),P}}(),t=vn(),r=a(t),n=kb(),i=a(n);function a(A){return A&&A.__esModule?A:{default:A}}function s(A,P,S){return P in A?Object.defineProperty(A,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):A[P]=S,A}function o(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function l(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function u(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var f=1,h=38,p=40,m=[h,p],v=function(P){return m.indexOf(P)>-1},w=function(P){return Number(String(P).replace(/%/g,""))},x=1,T=A1.EditableInput=function(A){u(P,A);function P(S){o(this,P);var E=l(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return E.handleBlur=function(){E.state.blurValue&&E.setState({value:E.state.blurValue,blurValue:null})},E.handleChange=function(_){E.setUpdatedValue(_.target.value,_)},E.handleKeyDown=function(_){var R=w(_.target.value);if(!isNaN(R)&&v(_.keyCode)){var O=E.getArrowOffset(),F=_.keyCode===h?R+O:R-O;E.setUpdatedValue(F,_)}},E.handleDrag=function(_){if(E.props.dragLabel){var R=Math.round(E.props.value+_.movementX);R>=0&&R<=E.props.dragMax&&E.props.onChange&&E.props.onChange(E.getValueObjectWithLabel(R),_)}},E.handleMouseDown=function(_){E.props.dragLabel&&(_.preventDefault(),E.handleDrag(_),window.addEventListener("mousemove",E.handleDrag),window.addEventListener("mouseup",E.handleMouseUp))},E.handleMouseUp=function(){E.unbindEventListeners()},E.unbindEventListeners=function(){window.removeEventListener("mousemove",E.handleDrag),window.removeEventListener("mouseup",E.handleMouseUp)},E.state={value:String(S.value).toUpperCase(),blurValue:String(S.value).toUpperCase()},E.inputId="rc-editable-input-"+x++,E}return e(P,[{key:"componentDidUpdate",value:function(E,_){this.props.value!==this.state.value&&(E.value!==this.props.value||_.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(E){return s({},this.props.label,E)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||f}},{key:"setUpdatedValue",value:function(E,_){var R=this.props.label?this.getValueObjectWithLabel(E):E;this.props.onChange&&this.props.onChange(R,_),this.setState({value:E})}},{key:"render",value:function(){var E=this,_=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return r.default.createElement("div",{style:_.wrap},r.default.createElement("input",{id:this.inputId,style:_.input,ref:function(O){return E.input=O},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?r.default.createElement("label",{htmlFor:this.inputId,style:_.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),P}(t.PureComponent||t.Component);return A1.default=T,A1}var O1={},fR={},Qee;function q8e(){return Qee||(Qee=1,Object.defineProperty(fR,"__esModule",{value:!0}),fR.calculateChange=function(t,r,n,i){var a=i.clientWidth,s=i.clientHeight,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,l=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=o-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0)h=359;else if(f>s)h=0;else{var p=-(f*100/s)+100;h=360*p/100}if(n.h!==h)return{h,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var m=void 0;if(u<0)m=0;else if(u>a)m=359;else{var v=u*100/a;m=360*v/100}if(n.h!==m)return{h:m,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}),fR}var ete;function H8e(){if(ete)return O1;ete=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.Hue=void 0;var e=function(){function m(v,w){for(var x=0;x<w.length;x++){var T=w[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,x){return w&&m(v.prototype,w),x&&m(v,x),v}}(),t=vn(),r=l(t),n=kb(),i=l(n),a=q8e(),s=o(a);function o(m){if(m&&m.__esModule)return m;var v={};if(m!=null)for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(v[w]=m[w]);return v.default=m,v}function l(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=O1.Hue=function(m){h(v,m);function v(){var w,x,T,A;u(this,v);for(var P=arguments.length,S=Array(P),E=0;E<P;E++)S[E]=arguments[E];return A=(x=(T=f(this,(w=v.__proto__||Object.getPrototypeOf(v)).call.apply(w,[this].concat(S))),T),T.handleChange=function(_){var R=s.calculateChange(_,T.props.direction,T.props.hsl,T.container);R&&typeof T.props.onChange=="function"&&T.props.onChange(R,_)},T.handleMouseDown=function(_){T.handleChange(_),window.addEventListener("mousemove",T.handleChange),window.addEventListener("mouseup",T.handleMouseUp)},T.handleMouseUp=function(){T.unbindEventListeners()},x),f(T,A)}return e(v,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var x=this,T=this.props.direction,A=T===void 0?"horizontal":T,P=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:A==="vertical"});return r.default.createElement("div",{style:P.hue},r.default.createElement("div",{className:"hue-"+A,style:P.container,ref:function(E){return x.container=E},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),r.default.createElement("div",{style:P.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:P.slider}))))}}]),v}(t.PureComponent||t.Component);return O1.default=p,O1}var I1={},M5,tte;function Zge(){if(tte)return M5;tte=1;var e=gM(),t=sP();function r(n,i,a){(a!==void 0&&!t(n[i],a)||a===void 0&&!(i in n))&&e(n,i,a)}return M5=r,M5}var k5,rte;function W8e(){if(rte)return k5;rte=1;var e=Ew(),t=ov();function r(n){return t(n)&&e(n)}return k5=r,k5}var D5,nte;function Yge(){if(nte)return D5;nte=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return D5=e,D5}var F5,ite;function V8e(){if(ite)return F5;ite=1;var e=vP(),t=yP();function r(n){return e(n,t(n))}return F5=r,F5}var L5,ate;function G8e(){if(ate)return L5;ate=1;var e=Zge(),t=fge(),r=hge(),n=vM(),i=pge(),a=rM(),s=qh(),o=W8e(),l=nM(),u=wU(),f=ym(),h=ige(),p=IU(),m=Yge(),v=V8e();function w(x,T,A,P,S,E,_){var R=m(x,A),O=m(T,A),F=_.get(O);if(F){e(x,A,F);return}var $=E?E(R,O,A+"",x,T,_):void 0,z=$===void 0;if(z){var q=s(O),Z=!q&&l(O),V=!q&&!Z&&p(O);$=O,q||Z||V?s(R)?$=R:o(R)?$=n(R):Z?(z=!1,$=t(O,!0)):V?(z=!1,$=r(O,!0)):$=[]:h(O)||a(O)?($=R,a(R)?$=v(R):(!f(R)||u(R))&&($=i(O))):z=!1}z&&(_.set(O,$),S($,O,P,E,_),_.delete(O)),e(x,A,$)}return L5=w,L5}var N5,ote;function K8e(){if(ote)return N5;ote=1;var e=QI(),t=Zge(),r=rge(),n=G8e(),i=ym(),a=yP(),s=Yge();function o(l,u,f,h,p){l!==u&&r(u,function(m,v){if(p||(p=new e),i(m))n(l,u,v,f,o,h,p);else{var w=h?h(s(l,v),m,v+"",l,u,p):void 0;w===void 0&&(w=m),t(l,v,w)}},a)}return N5=o,N5}var $5,ste;function Z8e(){if(ste)return $5;ste=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return $5=e,$5}var z5,lte;function Xge(){if(lte)return z5;lte=1;var e=Z8e(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,l=t(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var f=Array(i+1);++o<i;)f[o]=s[o];return f[i]=a(u),e(n,this,f)}}return z5=r,z5}var B5,ute;function Y8e(){if(ute)return B5;ute=1;function e(t){return function(){return t}}return B5=e,B5}var j5,cte;function X8e(){if(cte)return j5;cte=1;var e=Y8e(),t=cge(),r=mM(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return j5=n,j5}var U5,fte;function J8e(){if(fte)return U5;fte=1;var e=800,t=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),l=t-(o-s);if(s=o,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return U5=n,U5}var q5,dte;function Jge(){if(dte)return q5;dte=1;var e=X8e(),t=J8e(),r=t(e);return q5=r,q5}var H5,hte;function Q8e(){if(hte)return H5;hte=1;var e=mM(),t=Xge(),r=Jge();function n(i,a){return r(t(i,a,e),i+"")}return H5=n,H5}var W5,pte;function eBe(){if(pte)return W5;pte=1;var e=sP(),t=Ew(),r=uP(),n=ym();function i(a,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?t(o)&&r(s,o.length):l=="string"&&s in o)?e(o[s],a):!1}return W5=i,W5}var V5,mte;function tBe(){if(mte)return V5;mte=1;var e=Q8e(),t=eBe();function r(n){return e(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=n.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var f=a[s];f&&n(i,f,s,l)}return i})}return V5=r,V5}var G5,gte;function Qge(){if(gte)return G5;gte=1;var e=K8e(),t=tBe(),r=t(function(n,i,a){e(n,i,a)});return G5=r,G5}var vte;function rBe(){if(vte)return I1;vte=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.Raised=void 0;var e=vn(),t=l(e),r=yM(),n=l(r),i=kb(),a=l(i),s=Qge(),o=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var u=I1.Raised=function(h){var p=h.zDepth,m=h.radius,v=h.background,w=h.children,x=h.styles,T=x===void 0?{}:x,A=(0,a.default)((0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+p+"px "+p*4+"px rgba(0,0,0,.24)",borderRadius:m,background:v}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},T),{"zDepth-1":p===1});return t.default.createElement("div",{style:A.wrap},t.default.createElement("div",{style:A.bg}),t.default.createElement("div",{style:A.content},w))};return u.propTypes={background:n.default.string,zDepth:n.default.oneOf([0,1,2,3,4,5]),radius:n.default.number,styles:n.default.object},u.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},I1.default=u,I1}var M1={},K5,yte;function nBe(){if(yte)return K5;yte=1;var e=av(),t=function(){return e.Date.now()};return K5=t,K5}var Z5,bte;function iBe(){if(bte)return Z5;bte=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Z5=t,Z5}var Y5,_te;function aBe(){if(_te)return Y5;_te=1;var e=iBe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Y5=r,Y5}var X5,wte;function oBe(){if(wte)return X5;wte=1;var e=aBe(),t=ym(),r=KI(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var h=a.test(u);return h||s.test(u)?o(u.slice(2),h?2:8):i.test(u)?n:+u}return X5=l,X5}var J5,xte;function Qq(){if(xte)return J5;xte=1;var e=ym(),t=nBe(),r=oBe(),n="Expected a function",i=Math.max,a=Math.min;function s(o,l,u){var f,h,p,m,v,w,x=0,T=!1,A=!1,P=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(T=!!u.leading,A="maxWait"in u,p=A?i(r(u.maxWait)||0,l):p,P="trailing"in u?!!u.trailing:P);function S(Z){var V=f,J=h;return f=h=void 0,x=Z,m=o.apply(J,V),m}function E(Z){return x=Z,v=setTimeout(O,l),T?S(Z):m}function _(Z){var V=Z-w,J=Z-x,fe=l-V;return A?a(fe,p-J):fe}function R(Z){var V=Z-w,J=Z-x;return w===void 0||V>=l||V<0||A&&J>=p}function O(){var Z=t();if(R(Z))return F(Z);v=setTimeout(O,_(Z))}function F(Z){return v=void 0,P&&f?S(Z):(f=h=void 0,m)}function $(){v!==void 0&&clearTimeout(v),x=0,f=w=h=v=void 0}function z(){return v===void 0?m:F(t())}function q(){var Z=t(),V=R(Z);if(f=arguments,h=this,w=Z,V){if(v===void 0)return E(w);if(A)return clearTimeout(v),v=setTimeout(O,l),S(w)}return v===void 0&&(v=setTimeout(O,l)),m}return q.cancel=$,q.flush=z,q}return J5=s,J5}var Q5,Ste;function eve(){if(Ste)return Q5;Ste=1;var e=Qq(),t=ym(),r="Expected a function";function n(i,a,s){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),e(i,a,{leading:o,maxWait:a,trailing:l})}return Q5=n,Q5}var dR={},Ete;function sBe(){return Ete||(Ete=1,Object.defineProperty(dR,"__esModule",{value:!0}),dR.calculateChange=function(t,r,n){var i=n.getBoundingClientRect(),a=i.width,s=i.height,o=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,l=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=o-(n.getBoundingClientRect().left+window.pageXOffset),f=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),f<0?f=0:f>s&&(f=s);var h=u/a,p=1-f/s;return{h:r.h,s:h,v:p,a:r.a,source:"hsv"}}),dR}var Cte;function lBe(){if(Cte)return M1;Cte=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.Saturation=void 0;var e=function(){function w(x,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,T,A){return T&&w(x.prototype,T),A&&w(x,A),x}}(),t=vn(),r=f(t),n=kb(),i=f(n),a=eve(),s=f(a),o=sBe(),l=u(o);function u(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(x[T]=w[T]);return x.default=w,x}function f(w){return w&&w.__esModule?w:{default:w}}function h(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function p(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function m(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var v=M1.Saturation=function(w){m(x,w);function x(T){h(this,x);var A=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,T));return A.handleChange=function(P){typeof A.props.onChange=="function"&&A.throttle(A.props.onChange,l.calculateChange(P,A.props.hsl,A.container),P)},A.handleMouseDown=function(P){A.handleChange(P);var S=A.getContainerRenderWindow();S.addEventListener("mousemove",A.handleChange),S.addEventListener("mouseup",A.handleMouseUp)},A.handleMouseUp=function(){A.unbindEventListeners()},A.throttle=(0,s.default)(function(P,S,E){P(S,E)},50),A}return e(x,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var A=this.container,P=window;!P.document.contains(A)&&P.parent!==P;)P=P.parent;return P}},{key:"unbindEventListeners",value:function(){var A=this.getContainerRenderWindow();A.removeEventListener("mousemove",this.handleChange),A.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var A=this,P=this.props.style||{},S=P.color,E=P.white,_=P.black,R=P.pointer,O=P.circle,F=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:S,white:E,black:_,pointer:R,circle:O}},{custom:!!this.props.style});return r.default.createElement("div",{style:F.color,ref:function(z){return A.container=z},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),r.default.createElement("div",{style:F.white,className:"saturation-white"},r.default.createElement("div",{style:F.black,className:"saturation-black"}),r.default.createElement("div",{style:F.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:F.circle}))))}}]),x}(t.PureComponent||t.Component);return M1.default=v,M1}var k1={},Ah={},e$,Pte;function uBe(){if(Pte)return e$;Pte=1;var e=uge(),t=lge(),r=nge(),n=qh();function i(a,s){var o=n(a)?e:t;return o(a,r(s))}return e$=i,e$}var t$,Tte;function cBe(){return Tte||(Tte=1,t$=uBe()),t$}var SA={exports:{}},fBe=SA.exports,Rte;function dBe(){return Rte||(Rte=1,function(e,t){(function(r,n){e.exports=n()})(fBe,function(){function r(we){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},r(we)}var n=/^\s+/,i=/\s+$/;function a(we,Ee){if(we=we||"",Ee=Ee||{},we instanceof a)return we;if(!(this instanceof a))return new a(we,Ee);var Re=s(we);this._originalInput=we,this._r=Re.r,this._g=Re.g,this._b=Re.b,this._a=Re.a,this._roundA=Math.round(100*this._a)/100,this._format=Ee.format||Re.format,this._gradientType=Ee.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Re.ok}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ee=this.toRgb();return(Ee.r*299+Ee.g*587+Ee.b*114)/1e3},getLuminance:function(){var Ee=this.toRgb(),Re,ft,qe,dt,he,ut;return Re=Ee.r/255,ft=Ee.g/255,qe=Ee.b/255,Re<=.03928?dt=Re/12.92:dt=Math.pow((Re+.055)/1.055,2.4),ft<=.03928?he=ft/12.92:he=Math.pow((ft+.055)/1.055,2.4),qe<=.03928?ut=qe/12.92:ut=Math.pow((qe+.055)/1.055,2.4),.2126*dt+.7152*he+.0722*ut},setAlpha:function(Ee){return this._a=V(Ee),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var Ee=f(this._r,this._g,this._b);return{h:Ee.h*360,s:Ee.s,v:Ee.v,a:this._a}},toHsvString:function(){var Ee=f(this._r,this._g,this._b),Re=Math.round(Ee.h*360),ft=Math.round(Ee.s*100),qe=Math.round(Ee.v*100);return this._a==1?"hsv("+Re+", "+ft+"%, "+qe+"%)":"hsva("+Re+", "+ft+"%, "+qe+"%, "+this._roundA+")"},toHsl:function(){var Ee=l(this._r,this._g,this._b);return{h:Ee.h*360,s:Ee.s,l:Ee.l,a:this._a}},toHslString:function(){var Ee=l(this._r,this._g,this._b),Re=Math.round(Ee.h*360),ft=Math.round(Ee.s*100),qe=Math.round(Ee.l*100);return this._a==1?"hsl("+Re+", "+ft+"%, "+qe+"%)":"hsla("+Re+", "+ft+"%, "+qe+"%, "+this._roundA+")"},toHex:function(Ee){return p(this._r,this._g,this._b,Ee)},toHexString:function(Ee){return"#"+this.toHex(Ee)},toHex8:function(Ee){return m(this._r,this._g,this._b,this._a,Ee)},toHex8String:function(Ee){return"#"+this.toHex8(Ee)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(J(this._r,255)*100)+"%",g:Math.round(J(this._g,255)*100)+"%",b:Math.round(J(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(J(this._r,255)*100)+"%, "+Math.round(J(this._g,255)*100)+"%, "+Math.round(J(this._b,255)*100)+"%)":"rgba("+Math.round(J(this._r,255)*100)+"%, "+Math.round(J(this._g,255)*100)+"%, "+Math.round(J(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:q[p(this._r,this._g,this._b,!0)]||!1},toFilter:function(Ee){var Re="#"+v(this._r,this._g,this._b,this._a),ft=Re,qe=this._gradientType?"GradientType = 1, ":"";if(Ee){var dt=a(Ee);ft="#"+v(dt._r,dt._g,dt._b,dt._a)}return"progid:DXImageTransform.Microsoft.gradient("+qe+"startColorstr="+Re+",endColorstr="+ft+")"},toString:function(Ee){var Re=!!Ee;Ee=Ee||this._format;var ft=!1,qe=this._a<1&&this._a>=0,dt=!Re&&qe&&(Ee==="hex"||Ee==="hex6"||Ee==="hex3"||Ee==="hex4"||Ee==="hex8"||Ee==="name");return dt?Ee==="name"&&this._a===0?this.toName():this.toRgbString():(Ee==="rgb"&&(ft=this.toRgbString()),Ee==="prgb"&&(ft=this.toPercentageRgbString()),(Ee==="hex"||Ee==="hex6")&&(ft=this.toHexString()),Ee==="hex3"&&(ft=this.toHexString(!0)),Ee==="hex4"&&(ft=this.toHex8String(!0)),Ee==="hex8"&&(ft=this.toHex8String()),Ee==="name"&&(ft=this.toName()),Ee==="hsl"&&(ft=this.toHslString()),Ee==="hsv"&&(ft=this.toHsvString()),ft||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(Ee,Re){var ft=Ee.apply(null,[this].concat([].slice.call(Re)));return this._r=ft._r,this._g=ft._g,this._b=ft._b,this.setAlpha(ft._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(P,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(Ee,Re){return Ee.apply(null,[this].concat([].slice.call(Re)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination($,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(R,[3])},tetrad:function(){return this._applyCombination(R,[4])}},a.fromRatio=function(we,Ee){if(r(we)=="object"){var Re={};for(var ft in we)we.hasOwnProperty(ft)&&(ft==="a"?Re[ft]=we[ft]:Re[ft]=se(we[ft]));we=Re}return a(we,Ee)};function s(we){var Ee={r:0,g:0,b:0},Re=1,ft=null,qe=null,dt=null,he=!1,ut=!1;return typeof we=="string"&&(we=ct(we)),r(we)=="object"&&(Ge(we.r)&&Ge(we.g)&&Ge(we.b)?(Ee=o(we.r,we.g,we.b),he=!0,ut=String(we.r).substr(-1)==="%"?"prgb":"rgb"):Ge(we.h)&&Ge(we.s)&&Ge(we.v)?(ft=se(we.s),qe=se(we.v),Ee=h(we.h,ft,qe),he=!0,ut="hsv"):Ge(we.h)&&Ge(we.s)&&Ge(we.l)&&(ft=se(we.s),dt=se(we.l),Ee=u(we.h,ft,dt),he=!0,ut="hsl"),we.hasOwnProperty("a")&&(Re=we.a)),Re=V(Re),{ok:he,format:we.format||ut,r:Math.min(255,Math.max(Ee.r,0)),g:Math.min(255,Math.max(Ee.g,0)),b:Math.min(255,Math.max(Ee.b,0)),a:Re}}function o(we,Ee,Re){return{r:J(we,255)*255,g:J(Ee,255)*255,b:J(Re,255)*255}}function l(we,Ee,Re){we=J(we,255),Ee=J(Ee,255),Re=J(Re,255);var ft=Math.max(we,Ee,Re),qe=Math.min(we,Ee,Re),dt,he,ut=(ft+qe)/2;if(ft==qe)dt=he=0;else{var xt=ft-qe;switch(he=ut>.5?xt/(2-ft-qe):xt/(ft+qe),ft){case we:dt=(Ee-Re)/xt+(Ee<Re?6:0);break;case Ee:dt=(Re-we)/xt+2;break;case Re:dt=(we-Ee)/xt+4;break}dt/=6}return{h:dt,s:he,l:ut}}function u(we,Ee,Re){var ft,qe,dt;we=J(we,360),Ee=J(Ee,100),Re=J(Re,100);function he(je,rt,Ze){return Ze<0&&(Ze+=1),Ze>1&&(Ze-=1),Ze<1/6?je+(rt-je)*6*Ze:Ze<1/2?rt:Ze<2/3?je+(rt-je)*(2/3-Ze)*6:je}if(Ee===0)ft=qe=dt=Re;else{var ut=Re<.5?Re*(1+Ee):Re+Ee-Re*Ee,xt=2*Re-ut;ft=he(xt,ut,we+1/3),qe=he(xt,ut,we),dt=he(xt,ut,we-1/3)}return{r:ft*255,g:qe*255,b:dt*255}}function f(we,Ee,Re){we=J(we,255),Ee=J(Ee,255),Re=J(Re,255);var ft=Math.max(we,Ee,Re),qe=Math.min(we,Ee,Re),dt,he,ut=ft,xt=ft-qe;if(he=ft===0?0:xt/ft,ft==qe)dt=0;else{switch(ft){case we:dt=(Ee-Re)/xt+(Ee<Re?6:0);break;case Ee:dt=(Re-we)/xt+2;break;case Re:dt=(we-Ee)/xt+4;break}dt/=6}return{h:dt,s:he,v:ut}}function h(we,Ee,Re){we=J(we,360)*6,Ee=J(Ee,100),Re=J(Re,100);var ft=Math.floor(we),qe=we-ft,dt=Re*(1-Ee),he=Re*(1-qe*Ee),ut=Re*(1-(1-qe)*Ee),xt=ft%6,je=[Re,he,dt,dt,ut,Re][xt],rt=[ut,Re,Re,he,dt,dt][xt],Ze=[dt,dt,ut,Re,Re,he][xt];return{r:je*255,g:rt*255,b:Ze*255}}function p(we,Ee,Re,ft){var qe=[le(Math.round(we).toString(16)),le(Math.round(Ee).toString(16)),le(Math.round(Re).toString(16))];return ft&&qe[0].charAt(0)==qe[0].charAt(1)&&qe[1].charAt(0)==qe[1].charAt(1)&&qe[2].charAt(0)==qe[2].charAt(1)?qe[0].charAt(0)+qe[1].charAt(0)+qe[2].charAt(0):qe.join("")}function m(we,Ee,Re,ft,qe){var dt=[le(Math.round(we).toString(16)),le(Math.round(Ee).toString(16)),le(Math.round(Re).toString(16)),le(ge(ft))];return qe&&dt[0].charAt(0)==dt[0].charAt(1)&&dt[1].charAt(0)==dt[1].charAt(1)&&dt[2].charAt(0)==dt[2].charAt(1)&&dt[3].charAt(0)==dt[3].charAt(1)?dt[0].charAt(0)+dt[1].charAt(0)+dt[2].charAt(0)+dt[3].charAt(0):dt.join("")}function v(we,Ee,Re,ft){var qe=[le(ge(ft)),le(Math.round(we).toString(16)),le(Math.round(Ee).toString(16)),le(Math.round(Re).toString(16))];return qe.join("")}a.equals=function(we,Ee){return!we||!Ee?!1:a(we).toRgbString()==a(Ee).toRgbString()},a.random=function(){return a.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function w(we,Ee){Ee=Ee===0?0:Ee||10;var Re=a(we).toHsl();return Re.s-=Ee/100,Re.s=fe(Re.s),a(Re)}function x(we,Ee){Ee=Ee===0?0:Ee||10;var Re=a(we).toHsl();return Re.s+=Ee/100,Re.s=fe(Re.s),a(Re)}function T(we){return a(we).desaturate(100)}function A(we,Ee){Ee=Ee===0?0:Ee||10;var Re=a(we).toHsl();return Re.l+=Ee/100,Re.l=fe(Re.l),a(Re)}function P(we,Ee){Ee=Ee===0?0:Ee||10;var Re=a(we).toRgb();return Re.r=Math.max(0,Math.min(255,Re.r-Math.round(255*-(Ee/100)))),Re.g=Math.max(0,Math.min(255,Re.g-Math.round(255*-(Ee/100)))),Re.b=Math.max(0,Math.min(255,Re.b-Math.round(255*-(Ee/100)))),a(Re)}function S(we,Ee){Ee=Ee===0?0:Ee||10;var Re=a(we).toHsl();return Re.l-=Ee/100,Re.l=fe(Re.l),a(Re)}function E(we,Ee){var Re=a(we).toHsl(),ft=(Re.h+Ee)%360;return Re.h=ft<0?360+ft:ft,a(Re)}function _(we){var Ee=a(we).toHsl();return Ee.h=(Ee.h+180)%360,a(Ee)}function R(we,Ee){if(isNaN(Ee)||Ee<=0)throw new Error("Argument to polyad must be a positive number");for(var Re=a(we).toHsl(),ft=[a(we)],qe=360/Ee,dt=1;dt<Ee;dt++)ft.push(a({h:(Re.h+dt*qe)%360,s:Re.s,l:Re.l}));return ft}function O(we){var Ee=a(we).toHsl(),Re=Ee.h;return[a(we),a({h:(Re+72)%360,s:Ee.s,l:Ee.l}),a({h:(Re+216)%360,s:Ee.s,l:Ee.l})]}function F(we,Ee,Re){Ee=Ee||6,Re=Re||30;var ft=a(we).toHsl(),qe=360/Re,dt=[a(we)];for(ft.h=(ft.h-(qe*Ee>>1)+720)%360;--Ee;)ft.h=(ft.h+qe)%360,dt.push(a(ft));return dt}function $(we,Ee){Ee=Ee||6;for(var Re=a(we).toHsv(),ft=Re.h,qe=Re.s,dt=Re.v,he=[],ut=1/Ee;Ee--;)he.push(a({h:ft,s:qe,v:dt})),dt=(dt+ut)%1;return he}a.mix=function(we,Ee,Re){Re=Re===0?0:Re||50;var ft=a(we).toRgb(),qe=a(Ee).toRgb(),dt=Re/100,he={r:(qe.r-ft.r)*dt+ft.r,g:(qe.g-ft.g)*dt+ft.g,b:(qe.b-ft.b)*dt+ft.b,a:(qe.a-ft.a)*dt+ft.a};return a(he)},a.readability=function(we,Ee){var Re=a(we),ft=a(Ee);return(Math.max(Re.getLuminance(),ft.getLuminance())+.05)/(Math.min(Re.getLuminance(),ft.getLuminance())+.05)},a.isReadable=function(we,Ee,Re){var ft=a.readability(we,Ee),qe,dt;switch(dt=!1,qe=$e(Re),qe.level+qe.size){case"AAsmall":case"AAAlarge":dt=ft>=4.5;break;case"AAlarge":dt=ft>=3;break;case"AAAsmall":dt=ft>=7;break}return dt},a.mostReadable=function(we,Ee,Re){var ft=null,qe=0,dt,he,ut,xt;Re=Re||{},he=Re.includeFallbackColors,ut=Re.level,xt=Re.size;for(var je=0;je<Ee.length;je++)dt=a.readability(we,Ee[je]),dt>qe&&(qe=dt,ft=a(Ee[je]));return a.isReadable(we,ft,{level:ut,size:xt})||!he?ft:(Re.includeFallbackColors=!1,a.mostReadable(we,["#fff","#000"],Re))};var z=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=a.hexNames=Z(z);function Z(we){var Ee={};for(var Re in we)we.hasOwnProperty(Re)&&(Ee[we[Re]]=Re);return Ee}function V(we){return we=parseFloat(we),(isNaN(we)||we<0||we>1)&&(we=1),we}function J(we,Ee){pe(we)&&(we="100%");var Re=ve(we);return we=Math.min(Ee,Math.max(0,parseFloat(we))),Re&&(we=parseInt(we*Ee,10)/100),Math.abs(we-Ee)<1e-6?1:we%Ee/parseFloat(Ee)}function fe(we){return Math.min(1,Math.max(0,we))}function ue(we){return parseInt(we,16)}function pe(we){return typeof we=="string"&&we.indexOf(".")!=-1&&parseFloat(we)===1}function ve(we){return typeof we=="string"&&we.indexOf("%")!=-1}function le(we){return we.length==1?"0"+we:""+we}function se(we){return we<=1&&(we=we*100+"%"),we}function ge(we){return Math.round(parseFloat(we)*255).toString(16)}function _e(we){return ue(we)/255}var ke=function(){var we="[-\\+]?\\d+%?",Ee="[-\\+]?\\d*\\.\\d+%?",Re="(?:"+Ee+")|(?:"+we+")",ft="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?",qe="[\\s|\\(]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")[,|\\s]+("+Re+")\\s*\\)?";return{CSS_UNIT:new RegExp(Re),rgb:new RegExp("rgb"+ft),rgba:new RegExp("rgba"+qe),hsl:new RegExp("hsl"+ft),hsla:new RegExp("hsla"+qe),hsv:new RegExp("hsv"+ft),hsva:new RegExp("hsva"+qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ge(we){return!!ke.CSS_UNIT.exec(we)}function ct(we){we=we.replace(n,"").replace(i,"").toLowerCase();var Ee=!1;if(z[we])we=z[we],Ee=!0;else if(we=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Re;return(Re=ke.rgb.exec(we))?{r:Re[1],g:Re[2],b:Re[3]}:(Re=ke.rgba.exec(we))?{r:Re[1],g:Re[2],b:Re[3],a:Re[4]}:(Re=ke.hsl.exec(we))?{h:Re[1],s:Re[2],l:Re[3]}:(Re=ke.hsla.exec(we))?{h:Re[1],s:Re[2],l:Re[3],a:Re[4]}:(Re=ke.hsv.exec(we))?{h:Re[1],s:Re[2],v:Re[3]}:(Re=ke.hsva.exec(we))?{h:Re[1],s:Re[2],v:Re[3],a:Re[4]}:(Re=ke.hex8.exec(we))?{r:ue(Re[1]),g:ue(Re[2]),b:ue(Re[3]),a:_e(Re[4]),format:Ee?"name":"hex8"}:(Re=ke.hex6.exec(we))?{r:ue(Re[1]),g:ue(Re[2]),b:ue(Re[3]),format:Ee?"name":"hex"}:(Re=ke.hex4.exec(we))?{r:ue(Re[1]+""+Re[1]),g:ue(Re[2]+""+Re[2]),b:ue(Re[3]+""+Re[3]),a:_e(Re[4]+""+Re[4]),format:Ee?"name":"hex8"}:(Re=ke.hex3.exec(we))?{r:ue(Re[1]+""+Re[1]),g:ue(Re[2]+""+Re[2]),b:ue(Re[3]+""+Re[3]),format:Ee?"name":"hex"}:!1}function $e(we){var Ee,Re;return we=we||{level:"AA",size:"small"},Ee=(we.level||"AA").toUpperCase(),Re=(we.size||"small").toLowerCase(),Ee!=="AA"&&Ee!=="AAA"&&(Ee="AA"),Re!=="small"&&Re!=="large"&&(Re="small"),{level:Ee,size:Re}}return a})}(SA)),SA.exports}var Ate;function hBe(){if(Ate)return Ah;Ate=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.isvalidColorString=Ah.red=Ah.getContrastingColor=Ah.isValidHex=Ah.toState=Ah.simpleCheckForValidColor=void 0;var e=cBe(),t=i(e),r=dBe(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}Ah.simpleCheckForValidColor=function(o){var l=["r","g","b","a","h","s","l","v"],u=0,f=0;return(0,t.default)(l,function(h){if(o[h]&&(u+=1,isNaN(o[h])||(f+=1),h==="s"||h==="l")){var p=/^\d+%$/;p.test(o[h])&&(f+=1)}}),u===f?o:!1};var a=Ah.toState=function(o,l){var u=o.hex?(0,n.default)(o.hex):(0,n.default)(o),f=u.toHsl(),h=u.toHsv(),p=u.toRgb(),m=u.toHex();f.s===0&&(f.h=l||0,h.h=l||0);var v=m==="000000"&&p.a===0;return{hsl:f,hex:v?"transparent":"#"+m,rgb:p,hsv:h,oldHue:o.h||l||f.h,source:o.source}};return Ah.isValidHex=function(o){if(o==="transparent")return!0;var l=String(o).charAt(0)==="#"?1:0;return o.length!==4+l&&o.length<7+l&&(0,n.default)(o).isValid()},Ah.getContrastingColor=function(o){if(!o)return"#fff";var l=a(o);if(l.hex==="transparent")return"rgba(0,0,0,0.4)";var u=(l.rgb.r*299+l.rgb.g*587+l.rgb.b*114)/1e3;return u>=128?"#000":"#fff"},Ah.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},Ah.isvalidColorString=function(o,l){var u=o.replace("°","");return(0,n.default)(l+" ("+u+")")._ok},Ah}var Ote;function pBe(){if(Ote)return k1;Ote=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.ColorWrap=void 0;var e=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(v[T]=x[T])}return v},t=function(){function v(w,x){for(var T=0;T<x.length;T++){var A=x[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,x,T){return x&&v(w.prototype,x),T&&v(w,T),w}}(),r=vn(),n=u(r),i=Qq(),a=u(i),s=hBe(),o=l(s);function l(v){if(v&&v.__esModule)return v;var w={};if(v!=null)for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(w[x]=v[x]);return w.default=v,w}function u(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function h(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function p(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var m=k1.ColorWrap=function(w){var x=function(T){p(A,T);function A(P){f(this,A);var S=h(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));return S.handleChange=function(E,_){var R=o.simpleCheckForValidColor(E);if(R){var O=o.toState(E,E.h||S.state.oldHue);S.setState(O),S.props.onChangeComplete&&S.debounce(S.props.onChangeComplete,O,_),S.props.onChange&&S.props.onChange(O,_)}},S.handleSwatchHover=function(E,_){var R=o.simpleCheckForValidColor(E);if(R){var O=o.toState(E,E.h||S.state.oldHue);S.props.onSwatchHover&&S.props.onSwatchHover(O,_)}},S.state=e({},o.toState(P.color,0)),S.debounce=(0,a.default)(function(E,_,R){E(_,R)},100),S}return t(A,[{key:"render",value:function(){var S={};return this.props.onSwatchHover&&(S.onSwatchHover=this.handleSwatchHover),n.default.createElement(w,e({},this.props,this.state,{onChange:this.handleChange},S))}}],[{key:"getDerivedStateFromProps",value:function(S,E){return e({},o.toState(S.color,E.oldHue))}}]),A}(r.PureComponent||r.Component);return x.propTypes=e({},w.propTypes),x.defaultProps=e({},w.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),x};return k1.default=m,k1}var D1={},LE={},Ite;function mBe(){if(Ite)return LE;Ite=1,Object.defineProperty(LE,"__esModule",{value:!0}),LE.handleFocus=void 0;var e=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l},t=function(){function l(u,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}(),r=vn(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function s(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function o(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}return LE.handleFocus=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(h){o(p,h);function p(){var m,v,w,x;a(this,p);for(var T=arguments.length,A=Array(T),P=0;P<T;P++)A[P]=arguments[P];return x=(v=(w=s(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(A))),w),w.state={focus:!1},w.handleFocus=function(){return w.setState({focus:!0})},w.handleBlur=function(){return w.setState({focus:!1})},v),s(w,x)}return t(p,[{key:"render",value:function(){return n.default.createElement(f,{onFocus:this.handleFocus,onBlur:this.handleBlur},n.default.createElement(u,e({},this.props,this.state)))}}]),p}(n.default.Component)},LE}var Mte;function gBe(){if(Mte)return D1;Mte=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.Swatch=void 0;var e=Object.assign||function(h){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(h[v]=m[v])}return h},t=vn(),r=l(t),n=kb(),i=l(n),a=mBe(),s=Jq(),o=l(s);function l(h){return h&&h.__esModule?h:{default:h}}var u=13,f=D1.Swatch=function(p){var m=p.color,v=p.style,w=p.onClick,x=w===void 0?function(){}:w,T=p.onHover,A=p.title,P=A===void 0?m:A,S=p.children,E=p.focus,_=p.focusStyle,R=_===void 0?{}:_,O=m==="transparent",F=(0,i.default)({default:{swatch:e({background:m,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},v,E?R:{})}}),$=function(J){return x(m,J)},z=function(J){return J.keyCode===u&&x(m,J)},q=function(J){return T(m,J)},Z={};return T&&(Z.onMouseOver=q),r.default.createElement("div",e({style:F.swatch,onClick:$,title:P,tabIndex:0,onKeyDown:z},Z),S,O&&r.default.createElement(o.default,{borderRadius:F.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};return D1.default=(0,a.handleFocus)(f),D1}var kte;function tve(){return kte||(kte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=j8e();Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return u(t).default}});var r=Jq();Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return u(r).default}});var n=U8e();Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return u(n).default}});var i=H8e();Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return u(i).default}});var a=rBe();Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return u(a).default}});var s=lBe();Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return u(s).default}});var o=pBe();Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return u(o).default}});var l=gBe();Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return u(l).default}});function u(f){return f&&f.__esModule?f:{default:f}}}(I5)),I5}var Dte;function vBe(){return Dte||(Dte=1,function(e){function t($e){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},t($e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=v(vn()),n=$8e,i=tve(),a=v(Cw()),s=v(fP()),o=Qf(),l=fM(),u=["showPreview","showInputs","showLabels","showHex","showRgb","small","large","disabled","autoFocus"],f=["value","onChange"],h=["type"],p=["id","label","showLabels"],m=["type"];function v($e){return $e&&$e.__esModule?$e:{default:$e}}function w($e,we){var Ee=Object.keys($e);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols($e);we&&(Re=Re.filter(function(ft){return Object.getOwnPropertyDescriptor($e,ft).enumerable})),Ee.push.apply(Ee,Re)}return Ee}function x($e){for(var we=1;we<arguments.length;we++){var Ee=arguments[we]!=null?arguments[we]:{};we%2?w(Object(Ee),!0).forEach(function(Re){T($e,Re,Ee[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(Ee)):w(Object(Ee)).forEach(function(Re){Object.defineProperty($e,Re,Object.getOwnPropertyDescriptor(Ee,Re))})}return $e}function T($e,we,Ee){return we=A(we),we in $e?Object.defineProperty($e,we,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):$e[we]=Ee,$e}function A($e){var we=P($e,"string");return t(we)==="symbol"?we:String(we)}function P($e,we){if(t($e)!=="object"||$e===null)return $e;var Ee=$e[Symbol.toPrimitive];if(Ee!==void 0){var Re=Ee.call($e,we);if(t(Re)!=="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(we==="string"?String:Number)($e)}function S(){return S=Object.assign?Object.assign.bind():function($e){for(var we=1;we<arguments.length;we++){var Ee=arguments[we];for(var Re in Ee)Object.prototype.hasOwnProperty.call(Ee,Re)&&($e[Re]=Ee[Re])}return $e},S.apply(this,arguments)}function E($e,we){return $($e)||F($e,we)||R($e,we)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R($e,we){if($e){if(typeof $e=="string")return O($e,we);var Ee=Object.prototype.toString.call($e).slice(8,-1);if(Ee==="Object"&&$e.constructor&&(Ee=$e.constructor.name),Ee==="Map"||Ee==="Set")return Array.from($e);if(Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return O($e,we)}}function O($e,we){(we==null||we>$e.length)&&(we=$e.length);for(var Ee=0,Re=new Array(we);Ee<we;Ee++)Re[Ee]=$e[Ee];return Re}function F($e,we){var Ee=$e==null?null:typeof Symbol<"u"&&$e[Symbol.iterator]||$e["@@iterator"];if(Ee!=null){var Re,ft,qe,dt,he=[],ut=!0,xt=!1;try{if(qe=(Ee=Ee.call($e)).next,we!==0)for(;!(ut=(Re=qe.call(Ee)).done)&&(he.push(Re.value),he.length!==we);ut=!0);}catch(je){xt=!0,ft=je}finally{try{if(!ut&&Ee.return!=null&&(dt=Ee.return(),Object(dt)!==dt))return}finally{if(xt)throw ft}}return he}}function $($e){if(Array.isArray($e))return $e}function z($e,we){if($e==null)return{};var Ee=q($e,we),Re,ft;if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols($e);for(ft=0;ft<qe.length;ft++)Re=qe[ft],!(we.indexOf(Re)>=0)&&Object.prototype.propertyIsEnumerable.call($e,Re)&&(Ee[Re]=$e[Re])}return Ee}function q($e,we){if($e==null)return{};var Ee={},Re=Object.keys($e),ft,qe;for(qe=0;qe<Re.length;qe++)ft=Re[qe],!(we.indexOf(ft)>=0)&&(Ee[ft]=$e[ft]);return Ee}var Z=-1,V=function(){return"input-id-".concat(++Z)},J=r.default.memo(function($e){var we=$e.small,Ee=we===void 0?!1:we,Re=$e.large,ft=Re===void 0?!1:Re,qe=(0,o.useTheme)();return r.default.createElement("div",{className:`
        `.concat(Ee?"h-3 mt-1 w-1":ft?"h-9 mt-3 w-3":"h-6 mt-2 w-2",`
        rounded pointer-events-none `).concat(qe.accent3,`
      `),style:{transform:"translate(-50%, -50%)"}})}),fe=function(we){var Ee=we.showPreview,Re=Ee===void 0?!0:Ee,ft=we.showInputs,qe=ft===void 0?!0:ft,dt=we.showLabels,he=dt===void 0?!0:dt,ut=we.showHex,xt=ut===void 0?!0:ut,je=we.showRgb,rt=je===void 0?!0:je,Ze=we.small,yt=Ze===void 0?!1:Ze,Vt=we.large,At=Vt===void 0?!1:Vt,hr=we.disabled,Sr=hr===void 0?!1:hr,fr=we.autoFocus,Dt=fr===void 0?!1:fr,dr=z(we,u),Nr=r.default.useState(),gr=E(Nr,2),wr=gr[0],Fr=gr[1],_n=r.default.useRef(V()),nn=r.default.useRef(V());r.default.useEffect(function(){wr&&Dt&&wr.focus()},[wr,Dt]);var ot=(0,o.useTheme)(),Je=ot["input".concat((0,l.composeOptions)({large:At,small:yt}))];return r.default.createElement("div",{tabIndex:Sr?-1:0,ref:Fr,className:`
        `.concat(Je,` w-full h-full
      `)},r.default.createElement("div",{className:`
          grid
          `.concat(yt?"gap-y-1 py-1":At?"gap-y-4 py-2":"gap-y-2 py-1",`
        `),style:{gridTemplateRows:"auto auto".concat(qe?" auto":"")}},r.default.createElement("div",{className:`
            grid grid-cols-12
            `.concat(yt?"gap-x-1":At?"gap-x-4":"gap-x-2",`
          `),style:{height:At?"20rem":yt?"10rem":"15rem"}},r.default.createElement("div",{className:`
              relative h-full cursor-pointer
              `.concat(Re?"col-span-9":"col-span-12",`
            `)},r.default.createElement(i.Saturation,S({},dr,{style:{pointer:{pointerEvents:"none"}}}))),Re?r.default.createElement("div",{className:"col-span-3 h-full rounded",style:{backgroundColor:dr.hex}}):null),r.default.createElement("div",{className:`
            rounded cursor-pointer relative
            `.concat(yt?"h-2":At?"h-6":"h-4",`
          `)},r.default.createElement(i.Hue,S({},dr,{direction:"horizontal",pointer:function(){return r.default.createElement(J,{small:yt,large:At})}}))),qe?r.default.createElement("div",{className:`
              grid grid-cols-`.concat(!!xt+!!rt,`
              `).concat(yt?"gap-x-1":At?"gap-x-4":"gap-x-2",`
            `)},xt?r.default.createElement("div",{className:he?"".concat(ot.accent1,` rounded
                  `).concat(he?yt?"px-1 pt-1 pb-0":At?"px-4 pt-4 pb-3":"px-2 pt-2 pb-1":"",`
                `):null},r.default.createElement(_e,S({id:_n.current},dr,{value:dr.hex,small:yt,large:At,showLabels:he}))):null,rt?r.default.createElement("div",{className:he?"".concat(ot.accent1,` rounded
                  `).concat(he?yt?"px-1 pt-1 pb-0":At?"px-4 pt-4 pb-3":"px-2 pt-2 pb-1":"",`
                `):null},r.default.createElement(ct,S({id:nn.current},dr,{value:dr.rgb,small:yt,large:At,showLabels:he}))):null):null))},ue=(0,n.CustomPicker)(fe),pe=function(we){var Ee=we.value,Re=we.onChange,ft=z(we,f),qe=r.default.useCallback(function(dt){var he=dt.hex;Re(he)},[Re]);return r.default.createElement(ue,S({color:Ee||""},ft,{onChange:qe}))},ve=pe;e.default=ve;var le=function(we){return{value:we.toUpperCase(),blurValue:we.toUpperCase()}},se=function(we,Ee){var Re=Ee.type,ft=z(Ee,h);switch(Re){case"update-state":return x(x({},we),ft);default:return we}},ge=r.default.forwardRef(function($e,we){var Ee=$e.id,Re=$e.label,ft=$e.showLabels,qe=z($e,p);return r.default.createElement("div",{className:"flex flex-col items-center"},r.default.createElement(s.default,S({id:Ee,ref:we},qe)),ft?r.default.createElement("label",{htmlFor:Ee,className:`
            font-bold
            `.concat(qe.small?"text-sm":qe.large?"text-lg":"text-base",`
          `)},Re):null)}),_e=function(we){var Ee=we.id,Re=we.value,ft=we.onChange,qe=we.small,dt=qe===void 0?!1:qe,he=we.large,ut=he===void 0?!1:he,xt=we.showLabels,je=xt===void 0?!0:xt,rt=r.default.useReducer(se,Re,le),Ze=E(rt,2),yt=Ze[0],Vt=Ze[1],At=r.default.useRef(null),hr=r.default.useRef(null),Sr=r.default.useRef(null);r.default.useEffect(function(){Re!==yt.value&&(Sr.current!==Re||hr.current!==yt.value)&&(At.current===document.activeElement?Vt({type:"update-state",blurValue:Re.toUpperCase()}):Vt({type:"update-state",value:Re.toUpperCase(),blurValue:!yt.blurValue&&Re.toUpperCase()})),hr.current=yt.value,Sr.current=Re},[Re,yt]);var fr=r.default.useCallback(function(dr){Vt({type:"update-state",value:dr}),ft(dr)},[ft]),Dt=r.default.useCallback(function(dr){yt.blurValue&&Vt({type:"update-state",value:yt.blurValue,blurValue:null})},[yt]);return r.default.createElement(ge,{type:"text",id:Ee,small:dt,large:ut,ref:At,onChange:fr,value:yt.value,onBlur:Dt,showLabels:je,label:"Hex"})},ke=function(we){return{value:we,blurValue:we}},Ge=function(we,Ee){var Re=Ee.type,ft=z(Ee,m);switch(Re){case"update-state":return x(x({},we),ft);case"update-value":return x(x({},we),{},{value:x(x({},we.value),ft)});default:return we}},ct=function(we){var Ee=we.id,Re=we.value,ft=we.onChange,qe=we.small,dt=qe===void 0?!1:qe,he=we.large,ut=he===void 0?!1:he,xt=we.showLabels,je=xt===void 0?!0:xt,rt=r.default.useReducer(Ge,Re,ke),Ze=E(rt,2),yt=Ze[0],Vt=Ze[1],At=r.default.useRef(null),hr=r.default.useRef(null),Sr=r.default.useRef(null),fr=r.default.useRef(null),Dt=r.default.useRef(null);r.default.useEffect(function(){if(!(0,a.default)(Re,yt.value)&&(!(0,a.default)(Dt.current,Re)||!(0,a.default)(fr.current,yt.value))){var gr=[At.current,hr.current,Sr.current];gr.includes(document.activeElement)?Vt({type:"update-state",blurValue:Re}):Vt({type:"update-state",value:Re,blurValue:!yt.blurValue&&Re})}fr.current=yt.value,Dt.current=Re},[Re,yt]);var dr=r.default.useCallback(function(gr,wr){var Fr=wr.target.name;Vt(T({type:"update-value"},Fr,gr)),ft(x(x({},Re),{},T({},Fr,gr)))},[Re,ft]),Nr=r.default.useCallback(function(gr){yt.blurValue&&Vt({type:"update-state",value:yt.blurValue,blurValue:null})},[yt]);return r.default.createElement("div",{className:`
      grid grid-cols-3
      `.concat(dt?"gap-x-1":ut?"gap-x-4":"gap-x-2",`
    `)},r.default.createElement(ge,{type:"number",id:"r-".concat(Ee),name:"r",small:dt,large:ut,min:0,max:255,ref:At,onChange:dr,value:yt.value.r,onBlur:Nr,showLabels:je,label:"Red"}),r.default.createElement(ge,{type:"number",id:"g-".concat(Ee),name:"g",small:dt,large:ut,min:0,max:255,ref:hr,onChange:dr,value:yt.value.g,onBlur:Nr,showLabels:je,label:"Green"}),r.default.createElement(ge,{type:"number",id:"b-".concat(Ee),name:"b",small:dt,large:ut,min:0,max:255,ref:Sr,onChange:dr,value:yt.value.b,onBlur:Nr,showLabels:je,label:"Blue"}))}}(bN)),bN}var Fte;function eH(){return Fte||(Fte=1,function(e){function t(x){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},t(x)}Object.defineProperty(e,"__esModule",{value:!0});var r={Input:!0,TextArea:!0,ArrayInput:!0,Select:!0,ObjectInput:!0,BooleanInput:!0,MarkdownInput:!0,MarkdownViewer:!0,ColorInput:!0,verifyValue:!0,hasValue:!0};Object.defineProperty(e,"ArrayInput",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"BooleanInput",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"ColorInput",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Input",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"MarkdownInput",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"MarkdownViewer",{enumerable:!0,get:function(){return u.MarkdownViewer}}),Object.defineProperty(e,"ObjectInput",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"TextArea",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"hasValue",{enumerable:!0,get:function(){return h.hasValue}}),Object.defineProperty(e,"verifyValue",{enumerable:!0,get:function(){return h.verifyValue}});var n=w(fP()),i=w(lke()),a=w(uke()),s=w(xke()),o=w(Ske()),l=w(Eke()),u=v(KLe()),f=w(vBe()),h=iM(),p=XU();Object.keys(p).forEach(function(x){x==="default"||x==="__esModule"||Object.prototype.hasOwnProperty.call(r,x)||x in e&&e[x]===p[x]||Object.defineProperty(e,x,{enumerable:!0,get:function(){return p[x]}})});function m(x){if(typeof WeakMap!="function")return null;var T=new WeakMap,A=new WeakMap;return(m=function(S){return S?A:T})(x)}function v(x,T){if(x&&x.__esModule)return x;if(x===null||t(x)!=="object"&&typeof x!="function")return{default:x};var A=m(T);if(A&&A.has(x))return A.get(x);var P={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in x)if(E!=="default"&&Object.prototype.hasOwnProperty.call(x,E)){var _=S?Object.getOwnPropertyDescriptor(x,E):null;_&&(_.get||_.set)?Object.defineProperty(P,E,_):P[E]=x[E]}return P.default=x,A&&A.set(x,P),P}function w(x){return x&&x.__esModule?x:{default:x}}}(BL)),BL}var NE={},Lte;function yBe(){if(Lte)return NE;Lte=1,Object.defineProperty(NE,"__esModule",{value:!0}),NE.DefaultColumnFilter=void 0;var e=Qf(),t=r(vn());function r(i){return i&&i.__esModule?i:{default:i}}var n=function(a){var s=a.column,o=s.filterValue,l=o===void 0?"":o,u=s.setFilter,f=s.filterPlaceholder,h=f===void 0?"Search...":f,p=s.filterClassName,m=p===void 0?"":p,v=(0,e.useTheme)().table();return t.default.createElement("div",{className:"w-3/4"},t.default.createElement("input",{className:"".concat(v.inputSmall," ").concat(m),value:l,onChange:function(x){return u(x.target.value)},onClick:function(x){return x.stopPropagation()},placeholder:h}))};return NE.DefaultColumnFilter=n,NE}var $E={},Nte;function bBe(){if(Nte)return $E;Nte=1,Object.defineProperty($E,"__esModule",{value:!0}),$E.DropDownColumnFilter=void 0;var e=r(vn()),t=eH();function r(f){return f&&f.__esModule?f:{default:f}}function n(f){return o(f)||s(f)||a(f)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(f,h){if(f){if(typeof f=="string")return l(f,h);var p=Object.prototype.toString.call(f).slice(8,-1);if(p==="Object"&&f.constructor&&(p=f.constructor.name),p==="Map"||p==="Set")return Array.from(f);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return l(f,h)}}function s(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function o(f){if(Array.isArray(f))return l(f)}function l(f,h){(h==null||h>f.length)&&(h=f.length);for(var p=0,m=new Array(h);p<h;p++)m[p]=f[p];return m}var u=function(h){var p=h.column,m=p.filterValue,v=p.setFilter,w=p.preFilteredRows,x=p.id,T=p.filterMeta,A=p.filterDomain,P=p.onFilterChange,S=P===void 0?function(){}:P,E=p.customValue,_=p.searchable,R=_===void 0?!1:_,O=p.filterThemeOptions,F=p.filterClassName,$=p.filterMulti,z=p.filterRemovable,q=z===void 0?!0:z,Z=p.filterPlaceholder,V=Z===void 0?"Select a value...":Z,J=e.default.useMemo(function(){var fe=new Set;return T||(w.forEach(function(ue){fe.add(ue.values[x])}),n(fe.values()))},[T,x,w]).filter(function(fe){return fe});return w.length,e.default.createElement("div",{className:""},e.default.createElement(t.Select,{domain:A||J,searchable:R,value:m||E||[],onChange:function(ue){v(ue||void 0),S(ue||void 0)},placeholder:V,removable:q,multi:$,themeOptions:O,className:"".concat(F)}))};return $E.DropDownColumnFilter=u,$E}var hR={},$te;function _Be(){if($te)return hR;$te=1,Object.defineProperty(hR,"__esModule",{value:!0}),hR.fuzzyTextFilterFn=t;var e=pP;function t(r,n,i){return(0,e.matchSorter)(r,i,{keys:[function(a){return a.values[n]}]})}return hR}var pR={},zte;function wBe(){if(zte)return pR;zte=1,Object.defineProperty(pR,"__esModule",{value:!0}),pR.DropDownFilterFn=e;function e(t,r,n){return t.filter(function(i){var a=i.values[r];return a!==void 0&&Array.isArray(n)&&n.length?n.includes(a):a!==void 0&&n.length?a===n:!0})}return pR}var zE={},Bte;function rve(){if(Bte)return zE;Bte=1,Object.defineProperty(zE,"__esModule",{value:!0}),zE.getPageSpread=void 0;var e=function(r,n){var i=r-2,a=r+2;i<0&&(a+=-i,i=0),a>n&&(i-=a-n,a=n);for(var s=[],o=Math.max(0,i);o<=Math.min(n,a);++o)s.push(o);return s};return zE.getPageSpread=e,zE}var BE={},jte;function xBe(){if(jte)return BE;jte=1,Object.defineProperty(BE,"__esModule",{value:!0}),BE.DefaultExpandedRow=void 0;var e=t(vn());function t(n){return n&&n.__esModule?n:{default:n}}var r=function(i){var a=i.values;return i.theme,e.default.createElement("div",{className:"flex flex-col divide-y"},a.map(function(s,o){var l=s.key,u=s.value;return e.default.createElement("div",{key:l||"key-".concat(o),className:"flex-1"},l?e.default.createElement("div",{className:"font-semibold"},l,":"):null,e.default.createElement("span",{className:!0},u))}))};return BE.DefaultExpandedRow=r,BE}var jE={},Ute;function SBe(){if(Ute)return jE;Ute=1,Object.defineProperty(jE,"__esModule",{value:!0}),jE.Pagination=void 0;var e=fS(),t=rve(),r=n(vn());function n(a){return a&&a.__esModule?a:{default:a}}var i=function(s){var o=s.fetchData,l=s.manualPagination,u=s.theme,f=s.pageValue,h=s.pageCount,p=s.pageSize,m=s.pageIndex,v=s.statePageSize,w=s.totalRecords,x=s.rows,T=s.canNextPage,A=s.onPageSelect,P=s.onPrevPage,S=s.onNextPage,E=s.previousPage,_=s.gotoPage,R=s.nextPage;return h<=1?null:r.default.createElement("div",{className:"flex items-center flex-wrap ".concat(u.textInfo)},r.default.createElement("div",{className:"flex-0"},"Page ",f+1," of ",h,r.default.createElement("br",null),"Rows ",f*p+1," -",!o&&!l?Math.min(x.length,m*v+v):Math.min(w,f*p+p)," of ",!o&&!l?x.length:w),r.default.createElement("div",{className:"flex-1 flex justify-end items-center"},r.default.createElement(e.Button,{disabled:f===0,themeOptions:{size:"sm"},onClick:function(F){return!o&&!l?_(0):A(0)}},"<<"),r.default.createElement(e.Button,{disabled:f===0,themeOptions:{size:"sm"},onClick:function(F){return!o&&!l?E():P()}},"<"),(0,t.getPageSpread)(f,h-1).map(function(O){var F=O===f;return r.default.createElement(e.Button,{key:O,themeOptions:{size:"sm",color:F?"primary":"white"},onClick:F?null:function($){return!o&&!l?_(O):A(O)}},O+1)}),r.default.createElement(e.Button,{disabled:!o&&!l?!T:f===h-1,themeOptions:{size:"sm"},onClick:function(F){return!o&&!l?R(0):S(F)}},">"),r.default.createElement(e.Button,{disabled:f===h-1,themeOptions:{size:"sm"},onClick:function(F){return!o&&!l?_(h-1):A(h-1)}},">>")))};return jE.Pagination=i,jE}var UE={},qte;function EBe(){if(qte)return UE;qte=1,Object.defineProperty(UE,"__esModule",{value:!0}),UE.RenderExpandedRow=void 0;var e=t(vn());function t(n){return n&&n.__esModule?n:{default:n}}var r=function(i){var a=i.row,s=i.expand,o=i.visibleColumns,l=i.ExpandRow,u=i.theme;return!a.isExpanded||!s.length?null:e.default.createElement("tr",{className:u.tableRow},e.default.createElement("td",{colSpan:o.length,className:u.tableCell},e.default.createElement(l,{values:s})))};return UE.RenderExpandedRow=r,UE}var qE={},Hte;function CBe(){if(Hte)return qE;Hte=1,Object.defineProperty(qE,"__esModule",{value:!0}),qE.RenderCell=void 0;var e=r(lg()),t=r(vn());function r(a){return a&&a.__esModule?a:{default:a}}function n(){return n=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},n.apply(this,arguments)}var i=function(s){var o=s.ii,l=s.cell,u=s.row,f=s.columns,h=s.expand,p=s.expanded,m=s.toggleRowExpanded,v=s.theme;return t.default.createElement("td",n({key:o},l.getCellProps({style:{minWidth:l.column.minWidth,maxWidth:l.column.maxWidth,width:l.column.width}}),{className:"text-".concat((0,e.default)(f.find(function(w){return w.Header===l.column.Header}),"align")||"center"," ").concat(v.tableCell)}),o>0||u.subRows.length===0&&h.length===0?l.render("Cell"):t.default.createElement("div",{className:"flex items-center"},t.default.createElement("div",{className:"flex-1"},l.render("Cell")),t.default.createElement("div",{onClick:function(x){x.stopPropagation(),x.preventDefault(),Object.keys(p).filter(function(T){return T!==u.id}).forEach(m),u.toggleRowExpanded(!u.isExpanded)},className:`
                                                  flex item-center justify-center
                                                  rounded cursor-pointer py-1 px-2
                                                  hover:`.concat(v.accent3," ").concat(v.transition,`
                                                `)},u.isExpanded?t.default.createElement("i",{className:"fas fa-chevron-up"}):t.default.createElement("i",{className:"fas fa-chevron-down"}))))};return qE.RenderCell=i,qE}var Wte;function PBe(){return Wte||(Wte=1,function(e){function t(se){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},t(se)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=T(vn()),n=Dpe(),i=w(Fpe());fS(),eH(),w(lg());var a=Qf(),s=yBe(),o=bBe(),l=_Be(),u=wBe();rve();var f=xBe(),h=SBe(),p=EBe(),m=CBe(),v=["columns","data","sortBy","sortOrder","initialPageSize","manualPagination","fetchData","onPageChange","numRecords","manualCurrentPage","pageSize","onRowClick","onRowEnter","onRowLeave","ExpandRow","disableFilters","disableSortBy","themeOptions"];function w(se){return se&&se.__esModule?se:{default:se}}function x(se){if(typeof WeakMap!="function")return null;var ge=new WeakMap,_e=new WeakMap;return(x=function(Ge){return Ge?_e:ge})(se)}function T(se,ge){if(se&&se.__esModule)return se;if(se===null||t(se)!=="object"&&typeof se!="function")return{default:se};var _e=x(ge);if(_e&&_e.has(se))return _e.get(se);var ke={},Ge=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ct in se)if(ct!=="default"&&Object.prototype.hasOwnProperty.call(se,ct)){var $e=Ge?Object.getOwnPropertyDescriptor(se,ct):null;$e&&($e.get||$e.set)?Object.defineProperty(ke,ct,$e):ke[ct]=se[ct]}return ke.default=se,_e&&_e.set(se,ke),ke}function A(){return A=Object.assign?Object.assign.bind():function(se){for(var ge=1;ge<arguments.length;ge++){var _e=arguments[ge];for(var ke in _e)Object.prototype.hasOwnProperty.call(_e,ke)&&(se[ke]=_e[ke])}return se},A.apply(this,arguments)}function P(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P=function(){return se};var se={},ge=Object.prototype,_e=ge.hasOwnProperty,ke=Object.defineProperty||function(gr,wr,Fr){gr[wr]=Fr.value},Ge=typeof Symbol=="function"?Symbol:{},ct=Ge.iterator||"@@iterator",$e=Ge.asyncIterator||"@@asyncIterator",we=Ge.toStringTag||"@@toStringTag";function Ee(gr,wr,Fr){return Object.defineProperty(gr,wr,{value:Fr,enumerable:!0,configurable:!0,writable:!0}),gr[wr]}try{Ee({},"")}catch{Ee=function(Fr,_n,nn){return Fr[_n]=nn}}function Re(gr,wr,Fr,_n){var nn=wr&&wr.prototype instanceof dt?wr:dt,ot=Object.create(nn.prototype),Je=new Dt(_n||[]);return ke(ot,"_invoke",{value:At(gr,Fr,Je)}),ot}function ft(gr,wr,Fr){try{return{type:"normal",arg:gr.call(wr,Fr)}}catch(_n){return{type:"throw",arg:_n}}}se.wrap=Re;var qe={};function dt(){}function he(){}function ut(){}var xt={};Ee(xt,ct,function(){return this});var je=Object.getPrototypeOf,rt=je&&je(je(dr([])));rt&&rt!==ge&&_e.call(rt,ct)&&(xt=rt);var Ze=ut.prototype=dt.prototype=Object.create(xt);function yt(gr){["next","throw","return"].forEach(function(wr){Ee(gr,wr,function(Fr){return this._invoke(wr,Fr)})})}function Vt(gr,wr){function Fr(nn,ot,Je,Me){var Le=ft(gr[nn],gr,ot);if(Le.type!=="throw"){var Ye=Le.arg,gt=Ye.value;return gt&&t(gt)=="object"&&_e.call(gt,"__await")?wr.resolve(gt.__await).then(function(kt){Fr("next",kt,Je,Me)},function(kt){Fr("throw",kt,Je,Me)}):wr.resolve(gt).then(function(kt){Ye.value=kt,Je(Ye)},function(kt){return Fr("throw",kt,Je,Me)})}Me(Le.arg)}var _n;ke(this,"_invoke",{value:function(ot,Je){function Me(){return new wr(function(Le,Ye){Fr(ot,Je,Le,Ye)})}return _n=_n?_n.then(Me,Me):Me()}})}function At(gr,wr,Fr){var _n="suspendedStart";return function(nn,ot){if(_n==="executing")throw new Error("Generator is already running");if(_n==="completed"){if(nn==="throw")throw ot;return Nr()}for(Fr.method=nn,Fr.arg=ot;;){var Je=Fr.delegate;if(Je){var Me=hr(Je,Fr);if(Me){if(Me===qe)continue;return Me}}if(Fr.method==="next")Fr.sent=Fr._sent=Fr.arg;else if(Fr.method==="throw"){if(_n==="suspendedStart")throw _n="completed",Fr.arg;Fr.dispatchException(Fr.arg)}else Fr.method==="return"&&Fr.abrupt("return",Fr.arg);_n="executing";var Le=ft(gr,wr,Fr);if(Le.type==="normal"){if(_n=Fr.done?"completed":"suspendedYield",Le.arg===qe)continue;return{value:Le.arg,done:Fr.done}}Le.type==="throw"&&(_n="completed",Fr.method="throw",Fr.arg=Le.arg)}}}function hr(gr,wr){var Fr=wr.method,_n=gr.iterator[Fr];if(_n===void 0)return wr.delegate=null,Fr==="throw"&&gr.iterator.return&&(wr.method="return",wr.arg=void 0,hr(gr,wr),wr.method==="throw")||Fr!=="return"&&(wr.method="throw",wr.arg=new TypeError("The iterator does not provide a '"+Fr+"' method")),qe;var nn=ft(_n,gr.iterator,wr.arg);if(nn.type==="throw")return wr.method="throw",wr.arg=nn.arg,wr.delegate=null,qe;var ot=nn.arg;return ot?ot.done?(wr[gr.resultName]=ot.value,wr.next=gr.nextLoc,wr.method!=="return"&&(wr.method="next",wr.arg=void 0),wr.delegate=null,qe):ot:(wr.method="throw",wr.arg=new TypeError("iterator result is not an object"),wr.delegate=null,qe)}function Sr(gr){var wr={tryLoc:gr[0]};1 in gr&&(wr.catchLoc=gr[1]),2 in gr&&(wr.finallyLoc=gr[2],wr.afterLoc=gr[3]),this.tryEntries.push(wr)}function fr(gr){var wr=gr.completion||{};wr.type="normal",delete wr.arg,gr.completion=wr}function Dt(gr){this.tryEntries=[{tryLoc:"root"}],gr.forEach(Sr,this),this.reset(!0)}function dr(gr){if(gr){var wr=gr[ct];if(wr)return wr.call(gr);if(typeof gr.next=="function")return gr;if(!isNaN(gr.length)){var Fr=-1,_n=function nn(){for(;++Fr<gr.length;)if(_e.call(gr,Fr))return nn.value=gr[Fr],nn.done=!1,nn;return nn.value=void 0,nn.done=!0,nn};return _n.next=_n}}return{next:Nr}}function Nr(){return{value:void 0,done:!0}}return he.prototype=ut,ke(Ze,"constructor",{value:ut,configurable:!0}),ke(ut,"constructor",{value:he,configurable:!0}),he.displayName=Ee(ut,we,"GeneratorFunction"),se.isGeneratorFunction=function(gr){var wr=typeof gr=="function"&&gr.constructor;return!!wr&&(wr===he||(wr.displayName||wr.name)==="GeneratorFunction")},se.mark=function(gr){return Object.setPrototypeOf?Object.setPrototypeOf(gr,ut):(gr.__proto__=ut,Ee(gr,we,"GeneratorFunction")),gr.prototype=Object.create(Ze),gr},se.awrap=function(gr){return{__await:gr}},yt(Vt.prototype),Ee(Vt.prototype,$e,function(){return this}),se.AsyncIterator=Vt,se.async=function(gr,wr,Fr,_n,nn){nn===void 0&&(nn=Promise);var ot=new Vt(Re(gr,wr,Fr,_n),nn);return se.isGeneratorFunction(wr)?ot:ot.next().then(function(Je){return Je.done?Je.value:ot.next()})},yt(Ze),Ee(Ze,we,"Generator"),Ee(Ze,ct,function(){return this}),Ee(Ze,"toString",function(){return"[object Generator]"}),se.keys=function(gr){var wr=Object(gr),Fr=[];for(var _n in wr)Fr.push(_n);return Fr.reverse(),function nn(){for(;Fr.length;){var ot=Fr.pop();if(ot in wr)return nn.value=ot,nn.done=!1,nn}return nn.done=!0,nn}},se.values=dr,Dt.prototype={constructor:Dt,reset:function(wr){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(fr),!wr)for(var Fr in this)Fr.charAt(0)==="t"&&_e.call(this,Fr)&&!isNaN(+Fr.slice(1))&&(this[Fr]=void 0)},stop:function(){this.done=!0;var wr=this.tryEntries[0].completion;if(wr.type==="throw")throw wr.arg;return this.rval},dispatchException:function(wr){if(this.done)throw wr;var Fr=this;function _n(Ye,gt){return Je.type="throw",Je.arg=wr,Fr.next=Ye,gt&&(Fr.method="next",Fr.arg=void 0),!!gt}for(var nn=this.tryEntries.length-1;nn>=0;--nn){var ot=this.tryEntries[nn],Je=ot.completion;if(ot.tryLoc==="root")return _n("end");if(ot.tryLoc<=this.prev){var Me=_e.call(ot,"catchLoc"),Le=_e.call(ot,"finallyLoc");if(Me&&Le){if(this.prev<ot.catchLoc)return _n(ot.catchLoc,!0);if(this.prev<ot.finallyLoc)return _n(ot.finallyLoc)}else if(Me){if(this.prev<ot.catchLoc)return _n(ot.catchLoc,!0)}else{if(!Le)throw new Error("try statement without catch or finally");if(this.prev<ot.finallyLoc)return _n(ot.finallyLoc)}}}},abrupt:function(wr,Fr){for(var _n=this.tryEntries.length-1;_n>=0;--_n){var nn=this.tryEntries[_n];if(nn.tryLoc<=this.prev&&_e.call(nn,"finallyLoc")&&this.prev<nn.finallyLoc){var ot=nn;break}}ot&&(wr==="break"||wr==="continue")&&ot.tryLoc<=Fr&&Fr<=ot.finallyLoc&&(ot=null);var Je=ot?ot.completion:{};return Je.type=wr,Je.arg=Fr,ot?(this.method="next",this.next=ot.finallyLoc,qe):this.complete(Je)},complete:function(wr,Fr){if(wr.type==="throw")throw wr.arg;return wr.type==="break"||wr.type==="continue"?this.next=wr.arg:wr.type==="return"?(this.rval=this.arg=wr.arg,this.method="return",this.next="end"):wr.type==="normal"&&Fr&&(this.next=Fr),qe},finish:function(wr){for(var Fr=this.tryEntries.length-1;Fr>=0;--Fr){var _n=this.tryEntries[Fr];if(_n.finallyLoc===wr)return this.complete(_n.completion,_n.afterLoc),fr(_n),qe}},catch:function(wr){for(var Fr=this.tryEntries.length-1;Fr>=0;--Fr){var _n=this.tryEntries[Fr];if(_n.tryLoc===wr){var nn=_n.completion;if(nn.type==="throw"){var ot=nn.arg;fr(_n)}return ot}}throw new Error("illegal catch attempt")},delegateYield:function(wr,Fr,_n){return this.delegate={iterator:dr(wr),resultName:Fr,nextLoc:_n},this.method==="next"&&(this.arg=void 0),qe}},se}function S(se,ge,_e,ke,Ge,ct,$e){try{var we=se[ct]($e),Ee=we.value}catch(Re){_e(Re);return}we.done?ge(Ee):Promise.resolve(Ee).then(ke,Ge)}function E(se){return function(){var ge=this,_e=arguments;return new Promise(function(ke,Ge){var ct=se.apply(ge,_e);function $e(Ee){S(ct,ke,Ge,$e,we,"next",Ee)}function we(Ee){S(ct,ke,Ge,$e,we,"throw",Ee)}$e(void 0)})}}function _(se,ge){var _e=Object.keys(se);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(se);ge&&(ke=ke.filter(function(Ge){return Object.getOwnPropertyDescriptor(se,Ge).enumerable})),_e.push.apply(_e,ke)}return _e}function R(se){for(var ge=1;ge<arguments.length;ge++){var _e=arguments[ge]!=null?arguments[ge]:{};ge%2?_(Object(_e),!0).forEach(function(ke){O(se,ke,_e[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(_e)):_(Object(_e)).forEach(function(ke){Object.defineProperty(se,ke,Object.getOwnPropertyDescriptor(_e,ke))})}return se}function O(se,ge,_e){return ge=F(ge),ge in se?Object.defineProperty(se,ge,{value:_e,enumerable:!0,configurable:!0,writable:!0}):se[ge]=_e,se}function F(se){var ge=$(se,"string");return t(ge)==="symbol"?ge:String(ge)}function $(se,ge){if(t(se)!=="object"||se===null)return se;var _e=se[Symbol.toPrimitive];if(_e!==void 0){var ke=_e.call(se,ge);if(t(ke)!=="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ge==="string"?String:Number)(se)}function z(se,ge){return fe(se)||J(se,ge)||Z(se,ge)||q()}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(se,ge){if(se){if(typeof se=="string")return V(se,ge);var _e=Object.prototype.toString.call(se).slice(8,-1);if(_e==="Object"&&se.constructor&&(_e=se.constructor.name),_e==="Map"||_e==="Set")return Array.from(se);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return V(se,ge)}}function V(se,ge){(ge==null||ge>se.length)&&(ge=se.length);for(var _e=0,ke=new Array(ge);_e<ge;_e++)ke[_e]=se[_e];return ke}function J(se,ge){var _e=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(_e!=null){var ke,Ge,ct,$e,we=[],Ee=!0,Re=!1;try{if(ct=(_e=_e.call(se)).next,ge!==0)for(;!(Ee=(ke=ct.call(_e)).done)&&(we.push(ke.value),we.length!==ge);Ee=!0);}catch(ft){Re=!0,Ge=ft}finally{try{if(!Ee&&_e.return!=null&&($e=_e.return(),Object($e)!==$e))return}finally{if(Re)throw Ge}}return we}}function fe(se){if(Array.isArray(se))return se}function ue(se,ge){if(se==null)return{};var _e=pe(se,ge),ke,Ge;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(se);for(Ge=0;Ge<ct.length;Ge++)ke=ct[Ge],!(ge.indexOf(ke)>=0)&&Object.prototype.propertyIsEnumerable.call(se,ke)&&(_e[ke]=se[ke])}return _e}function pe(se,ge){if(se==null)return{};var _e={},ke=Object.keys(se),Ge,ct;for(ct=0;ct<ke.length;ct++)Ge=ke[ct],!(ge.indexOf(Ge)>=0)&&(_e[Ge]=se[Ge]);return _e}var ve=[],le=function(ge){var _e=ge.columns,ke=_e===void 0?ve:_e,Ge=ge.data,ct=Ge===void 0?ve:Ge,$e=ge.sortBy,we=ge.sortOrder,Ee=we===void 0?"":we,Re=ge.initialPageSize,ft=Re===void 0?10:Re,qe=ge.manualPagination,dt=ge.fetchData,he=ge.onPageChange,ut=ge.numRecords,xt=ge.manualCurrentPage,je=ge.pageSize,rt=je===void 0?5:je,Ze=ge.onRowClick,yt=ge.onRowEnter,Vt=ge.onRowLeave,At=ge.ExpandRow,hr=At===void 0?f.DefaultExpandedRow:At,Sr=ge.disableFilters,fr=Sr===void 0?!1:Sr,Dt=ge.disableSortBy,dr=Dt===void 0?!1:Dt,Nr=ge.themeOptions,gr=Nr===void 0?{}:Nr,wr=ue(ge,v),Fr=r.default.useState(ct||[]),_n=z(Fr,2),nn=_n[0],ot=_n[1],Je=r.default.useState(ut||0),Me=z(Je,2),Le=Me[0],Ye=Me[1],gt=(0,r.useState)(xt||0),kt=z(gt,2),at=kt[0],Ft=kt[1],Tt=(0,r.useState)(0),ir=z(Tt,2),or=ir[0],ar=ir[1],zr=(0,r.useState)(!1),mt=z(zr,2),It=mt[0],Kt=mt[1],br=(0,a.useTheme)().table(gr),Rr=r.default.useMemo(function(){return{fuzzyText:l.fuzzyTextFilterFn,dropdown:u.DropDownFilterFn}},[]),jt=r.default.useMemo(function(){return{dropdown:o.DropDownColumnFilter,text:s.DefaultColumnFilter}},[]),Yt=r.default.useMemo(function(){return{Filter:!1}},[]),Jt=(0,n.useTable)(R(R({columns:ke,data:nn,manualPagination:!!qe||!!dt},(!!dt||!!qe)&&{pageCount:Math.ceil(Le/rt)}),{},{defaultColumn:Yt,filterTypes:Rr,disableFilters:fr,disableSortBy:dr,initialState:{pageSize:+rt||+ft,sortBy:[{id:$e,desc:Ee.toLowerCase()==="desc"}]}}),n.useFilters,n.useGlobalFilter,n.useSortBy,n.useExpanded,n.usePagination),rr=Jt.getTableProps,vr=Jt.getTableBodyProps,Lt=Jt.headerGroups,Ir=Jt.page,fn=Jt.rows,Fn=Jt.preFilteredRows,ui=Jt.prepareRow;Jt.canPreviousPage;var yi=Jt.canNextPage,Wn=Jt.gotoPage,mi=Jt.previousPage,ya=Jt.nextPage,Ka=Jt.pageCount,Ua=Jt.visibleColumns,Ji=Jt.toggleRowExpanded,So=Jt.setPageSize,ci=Jt.state,Ia=ci.pageSize,Ti=ci.pageIndex,Ko=ci.expanded;r.default.useEffect(function(){rt!==null&&rt!==Ia&&So(+rt)},[rt,Ia,So]),r.default.useEffect(function(){if(dt){var bi=function(){var Ri=E(P().mark(function sa(){var qa,os,Eo;return P().wrap(function(Zo){for(;;)switch(Zo.prev=Zo.next){case 0:return Kt(!0),Zo.next=3,dt({currentPage:at,pageSize:rt});case 3:return qa=Zo.sent,os=qa.data,Eo=qa.length,Zo.abrupt("return",{data:os,length:Eo});case 7:case"end":return Zo.stop()}},sa)}));return function(){return Ri.apply(this,arguments)}}();bi().then(function(Ri){ot((Ri==null?void 0:Ri.data)||[]),Ye((Ri==null?void 0:Ri.length)||0),Kt(!1)})}},[dt,rt,at]),r.default.useEffect(function(){dt||ot(ct)},[ct,Ka,dt]),r.default.useEffect(function(){!dt&&Le!==ut&&Ye(ut)},[ut]),r.default.useEffect(function(){ar(dt||qe?at:Ti)},[Ti,at]);var wi=(0,r.useCallback)(function(){Ft(function(bi){return bi+1}),he(function(bi){return bi+1})},[]),lo=(0,r.useCallback)(function(){Ft(function(bi){return bi-1}),he(function(bi){return bi-1})},[]),co=(0,r.useCallback)(function(bi){at!==bi&&Ft(bi),he(bi)},[at]);return!(ke.length&&nn.length)||!Fn.length?null:r.default.createElement("div",{className:"w-full"},r.default.createElement("div",{className:"overflow-auto scrollbar-sm"},It&&r.default.createElement("div",{className:"z-10 absolute float-center text-center align-middle items-center w-full",style:{backgroundColor:"rgba(255,255,255,0.38)",width:"100%"}},r.default.createElement(i.default,{width:"100%",height:"100%"})),r.default.createElement("table",A({},rr(),{className:"w-full"}),r.default.createElement("thead",null,Lt.map(function(bi){return r.default.createElement("tr",bi.getHeaderGroupProps(),bi.headers.map(function(Ri){return r.default.createElement("th",A({},Ri.getHeaderProps(R(R({},Ri.getSortByToggleProps()),{},{style:{minWidth:Ri.minWidth,width:Ri.width,maxWidth:Ri.maxWidth}})),{className:br.tableHeader}),r.default.createElement("div",{className:"flex flex-col"},r.default.createElement("div",{className:"flex justify-between items-center"},r.default.createElement("div",{className:"flex-1 pr-1"},Ri.render("Header")),r.default.createElement(r.default.Fragment,null,Ri.info&&r.default.createElement("i",{className:"".concat(br.infoIcon),title:Ri.info}),Ri.canSort?Ri.isSorted?Ri.isSortedDesc?r.default.createElement("i",{className:"ml-2 pt-1 ".concat(br.sortIconDown)}):r.default.createElement("i",{className:"ml-2 pt-1 ".concat(br.sortIconUp)}):r.default.createElement("i",{className:"ml-2 pt-1 ".concat(br.sortIconIdeal)}):null)),r.default.createElement("div",null,Ri.canFilter?r.default.createElement("div",null,Ri.render(jt[Ri.filter]||"Filter")):null)))}))})),r.default.createElement("tbody",vr(),Ir.map(function(bi){var Ri=bi.original,sa=Ri.onClick,qa=Ri.expand,os=qa===void 0?[]:qa;return ui(bi),r.default.createElement(r.default.Fragment,{key:bi.getRowProps().key},r.default.createElement("tr",A({},bi.getRowProps(),{onMouseEnter:typeof yt=="function"?function(Eo){return yt(Eo,bi)}:null,onMouseLeave:typeof Vt=="function"?function(Eo){return Vt(Eo,bi)}:null,className:`
                                        `.concat(wr.striped?br.tableRowStriped:br.tableRow,`
                                        `).concat(sa||Ze?"cursor-pointer":"",`
                                    `),onClick:function(Ns){typeof Ze=="function"&&Ze(Ns,bi),typeof sa=="function"&&sa(Ns,bi)}}),bi.cells.map(function(Eo,Ns){return r.default.createElement(m.RenderCell,{key:Ns,ii:Ns,cell:Eo,row:bi,columns:ke,expand:os,expanded:Ko,toggleRowExpanded:Ji,theme:br})})),r.default.createElement(p.RenderExpandedRow,{row:bi,expand:os,visibleColumns:Ua,ExpandRow:hr,theme:br}))})))),r.default.createElement("div",{className:"w-full p-2"},r.default.createElement(h.Pagination,{fetchData:dt,manualPagination:qe,theme:br,pageValue:or,pageCount:Ka,pageSize:rt,pageIndex:Ti,statePageSize:Ia,totalRecords:Le,rows:fn,canNextPage:yi,onPageSelect:co,onPrevPage:lo,onNextPage:wi,previousPage:mi,gotoPage:Wn,nextPage:ya,onPageChange:he})))};e.default=le}(NL)),NL}var Vte;function uv(){return Vte||(Vte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={Table:!0};Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return r.default}});var r=s(PBe()),n=eH();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===n[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return n[o]}})});var i=fS();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===i[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return i[o]}})});var a=Fpe();Object.keys(a).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===a[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return a[o]}})});function s(o){return o&&o.__esModule?o:{default:o}}}(LL)),LL}var Gte;function nve(){return Gte||(Gte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=h(vn()),r=h(xpe()),n=uv(),i=["request","groups","signupAccept","signupReject"],a=["requests"],s=["request","signupReject"],o=["requests"],l=["request","groups","signupAccept","deleteRequest"],u=["requests"],f=["pending","awaiting","rejected"];function h(J){return J&&J.__esModule?J:{default:J}}function p(){return p=Object.assign?Object.assign.bind():function(J){for(var fe=1;fe<arguments.length;fe++){var ue=arguments[fe];for(var pe in ue)Object.prototype.hasOwnProperty.call(ue,pe)&&(J[pe]=ue[pe])}return J},p.apply(this,arguments)}function m(J,fe){return A(J)||T(J,fe)||w(J,fe)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(J,fe){if(J){if(typeof J=="string")return x(J,fe);var ue=Object.prototype.toString.call(J).slice(8,-1);if(ue==="Object"&&J.constructor&&(ue=J.constructor.name),ue==="Map"||ue==="Set")return Array.from(J);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return x(J,fe)}}function x(J,fe){(fe==null||fe>J.length)&&(fe=J.length);for(var ue=0,pe=new Array(fe);ue<fe;ue++)pe[ue]=J[ue];return pe}function T(J,fe){var ue=J==null?null:typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(ue!=null){var pe,ve,le,se,ge=[],_e=!0,ke=!1;try{if(le=(ue=ue.call(J)).next,fe!==0)for(;!(_e=(pe=le.call(ue)).done)&&(ge.push(pe.value),ge.length!==fe);_e=!0);}catch(Ge){ke=!0,ve=Ge}finally{try{if(!_e&&ue.return!=null&&(se=ue.return(),Object(se)!==se))return}finally{if(ke)throw ve}}return ge}}function A(J){if(Array.isArray(J))return J}function P(J,fe){if(J==null)return{};var ue=S(J,fe),pe,ve;if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(J);for(ve=0;ve<le.length;ve++)pe=le[ve],!(fe.indexOf(pe)>=0)&&Object.prototype.propertyIsEnumerable.call(J,pe)&&(ue[pe]=J[pe])}return ue}function S(J,fe){if(J==null)return{};var ue={},pe=Object.keys(J),ve,le;for(le=0;le<pe.length;le++)ve=pe[le],!(fe.indexOf(ve)>=0)&&(ue[ve]=J[ve]);return ue}var E=function(){return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},t.default.createElement("div",{className:"col-span-3 border-b-2"},"User Account Requests"),t.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Age"),t.default.createElement("div",{className:"col-span-5 border-b-2 text-center grid grid-cols-5"},t.default.createElement("div",{className:"col-span-3"},"Group"),t.default.createElement("div",{className:"col-span-2"},"Accept Request")),t.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Reject Request"))},_=function(fe){var ue=fe.request,pe=fe.groups,ve=fe.signupAccept,le=fe.signupReject;P(fe,i);var se=((Date.now()-new Date(ue.created_at).valueOf())/(1e3*60*60)).toFixed(1),ge=t.default.useState(null),_e=m(ge,2),ke=_e[0],Ge=_e[1],ct=ke&&ue.state==="pending",$e=t.default.useCallback(function(we){we.preventDefault(),ve(ue.user_email,ke.name),Ge(null)},[ve,ue,ke]);return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},t.default.createElement("div",{className:"col-span-3"},ue.user_email),t.default.createElement("div",{className:"col-span-2 text-center"},se," hrs"),t.default.createElement("div",{className:"col-span-5"},t.default.createElement("form",{onSubmit:$e},t.default.createElement("div",{className:"grid grid-cols-5 gap-1"},t.default.createElement("div",{className:"col-span-3"},t.default.createElement(n.Select,{domain:pe,accessor:function(Ee){return Ee.name},value:ke,onChange:function(Ee){return Ge(Ee)},placeholder:"Select a group..."})),t.default.createElement("div",{className:"col-span-2 grid"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},type:"submit",disabled:!ct},"accept"))))),t.default.createElement("div",{className:"col-span-2 grid"},t.default.createElement(n.Button,{themeOptions:{color:"danger",size:"sm"},showConfirm:!0,onClick:function(Ee){return le(ue)}},"reject")))},R=function(fe){var ue=fe.requests,pe=P(fe,a);return ue.length?t.default.createElement("div",{className:"py-1"},t.default.createElement(E,null),ue.map(function(ve){return t.default.createElement(_,p({key:ve.user_email,request:ve},pe))})):null},O=function(){return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},t.default.createElement("div",{className:"col-span-3 border-b-2"},"Awaiting Email Verification"),t.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Age"),t.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Reject Request"))},F=function(fe){var ue=fe.request,pe=fe.signupReject;P(fe,s);var ve=((Date.now()-new Date(ue.created_at).valueOf())/(1e3*60*60)).toFixed(1);return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},t.default.createElement("div",{className:"col-span-3"},ue.user_email),t.default.createElement("div",{className:"col-span-2 text-center"},ve," hrs"),t.default.createElement("div",{className:"col-span-2 grid"},t.default.createElement(n.Button,{themeOptions:{color:"danger",size:"sm"},showConfirm:!0,onClick:function(se){return pe(ue)}},"reject")))},$=function(fe){var ue=fe.requests,pe=P(fe,o);return ue.length?t.default.createElement("div",{className:"py-1"},t.default.createElement(O,null),ue.map(function(ve){return t.default.createElement(F,p({key:ve.user_email,request:ve},pe))})):null},z=function(){return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},t.default.createElement("div",{className:"col-span-3 border-b-2"},"Rejected Requests"),t.default.createElement("div",{className:"col-span-5 border-b-2 text-center"},"Accept Request"),t.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Delete Request"))},q=function(fe){var ue=fe.request,pe=fe.groups,ve=fe.signupAccept,le=fe.deleteRequest;P(fe,l);var se=t.default.useState(null),ge=m(se,2),_e=ge[0],ke=ge[1],Ge=_e&&ue.state==="rejected",ct=t.default.useCallback(function($e){$e.preventDefault(),ve(ue.user_email,_e.name),ke(null)},[ve,ue,_e]);return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},t.default.createElement("div",{className:"col-span-3"},ue.user_email),t.default.createElement("div",{className:"col-span-5"},t.default.createElement("form",{onSubmit:ct},t.default.createElement("div",{className:"grid grid-cols-5 gap-1"},t.default.createElement("div",{className:"col-span-3"},t.default.createElement("select",{value:_e,onChange:function(we){return ke(we.target.value)},placeholder:"Select a group..."},pe.map(function($e){return t.default.createElement("option",{value:$e.name},$e.name)}))),t.default.createElement("div",{className:"col-span-2"},t.default.createElement("button",{type:"submit",block:!0,disabled:!Ge},"accept"))))),t.default.createElement("div",{className:"col-span-2 text-center"},t.default.createElement("button",{showConfirm:!0,onClick:function(we){return le(ue)}},"delete")))},Z=function(fe){var ue=fe.requests,pe=P(fe,u);return ue.length?t.default.createElement("div",{className:"py-1"},t.default.createElement(z,null),ue.map(function(ve){return t.default.createElement(q,p({key:ve.user_email,request:ve},pe))})):null},V=(0,r.default)(function(J){var fe=J.pending,ue=J.awaiting,pe=J.rejected,ve=P(J,f),le=t.default.useState(!1),se=m(le,2),ge=se[0],_e=se[1],ke=t.default.useCallback(function(ct){return ct.stopPropagation()},[]),Ge={};return t.default.createElement("div",{className:`
        mb-5 py-2 px-4 border-2 rounded
        `.concat(ge?Ge.accent1:"cursor-pointer",`
      `),style:{borderColor:"currentColor"},onClick:function($e){ke($e),_e(!0)}},t.default.createElement("div",{onClick:function($e){ke($e),_e(!ge)},className:`
          border-b-2 cursor-pointer
          `.concat(ge?"border-current":"border-transparent",`
        `)},t.default.createElement("span",{className:"fa fa-".concat(ge?"minus":"plus")}),t.default.createElement("span",{className:"font-bold text-xl ml-2"},"Requests")),ge?t.default.createElement(t.default.Fragment,null,t.default.createElement(R,p({requests:fe},ve)),t.default.createElement($,p({requests:ue},ve)),t.default.createElement(Z,p({requests:pe},ve))):null)});e.default=V}(FL)),FL}var r$={},Kte;function ive(){return Kte||(Kte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=a(Qf()),n=uv(),i=a(Spe());function a(o){return o&&o.__esModule?o:{default:o}}var s=(0,i.default)(function(o){var l=o.email,u=o.verify,f=o.group,h=o.update,p=o.canSubmit,m=o.handleSubmit,v=o.groups,w=t.default.useContext(r.default),x=w.input().input;return t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"grid grid-cols-10 gap-1 font-bold mb-1"},t.default.createElement("div",{className:"col-span-3"},"User Email"),t.default.createElement("div",{className:"col-span-3 flex items-end"},"Verify Email"),t.default.createElement("div",{className:"col-span-3 flex items-end"},"Assign to Group"),t.default.createElement("div",{className:"col-span-1 flex items-end"})),t.default.createElement("form",{onSubmit:m},t.default.createElement("div",{className:"grid grid-cols-10 gap-1 mb-2"},t.default.createElement("div",{className:"col-span-3"},t.default.createElement("input",{className:"h-full ".concat(x),placeholder:"Enter user email...",type:"email",onChange:function(A){return h({email:A.target.value})},value:l})),t.default.createElement("div",{className:"col-span-3"},t.default.createElement("input",{className:"h-full ".concat(x),placeholder:"Verify user email...",type:"email",onChange:function(A){return h({verify:A.target.value})},value:u})),t.default.createElement("div",{className:"col-span-3"},t.default.createElement(n.Select,{domain:v,multi:!1,accessor:function(A){return A.name},placeholder:"Select a group...",listAccessor:function(A){return"".concat(A.name," (auth level ").concat(A.authLevel,")")},onChange:function(A){return h({group:A})},value:f})),t.default.createElement("div",{className:"col-span-1 grid"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},block:!0,type:"submit",disabled:!p},"send")))))});e.default=s}(r$)),r$}var n$={},i$={},Zte;function TBe(){return Zte||(Zte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=pP;function n(S){return S&&S.__esModule?S:{default:S}}function i(S){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},i(S)}function a(){return a=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},a.apply(this,arguments)}function s(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function o(S,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,T(R.key),R)}}function l(S,E,_){return E&&o(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),S}function u(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&f(S,E)}function f(S,E){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,O){return R.__proto__=O,R},f(S,E)}function h(S){var E=v();return function(){var R=w(S),O;if(E){var F=w(this).constructor;O=Reflect.construct(R,arguments,F)}else O=R.apply(this,arguments);return p(this,O)}}function p(S,E){if(E&&(i(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(S)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(S){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},w(S)}function x(S,E,_){return E=T(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function T(S){var E=A(S,"string");return i(E)==="symbol"?E:String(E)}function A(S,E){if(i(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(i(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var P=function(E){var _;return _=function(R){u(F,R);var O=h(F);function F(){var $;s(this,F);for(var z=arguments.length,q=new Array(z),Z=0;Z<z;Z++)q[Z]=arguments[Z];return $=O.call.apply(O,[this].concat(q)),x(m($),"state",{search:"",amount:5}),$}return l(F,[{key:"adjustAmount",value:function(z,q){var Z=this.state.amount;(z<0&&Z>5||z>0&&Z<q)&&this.setState({amount:Z+z})}},{key:"render",value:function(){var z=this,q=(0,r.matchSorter)(this.props.users,this.state.search,{keys:["email"]}),Z=Math.max(0,q.length-this.state.amount);return t.default.createElement(E,a({},this.props,this.state,{setSearch:function(J){return z.setState({search:J})},adjustAmount:function(J){return z.adjustAmount(J,q.length)},matches:this.state.search?q.slice(0,this.state.amount):[],remaining:Z}))}}]),F}(t.default.Component),x(_,"defaultProps",{amsAction:"user-search",authLevel:5}),_};e.default=P}(i$)),i$}var Yte;function ave(){return Yte||(Yte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(vn()),r=s(TBe()),n=uv(),i=["user","groups","assignToGroup","removeFromGroup","deleteUser"],a=["search","setSearch","adjustAmount","matches","remaining"];function s(P){return P&&P.__esModule?P:{default:P}}function o(){return o=Object.assign?Object.assign.bind():function(P){for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(P[_]=E[_])}return P},o.apply(this,arguments)}function l(P,S){return m(P)||p(P,S)||f(P,S)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(P,S){if(P){if(typeof P=="string")return h(P,S);var E=Object.prototype.toString.call(P).slice(8,-1);if(E==="Object"&&P.constructor&&(E=P.constructor.name),E==="Map"||E==="Set")return Array.from(P);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return h(P,S)}}function h(P,S){(S==null||S>P.length)&&(S=P.length);for(var E=0,_=new Array(S);E<S;E++)_[E]=P[E];return _}function p(P,S){var E=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(E!=null){var _,R,O,F,$=[],z=!0,q=!1;try{if(O=(E=E.call(P)).next,S!==0)for(;!(z=(_=O.call(E)).done)&&($.push(_.value),$.length!==S);z=!0);}catch(Z){q=!0,R=Z}finally{try{if(!z&&E.return!=null&&(F=E.return(),Object(F)!==F))return}finally{if(q)throw R}}return $}}function m(P){if(Array.isArray(P))return P}function v(P,S){if(P==null)return{};var E=w(P,S),_,R;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(P);for(R=0;R<O.length;R++)_=O[R],!(S.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(P,_)&&(E[_]=P[_])}return E}function w(P,S){if(P==null)return{};var E={},_=Object.keys(P),R,O;for(O=0;O<_.length;O++)R=_[O],!(S.indexOf(R)>=0)&&(E[R]=P[R]);return E}var x=function(){return t.default.createElement("div",{className:"grid grid-cols-15 grid-flow-col py-1 gap-3 font-bold"},t.default.createElement("div",{className:"col-span-5 border-b-2"},"User Email"),t.default.createElement("div",{className:"col-span-4 text-center border-b-2"},"Add to Group"),t.default.createElement("div",{className:"col-span-4 text-center border-b-2"},"Remove from Group"),t.default.createElement("div",{className:"col-span-2 text-center border-b-2"},"Delete User"))},T=function(S){var E=S.user,_=S.groups,R=S.assignToGroup,O=S.removeFromGroup,F=S.deleteUser;v(S,i);var $=t.default.useState(""),z=l($,2),q=z[0],Z=z[1],V=t.default.useState(""),J=l(V,2),fe=J[0],ue=J[1];_.sort(function(ke,Ge){return ke.authLevel===Ge.authLevel?ke.name<Ge.name?-1:ke.name>Ge.name?1:0:ke.authLevel-Ge.authLevel});var pe=_.reduce(function(ke,Ge){var ct=l(ke,2),$e=ct[0],we=ct[1];return E.groups.includes(Ge.name)?$e.push(Ge):we.push(Ge),[$e,we]},[[],[]]),ve=l(pe,2),le=ve[0],se=ve[1],ge=t.default.useCallback(function(ke){R(E.email,q.name),Z("")},[R,E,q]),_e=t.default.useCallback(function(ke){O(E.email,fe),ue("")},[O,E,fe]);return t.default.createElement("div",{className:"grid grid-cols-15 grid-flow-col py-1 gap-3"},t.default.createElement("div",{className:"col-span-5 whitespace-nowrap overflow-hidden flex items-center"},E.email),t.default.createElement("div",{className:"col-span-4 grid"},t.default.createElement("div",{className:"grid grid-cols-12 gap-1 items-center"},t.default.createElement("div",{className:"col-span-8"},t.default.createElement(n.Select,{multi:!1,placeholder:"Select a group...",options:se,accessor:function(Ge){return Ge.name},listAccessor:function(Ge){return"".concat(Ge.name," (auth level ").concat(Ge.authLevel,")")},value:q,onChange:Z})),t.default.createElement("div",{className:"col-span-4"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},className:"flex justify-center",disabled:!q,onClick:ge},"add")))),t.default.createElement("div",{className:"col-span-4"},t.default.createElement("div",{className:"grid grid-cols-12 gap-1"},t.default.createElement("div",{className:"col-span-8"},t.default.createElement(n.Select,{placeholder:"Select a group...",value:fe,onChange:function(Ge){return ue(Ge)},options:le.map(function(ke){return ke.name})})),t.default.createElement("div",{className:"col-span-4"},t.default.createElement(n.Button,{themeOptions:{color:"cancel",size:"sm"},disabled:!fe,onClick:_e},"remove")))),t.default.createElement("div",{className:"col-span-2 flex justify-center"},t.default.createElement(n.Button,{themeOptions:{color:"danger",size:"sm"},showConfirm:!0,onClick:function(Ge){return F(E.email)}},"delete")))},A=(0,r.default)(function(P){var S=P.search,E=P.setSearch,_=P.adjustAmount,R=P.matches,O=P.remaining,F=v(P,a);return t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"grid grid-cols-2 gap-x-3 gap-y-2"},t.default.createElement("div",{className:"col-span-1"},t.default.createElement(n.Input,{placeholder:"Search for a user...",value:S,onChange:function(z){return E(z)}})),t.default.createElement("div",{className:"col-span-1"},S?t.default.createElement("div",{className:"flex justify-center"},t.default.createElement(n.Button,{disabled:R.length<=5,onClick:function(z){return _(-5)}},"Show Fewer"),t.default.createElement(n.Button,{disabled:!O,onClick:function(z){return _(5)}},"Show More")):null),S?t.default.createElement("div",{className:"col-span-2"},t.default.createElement(x,null),R.map(function($){return t.default.createElement(T,o({key:$.email},F,{user:$}))})):null),S&&O?t.default.createElement("div",{className:"py-1"},"Plus ",O," others..."):null)});e.default=A}(n$)),n$}var a$={},Xte;function tH(){return Xte||(Xte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=i(Epe()),n=uv();function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,r.default)(function(s){var o=s.groups,l=s.user,u=s.group,f=s.authLevel,h=s.update,p=s.canSubmit,m=s.handleSubmit;return t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:" mb-1"},t.default.createElement("div",{className:"grid grid-cols-4 gap-1"},t.default.createElement("div",{className:"col-span-2 font-bold"},"Group"),t.default.createElement("div",{className:"col-span-1"},"Authority Level"))),t.default.createElement("form",{onSubmit:m},t.default.createElement("div",{className:"grid grid-cols-4 gap-1"},t.default.createElement("div",{className:"col-span-2"},t.default.createElement(n.Select,{domain:o,accessor:function(w){return w.name},value:u,onChange:function(w){return h({group:w})},placeholder:"Select a group..."})),t.default.createElement("div",{className:"col-span-1"},t.default.createElement(n.Input,{className:"h-full px-1",type:"number",min:"0",max:l.authLevel,required:!0,value:f,onChange:function(w){return h({authLevel:w})}})),t.default.createElement("div",{className:"col-span-1 grid"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},type:"submit",block:!0,disabled:!p},"assign")))))});e.default=a}(a$)),a$}var o$={},Jte;function rH(){return Jte||(Jte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=i(Cpe()),n=uv();function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,r.default)(function(s){var o=s.user,l=s.group,u=s.authLevel,f=s.update,h=s.canSubmit,p=s.handleSubmit;return t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"mb-1"},t.default.createElement("div",{className:"grid grid-cols-4 gap-1"},t.default.createElement("div",{className:"col-span-2 font-bold"},"Name"),t.default.createElement("div",{className:"col-span-1"},"Authority Level"))),t.default.createElement("form",{onSubmit:p},t.default.createElement("div",{className:"grid grid-cols-4 gap-1"},t.default.createElement("div",{className:"col-span-2"},t.default.createElement(n.Input,{placeholder:"Enter group name...",required:!0,value:l,onChange:function(v){f({group:v})}})),t.default.createElement("div",{className:"col-span-1"},t.default.createElement(n.Input,{type:"number",min:"0",max:o.authLevel,required:!0,value:u,onChange:function(v){return f({authLevel:v})}})),t.default.createElement("div",{className:"col-span-1 grid"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},type:"submit",block:!0,disabled:!h},"create")))))});e.default=a}(o$)),o$}var s$={},l$={},u$={},Qte;function RBe(){return Qte||(Qte=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(vn()),r=pP,n=uv(),i=["value","onChange"],a=["group","User","removeFromGroup","deleteUser"],s=["group","User","assignToGroup"],o=["group","users"];function l(_){return _&&_.__esModule?_:{default:_}}function u(){return u=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(_[F]=O[F])}return _},u.apply(this,arguments)}function f(_,R){return w(_)||v(_,R)||p(_,R)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(_,R){if(_){if(typeof _=="string")return m(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(_,R)}}function m(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function v(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R!==0)for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function w(_){if(Array.isArray(_))return _}function x(_,R){if(_==null)return{};var O=T(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function T(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var A=function(R){var O=R.value,F=R.onChange;return x(R,i),t.default.createElement("div",{className:"grid grid-cols-9 font-bold gap-3"},t.default.createElement("div",{className:"col-span-4 border-b-2"},t.default.createElement("div",null,"User Email"),t.default.createElement("div",{className:"mb-1"},t.default.createElement(n.Input,{themeOptions:{size:"small"},placeholder:"Search users...",value:O,onChange:function(z){return F(z)}}))),t.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Remove from Group"),t.default.createElement("div",{className:"col-span-2 border-b-2 flex justify-center items-end"},"Delete User"))},P=function(R){var O=R.group,F=R.User,$=R.removeFromGroup,z=R.deleteUser;return x(R,a),t.default.createElement("div",{className:"grid grid-cols-9 my-1"},t.default.createElement("div",{className:"col-span-4"},F.email),t.default.createElement("div",{className:"col-span-3 flex justify-center"},t.default.createElement(n.Button,{themeOptions:{color:"cancel",size:"sm"},showConfirm:!0,onClick:function(Z){return $(F.email,O.name)}},"remove")),t.default.createElement("div",{className:"col-span-2 flex justify-center"},t.default.createElement(n.Button,{themeOptions:{color:"danger",size:"sm"},showConfirm:!0,onClick:function(Z){return z(F.email)}},"delete")))},S=function(R){var O=R.group,F=R.User,$=R.assignToGroup;return x(R,s),t.default.createElement("div",{className:"grid grid-cols-12 mb-1 flex items-center"},t.default.createElement("div",{className:"col-span-8"},F.email),t.default.createElement("div",{className:"col-span-4"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},onClick:function(q){return $(F.email,O.name)}},"add to group")))},E=function(R){var O=R.group,F=R.users,$=x(R,o),z=t.default.useState(5),q=f(z,2),Z=q[0],V=q[1],J=t.default.useState(""),fe=f(J,2),ue=fe[0],pe=fe[1],ve=t.default.useState(""),le=f(ve,2),se=le[0],ge=le[1],_e=F.reduce(function(we,Ee){var Re=f(we,2),ft=Re[0],qe=Re[1];return Ee.groups.includes(O.name)?ft.push(Ee):qe.push(Ee),[ft,qe]},[[],[]]),ke=f(_e,2),Ge=ke[0],ct=ke[1];Ge.sort(function(we,Ee){return we.email<Ee.email?-1:we.email>Ee.email?1:0});var $e=(0,r.matchSorter)(ct,se,{keys:["email"]});return t.default.createElement("div",null,t.default.createElement("div",{className:"mb-5 grid grid-cols-3 gap-2"},t.default.createElement("div",{className:"col-span-1 relative"},t.default.createElement(n.Input,{value:se,onChange:function(Ee){return ge(Ee)},placeholder:"Search for another user..."}),se&&$e.length?t.default.createElement("div",{className:"absolute left-0 bottom-0 right-0"},$e.length<=5?null:t.default.createElement("div",{className:"flex justify-center"},t.default.createElement(n.Button,{themeOptions:{size:"sm"},onClick:function(Ee){return V(Z-5)},disabled:Z===5},"Show Fewer"),t.default.createElement(n.Button,{themeOptions:{size:"sm"},onClick:function(Ee){return V(Z+5)},disabled:Z>$e.length},"Show More"))):null),t.default.createElement("div",{className:"col-span-2"},se?t.default.createElement("div",null,$e.length?null:t.default.createElement("div",{className:"pt-1"},"No users found..."),$e.slice(0,Z).map(function(we){return t.default.createElement(S,u({},$,{key:we.email,group:O,User:we}))}),$e.length<Z?null:t.default.createElement("div",null,"Plus ",$e.length-Z," others...")):null)),t.default.createElement(A,{onChange:pe,value:ue}),(0,r.matchSorter)(Ge,ue,{keys:["email"]}).map(function(we){return t.default.createElement(P,u({},$,{key:we.email,User:we,group:O}),we.email)}))};e.default=E}(u$)),u$}var ere;function ABe(){return ere||(ere=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GroupHeader=void 0;var t=o(vn()),r=o(RBe()),n=o(lg()),i=o(Qf()),a=uv(),s=["group","project","adjustAuthLevel","deleteGroup","removeFromProject"];function o(S){return S&&S.__esModule?S:{default:S}}function l(){return l=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(S[R]=_[R])}return S},l.apply(this,arguments)}function u(S,E){return v(S)||m(S,E)||h(S,E)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(S,E){if(S){if(typeof S=="string")return p(S,E);var _=Object.prototype.toString.call(S).slice(8,-1);if(_==="Object"&&S.constructor&&(_=S.constructor.name),_==="Map"||_==="Set")return Array.from(S);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return p(S,E)}}function p(S,E){(E==null||E>S.length)&&(E=S.length);for(var _=0,R=new Array(E);_<E;_++)R[_]=S[_];return R}function m(S,E){var _=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(_!=null){var R,O,F,$,z=[],q=!0,Z=!1;try{if(F=(_=_.call(S)).next,E!==0)for(;!(q=(R=F.call(_)).done)&&(z.push(R.value),z.length!==E);q=!0);}catch(V){Z=!0,O=V}finally{try{if(!q&&_.return!=null&&($=_.return(),Object($)!==$))return}finally{if(Z)throw O}}return z}}function v(S){if(Array.isArray(S))return S}function w(S,E){if(S==null)return{};var _=x(S,E),R,O;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(S);for(O=0;O<F.length;O++)R=F[O],!(E.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(S,R)&&(_[R]=S[R])}return _}function x(S,E){if(S==null)return{};var _={},R=Object.keys(S),O,F;for(F=0;F<R.length;F++)O=R[F],!(E.indexOf(O)>=0)&&(_[O]=S[O]);return _}var T=function(E){var _=E.onChange,R=E.value;return t.default.createElement("div",{className:"grid grid-cols-12 gap-3 text-center font-bold mb-1"},t.default.createElement("div",{className:"col-span-4 text-left border-b-2 text-xl"},t.default.createElement("div",null,"Groups in Project"),t.default.createElement("div",{className:"mb-1"},t.default.createElement(a.Input,{themeOptions:{size:"small"},placeholder:"Search groups...",value:R,onChange:function(F){return _(F)}}))),t.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Adjust Project Authority"),t.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Remove from Project"),t.default.createElement("div",{className:"col-span-2 border-b-2 flex justify-center items-end"},"Delete Group"))};e.GroupHeader=T;var A=function(E,_){return!isNaN(_)&&E!==_&&_>=0&&_<=10},P=function(E){var _=E.group,R=E.project,O=E.adjustAuthLevel,F=E.deleteGroup,$=E.removeFromProject,z=w(E,s),q=t.default.useContext(i.default),Z=t.default.useState(!1),V=u(Z,2),J=V[0],fe=V[1],ue=t.default.useCallback(function(){return fe(!J)},[J]),pe=_.projects.reduce(function(ke,Ge){return Ge.project_name===R?Ge:ke},{}),ve=t.default.useState((0,n.default)(pe,"auth_level",-1)),le=u(ve,2),se=le[0],ge=le[1],_e=t.default.useCallback(function(ke){ke.preventDefault(),O(_.name,se)},[O,_.name,se]);return t.default.createElement("div",{className:`
        mb-1 py-1 px-2 rounded `.concat(J?q.accent1:"")},t.default.createElement("div",{className:"grid grid-cols-12 gap-3"},t.default.createElement("div",{className:"col-span-4 flex items-center"},t.default.createElement("div",{className:`
              px-2 py-1 mr-1 cursor-pointer rounded flex justify-center
              hover:`.concat(q.accent2," ").concat(q.transition,`
            `),onClick:ue},J?t.default.createElement("span",{className:"fa fa-minus"}):t.default.createElement("span",{className:"fa fa-plus"})),t.default.createElement("div",{className:"flex-1"},_.name)),t.default.createElement("div",{className:"col-span-3"},t.default.createElement("form",{onSubmit:_e},t.default.createElement("div",{className:"grid grid-cols-12 gap-1 flex items-center"},t.default.createElement("div",{className:"col-span-6"},t.default.createElement(a.Input,{type:"number",min:"0",max:"10",required:!0,value:se,onChange:function(Ge){return ge(Ge)}})),t.default.createElement("div",{className:"col-span-6"},t.default.createElement(a.Button,{themeOptions:{size:"sm"},type:"submit",disabled:!A(+pe.auth_level,+se)},"adjust"))))),t.default.createElement("div",{className:"col-span-3 flex justify-center"},t.default.createElement(a.Button,{themeOptions:{size:"sm",color:"cancel"},showConfirm:!0,onClick:function(Ge){return $(_.name)}},"remove")),t.default.createElement("div",{className:"col-span-2 flex justify-center"},t.default.createElement(a.Button,{themeOptions:{size:"sm",color:"danger"},showConfirm:!0,onClick:function(Ge){return F(_.name)}},"delete"))),J?t.default.createElement("div",{className:"mx-10 mt-2"},t.default.createElement(r.default,l({group:_},z))):null)};e.default=P}(l$)),l$}var c$={},tre;function OBe(){return tre||(tre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(vn());function r(i){return i&&i.__esModule?i:{default:i}}var n=function(a){var s=a.children,o=a.className,l=o===void 0?"":o;return t.default.createElement("div",{className:"mb-5 last:mb-0 py-2 px-4 border-2 rounded m-auto ".concat(l)},s)};e.default=n}(c$)),c$}var f$={},rre;function IBe(){return rre||(rre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=pP,n=["groups"];function i(R){return R&&R.__esModule?R:{default:R}}function a(R){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},a(R)}function s(){return s=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var F=arguments[O];for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(R[$]=F[$])}return R},s.apply(this,arguments)}function o(R,O){if(R==null)return{};var F=l(R,O),$,z;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);for(z=0;z<q.length;z++)$=q[z],!(O.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(R,$)&&(F[$]=R[$])}return F}function l(R,O){if(R==null)return{};var F={},$=Object.keys(R),z,q;for(q=0;q<$.length;q++)z=$[q],!(O.indexOf(z)>=0)&&(F[z]=R[z]);return F}function u(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function f(R,O){for(var F=0;F<O.length;F++){var $=O[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,S($.key),$)}}function h(R,O,F){return O&&f(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&m(R,O)}function m(R,O){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,z){return $.__proto__=z,$},m(R,O)}function v(R){var O=T();return function(){var $=A(R),z;if(O){var q=A(this).constructor;z=Reflect.construct($,arguments,q)}else z=$.apply(this,arguments);return w(this,z)}}function w(R,O){if(O&&(a(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(R)}function x(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(R){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},A(R)}function P(R,O,F){return O=S(O),O in R?Object.defineProperty(R,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):R[O]=F,R}function S(R){var O=E(R,"string");return a(O)==="symbol"?O:String(O)}function E(R,O){if(a(R)!=="object"||R===null)return R;var F=R[Symbol.toPrimitive];if(F!==void 0){var $=F.call(R,O);if(a($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(R)}var _=function(O){var F;return F=function($){p(q,$);var z=v(q);function q(){var Z;u(this,q);for(var V=arguments.length,J=new Array(V),fe=0;fe<V;fe++)J[fe]=arguments[fe];return Z=z.call.apply(z,[this].concat(J)),P(x(Z),"state",{groupSearch:""}),Z}return h(q,[{key:"render",value:function(){var V=this,J=this.props,fe=J.groups,ue=o(J,n),pe=this.state.groupSearch;return t.default.createElement(O,s({},ue,this.state,{setGroupSearch:function(le){return V.setState({groupSearch:le})},groups:(0,r.matchSorter)(fe,pe,{keys:["name"]})}))}}]),q}(t.default.Component),P(F,"defaultProps",{amsAction:"groups-in-project",authLevel:5}),F};e.default=_}(f$)),f$}var nre;function nH(){return nre||(nre=1,function(e){function t(v){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(v)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(vn()),n=l(ABe()),i=u(OBe()),a=u(IBe()),s=["groups","groupSearch","setGroupSearch"];function o(v){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(o=function(A){return A?x:w})(v)}function l(v,w){if(v&&v.__esModule)return v;if(v===null||t(v)!=="object"&&typeof v!="function")return{default:v};var x=o(w);if(x&&x.has(v))return x.get(v);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in v)if(P!=="default"&&Object.prototype.hasOwnProperty.call(v,P)){var S=A?Object.getOwnPropertyDescriptor(v,P):null;S&&(S.get||S.set)?Object.defineProperty(T,P,S):T[P]=v[P]}return T.default=v,x&&x.set(v,T),T}function u(v){return v&&v.__esModule?v:{default:v}}function f(){return f=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(v[T]=x[T])}return v},f.apply(this,arguments)}function h(v,w){if(v==null)return{};var x=p(v,w),T,A;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(v);for(A=0;A<P.length;A++)T=P[A],!(w.indexOf(T)>=0)&&Object.prototype.propertyIsEnumerable.call(v,T)&&(x[T]=v[T])}return x}function p(v,w){if(v==null)return{};var x={},T=Object.keys(v),A,P;for(P=0;P<T.length;P++)A=T[P],!(w.indexOf(A)>=0)&&(x[A]=v[A]);return x}var m=(0,a.default)(function(v){var w=v.groups,x=v.groupSearch,T=v.setGroupSearch,A=h(v,s);return r.default.createElement(i.default,null,r.default.createElement(n.GroupHeader,{value:x,onChange:T}),w.map(function(P){return r.default.createElement(n.default,f({key:P.name},A,{group:P}))}))});e.default=m}(s$)),s$}var ire;function MBe(){return ire||(ire=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(vn()),r=f(PU()),n=f(Qf()),i=f(nve()),a=f(ive()),s=f(ave()),o=f(tH()),l=f(rH()),u=f(nH());function f(m){return m&&m.__esModule?m:{default:m}}var h=function(v){var w,x=v.children,T=v.title,A=T===void 0?"":T,P=v.tileWidth,S=P===void 0?"sm:max-w-md":P,E=t.default.useContext(n.default);return t.default.createElement("div",{className:"mt-8 ".concat(S)},t.default.createElement("div",{className:"".concat((w=E.tile)!==null&&w!==void 0?w:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10")},t.default.createElement("div",{className:"sm:w-full border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900 mb-2"},A),x)))},p=(0,r.default)(function(m){return t.default.createElement("div",{className:m.className},t.default.createElement("div",{className:"flex flex-wrap mt-10"},t.default.createElement("div",{className:"text-3xl w-full"},"Project & User Management"),t.default.createElement(h,{tileWidth:"w-full",title:"User Requests and Verification"},t.default.createElement(i.default,m)),t.default.createElement(h,{tileWidth:"w-full",title:"Invite User"},t.default.createElement(a.default,m)),t.default.createElement(h,{tileWidth:"w-full",title:"User Search"},t.default.createElement(s.default,m)),t.default.createElement(h,{tileWidth:"w-[49%] mr-4",title:"Assign Group to Project"},t.default.createElement(o.default,m)),t.default.createElement(h,{tileWidth:"w-[49%]",title:"Create Group"},t.default.createElement(l.default,m)),t.default.createElement(h,{tileWidth:"w-full",title:"Groups within Project"},t.default.createElement(u.default,m))))});e.default=p}(ML)),ML}var d$={},h$={},are;function dy(){return are||(are=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=Qf();function n(a){return a&&a.__esModule?a:{default:a}}var i=function(s){var o=s.Title,l=s.children,u=s.className,f=u===void 0?"":u;return(0,r.useTheme)(),t.default.createElement("div",{className:`
      rounded p-10 shadow-xl
      `.concat(f,`
    `)},o?typeof o=="function"?t.default.createElement(o,null):t.default.createElement("div",{className:"text-3xl font-bold mb-2"},o):null,l)};e.default=i}(h$)),h$}var ore;function kBe(){return ore||(ore=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=xp();i(dy());var n=i(rpe());function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,n.default)(function(s){var o=s.email,l=s.verify,u=s.update;s.canSubmit;var f=s.handleSubmit,h=s.title,p=h===void 0?"":h;return t.default.createElement("div",{className:"h-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8 "},t.default.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},t.default.createElement("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10"},t.default.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md border-b border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900"},p),t.default.createElement("p",{className:"text-lg font-thin text-gray-600"},t.default.createElement("span",{href:"#",className:"font-thin text-blue-400 hover:text-blue-500"},"Register"))),t.default.createElement("form",{className:"space-y-6",onSubmit:f},t.default.createElement("div",{className:"pt-4"},t.default.createElement("label",{htmlFor:"email",className:"block text-sm font-thin text-gray-700"},"Email"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"email",name:"email",type:"email",value:o,onChange:function(v){return u({email:v.target.value})},autoComplete:"email",placeholder:"Enter your email",autoFocus:!0,required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block text-sm font-thin text-gray-700"},"Verify Your Email"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"verify",name:"verify",type:"email",value:l,onChange:function(v){return u({verify:v.target.value})},autoComplete:"Verify your email.",placeholder:"Verify your email.",required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Register")))),t.default.createElement("div",{className:"flex items-center justify-between px-2 py-4"},t.default.createElement("div",{className:"text-xs"}),t.default.createElement("div",{className:"text-xs"},t.default.createElement(r.Link,{to:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500"},"Login")))))});e.default=a}(d$)),d$}var p$={},sre;function DBe(){return sre||(sre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=xp();i(dy());var n=i(npe());function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,n.default)(function(s){var o=s.email,l=s.verify,u=s.update;s.canSubmit;var f=s.handleSubmit,h=s.title;return t.default.createElement("div",{className:"h-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8 "},t.default.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},t.default.createElement("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10"},t.default.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md border-b border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900"},h),t.default.createElement("p",{className:"text-lg font-thin text-gray-600"},t.default.createElement("span",{href:"#",className:"font-thin text-blue-400 hover:text-blue-500"},"Reset Password"))),t.default.createElement("form",{className:"space-y-6",onSubmit:f},t.default.createElement("div",{className:"pt-4"},t.default.createElement("label",{htmlFor:"email",className:"block text-sm font-thin text-gray-700"},"Email"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"email",name:"email",type:"email",value:o,onChange:function(m){return u({email:m.target.value})},autoComplete:"email",placeholder:"Enter your email",autoFocus:!0,required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block text-sm font-thin text-gray-700"},"Verify Email"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"verify",name:"verify",type:"email",value:l,onChange:function(m){return u({verify:m.target.value})},autoComplete:"Verify your email.",placeholder:"Verify your email.",required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Request Pasword")))),t.default.createElement("div",{className:"flex items-center justify-between px-2 py-4"},t.default.createElement("div",{className:"text-xs"},"Need an account?  ",t.default.createElement(r.Link,{to:"/auth/register",className:"font-medium text-blue-600 hover:text-blue-500"},"Register")),t.default.createElement("div",{className:"text-xs"},t.default.createElement(r.Link,{to:"/auth/login",className:"font-medium text-blue-600 hover:text-blue-500"},"Login")))))});e.default=a}(p$)),p$}var m$={},lre;function FBe(){return lre||(lre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=a(dy()),n=a(ipe()),i=["password","verify","update","canSubmit","handleSubmit"];function a(u){return u&&u.__esModule?u:{default:u}}function s(u,f){if(u==null)return{};var h=o(u,f),p,m;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(u);for(m=0;m<v.length;m++)p=v[m],!(f.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(u,p)&&(h[p]=u[p])}return h}function o(u,f){if(u==null)return{};var h={},p=Object.keys(u),m,v;for(v=0;v<p.length;v++)m=p[v],!(f.indexOf(m)>=0)&&(h[m]=u[m]);return h}var l=(0,n.default)(function(u){var f=u.password,h=u.verify,p=u.update,m=u.canSubmit,v=u.handleSubmit;return s(u,i),t.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},t.default.createElement(r.default,{Title:"Verify Request"},t.default.createElement("form",{onSubmit:v},t.default.createElement("div",{className:"my-2"},t.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"Password"),t.default.createElement("input",{type:"password",id:"password",required:!0,autoFocus:!0,value:f,onChange:function(x){return p({password:x.target.value})}})),t.default.createElement("div",{className:"my-2"},t.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),t.default.createElement("input",{type:"password",id:"verify",required:!0,value:h,onChange:function(x){return p({verify:x.target.value})}})),t.default.createElement("div",{className:"my-2"},t.default.createElement("button",{disabled:!m,type:"submit",className:"block py-2 rounded bg-blue-400"},"verify")))))});e.default=l}(m$)),m$}var g$={},ure;function LBe(){return ure||(ure=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(vn()),r=a(gpe()),n=uv(),i=a(Qf());function a(S){return S&&S.__esModule?S:{default:S}}function s(S){if(typeof WeakMap!="function")return null;var E=new WeakMap,_=new WeakMap;return(s=function(O){return O?_:E})(S)}function o(S,E){if(S&&S.__esModule)return S;if(S===null||l(S)!=="object"&&typeof S!="function")return{default:S};var _=s(E);if(_&&_.has(S))return _.get(S);var R={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in S)if(F!=="default"&&Object.prototype.hasOwnProperty.call(S,F)){var $=O?Object.getOwnPropertyDescriptor(S,F):null;$&&($.get||$.set)?Object.defineProperty(R,F,$):R[F]=S[F]}return R.default=S,_&&_.set(S,R),R}function l(S){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(S)}function u(S,E){var _=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);E&&(R=R.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),_.push.apply(_,R)}return _}function f(S){for(var E=1;E<arguments.length;E++){var _=arguments[E]!=null?arguments[E]:{};E%2?u(Object(_),!0).forEach(function(R){h(S,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(_)):u(Object(_)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(_,R))})}return S}function h(S,E,_){return E=p(E),E in S?Object.defineProperty(S,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):S[E]=_,S}function p(S){var E=m(S,"string");return l(E)==="symbol"?E:String(E)}function m(S,E){if(l(S)!=="object"||S===null)return S;var _=S[Symbol.toPrimitive];if(_!==void 0){var R=_.call(S,E);if(l(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var v=(0,r.default)(function(S){return t.default.createElement(w,S)});e.default=v;var w=function(E){var _,R=E.user,O=(0,t.useContext)(i.default);return t.default.createElement("div",{className:"".concat((_=O.background)!==null&&_!==void 0?_:"bg-grey-100"," h-full flex flex-wrap py-12 sm:px-6 lg:px-8 gap-3")},t.default.createElement("div",{className:"w-full"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900"},"Welcome"),t.default.createElement("p",{className:"text-lg font-thin text-gray-600"},t.default.createElement("span",{href:"#",className:"font-thin text-blue-400 hover:text-blue-500"},"Hello ",R.email,"!"))),t.default.createElement(x,{title:"Personal Info",tileWidth:"sm:max-w-lg"},t.default.createElement(T,E)),t.default.createElement(x,{title:"Update Password",tileWidth:"sm:max-w-lg"},t.default.createElement(A,E)))},x=function(E){var _,R=E.children,O=E.title,F=O===void 0?"":O,$=E.tileWidth,z=$===void 0?"sm:max-w-md":$,q=(0,t.useContext)(i.default);return t.default.createElement("div",{className:"mt-8 sm:w-full ".concat(z)},t.default.createElement("div",{className:"".concat((_=q.tile)!==null&&_!==void 0?_:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10","  min-height-[400px]")},t.default.createElement("div",{className:"sm:w-full sm:max-w-md  border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900 mb-2"},F),R)))},T=function(E){var _=E.preferences,R=E.setNewPreferences,O=E.updateDisabled,F=E.updatePreferences,$={display_name:{name:"Display Name:",type:"text"},receiveEmail:{name:"Receive Email Messages:",type:"boolean"}};return t.default.createElement("div",{className:"space-y-6"},Object.keys($).map(function(z){var q=$[z],Z;switch(q.type){case"boolean":Z=n.BooleanInput;break;default:Z=n.Input}return t.default.createElement(P,{key:"".concat(z,"_preferences_form"),header:q.name,input:t.default.createElement(Z,{type:q.type,value:_[z],placeholder:"",onChange:function(J){return R(f(f({},_),{},h({},z,J)))}})})}),t.default.createElement("div",null,t.default.createElement(n.Button,{type:"submit",disabled:O,themeOptions:{width:"full"},onClick:F},"Save changes")))},A=function(E){var _=E.handleSubmit,R=E.update,O=E.canSubmit,F=E.password,$=E.verify,z=E.current,q=(0,t.useContext)(i.default);return t.default.createElement("form",{className:"space-y-6",onSubmit:_},t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"email",className:"block text-xs text-gray-700"},"Current Password"),t.default.createElement("div",{className:"mt-1 grid"},t.default.createElement("input",{id:"current",name:"current",type:"password",value:z,onChange:function(V){return R({current:V.target.value})},autoComplete:"Current password",placeholder:"Enter your current password",required:!0,className:q.input().input}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block text-xs text-gray-700"},"New Password"),t.default.createElement("div",{className:"mt-1 grid"},t.default.createElement("input",{id:"password",name:"password",type:"password",value:F,onChange:function(V){return R({password:V.target.value})},autoComplete:"New password",placeholder:"New password",required:!0,className:q.input().input}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"verify",className:"block text-xs text-gray-700"},"Confirm New Password"),t.default.createElement("div",{className:"mt-1 grid"},t.default.createElement("input",{id:"verify",name:"verify",type:"password",value:$,onChange:function(V){return R({verify:V.target.value})},autoComplete:"Confirm new password",placeholder:"Confirm new password",required:!0,className:q.input().input}))),t.default.createElement("div",null,t.default.createElement(n.Button,{type:"submit",disabled:!O,themeOptions:{width:"full"}},"Set Password")))},P=function(E){var _=E.header,R=E.input;return t.default.createElement("div",{className:"flex flex-col"},t.default.createElement("div",{className:"flex px-2 pb-1 text-xs text-gray-700 capitalize"},_),t.default.createElement("div",{className:"grid pl-1"},R))}}(g$)),g$}var v$={},cre;function NBe(){return cre||(cre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=a(dy()),n=a(ype()),i=["verified"];function a(u){return u&&u.__esModule?u:{default:u}}function s(u,f){if(u==null)return{};var h=o(u,f),p,m;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(u);for(m=0;m<v.length;m++)p=v[m],!(f.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(u,p)&&(h[p]=u[p])}return h}function o(u,f){if(u==null)return{};var h={},p=Object.keys(u),m,v;for(v=0;v<p.length;v++)m=p[v],!(f.indexOf(m)>=0)&&(h[m]=u[m]);return h}var l=(0,n.default)(function(u){var f=u.verified;return s(u,i),t.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},t.default.createElement(r.default,null,f==="waiting"?"Verifying Email...":f==="failed"?"Email verification failed.":"Email verification succeeded."))});e.default=l}(v$)),v$}var y$={},fre;function $Be(){return fre||(fre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn());n(dy());var r=n(vpe());function n(a){return a&&a.__esModule?a:{default:a}}var i=(0,r.default)(function(a){var s=a.password,o=a.verify,l=a.title,u=a.update;a.canSubmit;var f=a.handleSubmit;return t.default.createElement("div",{className:"h-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8 "},t.default.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},t.default.createElement("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10"},t.default.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md border-b border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900"},l),t.default.createElement("p",{className:"text-lg font-thin text-gray-600"},t.default.createElement("span",{href:"#",className:"font-thin text-blue-400 hover:text-blue-500"},"Set Password"))),t.default.createElement("form",{className:"space-y-6",onSubmit:f},t.default.createElement("div",{className:"pt-4"},t.default.createElement("label",{htmlFor:"email",className:"block text-sm font-thin text-gray-700"},"Password"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"password",name:"password",type:"password",value:s,onChange:function(p){return u({password:p.target.value})},autoComplete:"email",placeholder:"Enter your password",autoFocus:!0,required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block text-sm font-thin text-gray-700"},"Password"),t.default.createElement("div",{className:"mt-1"},t.default.createElement("input",{id:"verify",name:"verify",type:"password",value:o,onChange:function(p){return u({verify:p.target.value})},autoComplete:"Verify your email.",placeholder:"Verify your email.",required:!0,className:"appearance-none block w-full px-3 py-2 border-b border-gray-300 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}))),t.default.createElement("div",null,t.default.createElement("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Set Password"))))))});e.default=i}(y$)),y$}var b$={},dre;function zBe(){return dre||(dre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=a(dy()),n=a(bpe()),i=a(Qf());function a(o){return o&&o.__esModule?o:{default:o}}var s=(0,n.default)(function(o){var l=o.password,u=o.verify,f=o.update,h=o.canSubmit,p=o.handleSubmit,m=t.default.useContext(i.default),v=m.button({color:"primary",size:"sm"}).button;return t.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},t.default.createElement(r.default,{Title:"Accept Invite"},t.default.createElement("form",{onSubmit:p},t.default.createElement("div",{className:"my-2"},t.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"Password"),t.default.createElement("input",{type:"password",id:"password",value:l,autoFocus:!0,onChange:function(x){return f({password:x.target.value})}})),t.default.createElement("div",{className:"my-2"},t.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),t.default.createElement("input",{type:"password",id:"verify",value:u,onChange:function(x){return f({verify:x.target.value})}})),t.default.createElement("div",{className:"my-2"},t.default.createElement("button",{className:v,type:"submit",buttonTheme:"buttonLargePrimaryBlock",disabled:!h},"accept")))))});e.default=s}(b$)),b$}var _$={},hre;function BBe(){return hre||(hre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(vn()),r=xp(),n=s(_pe()),i=s(lg()),a=["path","children","user","className"];function s(f){return f&&f.__esModule?f:{default:f}}function o(f,h){if(f==null)return{};var p=l(f,h),m,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);for(v=0;v<w.length;v++)m=w[v],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(p[m]=f[m])}return p}function l(f,h){if(f==null)return{};var p={},m=Object.keys(f),v,w;for(w=0;w<m.length;w++)v=m[w],!(h.indexOf(v)>=0)&&(p[v]=f[v]);return p}var u=(0,n.default)(function(f){var h=f.path,p=f.children,m=f.user,v=f.className,w=v===void 0?"mt-16":v;o(f,a);var x={};return t.default.createElement("div",{className:w},t.default.createElement("div",{className:"py-20"},t.default.createElement("div",{className:"inline-block"},t.default.Children.toArray(p).reduce(function(T,A){var P=(0,i.default)(A,["props","showInDirectory"],!0),S=(0,i.default)(A,["props","showIfLoggedIn"],!0),E=(0,i.default)(A,["props","amsAction"]);if(E){var _=(0,i.default)(A,["props","authLevel"],-1);m.authLevel>=_&&P&&(!m.authed||m.authed&&S)?T.push(t.default.createElement(r.Link,{key:A.props.amsAction,to:"".concat(h,"/").concat(A.props.amsAction)},t.default.createElement("div",{className:"py-1 px-2 rounded hover:".concat(x.accent1)},A.props.amsAction))):T.push(t.default.createElement("div",{key:A.props.amsAction,className:"py-1 px-2 cursor-not-allowed line-through rounded hover:".concat(x.accent1)},A.props.amsAction))}else E||T.push(A);return T},[]))))});e.default=u}(_$)),_$}var w$={},pre;function jBe(){return pre||(pre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=i(dy()),n=i(wpe());function i(s){return s&&s.__esModule?s:{default:s}}var a=(0,n.default)(function(s){var o=s.current,l=s.password,u=s.verify,f=s.update,h=s.canSubmit,p=s.handleSubmit;return t.default.createElement(r.default,{Title:"Update Password"},t.default.createElement("form",{onSubmit:p},t.default.createElement("div",{className:"grid grid-cols-1 gap-y-3"},t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"current",className:"block font-bold"},"Current Password"),t.default.createElement("input",{type:"password",id:"current",value:o,autoFocus:!0,onChange:function(v){return f({current:v.target.value})}})),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"New Password"),t.default.createElement("input",{type:"password",id:"password",value:l,onChange:function(v){return f({password:v.target.value})}})),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),t.default.createElement("input",{type:"password",id:"verify",value:u,onChange:function(v){return f({verify:v.target.value})}})),t.default.createElement("div",null,t.default.createElement("button",{type:"submit",disabled:!h},"update password")))))});e.default=a}(w$)),w$}var x$={},mre;function UBe(){return mre||(mre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(vn()),r=o(PU()),n=o(Qf()),i=o(tH()),a=o(rH()),s=o(nH());function o(f){return f&&f.__esModule?f:{default:f}}var l=function(h){var p,m=h.children,v=h.title,w=v===void 0?"":v,x=h.tileWidth,T=x===void 0?"sm:max-w-md":x,A=t.default.useContext(n.default);return t.default.createElement("div",{className:"mt-8 ".concat(T)},t.default.createElement("div",{className:"".concat((p=A.tile)!==null&&p!==void 0?p:"bg-white py-8 px-4 shadow-lg sm:rounded-md sm:px-10")},t.default.createElement("div",{className:"sm:w-full border-gray-200"},t.default.createElement("h2",{className:"text-xl font-medium text-gray-900 mb-2"},w),m)))},u=(0,r.default)(function(f){return t.default.createElement("div",{className:f.className},t.default.createElement("div",{className:"flex flex-wrap mt-10"},t.default.createElement("div",{className:"text-3xl w-full"},"Group Management"),t.default.createElement(l,{tileWidth:"w-[49%] mr-4",title:"Assign Group to Project"},t.default.createElement(i.default,f)),t.default.createElement(l,{tileWidth:"w-[49%]",title:"Create Group"},t.default.createElement(a.default,f)),t.default.createElement(l,{tileWidth:"w-full",title:"Groups within Project"},t.default.createElement(s.default,f))))});e.default=u}(x$)),x$}var S$={},gre;function qBe(){return gre||(gre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=["children"];function n(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(l==null)return{};var f=a(l,u),h,p;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);for(p=0;p<m.length;p++)h=m[p],!(u.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(l,h)&&(f[h]=l[h])}return f}function a(l,u){if(l==null)return{};var f={},h=Object.keys(l),p,m;for(m=0;m<h.length;m++)p=h[m],!(u.indexOf(p)>=0)&&(f[p]=l[p]);return f}var s=function(u){var f=u.children,h=i(u,r);return t.default.createElement(t.default.Fragment,null,t.default.Children.toArray(f).map(function(p){return t.default.cloneElement(p,h)}))},o={type:s,props:{amsAction:"user-preferences",authLevel:0},wrappers:["ams-user-preferences"]};e.default=o}(S$)),S$}var E$={},vre;function HBe(){return vre||(vre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(vn()),r=n(dy());function n(o){return o&&o.__esModule?o:{default:o}}var i=function(l){var u=l.newPreferences;l.setNewPreferences;var f=l.slackEmail,h=l.setSlackEmail,p=l.getSlackUserFromEmail,m=l.updateSlackPreferences,v=l.updateDisabled,w=l.preferences;return t.default.createElement(r.default,{Title:"Slack Preferences"},t.default.createElement("div",{className:"grid grid-cols-1 gap-y-3"},t.default.createElement("div",{className:"grid grid-cols-1 gap-y-3"},t.default.createElement("div",null,t.default.createElement("label",{className:"block font-bold"},"Send Messages to Slack"),t.default.createElement("div",null,"todo fix")),u.receiveSlack?t.default.createElement(t.default.Fragment,null,t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"slackEmail",className:"block font-bold"},"Slack Email"),t.default.createElement("input",{type:"email",id:"slackEmail",placeholder:"Enter your slack email...",onChange:function(T){return h(T.target.value)},value:f})),t.default.createElement("button",{onClick:p,disabled:!f},"check slack email")):null),w.slackUserId&&u.receiveSlack?t.default.createElement("div",null,t.default.createElement("label",{className:"block font-bold"},"Slack User ID"),t.default.createElement("input",{readOnly:!0,value:w.slackUserId})):null,t.default.createElement("button",{onClick:m,disabled:v},"update preferences")))},a={type:i,wrappers:["show-loading","ams-slack-preferences"]},s=a;e.default=s}(E$)),E$}var C$={},m_={};const WBe=Ob(UMe);var yre;function VBe(){if(yre)return m_;yre=1;function e(P){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},e(P)}Object.defineProperty(m_,"__esModule",{value:!0}),m_.useModal=m_.Modal=void 0;var t=i(vn()),r=gme,n=WBe;function i(P){return P&&P.__esModule?P:{default:P}}function a(P,S){var E=Object.keys(P);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(P);S&&(_=_.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),E.push.apply(E,_)}return E}function s(P){for(var S=1;S<arguments.length;S++){var E=arguments[S]!=null?arguments[S]:{};S%2?a(Object(E),!0).forEach(function(_){o(P,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(E)):a(Object(E)).forEach(function(_){Object.defineProperty(P,_,Object.getOwnPropertyDescriptor(E,_))})}return P}function o(P,S,E){return S=l(S),S in P?Object.defineProperty(P,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[S]=E,P}function l(P){var S=u(P,"string");return e(S)==="symbol"?S:String(S)}function u(P,S){if(e(P)!=="object"||P===null)return P;var E=P[Symbol.toPrimitive];if(E!==void 0){var _=E.call(P,S);if(e(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(P)}function f(P,S){return w(P)||v(P,S)||p(P,S)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(P,S){if(P){if(typeof P=="string")return m(P,S);var E=Object.prototype.toString.call(P).slice(8,-1);if(E==="Object"&&P.constructor&&(E=P.constructor.name),E==="Map"||E==="Set")return Array.from(P);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return m(P,S)}}function m(P,S){(S==null||S>P.length)&&(S=P.length);for(var E=0,_=new Array(S);E<S;E++)_[E]=P[E];return _}function v(P,S){var E=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(E!=null){var _,R,O,F,$=[],z=!0,q=!1;try{if(O=(E=E.call(P)).next,S!==0)for(;!(z=(_=O.call(E)).done)&&($.push(_.value),$.length!==S);z=!0);}catch(Z){q=!0,R=Z}finally{try{if(!z&&E.return!=null&&(F=E.return(),Object(F)!==F))return}finally{if(q)throw R}}return $}}function w(P){if(Array.isArray(P))return P}var x={duration:750,hideOnAction:!0},T=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x,E=t.default.useState(!1),_=f(E,2),R=_[0],O=_[1],F=t.default.useCallback(function(z){z.stopPropagation(),z.preventDefault(),O(!0)},[]),$=t.default.useCallback(function(z){z.stopPropagation(),z.preventDefault(),O(!1)},[]);return[s({show:R,closeModal:$},S),F,$]};m_.useModal=T;var A=function(S){var E=S.show,_=S.closeModal;S.actions;var R=S.duration;S.hideOnAction;var O=S.children,F=t.default.createRef(),$=t.default.createRef(),z=t.default.useState(!0),q=f(z,2),Z=q[0],V=q[1];t.default.useEffect(function(){if(Z&&E){var fe=(0,n.transition)().duration(R);(0,r.select)(F.current).style("background-color","rgba(0, 0, 0, 0.0)").transition(fe).style("background-color","rgba(0, 0, 0, 0.75)"),(0,r.select)($.current).style("top","-50%").transition(fe).style("left","50%").style("top","50%"),V(!E)}else if(!Z&&!E){var ue=(0,n.transition)().duration(R);(0,r.select)(F.current).transition(ue).style("background-color","rgba(0, 0, 0, 0.0)"),(0,r.select)($.current).transition(ue).style("left","50%").style("top","-50%").end().then(function(){return V(!E)})}},[F,$,E,Z,V,R]);var J={};return t.default.createElement("div",{ref:F,className:"inset-0 z-50 cursor-auto fixed",style:{display:Z?"none":"block"}},t.default.createElement("div",{ref:$,className:"absolute inline-block",style:{transform:"translate(-50%, -50%)",left:"50%"}},t.default.createElement("button",{onClick:_,small:!0,className:`
            top-0 left-0 absolute `.concat(J.menuBg,`
          `),style:{transform:"translate(-50%, -50%)"}},t.default.createElement("span",{className:"fa text-lg fa-times"})),O))};return m_.Modal=A,m_}var P$={},bre;function GBe(){return bre||(bre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vn()),r=uv(),n=Tpe(),i=["postState","updatePostState","canPostMessage","postMessage","users","groups","onPostMessage"];function a(f){return f&&f.__esModule?f:{default:f}}function s(f,h){if(f==null)return{};var p=o(f,h),m,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);for(v=0;v<w.length;v++)m=w[v],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(p[m]=f[m])}return p}function o(f,h){if(f==null)return{};var p={},m=Object.keys(f),v,w;for(w=0;w<m.length;w++)v=m[w],!(h.indexOf(v)>=0)&&(p[v]=f[v]);return p}var l=function(h){var p=h.postState,m=h.updatePostState,v=h.canPostMessage,w=h.postMessage,x=h.users,T=h.groups,A=h.onPostMessage;s(h,i);var P=p.heading,S=p.message,E=p.type,_=p.target,R=p.filterGroups,O=t.default.useCallback(function(F){w().then(function(){typeof A=="function"&&A(F)})},[w,A]);return t.default.createElement("div",{className:"grid grid-cols-2 gap-4 w-screen",style:{maxWidth:"90vw"}},t.default.createElement("div",{className:"grid grid-cols-1 gap-4"},t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"heading",className:"font-bold"},"Heading"),t.default.createElement(r.Input,{type:"text",id:"heading",placeholder:"Type the heading...",value:P,onChange:function($){return m({heading:$})}})),t.default.createElement("div",null,t.default.createElement("label",{htmlFor:"message",className:"font-bold"},"Message"),t.default.createElement("textarea",{id:"message",value:S,placeholder:"Type a message...",onChange:function($){return m({message:$.target.value})}})),t.default.createElement("div",null,t.default.createElement("label",{className:"font-bold"},"Message Type"),t.default.createElement("select",{onChange:function($){return m({type:$.target.value})},value:E,multi:!1},n.MessageTypes.map(function(F){return t.default.createElement("option",{value:F},F)}))),!["user","users"].includes(E)||T.length<2?null:t.default.createElement("div",null,t.default.createElement("label",{className:"font-bold"},"Filter By Groups"),t.default.createElement(r.Select,{options:T,onChange:function($){return m({filterGroups:$})},accessor:function($){return $.name},value:R,multi:!0}))),t.default.createElement("div",{className:"grid grid-cols-1 gap-4",style:{gridTemplateRows:"auto min-content"}},t.default.createElement("div",null,t.default.createElement("label",{className:"font-bold"},"Message Preview"),t.default.createElement("div",{className:"bg-white rounded px-2 py-0"},t.default.createElement(r.MarkdownViewer,{markdown:S}))),E?t.default.createElement("div",null,t.default.createElement("label",{className:"font-bold"},"Message Target"),E==="user"?t.default.createElement(r.Select,{options:x,accessor:function($){return $.email},valueAccessor:function($){return $.email},onChange:function($){return m({target:$})},value:_,multi:!1}):E==="users"?t.default.createElement(r.Select,{options:x,accessor:function($){return $.email},valueAccessor:function($){return $.email},onChange:function($){return m({target:$})},value:_,multi:!0}):E==="group"?t.default.createElement(r.Select,{options:T,accessor:function($){return $.name},valueAccessor:function($){return $.name},onChange:function($){return m({target:$})},value:_,multi:!1}):E==="project"?t.default.createElement(r.Input,{type:"text",readOnly:!0,value:_}):null):null),t.default.createElement("div",{className:"col-span-2 border"}),t.default.createElement("div",{className:"col-span-2 flex justify-end"},t.default.createElement("button",{disabled:!v,onClick:O},"post message")))},u=(0,n.postMessageWrapper)(l);e.default=u}(P$)),P$}var _re;function KBe(){return _re||(_re=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(vn()),r=l(dy()),n=VBe(),i=l(GBe()),a=l(Ppe()),s=uv(),o=["showModal"];function l(_){return _&&_.__esModule?_:{default:_}}function u(){return u=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var F in O)Object.prototype.hasOwnProperty.call(O,F)&&(_[F]=O[F])}return _},u.apply(this,arguments)}function f(_,R){return w(_)||v(_,R)||p(_,R)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(_,R){if(_){if(typeof _=="string")return m(_,R);var O=Object.prototype.toString.call(_).slice(8,-1);if(O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set")return Array.from(_);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return m(_,R)}}function m(_,R){(R==null||R>_.length)&&(R=_.length);for(var O=0,F=new Array(R);O<R;O++)F[O]=_[O];return F}function v(_,R){var O=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(O!=null){var F,$,z,q,Z=[],V=!0,J=!1;try{if(z=(O=O.call(_)).next,R===0){if(Object(O)!==O)return;V=!1}else for(;!(V=(F=z.call(O)).done)&&(Z.push(F.value),Z.length!==R);V=!0);}catch(fe){J=!0,$=fe}finally{try{if(!V&&O.return!=null&&(q=O.return(),Object(q)!==q))return}finally{if(J)throw $}}return Z}}function w(_){if(Array.isArray(_))return _}function x(_,R){if(_==null)return{};var O=T(_,R),F,$;if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(_);for($=0;$<z.length;$++)F=z[$],!(R.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(_,F)&&(O[F]=_[F])}return O}function T(_,R){if(_==null)return{};var O={},F=Object.keys(_),$,z;for(z=0;z<F.length;z++)$=F[z],!(R.indexOf($)>=0)&&(O[$]=_[$]);return O}var A=function(R){var O=R.showModal;return x(R,o),t.default.createElement("div",{className:"flex items-center"},t.default.createElement("div",{className:"flex-1 text-3xl font-bold"},"Messages"),t.default.createElement("div",{className:"text-base flex-0"},t.default.createElement("button",{onClick:O},"compose")))},P=function(R){var O=R.messages,F=R.toggleSelected,$=R.viewMessages,z=R.viewSelected,q=R.deleteMessages,Z=R.deleteSelected,V=R.toggleAll,J=R.selected,fe=(0,n.useModal)(),ue=f(fe,3),pe=ue[0],ve=ue[1],le=ue[2],se=t.default.useMemo(function(){return t.default.createElement(A,{showModal:ve})},[ve]);return t.default.createElement(t.default.Fragment,null,t.default.createElement(n.Modal,pe,t.default.createElement("div",{className:"bg-gray-200 p-4 rounded"},t.default.createElement(i.default,{onPostMessage:le}))),t.default.createElement("div",{className:"col-span-2"},t.default.createElement(r.default,{className:"w-full",Title:se},t.default.createElement("div",{className:"grid grid-cols-1 gap-y-1"},O.length?t.default.createElement("div",{className:"flex items-center h-6 px-2"},t.default.createElement("div",{className:"w-4 mr-1 flex-0"},t.default.createElement("input",{className:"cursor-pointer",type:"checkbox",checked:!!J.length,onChange:V,onClick:function(_e){return _e.stopPropagation()}})),J.length?t.default.createElement("div",{className:"flex-1 flex items-center"},t.default.createElement("span",{className:"fa fa-trash mx-2 cursor-pointer hover:text-red-400",onClick:Z}),t.default.createElement("span",{className:"fa fa-eye mx-2 cursor-pointer hover:text-blue-400",onClick:z})):null):null,O.sort(function(ge,_e){return new Date(_e.sent_at)-new Date(ge.sent_at)}).map(function(ge){return t.default.createElement(E,u({key:ge.id},ge,{deleteMessages:q,viewMessages:$,toggleSelected:F,selected:J.includes(ge.id)}))})))))},S=(0,a.default)(P);e.default=S;var E=function(R){var O=R.id,F=R.heading,$=R.message,z=R.sent_by,q=R.sent_at,Z=R.viewed,V=R.viewMessages,J=R.toggleSelected,fe=R.selected,ue=t.default.useState(!1),pe=f(ue,2),ve=pe[0],le=pe[1],se=t.default.useCallback(function(_e){le(!ve),!ve&&!Z&&V([O])},[O,V,Z,ve]),ge=t.default.useCallback(function(_e){_e.stopPropagation(),J(O)},[J,O]);return t.default.createElement("div",{onClick:se,className:`
        cursor-pointer px-2 rounded
        `.concat(Z?"bg-gray-300":"bg-gray-100",`
      `)},t.default.createElement("div",{className:"flex items-center"},t.default.createElement("div",{className:"w-4 mr-1 flex-0"},t.default.createElement("input",{className:"cursor-pointer",type:"checkbox",checked:fe,onChange:ge,onClick:function(ke){return ke.stopPropagation()}})),t.default.createElement("div",{className:"font-bold text-lg flex-0 w-72 overflow-hidden mr-4"},z),t.default.createElement("div",{className:"font-bold text-lg flex-0"},F),t.default.createElement("div",{className:"flex-1 text-right"},new Date(q).toLocaleString())),ve?t.default.createElement(s.MarkdownViewer,{markdown:$}):null)}}(C$)),C$}var T$={},wre;function ZBe(){return wre||(wre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(vn()),r=i(dy()),n=["newPreferences","setNewPreferences","updateDisabled","updateEmailPreferences"];function i(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(f==null)return{};var p=s(f,h),m,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);for(v=0;v<w.length;v++)m=w[v],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(f,m)&&(p[m]=f[m])}return p}function s(f,h){if(f==null)return{};var p={},m=Object.keys(f),v,w;for(w=0;w<m.length;w++)v=m[w],!(h.indexOf(v)>=0)&&(p[v]=f[v]);return p}var o=function(h){h.newPreferences,h.setNewPreferences;var p=h.updateDisabled,m=h.updateEmailPreferences;return a(h,n),t.default.createElement(r.default,{Title:"Email Preferences"},t.default.createElement("div",{className:"grid grid-cols-1 gap-y-3"},t.default.createElement("div",null,t.default.createElement("label",{className:"block font-bold"},"Send Messages to Email")),t.default.createElement("button",{onClick:m,disabled:p},"update preferences")))},l={type:o,wrappers:["ams-email-preferences"]},u=l;e.default=u}(T$)),T$}var R$={},xre;function YBe(){return xre||(xre=1,function(e){function t(E){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(E)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(vn()),n=o(Rpe()),i=uv(),a,s=["value"];function o(E){return E&&E.__esModule?E:{default:E}}function l(E,_){var R=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);_&&(O=O.filter(function(F){return Object.getOwnPropertyDescriptor(E,F).enumerable})),R.push.apply(R,O)}return R}function u(E){for(var _=1;_<arguments.length;_++){var R=arguments[_]!=null?arguments[_]:{};_%2?l(Object(R),!0).forEach(function(O){f(E,O,R[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):l(Object(R)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(R,O))})}return E}function f(E,_,R){return _=h(_),_ in E?Object.defineProperty(E,_,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[_]=R,E}function h(E){var _=p(E,"string");return t(_)==="symbol"?_:String(_)}function p(E,_){if(t(E)!=="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var O=R.call(E,_);if(t(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(E)}function m(E,_){if(E==null)return{};var R=v(E,_),O,F;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(E);for(F=0;F<$.length;F++)O=$[F],!(_.indexOf(O)>=0)&&Object.prototype.propertyIsEnumerable.call(E,O)&&(R[O]=E[O])}return R}function v(E,_){if(E==null)return{};var R={},O=Object.keys(E),F,$;for($=0;$<O.length;$++)F=O[$],!(_.indexOf(F)>=0)&&(R[F]=E[F]);return R}var w=(0,n.default)(function(E){var _=function(F){return r.default.createElement("div",null,r.default.createElement(i.Button,{style:{height:"60px"},themeOptions:{size:"sm",color:"cancel"},showConfirm:!0,onClick:function(){console.log("deleting user::",F.row.original.email),E.deleteUser(F.row.original.email)}},"Delete"))},R=[].concat(A);return R.push({accessor:"",Header:"Delete User",Cell:_}),r.default.createElement("div",{className:"h-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},r.default.createElement("div",{className:"text-xl mb-4"},"Users"),r.default.createElement(i.Table,{data:E.users,columns:R,pageSize:10,striped:!0}))});e.default=w;var x=function(_){var R=_.value;return m(_,s),r.default.createElement("div",null,R&&R.toLocaleDateString())},T={filterClassName:"bg-blue-50 rounded",filter:"text",filterPlaceholder:""},A=[u({accessor:function(_){var R,O;return(R=_==null||(O=_.preferences)===null||O===void 0?void 0:O.display_name)!==null&&R!==void 0?R:""},Header:"Display Name"},T),u({accessor:"email",Header:"Email"},T),u({accessor:function(_){return _.groups.join(", ")},Header:"Agency",minWidth:"150px"},T),u({accessor:function(_){return _.projects.map(function(R){return S[R.auth_level]}).filter(P).join(", ")},Header:"Roles",minWidth:"150px"},T),u({accessor:function(_){return new Date(_.created_at.replace(/"/g,""))},Cell:x,sortType:"datetime",Header:"Registered",maxWidth:"125px"},T),{accessor:"logins",Header:"Logins"},{accessor:function(_){return _.lastLogin?new Date(_.lastLogin.replace(/"/g,"")):""},Cell:x,Header:"Last Login",sortType:function(_,R,O,F){var $=-1;return F||($=1),_.original.lastLogin?R.original.lastLogin?_.original.lastLogin>R.original.lastLogin?1:-1:$*-1:$}},{accessor:"",Header:"Change Role"}];function P(E,_,R){return R.indexOf(E)===_}var S=(a={10:"System Admin",5:"Agency Admin",1:"Agency User"},f(a,"5","Contributor"),f(a,"5","Librarian"),f(a,0,"Public"),a)}(R$)),R$}var A$={},Sre;function XBe(){return Sre||(Sre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var t=r(vn());function r(i){return i&&i.__esModule?i:{default:i}}function n(){return t.default.createElement("div",null,"Default")}}(A$)),A$}var Ere;function ove(){return Ere||(Ere=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=$(nAe()),r=$(iAe()),n=$(MBe()),i=$(kBe()),a=$(DBe()),s=$(FBe()),o=$(LBe()),l=$(NBe()),u=$($Be()),f=$(zBe()),h=$(BBe()),p=$(jBe()),m=$(nve()),v=$(ive()),w=$(ave()),x=$(tH()),T=$(rH()),A=$(UBe()),P=$(nH()),S=$(qBe()),E=$(HBe()),_=$(KBe()),R=$(ZBe()),O=$(YBe()),F=$(XBe());function $(V){return V&&V.__esModule?V:{default:V}}function z(V){var J=V.config;return React.createElement("div",null," Invalid DMS Config :",React.createElement("pre",{style:{background:"#dedede"}},JSON.stringify(J,null,3)))}function q(V){var J=V.path;return React.createElement("div",null," These aren't the droids you are looking for",React.createElement("div",{className:"text-5xl"},"404"),React.createElement("div",null,"/",J))}var Z={"ams-login":t.default,"ams-logout":r.default,"ams-project-management":n.default,"ams-signup":i.default,"ams-reset-password":a.default,"ams-verify-request":s.default,"ams-profile":o.default,"ams-verify-email":l.default,"ams-set-password":u.default,"ams-accept-invite":f.default,"ams-directory":h.default,"ams-update-password":p.default,"ams-requests":m.default,"ams-send-invite":v.default,"ams-user-search":w.default,"ams-assign-to-project":x.default,"ams-create-group":T.default,"ams-group-management":A.default,"ams-groups-in-project":P.default,"ams-user-preferences":S.default,"ams-slack-preferences":E.default,"ams-messages":_.default,"ams-email-preferences":R.default,"ams-users":O.default,"ams-default":F.default,InvalidConfig:z,NoRouteMatch:q};e.default=Z}(AL)),AL}var F1={},Cre;function JBe(){if(Cre)return F1;Cre=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.getActiveConfig=h,F1.getActiveView=f,F1.validFormat=p;var e=a(vn());a(Mpe());var t=a(ove()),r=a(wq());a(lg());var n=a(yU()),i=a(Yhe());function a(m){return m&&m.__esModule?m:{default:m}}function s(){return s=Object.assign?Object.assign.bind():function(m){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(m[x]=w[x])}return m},s.apply(this,arguments)}var o=t.default["ams-default"],l=0,u=function(v,w){return v.filter(function(x){return x.path===w})};function f(m,v,w,x){var T=u(m,v);return T.map(function(A){var P=typeof A.type=="function"?A.type:t.default[A.type]||o,S=[];A.children&&(S=f(A.children,v,w));var E=(0,i.default)((0,n.default)(P));return e.default.createElement(E,s({key:l++},A,A.props,{children:S,location:{},urlArg:w}))})}function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=(0,r.default)(u(m,v));return x.forEach(function(T){T.children=h(T.children,v,w+1)}),x||[]}function p(m){return m.children&&Array.isArray(m.children)}return F1}var Pre;function QBe(){return Pre||(Pre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(vn()),r=o(ove()),n=JBe(),i=o(Qf()),a=o(kpe()),s=["config","path","user","theme","urlArg"];function o(v){return v&&v.__esModule?v:{default:v}}function l(v,w){if(v==null)return{};var x=u(v,w),T,A;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(v);for(A=0;A<P.length;A++)T=P[A],!(w.indexOf(T)>=0)&&Object.prototype.propertyIsEnumerable.call(v,T)&&(x[T]=v[T])}return x}function u(v,w){if(v==null)return{};var x={},T=Object.keys(v),A,P;for(P=0;P<T.length;P++)A=T[P],!(w.indexOf(A)>=0)&&(x[A]=v[A]);return x}var f=r.default.InvalidConfig,h=r.default.NoRouteMatch,p=function(w){var x=w.config,T=w.path,A=T===void 0?"":T;w.user;var P=w.theme,S=P===void 0?a.default:P,E=w.urlArg;if(l(w,s),!(0,n.validFormat)(x))return t.default.createElement(f,{config:x});var _=(0,n.getActiveView)(x.children,A,E);return _?t.default.createElement(i.default.Provider,{value:S},_):t.default.createElement(h,{path:A})},m=p;e.default=m}(RL)),RL}var Tre;function eje(){return Tre||(Tre=1,function(e){function t(u){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(u)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=o(vn()),n=xp(),i=a(QBe());function a(u){return u&&u.__esModule?u:{default:u}}function s(u){if(typeof WeakMap!="function")return null;var f=new WeakMap,h=new WeakMap;return(s=function(m){return m?h:f})(u)}function o(u,f){if(u&&u.__esModule)return u;if(u===null||t(u)!=="object"&&typeof u!="function")return{default:u};var h=s(f);if(h&&h.has(u))return h.get(u);var p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(v!=="default"&&Object.prototype.hasOwnProperty.call(u,v)){var w=m?Object.getOwnPropertyDescriptor(u,v):null;w&&(w.get||w.set)?Object.defineProperty(p,v,w):p[v]=u[v]}return p.default=u,h&&h.set(u,p),p}function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";function h(){var p=(0,n.useParams)();return r.default.createElement(i.default,{path:p.action,urlArg:p.urlArg,config:u})}return[{path:"".concat(f,"/:action"),element:function(m){return r.default.createElement(h,m)}},{path:"".concat(f,"/:action/:urlArg"),element:function(m){return r.default.createElement(h,m)}}]}}(TL)),TL}var Rre;function g0(){return Rre||(Rre=1,function(e){function t(p){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(p)}Object.defineProperty(e,"__esModule",{value:!0});var r={wrappers:!0,enableAuth:!0,useAuth:!0,withAuth:!0,authProvider:!0,amsFactory:!0,Reducers:!0,Messages:!0,messages:!0,sendSystemMessage:!0,dismissSystemMessage:!0};Object.defineProperty(e,"Messages",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Reducers",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"amsFactory",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"authProvider",{enumerable:!0,get:function(){return n.authProvider}}),Object.defineProperty(e,"dismissSystemMessage",{enumerable:!0,get:function(){return o.dismissSystemMessage}}),Object.defineProperty(e,"enableAuth",{enumerable:!0,get:function(){return n.enableAuth}}),Object.defineProperty(e,"messages",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"sendSystemMessage",{enumerable:!0,get:function(){return o.sendSystemMessage}}),Object.defineProperty(e,"useAuth",{enumerable:!0,get:function(){return n.useAuth}}),Object.defineProperty(e,"withAuth",{enumerable:!0,get:function(){return n.withAuth}}),Object.defineProperty(e,"wrappers",{enumerable:!0,get:function(){return n.default}});var n=h(Mpe()),i=u(eje()),a=u(Ope()),s=u(Ipe()),o=h(DU()),l=vU();Object.keys(l).forEach(function(p){p==="default"||p==="__esModule"||Object.prototype.hasOwnProperty.call(r,p)||p in e&&e[p]===l[p]||Object.defineProperty(e,p,{enumerable:!0,get:function(){return l[p]}})});function u(p){return p&&p.__esModule?p:{default:p}}function f(p){if(typeof WeakMap!="function")return null;var m=new WeakMap,v=new WeakMap;return(f=function(x){return x?v:m})(p)}function h(p,m){if(p&&p.__esModule)return p;if(p===null||t(p)!=="object"&&typeof p!="function")return{default:p};var v=f(m);if(v&&v.has(p))return v.get(p);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in p)if(T!=="default"&&Object.prototype.hasOwnProperty.call(p,T)){var A=x?Object.getOwnPropertyDescriptor(p,T):null;A&&(A.get||A.set)?Object.defineProperty(w,T,A):w[T]=p[T]}return w.default=p,v&&v.set(p,w),w}}(ND)),ND}var H1t=g0(),O$,Are;function Fb(){if(Are)return O$;Are=1;var e="function";return O$=function(r){return!!r&&typeof r===e},O$}var I$,Ore;function Wh(){if(Ore)return I$;Ore=1;var e="object";return I$=function(r){return r!==null&&typeof r===e},I$}var M$,Ire;function xP(){if(Ire)return M$;Ire=1;var e=Wh(),t=Object.prototype.hasOwnProperty;return M$=function(r,n){return e(r)&&t.call(r,n)},M$}var k$,Mre;function iH(){if(Mre)return k$;Mre=1;var e=Fb(),t=xP();function r(n){var i=n||{};this.syncRefCount=0,this.expired=i.expired||[],this.unsafeMode=i.unsafeMode||!1,this.cache={},e(i.comparator)&&(this.comparator=i.comparator),e(i.errorSelector)&&(this.errorSelector=i.errorSelector),e(i.onChange)&&(this.onChange=i.onChange)}return r.prototype.errorSelector=function(i,a){return a},r.prototype.comparator=function(i,a){return t(i,"value")&&t(a,"value")?i.value===a.value&&i.$type===a.$type&&i.$expires===a.$expires:i===a},k$=r,k$}var D$,kre;function tje(){if(kre)return D$;kre=1;function e(t){this._model=t._materialize().treatErrorsAsValues()}return e.prototype.get=function(r){return this._model.get.apply(this._model,r)._toJSONG()},e.prototype.set=function(r){return this._model.set(r)._toJSONG()},e.prototype.call=function(r,n,i,a){var s=[r,n,i];return Array.prototype.push.apply(s,a),this._model.call.apply(this._model,s)._toJSONG()},D$=e,D$}var F$,Dre;function sve(){return Dre||(Dre=1,F$={GetRequest:"GET"}),F$}var L$,Fre;function TM(){return Fre||(Fre=1,L$="$"),L$}var N$,Lre;function RM(){if(Lre)return N$;Lre=1;var e=TM();return N$=e+"_",N$}var $$,Nre;function _S(){return Nre||(Nre=1,$$=RM()+"ref"),$$}var z$,$re;function SP(){if($re)return z$;$re=1;var e=_S();return z$=function(r,n){var i=n.$_refsLength||0;n[e+i]=r,n.$_refsLength=i+1,r.$_refIndex=i,r.$_context=n},z$}var B$,zre;function bm(){return zre||(zre=1,B$="ref"),B$}var j$,Bre;function aH(){return Bre||(Bre=1,j$=Date.now),j$}var U$,jre;function oH(){return jre||(jre=1,U$=0),U$}var q$,Ure;function sH(){return Ure||(Ure=1,q$=1),q$}var H$,qre;function rje(){if(qre)return H$;qre=1;var e=aH(),t=oH(),r=sH();return H$=function(i){var a=i.$expires;return a!=null&&a!==r&&a!==t&&a<e()},H$}var W$,Hre;function kw(){if(Hre)return W$;Hre=1;var e="object";return W$=function(r){return r==null||typeof r!==e},W$}var V$,Wre;function lve(){return Wre||(Wre=1,V$=function(t,r){var n=r.$_prev,i=r.$_next;i&&(i.$_prev=n),n&&(n.$_next=i),r.$_prev=r.$_next=void 0,r===t.$_head&&(t.$_head=i),r===t.$_tail&&(t.$_tail=n)}),V$}var G$,Vre;function Lb(){if(Vre)return G$;Vre=1;var e=lve();return G$=function(r,n,i){return r.$_invalidated||(r.$_invalidated=!0,n.push(r),e(i,r)),r},G$}var K$,Gre;function EP(){if(Gre)return K$;Gre=1;var e=Array.isArray;K$=function(i,a){if(a.isArray===void 0&&r(i,a),a.isArray){var s;do{a.loaded&&a.rangeOffset>a.to&&(++a.arrayOffset,a.loaded=!1);var o=a.arrayOffset,l=i.length;if(o>=l){a.done=!0;break}var u=i[a.arrayOffset];if(u!==null&&typeof u=="object"){if(a.loaded||t(u,a),a.empty)continue;s=a.rangeOffset++}else++a.arrayOffset,s=u}while(s===void 0);return s}else if(a.isObject){if(a.loaded||t(i,a),a.rangeOffset>a.to){a.done=!0;return}return a.rangeOffset++}else{if(!a.loaded)return a.loaded=!0,i;a.done=!0;return}};function t(n,i){var a=i.from=n.from||0,s=i.to=n.to||typeof n.length=="number"&&i.from+n.length-1||0;i.rangeOffset=i.from,i.loaded=!0,a>s&&(i.empty=!0)}function r(n,i){i.done=!1;var a=i.isObject=!!(n&&typeof n=="object");i.isArray=a&&e(n),i.arrayOffset=0}return K$}var Z$,Kre;function uve(){if(Kre)return Z$;Kre=1;var e=EP();Z$=function(i){return i.reduce(t,{})};function t(n,i){return r(n,i,0),n}function r(n,i,a){var s=i[a],o={},l,u=a+1;for(l=e(s,o);!o.done;){var f=Object.prototype.hasOwnProperty.call(n,l)&&n[l];f||(u===i.length?n[l]=null:l!==void 0&&(f=n[l]={})),u<i.length&&r(f,i,u),l=e(s,o)}}return Z$}var Y$,Zre;function lH(){if(Zre)return Y$;Zre=1;var e=EP();return Y$=function t(r,n,i){for(var a=r,s=!0;s&&i<n.length;++i){var o=n[i],l=typeof o;if(o&&l==="object"){var u={},f=e(o,u),h=i+1;do{var p=a[f];s=p!==void 0,s&&(s=t(p,n,h)),f=e(o,u)}while(s&&!u.done);break}a=a[o],s=a!==void 0}return s},Y$}var X$,Yre;function nje(){if(Yre)return X$;Yre=1;var e=lH();return X$=function(r,n){for(var i=[],a=-1,s=0,o=r.length;s<o;++s)e(n,r[s],0)||(i[++a]=r[s]);return i},X$}var J$,Xre;function ije(){if(Xre)return J$;Xre=1;var e=lH();return J$=function(r,n){for(var i=[],a=-1,s=0,o=r.length;s<o;++s){var l=r[s];e(n[l.length],l,0)||(i[++a]=l)}return i},J$}var HE={},Jre;function Q$(){if(Jre)return HE;Jre=1;function e(i){if(Object.prototype.toString.call(i)==="[object Object]"){var a=JSON.stringify(i,t);if(a[0]==="{")return a}throw new TypeError("Only plain objects can be converted to JSON keys")}function t(i,a){return typeof a!="object"||a===null||Array.isArray(a)?a:Object.keys(a).sort().reduce(function(s,o){return s[o]=a[o],s},{})}function r(i){if(!(typeof i!="string"||i[0]!=="{")){var a;try{a=JSON.parse(i)}catch{return}if(JSON.stringify(a,t)===i)return a}}function n(i){return typeof r(i)<"u"}return HE.toJsonKey=e,HE.isJsonKey=n,HE.maybeJsonKey=r,HE}var mR={exports:{}},gR={},Qre;function rO(){if(Qre)return gR;Qre=1;var e=9007199254740991,t=Math.abs,r=Number.isSafeInteger||function(s){return typeof s=="number"&&s%1===0&&t(s)<=e};function n(a){if(typeof a=="string"){var s=Number(a);if(r(s)&&String(s)===a)return s}else if(r(a))return a}function i(a){if(typeof a=="string"){var s=Number(a);return r(s)&&String(s)===a}return r(a)}return gR.isIntegerKey=i,gR.maybeIntegerKey=n,gR}var ene;function cve(){if(ene)return mR.exports;ene=1;var e=rO().maybeIntegerKey,t=rO().isIntegerKey,r=Array.isArray,n="object",i="number";mR.exports=function(m){var v,w=[];for(var x in m){var T=e(x);if(typeof T===i&&a(v=m[x]))for(var A=s(v,0,T).sets,P=-1,S=A.length;++P<S;)w.push(o(A[P]))}return w};function a(p){return p!==null&&typeof p===n}function s(p,m,v){var w,x=h(String(m)),T=Object.create(null),A=[],P=-1,S=0,E=[],_=0,R,O,F,$,z,q,Z,V,J,fe,ue,pe,ve;if(F=[],$=-1,m<v-1){for(z=f(p,F);++$<z;){w=F[$],R=s(p[w],m+1,v),O=R.code,T[O]?R=T[O]:(A[S++]=O,R=T[O]={keys:[],sets:R.sets}),x=h(x+w+O);var le=e(w);R.keys.push(typeof le===i?le:w)}for(;++P<S;)if(w=A[P],R=T[w],F=R.keys,z=F.length,z>0)for(q=R.sets,Z=-1,V=q.length,pe=F[0];++Z<V;){for(J=q[Z],fe=-1,ue=J.length,ve=new Array(ue+1),ve[0]=z>1&&F||pe;++fe<ue;)ve[fe+1]=J[fe];E[_++]=ve}}else for(z=f(p,F),z>1?E[_++]=[F]:E[_++]=F;++$<z;)x=h(x+F[$]);return{code:x,sets:E}}function o(p){for(var m=-1,v=p.length;++m<v;){var w=p[m];r(w)&&(p[m]=l(w))}return p}function l(p){for(var m=-1,v=p.length-1,w=v>0;++m<=v;){var x=p[m];if(!t(x)){w=!1;break}p[m]=parseInt(x,10)}if(w===!0){p.sort(u);var T=p[0],A=p[v];if(A-T<=v)return{from:T,to:A}}return p}function u(p,m){return p-m}function f(p,m,v){var w=0;for(var x in p)m[w++]=x;return w}function h(p){for(var m=5381,v=-1,w=p.length;++v<w;)m=(m<<5)+m+p.charCodeAt(v);return String(m)}return mR.exports._isSafeNumber=t,mR.exports}var e4,tne;function aje(){if(tne)return e4;tne=1;var e=cve(),t=uve();return e4=function(n){var i=n.reduce(function(a,s){var o=s.length;return a[o]||(a[o]=[]),a[o].push(s),a},{});return Object.keys(i).forEach(function(a){i[a]=t(i[a])}),e(i)},e4}var t4,rne;function oje(){return rne||(rne=1,t4={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}),t4}var r4,nne;function fve(){if(nne)return r4;nne=1;var e=oje();function t(r,n,i){typeof i>"u"&&(i=5);for(var a=r,s=a,o=n,l=-1,u=0;++l<o.length;){var f=o[l];if(s=a[f],s===null||typeof s!="object"||s.$type&&s.$type!=="ref")break;if(s.$type==="ref"){if(l+1<o.length)return{error:new Error(e.innerReferences)};if(u>=i)return{error:new Error(e.circularReference)};o=s.value,l=-1,a=r,u++}else a=s}return{node:s,refPath:o}}return r4=t,r4}var n4,ine;function sje(){if(ine)return n4;ine=1;function e(t,r){for(var n=[],i=t.length,a=r||0;a<i;a++)n[a]=t[a];return n}return n4=e,n4}var i4,ane;function lje(){return ane||(ane=1,i4=function(t,r,n){var i=[],a,s,o;for(a=0,o=t.length;a<o;++a)i[a]=t[a];for(s=n||0,o=r.length;s<o;++s,++a)i[a]=r[s];return i}),i4}var a4,one;function uje(){if(one)return a4;one=1;var e=EP(),t=sje(),r=lje(),n=fve();a4=function(s,o,l){typeof l>"u"&&(l=5);for(var u=[],f=0,h=o.length;f<h;++f){var p=i(s,s,o[f],0,u,[],l);if(p)return{error:p}}return{paths:u}};function i(a,s,o,l,u,f,h){if(a===void 0){u[u.length]=r(f,o,l);return}if(!(a===null||a.$type&&a.$type!=="ref"||typeof a!="object")&&!(a.$type==="ref"&&l===o.length)){var p=o[l],m=typeof p=="object"&&p!==null,v=l+1,w=!1,x=p;m&&(w={},x=e(p,w));var T,A;do{T=a[x];var P=f.length;if(f[P]=x,T&&T.$type==="ref"&&v<o.length){var S=n(s,T.value,h);if(S.error)return S.error;T=S.node,A=t(S.refPath)}else A=f;var E=i(T,s,o,v,u,A,h);if(E)return E;f.length=P,w&&!w.done&&(x=e(p,w))}while(w&&!w.done)}}return a4}var o4,sne;function cje(){if(sne)return o4;sne=1;function e(n){if(n==null)return 1;if(Array.isArray(n))throw new Error("Unexpected Array found in keySet: "+JSON.stringify(n));return typeof n=="object"?t(n):1}function t(n){var i=n.to,a=n.length;if(i!=null){if(isNaN(i)||parseInt(i,10)!==i)throw new Error("Invalid range, 'to' is not an integer: "+JSON.stringify(n));var s=n.from||0;if(isNaN(s)||parseInt(s,10)!==s)throw new Error("Invalid range, 'from' is not an integer: "+JSON.stringify(n));return s<=i?i-s+1:0}else if(a!=null){if(isNaN(a)||parseInt(a,10)!==a)throw new Error("Invalid range, 'length' is not an integer: "+JSON.stringify(n));return a}else throw new Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(n))}function r(n){if(n.length===0)throw new Error("All paths must have length larger than zero.");for(var i=1,a=0;a<n.length;a++){var s=n[a];if(Array.isArray(s)){for(var o=0,l=0;l<s.length;l++){var u=s[l];o+=e(u)}i*=o}else i*=e(s)}return i}return o4=r,o4}var s4,lne;function fje(){return lne||(lne=1,s4=function(t){return"_"+t}),s4}var l4,une;function dje(){return une||(une=1,l4=function(t){if(t.slice(0,1)==="_")return t.slice(1);throw SyntaxError('Expected "_".')}),l4}var u4,cne;function hje(){if(cne)return u4;cne=1;var e=EP();return u4=function(r,n){return r.reduceRight(function(a,s){var o={};if(typeof s!="object"||s===null)return o[s]=a,o;for(var l={},u=e(s,l);!l.done;)o[u]=a,u=e(s,l);return o},n)},u4}var c4,fne;function Dw(){return fne||(fne=1,c4={iterateKeySet:EP(),toTree:uve(),pathsComplementFromTree:nje(),pathsComplementFromLengthTree:ije(),toJsonKey:Q$().toJsonKey,isJsonKey:Q$().isJsonKey,maybeJsonKey:Q$().maybeJsonKey,hasIntersection:lH(),toPaths:cve(),isIntegerKey:rO().isIntegerKey,maybeIntegerKey:rO().maybeIntegerKey,collapse:aje(),followReference:fve(),optimizePathSets:uje(),pathCount:cje(),escape:fje(),unescape:dje(),materialize:hje()}),c4}var vR={exports:{}},dne;function wS(){if(dne)return vR.exports;dne=1;var e=1;return vR.exports=function(){return e++},vR.exports.getCurrentVersion=function(){return e},vR.exports}var f4,hne;function xS(){return hne||(hne=1,f4="error"),f4}var d4,pne;function Nb(){if(pne)return d4;pne=1;var e=Wh();return d4=function(r){return e(r)&&r.$size||0},d4}var h4,mne;function dve(){if(mne)return h4;mne=1;var e=Wh();return h4=function(r){return e(r)&&r.$timestamp||void 0},h4}var p4,gne;function Fw(){if(gne)return p4;gne=1;var e=aH(),t=oH(),r=sH();return p4=function(i){var a=i.$expires;return a!=null&&a!==r&&(a===t||a<e())},p4}var m4,vne;function pje(){if(vne)return m4;vne=1;var e=RM(),t=xP(),r=Array.isArray,n=Wh();return m4=function(a){var s=a;if(n(s)){s=r(a)?[]:{};var o=a;for(var l in o)l.lastIndexOf(e,0)===0||!t(o,l)||(s[l]=o[l])}return s},m4}var g4,yne;function mje(){if(yne)return g4;yne=1;var e=Wh();return g4=function(r){return e(r)&&r.$expires||void 0},g4}var v4,bne;function uH(){return bne||(bne=1,v4="atom"),v4}var y4,_ne;function hve(){if(_ne)return y4;_ne=1;var e=aH(),t=oH(),r=50,n=pje(),i=Array.isArray,a=Nb(),s=mje(),o=uH();return y4=function(u,f,h){var p=0,m=u,v=f;if(v){var w=m.$_modelCreated;m=n(m),p=a(m),m.$type=v,m.$_prev=void 0,m.$_next=void 0,m.$_modelCreated=w||!1}else m={$type:o,value:h,$_prev:void 0,$_next:void 0,$_modelCreated:!0};if(h==null)p=r+1;else if(p==null||p<=0)switch(typeof h){case"object":i(h)?p=r+h.length:p=r+1;break;case"string":p=r+h.length;break;default:p=r+1;break}var x=s(m);return typeof x=="number"&&x<t&&(m.$expires=e()+x*-1),m.$size=p,m},y4}var b4,wne;function pve(){return wne||(wne=1,b4=function(t,r,n,i,a){return t.$_key=n,t.$_parent=r,i!==void 0&&(t.$_version=i),t.$_absolutePath||(Array.isArray(n)?(t.$_absolutePath=a.slice(0,a.index),Array.prototype.push.apply(t.$_absolutePath,n)):(t.$_absolutePath=a.slice(0,a.index),t.$_absolutePath.push(n))),r[n]=t,t}),b4}var _4,xne;function gje(){if(xne)return _4;xne=1;var e=_S();return _4=function(r,n){for(var i=r.$_refsLength||0,a=n.$_refsLength||0,s=-1;++s<i;){var o=r[e+s];o!==void 0&&(o.$_context=n,n[e+(a+s)]=o,r[e+s]=void 0)}return n.$_refsLength=i+a,r.$_refsLength=void 0,n},_4}var w4,Sne;function vje(){if(Sne)return w4;Sne=1;var e=_S();return w4=function(r){for(var n=-1,i=r.$_refsLength||0;++n<i;){var a=r[e+n];a!=null&&(a.$_context=a.$_refIndex=r[e+n]=void 0)}return r.$_refsLength=void 0,r},w4}var x4,Ene;function yje(){if(Ene)return x4;Ene=1;var e=_S();return x4=function(r){var n=r.$_context;if(n){for(var i=(r.$_refIndex||0)-1,a=(n.$_refsLength||0)-1;++i<=a;)n[e+i]=n[e+(i+1)];n.$_refsLength=a,r.$_refIndex=r.$_context=n=void 0}return r},x4}var S4,Cne;function cH(){if(Cne)return S4;Cne=1;var e=bm(),t=lve(),r=Wh(),n=vje(),i=yje();return S4=function(s,o,l,u){if(r(s)){var f=s.$type;return f&&(f===e&&i(s),t(u,s)),n(s),o[l]=s.$_parent=void 0,!0}return!1},S4}var E4,Pne;function fH(){if(Pne)return E4;Pne=1;var e=xP(),t=TM(),r=cH();return E4=function n(i,a,s,o,l){if(r(i,a,s,o)){if(i.$type!==void 0&&l&&i.$_absolutePath&&(l.hasInvalidatedResult=!0),i.$type==null)for(var u in i)u[0]!==t&&e(i,u)&&n(i[u],i,u,o,l);return!0}return!1},E4}var C4,Tne;function mve(){if(Tne)return C4;Tne=1;var e=Wh(),t=gje(),r=fH();return C4=function(i,a,s,o,l,u){return i===a?i:(e(i)&&(t(i,a),r(i,s,o,l,u)),s[o]=a,a)},C4}var P4,Rne;function gve(){if(Rne)return P4;Rne=1;var e=_S();return P4=function(r,n){var i=[r],a=0;do{var s=i[a];if(s&&s.$_version!==n){s.$_version=n,i[a++]=s.$_parent;for(var o=-1,l=s.$_refsLength||0;++o<l;)i[a++]=s[e+o]}}while(--a>-1);return r},P4}var T4,Ane;function CP(){if(Ane)return T4;Ane=1;var e=cH(),t=gve();return T4=function(n,i,a,s){var o=n;do{var l=o.$_parent,u=o.$size=(o.$size||0)-i;u<=0&&l!=null?e(o,l,o.$_key,a):o.$_version!==s&&t(o,s),o=l}while(o);return n},T4}var R4,One;function vve(){return One||(One=1,R4=function(t,r){var n=t.slice(0,t.depth);return n[n.length]=r,n}),R4}var A4,Ine;function bje(){if(Ine)return A4;Ine=1;var e=bm(),t=xS(),r=Nb(),n=dve(),i=Wh(),a=Fw(),s=Fb(),o=hve(),l=pve(),u=Lb(),f=mve(),h=CP(),p=vve();return A4=function(v,w,x,T,A,P,S,E,_,R,O,F){var $,z,q,Z,V,J,fe,ue=w&&w.value!==void 0?w.value:w;if(ue===x){if(x===null)return w=o(x,void 0,x),v=h(v,-w.$size,_,S),w=l(w,v,T,void 0,P),w;if(x===void 0)return x;if(Z=i(w),Z&&(z=w.$type,z==null))return w.$_parent==null&&l(w,v,T,S,P),w}else Z=i(w),Z&&(z=w.$type);if(z!==e){if(V=i(x),V&&(q=x.$type),Z&&!z&&(x==null||V&&!q))return w}else{if(x==null){if(a(w)){u(w,E,_);return}return w}if(V=i(x),V&&(q=x.$type,q===e)){if(w===x){if(w.$_parent!=null)return w}else if(J=w.$timestamp,fe=x.$timestamp,!a(w)&&!a(x)&&fe<J)return}}if(z&&V&&!q)return l(f(w,x,v,T,_,F),v,T,void 0,P);if(q||!V){if(q===t&&s(O)&&(x=O(p(A,T),x),q=x.$type||q),q&&w===x)w.$_parent==null&&(w=o(w,q,w.value),v=h(v,-w.$size,_,S),w=l(w,v,T,S,P));else{var pe=!0;(z&&!a(w)||!Z)&&(pe=!(n(x)<n(w)),pe&&(z||q)&&s(R)&&(pe=!R(ue,x,P.slice(0,P.index)))),pe&&(x=o(x,q,q?x.value:x),$=r(w)-r(x),w=f(w,x,v,T,_,F),v=h(v,$,_,S),w=l(w,v,T,S,P))}a(w)&&u(w,E,_)}else w==null&&(w=l({},v,T,void 0,P));return w},A4}var O4,Mne;function SS(){if(Mne)return O4;Mne=1;function e(t){t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error}return O4=e,O4}var I4,kne;function dH(){if(kne)return I4;kne=1;var e=SS();function t(){var r=new Error("`null` and `undefined` are not allowed in branch key positions");return r.name="NullInPathError",Object.setPrototypeOf&&Object.setPrototypeOf(r,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return e(t),I4=t,I4}var M4,Dne;function nO(){if(Dne)return M4;Dne=1;var e=SP(),t=bm(),r=rje(),n=Fb(),i=kw(),a=Lb(),s=Dw().iterateKeySet,o=wS(),l=bje(),u=dH();M4=function(w,x,T,A,P,S){for(var E=w._root,_=E,R=E.expired,O=o(),F=E.cache,$=F.$_version,z=[],q=[],Z=[],V=[],J=-1,fe=x.length;++J<fe;)for(var ue=x[J],pe=ue.paths,ve=ue.jsonGraph,le=-1,se=pe.length;++le<se;){var ge=pe[le];q.index=0,f(ge,0,F,F,F,ve,ve,ve,Z,V,z,q,O,R,_,P,A,S)}var _e=F.$_version,ke=E.onChange;return n(ke)&&$!==_e&&ke(),[Z,V]};function f(v,w,x,T,A,P,S,E,_,R,O,F,$,z,q,Z,V,J){var fe={},ue=w<v.length-1,pe=v[w],ve=s(pe,fe),le=F.index;do{O.depth=w;var se=m(x,T,A,P,S,E,ve,ue,O,F,$,z,q,Z,V,J);O[w]=ve,O.index=w,F[F.index++]=ve;var ge=se[0],_e=se[1];if(ge&&(ue?f(v,w+1,x,_e,ge,P,se[3],se[2],_,R,O,F,$,z,q,Z,V,J):(_.push(O.slice(0,O.index+1)),R.push(F.slice(0,F.index)))),ve=s(pe,fe),fe.done)break;F.index=le}while(!0)}var h=new Array(4);function p(v,w,x,T,A,P,S,E,_,R,O,F){var $=w.value;if(P.length=0,P.push.apply(P,$),r(w))return P.index=$.length,a(w,E,_),h[0]=void 0,h[1]=v,h[2]=T,h[3]=x,h;var z=0,q=w,Z=$.length-1,V=w=v,J=T=x;do{var fe=$[z],ue=z<Z;P.index=z;var pe=m(v,V,w,x,J,T,fe,ue,A,P,S,E,_,R,O,F);if(w=pe[0],i(w))return P.index=z,pe;V=pe[1],T=pe[2],J=pe[3]}while(z++<Z);return P.index=z,q.$_context!==w&&e(q,w),h[0]=w,h[1]=V,h[2]=T,h[3]=J,h}function m(v,w,x,T,A,P,S,E,_,R,O,F,$,z,q,Z){for(var V=x.$type;V===t;){var J=p(v,x,T,P,_,R,O,F,$,z,q,Z);if(x=J[0],i(x))return J;w=J[1],P=J[2],A=J[3],V=x.$type}if(V!==void 0)return h[0]=x,h[1]=w,h[2]=P,h[3]=A,h;if(S==null){if(E)throw new u;x&&(S=x.$_key)}else w=x,A=P,x=w[S],P=A&&A[S];return x=l(w,x,P,S,_,R,O,F,$,z,q,Z),h[0]=x,h[1]=w,h[2]=P,h[3]=A,h}return M4}var k4,Fne;function Lw(){if(Fne)return k4;Fne=1;var e=sH();return k4=function(r,n){if(n.$expires!==e){var i=r.$_head;if(!i){r.$_head=r.$_tail=n;return}if(i!==n){var a=n.$_prev,s=n.$_next;s&&(s.$_prev=a),a&&(a.$_next=s),n.$_prev=void 0,r.$_head=n,n.$_next=i,i.$_prev=n,n===r.$_tail&&(r.$_tail=a)}}},k4}var D4,Lne;function hH(){if(Lne)return D4;Lne=1;var e=RM();return D4=function(r){if(r===void 0)return r;var n={};for(var i in r)i.lastIndexOf(e,0)!==0&&(n[i]=r[i]);return n},D4}var F4,Nne;function pH(){if(Nne)return F4;Nne=1;var e=Lw(),t=hH(),r=bm(),n=uH(),i=xS();return F4=function(s,o,l,u,f,h,p,m,v,w){if(o&&e(s._root,o),!!l){var x,T,A,P,S,E=null,_,R=!1,O,F=o&&o.$type,$=o&&o.value;if($===void 0&&(R=s._materialized),R)O={$type:n};else if(s._boxed)O=t(o);else if(!w&&F===r)O=void 0;else if(F===r||F===i)w?O=t(o):O=$;else if(w){var z=$&&typeof $=="object",q=!o||!o.$_modelCreated;z||q?O=t(o):O=$}else o&&F===void 0&&$===void 0?O={}:O=$;var Z=!1;if(w){for(S=l.jsonGraph,S||(Z=!0,S=l.jsonGraph={},l.paths=[]),x=0,T=v-1;x<T;x++)P=m[x],S[P]||(Z=!0,S[P]={}),S=S[P];P=m[x],S[P]=R?{$type:n}:O,p&&l.paths.push(p.slice(0,u))}else if(u===0)Z=!0,l.json=O;else{for(S=l.json,S||(Z=!0,S=l.json={}),x=0;x<u-1;x++)A=p[x],S[A]||(Z=!0,S[A]=h[x]),E=S,_=A,S=S[A];A=p[x],O!==void 0&&(A!=null?(Z=!0,S[A]||(S[A]=O)):E[_]=O)}f&&(f.hasValues=Z)}},F4}var L4,$ne;function AM(){return $ne||($ne=1,L4=Fw()),L4}var N4,zne;function yve(){if(zne)return N4;zne=1;var e=SP(),t=pH(),r=AM(),n=bm(),i=Lw();function a(s,o,l,u,f,h,p){for(var m=l,v=f,w=u,x=0,T,A;;){if(x===0&&w.$_context?(x=v.length,A=w.$_context):(T=v[x++],A=m[T]),A){var P=A.$type,S=P&&A.value||A;if(x<v.length){if(P){m=A;break}m=A;continue}else{if(m=A,P&&r(A))break;if(w.$_context||e(w,A),P===n){p?t(s,A,h,null,null,null,null,v,v.length,p):i(s._root,A),x=0,v=S,w=A,m=o;continue}break}}else m=void 0;break}if(x<v.length&&m!==void 0){for(var E=[],_=0;_<x;_++)E[_]=v[_];v=E}return[m,v,w]}return N4=a,N4}var $4,Bne;function OM(){if(Bne)return $4;Bne=1;var e=yve(),t=hH(),r=AM(),n=Lw(),i=bm(),a=uH(),s=xS();return $4=function(l,u,f){for(var h=l._root.cache,p=u.length,m=[],v=!1,w=!1,x=0,T,A,P=h,S=h,E=h,_,R,O,F=!0,$=!1;P&&x<p;){if(T=u[x++],T!==null&&(P=S[T],m[m.length]=T),!P){E=void 0,v=!0,F=!1;break}if(_=P.$type,_===a&&P.value===void 0){E=void 0,F=!1,v=x<p;break}if(x<p){if(_===i){if(r(P)){$=!0,E=void 0;break}if(R=e(l,h,h,P,P.value),O=R[0],!O){E=void 0,P=void 0,F=!1;break}_=O.$type,P=O,m=R[1].slice(0)}if(_)break}else E=P;S=P}if(x<p&&!$){for(A=x;A<p;++A)if(u[x]!==null){w=!0;break}for(w?(v=!0,E=void 0):E=P,A=x;A<p;++A)u[A]!==null&&(m[m.length]=u[A])}if(E&&_&&(r(E)?E=void 0:n(l._root,E)),E&&_===s&&!l._treatErrorsAsValues)throw{path:x===p?u:u.slice(0,x),value:E.value};return E&&l._boxed?E=_&&!f?t(E):E:!E&&l._materialized?E={$type:a}:E&&(E=E.value),{value:E,shorted:v,optimizedPath:m,found:F}},$4}var z4,jne;function mH(){if(jne)return z4;jne=1;var e=SS();function t(r,n){var i=new Error("The boundPath of the model is not valid since a value or error was found before the path end.");return i.name="InvalidModelError",i.boundPath=r,i.shortedPath=n,Object.setPrototypeOf&&Object.setPrototypeOf(i,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return e(t),z4=t,z4}var B4,Une;function Nw(){if(Une)return B4;Une=1;var e=OM(),t=mH();return B4=function(n,i,a){var s=i,o=i,l,u,f,h,p;for(l=n._boxed,a=n._materialized,u=n._treatErrorsAsValues,n._boxed=!0,n._materialized=a===void 0||a,n._treatErrorsAsValues=!0,f=e(n,s.concat(null),!0),n._boxed=l,n._materialized=a,n._treatErrorsAsValues=u,s=f.optimizedPath,h=f.shorted,p=f.found,f=f.value;s.length&&s[s.length-1]===null;)s.pop();if(p&&h)throw new t(o,s);return{path:s,value:f,shorted:h,found:p}},B4}var j4,qne;function _je(){if(qne)return j4;qne=1;var e=Wh();return j4=function(r,n){var i=e(r)&&r.$type||void 0;return n&&i?"branch":i},j4}var U4,Hne;function bve(){if(Hne)return U4;Hne=1;var e=bm(),t=xS(),r=_je(),n=Nb(),i=dve(),a=Fw(),s=kw(),o=Fb(),l=hve(),u=Lb(),f=pve(),h=mve(),p=CP(),m=gve(),v=vve();return U4=function(x,T,A,P,S,E,_,R,O,F,$,z,q,Z){var V=r(T,E);if(S||E)V&&a(T)&&(V="expired",u(T,F,$)),(V&&V!==e||s(T))&&(T=h(T,{},x,A,$,Z),T=f(T,x,A,O,R),T=m(T,O));else{var J=P,fe=r(J),ue=!(i(J)<i(T));if((V||fe)&&o(z)&&(ue=!z(T,J,R.slice(0,R.index))),ue){fe===t&&o(q)&&(J=q(v(_,A),J),fe=J.$type||fe),J=l(J,fe,fe?J.value:J);var pe=n(T)-n(J);T=h(T,J,x,A,$,Z),x=p(x,pe,$,O),T=f(T,x,A,O,R)}}return T},U4}var q4,Wne;function IM(){if(Wne)return q4;Wne=1;var e=SP(),t=bm(),r=Nw(),n=Fw(),i=Fb(),a=kw(),s=Lb(),o=Dw().iterateKeySet,l=wS(),u=bve(),f=dH();q4=function(w,x,T,A,P){for(var S=w._root,E=S,_=S.expired,R=l(),O=w._path,F=S.cache,$=O.length?r(w,O).value:F,z=$.$_parent||F,q=F.$_version,Z=[],V=[],J=[],fe=O.length,ue=-1,pe=x.length;++ue<pe;){var ve=x[ue],le=ve.path,se=ve.value,ge=O.slice(0);ge.index=fe,h(se,le,0,F,z,$,V,J,Z,ge,R,_,E,P,A)}var _e=F.$_version,ke=S.onChange;return i(ke)&&q!==_e&&ke(),[V,J]};function h(v,w,x,T,A,P,S,E,_,R,O,F,$,z,q,Z){var V={},J=x<w.length-1,fe=w[x],ue=o(fe,V),pe=R.index;do{_.depth=x;var ve=m(T,A,P,ue,v,J,!1,_,R,O,F,$,z,q,Z);_[x]=ue,_.index=x,R[R.index++]=ue;var le=ve[0],se=ve[1];if(le&&(J?h(v,w,x+1,T,se,le,S,E,_,R,O,F,$,z,q):(S.push(_.slice(0,_.index+1)),E.push(R.slice(0,R.index)))),ue=o(fe,V),V.done)break;R.index=pe}while(!0)}function p(v,w,x,T,A,P,S,E,_,R,O){var F=x.value;if(A.length=0,A.push.apply(A,F),n(x))return A.index=F.length,s(x,S,E),[void 0,w];var $=x,z=w;if(x=x.$_context,x!=null)z=x.$_parent||w,A.index=F.length;else{var q=0,Z=F.length-1;z=x=w;do{var V=F[q],J=q<Z;A.index=q;var fe=m(w,z,x,V,v,J,!0,T,A,P,S,E,_,R,O);if(x=fe[0],a(x))return A.index=q,fe;z=fe[1]}while(q++<Z);A.index=q,$.$_context!==x&&e($,x)}return[x,z]}function m(v,w,x,T,A,P,S,E,_,R,O,F,$,z,q){for(var Z=x.$type;Z===t;){var V=p(A,v,x,E,_,R,O,F,$,z,q);if(x=V[0],a(x))return V;w=V[1],Z=x.$type}if(P&&Z!==void 0)return[x,w];if(T==null){if(P)throw new f;x&&(T=x.$_key)}else w=x,x=w[T];return x=u(w,x,T,A,P,S,E,_,R,O,F,$,z,q),[x,w]}return q4}var H4,Vne;function ES(){if(Vne)return H4;Vne=1;var e=SS();function t(r){var n=new Error("An exception was thrown when making a request.");return n.name="InvalidSourceError",n.innerError=r,Object.setPrototypeOf&&Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,t),n}return e(t),H4=t,H4}var W4,Gne;function wje(){if(Gne)return W4;Gne=1;var e=nO(),t=IM(),r=ES(),n=[],i={dispose:function(){}},a=function(s,o,l,u){var f=s.paths,h=o._root,p=h.errorSelector,m=h.comparator,v=o._path,w,x;try{x=o._source.set(s,l)}catch{return u(new r),i}var T=x.subscribe(function(P){if(!(T&&T.disposed)){o._path=n;var S=e(o,[{paths:f,jsonGraph:P.jsonGraph}],null,p,m);P.paths=S[1],o._path=v,w=P}},function(P){T&&T.disposed||(o._path=n,t(o,f.map(function(S){return{path:S,value:P}}),null,p,m),o._path=v,u(P))},function(){u(null,w)});return T};return W4=a,W4}var yR={exports:{}},Kne;function xje(){if(Kne)return yR.exports;Kne=1;var e=Dw().iterateKeySet;yR.exports=function(o,l,u){var f=[],h=[],p=[],m,v;for(m=0,v=l.length;m<v;++m){var w=l[m],x=o[m],T=u[w.length],A=t(x,w,T);Array.prototype.push.apply(p,A[0]),Array.prototype.push.apply(f,A[1]),Array.prototype.push.apply(h,A[2])}return{intersection:p,optimizedComplement:f,requestedComplement:h}};function t(s,o,l){var u=s.length-o.length,f;for(f=0;l&&f<-u;f++)l=l[o[f]];return l?u===0?r(s,o,l,0,[],[]):u>0?r(s,o,l,0,s.slice(0,u),[]):r(s,o,l,-u,[],o.slice(0,-u)):[[],[o],[s]]}function r(s,o,l,u,f,h){for(var p=s.length-o.length,m=[],v=[],w=[],x=o.length;u<x;++u){var T=o[u],A=typeof T;if(T&&A==="object"){for(var P={},S=e(T,P);!P.done;){var E=l[S];if(E===void 0)w[w.length]=i(h,S,o,u+1),v[v.length]=i(f,S,s,u+1+p);else if(u===x-1)m[m.length]=a(f,S);else{var _=r(s,o,E,u+1,a(f,S),a(h,S));Array.prototype.push.apply(m,_[0]),Array.prototype.push.apply(w,_[1]),Array.prototype.push.apply(v,_[2])}S=e(T,P)}break}else if(l=l[T],h[h.length]=o[u],f[f.length]=s[u+p],l===void 0){w[w.length]=n(h,o,u+1),v[v.length]=n(f,s,u+p+1);break}else u===x-1&&(m[m.length]=f)}return[m,w,v]}yR.exports.__test={findPartialIntersections:t};function n(s,o,l){var u=s.slice(),f=u.length,h=o.length-l;u.length=f+h;for(var p=0;p<h;++p)u[f+p]=o[l+p];return u}function i(s,o,l,u){var f=s.concat(o),h=f.length,p=l.length-u;f.length=h+p;for(var m=0;m<p;++m)f[h+m]=l[u+m];return f}function a(s,o){var l=s.slice();return l.push(o),l}return yR.exports}var V4,Zne;function Sje(){if(Zne)return V4;Zne=1;var e=Dw(),t=e.toTree,r=e.toPaths,n=ES();return V4=function(a,s,o){if(a._count===0)return a.requestQueue.removeRequest(a),null;a.sent=!0,a.scheduled=!1;var l,u=a.requestQueue.model;if(u._enablePathCollapse||u._enableRequestDeduplication){for(var f=a._pathMap,h=0,p=s.length;h<p;++h)for(var m=s[h],v=0,w=m.length;v<w;++v){var x=m[v],T=x.length;if(!f[T])f[T]=[x];else{var A=f[T];A[A.length]=x}}for(var P=Object.keys(f),S=0,E=P.length;S<E;++S){var _=P[S];f[_]=t(f[_])}}u._enablePathCollapse?l=r(a._pathMap):s.length===1?l=s[0]:l=Array.prototype.concat.apply([],s);var R;try{R=u._source.get(l,a._attemptCount)}catch{return o(new n),null}var O,F=R.subscribe(function($){O=$},function($){o($,O)},function(){o(null,O)});return F},V4}var bR={},Yne;function _ve(){if(Yne)return bR;Yne=1;var e=null;return bR.setVersion=function(r){e=r},bR.getVersion=function(){return e},bR}var G4,Xne;function Eje(){if(Xne)return G4;Xne=1;var e=xje(),t=Sje(),r=wS(),n=_ve(),i=0,a=sve().GetRequest,s=nO(),o=IM(),l=xS(),u=[],f=ES(),h=function(v,w,x){this.sent=!1,this.scheduled=!1,this.requestQueue=w,this.id=++i,this.type=a,this._scheduler=v,this._attemptCount=x,this._pathMap={},this._optimizedPaths=[],this._requestedPaths=[],this._callbacks=[],this._count=0,this._disposable=null,this._collapsed=null,this._disposed=!1};h.prototype={batch:function(v,w,x){var T=this,A=T._optimizedPaths,P=T._requestedPaths,S=T._callbacks,E=A.length;if(A[E]=w,P[E]=v,S[E]=x,++T._count,!T.scheduled){T.scheduled=!0;var _,R=T._scheduler.schedule(function(){_=t(T,A,function(O,F){var $,z,q,Z=T.requestQueue.model;if(T.requestQueue.removeRequest(T),T._disposed=!0,Z._treatDataSourceErrorsAsJSONGraphErrors?O instanceof f:O){for($=0,q=S.length;$<q;++$)z=S[$],z&&z(O);return}if(T._count){var V=r.getCurrentVersion();n.setVersion(V);var J={hasInvalidatedResult:!1},fe=Z._useServerPaths&&F&&F.paths===void 0?new Error("Server responses must include a 'paths' field when Model._useServerPaths === true"):void 0;for(fe||T._merge(P,O,F,J),$=0,q=S.length;$<q;++$)z=S[$],z&&z(fe||O,F,J.hasInvalidatedResult);n.setVersion(null)}}),T._disposable=_});T._disposable=_||R}return p(T,E)},add:function(v,w,x){var T=this,A=e(v,w,T._pathMap),P=!1,S=!1;if(A.intersection.length){P=!0;var E=T._callbacks.length;T._callbacks[E]=x,T._requestedPaths[E]=A.intersection,T._optimizedPaths[E]=[],++T._count,S=p(T,E)}return[P,A.requestedComplement,A.optimizedComplement,S]},_merge:function(v,w,x,T){var A=this,P=A.requestQueue.model,S=P._root,E=S.errorSelector,_=S.comparator,R=P._path;P._path=u;var O=P._useServerPaths?x.paths:m(v);if(w&&P._treatDataSourceErrorsAsJSONGraphErrors){var F=w;F instanceof Error&&(F={message:F.message}),F.$type||(F={$type:l,value:F});var $=O.map(function(z){return{path:z,value:F}});o(P,$,null,E,_,T)}else s(P,[{paths:O,jsonGraph:x.jsonGraph}],null,E,_,T);P._path=R}};function p(v,w){var x=!1;return function(){if(!(x||v._disposed)){x=!0,v._callbacks[w]=null,v._optimizedPaths[w]=[],v._requestedPaths[w]=[];var T=--v._count,A=v._disposable;T===0&&(A.unsubscribe?A.unsubscribe():A.dispose(),v.requestQueue.removeRequest(v))}}}function m(v){for(var w=[],x=-1,T=0,A=v.length;T<A;++T)for(var P=v[T],S=0,E=P.length;S<E;++S)w[++x]=P[S];return w}return G4=h,G4}var K4,Jne;function Cje(){if(Jne)return K4;Jne=1;var e=sve(),t=wje(),r=Eje(),n=Dw();function i(a,s){this.model=a,this.scheduler=s,this.requests=this._requests=[]}return i.prototype={setScheduler:function(a){this.scheduler=a},set:function(a,s,o){return this.model._enablePathCollapse&&(a.paths=n.collapse(a.paths)),o===void 0&&(o=s,s=void 0),t(a,this.model,s,o)},get:function(a,s,o,l){var u=this,f=[],h=0,p=u._requests,m,v,w=s,x=a,T=!1,A;for(l===void 0&&(l=o,o=void 0),m=0,v=p.length;m<v;++m)if(A=p[m],A.type===e.GetRequest)if(A.sent){if(this.model._enableRequestDeduplication){var P=A.add(x,w,E);if(P[0]&&(x=P[1],w=P[2],f[f.length]=P[3],++h,!w.length))break}}else{A.batch(x,w,E),w=null,x=null,++h;break}if(w&&w.length){A=new r(u.scheduler,u,o),p[p.length]=A,++h;var S=A.batch(x,w,E);f[f.length]=S}function E(_,R,O){T||(--h,h===0&&l(_,R,O))}return function(){if(!(T||h===0)){T=!0;for(var _=f.length,R=0;R<_;++R)f[R]()}}},removeRequest:function(a){for(var s=this._requests,o=s.length;--o>=0;)if(s[o].id===a.id){s.splice(o,1);break}}},K4=i,K4}var Z4,Qne;function Pje(){return Qne||(Qne=1,Z4=function(){}),Z4}var Y4,eie;function Tje(){if(eie)return Y4;eie=1;var e=Pje();function t(r,n,i){!r||typeof r!="object"?this._observer={onNext:typeof r=="function"?r:e,onError:typeof n=="function"?n:e,onCompleted:typeof i=="function"?i:e}:this._observer={onNext:typeof r.onNext=="function"?function(a){r.onNext(a)}:e,onError:typeof r.onError=="function"?function(a){r.onError(a)}:e,onCompleted:typeof r.onCompleted=="function"?function(){r.onCompleted()}:e}}return t.prototype={onNext:function(r){this._closed||this._observer.onNext(r)},onError:function(r){this._closed||(this._closed=!0,this._observer.onError(r))},onCompleted:function(){this._closed||(this._closed=!0,this._observer.onCompleted())}},Y4=t,Y4}function Rje(e){var t,r=e.Symbol;return typeof r=="function"?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var fx;typeof self<"u"?fx=self:typeof window<"u"?fx=window:typeof global<"u"?fx=global:typeof module<"u"?fx=module:fx=Function("return this")();var Aje=Rje(fx);const Oje=Object.freeze(Object.defineProperty({__proto__:null,default:Aje},Symbol.toStringTag,{value:"Module"})),Ije=Ob(Oje);var X4,tie;function Mje(){if(tie)return X4;tie=1;function e(n){this.esObserver=n}e.prototype={onNext:function(i){typeof this.esObserver.next=="function"&&this.esObserver.next(i)},onError:function(i){typeof this.esObserver.error=="function"&&this.esObserver.error(i)},onCompleted:function(){typeof this.esObserver.complete=="function"&&this.esObserver.complete()}};function t(n){this.subscription=n}t.prototype.unsubscribe=function(){this.subscription.dispose()};function r(n){return{subscribe:function(a){return new t(n.subscribe(new e(a)))}}}return X4=r,X4}var J4,rie;function v0(){if(rie)return J4;rie=1;var e=Tje(),t=Ije.default,r=Mje();function n(i){this._subscribe=i}return n.prototype[t]=function(){return r(this)},n.prototype._toJSONG=function(){return this},n.prototype.progressively=function(){return this},n.prototype.subscribe=n.prototype.forEach=function(a,s,o){var l=new e(a,s,o),u=this._subscribe(l);switch(typeof u){case"function":return{dispose:function(){l._closed||(l._closed=!0,u())}};case"object":return{dispose:function(){l._closed||(l._closed=!0,u!==null&&u.dispose())}};default:return{dispose:function(){l._closed=!0}}}},n.prototype.then=function(a,s){var o=this;return o._promise||(o._promise=new Promise(function(l,u){var f=!1,h=[];o.subscribe(function(p){h[h.length]=p},function(p){f=!0,u(p)},function(){var p=h;h.length<=1&&(p=h[0]),f===!1&&l(p)})})),o._promise.then(a,s)},J4=n,J4}var Q4={exports:{}},e6,nie;function CS(){if(nie)return e6;nie=1;var e={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"};return e6=e,e6}var iie;function wve(){if(iie)return Q4.exports;iie=1;var e=CS(),t=".",r=",",n="[",i="]",a="{",s="}",o=":",l="\\",u='"',f="'",h=" ",p=`\\'"[]., `,m=`\\{}'"[]., :`,v=Q4.exports=function(T,A){this._string=T,this._idx=-1,this._extended=A,this.parseString=""};v.prototype={next:function(){var T=this._nextToken?this._nextToken:x(this._string,this._idx,this._extended);return this._idx=T.idx,this._nextToken=!1,this.parseString+=T.token.token,T.token},peek:function(){var T=this._nextToken?this._nextToken:x(this._string,this._idx,this._extended);return this._nextToken=T,T.token}},v.toNumber=function(A){return isNaN(+A)?NaN:+A};function w(T,A,P){return{token:T,done:P,type:A}}function x(T,A,P){var S=!1,E="",_=P?m:p,R;do{if(R=A+1>=T.length,R)break;var O=T[A+1];if(O!==void 0&&_.indexOf(O)===-1){E+=O,++A;continue}else if(E.length)break;++A;var F;switch(O){case t:F=e.dotSeparator;break;case r:F=e.commaSeparator;break;case n:F=e.openingBracket;break;case i:F=e.closingBracket;break;case a:F=e.openingBrace;break;case s:F=e.closingBrace;break;case h:F=e.space;break;case u:case f:F=e.quote;break;case l:F=e.escape;break;case o:F=e.colon;break;default:F=e.unknown;break}S=w(O,F,!1);break}while(!R);return!S&&E.length&&(S=w(E,e.token,!1)),S||(S={done:!0}),{token:S,idx:A}}return Q4.exports}var t6,aie;function PP(){return aie||(aie=1,t6={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(e,t,r){throw r?e+" -- "+t.parseString+" with next token: "+r:e+" -- "+t.parseString}}),t6}var r6,oie;function kje(){if(oie)return r6;oie=1;var e=wve(),t=CS(),r=PP();return r6=function(i,a,s,o){var l=i.peek(),u=1,f=!1,h=!0,p=s.indexer.length-1,m=e.toNumber(s.indexer[p]),v;for(isNaN(m)&&r.throwError(r.range.precedingNaN,i);!f&&!l.done;){switch(l.type){case t.dotSeparator:u===3&&r.throwError(r.unexpectedToken,i),++u,u===3&&(h=!1);break;case t.token:v=e.toNumber(i.next().token),isNaN(v)&&r.throwError(r.range.suceedingNaN,i),f=!0;break;default:f=!0;break}if(!f)i.next(),l=i.peek();else break}s.indexer[p]={from:m,to:h?v:v-1}},r6}var n6,sie;function Dje(){if(sie)return n6;sie=1;var e=CS(),t=PP(),r=t.quote;return n6=function(i,a,s,o){for(var l=i.next(),u="",f=a.token,h=!1,p=!1;!l.done;){switch(l.type){case e.token:case e.space:case e.dotSeparator:case e.commaSeparator:case e.openingBracket:case e.closingBracket:case e.openingBrace:case e.closingBrace:h&&t.throwError(r.illegalEscape,i),u+=l.token;break;case e.quote:h?(u+=l.token,h=!1):l.token!==f?u+=l.token:p=!0;break;case e.escape:h=!0;break;default:t.throwError(t.unexpectedToken,i)}if(p)break;l=i.next()}u.length===0&&t.throwError(r.empty,i),s.indexer[s.indexer.length]=u},n6}var i6,lie;function xve(){return lie||(lie=1,i6={integers:"integers",ranges:"ranges",keys:"keys"}),i6}var a6,uie;function Fje(){if(uie)return a6;uie=1;var e=CS(),t=xve(),r=PP(),n=r.routed;return a6=function(a,s,o,l){var u=a.next(),f=!1,h="";switch(u.token){case t.integers:case t.ranges:case t.keys:break;default:r.throwError(n.invalid,a);break}var p=a.next();if(p.type===e.colon&&(f=!0,p=a.next(),p.type!==e.token&&r.throwError(n.invalid,a),h=p.token,p=a.next()),p.type===e.closingBrace){var m={type:u.token,named:f,name:h};o.indexer[o.indexer.length]=m}else r.throwError(n.invalid,a)},a6}var o6,cie;function Lje(){if(cie)return o6;cie=1;var e=CS(),t=PP(),r=t.indexer,n=kje(),i=Dje(),a=Fje();return o6=function(o,l,u,f){var h=o.next(),p=!1,m=1,v=!1;for(u.indexer=[];!h.done;){switch(h.type){case e.token:case e.quote:u.indexer.length===m&&t.throwError(r.requiresComma,o);break}switch(h.type){case e.openingBrace:v=!0,a(o,h,u,f);break;case e.token:var w=+h.token;isNaN(w)&&t.throwError(r.needQuotes,o),u.indexer[u.indexer.length]=w;break;case e.dotSeparator:u.indexer.length||t.throwError(r.leadingDot,o),n(o,h,u,f);break;case e.space:break;case e.closingBracket:p=!0;break;case e.quote:i(o,h,u,f);break;case e.openingBracket:t.throwError(r.nested,o);break;case e.commaSeparator:++m;break;default:t.throwError(t.unexpectedToken,o);break}if(p)break;h=o.next()}u.indexer.length===0&&t.throwError(r.empty,o),u.indexer.length>1&&v&&t.throwError(r.routedTokens,o),u.indexer.length===1&&(u.indexer=u.indexer[0]),f[f.length]=u.indexer,u.indexer=void 0},o6}var s6,fie;function Nje(){if(fie)return s6;fie=1;var e=CS(),t=PP(),r=Lje();return s6=function(i){for(var a=i.next(),s={},o=[];!a.done;){switch(a.type){case e.token:var l=+a.token[0];isNaN(l)||t.throwError(t.invalidIdentifier,i),o[o.length]=a.token;break;case e.dotSeparator:o.length===0&&t.throwError(t.unexpectedToken,i);break;case e.space:break;case e.openingBracket:r(i,a,s,o);break;default:t.throwError(t.unexpectedToken,i);break}a=i.next()}return o.length===0&&t.throwError(t.invalidPath,i),o},s6}var l6,die;function hy(){if(die)return l6;die=1;var e=wve(),t=Nje(),r=xve(),n=function(a,s){return t(new e(a,s))};return l6=n,n.fromPathsOrPathValues=function(i,a){if(!i)return[];for(var s=[],o=0,l=i.length;o<l;o++)typeof i[o]=="string"?s[o]=n(i[o],a):typeof i[o].path=="string"?s[o]={path:n(i[o].path,a),value:i[o].value}:s[o]=i[o];return s},n.fromPath=function(i,a){return i?typeof i=="string"?n(i,a):i:[]},n.RoutedTokens=r,l6}var u6,hie;function $je(){if(hie)return u6;hie=1;var e=v0(),t=ES(),r=hy();function n(i,a,s,o,l){this.callPath=r.fromPath(a),this.args=s,l&&(this.paths=l.map(r.fromPath)),o&&(this.suffix=o.map(r.fromPath)),this.model=i}return n.prototype=Object.create(e.prototype),n.prototype._subscribe=function(a){var s=this.callPath,o=this.args,l=this.suffix,u=this.paths,f=this.model,h=f._clone({_path:[]}),p=f._path,m=p.concat(s);if(!f._source){a.onError(new Error("function does not exist"));return}var v,w;try{w=f._source.call(m,o,l,u)}catch(x){a.onError(new t(x));return}return w.subscribe(function(x){v=x},function(x){a.onError(x)},function(){var x=v.invalidated;x&&x.length&&h.invalidate.apply(h,x),h.withoutDataSource().set(v).subscribe(function(T){a.onNext(T)},function(T){a.onError(T)},function(){a.onCompleted()})})},u6=n,u6}var c6,pie;function TP(){if(pie)return c6;pie=1;var e=Array.isArray,t=Wh();return c6=function(n){return t(n)&&(e(n.path)||typeof n.path=="string")},c6}var f6,mie;function MM(){if(mie)return f6;mie=1;var e=Wh();return f6=function(r){return e(r)&&"json"in r},f6}var d6,gie;function zje(){if(gie)return d6;gie=1;var e=Array.isArray,t=v0(),r=TP(),n=MM(),i={dispose:function(){}};function a(s,o){this._model=s;for(var l=[],u,f,h=-1,p=o.length;++h<p;){var m=o[h],v;if(e(m))v="PathValues";else if(r(m))v="PathValues";else if(n(m))v="PathMaps";else throw new Error("Invalid Input");f!==v&&(f=v,u={inputType:v,arguments:[]},l.push(u)),u.arguments.push(m)}this._groups=l}return a.prototype=Object.create(t.prototype),a.prototype.progressively=function(){return this},a.prototype._toJSONG=function(){return this},a.prototype._subscribe=function(o){var l=this._model;return this._groups.forEach(function(u){var f=u.inputType,h=u.arguments,p="_invalidate"+f,m=l[p];m(l,h)}),o.onCompleted(),i},d6=a,d6}var h6,vie;function Bje(){if(vie)return h6;vie=1;function e(r){this.delay=r}var t=function(n){this.id=n,this.disposed=!1};return e.prototype.schedule=function(n){var i=setTimeout(n,this.delay);return new t(i)},e.prototype.scheduleWithState=function(n,i){var a=this,s=setTimeout(function(){i(a,n)},this.delay);return new t(s)},t.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)},h6=e,h6}var p6,yie;function jje(){if(yie)return p6;yie=1;var e={dispose:function(){}};function t(){}return t.prototype.schedule=function(n){return n(),e},t.prototype.scheduleWithState=function(n,i){return i(this,n),e},p6=t,p6}var m6,bie;function gH(){if(bie)return m6;bie=1;var e=cH(),t=CP();return m6=function(n,i,a,s,o,l){var u=a,f=o;typeof f!="number"&&(f=.75);var h=typeof l=="number",p=s*f,m,v,w;for(v=i.pop();v;)w=v.$size||0,u-=w,h===!0?t(v,w,n,l):(m=v.$_parent)&&e(v,m,v.$_key,n),v=i.pop();if(u>=s){var x=n.$_tail;for(v=x;u>=p&&v;)x=x.$_prev,w=v.$size||0,u-=w,h===!0&&t(v,w,n,l),v=x;n.$_tail=n.$_prev=v,v==null?n.$_head=n.$_next=void 0:v.$_next=void 0}},m6}var g6,_ie;function vH(){if(_ie)return g6;_ie=1;var e=Array.isArray,t=Wh();return g6=function(n){return t(n)&&e(n.paths)&&(t(n.jsonGraph)||t(n.jsong)||t(n.json)||t(n.values)||t(n.value))},g6}var v6,wie;function y6(){if(wie)return v6;wie=1;var e=SP(),t=TM(),r=bm(),n=Nw(),i=Array.isArray,a=xP(),s=Wh(),o=Fw(),l=Fb(),u=kw(),f=Lb(),h=wS(),p=bve(),m=dH();v6=function(P,S,E,_,R){for(var O=P._root,F=O,$=O.expired,z=h(),q=P._path,Z=O.cache,V=q.length?n(P,q).value:Z,J=V.$_parent||Z,fe=Z.$_version,ue=[],pe=[],ve=[],le=q.length,se=-1,ge=S.length;++se<ge;){var _e=S[se],ke=q.slice(0);ke.index=le,v(_e.json,0,Z,J,V,pe,ve,ue,ke,z,$,F,R,_)}var Ge=Z.$_version,ct=O.onChange;return l(ct)&&fe!==Ge&&ct(),[pe,ve]};function v(A,P,S,E,_,R,O,F,$,z,q,Z,V,J){var fe=T(A);if(fe&&fe.length){var ue=0,pe=fe.length,ve=$.index;do{var le=fe[ue],se=A[le],ge=s(se)&&!se.$type;F.depth=P;var _e=x(S,E,_,le,se,ge,!1,F,$,z,q,Z,V,J);F[P]=le,F.index=P,$[$.index++]=le;var ke=_e[0],Ge=_e[1];if(ke&&(ge?v(se,P+1,S,Ge,ke,R,O,F,$,z,q,Z,V,J):(R.push(F.slice(0,F.index+1)),O.push($.slice(0,$.index)))),++ue>=pe)break;$.index=ve}while(!0)}}function w(A,P,S,E,_,R,O,F,$,z){var q=S.value;if(_.length=0,_.push.apply(_,q),o(S))return _.index=q.length,f(S,O,F),[void 0,P];var Z=S,V=P;if(S=S.$_context,S!=null)V=S.$_parent||P,_.index=q.length;else{var J=0,fe=q.length-1;_.index=J,V=S=P;do{var ue=q[J],pe=J<fe,ve=x(P,V,S,ue,A,pe,!0,E,_,R,O,F,$,z);if(S=ve[0],u(S))return _.index=J,ve;V=ve[1]}while(J++<fe);_.index=J,Z.$_context!==S&&e(Z,S)}return[S,V]}function x(A,P,S,E,_,R,O,F,$,z,q,Z,V,J){for(var fe=S.$type;fe===r;){var ue=w(_,A,S,F,$,z,q,Z,V,J);if(S=ue[0],u(S))return ue;P=ue[1],fe=S&&S.$type}if(fe!==void 0)return[S,P];if(E==null){if(R)throw new m;S&&(E=S.$_key)}else P=S,S=P[E];return S=p(P,S,E,_,R,O,F,$,z,q,Z,V,J),[S,P]}function T(A){if(s(A)&&!A.$type){var P=[],S=0;i(A)&&(P[S++]="length");for(var E in A)E[0]===t||!a(A,E)||(P[S++]=E);return P}}return v6}var b6,xie;function Sve(){if(xie)return b6;xie=1;var e=hy();function t(r,n,i){var a=Object.create(null);if(i!=null){for(var s in i)a[s]=i[s];return a.$type=r,a.value=n,a}else return{$type:r,value:n}}return b6={ref:function(n,i){return t("ref",e.fromPath(n),i)},atom:function(n,i){return t("atom",n,i)},undefined:function(){return t("atom")},error:function(n,i){return t("error",n,i)},pathValue:function(n,i){return{path:e.fromPath(n),value:i}},pathInvalidation:function(n){return{path:e.fromPath(n),invalidated:!0}}},b6}var _6,Sie;function yH(){if(Sie)return _6;Sie=1;var e=Array.isArray,t=TP(),r=vH(),n=MM(),i=hy();return _6=function(s,o,l){for(var u=0,f=s.length;u<f;++u){var h=s[u],p=!1;if(e(h)&&o.path)p=!0;else if(typeof h=="string"&&o.pathSyntax)try{i.fromPath(h),p=!0}catch(m){return new Error("Path syntax validation error -- "+m)}else if(t(h)&&o.pathValue)try{h.path=i.fromPath(h.path),p=!0}catch(m){return new Error("Path syntax validation error -- "+m)}else(r(h)&&o.jsonGraph||n(h)&&o.json||typeof h=="function"&&u+1===f&&o.selector)&&(p=!0);if(!p)return new Error("Unrecognized argument "+typeof h+" ["+String(h)+"] to Model#"+l)}return!0},_6}var w6,Eie;function Uje(){if(Eie)return w6;Eie=1;var e=RM();return w6=function(r){return r==="$size"||r.lastIndexOf(e,0)===0},w6}var x6,Cie;function qje(){if(Cie)return x6;Cie=1;var e=Uje();x6=function(i){var a={};return r(i,a),a};function t(n){var i={},a=Object.keys(n),s,o,l;for(o=0,l=a.length;o<l;o++)s=a[o],e(s)||(i[s]=n[s]);return i}function r(n,i,a){Object.keys(n).filter(function(s){return!e(s)&&n[s]!==void 0}).forEach(function(s){var o=n[s],l=i[s];if(l||(l=i[s]={}),o.$type){var u=o.value&&typeof o.value=="object",f=!o.$_modelCreated,h;u||f?h=t(o):h=o.value,i[s]=h;return}r(o,l)})}return x6}var S6,Pie;function Eve(){return Pie||(Pie=1,S6=function(t,r){for(var n=t._root.cache,i=-1,a=r.length;++i<a&&n&&!n.$type;)n=n[r[i]];return n}),S6}var E6,Tie;function Hje(){if(Tie)return E6;Tie=1;var e=SS();function t(){var r=new Error("It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");return r.name="BoundJSONGraphModelError",Object.setPrototypeOf&&Object.setPrototypeOf(r,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return e(t),E6=t,E6}var C6,Rie;function Wje(){if(Rie)return C6;Rie=1;var e=Eve(),t=mH(),r=Hje();function n(a,s){if(a!==s&&!(a===null||typeof a!="object"||a.$type)&&!(s===null||typeof s!="object"||s.$type)){for(var o in s)if(o!=="$__path"){var l=a[o];l===void 0?a[o]=s[o]:n(l,s[o])}}}function i(a){return a?{jsonGraph:{},paths:[]}:{json:{}}}return C6=function(s,o){return function(u,f,h){var p=o?h:[{}],m=p[0],v={values:p,optimizedPaths:[]},w=u._root.cache,x=u._path,T=w,A,P,S,E,_=[],R=[],O;if(x.length){if(o)return{criticalError:new r};if(A=u._getOptimizedBoundPath(),P=A.length,T=e(u,A),T&&T.$type)return{criticalError:new t(x,A)};O=u._referenceContainer}else A=[],P=0;for(S=0,E=f.length;S<E;S++)s(u,w,T,f[S],0,m,v,R,_,A,P,o,!1,O);return n(m,f.length?h[0]:i(o)),v}},C6}var P6,Aie;function Vje(){if(Aie)return P6;Aie=1;var e=Lw(),t=hH();return P6=function(n,i,a,s,o){var l=i.value;o.errors||(o.errors=[]),n._boxed&&(l=t(i)),o.errors.push({path:s.slice(0,a),value:l}),e(n._root,i)},P6}var T6,Oie;function Gje(){if(Oie)return T6;Oie=1,T6=function(n,i,a,s,o,l,u){var f;if(s.requestedMissingPaths||(s.requestedMissingPaths=[],s.optimizedMissingPaths=[]),a<i.length){for(var h=!1,p=a;p<i.length&&!h;++p)if(t(i[p]))return;f=i.slice(a)}else f=[];e(n,f,a,o,l,u,s)};function e(r,n,i,a,s,o,l){var u=a.slice(0,i);Array.prototype.push.apply(u,n),l.requestedMissingPaths[l.requestedMissingPaths.length]=u;var f=s.slice(0,o);Array.prototype.push.apply(f,n),l.optimizedMissingPaths[l.optimizedMissingPaths.length]=f}function t(r){if(r===null||typeof r!="object")return!1;var n=Array.isArray(r);if(n&&r.length)return!1;if(n)return!0;var i=r.from,a=r.to;return!(i===void 0||i<=a)}return T6}var R6,Iie;function Kje(){return Iie||(Iie=1,R6=function(t){return t._materialized&&!t._source}),R6}var A6,Mie;function Zje(){if(Mie)return A6;Mie=1;var e=AM(),t=xS(),r=Vje(),n=pH(),i=Gje(),a=Kje(),s=Lb(),o=_ve();return A6=function(u,f,h,p,m,v,w,x,T,A,P,S){var E=f&&f.$type;if(!f||!E){var _=a(u);(_||!P)&&n(u,f,m,p,v,w,x,T,A,P),_||i(u,h,p,v,x,T,A);return}else e(f)&&!(f.$_version===o.getVersion()&&f.$expires===0)?(f.$_invalidated||s(f,u._root.expired,u._root),i(u,h,p,v,x,T,A)):E===t?(S&&(x[p]=null,p+=1),P||u._treatErrorsAsValues?n(u,f,m,p,v,w,x,T,A,P):(n(u,void 0,m,p,v,w,x,T,A,P),r(u,f,p,x,v))):(S&&(x[p]=null,p+=1),n(u,f,m,p,v,w,x,T,A,P))},A6}var O6,kie;function Yje(){if(kie)return O6;kie=1;var e=yve(),t=Zje(),r=pH(),n=AM(),i=Dw().iterateKeySet,a=bm(),s=Lw();return O6=function o(l,u,f,h,p,m,v,w,x,T,A,P,S,E){var _=S,R=T,O=E;if(!f||f.$type||p===h.length){t(l,f,h,p,m,v,w,x,R,A,P,_);return}var F=h[p],$=F!==null&&typeof F=="object",z=!1,q=F;$&&(z={},q=i(F,z));var Z=l._allowFromWhenceYouCame,V=A+1,J=p+1,fe;do{if(q==null){r(l,f,m,p,v,w,x,R,A,P),z&&!z.done&&(q=i(F,z));continue}_=!1,R[A]=q,x[p]=q;var ue=f[q],pe=R,ve=V;if(ue){var le=ue.$type,se=le&&ue.value||ue;if(J<h.length&&le&&le===a&&!n(ue)){s(l._root,ue),P&&r(l,ue,m,J,v,null,null,R,ve,P);var ge=e(l,u,u,ue,se,m,P);_=!0,ue=ge[0],fe=ge[1],O=ge[2],pe=fe.slice(),ve=fe.length}if(ue){var _e;O&&Z?_e={$__path:ue.$_absolutePath,$__refPath:O.value,$__toReference:O.$_absolutePath}:_e={$__path:ue.$_absolutePath},w[p]=_e}}o(l,u,ue,h,J,m,v,w,x,pe,ve,P,_,O),z&&!z.done&&(q=i(F,z))}while(z&&!z.done)},O6}var I6,Die;function bH(){if(Die)return I6;Die=1;var e=Wje(),t=Yje(),r=e(t,!1),n=e(t,!0);return I6={getValueSync:OM(),getBoundValue:Nw(),getWithPathsAsPathMap:r,getWithPathsAsJSONGraph:n},I6}var M6,Fie;function Cve(){return Fie||(Fie=1,M6={path:!0,pathSyntax:!0}),M6}var k6,Lie;function Pve(){if(Lie)return k6;Lie=1;var e=bH(),t=e.getWithPathsAsJSONGraph,r=e.getWithPathsAsPathMap;return k6=function(i,a,s,o,l,u,f){var h=l?t(i,a,u):r(i,a,u),p=h.values&&h.values[0],m=!h.requestedMissingPaths||!h.requestedMissingPaths.length||!i._source;if(h.errors)for(var v=h.errors,w=f.length,x=0,T=v.length;x<T;++x,++w)f[w]=v[x];return(o||m&&p!==void 0)&&s.onNext(p),h.criticalError?(s.onError(h.criticalError),null):m?(f.length?s.onError(f):s.onCompleted(),null):h},k6}var D6,Nie;function Tve(){if(Nie)return D6;Nie=1;var e=SS();function t(r){var n=new Error("The allowed number of retries have been exceeded.");return n.name="MaxRetryExceededError",n.missingOptimizedPaths=r||[],Object.setPrototypeOf&&Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,t),n}return e(t),t.is=function(r){return r&&r.name==="MaxRetryExceededError"},D6=t,D6}var F6,$ie;function Rve(){if($ie)return F6;$ie=1;var e=function(r){this.disposed=!1,this.currentDisposable=r};return e.prototype={dispose:function(){if(!(this.disposed||!this.currentDisposable)){this.disposed=!0;var r=this.currentDisposable;r.dispose?r.dispose():r()}}},F6=e,F6}var L6,zie;function Xje(){if(zie)return L6;zie=1;var e=Pve(),t=Tve(),r=gH(),n=Nb(),i=Rve(),a=ES();return L6=function s(o,l,u,f,h,p){if(p>l._maxRetries)return f.onError(new t(u.optimizedMissingPaths)),{dispose:function(){}};var m=l._request,v=u.requestedMissingPaths,w=u.optimizedMissingPaths,x=new i,T=[],A=l._path;if(A.length)for(var P=0,S=v.length;P<S;++P)T[P]=A.concat(v[P]);else T=v;var E=m.get(T,w,p,function(_,R,O){if(l._treatDataSourceErrorsAsJSONGraphErrors?_ instanceof a:_){u.hasValues&&f.onNext(u.values&&u.values[0]),f.onError(_);return}var F,$;O?(F=o.currentRemainingPaths,$=[{}]):(F=v,$=u.values);var z=e(l,F,f,o.isProgressive,o.isJSONGraph,$,h);if(z)x.currentDisposable=s(o,l,z,f,h,p+1);else{var q=l._root,Z=q.cache,V=Z.$_version;r(q,q.expired,n(Z),l._maxSize,l._collectRatio,V)}});return x.currentDisposable=E,x},L6}var N6,Bie;function _H(){if(Bie)return N6;Bie=1;var e=v0(),t=Pve(),r=Xje(),n={dispose:function(){}},i=gH(),a=Nb(),s=function(l,u,f,h,p){this.model=l,this.currentRemainingPaths=u,this.isJSONGraph=f||!1,this.isProgressive=h||!1,this.forceCollect=p||!1};return s.prototype=Object.create(e.prototype),s.prototype._toJSONG=function(){return new s(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect)},s.prototype.progressively=function(){return new s(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect)},s.prototype._subscribe=function(l){var u=[{}],f=[],h=this.model,p=l.isJSONG=this.isJSONGraph,m=this.isProgressive,v=t(h,this.currentRemainingPaths,l,m,p,u,f);if(!v){if(this.forceCollect){var w=h._root,x=w.cache,T=x.$_version;i(w,w.expired,a(x),h._maxSize,h._collectRatio,T)}return n}return r(this,h,v,l,f,1)},N6=s,N6}var $6,jie;function Jje(){if(jie)return $6;jie=1;var e=hy(),t=v0(),r=Cve(),n=yH(),i=_H();return $6=function(){var s=n(arguments,r,"get");if(s!==!0)return new t(function(l){l.onError(s)});var o=e.fromPathsOrPathValues(arguments);return new i(this,o)},$6}var z6,Uie;function Qje(){if(Uie)return z6;Uie=1;var e=_H();return z6=function(r){return new e(this,r)},z6}var B6,qie;function e7e(){return qie||(qie=1,B6={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}),B6}var j6,Hie;function t7e(){return Hie||(Hie=1,j6=function(t,r){for(var n=-1,i=-1,a=t.length,s=[];++i<a;)for(var o=r(t[i],i,t),l=-1,u=o.length;++l<u;)s[++n]=o[l];return s}),j6}var U6,Wie;function r7e(){if(Wie)return U6;Wie=1;var e=t7e();U6=function(i,a){for(var s=i._root,o=s.errorSelector,l=-1,u=a.length,f=[],h=[],p={requestedPaths:f,optimizedPaths:h};++l<u;){var m=a[l],v=m.inputType,w=m.arguments;if(w.length>0){var x="_set"+v,T=i[x],A=T(i,w,null,o);h.push.apply(h,A[1]),v==="PathValues"?f.push.apply(f,w.map(t)):v==="JSONGs"?f.push.apply(f,e(w,r)):f.push.apply(f,A[0])}}return p};function t(n){return n.path}function r(n){return n.paths}return U6}var q6,Vie;function n7e(){if(Vie)return q6;Vie=1;var e=[],t=Rve(),r=_H(),n=r7e(),i=bH().getWithPathsAsPathMap,a=ES(),s=Tve();q6=function u(f,h,p,m,v,w){var x=n(f,p),T=x.optimizedPaths,A=x.requestedPaths;if(w>f._maxRetries)return h.onError(new s(T)),{dispose:function(){}};var P=f._source===void 0;if(P)return l(f,h,A,m,v);var S;if(v){var E=i(f,A,[{}]);if(E.criticalError)return h.onError(E.criticalError),null;h.onNext(E.values[0]),S=f._root.cache.$_version}var _=o(f,T),R=new t,O=f._request.set(_,w,function(F,$){if(F instanceof a){h.onError(F);return}var z=!1;if((F||T.length===$.paths.length)&&(z=!0),v){var q=f._root.cache.$_version,Z=q!==S;if(!Z){h.onCompleted();return}}z?R.currentDisposable=l(f,h,A,m,v):u(f,h,p,m,v,w+1)});return R.currentDisposable=O,R};function o(u,f){var h=u._path,p={};return u._path=e,u._getPathValuesAsJSONG(u._materialize().withoutDataSource(),f,[p]),u._path=h,p}function l(u,f,h,p,m){var v=new r(u,h,p,m,!0);return v.subscribe(f)}return q6}var H6,Gie;function i7e(){if(Gie)return H6;Gie=1;var e=v0(),t=hy(),r=Array.isArray,n=TP(),i=vH(),a=MM(),s=n7e(),o=function(u,f,h,p){this._model=u,this._isJSONGraph=h||!1,this._isProgressive=p||!1,this._initialArgs=f,this._value=[{}];for(var m=[],v,w,x=-1,T=f.length;++x<T;){var A=f[x],P;r(A)||typeof A=="string"?(A=t.fromPath(A),P="PathValues"):n(A)?(A.path=t.fromPath(A.path),P="PathValues"):i(A)?P="JSONGs":a(A)&&(P="PathMaps"),w!==P&&(w=P,v={inputType:P,arguments:[]},m.push(v)),v.arguments.push(A)}this._groups=m};return o.prototype=Object.create(e.prototype),o.prototype._subscribe=function(u){var f=this._groups,h=this._model,p=this._isJSONGraph,m=this._isProgressive;return s(h,u,f,p,m,1)},o.prototype._toJSONG=function(){return new o(this._model,this._initialArgs,!0,this._isProgressive)},o.prototype.progressively=function(){return new o(this._model,this._initialArgs,this._isJSONGraph,!0)},H6=o,H6}var W6,Kie;function a7e(){if(Kie)return W6;Kie=1;var e=e7e(),t=yH(),r=i7e(),n=v0();return W6=function(){var a=t(arguments,e,"set");if(a!==!0)return new n(function(u){u.onError(a)});for(var s=-1,o=arguments.length,l=[];++s<o;)l[s]=arguments[s];return new r(this,l)},W6}var V6,Zie;function o7e(){if(Zie)return V6;Zie=1;var e=SS();function t(){var r=new Error("Deref can only be used with a non-primitive object from get, set, or call.");return r.name="InvalidDerefInputError",Object.setPrototypeOf&&Object.setPrototypeOf(r,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return e(t),V6=t,V6}var G6,Yie;function s7e(){if(Yie)return G6;Yie=1;var e=o7e(),t=Eve(),r="e",n=bm();return G6=function(a){var s=a&&a.$__path,o=a&&a.$__refPath,l=a&&a.$__toReference,u;if(s){var f=r;if(l&&(f=!1,u=t(this,l),o&&u&&u.$type===n)){var h=u.value,p=0,m=o.length;for(f=!0;f&&p<m;++p)h[p]!==o[p]&&(f=!1)}return f?f===r&&(u=!0):u=!1,this._clone({_path:s,_referenceContainer:u})}throw new e},G6}var K6,Xie;function l7e(){return Xie||(Xie=1,K6=function(){var t=this._referenceContainer;return!this._allowFromWhenceYouCame||t===!0?!0:!(t===!1||t&&t.$_parent===void 0||t&&t.$_invalidated)}),K6}var Z6,Jie;function u7e(){if(Jie)return Z6;Jie=1;var e=v0(),t=hy();return Z6=function(n){for(var i=t.fromPath(n),a=0,s=i.length;++a<s;)if(typeof i[a]=="object")return new e(function(l){l.onError(new Error("Paths must be simple paths"))});var o=this;return new e(function(l){return o.get(i).subscribe(function(u){for(var f=u.json,h=-1,p=i.length;f&&++h<p;)f=f[i[h]];l.onNext(f)},function(u){l.onError(u)},function(){l.onCompleted()})})},Z6}var Y6,Qie;function c7e(){if(Qie)return Y6;Qie=1;var e=Sve(),t=v0(),r=TP();return Y6=function(i,a){for(var s=r(i)?i:e.pathValue(i,a),o=0,l=s.path,u=l.length;++o<u;)if(typeof l[o]=="object")return new t(function(h){h.onError(new Error("Paths must be simple paths"))});var f=this;return new t(function(h){return f.set(s).subscribe(function(p){for(var m=p.json,v=-1,w=l.length;m&&++v<w;)m=m[l[v]];h.onNext(m)},function(p){h.onError(p)},function(){h.onCompleted()})})},Y6}var X6,eae;function f7e(){if(eae)return X6;eae=1;var e=hy(),t=OM();return X6=function(n){var i=e.fromPath(n);if(Array.isArray(i)===!1)throw new Error("Model#_getValueSync must be called with an Array path.");return this._path.length&&(i=this._path.concat(i)),this._syncCheck("getValueSync"),t(this,i).value},X6}var J6,tae;function d7e(){if(tae)return J6;tae=1;var e=hy(),t=TP(),r=IM();return J6=function(i,a,s,o){var l=e.fromPath(i),u=a,f=s,h=o;if(t(l)?(h=f,f=u,u=l):u={path:l,value:u},t(u)===!1)throw new Error("Model#setValueSync must be called with an Array path.");return typeof f!="function"&&(f=this._root._errorSelector),typeof h!="function"&&(h=this._root._comparator),this._syncCheck("setValueSync"),r(this,[u]),this._getValueSync(u.path)},J6}var Q6,rae;function h7e(){if(rae)return Q6;rae=1;var e=hy(),t=Nw(),r=mH();return Q6=function(i){var a=e.fromPath(i);if(!Array.isArray(a))throw new Error("Model#derefSync must be called with an Array path.");var s=t(this,this._path.concat(a),!1),o=s.path,l=s.value,u=s.found;if(!(!u||l===void 0)){if(l.$type)throw new r(o,o);return this._clone({_path:o})}},Q6}var ez,nae;function p7e(){if(nae)return ez;nae=1;var e=OM();return ez=function(r,n){var i=e({_boxed:!0,_root:r._root,_treatErrorsAsValues:r._treatErrorsAsValues},n,!0).value,a=i&&i.$_version;return a??-1},ez}var tz,iae;function m7e(){if(iae)return tz;iae=1;var e=_S(),t=bm(),r=Nw(),n=Lw(),i=Nb(),a=Fw(),s=Fb(),o=kw(),l=Lb(),u=Dw().iterateKeySet,f=wS(),h=CP(),p=fH();tz=function(T,A){for(var P=T._root,S=P,E=P.expired,_=f(),R=T._path,O=P.cache,F=R.length?r(T,R).value:O,$=F.$_parent||O,z=O.$_version,q=-1,Z=A.length;++q<Z;){var V=A[q];m(V,0,O,$,F,_,E,S)}var J=O.$_version,fe=P.onChange;s(fe)&&z!==J&&fe()};function m(x,T,A,P,S,E,_,R){var O={},F=T<x.length-1,$=x[T],z=u($,O);do{var q=w(A,P,S,z,F,_,R),Z=q[0],V=q[1];Z&&(F?m(x,T+1,A,V,Z,E,_,R):p(Z,V,z,R,void 0)&&h(V,i(Z),R,E)),z=u($,O)}while(!O.done)}function v(x,T,A,P){if(a(T))return l(T,A,P),[void 0,x];n(P,T);var S=T,E=T.value,_=x;if(T=T.$_context,T!=null)_=T.$_parent||x;else{var R=0,O=E.length-1;_=T=x;do{var F=E[R],$=R<O,z=w(x,_,T,F,$,A,P);if(T=z[0],o(T))return z;_=z[1]}while(R++<O);if(S.$_context!==T){var q=T.$_refsLength||0;T.$_refsLength=q+1,T[e+q]=S,S.$_context=T,S.$_refIndex=q}}return[T,_]}function w(x,T,A,P,S,E,_){for(var R=A.$type;R===t;){var O=v(x,A,E,_);if(A=O[0],o(A))return O;T=O[1],R=A.$type}if(R!==void 0)return[A,T];if(P==null){if(S)throw new Error("`null` is not allowed in branch key positions.");A&&(P=A.$_key)}else T=A,A=T[P];return[A,T]}return tz}var rz,aae;function g7e(){if(aae)return rz;aae=1;var e=SP(),t=TM(),r=bm(),n=Nw(),i=Lw(),a=Nb(),s=xP(),o=Wh(),l=Fw(),u=Fb(),f=kw(),h=Lb(),p=wS(),m=CP(),v=fH();rz=function(P,S){for(var E=P._root,_=E,R=E.expired,O=p(),F=P._path,$=E.cache,z=F.length?n(P,F).value:$,q=z.$_parent||$,Z=$.$_version,V=-1,J=S.length;++V<J;){var fe=S[V];w(fe.json,$,q,z,O,R,_)}var ue=$.$_version,pe=E.onChange;u(pe)&&Z!==ue&&pe()};function w(A,P,S,E,_,R,O){if(!(f(A)||A.$type)){for(var F in A)if(F[0]!==t&&s(A,F)){var $=A[F],z=o($)&&!$.$type,q=T(P,S,E,F,z,R,O),Z=q[0],V=q[1];Z&&(z?w($,P,V,Z,_,R,O):v(Z,V,F,O)&&m(V,a(Z),O,_))}}}function x(A,P,S,E){if(l(P))return h(P,S,E),[void 0,A];i(E,P);var _=P,R=P.value,O=A;if(P=P.$_context,P!=null)O=P.$_parent||A;else{var F=0,$=R.length-1;O=P=A;do{var z=R[F],q=F<$,Z=T(A,O,P,z,q,S,E);if(P=Z[0],f(P))return Z;O=Z[1]}while(F++<$);_.$_context!==P&&e(_,P)}return[P,O]}function T(A,P,S,E,_,R,O){for(var F=S.$type;F===r;){var $=x(A,S,R,O);if(S=$[0],f(S))return $;P=$[1],F=S&&S.$type}if(F!==void 0)return[S,P];if(E==null){if(_)throw new Error("`null` is not allowed in branch key positions.");S&&(E=S.$_key)}else P=S,S=P[E];return[S,P]}return rz}var nz,oae;function v7e(){if(oae)return nz;oae=1;var e=iH(),t=tje(),r=Cje(),n=v0(),i=$je(),a=zje(),s=Bje(),o=jje(),l=gH(),u=hy(),f=Nb(),h=Wh(),p=kw(),m=MM(),v=vH(),w=y6(),x=nO(),T=Sve(),A=0,P=yH(),S=function(){},E=qje(),_=bH(),R=Cve();nz=O,O.ref=T.ref,O.atom=T.atom,O.error=T.error,O.pathValue=T.pathValue;function O(F){var $=F||{};this._root=$._root||new e($),this._path=$.path||$._path||[],this._source=$.source||$._source,this._request=$.request||$._request||new r(this,$.scheduler||new o),this._ID=A++,typeof $.maxSize=="number"?this._maxSize=$.maxSize:this._maxSize=$._maxSize||O.prototype._maxSize,typeof $.maxRetries=="number"?this._maxRetries=$.maxRetries:this._maxRetries=$._maxRetries||O.prototype._maxRetries,typeof $.collectRatio=="number"?this._collectRatio=$.collectRatio:this._collectRatio=$._collectRatio||O.prototype._collectRatio,($.boxed||$.hasOwnProperty("_boxed"))&&(this._boxed=$.boxed||$._boxed),($.materialized||$.hasOwnProperty("_materialized"))&&(this._materialized=$.materialized||$._materialized),typeof $.treatErrorsAsValues=="boolean"?this._treatErrorsAsValues=$.treatErrorsAsValues:$.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=$._treatErrorsAsValues:this._treatErrorsAsValues=!1,typeof $.disablePathCollapse=="boolean"?this._enablePathCollapse=!$.disablePathCollapse:$.hasOwnProperty("_enablePathCollapse")?this._enablePathCollapse=$._enablePathCollapse:this._enablePathCollapse=!0,typeof $.disableRequestDeduplication=="boolean"?this._enableRequestDeduplication=!$.disableRequestDeduplication:$.hasOwnProperty("_enableRequestDeduplication")?this._enableRequestDeduplication=$._enableRequestDeduplication:this._enableRequestDeduplication=!0,this._useServerPaths=$._useServerPaths||!1,this._allowFromWhenceYouCame=$.allowFromWhenceYouCame||$._allowFromWhenceYouCame||!1,this._treatDataSourceErrorsAsJSONGraphErrors=$._treatDataSourceErrorsAsJSONGraphErrors||!1,$.cache&&this.setCache($.cache)}return O.prototype.constructor=O,O.prototype._materialized=!1,O.prototype._boxed=!1,O.prototype._progressive=!1,O.prototype._treatErrorsAsValues=!1,O.prototype._maxSize=Math.pow(2,53)-1,O.prototype._maxRetries=3,O.prototype._collectRatio=.75,O.prototype._enablePathCollapse=!0,O.prototype._enableRequestDeduplication=!0,O.prototype.get=Jje(),O.prototype._getOptimizedBoundPath=function(){return this._path?this._path.slice():this._path},O.prototype._getWithPaths=Qje(),O.prototype.set=a7e(),O.prototype.preload=function(){var $=P(arguments,R,"preload");if($!==!0)return new n(function(Z){Z.onError($)});var z=Array.prototype.slice.call(arguments),q=this;return new n(function(Z){return q.get.apply(q,z).subscribe(function(){},function(V){Z.onError(V)},function(){Z.onCompleted()})})},O.prototype.call=function(){var $,z=-1,q=arguments.length;for($=new Array(q);++z<q;){var Z=arguments[z];$[z]=Z;var V=typeof Z;if(z>1&&!Array.isArray(Z)||z===0&&!Array.isArray(Z)&&V!=="string"||z===1&&!Array.isArray(Z)&&!p(Z))return new n(function(J){J.onError(new Error("Invalid argument"))})}return new i(this,$[0],$[1],$[2],$[3])},O.prototype.invalidate=function(){var $,z=-1,q=arguments.length;for($=[];++z<q;)if($[z]=u.fromPath(arguments[z]),!Array.isArray($[z])||!$[z].length)throw new Error("Invalid argument");new a(this,$).subscribe(S,function(Z){throw Z})},O.prototype.deref=s7e(),O.prototype._hasValidParentReference=l7e(),O.prototype.getValue=u7e(),O.prototype.setValue=c7e(),O.prototype._getValueSync=f7e(),O.prototype._setValueSync=d7e(),O.prototype._derefSync=h7e(),O.prototype.setCache=function($){var z=this._root.cache;if($!==z){var q=this._root,Z=this._path;this._path=[],this._root.cache={},typeof z<"u"&&l(q,q.expired,f(z),0);var V;v($)?V=x(this,[$])[0]:m($)?V=w(this,[$])[0]:h($)&&(V=w(this,[{json:$}])[0]),V&&_.getWithPathsAsPathMap(this,V,[]),this._path=Z}else typeof z>"u"&&(this._root.cache={});return this},O.prototype.getCache=function(){var $=Array.prototype.slice.call(arguments);if($.length===0)return E(this._root.cache);var z=[{}],q=this._path;return _.getWithPathsAsJSONGraph(this,$,z),this._path=q,z[0].jsonGraph},O.prototype._setMaxSize=function($){var z=this._maxSize;if(this._maxSize=$,$<z){var q=this._root,Z=q.cache,V=Z.$_version;l(q,q.expired,f(Z),this._maxSize,this._collectRatio,V)}},O.prototype.getVersion=function($){var z=$&&u.fromPath($)||[];if(Array.isArray(z)===!1)throw new Error("Model#getVersion must be called with an Array path.");return this._path.length&&(z=this._path.concat(z)),this._getVersion(this,z)},O.prototype._syncCheck=function($){if(this._source&&this._root.syncRefCount<=0&&this._root.unsafeMode===!1)throw new Error("Model#"+$+" may only be called within the context of a request selector.");return!0},O.prototype._clone=function($){var z=new this.constructor(this);for(var q in $){var Z=$[q];Z==="delete"?delete z[q]:z[q]=Z}return z.setCache=void 0,z},O.prototype.batch=function($){var z;typeof $=="number"?z=new s(Math.round(Math.abs($))):!$||!$.schedule?z=new s(1):z=$;var q=this._clone();return q._request=new r(q,z),q},O.prototype.unbatch=function(){var $=this._clone();return $._request=new r($,new o),$},O.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},O.prototype.asDataSource=function(){return new t(this)},O.prototype._materialize=function(){return this._clone({_materialized:!0})},O.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},O.prototype.boxValues=function(){return this._clone({_boxed:!0})},O.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},O.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},O.prototype.toJSON=function(){return{$type:"ref",value:this._path}},O.prototype.getPath=function(){return this._path?this._path.slice():this._path},O.prototype._fromWhenceYouCame=function($){return this._clone({_allowFromWhenceYouCame:$===void 0?!0:$})},O.prototype._getBoundValue=Nw(),O.prototype._getVersion=p7e(),O.prototype._getPathValuesAsPathMap=_.getWithPathsAsPathMap,O.prototype._getPathValuesAsJSONG=_.getWithPathsAsJSONGraph,O.prototype._setPathValues=IM(),O.prototype._setPathMaps=y6(),O.prototype._setJSONGs=nO(),O.prototype._setCache=y6(),O.prototype._invalidatePathValues=m7e(),O.prototype._invalidatePathMaps=g7e(),nz}var iz,sae;function Ave(){if(sae)return iz;sae=1;function e(t){return new e.Model(t)}return e.keys=function(r){if(r)return Object.keys(r).filter(function(n){return n!=="$__path"})},iz=e,e.Model=v7e(),iz}var W1t=Ave(),y7e=iH();const V1t=pl(y7e);var az,lae;function wH(){return lae||(lae=1,az=XMLHttpRequest),az}var b7e=wH();const G1t=pl(b7e);var _7e=eve();const K1t=pl(_7e);var w7e=qhe(),x7e=ne.version.startsWith("19"),S7e=Symbol.for(x7e?"react.transitional.element":"react.element"),E7e=Symbol.for("react.portal"),C7e=Symbol.for("react.fragment"),P7e=Symbol.for("react.strict_mode"),T7e=Symbol.for("react.profiler"),R7e=Symbol.for("react.consumer"),A7e=Symbol.for("react.context"),Ove=Symbol.for("react.forward_ref"),O7e=Symbol.for("react.suspense"),I7e=Symbol.for("react.suspense_list"),xH=Symbol.for("react.memo"),M7e=Symbol.for("react.lazy"),k7e=Ove,D7e=xH;function F7e(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case S7e:switch(e=e.type,e){case C7e:case T7e:case P7e:case O7e:case I7e:return e;default:switch(e=e&&e.$$typeof,e){case A7e:case Ove:case M7e:case xH:return e;case R7e:return e;default:return t}}case E7e:return t}}}function L7e(e){return F7e(e)===xH}function N7e(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let o=!1,l,u,f,h,p;function m(A,P){return l=A,u=P,f=e(l,u),h=t(n,u),p=r(f,h,u),o=!0,p}function v(){return f=e(l,u),t.dependsOnOwnProps&&(h=t(n,u)),p=r(f,h,u),p}function w(){return e.dependsOnOwnProps&&(f=e(l,u)),t.dependsOnOwnProps&&(h=t(n,u)),p=r(f,h,u),p}function x(){const A=e(l,u),P=!s(A,f);return f=A,P&&(p=r(f,h,u)),p}function T(A,P){const S=!a(P,u),E=!i(A,l,P,u);return l=A,u=P,S&&E?v():S?w():E?x():p}return function(P,S){return o?T(P,S):m(P,S)}}function $7e(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...i}){const a=t(e,i),s=r(e,i),o=n(e,i);return N7e(a,s,o,e,i)}function z7e(e,t){const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=(...a)=>t(i(...a)))}return r}function $j(e){return function(r){const n=e(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function uae(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Ive(e,t){return function(n,{displayName:i}){const a=function(o,l){return a.dependsOnOwnProps?a.mapToProps(o,l):a.mapToProps(o,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(o,l){a.mapToProps=e,a.dependsOnOwnProps=uae(e);let u=a(o,l);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=uae(u),u=a(o,l)),u},a}}function SH(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function B7e(e){return e&&typeof e=="object"?$j(t=>z7e(e,t)):e?typeof e=="function"?Ive(e):SH(e,"mapDispatchToProps"):$j(t=>({dispatch:t}))}function j7e(e){return e?typeof e=="function"?Ive(e):SH(e,"mapStateToProps"):$j(()=>({}))}function U7e(e,t,r){return{...r,...e,...t}}function q7e(e){return function(r,{displayName:n,areMergedPropsEqual:i}){let a=!1,s;return function(l,u,f){const h=e(l,u,f);return a?i(h,s)||(s=h):(a=!0,s=h),s}}}function H7e(e){return e?typeof e=="function"?q7e(e):SH(e,"mergeProps"):()=>U7e}function W7e(e){e()}function V7e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){W7e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cae={notify(){},get:()=>[]};function Mve(e,t){let r,n=cae,i=0,a=!1;function s(w){f();const x=n.subscribe(w);let T=!1;return()=>{T||(T=!0,x(),h())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function f(){i++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=V7e())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=cae)}function p(){a||(a=!0,f())}function m(){a&&(a=!1,h())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return v}var G7e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K7e=G7e(),Z7e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Y7e=Z7e(),X7e=()=>K7e||Y7e?ne.useLayoutEffect:ne.useEffect,iO=X7e();function fae(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oz(e,t){if(fae(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!fae(e[r[i]],t[r[i]]))return!1;return!0}var J7e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Q7e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e9e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},t9e={[k7e]:e9e,[D7e]:kve};function dae(e){return L7e(e)?kve:t9e[e.$$typeof]||J7e}var r9e=Object.defineProperty,n9e=Object.getOwnPropertyNames,hae=Object.getOwnPropertySymbols,i9e=Object.getOwnPropertyDescriptor,a9e=Object.getPrototypeOf,pae=Object.prototype;function zj(e,t){if(typeof t!="string"){if(pae){const a=a9e(t);a&&a!==pae&&zj(e,a)}let r=n9e(t);hae&&(r=r.concat(hae(t)));const n=dae(e),i=dae(t);for(let a=0;a<r.length;++a){const s=r[a];if(!Q7e[s]&&!(i&&i[s])&&!(n&&n[s])){const o=i9e(t,s);try{r9e(e,s,o)}catch{}}}}return e}var sz=Symbol.for("react-redux-context"),lz=typeof globalThis<"u"?globalThis:{};function o9e(){if(!ne.createContext)return{};const e=lz[sz]??(lz[sz]=new Map);let t=e.get(ne.createContext);return t||(t=ne.createContext(null),e.set(ne.createContext,t)),t}var Dve=o9e(),s9e=[null,null];function l9e(e,t,r){iO(()=>e(...t),r)}function u9e(e,t,r,n,i,a){e.current=n,r.current=!1,i.current&&(i.current=null,a())}function c9e(e,t,r,n,i,a,s,o,l,u,f){if(!e)return()=>{};let h=!1,p=null;const m=()=>{if(h||!o.current)return;const w=t.getState();let x,T;try{x=n(w,i.current)}catch(A){T=A,p=A}T||(p=null),x===a.current?s.current||u():(a.current=x,l.current=x,s.current=!0,f())};return r.onStateChange=m,r.trySubscribe(),m(),()=>{if(h=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function f9e(e,t){return e===t}function d9e(e,t,r,{pure:n,areStatesEqual:i=f9e,areOwnPropsEqual:a=oz,areStatePropsEqual:s=oz,areMergedPropsEqual:o=oz,forwardRef:l=!1,context:u=Dve}={}){const f=u,h=j7e(e),p=B7e(t),m=H7e(r),v=!!e;return x=>{const T=x.displayName||x.name||"Component",A=`Connect(${T})`,P={shouldHandleStateChanges:v,displayName:A,wrappedComponentName:T,WrappedComponent:x,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:o};function S(R){const[O,F,$]=ne.useMemo(()=>{const{reactReduxForwardedRef:qe,...dt}=R;return[R.context,qe,dt]},[R]),z=ne.useMemo(()=>{let qe=f;return O!=null&&O.Consumer,qe},[O,f]),q=ne.useContext(z),Z=!!R.store&&!!R.store.getState&&!!R.store.dispatch,V=!!q&&!!q.store,J=Z?R.store:q.store,fe=V?q.getServerState:J.getState,ue=ne.useMemo(()=>$7e(J.dispatch,P),[J]),[pe,ve]=ne.useMemo(()=>{if(!v)return s9e;const qe=Mve(J,Z?void 0:q.subscription),dt=qe.notifyNestedSubs.bind(qe);return[qe,dt]},[J,Z,q]),le=ne.useMemo(()=>Z?q:{...q,subscription:pe},[Z,q,pe]),se=ne.useRef(void 0),ge=ne.useRef($),_e=ne.useRef(void 0),ke=ne.useRef(!1),Ge=ne.useRef(!1),ct=ne.useRef(void 0);iO(()=>(Ge.current=!0,()=>{Ge.current=!1}),[]);const $e=ne.useMemo(()=>()=>_e.current&&$===ge.current?_e.current:ue(J.getState(),$),[J,$]),we=ne.useMemo(()=>dt=>pe?c9e(v,J,pe,ue,ge,se,ke,Ge,_e,ve,dt):()=>{},[pe]);l9e(u9e,[ge,se,ke,$,_e,ve]);let Ee;try{Ee=ne.useSyncExternalStore(we,$e,fe?()=>ue(fe(),$):$e)}catch(qe){throw ct.current&&(qe.message+=`
The error may be correlated with this previous error:
${ct.current.stack}

`),qe}iO(()=>{ct.current=void 0,_e.current=void 0,se.current=Ee});const Re=ne.useMemo(()=>ne.createElement(x,{...Ee,ref:F}),[F,x,Ee]);return ne.useMemo(()=>v?ne.createElement(z.Provider,{value:le},Re):Re,[z,Re,le])}const _=ne.memo(S);if(_.WrappedComponent=x,_.displayName=S.displayName=A,l){const O=ne.forwardRef(function($,z){return ne.createElement(_,{...$,reactReduxForwardedRef:z})});return O.displayName=A,O.WrappedComponent=x,zj(O,x)}return zj(_,x)}}var Fve=d9e;function h9e(e){const{children:t,context:r,serverState:n,store:i}=e,a=ne.useMemo(()=>{const l=Mve(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=ne.useMemo(()=>i.getState(),[i]);iO(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||Dve;return ne.createElement(o.Provider,{value:a},t)}var p9e=h9e;Zhe();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lve=e=>{throw TypeError(e)},m9e=(e,t,r)=>t.has(e)||Lve("Cannot "+r),uz=(e,t,r)=>(m9e(e,t,"read from private field"),r?r.call(e):t.get(e)),g9e=(e,t,r)=>t.has(e)?Lve("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mae="popstate";function v9e(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return v2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:pb(i)}return b9e(t,r,null,e)}function Mo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y9e(){return Math.random().toString(36).substring(2,10)}function gae(e,t){return{usr:e.state,key:e.key,idx:t}}function v2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$b(t):t,state:r,key:t&&t.key||n||y9e()}}function pb({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function b9e(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function h(){o="POP";let x=f(),T=x==null?null:x-u;u=x,l&&l({action:o,location:w.location,delta:T})}function p(x,T){o="PUSH";let A=v2(w.location,x,T);u=f()+1;let P=gae(A,u),S=w.createHref(A);try{s.pushState(P,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:o,location:w.location,delta:1})}function m(x,T){o="REPLACE";let A=v2(w.location,x,T);u=f();let P=gae(A,u),S=w.createHref(A);s.replaceState(P,"",S),a&&l&&l({action:o,location:w.location,delta:0})}function v(x){let T=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof x=="string"?x:pb(x);return A=A.replace(/ $/,"%20"),Mo(T,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,T)}let w={get action(){return o},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mae,h),l=x,()=>{i.removeEventListener(mae,h),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let T=v(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:m,go(x){return s.go(x)}};return w}var vC,vae=class{constructor(e){if(g9e(this,vC,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(uz(this,vC).has(e))return uz(this,vC).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){uz(this,vC).set(e,t)}};vC=new WeakMap;var _9e=new Set(["lazy","caseSensitive","path","id","index","children"]);function w9e(e){return _9e.has(e)}var x9e=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function S9e(e){return x9e.has(e)}function E9e(e){return e.index===!0}function aO(e,t,r=[],n={}){return e.map((i,a)=>{let s=[...r,String(a)],o=typeof i.id=="string"?i.id:s.join("-");if(Mo(i.index!==!0||!i.children,"Cannot specify children on an index route"),Mo(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),E9e(i)){let l={...i,...t(i),id:o};return n[o]=l,l}else{let l={...i,...t(i),id:o,children:void 0};return n[o]=l,i.children&&(l.children=aO(i.children,t,s,n)),l}})}function J0(e,t,r="/"){return EA(e,t,r,!1)}function EA(e,t,r,n){let i=typeof t=="string"?$b(t):t,a=eg(i.pathname||"/",r);if(a==null)return null;let s=Nve(e);P9e(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=zve(a);o=F9e(s[l],u,n)}return o}function C9e(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function Nve(e,t=[],r=[],n=""){let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Mo(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=Kv([n,l.relativePath]),f=r.concat(l);a.children&&a.children.length>0&&(Mo(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Nve(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:k9e(u,a.index),routesMeta:f})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of $ve(a.path))i(a,s,l)}),t}function $ve(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=$ve(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function P9e(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:D9e(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var T9e=/^:[\w-]+$/,R9e=3,A9e=2,O9e=1,I9e=10,M9e=-2,yae=e=>e==="*";function k9e(e,t){let r=e.split("/"),n=r.length;return r.some(yae)&&(n+=M9e),t&&(n+=A9e),r.filter(i=>!yae(i)).reduce((i,a)=>i+(T9e.test(a)?R9e:a===""?O9e:I9e),n)}function D9e(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function F9e(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=y2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=y2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Kv([a,h.pathname]),pathnameBase:z9e(Kv([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Kv([a,h.pathnameBase]))}return s}function y2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=L9e(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:h},p)=>{if(f==="*"){let v=o[p]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[p];return h&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function L9e(e,t=!1,r=!0){Uc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function zve(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function eg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function N9e(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?$b(e):e;return{pathname:r?r.startsWith("/")?r:$9e(r,t):t,search:B9e(n),hash:j9e(i)}}function $9e(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function cz(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bve(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function EH(e){let t=Bve(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function CH(e,t,r,n=!1){let i;typeof e=="string"?i=$b(e):(i={...e},Mo(!i.pathname||!i.pathname.includes("?"),cz("?","pathname","search",i)),Mo(!i.pathname||!i.pathname.includes("#"),cz("#","pathname","hash",i)),Mo(!i.search||!i.search.includes("#"),cz("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=N9e(i,o),u=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Kv=e=>e.join("/").replace(/\/\/+/g,"/"),z9e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B9e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j9e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,oO=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function b2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var jve=["POST","PUT","PATCH","DELETE"],U9e=new Set(jve),q9e=["GET",...jve],H9e=new Set(q9e),W9e=new Set([301,302,303,307,308]),V9e=new Set([307,308]),fz={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G9e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WE={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},PH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K9e=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Uve="remix-router-transitions",qve=Symbol("ResetLoaderData");function Z9e(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Mo(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||K9e,a={},s=aO(e.routes,i,void 0,a),o,l=e.basename||"/",u=e.dataStrategy||eUe,f={unstable_middleware:!1,...e.future},h=null,p=new Set,m=null,v=null,w=null,x=e.hydrationData!=null,T=J0(s,e.history.location,l),A=!1,P=null;if(T==null&&!e.patchRoutesOnNavigation){let mt=zm(404,{pathname:e.history.location.pathname}),{matches:It,route:Kt}=Oae(s);T=It,P={[Kt.id]:mt}}T&&!e.hydrationData&&ir(T,s,e.history.location.pathname).active&&(T=null);let S;if(T)if(T.some(mt=>mt.route.lazy))S=!1;else if(!T.some(mt=>mt.route.loader))S=!0;else{let mt=e.hydrationData?e.hydrationData.loaderData:null,It=e.hydrationData?e.hydrationData.errors:null;if(It){let Kt=T.findIndex(br=>It[br.route.id]!==void 0);S=T.slice(0,Kt+1).every(br=>!jj(br.route,mt,It))}else S=T.every(Kt=>!jj(Kt.route,mt,It))}else{S=!1,T=[];let mt=ir(null,s,e.history.location.pathname);mt.active&&mt.matches&&(A=!0,T=mt.matches)}let E,_={historyAction:e.history.action,location:e.history.location,matches:T,initialized:S,navigation:fz,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},R="POP",O=!1,F,$=!1,z=new Map,q=null,Z=!1,V=!1,J=new Set,fe=new Map,ue=0,pe=-1,ve=new Map,le=new Set,se=new Map,ge=new Map,_e=new Set,ke=new Map,Ge,ct=null;function $e(){if(h=e.history.listen(({action:mt,location:It,delta:Kt})=>{if(Ge){Ge(),Ge=void 0;return}Uc(ke.size===0||Kt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let br=Ye({currentLocation:_.location,nextLocation:It,historyAction:mt});if(br&&Kt!=null){let Rr=new Promise(jt=>{Ge=jt});e.history.go(Kt*-1),Le(br,{state:"blocked",location:It,proceed(){Le(br,{state:"proceeding",proceed:void 0,reset:void 0,location:It}),Rr.then(()=>e.history.go(Kt))},reset(){let jt=new Map(_.blockers);jt.set(br,WE),Re({blockers:jt})}});return}return he(mt,It)}),r){fUe(t,z);let mt=()=>dUe(t,z);t.addEventListener("pagehide",mt),q=()=>t.removeEventListener("pagehide",mt)}return _.initialized||he("POP",_.location,{initialHydration:!0}),E}function we(){h&&h(),q&&q(),p.clear(),F&&F.abort(),_.fetchers.forEach((mt,It)=>gr(It)),_.blockers.forEach((mt,It)=>Me(It))}function Ee(mt){return p.add(mt),()=>p.delete(mt)}function Re(mt,It={}){_={..._,...mt};let Kt=[],br=[];_.fetchers.forEach((Rr,jt)=>{Rr.state==="idle"&&(_e.has(jt)?Kt.push(jt):br.push(jt))}),_e.forEach(Rr=>{!_.fetchers.has(Rr)&&!fe.has(Rr)&&Kt.push(Rr)}),[...p].forEach(Rr=>Rr(_,{deletedFetchers:Kt,viewTransitionOpts:It.viewTransitionOpts,flushSync:It.flushSync===!0})),Kt.forEach(Rr=>gr(Rr)),br.forEach(Rr=>_.fetchers.delete(Rr))}function ft(mt,It,{flushSync:Kt}={}){var vr,Lt;let br=_.actionData!=null&&_.navigation.formMethod!=null&&em(_.navigation.formMethod)&&_.navigation.state==="loading"&&((vr=mt.state)==null?void 0:vr._isRedirect)!==!0,Rr;It.actionData?Object.keys(It.actionData).length>0?Rr=It.actionData:Rr=null:br?Rr=_.actionData:Rr=null;let jt=It.loaderData?Rae(_.loaderData,It.loaderData,It.matches||[],It.errors):_.loaderData,Yt=_.blockers;Yt.size>0&&(Yt=new Map(Yt),Yt.forEach((Ir,fn)=>Yt.set(fn,WE)));let Jt=O===!0||_.navigation.formMethod!=null&&em(_.navigation.formMethod)&&((Lt=mt.state)==null?void 0:Lt._isRedirect)!==!0;o&&(s=o,o=void 0),Z||R==="POP"||(R==="PUSH"?e.history.push(mt,mt.state):R==="REPLACE"&&e.history.replace(mt,mt.state));let rr;if(R==="POP"){let Ir=z.get(_.location.pathname);Ir&&Ir.has(mt.pathname)?rr={currentLocation:_.location,nextLocation:mt}:z.has(mt.pathname)&&(rr={currentLocation:mt,nextLocation:_.location})}else if($){let Ir=z.get(_.location.pathname);Ir?Ir.add(mt.pathname):(Ir=new Set([mt.pathname]),z.set(_.location.pathname,Ir)),rr={currentLocation:_.location,nextLocation:mt}}Re({...It,actionData:Rr,loaderData:jt,historyAction:R,location:mt,initialized:!0,navigation:fz,revalidation:"idle",restoreScrollPosition:Tt(mt,It.matches||_.matches),preventScrollReset:Jt,blockers:Yt},{viewTransitionOpts:rr,flushSync:Kt===!0}),R="POP",O=!1,$=!1,Z=!1,V=!1,ct==null||ct.resolve(),ct=null}async function qe(mt,It){if(typeof mt=="number"){e.history.go(mt);return}let Kt=Bj(_.location,_.matches,l,mt,It==null?void 0:It.fromRouteId,It==null?void 0:It.relative),{path:br,submission:Rr,error:jt}=bae(!1,Kt,It),Yt=_.location,Jt=v2(_.location,br,It&&It.state);Jt={...Jt,...e.history.encodeLocation(Jt)};let rr=It&&It.replace!=null?It.replace:void 0,vr="PUSH";rr===!0?vr="REPLACE":rr===!1||Rr!=null&&em(Rr.formMethod)&&Rr.formAction===_.location.pathname+_.location.search&&(vr="REPLACE");let Lt=It&&"preventScrollReset"in It?It.preventScrollReset===!0:void 0,Ir=(It&&It.flushSync)===!0,fn=Ye({currentLocation:Yt,nextLocation:Jt,historyAction:vr});if(fn){Le(fn,{state:"blocked",location:Jt,proceed(){Le(fn,{state:"proceeding",proceed:void 0,reset:void 0,location:Jt}),qe(mt,It)},reset(){let Fn=new Map(_.blockers);Fn.set(fn,WE),Re({blockers:Fn})}});return}await he(vr,Jt,{submission:Rr,pendingError:jt,preventScrollReset:Lt,replace:It&&It.replace,enableViewTransition:It&&It.viewTransition,flushSync:Ir})}function dt(){ct||(ct=hUe()),fr(),Re({revalidation:"loading"});let mt=ct.promise;return _.navigation.state==="submitting"?mt:_.navigation.state==="idle"?(he(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),mt):(he(R||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:$===!0}),mt)}async function he(mt,It,Kt){F&&F.abort(),F=null,R=mt,Z=(Kt&&Kt.startUninterruptedRevalidation)===!0,Ft(_.location,_.matches),O=(Kt&&Kt.preventScrollReset)===!0,$=(Kt&&Kt.enableViewTransition)===!0;let br=o||s,Rr=Kt&&Kt.overrideNavigation,jt=Kt!=null&&Kt.initialHydration&&_.matches&&_.matches.length>0&&!A?_.matches:J0(br,It,l),Yt=(Kt&&Kt.flushSync)===!0;if(jt&&_.initialized&&!V&&oUe(_.location,It)&&!(Kt&&Kt.submission&&em(Kt.submission.formMethod))){ft(It,{matches:jt},{flushSync:Yt});return}let Jt=ir(jt,br,It.pathname);if(Jt.active&&Jt.matches&&(jt=Jt.matches),!jt){let{error:yi,notFoundMatches:Wn,route:mi}=gt(It.pathname);ft(It,{matches:Wn,loaderData:{},errors:{[mi.id]:yi}},{flushSync:Yt});return}F=new AbortController;let rr=dx(e.history,It,F.signal,Kt&&Kt.submission),vr=new vae(e.unstable_getContext?await e.unstable_getContext():void 0),Lt;if(Kt&&Kt.pendingError)Lt=[x_(jt).route.id,{type:"error",error:Kt.pendingError}];else if(Kt&&Kt.submission&&em(Kt.submission.formMethod)){let yi=await ut(rr,It,Kt.submission,jt,vr,Jt.active,Kt&&Kt.initialHydration===!0,{replace:Kt.replace,flushSync:Yt});if(yi.shortCircuited)return;if(yi.pendingActionResult){let[Wn,mi]=yi.pendingActionResult;if(Qp(mi)&&b2(mi.error)&&mi.error.status===404){F=null,ft(It,{matches:yi.matches,loaderData:{},errors:{[Wn]:mi.error}});return}}jt=yi.matches||jt,Lt=yi.pendingActionResult,Rr=dz(It,Kt.submission),Yt=!1,Jt.active=!1,rr=dx(e.history,rr.url,rr.signal)}let{shortCircuited:Ir,matches:fn,loaderData:Fn,errors:ui}=await xt(rr,It,jt,vr,Jt.active,Rr,Kt&&Kt.submission,Kt&&Kt.fetcherSubmission,Kt&&Kt.replace,Kt&&Kt.initialHydration===!0,Yt,Lt);Ir||(F=null,ft(It,{matches:fn||jt,...Aae(Lt),loaderData:Fn,errors:ui}))}async function ut(mt,It,Kt,br,Rr,jt,Yt,Jt={}){fr();let rr=uUe(It,Kt);if(Re({navigation:rr},{flushSync:Jt.flushSync===!0}),jt){let Ir=await or(br,It.pathname,mt.signal);if(Ir.type==="aborted")return{shortCircuited:!0};if(Ir.type==="error"){let fn=x_(Ir.partialMatches).route.id;return{matches:Ir.partialMatches,pendingActionResult:[fn,{type:"error",error:Ir.error}]}}else if(Ir.matches)br=Ir.matches;else{let{notFoundMatches:fn,error:Fn,route:ui}=gt(It.pathname);return{matches:fn,pendingActionResult:[ui.id,{type:"error",error:Fn}]}}}let vr,Lt=yC(br,It);if(!Lt.route.action&&!Lt.route.lazy)vr={type:"error",error:zm(405,{method:mt.method,pathname:It.pathname,routeId:Lt.route.id})};else{let Ir=Ex(i,a,mt,br,Lt,Yt?[]:n,Rr),fn=await hr(mt,Ir,Rr,null);if(vr=fn[Lt.route.id],!vr){for(let Fn of br)if(fn[Fn.route.id]){vr=fn[Fn.route.id];break}}if(mt.signal.aborted)return{shortCircuited:!0}}if(A_(vr)){let Ir;return Jt&&Jt.replace!=null?Ir=Jt.replace:Ir=Cae(vr.response.headers.get("Location"),new URL(mt.url),l)===_.location.pathname+_.location.search,await At(mt,vr,!0,{submission:Kt,replace:Ir}),{shortCircuited:!0}}if(Qp(vr)){let Ir=x_(br,Lt.route.id);return(Jt&&Jt.replace)!==!0&&(R="PUSH"),{matches:br,pendingActionResult:[Ir.route.id,vr,Lt.route.id]}}return{matches:br,pendingActionResult:[Lt.route.id,vr]}}async function xt(mt,It,Kt,br,Rr,jt,Yt,Jt,rr,vr,Lt,Ir){let fn=jt||dz(It,Yt),Fn=Yt||Jt||Mae(fn),ui=!Z&&!vr;if(Rr){if(ui){let lo=je(Ir);Re({navigation:fn,...lo!==void 0?{actionData:lo}:{}},{flushSync:Lt})}let wi=await or(Kt,It.pathname,mt.signal);if(wi.type==="aborted")return{shortCircuited:!0};if(wi.type==="error"){let lo=x_(wi.partialMatches).route.id;return{matches:wi.partialMatches,loaderData:{},errors:{[lo]:wi.error}}}else if(wi.matches)Kt=wi.matches;else{let{error:lo,notFoundMatches:co,route:bi}=gt(It.pathname);return{matches:co,loaderData:{},errors:{[bi.id]:lo}}}}let yi=o||s,{dsMatches:Wn,revalidatingFetchers:mi}=_ae(mt,br,i,a,e.history,_,Kt,Fn,It,vr?[]:n,vr===!0,V,J,_e,se,le,yi,l,Ir);if(pe=++ue,!e.dataStrategy&&!Wn.some(wi=>wi.shouldLoad)&&mi.length===0){let wi=nn();return ft(It,{matches:Kt,loaderData:{},errors:Ir&&Qp(Ir[1])?{[Ir[0]]:Ir[1].error}:null,...Aae(Ir),...wi?{fetchers:new Map(_.fetchers)}:{}},{flushSync:Lt}),{shortCircuited:!0}}if(ui){let wi={};if(!Rr){wi.navigation=fn;let lo=je(Ir);lo!==void 0&&(wi.actionData=lo)}mi.length>0&&(wi.fetchers=rt(mi)),Re(wi,{flushSync:Lt})}mi.forEach(wi=>{Fr(wi.key),wi.controller&&fe.set(wi.key,wi.controller)});let ya=()=>mi.forEach(wi=>Fr(wi.key));F&&F.signal.addEventListener("abort",ya);let{loaderResults:Ka,fetcherResults:Ua}=await Sr(Wn,mi,mt,br);if(mt.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",ya),mi.forEach(wi=>fe.delete(wi.key));let Ji=_R(Ka);if(Ji)return await At(mt,Ji.result,!0,{replace:rr}),{shortCircuited:!0};if(Ji=_R(Ua),Ji)return le.add(Ji.key),await At(mt,Ji.result,!0,{replace:rr}),{shortCircuited:!0};let{loaderData:So,errors:ci}=Tae(_,Kt,Ka,Ir,mi,Ua);vr&&_.errors&&(ci={..._.errors,...ci});let Ia=nn(),Ti=ot(pe),Ko=Ia||Ti||mi.length>0;return{matches:Kt,loaderData:So,errors:ci,...Ko?{fetchers:new Map(_.fetchers)}:{}}}function je(mt){if(mt&&!Qp(mt[1]))return{[mt[0]]:mt[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function rt(mt){return mt.forEach(It=>{let Kt=_.fetchers.get(It.key),br=VE(void 0,Kt?Kt.data:void 0);_.fetchers.set(It.key,br)}),new Map(_.fetchers)}async function Ze(mt,It,Kt,br){Fr(mt);let Rr=(br&&br.flushSync)===!0,jt=o||s,Yt=Bj(_.location,_.matches,l,Kt,It,br==null?void 0:br.relative),Jt=J0(jt,Yt,l),rr=ir(Jt,jt,Yt);if(rr.active&&rr.matches&&(Jt=rr.matches),!Jt){dr(mt,It,zm(404,{pathname:Yt}),{flushSync:Rr});return}let{path:vr,submission:Lt,error:Ir}=bae(!0,Yt,br);if(Ir){dr(mt,It,Ir,{flushSync:Rr});return}let fn=yC(Jt,vr),Fn=new vae(e.unstable_getContext?await e.unstable_getContext():void 0),ui=(br&&br.preventScrollReset)===!0;if(Lt&&em(Lt.formMethod)){await yt(mt,It,vr,fn,Jt,Fn,rr.active,Rr,ui,Lt);return}se.set(mt,{routeId:It,path:vr}),await Vt(mt,It,vr,fn,Jt,Fn,rr.active,Rr,ui,Lt)}async function yt(mt,It,Kt,br,Rr,jt,Yt,Jt,rr,vr){fr(),se.delete(mt);function Lt(sa){if(!sa.route.action&&!sa.route.lazy){let qa=zm(405,{method:vr.formMethod,pathname:Kt,routeId:It});return dr(mt,It,qa,{flushSync:Jt}),!0}return!1}if(!Yt&&Lt(br))return;let Ir=_.fetchers.get(mt);Dt(mt,cUe(vr,Ir),{flushSync:Jt});let fn=new AbortController,Fn=dx(e.history,Kt,fn.signal,vr);if(Yt){let sa=await or(Rr,Kt,Fn.signal,mt);if(sa.type==="aborted")return;if(sa.type==="error"){dr(mt,It,sa.error,{flushSync:Jt});return}else if(sa.matches){if(Rr=sa.matches,br=yC(Rr,Kt),Lt(br))return}else{dr(mt,It,zm(404,{pathname:Kt}),{flushSync:Jt});return}}fe.set(mt,fn);let ui=ue,yi=Ex(i,a,Fn,Rr,br,n,jt),mi=(await hr(Fn,yi,jt,mt))[br.route.id];if(Fn.signal.aborted){fe.get(mt)===fn&&fe.delete(mt);return}if(_e.has(mt)){if(A_(mi)||Qp(mi)){Dt(mt,Z0(void 0));return}}else{if(A_(mi))if(fe.delete(mt),pe>ui){Dt(mt,Z0(void 0));return}else return le.add(mt),Dt(mt,VE(vr)),At(Fn,mi,!1,{fetcherSubmission:vr,preventScrollReset:rr});if(Qp(mi)){dr(mt,It,mi.error);return}}let ya=_.navigation.location||_.location,Ka=dx(e.history,ya,fn.signal),Ua=o||s,Ji=_.navigation.state!=="idle"?J0(Ua,_.navigation.location,l):_.matches;Mo(Ji,"Didn't find any matches after fetcher action");let So=++ue;ve.set(mt,So);let ci=VE(vr,mi.data);_.fetchers.set(mt,ci);let{dsMatches:Ia,revalidatingFetchers:Ti}=_ae(Ka,jt,i,a,e.history,_,Ji,vr,ya,n,!1,V,J,_e,se,le,Ua,l,[br.route.id,mi]);Ti.filter(sa=>sa.key!==mt).forEach(sa=>{let qa=sa.key,os=_.fetchers.get(qa),Eo=VE(void 0,os?os.data:void 0);_.fetchers.set(qa,Eo),Fr(qa),sa.controller&&fe.set(qa,sa.controller)}),Re({fetchers:new Map(_.fetchers)});let Ko=()=>Ti.forEach(sa=>Fr(sa.key));fn.signal.addEventListener("abort",Ko);let{loaderResults:wi,fetcherResults:lo}=await Sr(Ia,Ti,Ka,jt);if(fn.signal.aborted)return;fn.signal.removeEventListener("abort",Ko),ve.delete(mt),fe.delete(mt),Ti.forEach(sa=>fe.delete(sa.key));let co=_R(wi);if(co)return At(Ka,co.result,!1,{preventScrollReset:rr});if(co=_R(lo),co)return le.add(co.key),At(Ka,co.result,!1,{preventScrollReset:rr});let{loaderData:bi,errors:Ri}=Tae(_,Ji,wi,void 0,Ti,lo);if(_.fetchers.has(mt)){let sa=Z0(mi.data);_.fetchers.set(mt,sa)}ot(So),_.navigation.state==="loading"&&So>pe?(Mo(R,"Expected pending action"),F&&F.abort(),ft(_.navigation.location,{matches:Ji,loaderData:bi,errors:Ri,fetchers:new Map(_.fetchers)})):(Re({errors:Ri,loaderData:Rae(_.loaderData,bi,Ji,Ri),fetchers:new Map(_.fetchers)}),V=!1)}async function Vt(mt,It,Kt,br,Rr,jt,Yt,Jt,rr,vr){let Lt=_.fetchers.get(mt);Dt(mt,VE(vr,Lt?Lt.data:void 0),{flushSync:Jt});let Ir=new AbortController,fn=dx(e.history,Kt,Ir.signal);if(Yt){let mi=await or(Rr,Kt,fn.signal,mt);if(mi.type==="aborted")return;if(mi.type==="error"){dr(mt,It,mi.error,{flushSync:Jt});return}else if(mi.matches)Rr=mi.matches,br=yC(Rr,Kt);else{dr(mt,It,zm(404,{pathname:Kt}),{flushSync:Jt});return}}fe.set(mt,Ir);let Fn=ue,ui=Ex(i,a,fn,Rr,br,n,jt),Wn=(await hr(fn,ui,jt,mt))[br.route.id];if(fe.get(mt)===Ir&&fe.delete(mt),!fn.signal.aborted){if(_e.has(mt)){Dt(mt,Z0(void 0));return}if(A_(Wn))if(pe>Fn){Dt(mt,Z0(void 0));return}else{le.add(mt),await At(fn,Wn,!1,{preventScrollReset:rr});return}if(Qp(Wn)){dr(mt,It,Wn.error);return}Dt(mt,Z0(Wn.data))}}async function At(mt,It,Kt,{submission:br,fetcherSubmission:Rr,preventScrollReset:jt,replace:Yt}={}){It.response.headers.has("X-Remix-Revalidate")&&(V=!0);let Jt=It.response.headers.get("Location");Mo(Jt,"Expected a Location header on the redirect Response"),Jt=Cae(Jt,new URL(mt.url),l);let rr=v2(_.location,Jt,{_isRedirect:!0});if(r){let ui=!1;if(It.response.headers.has("X-Remix-Reload-Document"))ui=!0;else if(PH.test(Jt)){const yi=e.history.createURL(Jt);ui=yi.origin!==t.location.origin||eg(yi.pathname,l)==null}if(ui){Yt?t.location.replace(Jt):t.location.assign(Jt);return}}F=null;let vr=Yt===!0||It.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Lt,formAction:Ir,formEncType:fn}=_.navigation;!br&&!Rr&&Lt&&Ir&&fn&&(br=Mae(_.navigation));let Fn=br||Rr;if(V9e.has(It.response.status)&&Fn&&em(Fn.formMethod))await he(vr,rr,{submission:{...Fn,formAction:Jt},preventScrollReset:jt||O,enableViewTransition:Kt?$:void 0});else{let ui=dz(rr,br);await he(vr,rr,{overrideNavigation:ui,fetcherSubmission:Rr,preventScrollReset:jt||O,enableViewTransition:Kt?$:void 0})}}async function hr(mt,It,Kt,br){let Rr,jt={};try{Rr=await tUe(u,mt,It,br,Kt,!1)}catch(Yt){return It.filter(Jt=>Jt.shouldLoad).forEach(Jt=>{jt[Jt.route.id]={type:"error",error:Yt}}),jt}for(let[Yt,Jt]of Object.entries(Rr))if(sUe(Jt)){let rr=Jt.result;jt[Yt]={type:"redirect",response:iUe(rr,mt,Yt,It,l)}}else jt[Yt]=await nUe(Jt);return jt}async function Sr(mt,It,Kt,br){let Rr=hr(Kt,mt,br,null),jt=Promise.all(It.map(async rr=>{if(rr.matches&&rr.match&&rr.request&&rr.controller){let Lt=(await hr(rr.request,rr.matches,br,rr.key))[rr.match.route.id];return{[rr.key]:Lt}}else return Promise.resolve({[rr.key]:{type:"error",error:zm(404,{pathname:rr.path})}})})),Yt=await Rr,Jt=(await jt).reduce((rr,vr)=>Object.assign(rr,vr),{});return{loaderResults:Yt,fetcherResults:Jt}}function fr(){V=!0,se.forEach((mt,It)=>{fe.has(It)&&J.add(It),Fr(It)})}function Dt(mt,It,Kt={}){_.fetchers.set(mt,It),Re({fetchers:new Map(_.fetchers)},{flushSync:(Kt&&Kt.flushSync)===!0})}function dr(mt,It,Kt,br={}){let Rr=x_(_.matches,It);gr(mt),Re({errors:{[Rr.route.id]:Kt},fetchers:new Map(_.fetchers)},{flushSync:(br&&br.flushSync)===!0})}function Nr(mt){return ge.set(mt,(ge.get(mt)||0)+1),_e.has(mt)&&_e.delete(mt),_.fetchers.get(mt)||G9e}function gr(mt){let It=_.fetchers.get(mt);fe.has(mt)&&!(It&&It.state==="loading"&&ve.has(mt))&&Fr(mt),se.delete(mt),ve.delete(mt),le.delete(mt),_e.delete(mt),J.delete(mt),_.fetchers.delete(mt)}function wr(mt){let It=(ge.get(mt)||0)-1;It<=0?(ge.delete(mt),_e.add(mt)):ge.set(mt,It),Re({fetchers:new Map(_.fetchers)})}function Fr(mt){let It=fe.get(mt);It&&(It.abort(),fe.delete(mt))}function _n(mt){for(let It of mt){let Kt=Nr(It),br=Z0(Kt.data);_.fetchers.set(It,br)}}function nn(){let mt=[],It=!1;for(let Kt of le){let br=_.fetchers.get(Kt);Mo(br,`Expected fetcher: ${Kt}`),br.state==="loading"&&(le.delete(Kt),mt.push(Kt),It=!0)}return _n(mt),It}function ot(mt){let It=[];for(let[Kt,br]of ve)if(br<mt){let Rr=_.fetchers.get(Kt);Mo(Rr,`Expected fetcher: ${Kt}`),Rr.state==="loading"&&(Fr(Kt),ve.delete(Kt),It.push(Kt))}return _n(It),It.length>0}function Je(mt,It){let Kt=_.blockers.get(mt)||WE;return ke.get(mt)!==It&&ke.set(mt,It),Kt}function Me(mt){_.blockers.delete(mt),ke.delete(mt)}function Le(mt,It){let Kt=_.blockers.get(mt)||WE;Mo(Kt.state==="unblocked"&&It.state==="blocked"||Kt.state==="blocked"&&It.state==="blocked"||Kt.state==="blocked"&&It.state==="proceeding"||Kt.state==="blocked"&&It.state==="unblocked"||Kt.state==="proceeding"&&It.state==="unblocked",`Invalid blocker state transition: ${Kt.state} -> ${It.state}`);let br=new Map(_.blockers);br.set(mt,It),Re({blockers:br})}function Ye({currentLocation:mt,nextLocation:It,historyAction:Kt}){if(ke.size===0)return;ke.size>1&&Uc(!1,"A router only supports one blocker at a time");let br=Array.from(ke.entries()),[Rr,jt]=br[br.length-1],Yt=_.blockers.get(Rr);if(!(Yt&&Yt.state==="proceeding")&&jt({currentLocation:mt,nextLocation:It,historyAction:Kt}))return Rr}function gt(mt){let It=zm(404,{pathname:mt}),Kt=o||s,{matches:br,route:Rr}=Oae(Kt);return{notFoundMatches:br,route:Rr,error:It}}function kt(mt,It,Kt){if(m=mt,w=It,v=Kt||null,!x&&_.navigation===fz){x=!0;let br=Tt(_.location,_.matches);br!=null&&Re({restoreScrollPosition:br})}return()=>{m=null,w=null,v=null}}function at(mt,It){return v&&v(mt,It.map(br=>C9e(br,_.loaderData)))||mt.key}function Ft(mt,It){if(m&&w){let Kt=at(mt,It);m[Kt]=w()}}function Tt(mt,It){if(m){let Kt=at(mt,It),br=m[Kt];if(typeof br=="number")return br}return null}function ir(mt,It,Kt){if(e.patchRoutesOnNavigation)if(mt){if(Object.keys(mt[0].params).length>0)return{active:!0,matches:EA(It,Kt,l,!0)}}else return{active:!0,matches:EA(It,Kt,l,!0)||[]};return{active:!1,matches:null}}async function or(mt,It,Kt,br){if(!e.patchRoutesOnNavigation)return{type:"success",matches:mt};let Rr=mt;for(;;){let jt=o==null,Yt=o||s,Jt=a;try{await e.patchRoutesOnNavigation({signal:Kt,path:It,matches:Rr,fetcherKey:br,patch:(Lt,Ir)=>{Kt.aborted||wae(Lt,Ir,Yt,Jt,i)}})}catch(Lt){return{type:"error",error:Lt,partialMatches:Rr}}finally{jt&&!Kt.aborted&&(s=[...s])}if(Kt.aborted)return{type:"aborted"};let rr=J0(Yt,It,l);if(rr)return{type:"success",matches:rr};let vr=EA(Yt,It,l,!0);if(!vr||Rr.length===vr.length&&Rr.every((Lt,Ir)=>Lt.route.id===vr[Ir].route.id))return{type:"success",matches:null};Rr=vr}}function ar(mt){a={},o=aO(mt,i,void 0,a)}function zr(mt,It){let Kt=o==null;wae(mt,It,o||s,a,i),Kt&&(s=[...s],Re({}))}return E={get basename(){return l},get future(){return f},get state(){return _},get routes(){return s},get window(){return t},initialize:$e,subscribe:Ee,enableScrollRestoration:kt,navigate:qe,fetch:Ze,revalidate:dt,createHref:mt=>e.history.createHref(mt),encodeLocation:mt=>e.history.encodeLocation(mt),getFetcher:Nr,deleteFetcher:wr,dispose:we,getBlocker:Je,deleteBlocker:Me,patchRoutes:zr,_internalFetchControllers:fe,_internalSetRoutes:ar},E}function Y9e(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Bj(e,t,r,n,i,a){let s,o;if(i){s=[];for(let u of t)if(s.push(u),u.route.id===i){o=u;break}}else s=t,o=t[t.length-1];let l=CH(n||".",EH(s),eg(e.pathname,r)||e.pathname,a==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=TH(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let f=new URLSearchParams(l.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();l.search=p?`?${p}`:""}}return r!=="/"&&(l.pathname=l.pathname==="/"?r:Kv([r,l.pathname])),pb(l)}function bae(e,t,r){if(!r||!Y9e(r))return{path:t};if(r.formMethod&&!lUe(r.formMethod))return{path:t,error:zm(405,{method:r.formMethod})};let n=()=>({path:t,error:zm(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=Zve(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!em(a))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[m,v])=>`${p}${m}=${v}
`,""):String(r.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!em(a))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}Mo(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=qj(r.formData),l=r.formData;else if(r.body instanceof FormData)o=qj(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=Pae(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=Pae(o)}catch{return n()}let u={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(em(u.formMethod))return{path:t,submission:u};let f=$b(t);return e&&f.search&&TH(f.search)&&o.append("index",""),f.search=`?${o}`,{path:pb(f),submission:u}}function _ae(e,t,r,n,i,a,s,o,l,u,f,h,p,m,v,w,x,T,A){var q;let P=A?Qp(A[1])?A[1].error:A[1].data:void 0,S=i.createURL(a.location),E=i.createURL(l),_;if(f&&a.errors){let Z=Object.keys(a.errors)[0];_=s.findIndex(V=>V.route.id===Z)}else if(A&&Qp(A[1])){let Z=A[0];_=s.findIndex(V=>V.route.id===Z)-1}let R=A?A[1].statusCode:void 0,O=R&&R>=400,F={currentUrl:S,currentParams:((q=a.matches[0])==null?void 0:q.params)||{},nextUrl:E,nextParams:s[0].params,...o,actionResult:P,actionStatus:R},$=s.map((Z,V)=>{let{route:J}=Z,fe=null;if(_!=null&&V>_?fe=!1:J.lazy?fe=!0:J.loader==null?fe=!1:f?fe=jj(J,a.loaderData,a.errors):X9e(a.loaderData,a.matches[V],Z)&&(fe=!0),fe!==null)return Uj(r,n,e,Z,u,t,fe);let ue=O?!1:h||S.pathname+S.search===E.pathname+E.search||S.search!==E.search||J9e(a.matches[V],Z),pe={...F,defaultShouldRevalidate:ue},ve=sO(Z,pe);return Uj(r,n,e,Z,u,t,ve,pe)}),z=[];return v.forEach((Z,V)=>{if(f||!s.some(se=>se.route.id===Z.routeId)||m.has(V))return;let J=J0(x,Z.path,T);if(!J){z.push({key:V,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(w.has(V))return;let fe=a.fetchers.get(V),ue=yC(J,Z.path),pe=new AbortController,ve=dx(i,Z.path,pe.signal),le=null;if(p.has(V))p.delete(V),le=Ex(r,n,ve,J,ue,u,t);else if(fe&&fe.state!=="idle"&&fe.data===void 0)h&&(le=Ex(r,n,ve,J,ue,u,t));else{let se={...F,defaultShouldRevalidate:O?!1:h};sO(ue,se)&&(le=Ex(r,n,ve,J,ue,u,t,se))}le&&z.push({key:V,routeId:Z.routeId,path:Z.path,matches:le,match:ue,request:ve,controller:pe})}),{dsMatches:$,revalidatingFetchers:z}}function jj(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function X9e(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function J9e(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function sO(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function wae(e,t,r,n,i){let a;if(e){let l=n[e];Mo(l,`No route found to patch children into: routeId = ${e}`),l.children||(l.children=[]),a=l.children}else a=r;let s=t.filter(l=>!a.some(u=>Hve(l,u))),o=aO(s,i,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...o)}function Hve(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(a=>Hve(r,a))}):!1}var xae=new WeakMap,Wve=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(Mo(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let s=xae.get(i);s||(s={},xae.set(i,s));let o=s[e];if(o)return o;let l=(async()=>{let u=w9e(e),h=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)Uc(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(h)Uc(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await a();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return s[e]=l,l},Sae=new WeakMap;function Q9e(e,t,r,n,i){let a=r[e.id];if(Mo(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=Sae.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let h=(async()=>{Mo(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let v in p){let w=p[v];if(w===void 0)continue;let x=S9e(v),A=a[v]!==void 0&&v!=="hasErrorBoundary";x?Uc(!x,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Uc(!A,`Route "${a.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=w}Object.assign(a,m),Object.assign(a,{...n(a),lazy:void 0})})();return Sae.set(a,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let s=Object.keys(e.lazy),o=[],l;for(let f of s){if(i&&i.includes(f))continue;let h=Wve({key:f,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),f===t&&(l=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function Eae(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{r[t[a].route.id]=i}),r}async function eUe(e){return e.matches.some(t=>t.route.unstable_middleware)?Vve(e,!1,()=>Eae(e),(t,r)=>({[r]:{type:"error",result:t}})):Eae(e)}async function Vve(e,t,r,n){let{matches:i,request:a,params:s,context:o}=e,l={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(p=>[h.route.id,p]):[]),f=await Gve({request:a,params:s,context:o},u,t,l,r);return t?f:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let f=await n(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,f):f}}async function Gve(e,t,r,n,i,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let o=t[a];if(!o)return n.handlerResult=await i(),n.handlerResult;let[l,u]=o,f=!1,h,p=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await Gve(e,t,r,n,i,a+1)};try{let m=await u({request:e.request,params:e.params,context:e.context},p);return f?m===void 0?h:m:p()}catch(m){throw n.middlewareError?n.middlewareError.error!==m&&(n.middlewareError={routeId:l,error:m}):n.middlewareError={routeId:l,error:m},m}}function Kve(e,t,r,n,i){let a=Wve({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),s=Q9e(n.route,em(r.method)?"action":"loader",t,e,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function Uj(e,t,r,n,i,a,s,o=null){let l=!1,u=Kve(e,t,r,n,i);return{...n,_lazyPromises:u,shouldLoad:s,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(f){return l=!0,o?typeof f=="boolean"?sO(n,{...o,defaultShouldRevalidate:f}):sO(n,o):s},resolve(f){return l||s||f&&r.method==="GET"&&(n.route.lazy||n.route.loader)?rUe({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:f,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Ex(e,t,r,n,i,a,s,o=null){return n.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Kve(e,t,r,l,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Uj(e,t,r,l,a,s,!0,o))}async function tUe(e,t,r,n,i,a){r.some(u=>{var f;return(f=u._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(r.map(u=>{var f;return(f=u._lazyPromises)==null?void 0:f.middleware}));let s={request:t,params:r[0].params,context:i,matches:r},l=await e({...s,fetcherKey:n,unstable_runClientMiddleware:u=>{let f=s;return Vve(f,!1,()=>u({...f,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,p)=>({[p]:{type:"error",result:h}}))}});try{await Promise.all(r.flatMap(u=>{var f,h;return[(f=u._lazyPromises)==null?void 0:f.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function rUe({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:a}){let s,o,l=em(e.method),u=l?"action":"loader",f=h=>{let p,m=new Promise((x,T)=>p=T);o=()=>p(),e.signal.addEventListener("abort",o);let v=x=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:a},...x!==void 0?[x]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(T=>v(T)):v())}}catch(x){return{type:"error",result:x}}})();return Promise.race([w,m])};try{let h=l?t.route.action:t.route.loader;if(r||n)if(h){let p,[m]=await Promise.all([f(h).catch(v=>{p=v}),r,n]);if(p!==void 0)throw p;s=m}else{await r;let p=l?t.route.action:t.route.loader;if(p)[s]=await Promise.all([f(p),n]);else if(u==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw zm(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)s=await f(h);else{let p=new URL(e.url),m=p.pathname+p.search;throw zm(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{o&&e.signal.removeEventListener("abort",o)}return s}async function nUe(e){var n,i,a,s,o,l;let{result:t,type:r}=e;if(Yve(t)){let u;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(f){return{type:"error",error:f}}return r==="error"?{type:"error",error:new oO(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Iae(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new oO(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:b2(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:b2(t)?t.status:void 0}:Iae(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function iUe(e,t,r,n,i){let a=e.headers.get("Location");if(Mo(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!PH.test(a)){let s=n.slice(0,n.findIndex(o=>o.route.id===r)+1);a=Bj(new URL(t.url),s,i,a),e.headers.set("Location",a)}return e}function Cae(e,t,r){if(PH.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),a=eg(i.pathname,r)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function dx(e,t,r,n){let i=e.createURL(Zve(t)).toString(),a={signal:r};if(n&&em(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=qj(n.formData):a.body=n.formData}return new Request(i,a)}function qj(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Pae(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function aUe(e,t,r,n=!1,i=!1){let a={},s=null,o,l=!1,u={},f=r&&Qp(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,m=t[p];if(Mo(!A_(m),"Cannot handle redirect results in processLoaderData"),Qp(m)){let v=m.error;if(f!==void 0&&(v=f,f=void 0),s=s||{},i)s[p]=v;else{let w=x_(e,p);s[w.route.id]==null&&(s[w.route.id]=v)}n||(a[p]=qve),l||(l=!0,o=b2(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else a[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(o=m.statusCode),m.headers&&(u[p]=m.headers)}),f!==void 0&&r&&(s={[r[0]]:f},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}function Tae(e,t,r,n,i,a){let{loaderData:s,errors:o}=aUe(t,r,n);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:f,controller:h}=l,p=a[u];if(Mo(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Qp(p)){let m=x_(e.matches,f==null?void 0:f.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:p.error}),e.fetchers.delete(u)}else if(A_(p))Mo(!1,"Unhandled fetcher revalidation redirect");else{let m=Z0(p.data);e.fetchers.set(u,m)}}),{loaderData:s,errors:o}}function Rae(e,t,r,n){let i=Object.entries(t).filter(([,a])=>a!==qve).reduce((a,[s,o])=>(a[s]=o,a),{});for(let a of r){let s=a.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&a.route.loader&&(i[s]=e[s]),n&&n.hasOwnProperty(s))break}return i}function Aae(e){return e?Qp(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function x_(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Oae(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zm(e,{pathname:t,routeId:r,method:n,type:i,message:a}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(s="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(s="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",o=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new oO(e||500,s,new Error(o),!0)}function _R(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(A_(i))return{key:n,result:i}}}function Zve(e){let t=typeof e=="string"?$b(e):e;return pb({...t,hash:""})}function oUe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function sUe(e){return Yve(e.result)&&W9e.has(e.result.status)}function Qp(e){return e.type==="error"}function A_(e){return(e&&e.type)==="redirect"}function Iae(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Yve(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function lUe(e){return H9e.has(e.toUpperCase())}function em(e){return U9e.has(e.toUpperCase())}function TH(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function yC(e,t){let r=typeof t=="string"?$b(t).search:t.search;if(e[e.length-1].route.index&&TH(r||""))return e[e.length-1];let n=Bve(e);return n[n.length-1]}function Mae(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:a,json:s}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function dz(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uUe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function VE(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cUe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Z0(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fUe(e,t){try{let r=e.sessionStorage.getItem(Uve);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function dUe(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(Uve,JSON.stringify(r))}catch(n){Uc(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function hUe(){let e,t,r=new Promise((n,i)=>{e=async a=>{n(a);try{await r}catch{}},t=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var $w=ne.createContext(null);$w.displayName="DataRouter";var RP=ne.createContext(null);RP.displayName="DataRouterState";var RH=ne.createContext({isTransitioning:!1});RH.displayName="ViewTransition";var Xve=ne.createContext(new Map);Xve.displayName="Fetchers";var pUe=ne.createContext(null);pUe.displayName="Await";var py=ne.createContext(null);py.displayName="Navigation";var kM=ne.createContext(null);kM.displayName="Location";var my=ne.createContext({outlet:null,matches:[],isDataRoute:!1});my.displayName="Route";var AH=ne.createContext(null);AH.displayName="RouteError";function mUe(e,{relative:t}={}){Mo(PS(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ne.useContext(py),{hash:i,pathname:a,search:s}=AP(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:Kv([r,a])),n.createHref({pathname:o,search:s,hash:i})}function PS(){return ne.useContext(kM)!=null}function y0(){return Mo(PS(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(kM).location}function Z1t(e){Mo(PS(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=y0();return ne.useMemo(()=>y2(e,zve(t)),[t,e])}var Jve="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qve(e){ne.useContext(py).static||ne.useLayoutEffect(e)}function eye(){let{isDataRoute:e}=ne.useContext(my);return e?TUe():gUe()}function gUe(){Mo(PS(),"useNavigate() may be used only in the context of a <Router> component.");let e=ne.useContext($w),{basename:t,navigator:r}=ne.useContext(py),{matches:n}=ne.useContext(my),{pathname:i}=y0(),a=JSON.stringify(EH(n)),s=ne.useRef(!1);return Qve(()=>{s.current=!0}),ne.useCallback((l,u={})=>{if(Uc(s.current,Jve),!s.current)return;if(typeof l=="number"){r.go(l);return}let f=CH(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kv([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,i,e])}ne.createContext(null);function Y1t(){let{matches:e}=ne.useContext(my),t=e[e.length-1];return t?t.params:{}}function AP(e,{relative:t}={}){let{matches:r}=ne.useContext(my),{pathname:n}=y0(),i=JSON.stringify(EH(r));return ne.useMemo(()=>CH(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function vUe(e,t,r,n){Mo(PS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=ne.useContext(py),{matches:s}=ne.useContext(my),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let A=h&&h.path||"";tye(u,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=y0(),m;m=p;let v=m.pathname||"/",w=v;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=!a&&r&&r.matches&&r.matches.length>0?r.matches:J0(e,{pathname:w});return Uc(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Uc(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xUe(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Kv([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Kv([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n)}function yUe(){let e=PUe(),t=b2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=ne.createElement(ne.Fragment,null,ne.createElement("p",null,"💿 Hey developer 👋"),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:a},"ErrorBoundary")," or"," ",ne.createElement("code",{style:a},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),r?ne.createElement("pre",{style:i},r):null,s)}var bUe=ne.createElement(yUe,null),_Ue=class extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ne.createElement(my.Provider,{value:this.props.routeContext},ne.createElement(AH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wUe({routeContext:e,match:t,children:r}){let n=ne.useContext($w);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(my.Provider,{value:e},r)}function xUe(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Mo(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,o=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:f,errors:h}=r,p=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||p){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let h,p=!1,m=null,v=null;r&&(h=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||bUe,s&&(o<0&&f===0?(tye("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):o===f&&(p=!0,v=u.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,f+1)),x=()=>{let T;return h?T=m:p?T=v:u.route.Component?T=ne.createElement(u.route.Component,null):u.route.element?T=u.route.element:T=l,ne.createElement(wUe,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:r!=null},children:T})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?ne.createElement(_Ue,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function OH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SUe(e){let t=ne.useContext($w);return Mo(t,OH(e)),t}function IH(e){let t=ne.useContext(RP);return Mo(t,OH(e)),t}function EUe(e){let t=ne.useContext(my);return Mo(t,OH(e)),t}function OP(e){let t=EUe(e),r=t.matches[t.matches.length-1];return Mo(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function CUe(){return OP("useRouteId")}function X1t(){let e=IH("useLoaderData"),t=OP("useLoaderData");return e.loaderData[t]}function J1t(){let e=IH("useActionData"),t=OP("useLoaderData");return e.actionData?e.actionData[t]:void 0}function PUe(){var n;let e=ne.useContext(AH),t=IH("useRouteError"),r=OP("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function TUe(){let{router:e}=SUe("useNavigate"),t=OP("useNavigate"),r=ne.useRef(!1);return Qve(()=>{r.current=!0}),ne.useCallback(async(i,a={})=>{Uc(r.current,Jve),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var kae={};function tye(e,t,r){!t&&!kae[e]&&(kae[e]=!0,Uc(!1,r))}var Dae={};function Fae(e,t){!e&&!Dae[t]&&(Dae[t]=!0,console.warn(t))}function RUe(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Uc(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:ne.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Uc(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:ne.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Uc(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:ne.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var AUe=["HydrateFallback","hydrateFallbackElement"],OUe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Q1t({router:e,flushSync:t}){let[r,n]=ne.useState(e.state),[i,a]=ne.useState(),[s,o]=ne.useState({isTransitioning:!1}),[l,u]=ne.useState(),[f,h]=ne.useState(),[p,m]=ne.useState(),v=ne.useRef(new Map),w=ne.useCallback((P,{deletedFetchers:S,flushSync:E,viewTransitionOpts:_})=>{P.fetchers.forEach((O,F)=>{O.data!==void 0&&v.current.set(F,O.data)}),S.forEach(O=>v.current.delete(O)),Fae(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Fae(_==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!_||!R){t&&E?t(()=>n(P)):ne.startTransition(()=>n(P));return}if(t&&E){t(()=>{f&&(l&&l.resolve(),f.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let O=e.window.document.startViewTransition(()=>{t(()=>n(P))});O.finished.finally(()=>{t(()=>{u(void 0),h(void 0),a(void 0),o({isTransitioning:!1})})}),t(()=>h(O));return}f?(l&&l.resolve(),f.skipTransition(),m({state:P,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(a(P),o({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[e.window,t,f,l]);ne.useLayoutEffect(()=>e.subscribe(w),[e,w]),ne.useEffect(()=>{s.isTransitioning&&!s.flushSync&&u(new OUe)},[s]),ne.useEffect(()=>{if(l&&i&&e.window){let P=i,S=l.promise,E=e.window.document.startViewTransition(async()=>{ne.startTransition(()=>n(P)),await S});E.finished.finally(()=>{u(void 0),h(void 0),a(void 0),o({isTransitioning:!1})}),h(E)}},[i,l,e.window]),ne.useEffect(()=>{l&&i&&r.location.key===i.location.key&&l.resolve()},[l,f,r.location,i]),ne.useEffect(()=>{!s.isTransitioning&&p&&(a(p.state),o({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[s.isTransitioning,p]);let x=ne.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:P=>e.navigate(P),push:(P,S,E)=>e.navigate(P,{state:S,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(P,S,E)=>e.navigate(P,{replace:!0,state:S,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[e]),T=e.basename||"/",A=ne.useMemo(()=>({router:e,navigator:x,static:!1,basename:T}),[e,x,T]);return ne.createElement(ne.Fragment,null,ne.createElement($w.Provider,{value:A},ne.createElement(RP.Provider,{value:r},ne.createElement(Xve.Provider,{value:v.current},ne.createElement(RH.Provider,{value:s},ne.createElement(kUe,{basename:T,location:r.location,navigationType:r.historyAction,navigator:x},ne.createElement(IUe,{routes:e.routes,future:e.future,state:r})))))),null)}var IUe=ne.memo(MUe);function MUe({routes:e,future:t,state:r}){return vUe(e,void 0,r,t)}function kUe({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Mo(!PS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=ne.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=$b(r));let{pathname:l="/",search:u="",hash:f="",state:h=null,key:p="default"}=r,m=ne.useMemo(()=>{let v=eg(l,s);return v==null?null:{location:{pathname:v,search:u,hash:f,state:h,key:p},navigationType:n}},[s,l,u,f,h,p,n]);return Uc(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:ne.createElement(py.Provider,{value:o},ne.createElement(kM.Provider,{children:t,value:m}))}var CA="get",PA="application/x-www-form-urlencoded";function DM(e){return e!=null&&typeof e.tagName=="string"}function DUe(e){return DM(e)&&e.tagName.toLowerCase()==="button"}function FUe(e){return DM(e)&&e.tagName.toLowerCase()==="form"}function LUe(e){return DM(e)&&e.tagName.toLowerCase()==="input"}function NUe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $Ue(e,t){return e.button===0&&(!t||t==="_self")&&!NUe(e)}function Hj(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function zUe(e,t){let r=Hj(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var wR=null;function BUe(){if(wR===null)try{new FormData(document.createElement("form"),0),wR=!1}catch{wR=!0}return wR}var jUe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hz(e){return e!=null&&!jUe.has(e)?(Uc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${PA}"`),null):e}function UUe(e,t){let r,n,i,a,s;if(FUe(e)){let o=e.getAttribute("action");n=o?eg(o,t):null,r=e.getAttribute("method")||CA,i=hz(e.getAttribute("enctype"))||PA,a=new FormData(e)}else if(DUe(e)||LUe(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?eg(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||CA,i=hz(e.getAttribute("formenctype"))||hz(o.getAttribute("enctype"))||PA,a=new FormData(o,e),!BUe()){let{name:u,type:f,value:h}=e;if(f==="image"){let p=u?`${u}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else u&&a.append(u,h)}}else{if(DM(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=CA,n=null,i=PA,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}function MH(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function qUe(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HUe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WUe(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await qUe(a,r);return s.links?s.links():[]}return[]}));return ZUe(n.flat(1).filter(HUe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lae(e,t,r,n,i,a){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var f;return r[u].pathname!==l.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var h;let f=n.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function VUe(e,t,{includeHydrateFallback:r}={}){return GUe(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function GUe(e){return[...new Set(e)]}function KUe(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ZUe(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(KUe(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}var YUe=new Set([100,101,204,205]);function XUe(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&eg(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function rye(){let e=ne.useContext($w);return MH(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JUe(){let e=ne.useContext(RP);return MH(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kH=ne.createContext(void 0);kH.displayName="FrameworkContext";function nye(){let e=ne.useContext(kH);return MH(e,"You must render this element inside a <HydratedRouter> element"),e}function QUe(e,t){let r=ne.useContext(kH),[n,i]=ne.useState(!1),[a,s]=ne.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=t,p=ne.useRef(null);ne.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=T=>{T.forEach(A=>{s(A.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[e]),ne.useEffect(()=>{if(n){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[n]);let m=()=>{i(!0)},v=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,p,{}]:[a,p,{onFocus:GE(o,m),onBlur:GE(l,v),onMouseEnter:GE(u,m),onMouseLeave:GE(f,v),onTouchStart:GE(h,m)}]:[!1,p,{}]}function GE(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function eqe({page:e,...t}){let{router:r}=rye(),n=ne.useMemo(()=>J0(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?ne.createElement(rqe,{page:e,matches:n,...t}):null}function tqe(e){let{manifest:t,routeModules:r}=nye(),[n,i]=ne.useState([]);return ne.useEffect(()=>{let a=!1;return WUe(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function rqe({page:e,matches:t,...r}){let n=y0(),{manifest:i,routeModules:a}=nye(),{basename:s}=rye(),{loaderData:o,matches:l}=JUe(),u=ne.useMemo(()=>Lae(e,t,l,i,n,"data"),[e,t,l,i,n]),f=ne.useMemo(()=>Lae(e,t,l,i,n,"assets"),[e,t,l,i,n]),h=ne.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(t.forEach(T=>{var P;let A=i.routes[T.route.id];!A||!A.hasLoader||(!u.some(S=>S.route.id===T.route.id)&&T.route.id in o&&((P=a[T.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?w=!0:v.add(T.route.id))}),v.size===0)return[];let x=XUe(e,s);return w&&v.size>0&&x.searchParams.set("_routes",t.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[s,o,n,i,u,t,e,a]),p=ne.useMemo(()=>VUe(f,i),[f,i]),m=tqe(f);return ne.createElement(ne.Fragment,null,h.map(v=>ne.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>ne.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),m.map(({key:v,link:w})=>ne.createElement("link",{key:v,...w})))}function nqe(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var iye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iye&&(window.__reactRouterVersion="7.5.3")}catch{}function ext(e,t){return Z9e({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:v9e({window:t==null?void 0:t.window}),hydrationData:iqe(),routes:e,mapRouteProperties:RUe,hydrationRouteProperties:AUe,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function iqe(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:aqe(e.errors)}),e}function aqe(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new oO(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var aye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oye=ne.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:f,viewTransition:h,...p},m){let{basename:v}=ne.useContext(py),w=typeof u=="string"&&aye.test(u),x,T=!1;if(typeof u=="string"&&w&&(x=u,iye))try{let F=new URL(window.location.href),$=u.startsWith("//")?new URL(F.protocol+u):new URL(u),z=eg($.pathname,v);$.origin===F.origin&&z!=null?u=z+$.search+$.hash:T=!0}catch{Uc(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=mUe(u,{relative:i}),[P,S,E]=QUe(n,p),_=uqe(u,{replace:s,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:h});function R(F){t&&t(F),F.defaultPrevented||_(F)}let O=ne.createElement("a",{...p,...E,href:x||A,onClick:T||a?t:R,ref:nqe(m,S),target:l,"data-discover":!w&&r==="render"?"true":void 0});return P&&!w?ne.createElement(ne.Fragment,null,O,ne.createElement(eqe,{page:A})):O});oye.displayName="Link";var oqe=ne.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},f){let h=AP(s,{relative:u.relative}),p=y0(),m=ne.useContext(RP),{navigator:v,basename:w}=ne.useContext(py),x=m!=null&&pqe(h)&&o===!0,T=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,A=p.pathname,P=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(A=A.toLowerCase(),P=P?P.toLowerCase():null,T=T.toLowerCase()),P&&w&&(P=eg(P,w)||P);const S=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let E=A===T||!i&&A.startsWith(T)&&A.charAt(S)==="/",_=P!=null&&(P===T||!i&&P.startsWith(T)&&P.charAt(T.length)==="/"),R={isActive:E,isPending:_,isTransitioning:x},O=E?t:void 0,F;typeof n=="function"?F=n(R):F=[n,E?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(R):a;return ne.createElement(oye,{...u,"aria-current":O,className:F,ref:f,style:$,to:s,viewTransition:o},typeof l=="function"?l(R):l)});oqe.displayName="NavLink";var sqe=ne.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=CA,action:o,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:h,...p},m)=>{let v=dqe(),w=hqe(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",T=typeof o=="string"&&aye.test(o),A=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let S=P.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||s;v(S||P.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:i,state:a,relative:u,preventScrollReset:f,viewTransition:h})};return ne.createElement("form",{ref:m,method:x,action:w,onSubmit:n?l:A,...p,"data-discover":!T&&e==="render"?"true":void 0})});sqe.displayName="Form";function lqe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sye(e){let t=ne.useContext($w);return Mo(t,lqe(e)),t}function uqe(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=eye(),l=y0(),u=AP(e,{relative:a});return ne.useCallback(f=>{if($Ue(f,t)){f.preventDefault();let h=r!==void 0?r:pb(l)===pb(u);o(e,{replace:h,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,r,n,t,e,i,a,s])}function txt(e){Uc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=ne.useRef(Hj(e)),r=ne.useRef(!1),n=y0(),i=ne.useMemo(()=>zUe(n.search,r.current?null:t.current),[n.search]),a=eye(),s=ne.useCallback((o,l)=>{const u=Hj(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}var cqe=0,fqe=()=>`__${String(++cqe)}__`;function dqe(){let{router:e}=sye("useSubmit"),{basename:t}=ne.useContext(py),r=CUe();return ne.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=UUe(n,t);if(i.navigate===!1){let f=i.fetcherKey||fqe();await e.fetch(f,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function hqe(e,{relative:t}={}){let{basename:r}=ne.useContext(py),n=ne.useContext(my);Mo(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...AP(e||".",{relative:t})},s=y0();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Kv([r,a.pathname])),pb(a)}function pqe(e,t={}){let r=ne.useContext(RH);Mo(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sye("useViewTransitionState"),i=AP(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=eg(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=eg(r.nextLocation.pathname,n)||r.nextLocation.pathname;return y2(i.pathname,s)!=null||y2(i.pathname,a)!=null}new TextEncoder;[...YUe];var mqe=lg();const rxt=pl(mqe);var nxt=Dpe(),gqe=Cw();const ixt=pl(gqe);var axt=tve();const vqe=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),lye=e=>Array.isArray(e)&&e.every(t=>typeof t=="object"&&!(t instanceof Array)),yqe=e=>Array.isArray(e)&&e.every(t=>Array.isArray(t)),bqe=e=>Array.from(e.map(t=>Object.keys(t)).reduce((t,r)=>new Set([...t,...r]),[])),_qe=(e,t)=>{t=t||bqe(e);let r=t,n=t;lye(t)&&(r=t.map(a=>a.label),n=t.map(a=>a.key));const i=e.map(a=>n.map(s=>wqe(s,a)));return[r,...i]},wqe=(e,t)=>{const r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(n,i,a,s){const o=n[i];if(o==null)s.splice(1);else return o},t);return r===void 0?e in t?t[e]:"":r},xqe=e=>typeof e>"u"||e===null?"":e,uye=(e,t=",",r='"')=>e.filter(n=>n).map(n=>n.map(i=>xqe(i)).map(i=>`${r}${i}${r}`).join(t)).join(`
`),Sqe=(e,t,r,n)=>uye(t?[t,...e]:e,r,n),Eqe=(e,t,r,n)=>uye(_qe(e,t),r,n),Cqe=(e,t,r,n)=>t?`${t.join(r)}
${e}`:e.replace(/"/g,'""'),cye=(e,t,r,n)=>{if(lye(e))return Eqe(e,t,r,n);if(yqe(e))return Sqe(e,t,r,n);if(typeof e=="string")return Cqe(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},fye=(e,t,r,n,i)=>{const a=cye(e,r,n,i),s=vqe()?"application/csv":"text/csv",o=new Blob([t?"\uFEFF":"",a],{type:s}),l=`data:${s};charset=utf-8,${t?"\uFEFF":""}${a}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?l:u.createObjectURL(o)},dye={data:Zp.oneOfType([Zp.string,Zp.array,Zp.func]).isRequired,headers:Zp.array,target:Zp.string,separator:Zp.string,filename:Zp.string,uFEFF:Zp.bool,onClick:Zp.func,asyncOnClick:Zp.bool,enclosingCharacter:Zp.string},hye={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},Pqe={target:"_blank"};class Nae extends ze.Component{constructor(t){super(t),this.state={}}buildURI(){return fye(...arguments)}componentDidMount(){const{data:t,headers:r,separator:n,enclosingCharacter:i,uFEFF:a,target:s,specs:o,replace:l}=this.props;this.state.page=window.open(this.buildURI(t,a,r,n,i),s,o,l)}getWindow(){return this.state.page}render(){return null}}Ga(Nae,"defaultProps",Object.assign(hye,Pqe)),Ga(Nae,"propTypes",dye);var gA;let Tqe=(gA=class extends ze.Component{constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return fye(...arguments)}handleLegacy(t,r=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();const{data:n,headers:i,separator:a,filename:s,enclosingCharacter:o,uFEFF:l}=this.props,u=r&&typeof n=="function"?n():n;let f=new Blob([l?"\uFEFF":"",cye(u,i,a,o)]);return window.navigator.msSaveBlob(f,s),!1}}handleAsyncClick(t){const r=n=>{if(n===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,r)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){const{data:t,headers:r,separator:n,filename:i,uFEFF:a,children:s,onClick:o,asyncOnClick:l,enclosingCharacter:u,...f}=this.props,p=typeof window>"u"?"":this.buildURI(t,a,r,n,u);return io.jsx("a",{download:i,...f,ref:m=>this.link=m,target:"_self",href:p,onClick:this.handleClick(),children:s})}},Ga(gA,"defaultProps",hye),Ga(gA,"propTypes",dye),gA);const sxt=Tqe;var Ls=gU();const Rqe=pl(Ls);function Mh(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Aqe=typeof Symbol=="function"&&Symbol.observable||"@@observable",$ae=Aqe,zae=()=>Math.random().toString(36).substring(7).split("").join("."),Oqe={INIT:`@@redux/INIT${zae()}`,REPLACE:`@@redux/REPLACE${zae()}`},Bae=Oqe;function Iqe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pye(e,t,r){if(typeof e!="function")throw new Error(Mh(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mh(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mh(1));return r(pye)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((x,T)=>{s.set(T,x)}))}function f(){if(l)throw new Error(Mh(3));return i}function h(x){if(typeof x!="function")throw new Error(Mh(4));if(l)throw new Error(Mh(5));let T=!0;u();const A=o++;return s.set(A,x),function(){if(T){if(l)throw new Error(Mh(6));T=!1,u(),s.delete(A),a=null}}}function p(x){if(!Iqe(x))throw new Error(Mh(7));if(typeof x.type>"u")throw new Error(Mh(8));if(typeof x.type!="string")throw new Error(Mh(17));if(l)throw new Error(Mh(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(A=>{A()}),x}function m(x){if(typeof x!="function")throw new Error(Mh(10));n=x,p({type:Bae.REPLACE})}function v(){const x=h;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Mh(11));function A(){const S=T;S.next&&S.next(f())}return A(),{unsubscribe:x(A)}},[$ae](){return this}}}return p({type:Bae.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:m,[$ae]:v}}function jae(e,t){return function(...r){return t(e.apply(this,r))}}function Uae(e,t){if(typeof e=="function")return jae(e,t);if(typeof e!="object"||e===null)throw new Error(Mh(16));const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=jae(i,t))}return r}function mye(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Mqe(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Mh(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=mye(...o)(i.dispatch),{...i,dispatch:a}}}var kqe="Invariant failed";function Dqe(e,t){throw new Error(kqe)}var Wg=function(t){var r=t.top,n=t.right,i=t.bottom,a=t.left,s=n-a,o=i-r,l={top:r,right:n,bottom:i,left:a,width:s,height:o,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return l},DH=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},qae=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Fqe=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},pz={top:0,right:0,bottom:0,left:0},FH=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?pz:n,a=t.border,s=a===void 0?pz:a,o=t.padding,l=o===void 0?pz:o,u=Wg(DH(r,i)),f=Wg(qae(r,s)),h=Wg(qae(f,l));return{marginBox:u,borderBox:Wg(r),paddingBox:f,contentBox:h,margin:i,border:s,padding:l}},Lm=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&Dqe(),i},Lqe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},lO=function(t,r){var n=t.borderBox,i=t.border,a=t.margin,s=t.padding,o=Fqe(n,r);return FH({borderBox:o,border:i,margin:a,padding:s})},uO=function(t,r){return r===void 0&&(r=Lqe()),lO(t,r)},gye=function(t,r){var n={top:Lm(r.marginTop),right:Lm(r.marginRight),bottom:Lm(r.marginBottom),left:Lm(r.marginLeft)},i={top:Lm(r.paddingTop),right:Lm(r.paddingRight),bottom:Lm(r.paddingBottom),left:Lm(r.paddingLeft)},a={top:Lm(r.borderTopWidth),right:Lm(r.borderRightWidth),bottom:Lm(r.borderBottomWidth),left:Lm(r.borderLeftWidth)};return FH({borderBox:t,margin:n,padding:i,border:a})},vye=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return gye(r,n)},_2=function(t){var r=[],n=null,i=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];r=o,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function yye(e,t){}yye.bind(null,"warn");yye.bind(null,"error");function ib(){}function Nqe(e,t){return{...e,...t}}function Hm(e,t,r){const n=t.map(i=>{const a=Nqe(r,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(a=>{a()})}}const $qe="Invariant failed";class cO extends Error{}cO.prototype.toString=function(){return this.message};function si(e,t){throw new cO($qe)}class zqe extends ze.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ib,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof cO&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Hm(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof cO){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Bqe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,fO=e=>e+1,jqe=e=>`
  You have lifted an item in position ${fO(e.source.index)}
`,bye=(e,t)=>{const r=e.droppableId===t.droppableId,n=fO(e.index),i=fO(t.index);return r?`
      You have moved the item from position ${n}
      to position ${i}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},_ye=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Uqe=e=>{const t=e.destination;if(t)return bye(e.source,t);const r=e.combine;return r?_ye(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Hae=e=>`
  The item has returned to its starting position
  of ${fO(e.index)}
`,qqe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Hae(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${bye(e.source,t)}
    `:r?`
      You have dropped the item.
      ${_ye(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${Hae(e.source)}
  `},TA={dragHandleUsageInstructions:Bqe,onDragStart:jqe,onDragUpdate:Uqe,onDragEnd:qqe};function Hqe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function wye(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Hqe(e[r],t[r]))return!1;return!0}function hs(e,t){const r=ne.useState(()=>({inputs:t,result:e()}))[0],n=ne.useRef(!0),i=ne.useRef(r),s=n.current||!!(t&&i.current.inputs&&wye(t,i.current.inputs))?i.current:{inputs:t,result:e()};return ne.useEffect(()=>{n.current=!1,i.current=s},[s]),s.result}function aa(e,t){return hs(()=>e,t)}const Yf={x:0,y:0},Ad=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),am=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ab=(e,t)=>e.x===t.x&&e.y===t.y,TS=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Y_=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},w2=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Wae=(e,t)=>Math.min(...t.map(r=>w2(e,r))),xye=e=>t=>({x:e(t.x),y:e(t.y)});var Wqe=(e,t)=>{const r=Wg({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const IP=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Vae=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Vqe={top:0,right:0,bottom:0,left:0},Gqe=(e,t)=>t?IP(e,t.scroll.diff.displacement):e,Kqe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Zqe=(e,t)=>t&&t.shouldClipSubject?Wqe(t.pageMarginBox,e):Wg(e);var Lx=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const i=Gqe(e.marginBox,n),a=Kqe(i,r,t),s=Zqe(a,n);return{page:e,withPlaceholder:t,active:s}},LH=(e,t)=>{e.frame||si();const r=e.frame,n=am(t,r.scroll.initial),i=TS(n),a={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}},s=Lx({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function Kf(e,t=wye){let r=null;function n(...i){if(r&&r.lastThis===this&&t(i,r.lastArgs))return r.lastResult;const a=e.apply(this,i);return r={lastResult:a,lastArgs:i,lastThis:this},a}return n.clear=function(){r=null},n}const Sye=Kf(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Eye=Kf(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),FM=Kf(e=>Object.values(e)),Yqe=Kf(e=>Object.values(e));var RS=Kf((e,t)=>Yqe(t).filter(n=>e===n.descriptor.droppableId).sort((n,i)=>n.descriptor.index-i.descriptor.index));function NH(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function LM(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var NM=Kf((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Xqe=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:i})=>{if(!r.isCombineEnabled||!NH(i))return null;function s(m){const v={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return{...i,at:v}}const o=i.displaced.all,l=o.length?o[0]:null;if(e)return l?s(l):null;const u=NM(t,n);if(!l){if(!u.length)return null;const m=u[u.length-1];return s(m.descriptor.id)}const f=u.findIndex(m=>m.descriptor.id===l);f===-1&&si();const h=f-1;if(h<0)return null;const p=u[h];return s(p.descriptor.id)},AS=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Cye={point:Yf,value:0},x2={invisible:{},visible:{},all:[]},Jqe={displaced:x2,displacedBy:Cye,at:null};var Ym=(e,t)=>r=>e<=r&&r<=t,Pye=e=>{const t=Ym(e.top,e.bottom),r=Ym(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const a=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right);if(a&&s)return!0;const l=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right;return l&&u?!0:l&&s||u&&a}},Qqe=e=>{const t=Ym(e.top,e.bottom),r=Ym(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const $H={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Tye={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var eHe=e=>t=>{const r=Ym(t.top,t.bottom),n=Ym(t.left,t.right);return i=>e===$H?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)};const tHe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Yf;return IP(e,r)},rHe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,nHe=(e,t,r)=>r(t)(e),zH=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:i})=>{const a=n?tHe(e,t):e;return rHe(a,t,i)&&nHe(a,r,i)},iHe=e=>zH({...e,isVisibleThroughFrameFn:Pye}),Rye=e=>zH({...e,isVisibleThroughFrameFn:Qqe}),aHe=e=>zH({...e,isVisibleThroughFrameFn:eHe(e.destination.axis)}),oHe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:i}=t;if(n[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function sHe(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Wg(DH(r,n))}function S2({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:i,last:a}){return e.reduce(function(o,l){const u=sHe(l,r),f=l.descriptor.id;if(o.all.push(f),!iHe({target:u,destination:t,viewport:n,withDroppableDisplacement:!0}))return o.invisible[l.descriptor.id]=!0,o;const p=oHe(f,a,i),m={draggableId:f,shouldAnimate:p};return o.visible[f]=m,o},{all:[],visible:{},invisible:{}})}function lHe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Gae({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const i=lHe(e,{inHomeList:t});return{displaced:x2,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function dO({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:i,last:a,index:s,forceShouldAnimate:o}){const l=AS(e,r);if(s==null)return Gae({insideDestination:t,inHomeList:l,displacedBy:i,destination:r});const u=t.find(v=>v.descriptor.index===s);if(!u)return Gae({insideDestination:t,inHomeList:l,displacedBy:i,destination:r});const f=NM(e,t),h=t.indexOf(u),p=f.slice(h);return{displaced:S2({afterDragging:p,destination:r,displacedBy:i,last:a,viewport:n.frame,forceShouldAnimate:o}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function mb(e,t){return!!t.effected[e]}var uHe=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=n.draggableId,o=r[a].descriptor.index;return mb(a,i)?e?o:o-1:e?o+1:o},cHe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const i=n.index,a=e?i+1:i-1,s=r[0].descriptor.index,o=r[r.length-1].descriptor.index,l=t?o:o+1;return a<s||a>l?null:a},fHe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:i,insideDestination:a,previousImpact:s,viewport:o,afterCritical:l})=>{const u=s.at;if(u||si(),u.type==="REORDER"){const h=cHe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:a});return h==null?null:dO({draggable:r,insideDestination:a,destination:i,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:h})}const f=uHe({isMovingForward:e,destination:i,displaced:s.displaced,draggables:n,combine:u.combine,afterCritical:l});return f==null?null:dO({draggable:r,insideDestination:a,destination:i,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:f})},dHe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const i=!!(e.visible[r]||e.invisible[r]);return mb(r,t)?i?Yf:TS(n.point):i?n.point:Yf},hHe=({afterCritical:e,impact:t,draggables:r})=>{const n=LM(t);n||si();const i=n.draggableId,a=r[i].page.borderBox.center,s=dHe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Ad(a,s)};const Aye=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,pHe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,BH=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,Kae=({axis:e,moveRelativeTo:t,isMoving:r})=>Y_(e.line,t.marginBox[e.end]+Aye(e,r),BH(e,t.marginBox,r)),Zae=({axis:e,moveRelativeTo:t,isMoving:r})=>Y_(e.line,t.marginBox[e.start]-pHe(e,r),BH(e,t.marginBox,r)),mHe=({axis:e,moveInto:t,isMoving:r})=>Y_(e.line,t.contentBox[e.start]+Aye(e,r),BH(e,t.contentBox,r));var gHe=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i})=>{const a=RS(n.descriptor.id,r),s=t.page,o=n.axis;if(!a.length)return mHe({axis:o,moveInto:n.page,isMoving:s});const{displaced:l,displacedBy:u}=e,f=l.all[0];if(f){const p=r[f];if(mb(f,i))return Zae({axis:o,moveRelativeTo:p.page,isMoving:s});const m=lO(p.page,u.point);return Zae({axis:o,moveRelativeTo:m,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===t.descriptor.id)return s.borderBox.center;if(mb(h.descriptor.id,i)){const p=lO(h.page,TS(i.displacedBy.point));return Kae({axis:o,moveRelativeTo:p,isMoving:s})}return Kae({axis:o,moveRelativeTo:h.page,isMoving:s})},Wj=(e,t)=>{const r=e.frame;return r?Ad(t,r.scroll.diff.displacement):t};const vHe=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!r||!s?a:s.type==="REORDER"?gHe({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i}):hHe({impact:e,draggables:n,afterCritical:i})};var $M=e=>{const t=vHe(e),r=e.droppable;return r?Wj(r,t):t},Oye=(e,t)=>{const r=am(t,e.scroll.initial),n=TS(r);return{frame:Wg({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function Yae(e,t){return e.map(r=>t[r])}function yHe(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var bHe=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:i})=>{const a=Oye(t,Ad(t.scroll.current,i)),s=r.frame?LH(r,Ad(r.frame.scroll.current,i)):r,o=e.displaced,l=S2({afterDragging:Yae(o.all,n),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:o,forceShouldAnimate:!1}),u=S2({afterDragging:Yae(o.all,n),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:o,forceShouldAnimate:!1}),f={},h={},p=[o,l,u];return o.all.forEach(v=>{const w=yHe(v,p);if(w){h[v]=w;return}f[v]=!0}),{...e,displaced:{all:o.all,invisible:f,visible:h}}},_He=(e,t)=>Ad(e.scroll.diff.displacement,t),jH=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=_He(r,e),i=am(n,t.page.borderBox.center);return Ad(t.client.borderBox.center,i)},Iye=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=am(r,e.page.borderBox.center),l={target:IP(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:n};return a?aHe(l):Rye(l)},wHe=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:o,afterCritical:l})=>{if(!r.isEnabled)return null;const u=RS(r.descriptor.id,n),f=AS(t,r),h=Xqe({isMovingForward:e,draggable:t,destination:r,insideDestination:u,previousImpact:i})||fHe({isMovingForward:e,isInHomeList:f,draggable:t,draggables:n,destination:r,insideDestination:u,previousImpact:i,viewport:a,afterCritical:l});if(!h)return null;const p=$M({impact:h,draggable:t,droppable:r,draggables:n,afterCritical:l});if(Iye({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jH({pageBorderBoxCenter:p,draggable:t,viewport:a}),impact:h,scrollJumpRequest:null};const v=am(p,s),w=bHe({impact:h,viewport:a,destination:r,draggables:n,maxScrollChange:v});return{clientSelection:o,impact:w,scrollJumpRequest:v}};const Oh=e=>{const t=e.subject.active;return t||si(),t};var xHe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:i})=>{const a=r.subject.active;if(!a)return null;const s=r.axis,o=Ym(a[s.start],a[s.end]),l=FM(n).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>Pye(i.frame)(Oh(f))).filter(f=>{const h=Oh(f);return e?a[s.crossAxisEnd]<h[s.crossAxisEnd]:h[s.crossAxisStart]<a[s.crossAxisStart]}).filter(f=>{const h=Oh(f),p=Ym(h[s.start],h[s.end]);return o(h[s.start])||o(h[s.end])||p(a[s.start])||p(a[s.end])}).sort((f,h)=>{const p=Oh(f)[s.crossAxisStart],m=Oh(h)[s.crossAxisStart];return e?p-m:m-p}).filter((f,h,p)=>Oh(f)[s.crossAxisStart]===Oh(p[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(f=>Ym(Oh(f)[s.start],Oh(f)[s.end])(t[s.line]));return u.length===1?u[0]:u.length>1?u.sort((f,h)=>Oh(f)[s.start]-Oh(h)[s.start])[0]:l.sort((f,h)=>{const p=Wae(t,Vae(Oh(f))),m=Wae(t,Vae(Oh(h)));return p!==m?p-m:Oh(f)[s.start]-Oh(h)[s.start]})[0]};const Xae=(e,t)=>{const r=e.page.borderBox.center;return mb(e.descriptor.id,t)?am(r,t.displacedBy.point):r},SHe=(e,t)=>{const r=e.page.borderBox;return mb(e.descriptor.id,t)?IP(r,TS(t.displacedBy.point)):r};var EHe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:i})=>n.filter(s=>Rye({target:SHe(s,i),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,o)=>{const l=w2(e,Wj(r,Xae(s,i))),u=w2(e,Wj(r,Xae(o,i)));return l<u?-1:u<l?1:s.descriptor.index-o.descriptor.index})[0]||null,MP=Kf(function(t,r){const n=r[t.line];return{value:n,point:Y_(t.line,n)}});const CHe=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Y_(n.line,t[n.line]);const i=e.subject.page.contentBox[n.size],l=RS(e.descriptor.id,r).reduce((u,f)=>u+f.client.marginBox[n.size],0)+t[n.line]-i;return l<=0?null:Y_(n.line,l)},Mye=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),kye=(e,t,r)=>{const n=e.frame;AS(t,e)&&si(),e.subject.withPlaceholder&&si();const i=MP(e.axis,t.displaceBy).point,a=CHe(e,i,r),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const f=Lx({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const o=a?Ad(n.scroll.max,a):n.scroll.max,l=Mye(n,o),u=Lx({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},PHe=e=>{const t=e.subject.withPlaceholder;t||si();const r=e.frame;if(!r){const s=Lx({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const n=t.oldFrameMaxScroll;n||si();const i=Mye(r,n),a=Lx({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var THe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:i,destination:a,viewport:s,afterCritical:o})=>{if(!t){if(r.length)return null;const h={displaced:x2,displacedBy:Cye,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},p=$M({impact:h,draggable:n,droppable:a,draggables:i,afterCritical:o}),m=AS(n,a)?a:kye(a,n,i);return Iye({draggable:n,destination:m,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],u=(()=>{const h=t.descriptor.index;return t.descriptor.id===n.descriptor.id||l?h:h+1})(),f=MP(a.axis,n.displaceBy);return dO({draggable:n,insideDestination:r,destination:a,viewport:s,displacedBy:f,last:x2,index:u})},RHe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:i,droppables:a,viewport:s,afterCritical:o})=>{const l=xHe({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:a,viewport:s});if(!l)return null;const u=RS(l.descriptor.id,i),f=EHe({pageBorderBoxCenter:t,viewport:s,destination:l,insideDestination:u,afterCritical:o}),h=THe({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:i,moveRelativeTo:f,insideDestination:u,viewport:s,afterCritical:o});if(!h)return null;const p=$M({impact:h,draggable:r,droppable:l,draggables:i,afterCritical:o});return{clientSelection:jH({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},lm=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const AHe=(e,t)=>{const r=lm(e);return r?t[r]:null};var OHe=({state:e,type:t})=>{const r=AHe(e.impact,e.dimensions.droppables),n=!!r,i=e.dimensions.droppables[e.critical.droppable.id],a=r||i,s=a.axis.direction,o=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(o&&!n)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:h,droppables:p}=e.dimensions;return o?wHe({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:u,destination:a,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):RHe({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:u,isOver:a,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function y_(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Dye(e){const t=Ym(e.top,e.bottom),r=Ym(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function IHe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function MHe({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,i=r.map(a=>{const s=a.axis,o=Y_(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:w2(n,o)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function kHe({pageBorderBox:e,draggable:t,droppables:r}){const n=FM(r).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!IHe(e,a))return!1;if(Dye(a)(e.center))return!0;const s=i.axis,o=a.center[s.crossAxisLine],l=e[s.crossAxisStart],u=e[s.crossAxisEnd],f=Ym(a[s.crossAxisStart],a[s.crossAxisEnd]),h=f(l),p=f(u);return!h&&!p?!0:h?l<o:u>o});return n.length?n.length===1?n[0].descriptor.id:MHe({pageBorderBox:e,draggable:t,candidates:n}):null}const Fye=(e,t)=>Wg(IP(e,t));var DHe=(e,t)=>{const r=e.frame;return r?Fye(t,r.scroll.diff.value):t};function Lye({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function FHe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var LHe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:i,viewport:a,afterCritical:s})=>{const o=r.axis,l=MP(r.axis,t.displaceBy),u=l.value,f=e[o.start],h=e[o.end],m=NM(t,n).find(w=>{const x=w.descriptor.id,T=w.page.borderBox.center[o.line],A=mb(x,s),P=Lye({displaced:i,id:x});return A?P?h<=T:f<T-u:P?h<=T+u:f<T})||null,v=FHe({draggable:t,closest:m,inHomeList:AS(t,r)});return dO({draggable:t,insideDestination:n,destination:r,viewport:a,last:i,displacedBy:l,index:v})};const NHe=4;var $He=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:i,afterCritical:a})=>{if(!n.isCombineEnabled)return null;const s=n.axis,o=MP(n.axis,e.displaceBy),l=o.value,u=t[s.start],f=t[s.end],p=NM(e,i).find(v=>{const w=v.descriptor.id,x=v.page.borderBox,A=x[s.size]/NHe,P=mb(w,a),S=Lye({displaced:r.displaced,id:w});return P?S?f>x[s.start]+A&&f<x[s.end]-A:u>x[s.start]-l+A&&u<x[s.end]-l-A:S?f>x[s.start]+l+A&&f<x[s.end]+l-A:u>x[s.start]+A&&u<x[s.end]-A});return p?{displacedBy:o,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:n.descriptor.id}}}:null},Nye=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:i,viewport:a,afterCritical:s})=>{const o=Fye(t.page.borderBox,e),l=kHe({pageBorderBox:o,draggable:t,droppables:n});if(!l)return Jqe;const u=n[l],f=RS(u.descriptor.id,r),h=DHe(u,o);return $He({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:i,destination:u,insideDestination:f,afterCritical:s})||LHe({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:u,insideDestination:f,last:i.displaced,viewport:a,afterCritical:s})},UH=(e,t)=>({...e,[t.descriptor.id]:t});const zHe=({previousImpact:e,impact:t,droppables:r})=>{const n=lm(e),i=lm(t);if(!n||n===i)return r;const a=r[n];if(!a.subject.withPlaceholder)return r;const s=PHe(a);return UH(r,s)};var BHe=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:i})=>{const a=zHe({previousImpact:n,impact:i,droppables:r}),s=lm(i);if(!s)return a;const o=r[s];if(AS(e,o)||o.subject.withPlaceholder)return a;const l=kye(o,e,t);return UH(a,l)},NC=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:i,scrollJumpRequest:a})=>{const s=n||e.viewport,o=r||e.dimensions,l=t||e.current.client.selection,u=am(l,e.initial.client.selection),f={offset:u,selection:l,borderBoxCenter:Ad(e.initial.client.borderBoxCenter,u)},h={selection:Ad(f.selection,s.scroll.current),borderBoxCenter:Ad(f.borderBoxCenter,s.scroll.current),offset:Ad(f.offset,s.scroll.diff.value)},p={client:f,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:o,viewport:s,current:p};const m=o.draggables[e.critical.draggable.id],v=i||Nye({pageOffset:h.offset,draggable:m,draggables:o.draggables,droppables:o.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=BHe({draggable:m,impact:v,previousImpact:e.impact,draggables:o.draggables,droppables:o.droppables});return{...e,current:p,dimensions:{draggables:o.draggables,droppables:w},impact:v,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function jHe(e,t){return e.map(r=>t[r])}var $ye=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:i})=>{const a=e.displaced,s=jHe(a.all,r),o=S2({afterDragging:s,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:o}},zye=({impact:e,draggable:t,droppable:r,draggables:n,viewport:i,afterCritical:a})=>{const s=$M({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a});return jH({pageBorderBoxCenter:s,draggable:t,viewport:i})},Bye=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&si();const n=e.impact,i=r||e.viewport,a=t||e.dimensions,{draggables:s,droppables:o}=a,l=s[e.critical.draggable.id],u=lm(n);u||si();const f=o[u],h=$ye({impact:n,viewport:i,destination:f,draggables:s}),p=zye({impact:h,draggable:l,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return NC({impact:h,clientSelection:p,state:e,dimensions:a,viewport:i})},UHe=e=>({index:e.index,droppableId:e.droppableId}),jye=({draggable:e,home:t,draggables:r,viewport:n})=>{const i=MP(t.axis,e.displaceBy),a=RS(t.descriptor.id,r),s=a.indexOf(e);s===-1&&si();const o=a.slice(s+1),l=o.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:S2({afterDragging:o,destination:t,displacedBy:i,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:UHe(e.descriptor)}},afterCritical:u}},qHe=(e,t)=>({draggables:e.draggables,droppables:UH(e.droppables,t)}),HHe=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=lO(e.client,t),i=uO(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:i}},WHe=e=>{const t=e.frame;return t||si(),t},VHe=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],l=WHe(s).scroll.diff.value,u=Ad(n,l);return HHe({draggable:i,offset:u,initialWindowScroll:r.scroll.initial})})},GHe=({state:e,published:t})=>{const r=t.modified.map(T=>{const A=e.dimensions.droppables[T.droppableId];return LH(A,T.scroll)}),n={...e.dimensions.droppables,...Sye(r)},i=Eye(VHe({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const s={droppables:n,draggables:a},o=lm(e.impact),l=o?s.droppables[o]:null,u=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:h,afterCritical:p}=jye({draggable:u,home:f,draggables:a,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:h,v=Nye({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),w={...e,phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Vj=e=>e.movementMode==="SNAP",mz=(e,t,r)=>{const n=qHe(e.dimensions,t);return!Vj(e)||r?NC({state:e,dimensions:n}):Bye({state:e,dimensions:n})};function gz(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Jae={phase:"IDLE",completed:null,shouldFlush:!1};var KHe=(e=Jae,t)=>{if(t.type==="FLUSH")return{...Jae,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&si();const{critical:r,clientSelection:n,viewport:i,dimensions:a,movementMode:s}=t.payload,o=a.draggables[r.draggable.id],l=a.droppables[r.droppable.id],u={selection:n,borderBoxCenter:o.client.borderBox.center,offset:Yf},f={client:u,page:{selection:Ad(u.selection,i.scroll.initial),borderBoxCenter:Ad(u.selection,i.scroll.initial),offset:Ad(u.selection,i.scroll.diff.value)}},h=FM(a.droppables).every(w=>!w.isFixedOnPage),{impact:p,afterCritical:m}=jye({draggable:o,home:l,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:f,current:f,isWindowScrollAllowed:h,impact:p,afterCritical:m,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&si(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||si(),GHe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;y_(e)||si();const{client:r}=t.payload;return ab(r,e.current.client.selection)?e:NC({state:e,clientSelection:r,impact:Vj(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return gz(e);y_(e)||si();const{id:r,newScroll:n}=t.payload,i=e.dimensions.droppables[r];if(!i)return e;const a=LH(i,n);return mz(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;y_(e)||si();const{id:r,isEnabled:n}=t.payload,i=e.dimensions.droppables[r];i||si(),i.isEnabled===n&&si();const a={...i,isEnabled:n};return mz(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;y_(e)||si();const{id:r,isCombineEnabled:n}=t.payload,i=e.dimensions.droppables[r];i||si(),i.isCombineEnabled===n&&si();const a={...i,isCombineEnabled:n};return mz(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;y_(e)||si(),e.isWindowScrollAllowed||si();const r=t.payload.newScroll;if(ab(e.viewport.scroll.current,r))return gz(e);const n=Oye(e.viewport,r);return Vj(e)?Bye({state:e,viewport:n}):NC({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!y_(e))return e;const r=t.payload.maxScroll;if(ab(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&si();const r=OHe({state:e,type:t.type});return r?NC({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&si(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||si(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Us(e,t){return e instanceof Object&&"type"in e&&e.type===t}const ZHe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),YHe=e=>({type:"LIFT",payload:e}),XHe=e=>({type:"INITIAL_PUBLISH",payload:e}),JHe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),QHe=()=>({type:"COLLECTION_STARTING",payload:null}),eWe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),tWe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),rWe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Uye=e=>({type:"MOVE",payload:e}),nWe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),iWe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),aWe=()=>({type:"MOVE_UP",payload:null}),oWe=()=>({type:"MOVE_DOWN",payload:null}),sWe=()=>({type:"MOVE_RIGHT",payload:null}),lWe=()=>({type:"MOVE_LEFT",payload:null}),qH=()=>({type:"FLUSH",payload:null}),uWe=e=>({type:"DROP_ANIMATE",payload:e}),HH=e=>({type:"DROP_COMPLETE",payload:e}),qye=e=>({type:"DROP",payload:e}),cWe=e=>({type:"DROP_PENDING",payload:e}),Hye=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var fWe=e=>({getState:t,dispatch:r})=>n=>i=>{if(!Us(i,"LIFT")){n(i);return}const{id:a,clientSelection:s,movementMode:o}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&r(HH({completed:l.completed})),t().phase!=="IDLE"&&si(),r(qH()),r(ZHe({draggableId:a,movementMode:o}));const f={draggableId:a,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:h,dimensions:p,viewport:m}=e.startPublishing(f);r(XHe({critical:h,dimensions:p,clientSelection:s,movementMode:o,viewport:m}))},dWe=e=>()=>t=>r=>{Us(r,"INITIAL_PUBLISH")&&e.dragging(),Us(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Us(r,"FLUSH")||Us(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const WH={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},E2={opacity:{drop:0,combining:.7},scale:{drop:.75}},Wye={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},g_=`${Wye.outOfTheWay}s ${WH.outOfTheWay}`,$C={fluid:`opacity ${g_}`,snap:`transform ${g_}, opacity ${g_}`,drop:e=>{const t=`${e}s ${WH.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${g_}`,placeholder:`height ${g_}, width ${g_}, margin ${g_}`},Qae=e=>ab(e,Yf)?void 0:`translate(${e.x}px, ${e.y}px)`,Gj={moveTo:Qae,drop:(e,t)=>{const r=Qae(e);if(r)return t?`${r} scale(${E2.scale.drop})`:r}},{minDropTime:Kj,maxDropTime:Vye}=Wye,hWe=Vye-Kj,eoe=1500,pWe=.6;var mWe=({current:e,destination:t,reason:r})=>{const n=w2(e,t);if(n<=0)return Kj;if(n>=eoe)return Vye;const i=n/eoe,a=Kj+hWe*i,s=r==="CANCEL"?a*pWe:a;return Number(s.toFixed(2))},gWe=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:i})=>{const{draggables:a,droppables:s}=r,o=lm(e),l=o?s[o]:null,u=s[t.descriptor.droppableId],f=zye({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:l||u,viewport:n});return am(f,t.client.borderBox.center)},vWe=({draggables:e,reason:t,lastImpact:r,home:n,viewport:i,onLiftImpact:a})=>!r.at||t!=="DROP"?{impact:$ye({draggables:e,impact:a,destination:n,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:x2},didDropInsideDroppable:!0};const yWe=({getState:e,dispatch:t})=>r=>n=>{if(!Us(n,"DROP")){r(n);return}const i=e(),a=n.payload.reason;if(i.phase==="COLLECTING"){t(cWe({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&si(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||si();const o=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:h}=vWe({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h?NH(f):null,m=h?LM(f):null,v={index:o.draggable.index,droppableId:o.droppable.id},w={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:a,mode:i.movementMode,destination:p,combine:m},x=gWe({impact:f,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f};if(!(!ab(i.current.client.offset,x)||!!w.combine)){t(HH({completed:T}));return}const P=mWe({current:i.current.client.offset,destination:x,reason:a});t(uWe({newHomeClientOffset:x,dropDuration:P,completed:T}))};var Gye=()=>({x:window.pageXOffset,y:window.pageYOffset});function bWe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function _We({onWindowScroll:e}){function t(){e(Gye())}const r=_2(t),n=bWe(r);let i=ib;function a(){return i!==ib}function s(){a()&&si(),i=Hm(window,[n])}function o(){a()||si(),r.cancel(),i(),i=ib}return{start:s,stop:o,isActive:a}}const wWe=e=>Us(e,"DROP_COMPLETE")||Us(e,"DROP_ANIMATE")||Us(e,"FLUSH"),xWe=e=>{const t=_We({onWindowScroll:r=>{e.dispatch(nWe({newScroll:r}))}});return r=>n=>{!t.isActive()&&Us(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&wWe(n)&&t.stop(),r(n)}};var SWe=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),i=a=>{t||r||(t=!0,e(a),clearTimeout(n))};return i.wasCalled=()=>t,i},EWe=()=>{const e=[],t=i=>{const a=e.findIndex(o=>o.timerId===i);a===-1&&si();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const CWe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,PWe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,TWe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},KE=(e,t)=>{t()},xR=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function vz(e,t,r,n){if(!e){r(n(t));return}const i=SWe(r);e(t,{announce:i}),i.wasCalled()||r(n(t))}var RWe=(e,t)=>{const r=EWe();let n=null;const i=(h,p)=>{n&&si(),KE("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:h,mode:p})})},a=(h,p)=>{n&&si(),KE("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(xR(h,p))})},s=(h,p)=>{n&&si();const m=xR(h,p);n={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},r.add(()=>{KE("onDragStart",()=>vz(e().onDragStart,m,t,TA.onDragStart))})},o=(h,p)=>{const m=NH(p),v=LM(p);n||si();const w=!TWe(h,n.lastCritical);w&&(n.lastCritical=h);const x=!CWe(n.lastLocation,m);x&&(n.lastLocation=m);const T=!PWe(n.lastCombine,v);if(T&&(n.lastCombine=v),!w&&!x&&!T)return;const A={...xR(h,n.mode),combine:v,destination:m};r.add(()=>{KE("onDragUpdate",()=>vz(e().onDragUpdate,A,t,TA.onDragUpdate))})},l=()=>{n||si(),r.flush()},u=h=>{n||si(),n=null,KE("onDragEnd",()=>vz(e().onDragEnd,h,t,TA.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:o,flush:l,drop:u,abort:()=>{if(!n)return;const h={...xR(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},AWe=(e,t)=>{const r=RWe(e,t);return n=>i=>a=>{if(Us(a,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Us(a,"INITIAL_PUBLISH")){const o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),i(a),r.start(o,a.payload.movementMode);return}if(Us(a,"DROP_COMPLETE")){const o=a.payload.completed.result;r.flush(),i(a),r.drop(o);return}if(i(a),Us(a,"FLUSH")){r.abort();return}const s=n.getState();s.phase==="DRAGGING"&&r.update(s.critical,s.impact)}};const OWe=e=>t=>r=>{if(!Us(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&si(),e.dispatch(HH({completed:n.completed}))},IWe=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return i=>a=>{if((Us(a,"FLUSH")||Us(a,"DROP_COMPLETE")||Us(a,"DROP_ANIMATION_FINISHED"))&&n(),i(a),!Us(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Hye())}};r=requestAnimationFrame(()=>{r=null,t=Hm(window,[s])})}};var MWe=e=>()=>t=>r=>{(Us(r,"DROP_COMPLETE")||Us(r,"FLUSH")||Us(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},kWe=e=>{let t=!1;return()=>r=>n=>{if(Us(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(Us(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Us(n,"DROP_COMPLETE")){t=!1;const i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const DWe=e=>Us(e,"DROP_COMPLETE")||Us(e,"DROP_ANIMATE")||Us(e,"FLUSH");var FWe=e=>t=>r=>n=>{if(DWe(n)){e.stop(),r(n);return}if(Us(n,"INITIAL_PUBLISH")){r(n);const i=t.getState();i.phase!=="DRAGGING"&&si(),e.start(i);return}r(n),e.scroll(t.getState())};const LWe=e=>t=>r=>{if(t(r),!Us(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(qye({reason:n.reason})))},NWe=mye;var $We=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:i,autoScroller:a})=>pye(KHe,NWe(Mqe(dWe(r),MWe(e),fWe(e),yWe,OWe,IWe,LWe,FWe(a),xWe,kWe(t),AWe(n,i))));const yz=()=>({additions:{},removals:{},modified:{}});function zWe({registry:e,callbacks:t}){let r=yz(),n=null;const i=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:u,modified:f}=r,h=Object.keys(l).map(v=>e.draggable.getById(v).getDimension(Yf)).sort((v,w)=>v.descriptor.index-w.descriptor.index),p=Object.keys(f).map(v=>{const x=e.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:x}}),m={additions:h,removals:Object.keys(u),modified:p};r=yz(),t.publish(m)}))};return{add:l=>{const u=l.descriptor.id;r.additions[u]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[u]&&delete r.removals[u],i()},remove:l=>{const u=l.descriptor;r.removals[u.id]=!0,r.modified[u.droppableId]=!0,r.additions[u.id]&&delete r.additions[u.id],i()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=yz())}}}var Kye=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const i=am({x:t,y:e},{x:n,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Zye=()=>{const e=document.documentElement;return e||si(),e},Yye=()=>{const e=Zye();return Kye({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},BWe=()=>{const e=Gye(),t=Yye(),r=e.y,n=e.x,i=Zye(),a=i.clientWidth,s=i.clientHeight,o=n+a,l=r+s;return{frame:Wg({top:r,left:n,right:o,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Yf,displacement:Yf}}}},jWe=({critical:e,scrollOptions:t,registry:r})=>{const n=BWe(),i=n.scroll.current,a=e.droppable,s=r.droppable.getAllByType(a.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),o=r.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:Eye(o),droppables:Sye(s)},critical:e,viewport:n}};function toe(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var UWe=(e,t)=>{let r=null;const n=zWe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,m)=>{e.droppable.exists(p)||si(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},a=(p,m)=>{r&&(e.droppable.exists(p)||si(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},s=(p,m)=>{r&&(e.droppable.exists(p)||si(),t.updateDroppableScroll({id:p,newScroll:m}))},o=(p,m)=>{r&&e.droppable.getById(p).callbacks.scroll(m)},l=()=>{if(!r)return;n.stop();const p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),r.unsubscribe(),r=null},u=p=>{r||si();const m=r.critical.draggable;p.type==="ADDITION"&&toe(e,m,p.value)&&n.add(p.value),p.type==="REMOVAL"&&toe(e,m,p.value)&&n.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:o,updateDroppableScroll:s,startPublishing:p=>{r&&si();const m=e.draggable.getById(p.draggableId),v=e.droppable.getById(m.descriptor.droppableId),w={draggable:m.descriptor,droppable:v.descriptor},x=e.subscribe(u);return r={critical:w,unsubscribe:x},jWe({critical:w,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},Xye=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",qWe=e=>{window.scrollBy(e.x,e.y)};const HWe=Kf(e=>FM(e).filter(t=>!(!t.isEnabled||!t.frame))),WWe=(e,t)=>HWe(t).find(n=>(n.frame||si(),Dye(n.frame.pageMarginBox)(e)))||null;var VWe=({center:e,destination:t,droppables:r})=>{if(t){const i=r[t];return i.frame?i:null}return WWe(e,r)};const C2={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var GWe=(e,t,r=()=>C2)=>{const n=r(),i=e[t.size]*n.startFromPercentage,a=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},Jye=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},VH=1,KWe=(e,t,r=()=>C2)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return VH;const a=1-Jye({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=n.maxPixelScroll*n.ease(a);return Math.ceil(s)},ZWe=(e,t,r)=>{const n=r(),i=n.durationDampening.accelerateAt,a=n.durationDampening.stopDampeningAt,s=t,o=a,u=Date.now()-s;if(u>=a)return e;if(u<i)return VH;const f=Jye({startOfRange:i,endOfRange:o,current:u}),h=e*n.ease(f);return Math.ceil(h)},roe=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const a=KWe(e,t,i);return a===0?0:n?Math.max(ZWe(a,r,i),VH):a},noe=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=GWe(e,n,a);return t[n.end]<t[n.start]?roe({distanceToEdge:t[n.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*roe({distanceToEdge:t[n.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},YWe=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,i=t.width>e.width;return!i&&!n?r:i&&n?null:{x:i?0:r.x,y:n?0:r.y}};const XWe=xye(e=>e===0?0:e);var Qye=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},o=noe({container:t,distanceToEdges:s,dragStartTime:e,axis:$H,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),l=noe({container:t,distanceToEdges:s,dragStartTime:e,axis:Tye,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=XWe({x:l,y:o});if(ab(u,Yf))return null;const f=YWe({container:t,subject:r,proposedScroll:u});return f?ab(f,Yf)?null:f:null};const JWe=xye(e=>e===0?0:e>0?1:-1),GH=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const i=Ad(t,n),a={x:e(i.x,r.x),y:e(i.y,r.y)};return ab(a,Yf)?null:a}})(),e0e=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=JWe(r),a=GH({max:n,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},KH=(e,t)=>e0e({current:e.scroll.current,max:e.scroll.max,change:t}),QWe=(e,t)=>{if(!KH(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return GH({current:n,max:r,change:t})},ZH=(e,t)=>{const r=e.frame;return r?e0e({current:r.scroll.current,max:r.scroll.max,change:t}):!1},eVe=(e,t)=>{const r=e.frame;return!r||!ZH(e,t)?null:GH({current:r.scroll.current,max:r.scroll.max,change:t})};var tVe=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=Qye({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&KH(e,s)?s:null},rVe=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const o=Qye({dragStartTime:n,container:s.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&ZH(e,o)?o:null},ioe=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,p=tVe({dragStartTime:t,viewport:h,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(p){n(p);return}}const u=VWe({center:s,destination:lm(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=rVe({dragStartTime:t,droppable:u,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});f&&i(u.descriptor.id,f)},nVe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>C2})=>{const n=_2(e),i=_2(t);let a=null;const s=u=>{a||si();const{shouldUseTimeDampening:f,dragStartTime:h}=a;ioe({state:u,scrollWindow:n,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:u=>{a&&si();const f=Date.now();let h=!1;const p=()=>{h=!0};ioe({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:r}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&s(u)},stop:()=>{a&&(n.cancel(),i.cancel(),a=null)},scroll:s}},iVe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(o,l)=>{const u=Ad(o.current.client.selection,l);e({client:u})},i=(o,l)=>{if(!ZH(o,l))return l;const u=eVe(o,l);if(!u)return t(o.descriptor.id,l),null;const f=am(l,u);return t(o.descriptor.id,f),am(l,f)},a=(o,l,u)=>{if(!o||!KH(l,u))return u;const f=QWe(l,u);if(!f)return r(u),null;const h=am(u,f);return r(h),am(u,h)};return o=>{const l=o.scrollJumpRequest;if(!l)return;const u=lm(o.impact);u||si();const f=i(o.dimensions.droppables[u],l);if(!f)return;const h=o.viewport,p=a(o.isWindowScrollAllowed,h,f);p&&n(o,p)}},aVe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const i=nVe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),a=iVe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&a(l)}},start:i.start,stop:i.stop}};const Nx="data-rfd",$x=(()=>{const e=`${Nx}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Zj=(()=>{const e=`${Nx}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),oVe=(()=>{const e=`${Nx}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),aoe={contextId:`${Nx}-scroll-container-context-id`},sVe=e=>t=>`[${t}="${e}"]`,ZE=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),lVe="pointer-events: none;";var uVe=e=>{const t=sVe(e),r=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t($x.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:lVe,dropAnimating:o}}})(),n=(()=>{const o=`
      transition: ${$C.outOfTheWay};
    `;return{selector:t(Zj.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),i={selector:t(oVe.contextId),styles:{always:"overflow-anchor: none;"}},s=[n,r,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ZE(s,"always"),resting:ZE(s,"resting"),dragging:ZE(s,"dragging"),dropAnimating:ZE(s,"dropAnimating"),userCancel:ZE(s,"userCancel")}};const um=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ne.useLayoutEffect:ne.useEffect,bz=()=>{const e=document.querySelector("head");return e||si(),e},ooe=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function cVe(e,t){const r=hs(()=>uVe(e),[e]),n=ne.useRef(null),i=ne.useRef(null),a=aa(Kf(h=>{const p=i.current;p||si(),p.textContent=h}),[]),s=aa(h=>{const p=n.current;p||si(),p.textContent=h},[]);um(()=>{!n.current&&!i.current||si();const h=ooe(t),p=ooe(t);return n.current=h,i.current=p,h.setAttribute(`${Nx}-always`,e),p.setAttribute(`${Nx}-dynamic`,e),bz().appendChild(h),bz().appendChild(p),s(r.always),a(r.resting),()=>{const m=v=>{const w=v.current;w||si(),bz().removeChild(w),v.current=null};m(n),m(i)}},[t,s,a,r.always,r.resting,e]);const o=aa(()=>a(r.dragging),[a,r.dragging]),l=aa(h=>{if(h==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=aa(()=>{i.current&&a(r.resting)},[a,r.resting]);return hs(()=>({dragging:o,dropping:l,resting:u}),[o,l,u])}function t0e(e,t){return Array.from(e.querySelectorAll(t))}var r0e=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function zM(e){return e instanceof r0e(e).HTMLElement}function fVe(e,t){const r=`[${$x.contextId}="${e}"]`,n=t0e(document,r);if(!n.length)return null;const i=n.find(a=>a.getAttribute($x.draggableId)===t);return!i||!zM(i)?null:i}function dVe(e){const t=ne.useRef({}),r=ne.useRef(null),n=ne.useRef(null),i=ne.useRef(!1),a=aa(function(p,m){const v={id:p,focus:m};return t.current[p]=v,function(){const x=t.current;x[p]!==v&&delete x[p]}},[]),s=aa(function(p){const m=fVe(e,p);m&&m!==document.activeElement&&m.focus()},[e]),o=aa(function(p,m){r.current===p&&(r.current=m)},[]),l=aa(function(){n.current||i.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const p=r.current;p&&s(p)}))},[s]),u=aa(function(p){r.current=null;const m=document.activeElement;m&&m.getAttribute($x.draggableId)===p&&(r.current=p)},[]);return um(()=>(i.current=!0,function(){i.current=!1;const p=n.current;p&&cancelAnimationFrame(p)}),[]),hs(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:o}),[a,u,l,o])}function hVe(){const e={draggables:{},droppables:{}},t=[];function r(h){return t.push(h),function(){const m=t.indexOf(h);m!==-1&&t.splice(m,1)}}function n(h){t.length&&t.forEach(p=>p(h))}function i(h){return e.draggables[h]||null}function a(h){const p=i(h);return p||si(),p}const s={register:h=>{e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:(h,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,m=i(p);m&&h.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[h.descriptor.droppableId]&&n({type:"REMOVAL",value:h}))},getById:a,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(e.draggables).filter(p=>p.descriptor.type===h)};function o(h){return e.droppables[h]||null}function l(h){const p=o(h);return p||si(),p}const u={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const p=o(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:l,findById:o,exists:h=>!!o(h),getAllByType:h=>Object.values(e.droppables).filter(p=>p.descriptor.type===h)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:r,clean:f}}function pVe(){const e=hs(hVe,[]);return ne.useEffect(()=>function(){e.clean()},[e]),e}var YH=ze.createContext(null),hO=()=>{const e=document.body;return e||si(),e};const mVe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},gVe=e=>`rfd-announcement-${e}`;function vVe(e){const t=hs(()=>gVe(e),[e]),r=ne.useRef(null);return ne.useEffect(function(){const a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Pu(a.style,mVe),hO().appendChild(a),function(){setTimeout(function(){const l=hO();l.contains(a)&&l.removeChild(a),a===r.current&&(r.current=null)})}},[t]),aa(i=>{const a=r.current;if(a){a.textContent=i;return}},[])}const yVe={separator:"::"};function XH(e,t=yVe){const r=ze.useId();return hs(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function bVe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function _Ve({contextId:e,text:t}){const r=XH("hidden-text",{separator:"-"}),n=hs(()=>bVe({contextId:e,uniqueId:r}),[r,e]);return ne.useEffect(function(){const a=document.createElement("div");return a.id=n,a.textContent=t,a.style.display="none",hO().appendChild(a),function(){const o=hO();o.contains(a)&&o.removeChild(a)}},[n,t]),n}var BM=ze.createContext(null);function n0e(e){const t=ne.useRef(e);return ne.useEffect(()=>{t.current=e}),t}function wVe(){let e=null;function t(){return!!e}function r(s){return s===e}function n(s){e&&si();const o={abandon:s};return e=o,o}function i(){e||si(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:a}}function P2(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const xVe=9,SVe=13,JH=27,i0e=32,EVe=33,CVe=34,PVe=35,TVe=36,RVe=37,AVe=38,OVe=39,IVe=40,MVe={[SVe]:!0,[xVe]:!0};var a0e=e=>{MVe[e.keyCode]&&e.preventDefault()};const jM=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),o0e=0,soe=5;function kVe(e,t){return Math.abs(t.x-e.x)>=soe||Math.abs(t.y-e.y)>=soe}const loe={type:"IDLE"};function DVe({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:o}=i;if(a!==o0e)return;const l={x:s,y:o},u=r();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&si();const f=u.point;if(!kVe(f,l))return;i.preventDefault();const h=u.actions.fluidLift(l);n({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const a=r();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{r().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(r().type==="PENDING"){e();return}if(i.keyCode===JH){i.preventDefault(),e();return}a0e(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=r();if(a.type==="IDLE"&&si(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:jM,fn:e}]}function FVe(e){const t=ne.useRef(loe),r=ne.useRef(ib),n=hs(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==o0e||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=e.findClosestDraggableId(h);if(!p)return;const m=e.tryGetLock(p,s,{sourceEvent:h});if(!m)return;h.preventDefault();const v={x:h.clientX,y:h.clientY};r.current(),u(m,v)}}),[e]),i=hs(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const h=e.findClosestDraggableId(f);if(!h)return;const p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}),[e]),a=aa(function(){const h={passive:!1,capture:!0};r.current=Hm(window,[i,n],h)},[i,n]),s=aa(()=>{t.current.type!=="IDLE"&&(t.current=loe,r.current(),a())},[a]),o=aa(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),l=aa(function(){const h={capture:!0,passive:!1},p=DVe({cancel:o,completed:s,getPhase:()=>t.current,setPhase:m=>{t.current=m}});r.current=Hm(window,p,h)},[o,s]),u=aa(function(h,p){t.current.type!=="IDLE"&&si(),t.current={type:"PENDING",point:p,actions:h},l()},[l]);um(function(){return a(),function(){r.current()}},[a])}function LVe(){}const NVe={[CVe]:!0,[EVe]:!0,[TVe]:!0,[PVe]:!0};function $Ve(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===JH){i.preventDefault(),r();return}if(i.keyCode===i0e){i.preventDefault(),n();return}if(i.keyCode===IVe){i.preventDefault(),e.moveDown();return}if(i.keyCode===AVe){i.preventDefault(),e.moveUp();return}if(i.keyCode===OVe){i.preventDefault(),e.moveRight();return}if(i.keyCode===RVe){i.preventDefault(),e.moveLeft();return}if(NVe[i.keyCode]){i.preventDefault();return}a0e(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:jM,fn:r}]}function zVe(e){const t=ne.useRef(LVe),r=hs(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==i0e)return;const s=e.findClosestDraggableId(a);if(!s)return;const o=e.tryGetLock(s,f,{sourceEvent:a});if(!o)return;a.preventDefault();let l=!0;const u=o.snapLift();t.current();function f(){l||si(),l=!1,t.current(),n()}t.current=Hm(window,$Ve(u,f),{capture:!0,passive:!1})}}),[e]),n=aa(function(){const a={passive:!1,capture:!0};t.current=Hm(window,[r],a)},[r]);um(function(){return n(),function(){t.current()}},[n])}const _z={type:"IDLE"},BVe=120,jVe=.15;function UVe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===JH&&r.preventDefault(),e()}},{eventName:jM,fn:e}]}function qVe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const i=r();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=n.touches[0],o={x:a,y:s};n.preventDefault(),i.actions.move(o)}},{eventName:"touchend",fn:n=>{const i=r();if(i.type!=="DRAGGING"){e();return}n.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const i=r();i.type==="IDLE"&&si();const a=n.touches[0];if(!a||!(a.force>=jVe))return;const o=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){o&&e();return}if(o){if(i.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:jM,fn:e}]}function HVe(e){const t=ne.useRef(_z),r=ne.useRef(ib),n=aa(function(){return t.current},[]),i=aa(function(m){t.current=m},[]),a=hs(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const v=e.findClosestDraggableId(m);if(!v)return;const w=e.tryGetLock(v,o,{sourceEvent:m});if(!w)return;const x=m.touches[0],{clientX:T,clientY:A}=x,P={x:T,y:A};r.current(),h(w,P)}}),[e]),s=aa(function(){const m={capture:!0,passive:!1};r.current=Hm(window,[a],m)},[a]),o=aa(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(_z),r.current(),s())},[s,i]),l=aa(()=>{const p=t.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),u=aa(function(){const m={capture:!0,passive:!1},v={cancel:l,completed:o,getPhase:n},w=Hm(window,qVe(v),m),x=Hm(window,UVe(v),m);r.current=function(){w(),x()}},[l,n,o]),f=aa(function(){const m=n();m.type!=="PENDING"&&si();const v=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[n,i]),h=aa(function(m,v){n().type!=="IDLE"&&si();const w=setTimeout(f,BVe);i({type:"PENDING",point:v,actions:m,longPressTimerId:w}),u()},[u,n,i,f]);um(function(){return s(),function(){r.current();const v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(_z))}},[n,s,i]),um(function(){return Hm(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const WVe=["input","button","textarea","select","option","optgroup","video","audio"];function s0e(e,t){if(t==null)return!1;if(WVe.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:s0e(e,t.parentElement)}function VVe(e,t){const r=t.target;return zM(r)?s0e(e,r):!1}var GVe=e=>Wg(e.getBoundingClientRect()).center;function KVe(e){return e instanceof r0e(e).Element}const ZVe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function l0e(e,t){return e==null?null:e[ZVe](t)?e:l0e(e.parentElement,t)}function YVe(e,t){return e.closest?e.closest(t):l0e(e,t)}function XVe(e){return`[${$x.contextId}="${e}"]`}function JVe(e,t){const r=t.target;if(!KVe(r))return null;const n=XVe(e),i=YVe(r,n);return!i||!zM(i)?null:i}function QVe(e,t){const r=JVe(e,t);return r?r.getAttribute($x.draggableId):null}function eGe(e,t){const r=`[${Zj.contextId}="${e}"]`,i=t0e(document,r).find(a=>a.getAttribute(Zj.id)===t);return!i||!zM(i)?null:i}function tGe(e){e.preventDefault()}function SR({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function u0e({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const i=r.draggable.findById(n);return!(!i||!i.options.isEnabled||!Xye(t.getState(),n))}function rGe({lockAPI:e,contextId:t,store:r,registry:n,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!u0e({lockAPI:e,store:r,registry:n,draggableId:i}))return null;const l=n.draggable.getById(i),u=eGe(t,l.descriptor.id);if(!u||s&&!l.options.canDragInteractiveElements&&VVe(u,s))return null;const f=e.claim(a||ib);let h="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return e.isActive(f)}function v(E,_){SR({expected:E,phase:h,isLockActive:m,shouldWarn:!0})&&r.dispatch(_())}const w=v.bind(null,"DRAGGING");function x(E){function _(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(_(),si()),r.dispatch(YHe(E.liftActionArgs)),h="DRAGGING";function R(O,F={shouldBlockNextClick:!1}){if(E.cleanup(),F.shouldBlockNextClick){const $=Hm(window,[{eventName:"click",fn:tGe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}_(),r.dispatch(qye({reason:O}))}return{isActive:()=>SR({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:O=>R("DROP",O),cancel:O=>R("CANCEL",O),...E.actions}}function T(E){const _=_2(O=>{w(()=>Uye({client:O}))});return{...x({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function A(){const E={moveUp:()=>w(aWe),moveRight:()=>w(sWe),moveDown:()=>w(oWe),moveLeft:()=>w(lWe)};return x({liftActionArgs:{id:i,clientSelection:GVe(u),movementMode:"SNAP"},cleanup:ib,actions:E})}function P(){SR({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>SR({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:T,snapLift:A,abort:P}}const nGe=[FVe,zVe,HVe];function iGe({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:i}){const a=[...i?nGe:[],...n||[]],s=ne.useState(()=>wVe())[0],o=aa(function(x,T){P2(x)&&!P2(T)&&s.tryAbandon()},[s]);um(function(){let x=t.getState();return t.subscribe(()=>{const A=t.getState();o(x,A),x=A})},[s,t,o]),um(()=>s.tryAbandon,[s.tryAbandon]);const l=aa(w=>u0e({lockAPI:s,registry:r,store:t,draggableId:w}),[s,r,t]),u=aa((w,x,T)=>rGe({lockAPI:s,registry:r,contextId:e,store:t,draggableId:w,forceSensorStop:x||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,s,r,t]),f=aa(w=>QVe(e,w),[e]),h=aa(w=>{const x=r.draggable.findById(w);return x?x.options:null},[r.draggable]),p=aa(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(qH()))},[s,t]),m=aa(()=>s.isClaimed(),[s]),v=hs(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}),[l,u,f,h,p,m]);for(let w=0;w<a.length;w++)a[w](v)}const aGe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ls.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),oGe=e=>({...C2,...e.autoScrollerOptions,durationDampening:{...C2.durationDampening,...e.autoScrollerOptions}});function YE(e){return e.current||si(),e.current}function sGe(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:i,dragHandleUsageInstructions:a}=e,s=ne.useRef(null),o=n0e(e),l=aa(()=>aGe(o.current),[o]),u=aa(()=>oGe(o.current),[o]),f=vVe(t),h=_Ve({contextId:t,text:a}),p=cVe(t,i),m=aa($=>{YE(s).dispatch($)},[]),v=hs(()=>Uae({publishWhileDragging:JHe,updateDroppableScroll:eWe,updateDroppableIsEnabled:tWe,updateDroppableIsCombineEnabled:rWe,collectionStarting:QHe},m),[m]),w=pVe(),x=hs(()=>UWe(w,v),[w,v]),T=hs(()=>aVe({scrollWindow:qWe,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...Uae({move:Uye},m)}),[x.scrollDroppable,m,u]),A=dVe(t),P=hs(()=>$We({announce:f,autoScroller:T,dimensionMarshal:x,focusMarshal:A,getResponders:l,styleMarshal:p}),[f,T,x,A,l,p]);s.current=P;const S=aa(()=>{const $=YE(s);$.getState().phase!=="IDLE"&&$.dispatch(qH())},[]),E=aa(()=>{const $=YE(s).getState();return $.phase==="DROP_ANIMATING"?!0:$.phase==="IDLE"?!1:$.isDragging},[]),_=hs(()=>({isDragging:E,tryAbort:S}),[E,S]);r(_);const R=aa($=>Xye(YE(s).getState(),$),[]),O=aa(()=>y_(YE(s).getState()),[]),F=hs(()=>({marshal:x,focus:A,contextId:t,canLift:R,isMovementAllowed:O,dragHandleUsageInstructionsId:h,registry:w}),[t,x,h,A,R,O,w]);return iGe({contextId:t,store:P,registry:w,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),ne.useEffect(()=>S,[S]),ze.createElement(BM.Provider,{value:F},ze.createElement(p9e,{context:YH,store:P},e.children))}function lGe(){return ze.useId()}function lxt(e){const t=lGe(),r=e.dragHandleUsageInstructions||TA.dragHandleUsageInstructions;return ze.createElement(zqe,null,n=>ze.createElement(sGe,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const uoe={dragging:5e3,dropAnimating:4500},uGe=(e,t)=>t?$C.drop(t.duration):e?$C.snap:$C.fluid,cGe=(e,t)=>{if(e)return t?E2.opacity.drop:E2.opacity.combining},fGe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function dGe(e){const r=e.dimension.client,{offset:n,combineWith:i,dropping:a}=e,s=!!i,o=fGe(e),l=!!a,u=l?Gj.drop(n,s):Gj.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:uGe(o,a),transform:u,opacity:cGe(s,l),zIndex:l?uoe.dropAnimating:uoe.dragging,pointerEvents:"none"}}function hGe(e){return{transform:Gj.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function pGe(e){return e.type==="DRAGGING"?dGe(e):hGe(e)}function mGe(e,t,r=Yf){const n=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=gye(i,n),s=uO(a,r),o={client:a,tagName:t.tagName.toLowerCase(),display:n.display},l={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:o,displaceBy:l,client:a,page:s}}function gGe(e){const t=XH("draggable"),{descriptor:r,registry:n,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:o}=e,l=hs(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:o}),[a,o,s]),u=aa(m=>{const v=i();return v||si(),mGe(r,v,m)},[r,i]),f=hs(()=>({uniqueId:t,descriptor:r,options:l,getDimension:u}),[r,u,l,t]),h=ne.useRef(f),p=ne.useRef(!0);um(()=>(n.draggable.register(h.current),()=>n.draggable.unregister(h.current)),[n.draggable]),um(()=>{if(p.current){p.current=!1;return}const m=h.current;h.current=f,n.draggable.update(f,m)},[f,n.draggable])}var QH=ze.createContext(null);function pO(e){const t=ne.useContext(e);return t||si(),t}function vGe(e){e.preventDefault()}const yGe=e=>{const t=ne.useRef(null),r=aa((_=null)=>{t.current=_},[]),n=aa(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=pO(BM),{type:o,droppableId:l}=pO(QH),u=hs(()=>({id:e.draggableId,index:e.index,type:o,droppableId:l}),[e.draggableId,e.index,o,l]),{children:f,draggableId:h,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:v,isClone:w,mapped:x,dropAnimationFinished:T}=e;if(!w){const _=hs(()=>({descriptor:u,registry:s,getDraggableRef:n,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:p}),[u,s,n,v,m,p]);gGe(_)}const A=hs(()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:vGe}:null,[i,a,h,p]),P=aa(_=>{x.type==="DRAGGING"&&x.dropping&&_.propertyName==="transform"&&Ls.flushSync(T)},[T,x]),S=hs(()=>{const _=pGe(x),R=x.type==="DRAGGING"&&x.dropping?P:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:_,onTransitionEnd:R},dragHandleProps:A}},[i,A,h,x,P,r]),E=hs(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return ze.createElement(ze.Fragment,null,f(S,x.snapshot,E))};var c0e=(e,t)=>e===t,f0e=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const bGe=e=>e.combine?e.combine.draggableId:null,_Ge=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function wGe(){const e=Kf((i,a)=>({x:i,y:a})),t=Kf((i,a,s=null,o=null,l=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:o,combineTargetFor:null})),r=Kf((i,a,s,o,l=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:a,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(a,o,l,u,null)}}));return(i,a)=>{if(P2(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,o=i.dimensions.draggables[a.draggableId],l=lm(i.impact),u=_Ge(i.impact),f=i.forceShouldAnimate;return r(e(s.x,s.y),i.movementMode,o,a.isClone,l,u,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const o=a.isClone,l=i.dimensions.draggables[a.draggableId],u=s.result,f=u.mode,h=f0e(u),p=bGe(u),v={duration:i.dropDuration,curve:WH.drop,moveTo:i.newHomeClientOffset,opacity:p?E2.opacity.drop:null,scale:p?E2.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:v,draggingOver:h,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,o,h,p,v)}}}return null}}function d0e(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const xGe={mapped:{type:"SECONDARY",offset:Yf,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:d0e(null)}};function SGe(){const e=Kf((s,o)=>({x:s,y:o})),t=Kf(d0e),r=Kf((s,o=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:l,snapshot:t(o)}})),n=s=>s?r(Yf,s,!0):null,i=(s,o,l,u)=>{const f=l.displaced.visible[s],h=!!(u.inVirtualList&&u.effected[s]),p=LM(l),m=p&&p.draggableId===s?o:null;if(!f){if(!h)return n(m);if(l.displaced.invisible[s])return null;const x=TS(u.displacedBy.point),T=e(x.x,x.y);return r(T,m,!0)}if(h)return n(m);const v=l.displacedBy.point,w=e(v.x,v.y);return r(w,m,f.shouldAnimate)};return(s,o)=>{if(P2(s))return s.critical.draggable.id===o.draggableId?null:i(o.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===o.draggableId?null:i(o.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const EGe=()=>{const e=wGe(),t=SGe();return(n,i)=>e(n,i)||t(n,i)||xGe},CGe={dropAnimationFinished:Hye},PGe=Fve(EGe,CGe,null,{context:YH,areStatePropsEqual:c0e})(yGe);function h0e(e){return pO(QH).isUsingCloneFor===e.draggableId&&!e.isClone?null:ze.createElement(PGe,e)}function uxt(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ze.createElement(h0e,Pu({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const p0e=e=>t=>e===t,TGe=p0e("scroll"),RGe=p0e("auto"),coe=(e,t)=>t(e.overflowX)||t(e.overflowY),AGe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return coe(r,TGe)||coe(r,RGe)},OGe=()=>!1,m0e=e=>e==null?null:e===document.body?OGe()?e:null:e===document.documentElement?null:AGe(e)?e:m0e(e.parentElement);var Yj=e=>({x:e.scrollLeft,y:e.scrollTop});const g0e=e=>e?window.getComputedStyle(e).position==="fixed"?!0:g0e(e.parentElement):!1;var IGe=e=>{const t=m0e(e),r=g0e(e);return{closestScrollable:t,isFixedOnPage:r}},MGe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:i,client:a,page:s,closest:o})=>{const l=(()=>{if(!o)return null;const{scrollSize:p,client:m}=o,v=Kye({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:v,diff:{value:Yf,displacement:Yf}}}})(),u=i==="vertical"?$H:Tye,f=Lx({page:s,withPlaceholder:null,axis:u,frame:l});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:u,isEnabled:t,client:a,page:s,frame:l,subject:f}};const kGe=(e,t)=>{const r=vye(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,i=r.paddingBox.left-t.scrollLeft,a=n+t.scrollHeight,s=i+t.scrollWidth,l=DH({top:n,right:s,bottom:a,left:i},r.border);return FH({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var DGe=({ref:e,descriptor:t,env:r,windowScroll:n,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:o})=>{const l=r.closestScrollable,u=kGe(e,l),f=uO(u,n),h=(()=>{if(!l)return null;const m=vye(l),v={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:uO(m,n),scroll:Yj(l),scrollSize:v,shouldClipSubject:o}})();return MGe({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:f,closest:h})};const FGe={passive:!1},LGe={passive:!0};var foe=e=>e.shouldPublishImmediately?FGe:LGe;const ER=e=>e&&e.env.closestScrollable||null;function NGe(e){const t=ne.useRef(null),r=pO(BM),n=XH("droppable"),{registry:i,marshal:a}=r,s=n0e(e),o=hs(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=ne.useRef(o),u=hs(()=>Kf((S,E)=>{t.current||si();const _={x:S,y:E};a.updateDroppableScroll(o.id,_)}),[o.id,a]),f=aa(()=>{const S=t.current;return!S||!S.env.closestScrollable?Yf:Yj(S.env.closestScrollable)},[]),h=aa(()=>{const S=f();u(S.x,S.y)},[f,u]),p=hs(()=>_2(h),[h]),m=aa(()=>{const S=t.current,E=ER(S);if(S&&E||si(),S.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),v=aa((S,E)=>{t.current&&si();const _=s.current,R=_.getDroppableRef();R||si();const O=IGe(R),F={ref:R,descriptor:o,env:O,scrollOptions:E};t.current=F;const $=DGe({ref:R,descriptor:o,env:O,windowScroll:S,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),z=O.closestScrollable;return z&&(z.setAttribute(aoe.contextId,r.contextId),z.addEventListener("scroll",m,foe(F.scrollOptions))),$},[r.contextId,o,m,s]),w=aa(()=>{const S=t.current,E=ER(S);return S&&E||si(),Yj(E)},[]),x=aa(()=>{const S=t.current;S||si();const E=ER(S);t.current=null,E&&(p.cancel(),E.removeAttribute(aoe.contextId),E.removeEventListener("scroll",m,foe(S.scrollOptions)))},[m,p]),T=aa(S=>{const E=t.current;E||si();const _=ER(E);_||si(),_.scrollTop+=S.y,_.scrollLeft+=S.x},[]),A=hs(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:w,dragStopped:x,scroll:T}),[x,v,w,T]),P=hs(()=>({uniqueId:n,descriptor:o,callbacks:A}),[A,o,n]);um(()=>(l.current=P.descriptor,i.droppable.register(P),()=>{t.current&&x(),i.droppable.unregister(P)}),[A,o,x,P,a,i.droppable]),um(()=>{t.current&&a.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),um(()=>{t.current&&a.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function wz(){}const doe={width:0,height:0,margin:Vqe},$Ge=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?doe:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},zGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=$Ge({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?$C.placeholder:null}},BGe=e=>{const t=ne.useRef(null),r=aa(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:i,onClose:a,contextId:s}=e,[o,l]=ne.useState(e.animate==="open");ne.useEffect(()=>o?n!=="open"?(r(),l(!1),wz):t.current?wz:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):wz,[n,o,r]);const u=aa(h=>{h.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),f=zGe({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return ze.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})};var jGe=ze.memo(BGe);class UGe extends ze.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const qGe=e=>{const t=ne.useContext(BM);t||si();const{contextId:r,isMovementAllowed:n}=t,i=ne.useRef(null),a=ne.useRef(null),{children:s,droppableId:o,type:l,mode:u,direction:f,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:m,snapshot:v,useClone:w,updateViewportMaxScroll:x,getContainerForClone:T}=e,A=aa(()=>i.current,[]),P=aa((z=null)=>{i.current=z},[]);aa(()=>a.current,[]);const S=aa((z=null)=>{a.current=z},[]),E=aa(()=>{n()&&x({maxScroll:Yye()})},[n,x]);NGe({droppableId:o,type:l,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:A});const _=hs(()=>ze.createElement(UGe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:z,data:q,animate:Z})=>ze.createElement(jGe,{placeholder:q,onClose:z,innerRef:S,animate:Z,contextId:r,onTransitionEnd:E})),[r,E,e.placeholder,e.shouldAnimatePlaceholder,S]),R=hs(()=>({innerRef:P,placeholder:_,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":r}}),[r,o,_,P]),O=w?w.dragging.draggableId:null,F=hs(()=>({droppableId:o,type:l,isUsingCloneFor:O}),[o,O,l]);function $(){if(!w)return null;const{dragging:z,render:q}=w,Z=ze.createElement(h0e,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(V,J)=>q(V,J,z));return Rqe.createPortal(Z,T())}return ze.createElement(QH.Provider,{value:F},s(R,v),$())};function HGe(){return document.body||si(),document.body}const hoe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HGe},v0e=e=>{let t={...e},r;for(r in hoe)e[r]===void 0&&(t={...t,[r]:hoe[r]});return t},xz=(e,t)=>e===t.droppable.type,poe=(e,t)=>t.draggables[e.draggable.id],WGe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Kf(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),n=Kf((a,s,o,l,u,f)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===a){const v=f?{render:f,dragging:r(u.descriptor)}:null,w={isDraggingOver:o,draggingOverWith:o?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:v}}if(!s)return t;if(!l)return e;const m={isDraggingOver:o,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(a,s)=>{const o=v0e(s),l=o.droppableId,u=o.type,f=!o.isDropDisabled,h=o.renderClone;if(P2(a)){const p=a.critical;if(!xz(u,p))return t;const m=poe(p,a.dimensions),v=lm(a.impact)===l;return n(l,f,v,v,m,h)}if(a.phase==="DROP_ANIMATING"){const p=a.completed;if(!xz(u,p.critical))return t;const m=poe(p.critical,a.dimensions);return n(l,f,f0e(p.result)===l,lm(p.impact)===l,m,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const p=a.completed;if(!xz(u,p.critical))return t;const m=lm(p.impact)===l,v=!!(p.impact.at&&p.impact.at.type==="COMBINE"),w=p.critical.droppable.id===l;return m?v?e:t:w?e:t}return t}},VGe={updateViewportMaxScroll:iWe},cxt=Fve(WGe,VGe,(e,t,r)=>({...v0e(r),...e,...t}),{context:YH,areStatePropsEqual:c0e})(qGe);function GGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mO(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zx(e){return e=mO(Math.abs(e)),e?e[1]:NaN}function KGe(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ZGe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T2(e){if(!(t=YGe.exec(e)))throw new Error("invalid format: "+e);var t;return new eW({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}T2.prototype=eW.prototype;function eW(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eW.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XGe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var y0e;function JGe(e,t){var r=mO(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(y0e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mO(e,Math.max(0,t+a-1))[0]}function moe(e,t){var r=mO(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const goe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GGe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>moe(e*100,t),r:moe,s:JGe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function voe(e){return e}var yoe=Array.prototype.map,boe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QGe(e){var t=e.grouping===void 0||e.thousands===void 0?voe:KGe(yoe.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?voe:ZGe(yoe.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=T2(h);var p=h.fill,m=h.align,v=h.sign,w=h.symbol,x=h.zero,T=h.width,A=h.comma,P=h.precision,S=h.trim,E=h.type;E==="n"?(A=!0,E="g"):goe[E]||(P===void 0&&(P=12),S=!0,E="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var _=w==="$"?r:w==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",R=w==="$"?n:/[%p]/.test(E)?s:"",O=goe[E],F=/[defgprs%]/.test(E);P=P===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(z){var q=_,Z=R,V,J,fe;if(E==="c")Z=O(z)+Z,z="";else{z=+z;var ue=z<0||1/z<0;if(z=isNaN(z)?l:O(Math.abs(z),P),S&&(z=XGe(z)),ue&&+z==0&&v!=="+"&&(ue=!1),q=(ue?v==="("?v:o:v==="-"||v==="("?"":v)+q,Z=(E==="s"?boe[8+y0e/3]:"")+Z+(ue&&v==="("?")":""),F){for(V=-1,J=z.length;++V<J;)if(fe=z.charCodeAt(V),48>fe||fe>57){Z=(fe===46?i+z.slice(V+1):z.slice(V))+Z,z=z.slice(0,V);break}}}A&&!x&&(z=t(z,1/0));var pe=q.length+z.length+Z.length,ve=pe<T?new Array(T-pe+1).join(p):"";switch(A&&x&&(z=t(ve+z,ve.length?T-Z.length:1/0),ve=""),m){case"<":z=q+z+Z+ve;break;case"=":z=q+ve+z+Z;break;case"^":z=ve.slice(0,pe=ve.length>>1)+q+z+Z+ve.slice(pe);break;default:z=ve+q+z+Z;break}return a(z)}return $.toString=function(){return h+""},$}function f(h,p){var m=u((h=T2(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(zx(p)/3)))*3,w=Math.pow(10,-v),x=boe[8+v/3];return function(T){return m(w*T)+x}}return{format:u,formatPrefix:f}}var CR,OS,b0e;eKe({thousands:",",grouping:[3],currency:["$",""]});function eKe(e){return CR=QGe(e),OS=CR.format,b0e=CR.formatPrefix,CR}function tKe(e){return Math.max(0,-zx(Math.abs(e)))}function rKe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zx(t)/3)))*3-zx(Math.abs(e)))}function nKe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zx(t)-zx(e))+1}function pp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kP(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UM(e){let t,r,n;e.length!==2?(t=pp,r=(o,l)=>pp(e(o),l),n=(o,l)=>e(o)-l):(t=e===pp||e===kP?e:iKe,r=e,n=e);function i(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const h=u+f>>>1;r(o[h],l)<0?u=h+1:f=h}while(u<f)}return u}function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const h=u+f>>>1;r(o[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function s(o,l,u=0,f=o.length){const h=i(o,l,u,f-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function iKe(){return 0}function _0e(e){return e===null?NaN:+e}function*aKe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const oKe=UM(pp),qM=oKe.right;UM(_0e).center;function sKe(e){return e.length|0}function lKe(e){return!(e>0)}function uKe(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function cKe(e){return t=>e(...t)}function fKe(...e){const t=typeof e[e.length-1]=="function"&&cKe(e.pop());e=e.map(uKe);const r=e.map(sKe),n=e.length-1,i=new Array(n+1).fill(0),a=[];if(n<0||r.some(lKe))return a;for(;;){a.push(i.map((o,l)=>e[l][o]));let s=n;for(;++i[s]===r[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function dKe(e,t){var r=0;return Float64Array.from(e,n=>r+=+n||0)}function w0e(e,t){let r=0,n,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(n=o-i,i+=n/++r,a+=n*(o-i))}if(r>1)return a/(r-1)}function hKe(e,t){const r=w0e(e,t);return r&&Math.sqrt(r)}function ob(e,t){let r,n;for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));return[r,n]}class X_{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const a=r[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(r[n++]=o),t=s}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,i,a,s=0;if(r>0){for(s=t[--r];r>0&&(n=s,i=t[--r],s=n+i,a=i-(s-n),!a););r>0&&(a<0&&t[r-1]<0||a>0&&t[r-1]>0)&&(i=a*2,n=s+i,i==n-s&&(s=n))}return s}}class J_ extends Map{constructor(t,r=E0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Xj(this,t))}has(t){return super.has(Xj(this,t))}set(t,r){return super.set(x0e(this,t),r)}delete(t){return super.delete(S0e(this,t))}}class HM extends Set{constructor(t,r=E0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Xj(this,t))}add(t){return super.add(x0e(this,t))}delete(t){return super.delete(S0e(this,t))}}function Xj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function x0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function S0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function E0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gO(e){return e}function tW(e,...t){return WM(e,gO,gO,t)}function fxt(e,...t){return WM(e,Array.from,gO,t)}function zC(e,t,...r){return WM(e,gO,t,r)}function pKe(e,t,...r){return WM(e,Array.from,t,r)}function WM(e,t,r,n){return function i(a,s){if(s>=n.length)return r(a);const o=new J_,l=n[s++];let u=-1;for(const f of a){const h=l(f,++u,a),p=o.get(h);p?p.push(f):o.set(h,[f])}for(const[f,h]of o)o.set(f,i(h,s));return t(o)}(e,0)}function mKe(e,t){return Array.from(t,r=>e[r])}function Jj(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,a)=>{for(const s of t){const o=vO(s[i],s[a]);if(o)return o}})):(r=e.map(r),n.sort((i,a)=>vO(r[i],r[a]))),mKe(e,n)}return e.sort(C0e(r))}function C0e(e=pp){if(e===pp)return vO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function vO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function rW(e,t,r){return(t.length!==2?Jj(zC(e,t,r),([n,i],[a,s])=>pp(i,s)||pp(n,a)):Jj(tW(e,r),([n,i],[a,s])=>t(i,s)||pp(n,a))).map(([n])=>n)}const gKe=Math.sqrt(50),vKe=Math.sqrt(10),yKe=Math.sqrt(2);function yO(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=gKe?10:a>=vKe?5:a>=yKe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?yO(e,t,r*2):[o,l,u]}function bO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?yO(t,e,r):yO(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Qj(e,t,r){return t=+t,e=+e,r=+r,yO(e,t,r)[2]}function e7(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Qj(t,e,r):Qj(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Jg(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function bKe(e,t){let r,n=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(r<a||r===void 0&&a>=a)&&(r=a,n=i);else for(let a of e)(a=t(a,++i,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a,n=i);return n}function s0(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function _Ke(e,t){let r,n=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(r>a||r===void 0&&a>=a)&&(r=a,n=i);else for(let a of e)(a=t(a,++i,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a,n=i);return n}function P0e(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?vO:C0e(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*h/l+p)),v=Math.min(n,Math.floor(t+(l-u)*h/l+p));P0e(e,t,m,v,i)}const a=e[t];let s=r,o=n;for(XE(e,r,t),i(e[n],a)>0&&XE(e,r,n);s<o;){for(XE(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?XE(e,r,o):(++o,XE(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function XE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function T0e(e,t=pp){let r,n=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(n?pp(s,i)>0:pp(s,s)===0)&&(r=a,i=s,n=!0)}}else for(const i of e)(n?t(i,r)>0:t(i,i)===0)&&(r=i,n=!0);return r}function _O(e,t,r){if(e=Float64Array.from(aKe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return s0(e);if(t>=1)return Jg(e);var n,i=(n-1)*t,a=Math.floor(i),s=Jg(P0e(e,a).subarray(0,a+1)),o=s0(e.subarray(a+1));return s+(o-s)*(i-a)}}function wKe(e,t,r=_0e){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function xKe(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++r,n+=a)}if(r)return n/r}function t7(e,t){return _O(e,.5,t)}function*SKe(e){for(const t of e)yield*t}function R0e(e){return Array.from(SKe(e))}function EKe(e,t){const r=new J_;if(t===void 0)for(let a of e)a!=null&&a>=a&&r.set(a,(r.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&r.set(s,(r.get(s)||0)+1)}let n,i=0;for(const[a,s]of r)s>i&&(i=s,n=a);return n}function CKe(e,t=PKe){const r=[];let n,i=!1;for(const a of e)i&&r.push(t(n,a)),n=a,i=!0;return r}function PKe(e,t){return[e,t]}function r7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Q_(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function wO(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function cv(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function VM(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const n7=Symbol("implicit");function nW(){var e=new J_,t=[],r=[],n=n7;function i(a){let s=e.get(a);if(s===void 0){if(n!==n7)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new J_;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nW(t,r).unknown(n)},cv.apply(i,arguments),i}function GM(){var e=nW().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,f=.5;delete e.unknown;function h(){var p=t().length,m=i<n,v=m?i:n,w=m?n:i;a=(w-v)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),v+=(w-v-a*(p-l))*f,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=r7(p).map(function(T){return v+a*T});return r(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,h()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return GM(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},cv.apply(h(),arguments)}function A0e(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return A0e(t())},e}function TKe(){return A0e(GM.apply(null,arguments).paddingInner(1))}function RKe(e){return function(){return e}}function i7(e){return+e}var _oe=[0,1];function Wm(e){return e}function a7(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:RKe(isNaN(t)?NaN:.5)}function AKe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OKe(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=a7(i,n),a=r(s,a)):(n=a7(n,i),a=r(a,s)),function(o){return a(n(o))}}function IKe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=a7(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=qM(e,o,1,n)-1;return a[l](i[l](o))}}function DP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function KM(){var e=_oe,t=_oe,r=pS,n,i,a,s=Wm,o,l,u;function f(){var p=Math.min(e.length,t.length);return s!==Wm&&(s=AKe(e[0],e[p-1])),o=p>2?IKe:OKe,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(t,e.map(n),Wd)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,i7),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=WU,f()},h.clamp=function(p){return arguments.length?(s=p?!0:Wm,f()):s!==Wm},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,m){return n=p,i=m,f()}}function O0e(){return KM()(Wm,Wm)}function MKe(e,t,r,n){var i=e7(e,t,r),a;switch(n=T2(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=rKe(i,s))&&(n.precision=a),b0e(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nKe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tKe(i))&&(n.precision=a-(n.type==="%")*2);break}}return OS(n)}function IS(e){var t=e.domain;return e.ticks=function(r){var n=t();return bO(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return MKe(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,f=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);f-- >0;){if(u=Qj(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function iW(){var e=O0e();return e.copy=function(){return DP(e,iW())},cv.apply(e,arguments),IS(e)}function I0e(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,i7),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return I0e(e).unknown(t)},e=arguments.length?Array.from(e,i7):[0,1],IS(r)}function M0e(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function woe(e){return Math.log(e)}function xoe(e){return Math.exp(e)}function kKe(e){return-Math.log(-e)}function DKe(e){return-Math.exp(-e)}function FKe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LKe(e){return e===10?FKe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NKe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Soe(e){return(t,r)=>-e(-t,r)}function k0e(e){const t=e(woe,xoe),r=t.domain;let n=10,i,a;function s(){return i=NKe(n),a=LKe(n),r()[0]<0?(i=Soe(i),a=Soe(a),e(kKe,DKe)):e(woe,xoe),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),m=i(f),v,w;const x=o==null?10:+o;let T=[];if(!(n%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(v=1;v<n;++v)if(w=p<0?v/a(-p):v*a(p),!(w<u)){if(w>f)break;T.push(w)}}else for(;p<=m;++p)for(v=n-1;v>=1;--v)if(w=p>0?v/a(-p):v*a(p),!(w<u)){if(w>f)break;T.push(w)}T.length*2<x&&(T=bO(u,f,x))}else T=bO(p,m,Math.min(m-p,x)).map(a);return h?T.reverse():T},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=T2(l)).precision==null&&(l.trim=!0),l=OS(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=u?l(f):""}},t.nice=()=>r(M0e(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function D0e(){const e=k0e(KM()).domain([1,10]);return e.copy=()=>DP(e,D0e()).base(e.base()),cv.apply(e,arguments),e}function Eoe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Coe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F0e(e){var t=1,r=e(Eoe(t),Coe(t));return r.constant=function(n){return arguments.length?e(Eoe(t=+n),Coe(t)):t},IS(r)}function L0e(){var e=F0e(KM());return e.copy=function(){return DP(e,L0e()).constant(e.constant())},cv.apply(e,arguments)}function Poe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $Ke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zKe(e){return e<0?-e*e:e*e}function N0e(e){var t=e(Wm,Wm),r=1;function n(){return r===1?e(Wm,Wm):r===.5?e($Ke,zKe):e(Poe(r),Poe(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},IS(t)}function $0e(){var e=N0e(KM());return e.copy=function(){return DP(e,$0e()).exponent(e.exponent())},cv.apply(e,arguments),e}function z0e(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=wKe(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[qM(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pp),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return z0e().domain(e).range(t).unknown(n)},cv.apply(a,arguments)}function BKe(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[qM(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return BKe().domain([e,t]).range(i).unknown(a)},cv.apply(IS(s),arguments)}function B0e(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[qM(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return B0e().domain(e).range(t).unknown(r)},cv.apply(i,arguments)}const Sz=new Date,Ez=new Date;function wf(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>wf(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Sz.setTime(+a),Ez.setTime(+s),e(Sz),e(Ez),Math.floor(r(Sz,Ez))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const xO=wf(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xO.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wf(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xO);xO.range;const Yy=1e3,Vm=Yy*60,Xy=Vm*60,l0=Xy*24,aW=l0*7,Toe=l0*30,Cz=l0*365,Vg=wf(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yy)},(e,t)=>(t-e)/Yy,e=>e.getUTCSeconds());Vg.range;const FP=wf(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yy)},(e,t)=>{e.setTime(+e+t*Vm)},(e,t)=>(t-e)/Vm,e=>e.getMinutes());FP.range;const LP=wf(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vm)},(e,t)=>(t-e)/Vm,e=>e.getUTCMinutes());LP.range;const NP=wf(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yy-e.getMinutes()*Vm)},(e,t)=>{e.setTime(+e+t*Xy)},(e,t)=>(t-e)/Xy,e=>e.getHours());NP.range;const $P=wf(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xy)},(e,t)=>(t-e)/Xy,e=>e.getUTCHours());$P.range;const zw=wf(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vm)/l0,e=>e.getDate()-1);zw.range;const ZM=wf(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/l0,e=>e.getUTCDate()-1);ZM.range;const YM=wf(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/l0,e=>Math.floor(e/l0));YM.range;function Bw(e){return wf(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Vm)/aW)}const Bx=Bw(0),R2=Bw(1),j0e=Bw(2),U0e=Bw(3),ew=Bw(4),q0e=Bw(5),H0e=Bw(6);Bx.range;R2.range;j0e.range;U0e.range;ew.range;q0e.range;H0e.range;function jw(e){return wf(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aW)}const jx=jw(0),A2=jw(1),W0e=jw(2),V0e=jw(3),tw=jw(4),G0e=jw(5),K0e=jw(6);jx.range;A2.range;W0e.range;V0e.range;tw.range;G0e.range;K0e.range;const zP=wf(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zP.range;const BP=wf(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BP.range;const Qg=wf(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qg.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wf(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qg.range;const ev=wf(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ev.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wf(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ev.range;function Z0e(e,t,r,n,i,a){const s=[[Vg,1,Yy],[Vg,5,5*Yy],[Vg,15,15*Yy],[Vg,30,30*Yy],[a,1,Vm],[a,5,5*Vm],[a,15,15*Vm],[a,30,30*Vm],[i,1,Xy],[i,3,3*Xy],[i,6,6*Xy],[i,12,12*Xy],[n,1,l0],[n,2,2*l0],[r,1,aW],[t,1,Toe],[t,3,3*Toe],[e,1,Cz]];function o(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const m=h&&typeof h.range=="function"?h:l(u,f,h),v=m?m.range(u,+f+1):[];return p?v.reverse():v}function l(u,f,h){const p=Math.abs(f-u)/h,m=UM(([,,x])=>x).right(s,p);if(m===s.length)return e.every(e7(u/Cz,f/Cz,h));if(m===0)return xO.every(Math.max(e7(u,f,h),1));const[v,w]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return v.every(w)}return[o,l]}const[jKe,UKe]=Z0e(ev,BP,jx,YM,$P,LP),[qKe,HKe]=Z0e(Qg,zP,Bx,zw,NP,FP);function Pz(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tz(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function JE(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WKe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=QE(i),f=eC(i),h=QE(a),p=eC(a),m=QE(s),v=eC(s),w=QE(o),x=eC(o),T=QE(l),A=eC(l),P={a:ue,A:pe,b:ve,B:le,c:null,d:koe,e:koe,f:pZe,g:EZe,G:PZe,H:fZe,I:dZe,j:hZe,L:Y0e,m:mZe,M:gZe,p:se,q:ge,Q:Loe,s:Noe,S:vZe,u:yZe,U:bZe,V:_Ze,w:wZe,W:xZe,x:null,X:null,y:SZe,Y:CZe,Z:TZe,"%":Foe},S={a:_e,A:ke,b:Ge,B:ct,c:null,d:Doe,e:Doe,f:IZe,g:jZe,G:qZe,H:RZe,I:AZe,j:OZe,L:J0e,m:MZe,M:kZe,p:$e,q:we,Q:Loe,s:Noe,S:DZe,u:FZe,U:LZe,V:NZe,w:$Ze,W:zZe,x:null,X:null,y:BZe,Y:UZe,Z:HZe,"%":Foe},E={a:$,A:z,b:q,B:Z,c:V,d:Ioe,e:Ioe,f:sZe,g:Ooe,G:Aoe,H:Moe,I:Moe,j:nZe,L:oZe,m:rZe,M:iZe,p:F,q:tZe,Q:uZe,s:cZe,S:aZe,u:YKe,U:XKe,V:JKe,w:ZKe,W:QKe,x:J,X:fe,y:Ooe,Y:Aoe,Z:eZe,"%":lZe};P.x=_(r,P),P.X=_(n,P),P.c=_(t,P),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(Ee,Re){return function(ft){var qe=[],dt=-1,he=0,ut=Ee.length,xt,je,rt;for(ft instanceof Date||(ft=new Date(+ft));++dt<ut;)Ee.charCodeAt(dt)===37&&(qe.push(Ee.slice(he,dt)),(je=Roe[xt=Ee.charAt(++dt)])!=null?xt=Ee.charAt(++dt):je=xt==="e"?" ":"0",(rt=Re[xt])&&(xt=rt(ft,je)),qe.push(xt),he=dt+1);return qe.push(Ee.slice(he,dt)),qe.join("")}}function R(Ee,Re){return function(ft){var qe=JE(1900,void 0,1),dt=O(qe,Ee,ft+="",0),he,ut;if(dt!=ft.length)return null;if("Q"in qe)return new Date(qe.Q);if("s"in qe)return new Date(qe.s*1e3+("L"in qe?qe.L:0));if(Re&&!("Z"in qe)&&(qe.Z=0),"p"in qe&&(qe.H=qe.H%12+qe.p*12),qe.m===void 0&&(qe.m="q"in qe?qe.q:0),"V"in qe){if(qe.V<1||qe.V>53)return null;"w"in qe||(qe.w=1),"Z"in qe?(he=Tz(JE(qe.y,0,1)),ut=he.getUTCDay(),he=ut>4||ut===0?A2.ceil(he):A2(he),he=ZM.offset(he,(qe.V-1)*7),qe.y=he.getUTCFullYear(),qe.m=he.getUTCMonth(),qe.d=he.getUTCDate()+(qe.w+6)%7):(he=Pz(JE(qe.y,0,1)),ut=he.getDay(),he=ut>4||ut===0?R2.ceil(he):R2(he),he=zw.offset(he,(qe.V-1)*7),qe.y=he.getFullYear(),qe.m=he.getMonth(),qe.d=he.getDate()+(qe.w+6)%7)}else("W"in qe||"U"in qe)&&("w"in qe||(qe.w="u"in qe?qe.u%7:"W"in qe?1:0),ut="Z"in qe?Tz(JE(qe.y,0,1)).getUTCDay():Pz(JE(qe.y,0,1)).getDay(),qe.m=0,qe.d="W"in qe?(qe.w+6)%7+qe.W*7-(ut+5)%7:qe.w+qe.U*7-(ut+6)%7);return"Z"in qe?(qe.H+=qe.Z/100|0,qe.M+=qe.Z%100,Tz(qe)):Pz(qe)}}function O(Ee,Re,ft,qe){for(var dt=0,he=Re.length,ut=ft.length,xt,je;dt<he;){if(qe>=ut)return-1;if(xt=Re.charCodeAt(dt++),xt===37){if(xt=Re.charAt(dt++),je=E[xt in Roe?Re.charAt(dt++):xt],!je||(qe=je(Ee,ft,qe))<0)return-1}else if(xt!=ft.charCodeAt(qe++))return-1}return qe}function F(Ee,Re,ft){var qe=u.exec(Re.slice(ft));return qe?(Ee.p=f.get(qe[0].toLowerCase()),ft+qe[0].length):-1}function $(Ee,Re,ft){var qe=m.exec(Re.slice(ft));return qe?(Ee.w=v.get(qe[0].toLowerCase()),ft+qe[0].length):-1}function z(Ee,Re,ft){var qe=h.exec(Re.slice(ft));return qe?(Ee.w=p.get(qe[0].toLowerCase()),ft+qe[0].length):-1}function q(Ee,Re,ft){var qe=T.exec(Re.slice(ft));return qe?(Ee.m=A.get(qe[0].toLowerCase()),ft+qe[0].length):-1}function Z(Ee,Re,ft){var qe=w.exec(Re.slice(ft));return qe?(Ee.m=x.get(qe[0].toLowerCase()),ft+qe[0].length):-1}function V(Ee,Re,ft){return O(Ee,t,Re,ft)}function J(Ee,Re,ft){return O(Ee,r,Re,ft)}function fe(Ee,Re,ft){return O(Ee,n,Re,ft)}function ue(Ee){return s[Ee.getDay()]}function pe(Ee){return a[Ee.getDay()]}function ve(Ee){return l[Ee.getMonth()]}function le(Ee){return o[Ee.getMonth()]}function se(Ee){return i[+(Ee.getHours()>=12)]}function ge(Ee){return 1+~~(Ee.getMonth()/3)}function _e(Ee){return s[Ee.getUTCDay()]}function ke(Ee){return a[Ee.getUTCDay()]}function Ge(Ee){return l[Ee.getUTCMonth()]}function ct(Ee){return o[Ee.getUTCMonth()]}function $e(Ee){return i[+(Ee.getUTCHours()>=12)]}function we(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var Re=_(Ee+="",P);return Re.toString=function(){return Ee},Re},parse:function(Ee){var Re=R(Ee+="",!1);return Re.toString=function(){return Ee},Re},utcFormat:function(Ee){var Re=_(Ee+="",S);return Re.toString=function(){return Ee},Re},utcParse:function(Ee){var Re=R(Ee+="",!0);return Re.toString=function(){return Ee},Re}}}var Roe={"-":"",_:" ",0:"0"},ed=/^\s*\d+/,VKe=/^%/,GKe=/[\\^$*+?|[\]().{}]/g;function Rs(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function KKe(e){return e.replace(GKe,"\\$&")}function QE(e){return new RegExp("^(?:"+e.map(KKe).join("|")+")","i")}function eC(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZKe(e,t,r){var n=ed.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YKe(e,t,r){var n=ed.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XKe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function JKe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QKe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Aoe(e,t,r){var n=ed.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ooe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eZe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tZe(e,t,r){var n=ed.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rZe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ioe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nZe(e,t,r){var n=ed.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Moe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iZe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aZe(e,t,r){var n=ed.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oZe(e,t,r){var n=ed.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sZe(e,t,r){var n=ed.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lZe(e,t,r){var n=VKe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uZe(e,t,r){var n=ed.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cZe(e,t,r){var n=ed.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function koe(e,t){return Rs(e.getDate(),t,2)}function fZe(e,t){return Rs(e.getHours(),t,2)}function dZe(e,t){return Rs(e.getHours()%12||12,t,2)}function hZe(e,t){return Rs(1+zw.count(Qg(e),e),t,3)}function Y0e(e,t){return Rs(e.getMilliseconds(),t,3)}function pZe(e,t){return Y0e(e,t)+"000"}function mZe(e,t){return Rs(e.getMonth()+1,t,2)}function gZe(e,t){return Rs(e.getMinutes(),t,2)}function vZe(e,t){return Rs(e.getSeconds(),t,2)}function yZe(e){var t=e.getDay();return t===0?7:t}function bZe(e,t){return Rs(Bx.count(Qg(e)-1,e),t,2)}function X0e(e){var t=e.getDay();return t>=4||t===0?ew(e):ew.ceil(e)}function _Ze(e,t){return e=X0e(e),Rs(ew.count(Qg(e),e)+(Qg(e).getDay()===4),t,2)}function wZe(e){return e.getDay()}function xZe(e,t){return Rs(R2.count(Qg(e)-1,e),t,2)}function SZe(e,t){return Rs(e.getFullYear()%100,t,2)}function EZe(e,t){return e=X0e(e),Rs(e.getFullYear()%100,t,2)}function CZe(e,t){return Rs(e.getFullYear()%1e4,t,4)}function PZe(e,t){var r=e.getDay();return e=r>=4||r===0?ew(e):ew.ceil(e),Rs(e.getFullYear()%1e4,t,4)}function TZe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Rs(t/60|0,"0",2)+Rs(t%60,"0",2)}function Doe(e,t){return Rs(e.getUTCDate(),t,2)}function RZe(e,t){return Rs(e.getUTCHours(),t,2)}function AZe(e,t){return Rs(e.getUTCHours()%12||12,t,2)}function OZe(e,t){return Rs(1+ZM.count(ev(e),e),t,3)}function J0e(e,t){return Rs(e.getUTCMilliseconds(),t,3)}function IZe(e,t){return J0e(e,t)+"000"}function MZe(e,t){return Rs(e.getUTCMonth()+1,t,2)}function kZe(e,t){return Rs(e.getUTCMinutes(),t,2)}function DZe(e,t){return Rs(e.getUTCSeconds(),t,2)}function FZe(e){var t=e.getUTCDay();return t===0?7:t}function LZe(e,t){return Rs(jx.count(ev(e)-1,e),t,2)}function Q0e(e){var t=e.getUTCDay();return t>=4||t===0?tw(e):tw.ceil(e)}function NZe(e,t){return e=Q0e(e),Rs(tw.count(ev(e),e)+(ev(e).getUTCDay()===4),t,2)}function $Ze(e){return e.getUTCDay()}function zZe(e,t){return Rs(A2.count(ev(e)-1,e),t,2)}function BZe(e,t){return Rs(e.getUTCFullYear()%100,t,2)}function jZe(e,t){return e=Q0e(e),Rs(e.getUTCFullYear()%100,t,2)}function UZe(e,t){return Rs(e.getUTCFullYear()%1e4,t,4)}function qZe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tw(e):tw.ceil(e),Rs(e.getUTCFullYear()%1e4,t,4)}function HZe(){return"+0000"}function Foe(){return"%"}function Loe(e){return+e}function Noe(e){return Math.floor(+e/1e3)}var L1,oW,jP;WZe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WZe(e){return L1=WKe(e),oW=L1.format,L1.parse,jP=L1.utcFormat,L1.utcParse,L1}function VZe(e){return new Date(e)}function GZe(e){return e instanceof Date?+e:+new Date(+e)}function sW(e,t,r,n,i,a,s,o,l,u){var f=O0e(),h=f.invert,p=f.domain,m=u(".%L"),v=u(":%S"),w=u("%I:%M"),x=u("%I %p"),T=u("%a %d"),A=u("%b %d"),P=u("%B"),S=u("%Y");function E(_){return(l(_)<_?m:o(_)<_?v:s(_)<_?w:a(_)<_?x:n(_)<_?i(_)<_?T:A:r(_)<_?P:S)(_)}return f.invert=function(_){return new Date(h(_))},f.domain=function(_){return arguments.length?p(Array.from(_,GZe)):p().map(VZe)},f.ticks=function(_){var R=p();return e(R[0],R[R.length-1],_??10)},f.tickFormat=function(_,R){return R==null?E:u(R)},f.nice=function(_){var R=p();return(!_||typeof _.range!="function")&&(_=t(R[0],R[R.length-1],_??10)),_?p(M0e(R,_)):f},f.copy=function(){return DP(f,sW(e,t,r,n,i,a,s,o,l,u))},f}function KZe(){return cv.apply(sW(qKe,HKe,Qg,zP,Bx,zw,NP,FP,Vg,oW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZZe(){return cv.apply(sW(jKe,UKe,ev,BP,jx,ZM,$P,LP,Vg,jP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function XM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JM(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=Wm,f,h=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+f(w))-a)*(n*w<n*a?o:l),u(h?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t,r]=w,i=f(e=+e),a=f(t=+t),s=f(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(w){return arguments.length?(h=!!w,m):h},m.interpolator=function(w){return arguments.length?(u=w,m):u};function v(w){return function(x){var T,A,P;return arguments.length?([T,A,P]=x,u=lM(w,[T,A,P]),m):[u(0),u(.5),u(1)]}}return m.range=v(pS),m.rangeRound=v(WU),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return f=w,i=w(e),a=w(t),s=w(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function ebe(){var e=IS(JM()(Wm));return e.copy=function(){return XM(e,ebe())},VM.apply(e,arguments)}function tbe(){var e=k0e(JM()).domain([.1,1,10]);return e.copy=function(){return XM(e,tbe()).base(e.base())},VM.apply(e,arguments)}function rbe(){var e=F0e(JM());return e.copy=function(){return XM(e,rbe()).constant(e.constant())},VM.apply(e,arguments)}function nbe(){var e=N0e(JM());return e.copy=function(){return XM(e,nbe()).exponent(e.exponent())},VM.apply(e,arguments)}Qq();function YZe(){}function XZe(e,t,r,n){for(var i=e.length,a=r+-1;++a<i;)if(t(e[a],a,e))return a;return-1}function JZe(e){return e!==e}function QZe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function eYe(e,t,r){return t===t?QZe(e,t,r):XZe(e,JZe,r)}function tYe(e,t){var r=e==null?0:e.length;return!!r&&eYe(e,t,0)>-1}var rYe=Object.prototype,nYe=rYe.hasOwnProperty;function iYe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&nYe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function aYe(e,t){var r=Pq(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var oYe=/\w*$/;function sYe(e){var t=new e.constructor(e.source,oYe.exec(e));return t.lastIndex=e.lastIndex,t}var $oe=ty?ty.prototype:void 0,zoe=$oe?$oe.valueOf:void 0;function lYe(e){return zoe?Object(zoe.call(e)):{}}var uYe="[object Boolean]",cYe="[object Date]",fYe="[object Map]",dYe="[object Number]",hYe="[object RegExp]",pYe="[object Set]",mYe="[object String]",gYe="[object Symbol]",vYe="[object ArrayBuffer]",yYe="[object DataView]",bYe="[object Float32Array]",_Ye="[object Float64Array]",wYe="[object Int8Array]",xYe="[object Int16Array]",SYe="[object Int32Array]",EYe="[object Uint8Array]",CYe="[object Uint8ClampedArray]",PYe="[object Uint16Array]",TYe="[object Uint32Array]";function RYe(e,t,r){var n=e.constructor;switch(t){case vYe:return Pq(e);case uYe:case cYe:return new n(+e);case yYe:return aYe(e);case bYe:case _Ye:case wYe:case xYe:case SYe:case EYe:case CYe:case PYe:case TYe:return wge(e,r);case fYe:return new n;case dYe:case mYe:return new n(e);case hYe:return sYe(e);case pYe:return new n;case gYe:return lYe(e)}}var AYe="[object Map]";function OYe(e){return ry(e)&&zg(e)==AYe}var Boe=Fx&&Fx.isMap,IYe=Boe?Aq(Boe):OYe,MYe="[object Set]";function kYe(e){return ry(e)&&zg(e)==MYe}var joe=Fx&&Fx.isSet,DYe=joe?Aq(joe):kYe,FYe=1,ibe="[object Arguments]",LYe="[object Array]",NYe="[object Boolean]",$Ye="[object Date]",zYe="[object Error]",abe="[object Function]",BYe="[object GeneratorFunction]",jYe="[object Map]",UYe="[object Number]",obe="[object Object]",qYe="[object RegExp]",HYe="[object Set]",WYe="[object String]",VYe="[object Symbol]",GYe="[object WeakMap]",KYe="[object ArrayBuffer]",ZYe="[object DataView]",YYe="[object Float32Array]",XYe="[object Float64Array]",JYe="[object Int8Array]",QYe="[object Int16Array]",eXe="[object Int32Array]",tXe="[object Uint8Array]",rXe="[object Uint8ClampedArray]",nXe="[object Uint16Array]",iXe="[object Uint32Array]",ql={};ql[ibe]=ql[LYe]=ql[KYe]=ql[ZYe]=ql[NYe]=ql[$Ye]=ql[YYe]=ql[XYe]=ql[JYe]=ql[QYe]=ql[eXe]=ql[jYe]=ql[UYe]=ql[obe]=ql[qYe]=ql[HYe]=ql[WYe]=ql[VYe]=ql[tXe]=ql[rXe]=ql[nXe]=ql[iXe]=!0;ql[zYe]=ql[abe]=ql[GYe]=!1;function RA(e,t,r,n,i,a){var s,o=t&FYe;if(s!==void 0)return s;if(!jh(e))return e;var l=yp(e);if(l)s=iYe(e);else{var u=zg(e),f=u==abe||u==BYe;if(m2(e))return _ge(e,o);if(u==obe||u==ibe||f&&!i)s=f?{}:Ege(e);else{if(!ql[u])return i?e:{};s=RYe(e,u,o)}}a||(a=new Kg);var h=a.get(e);if(h)return h;a.set(e,s),DYe(e)?e.forEach(function(v){s.add(RA(v,t,r,v,e,a))}):IYe(e)&&e.forEach(function(v,w){s.set(w,RA(v,t,r,w,e,a))});var p=Dj,m=l?void 0:p(e);return kge(m||e,function(v,w){m&&(w=v,v=e[w]),Iq(s,w,RA(v,t,r,w,e,a))}),s}var aXe=1,oXe=4;function dxt(e){return RA(e,aXe|oXe)}function hxt(e,t){return PM(e,t)}function sXe(e,t,r,n){if(!jh(e))return e;t=Nq(t,e);for(var i=-1,a=t.length,s=a-1,o=e;o!=null&&++i<a;){var l=wP(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var f=o[l];u=void 0,u===void 0&&(u=jh(f)?f:wM(t[i+1])?[]:{})}Iq(o,l,u),o=o[l]}return e}function pxt(e,t,r){return e==null?e:sXe(e,t,r)}var lXe=1/0,uXe=Sx&&1/Dq(new Sx([,-0]))[1]==lXe?function(e){return new Sx(e)}:YZe,cXe=200;function sbe(e,t,r){var n=-1,i=tYe,a=e.length,s=!0,o=[],l=o;if(a>=cXe){var u=t?null:uXe(e);if(u)return Dq(u);s=!1,i=zge,l=new g2}else l=t?[]:o;e:for(;++n<a;){var f=e[n],h=t?t(f):f;if(f=f!==0?f:0,s&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),o.push(f)}else i(l,h,r)||(l!==o&&l.push(h),o.push(f))}return o}function mxt(e){return e&&e.length?sbe(e):[]}function gxt(e,t){return e&&e.length?sbe(e,Wge(t)):[]}function fXe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dXe=fXe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const lbe=ne.createContext(null);function hXe(e,t){let r=null;return e!=null&&(r=e[1]),{getTheme:function(){return t??(r!=null?r.getTheme():null)}}}function Xs(){const e=ne.useContext(lbe);return e==null&&dXe(8),e}function pXe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yn=pXe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const fv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,mXe=fv&&"documentMode"in document?document.documentMode:null,Fg=fv&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),sb=fv&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),SO=!(!fv||!("InputEvent"in window)||mXe)&&"getTargetRanges"in new window.InputEvent("input"),O2=fv&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ux=fv&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gXe=fv&&/Android/.test(navigator.userAgent),ube=fv&&/^(?=.*Chrome).*/i.test(navigator.userAgent),vXe=fv&&gXe&&ube,EO=fv&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ube;function CO(...e){const t=[];for(const r of e)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))t.push(n);return t}const yXe=1,bXe=3,_Xe=9,wXe=11,rw=0,cbe=1,qx=2,xXe=0,SXe=1,EXe=2,PO=4,TO=8,lW=128,CXe=1792|(112|(3|PO|TO)|lW),uW=1,cW=2,fW=3,dW=4,hW=5,pW=6,QM=O2||Ux||EO?" ":"​",u0=`

`,PXe=sb?" ":QM,fbe="֑-߿יִ-﷽ﹰ-ﻼ",dbe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",TXe=new RegExp("^[^"+dbe+"]*["+fbe+"]"),RXe=new RegExp("^[^"+fbe+"]*["+dbe+"]"),gb={bold:1,capitalize:1024,code:16,highlight:lW,italic:2,lowercase:256,strikethrough:PO,subscript:32,superscript:64,underline:TO,uppercase:512},AXe={directionless:1,unmergeable:2},Uoe={center:cW,end:pW,justify:dW,left:uW,right:fW,start:hW},OXe={[cW]:"center",[pW]:"end",[dW]:"justify",[uW]:"left",[fW]:"right",[hW]:"start"},IXe={normal:0,segmented:2,token:1},MXe={[xXe]:"normal",[EXe]:"segmented",[SXe]:"token"};function hbe(e,t,r,n,i,a){let s=e.getFirstChild();for(;s!==null;){const o=s.__key;s.__parent===t&&(qr(s)&&hbe(s,o,r,n,i,a),r.has(o)||a.delete(o),i.push(o)),s=s.getNextSibling()}}const kXe=100;let o7=!1,mW=0;function DXe(e){mW=e.timeStamp}function Rz(e,t,r){const n=e.nodeName==="BR",i=t.__lexicalLineBreak;return i&&(e===i||n&&e.previousSibling===i)||n&&ck(e,r)!==void 0}function FXe(e,t,r){const n=eh(rg(r));let i=null,a=null;n!==null&&n.anchorNode===e&&(i=n.anchorOffset,a=n.focusOffset);const s=e.nodeValue;s!==null&&FW(t,s,i,a,!1)}function LXe(e,t,r){if(Vr(e)){const n=e.anchor.getNode();if(n.is(r)&&e.format!==n.getFormat())return!1}return b0(t)&&r.isAttached()}function NXe(e,t,r,n){for(let i=e;i&&!bJe(i);i=XP(i)){const a=ck(i,t);if(a!==void 0){const s=ps(a,r);if(s)return ws(s)||!Pl(i)?void 0:[i,s]}else if(i===n)return[n,Zbe(r)]}}function pbe(e,t,r){o7=!0;const n=performance.now()-mW>kXe;try{jm(e,()=>{const i=ln()||function(p){return p.getEditorState().read(()=>{const m=ln();return m!==null?m.clone():null})}(e),a=new Map,s=e.getRootElement(),o=e._editorState,l=e._blockCursorElement;let u=!1,f="";for(let p=0;p<t.length;p++){const m=t[p],v=m.type,w=m.target,x=NXe(w,e,o,s);if(!x)continue;const[T,A]=x;if(v==="characterData")n&&Rn(A)&&b0(w)&&LXe(i,w,A)&&FXe(w,A,e);else if(v==="childList"){u=!0;const P=m.addedNodes;for(let _=0;_<P.length;_++){const R=P[_],O=Gbe(R),F=R.parentNode;if(F!=null&&R!==l&&O===null&&!Rz(R,F,e)){if(sb){const $=(Pl(R)?R.innerText:null)||R.nodeValue;$&&(f+=$)}F.removeChild(R)}}const S=m.removedNodes,E=S.length;if(E>0){let _=0;for(let R=0;R<E;R++){const O=S[R];(Rz(O,w,e)||l===O)&&(w.appendChild(O),_++)}E!==_&&a.set(T,A)}}}if(a.size>0)for(const[p,m]of a)m.reconcileObservedMutation(p,e);const h=r.takeRecords();if(h.length>0){for(let p=0;p<h.length;p++){const m=h[p],v=m.addedNodes,w=m.target;for(let x=0;x<v.length;x++){const T=v[x],A=T.parentNode;A==null||T.nodeName!=="BR"||Rz(T,w,e)||A.removeChild(T)}}r.takeRecords()}i!==null&&(u&&Tu(i),sb&&e_e(e)&&i.insertRawText(f))})}finally{o7=!1}}function mbe(e){const t=e._observer;t!==null&&pbe(e,t.takeRecords(),t)}function gbe(e){(function(t){mW===0&&rg(t).addEventListener("textInput",DXe,!0)})(e),e._observer=new MutationObserver((t,r)=>{pbe(e,t,r)})}function qoe(e,t){const r=e.__mode,n=e.__format,i=e.__style,a=t.__mode,s=t.__format,o=t.__style;return!(r!==null&&r!==a||n!==null&&n!==s||i!==null&&i!==o)}function Hoe(e,t){const r=e.mergeWithSibling(t),n=Qu()._normalizedNodes;return n.add(e.__key),n.add(t.__key),r}function Woe(e){let t,r,n=e;if(n.__text!==""||!n.isSimpleText()||n.isUnmergeable()){for(;(t=n.getPreviousSibling())!==null&&Rn(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(qoe(t,n)){n=Hoe(t,n);break}break}t.remove()}for(;(r=n.getNextSibling())!==null&&Rn(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(r.__text!==""){if(qoe(n,r)){n=Hoe(n,r);break}break}r.remove()}}else n.remove()}function vb(e){return Voe(e.anchor),Voe(e.focus),e}function Voe(e){for(;e.type==="element";){const t=e.getNode(),r=e.offset;let n,i;if(r===t.getChildrenSize()?(n=t.getChildAtIndex(r-1),i=!0):(n=t.getChildAtIndex(r),i=!1),Rn(n)){e.set(n.__key,i?n.getTextContentSize():0,"text",!0);break}if(!qr(n))break;e.set(n.__key,i?n.getChildrenSize():0,"element",!0)}}let yb,$h,I2,ek,s7,l7,nw,Zg,u7,M2,vf="",Dh="",Ov=null,Ng="",Hy="",vbe=!1,k2=!1,AA=null;function RO(e,t){const r=nw.get(e);if(t!==null){const n=d7(e);n.parentNode===t&&t.removeChild(n)}if(Zg.has(e)||$h._keyToDOMMap.delete(e),qr(r)){const n=OO(r,nw);c7(n,0,n.length-1,null)}r!==void 0&&LW(M2,I2,ek,r,"destroyed")}function c7(e,t,r,n){let i=t;for(;i<=r;++i){const a=e[i];a!==void 0&&RO(a,n)}}function v_(e,t){e.setProperty("text-align",t)}const $Xe="40px";function ybe(e,t){const r=yb.theme.indent;if(typeof r=="string"){const i=e.classList.contains(r);t>0&&!i?e.classList.add(r):t<1&&i&&e.classList.remove(r)}const n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||$Xe;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${n})`)}function bbe(e,t){const r=e.style;t===0?v_(r,""):t===uW?v_(r,"left"):t===cW?v_(r,"center"):t===fW?v_(r,"right"):t===dW?v_(r,"justify"):t===hW?v_(r,"start"):t===pW&&v_(r,"end")}function AO(e,t){const r=Zg.get(e);r===void 0&&Yn(60);const n=r.createDOM(yb,$h);if(function(i,a,s){const o=s._keyToDOMMap;(function(l,u,f){const h=`__lexicalKey_${u._key}`;l[h]=f})(a,s,i),o.set(i,a)}(e,n,$h),Rn(r)?n.setAttribute("data-lexical-text","true"):ws(r)&&n.setAttribute("data-lexical-decorator","true"),qr(r)){const i=r.__indent,a=r.__size;if(i!==0&&ybe(n,i),a!==0){const o=a-1;(function(l,u,f,h){const p=Dh;Dh="",f7(l,f,0,u,f.getDOMSlot(h)),wbe(f,h),Dh=p})(OO(r,Zg),o,r,n)}const s=r.__format;s!==0&&bbe(n,s),r.isInline()||_be(null,r,n),fk(r)&&(vf+=u0,Hy+=u0)}else{const i=r.getTextContent();if(ws(r)){const a=r.decorate($h,yb);a!==null&&xbe(e,a),n.contentEditable="false"}else Rn(r)&&(r.isDirectionless()||(Dh+=i));vf+=i,Hy+=i}return t!==null&&t.insertChild(n),LW(M2,I2,ek,r,"created"),n}function f7(e,t,r,n,i){const a=vf;vf="";let s=r;for(;s<=n;++s){AO(e[s],i);const o=Zg.get(e[s]);o!==null&&Rn(o)&&(Ov===null&&(Ov=o.getFormat()),Ng===""&&(Ng=o.getStyle()))}fk(t)&&(vf+=u0),i.element.__lexicalTextContent=vf,vf=a+vf}function Goe(e,t){if(e){const r=e.__last;if(r){const n=t.get(r);if(n)return hl(n)?"line-break":ws(n)&&n.isInline()?"decorator":null}return"empty"}return null}function _be(e,t,r){const n=Goe(e,nw),i=Goe(t,Zg);n!==i&&t.getDOMSlot(r).setManagedLineBreak(i)}function wbe(e,t){const r=t.__lexicalDirTextContent||"",n=t.__lexicalDir||"";if(r!==Dh||n!==AA){const i=Dh==="",a=i?AA:function(s){return TXe.test(s)?"rtl":RXe.test(s)?"ltr":null}(Dh);if(a!==n){const s=t.classList,o=yb.theme;let l=n!==null?o[n]:void 0,u=a!==null?o[a]:void 0;if(l!==void 0){if(typeof l=="string"){const f=CO(l);l=o[n]=f}s.remove(...l)}if(a===null||i&&a==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const f=CO(u);u=o[a]=f}u!==void 0&&s.add(...u)}t.dir=a}k2||(e.getWritable().__dir=a)}AA=a,t.__lexicalDirTextContent=Dh,t.__lexicalDir=a}}function zXe(e,t,r){const n=Dh;var i;Dh="",Ov=null,Ng="",function(a,s,o){const l=vf,u=a.__size,f=s.__size;vf="";const h=o.element;if(u===1&&f===1){const p=a.__first,m=s.__first;if(p===m)bC(p,h);else{const w=d7(p),x=AO(m,null);try{h.replaceChild(x,w)}catch(T){if(typeof T=="object"&&T!=null){const A=`${T.toString()} Parent: ${h.tagName}, new child: {tag: ${x.tagName} key: ${m}}, old child: {tag: ${w.tagName}, key: ${p}}.`;throw new Error(A)}throw T}RO(p,null)}const v=Zg.get(m);Rn(v)&&(Ov===null&&(Ov=v.getFormat()),Ng===""&&(Ng=v.getStyle()))}else{const p=OO(a,nw),m=OO(s,Zg);if(p.length!==u&&Yn(227),m.length!==f&&Yn(228),u===0)f!==0&&f7(m,s,0,f-1,o);else if(f===0){if(u!==0){const v=o.after==null&&o.before==null&&o.element.__lexicalLineBreak==null;c7(p,0,u-1,v?null:h),v&&(h.textContent="")}}else(function(v,w,x,T,A,P){const S=T-1,E=A-1;let _,R,O=P.getFirstChild(),F=0,$=0;for(;F<=S&&$<=E;){const Z=w[F],V=x[$];if(Z===V)O=Az(bC(V,P.element)),F++,$++;else{_===void 0&&(_=new Set(w)),R===void 0&&(R=new Set(x));const fe=R.has(Z),ue=_.has(V);if(fe)if(ue){const pe=UO($h,V);pe===O?O=Az(bC(V,P.element)):(P.withBefore(O).insertChild(pe),bC(V,P.element)),F++,$++}else AO(V,P.withBefore(O)),$++;else O=Az(d7(Z)),RO(Z,P.element),F++}const J=Zg.get(V);J!==null&&Rn(J)&&(Ov===null&&(Ov=J.getFormat()),Ng===""&&(Ng=J.getStyle()))}const z=F>S,q=$>E;if(z&&!q){const Z=x[E+1],V=Z===void 0?null:$h.getElementByKey(Z);f7(x,v,$,E,P.withBefore(V))}else q&&!z&&c7(w,F,S,P.element)})(s,p,m,u,f,o)}fk(s)&&(vf+=u0),h.__lexicalTextContent=vf,vf=l+vf}(e,t,t.getDOMSlot(r)),wbe(t,r),i=t,Ov==null||Ov===i.__textFormat||k2||(i.setTextFormat(Ov),i.setTextStyle(Ng)),function(a){Ng===""||Ng===a.__textStyle||k2||a.setTextStyle(Ng)}(t),Dh=n}function OO(e,t){const r=[];let n=e.__first;for(;n!==null;){const i=t.get(n);i===void 0&&Yn(101),r.push(n),n=i.__next}return r}function bC(e,t){const r=nw.get(e);let n=Zg.get(e);r!==void 0&&n!==void 0||Yn(61);const i=vbe||l7.has(e)||s7.has(e),a=UO($h,e);if(r===n&&!i){if(qr(r)){const s=a.__lexicalTextContent;s!==void 0&&(vf+=s,Hy+=s);const o=a.__lexicalDirTextContent;o!==void 0&&(Dh+=o)}else{const s=r.getTextContent();Rn(r)&&!r.isDirectionless()&&(Dh+=s),Hy+=s,vf+=s}return a}if(r!==n&&i&&LW(M2,I2,ek,n,"updated"),n.updateDOM(r,a,yb)){const s=AO(e,null);return t===null&&Yn(62),t.replaceChild(s,a),RO(e,null),s}if(qr(r)&&qr(n)){const s=n.__indent;s!==r.__indent&&ybe(a,s);const o=n.__format;o!==r.__format&&bbe(a,o),i&&(zXe(r,n,a),Gf(n)||n.isInline()||_be(r,n,a)),fk(n)&&(vf+=u0,Hy+=u0)}else{const s=n.getTextContent();if(ws(n)){const o=n.decorate($h,yb);o!==null&&xbe(e,o)}else Rn(n)&&!n.isDirectionless()&&(Dh+=s);vf+=s,Hy+=s}if(!k2&&Gf(n)&&n.__cachedText!==Hy){const s=n.getWritable();s.__cachedText=Hy,n=s}return a}function xbe(e,t){let r=$h._pendingDecorators;const n=$h._decorators;if(r===null){if(n[e]===t)return;r=Kbe($h)}r[e]=t}function Az(e){let t=e.nextSibling;return t!==null&&t===$h._blockCursorElement&&(t=t.nextSibling),t}function BXe(e,t,r,n,i,a){vf="",Hy="",Dh="",vbe=n===qx,AA=null,$h=r,yb=r._config,I2=r._nodes,ek=$h._listeners.mutation,s7=i,l7=a,nw=e._nodeMap,Zg=t._nodeMap,k2=t._readOnly,u7=new Map(r._keyToDOMMap);const s=new Map;return M2=s,bC("root",null),$h=void 0,I2=void 0,s7=void 0,l7=void 0,nw=void 0,Zg=void 0,yb=void 0,u7=void 0,M2=void 0,s}function d7(e){const t=u7.get(e);return t===void 0&&Yn(75,e),t}function dv(e){return{}}const Q0={},gW={},tk={},Xm={},lb={},bb={},ub={},UP={},IO={},iw={},_b={},Jy={},vW={},yW={},jXe={},rk={},h7={},qP={},MO={},ny={},wb={},aw={},bW={},MS={},kS={},DS={},Uw={},kO={},i0={},O_={},_W={},wW={},xW={},Sbe={},UXe={},HP={},WP={},DO={},Ebe={},Cbe={},PR={},TR={},Pbe={},qXe={},HXe={},Ny=Object.freeze({}),p7=30,m7=[["keydown",function(e,t){if(BC=e.timeStamp,g7=e.key,t.isComposing())return;const{key:r,shiftKey:n,ctrlKey:i,metaKey:a,altKey:s}=e;if(!ki(t,jXe,e)&&r!=null){if(Oz&&N1(g7))return jm(t,()=>{RR(t,Iz)}),Oz=!1,void(Iz="");if(function(o,l,u,f){return bse(o)&&!l&&!f&&!u}(r,i,s,a))ki(t,rk,e);else if(function(o,l,u,f,h){return bse(o)&&!f&&!u&&(l||h)}(r,i,n,s,a))ki(t,h7,e);else if(function(o,l,u,f){return yse(o)&&!l&&!f&&!u}(r,i,s,a))ki(t,qP,e);else if(function(o,l,u,f,h){return yse(o)&&!f&&!u&&(l||h)}(r,i,n,s,a))ki(t,MO,e);else if(function(o,l,u){return function(f){return f==="ArrowUp"}(o)&&!l&&!u}(r,i,a))ki(t,ny,e);else if(function(o,l,u){return function(f){return f==="ArrowDown"}(o)&&!l&&!u}(r,i,a))ki(t,wb,e);else if(function(o,l){return _se(o)&&l}(r,n))jC=!0,ki(t,aw,e);else if(function(o){return o===" "}(r))ki(t,bW,e);else if(function(o,l){return Fg&&l&&o.toLowerCase()==="o"}(r,i))e.preventDefault(),jC=!0,ki(t,lb,!0);else if(function(o,l){return _se(o)&&!l}(r,n))jC=!1,ki(t,aw,e);else if(function(o,l,u,f){return Fg?!l&&!u&&(N1(o)||o.toLowerCase()==="h"&&f):f||l||u?!1:N1(o)}(r,s,a,i))N1(r)?ki(t,MS,e):(e.preventDefault(),ki(t,Xm,!0));else if(function(o){return o==="Escape"}(r))ki(t,kS,e);else if(function(o,l,u,f,h){return Fg?!(u||f||h)&&(rC(o)||o.toLowerCase()==="d"&&l):l||f||h?!1:rC(o)}(r,i,n,s,a))rC(r)?ki(t,DS,e):(e.preventDefault(),ki(t,Xm,!1));else if(function(o,l,u){return N1(o)&&(Fg?l:u)}(r,s,i))e.preventDefault(),ki(t,iw,!0);else if(function(o,l,u){return rC(o)&&(Fg?l:u)}(r,s,i))e.preventDefault(),ki(t,iw,!1);else if(function(o,l){return Fg&&l&&N1(o)}(r,a))e.preventDefault(),ki(t,_b,!0);else if(function(o,l){return Fg&&l&&rC(o)}(r,a))e.preventDefault(),ki(t,_b,!1);else if(function(o,l,u,f){return o.toLowerCase()==="b"&&!l&&_C(u,f)}(r,s,a,i))e.preventDefault(),ki(t,Jy,"bold");else if(function(o,l,u,f){return o.toLowerCase()==="u"&&!l&&_C(u,f)}(r,s,a,i))e.preventDefault(),ki(t,Jy,"underline");else if(function(o,l,u,f){return o.toLowerCase()==="i"&&!l&&_C(u,f)}(r,s,a,i))e.preventDefault(),ki(t,Jy,"italic");else if(function(o,l,u,f){return o==="Tab"&&!l&&!u&&!f}(r,s,i,a))ki(t,Uw,e);else if(function(o,l,u,f){return o.toLowerCase()==="z"&&!l&&_C(u,f)}(r,n,a,i))e.preventDefault(),ki(t,vW,void 0);else if(function(o,l,u,f){return Fg?o.toLowerCase()==="z"&&u&&l:o.toLowerCase()==="y"&&f||o.toLowerCase()==="z"&&f&&l}(r,n,a,i))e.preventDefault(),ki(t,yW,void 0);else{const o=t._editorState._selection;o===null||Vr(o)?!sb&&wse(r,a,i)&&(e.preventDefault(),ki(t,DO,e)):function(l,u,f,h){return u?!1:l.toLowerCase()==="c"?Fg?f:h:!1}(r,n,a,i)?(e.preventDefault(),ki(t,HP,e)):function(l,u,f,h){return u?!1:l.toLowerCase()==="x"?Fg?f:h:!1}(r,n,a,i)?(e.preventDefault(),ki(t,WP,e)):wse(r,a,i)&&(e.preventDefault(),ki(t,DO,e))}(function(o,l,u,f){return o||l||u||f})(i,n,s,a)&&ki(t,HXe,e)}}],["pointerdown",function(e,t){const r=e.target,n=e.pointerType;a0(r)&&n!=="touch"&&e.button===0&&jm(t,()=>{ws(Qd(r))||(y7=!0)})}],["compositionstart",function(e,t){jm(t,()=>{const r=ln();if(Vr(r)&&!t.isComposing()){const n=r.anchor,i=r.anchor.getNode();Td(n.key),(e.timeStamp<BC+p7||n.type==="element"||!r.isCollapsed()||i.getFormat()!==r.format||Rn(i)&&i.getStyle()!==r.style)&&ki(t,ub,PXe)}})}],["compositionend",function(e,t){sb?tC=!0:Ux||!O2&&!EO?jm(t,()=>{RR(t,e.data)}):(Oz=!0,Iz=e.data)}],["input",function(e,t){e.stopPropagation(),jm(t,()=>{const r=ln(),n=e.data,i=Obe(e);if(n!=null&&Vr(r)&&Abe(r,i,n,e.timeStamp,!1)){tC&&(RR(t,n),tC=!1);const a=r.anchor.getNode(),s=eh(rg(t));if(s===null)return;const o=r.isBackward(),l=o?r.anchor.offset:r.focus.offset,u=o?r.focus.offset:r.anchor.offset;SO&&!r.isCollapsed()&&Rn(a)&&s.anchorNode!==null&&a.getTextContent().slice(0,l)+n+a.getTextContent().slice(l+u)===Jbe(s.anchorNode)||ki(t,ub,n);const f=n.length;sb&&f>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(r.anchor.offset-=f),O2||Ux||EO||!t.isComposing()||(BC=0,Td(null))}else DW(!1,t,n!==null?n:void 0),tC&&(RR(t,n||void 0),tC=!1);(function(){Vd();const a=Qu();mbe(a)})()},{event:e}),hx=null}],["click",function(e,t){jm(t,()=>{const r=ln(),n=eh(rg(t)),i=c0();if(n){if(Vr(r)){const a=r.anchor,s=a.getNode();if(a.type==="element"&&a.offset===0&&r.isCollapsed()&&!Gf(s)&&Js().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&r.is(i))n.removeAllRanges(),r.dirty=!0;else if(e.detail===3&&!r.isCollapsed()&&s!==r.focus.getNode()){const o=function(l,u){let f=l;for(;f!==Js()&&f!=null;){if(u(f))return f;f=f.getParent()}return null}(s,l=>qr(l)&&!l.isInline());qr(o)&&o.select(0)}}else if(e.pointerType==="touch"){const a=n.anchorNode;(Pl(a)||b0(a))&&Tu(ok(i,n,t,e))}}ki(t,tk,e)})}],["cut",Ny],["copy",Ny],["dragstart",Ny],["dragover",Ny],["dragend",Ny],["paste",Ny],["focus",Ny],["blur",Ny],["drop",Ny]];SO&&m7.push(["beforeinput",(e,t)=>function(r,n){const i=r.inputType,a=Obe(r);i==="deleteCompositionText"||sb&&e_e(n)||i!=="insertCompositionText"&&jm(n,()=>{const s=ln();if(i==="deleteContentBackward"){if(s===null){const m=c0();if(!Vr(m))return;Tu(m.clone())}if(Vr(s)){const m=s.anchor.key===s.focus.key;if(o=r.timeStamp,g7==="MediaLast"&&o<BC+p7&&n.isComposing()&&m){if(Td(null),BC=0,setTimeout(()=>{jm(n,()=>{Td(null)})},p7),Vr(s)){const v=s.anchor.getNode();v.markDirty(),s.format=v.getFormat(),Rn(v)||Yn(142),s.style=v.getStyle()}}else{Td(null),r.preventDefault();const v=s.anchor.getNode(),w=v.getTextContent(),x=v.canInsertTextAfter(),T=s.anchor.offset===0&&s.focus.offset===w.length;let A=vXe&&m&&!T&&x;A&&s.isCollapsed()&&(A=!ws(D2(s.anchor,!0))),A||ki(n,Xm,!0)}return}}var o;if(!Vr(s))return;const l=r.data;hx!==null&&DW(!1,n,hx),s.dirty&&hx===null||!s.isCollapsed()||Gf(s.anchor.getNode())||a===null||s.applyDOMRange(a),hx=null;const u=s.anchor,f=s.focus,h=u.getNode(),p=f.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(r.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ki(n,ub,r);break;case"insertFromComposition":Td(null),ki(n,ub,r);break;case"insertLineBreak":Td(null),ki(n,lb,!1);break;case"insertParagraph":Td(null),jC&&!Ux?(jC=!1,ki(n,lb,!1)):ki(n,bb,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ki(n,UP,r);break;case"deleteByComposition":(function(m,v){return m!==v||qr(m)||qr(v)||!m.isToken()||!v.isToken()})(h,p)&&ki(n,IO,r);break;case"deleteByDrag":case"deleteByCut":ki(n,IO,r);break;case"deleteContent":ki(n,Xm,!1);break;case"deleteWordBackward":ki(n,iw,!0);break;case"deleteWordForward":ki(n,iw,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ki(n,_b,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ki(n,_b,!1);break;case"formatStrikeThrough":ki(n,Jy,"strikethrough");break;case"formatBold":ki(n,Jy,"bold");break;case"formatItalic":ki(n,Jy,"italic");break;case"formatUnderline":ki(n,Jy,"underline");break;case"historyUndo":ki(n,vW,void 0);break;case"historyRedo":ki(n,yW,void 0)}else{if(l===`
`)r.preventDefault(),ki(n,lb,!1);else if(l===u0)r.preventDefault(),ki(n,bb,void 0);else if(l==null&&r.dataTransfer){const m=r.dataTransfer.getData("text/plain");r.preventDefault(),s.insertRawText(m)}else l!=null&&Abe(s,a,l,r.timeStamp,!0)?(r.preventDefault(),ki(n,ub,l)):hx=l;Tbe=r.timeStamp}})}(e,t)]);let BC=0,g7=null,Tbe=0,hx=null;const FO=new WeakMap;let v7=!1,y7=!1,jC=!1,tC=!1,Oz=!1,Iz="",Rbe=[0,"",0,"root",0];function Abe(e,t,r,n,i){const a=e.anchor,s=e.focus,o=a.getNode(),l=Qu(),u=eh(rg(l)),f=u!==null?u.anchorNode:null,h=a.key,p=l.getElementByKey(h),m=r.length;return h!==s.key||!Rn(o)||(!i&&(!SO||Tbe<n+50)||o.isDirty()&&m<2||Ybe(r))&&a.offset!==s.offset&&!o.isComposing()||S_(o)||o.isDirty()&&m>1||(i||!SO)&&p!==null&&!o.isComposing()&&f!==zO(p)||u!==null&&t!==null&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||o.getFormat()!==e.format||o.getStyle()!==e.style||function(v,w){if(w.isSegmented())return!0;if(!v.isCollapsed())return!1;const x=v.anchor.offset,T=w.getParentOrThrow(),A=w.isToken();return x===0?!w.canInsertTextBefore()||!T.canInsertTextBefore()&&!w.isComposing()||A||function(P){const S=P.getPreviousSibling();return(Rn(S)||qr(S)&&S.isInline())&&!S.canInsertTextAfter()}(w):x===w.getTextContentSize()&&(!w.canInsertTextAfter()||!T.canInsertTextAfter()&&!w.isComposing()||A)}(e,o)}function Koe(e,t){return b0(e)&&e.nodeValue!==null&&t!==0&&t!==e.nodeValue.length}function Zoe(e,t,r){const{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s}=e;v7&&(v7=!1,Koe(n,i)&&Koe(a,s))||jm(t,()=>{if(!r)return void Tu(null);if(!YP(t,n,a))return;const o=ln();if(Vr(o)){const l=o.anchor,u=l.getNode();if(o.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(o.dirty=!0);const f=rg(t).event,h=f?f.timeStamp:performance.now(),[p,m,v,w,x]=Rbe,T=Js(),A=t.isComposing()===!1&&T.getTextContent()==="";if(h<x+200&&l.offset===v&&l.key===w)o.format=p,o.style=m;else if(l.type==="text")Rn(u)||Yn(141),o.format=u.getFormat(),o.style=u.getStyle();else if(l.type==="element"&&!A){qr(u)||Yn(259);const P=l.getNode();o.style="",P.isEmpty()?(o.format=P.getTextFormat(),o.style=P.getTextStyle()):o.format=0}}else{const f=l.key,h=o.focus.key,p=o.getNodes(),m=p.length,v=o.isBackward(),w=v?s:i,x=v?i:s,T=v?h:f,A=v?f:h;let P=CXe,S=!1;for(let E=0;E<m;E++){const _=p[E],R=_.getTextContentSize();if(Rn(_)&&R!==0&&!(E===0&&_.__key===T&&w===R||E===m-1&&_.__key===A&&x===0)&&(S=!0,P&=_.getFormat(),P===0))break}o.format=S?P:0}}ki(t,Q0,void 0)})}function Obe(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function RR(e,t){const r=e._compositionKey;if(Td(null),r!==null&&t!=null){if(t===""){const n=ps(r),i=zO(e.getElementByKey(r));return void(i!==null&&i.nodeValue!==null&&Rn(n)&&FW(n,i.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const n=ln();if(Vr(n)){const i=n.focus;return n.anchor.set(i.key,i.offset,i.type),void ki(e,aw,null)}}}DW(!0,e,t)}function Ibe(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const Cx=new Map;function Mbe(e){const t=mJe(e.target);if(t===null)return;const r=IW(t.anchorNode);if(r===null)return;y7&&(y7=!1,jm(r,()=>{const l=c0(),u=t.anchorNode;(Pl(u)||b0(u))&&Tu(ok(l,t,r,e))}));const n=kW(r),i=n[n.length-1],a=i._key,s=Cx.get(a),o=s||i;o!==r&&Zoe(t,o,!1),Zoe(t,r,!0),r!==i?Cx.set(a,r):s&&Cx.delete(a)}function Yoe(e){e._lexicalHandled=!0}function Xoe(e){return e._lexicalHandled===!0}function WXe(e){const t=e.ownerDocument,r=FO.get(t);r===void 0&&Yn(162);const n=r-1;n>=0||Yn(164),FO.set(t,n),n===0&&t.removeEventListener("selectionchange",Mbe);const i=uk(e);OW(i)?(function(s){if(s._parentEditor!==null){const o=kW(s),l=o[o.length-1]._key;Cx.get(l)===s&&Cx.delete(l)}else Cx.delete(s._key)}(i),e.__lexicalEditor=null):i&&Yn(198);const a=Ibe(e);for(let s=0;s<a.length;s++)a[s]();e.__lexicalEventHandles=[]}function b7(e,t,r){Vd();const n=e.__key,i=e.getParent();if(i===null)return;const a=function(o){const l=ln();if(!Vr(l)||!qr(o))return l;const{anchor:u,focus:f}=l,h=u.getNode(),p=f.getNode();return x7(h,o)&&u.set(o.__key,0,"element"),x7(p,o)&&f.set(o.__key,0,"element"),l}(e);let s=!1;if(Vr(a)&&t){const o=a.anchor,l=a.focus;o.key===n&&($O(o,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0),l.key===n&&($O(l,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0)}else gf(a)&&t&&e.isSelected()&&e.selectPrevious();if(Vr(a)&&t&&!s){const o=e.getIndexWithinParent();N_(e),NO(a,i,o,-1)}else N_(e);r||Jd(i)||i.canBeEmpty()||!i.isEmpty()||b7(i,t),t&&Gf(i)&&i.isEmpty()&&i.selectEnd()}class nk{static getType(){Yn(64,this.name)}static clone(t){Yn(65,this.name)}afterCloneFrom(t){this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Vbe(this,t)}getType(){return this.__type}isInline(){Yn(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const r=ps(t);if(r===null)break;t=r.__parent}return!1}isSelected(t){const r=t||ln();if(r==null)return!1;const n=r.getNodes().some(i=>i.__key===this.__key);if(Rn(this))return n;if(Vr(r)&&r.anchor.type==="element"&&r.focus.type==="element"){if(r.isCollapsed())return!1;const i=this.getParent();if(ws(this)&&this.isInline()&&i){const a=r.isBackward()?r.focus:r.anchor;if(i.is(a.getNode())&&a.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let r=t.getFirstChild(),n=0;for(;r!==null;){if(this.is(r))return n;n++,r=r.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:ps(t)}getParentOrThrow(){const t=this.getParent();return t===null&&Yn(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const r=t.getParent();if(Jd(r))return qr(t)||t===this&&ws(t)||Yn(194),t;t=r}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&Yn(67,this.__key),t}getParents(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r),r=r.getParent();return t}getParentKeys(){const t=[];let r=this.getParent();for(;r!==null;)t.push(r.__key),r=r.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:ps(t)}getPreviousSiblings(){const t=[],r=this.getParent();if(r===null)return t;let n=r.getFirstChild();for(;n!==null&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:ps(t)}getNextSiblings(){const t=[];let r=this.getNextSibling();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getCommonAncestor(t){const r=this.getParents(),n=t.getParents();qr(this)&&r.unshift(this),qr(t)&&n.unshift(t);const i=r.length,a=n.length;if(i===0||a===0||r[i-1]!==n[a-1])return null;const s=new Set(n);for(let o=0;o<i;o++){const l=r[o];if(s.has(l))return l}return null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const r=this.getCommonAncestor(t);let n=0,i=0,a=this;for(;;){const s=a.getParentOrThrow();if(s===r){n=a.getIndexWithinParent();break}a=s}for(a=t;;){const s=a.getParentOrThrow();if(s===r){i=a.getIndexWithinParent();break}a=s}return n<i}isParentOf(t){const r=this.__key;if(r===t.__key)return!1;let n=t;for(;n!==null;){if(n.__key===r)return!0;n=n.getParent()}return!1}getNodesBetween(t){const r=this.isBefore(t),n=[],i=new Set;let a=this;for(;a!==null;){const s=a.__key;if(i.has(s)||(i.add(s),n.push(a)),a===t)break;const o=qr(a)?r?a.getFirstChild():a.getLastChild():null;if(o!==null){a=o;continue}const l=r?a.getNextSibling():a.getPreviousSibling();if(l!==null){a=l;continue}const u=a.getParentOrThrow();if(i.has(u.__key)||n.push(u),u===t)break;let f=null,h=u;do{if(h===null&&Yn(68),f=r?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;f!==null||i.has(h.__key)||n.push(h)}while(f===null);a=f}return r||n.reverse(),n}isDirty(){const t=Qu()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=ps(this.__key);return t===null&&Yn(113),t}getWritable(){Vd();const t=zb(),r=Qu(),n=t._nodeMap,i=this.__key,a=this.getLatest(),s=r._cloneNotNeeded,o=ln();if(o!==null&&o.setCachedNodes(null),s.has(i))return jO(a),a;const l=dk(a);return s.add(i),jO(l),n.set(i,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,r){Yn(70)}updateDOM(t,r,n){Yn(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){return{type:this.__type,version:1}}static importJSON(t){Yn(18,this.name)}updateFromJSON(t){return this}static transform(){return null}remove(t){b7(this,!0,t)}replace(t,r){Vd();let n=ln();n!==null&&(n=n.clone()),$z(this,t);const i=this.getLatest(),a=this.__key,s=t.__key,o=t.getWritable(),l=this.getParentOrThrow().getWritable(),u=l.__size;N_(o);const f=i.getPreviousSibling(),h=i.getNextSibling(),p=i.__prev,m=i.__next,v=i.__parent;if(b7(i,!1,!0),f===null?l.__first=s:f.getWritable().__next=s,o.__prev=p,h===null?l.__last=s:h.getWritable().__prev=s,o.__next=m,o.__parent=v,l.__size=u,r&&(qr(this)&&qr(o)||Yn(139),this.getChildren().forEach(w=>{o.append(w)})),Vr(n)){Tu(n);const w=n.anchor,x=n.focus;w.key===a&&tse(w,o),x.key===a&&tse(x,o)}return eb()===a&&Td(s),o}insertAfter(t,r=!0){Vd(),$z(this,t);const n=this.getWritable(),i=t.getWritable(),a=i.getParent(),s=ln();let o=!1,l=!1;if(a!==null){const m=t.getIndexWithinParent();if(N_(i),Vr(s)){const v=a.__key,w=s.anchor,x=s.focus;o=w.type==="element"&&w.key===v&&w.offset===m+1,l=x.type==="element"&&x.key===v&&x.offset===m+1}}const u=this.getNextSibling(),f=this.getParentOrThrow().getWritable(),h=i.__key,p=n.__next;if(u===null?f.__last=h:u.getWritable().__prev=h,f.__size++,n.__next=h,i.__next=p,i.__prev=n.__key,i.__parent=n.__parent,r&&Vr(s)){const m=this.getIndexWithinParent();NO(s,f,m+1);const v=f.__key;o&&s.anchor.set(v,m+2,"element"),l&&s.focus.set(v,m+2,"element")}return t}insertBefore(t,r=!0){Vd(),$z(this,t);const n=this.getWritable(),i=t.getWritable(),a=i.__key;N_(i);const s=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),l=n.__prev,u=this.getIndexWithinParent();s===null?o.__first=a:s.getWritable().__next=a,o.__size++,n.__prev=a,i.__prev=l,i.__next=n.__key,i.__parent=n.__parent;const f=ln();return r&&Vr(f)&&NO(f,this.getParentOrThrow(),u),t}isParentRequired(){return!1}createParentElementNode(){return as()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,r){Vd();const n=this.getPreviousSibling(),i=this.getParentOrThrow();if(n===null)return i.select(0,0);if(qr(n))return n.select();if(!Rn(n)){const a=n.getIndexWithinParent()+1;return i.select(a,a)}return n.select(t,r)}selectNext(t,r){Vd();const n=this.getNextSibling(),i=this.getParentOrThrow();if(n===null)return i.select();if(qr(n))return n.select(0,0);if(!Rn(n)){const a=n.getIndexWithinParent();return i.select(a,a)}return n.select(t,r)}markDirty(){this.getWritable()}reconcileObservedMutation(t,r){this.markDirty()}}class VP extends nk{static getType(){return"linebreak"}static clone(t){return new VP(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(r){const n=r.parentElement;if(n!==null&&qO(n)){const i=n.firstChild;if(i===r||i.nextSibling===r&&AR(i)){const a=n.lastChild;if(a===r||a.previousSibling===r&&AR(a))return!0}}return!1}(t)||function(r){const n=r.parentElement;if(n!==null&&qO(n)){const i=n.firstChild;if(i===r||i.nextSibling===r&&AR(i))return!1;const a=n.lastChild;if(a===r||a.previousSibling===r&&AR(a))return!0}return!1}(t)?null:{conversion:VXe,priority:0}}}static importJSON(t){return tg().updateFromJSON(t)}}function VXe(e){return{node:tg()}}function tg(){return td(new VP)}function hl(e){return e instanceof VP}function AR(e){return b0(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function Mz(e,t){return 16&t?"code":t&lW?"mark":32&t?"sub":64&t?"sup":null}function kz(e,t){return 1&t?"strong":2&t?"em":"span"}function kbe(e,t,r,n,i){const a=n.classList;let s=Px(i,"base");s!==void 0&&a.add(...s),s=Px(i,"underlineStrikethrough");let o=!1;const l=t&TO&&t&PO;s!==void 0&&(r&TO&&r&PO?(o=!0,l||a.add(...s)):l&&a.remove(...s));for(const u in gb){const f=gb[u];if(s=Px(i,u),s!==void 0)if(r&f){if(o&&(u==="underline"||u==="strikethrough")){t&f&&a.remove(...s);continue}t&f&&(!l||u!=="underline")&&u!=="strikethrough"||a.add(...s)}else t&f&&a.remove(...s)}}function Dbe(e,t,r){const n=t.firstChild,i=r.isComposing(),a=e+(i?QM:"");if(n==null)t.textContent=a;else{const s=n.nodeValue;if(s!==a)if(i||sb){const[o,l,u]=function(f,h){const p=f.length,m=h.length;let v=0,w=0;for(;v<p&&v<m&&f[v]===h[v];)v++;for(;w+v<p&&w+v<m&&f[p-w-1]===h[m-w-1];)w++;return[v,p-v-w,h.slice(v,m-w)]}(s,a);l!==0&&n.deleteData(o,l),n.insertData(o,u)}else n.nodeValue=a}}function Joe(e,t,r,n,i,a){Dbe(i,e,t);const s=a.theme.text;s!==void 0&&kbe(0,0,n,e,s)}function OR(e,t){const r=document.createElement(t);return r.appendChild(e),r}class fm extends nk{static getType(){return"text"}static clone(t){return new fm(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}constructor(t="",r){super(r),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return MXe[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===eb()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const r=gb[t];return!!(this.getFormat()&r)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,r){return BO(this.getLatest().__format,t,r)}canHaveFormat(){return!0}createDOM(t,r){const n=this.__format,i=Mz(0,n),a=kz(0,n),s=i===null?a:i,o=document.createElement(s);let l=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),i!==null&&(l=document.createElement(a),o.appendChild(l)),Joe(l,this,0,n,this.__text,t);const u=this.__style;return u!==""&&(o.style.cssText=u),o}updateDOM(t,r,n){const i=this.__text,a=t.__format,s=this.__format,o=Mz(0,a),l=Mz(0,s),u=kz(0,a),f=kz(0,s);if((o===null?u:o)!==(l===null?f:l))return!0;if(o===l&&u!==f){const w=r.firstChild;w==null&&Yn(48);const x=document.createElement(f);return Joe(x,this,0,s,i,n),r.replaceChild(x,w),!1}let h=r;l!==null&&o!==null&&(h=r.firstChild,h==null&&Yn(49)),Dbe(i,h,this);const p=n.theme.text;p!==void 0&&a!==s&&kbe(0,a,s,h,p);const m=t.__style,v=this.__style;return m!==v&&(r.style.cssText=v),!1}static importDOM(){return{"#text":()=>({conversion:YXe,priority:0}),b:()=>({conversion:KXe,priority:0}),code:()=>({conversion:$y,priority:0}),em:()=>({conversion:$y,priority:0}),i:()=>({conversion:$y,priority:0}),mark:()=>({conversion:$y,priority:0}),s:()=>({conversion:$y,priority:0}),span:()=>({conversion:GXe,priority:0}),strong:()=>({conversion:$y,priority:0}),sub:()=>({conversion:$y,priority:0}),sup:()=>({conversion:$y,priority:0}),u:()=>({conversion:$y,priority:0})}}static importJSON(t){return js().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:r}=super.exportDOM(t);return Pl(r)||Yn(132),r.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(r=OR(r,"b")),this.hasFormat("italic")&&(r=OR(r,"i")),this.hasFormat("strikethrough")&&(r=OR(r,"s")),this.hasFormat("underline")&&(r=OR(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,r){}setFormat(t){const r=this.getWritable();return r.__format=typeof t=="string"?gb[t]:t,r}setDetail(t){const r=this.getWritable();return r.__detail=typeof t=="string"?AXe[t]:t,r}setStyle(t){const r=this.getWritable();return r.__style=t,r}toggleFormat(t){const r=BO(this.getFormat(),t,null);return this.setFormat(r)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const r=IXe[t];if(this.__mode===r)return this;const n=this.getWritable();return n.__mode=r,n}setTextContent(t){if(this.__text===t)return this;const r=this.getWritable();return r.__text=t,r}select(t,r){Vd();let n=t,i=r;const a=ln(),s=this.getTextContent(),o=this.__key;if(typeof s=="string"){const l=s.length;n===void 0&&(n=l),i===void 0&&(i=l)}else n=0,i=0;if(!Vr(a))return Nbe(o,n,o,i,"text","text");{const l=eb();l!==a.anchor.key&&l!==a.focus.key||Td(o),a.setTextNodeRange(this,n,this,i)}return a}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,r,n,i){const a=this.getWritable(),s=a.__text,o=n.length;let l=t;l<0&&(l=o+l,l<0&&(l=0));const u=ln();if(i&&Vr(u)){const h=t+o;u.setTextNodeRange(a,h,a,h)}const f=s.slice(0,l)+n+s.slice(l+r);return a.__text=f,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Vd();const r=this.getLatest(),n=r.getTextContent();if(n==="")return[];const i=r.__key,a=eb(),s=n.length;t.sort((O,F)=>O-F),t.push(s);const o=[],l=t.length;for(let O=0,F=0;O<s&&F<=l;F++){const $=t[F];$>O&&(o.push(n.slice(O,$)),O=$)}const u=o.length;if(u===1)return[r];const f=o[0],h=r.getParent();let p;const m=r.getFormat(),v=r.getStyle(),w=r.__detail;let x=!1,T=null,A=null;const P=ln();if(Vr(P)){const[O,F]=P.isBackward()?[P.focus,P.anchor]:[P.anchor,P.focus];O.type==="text"&&O.key===i&&(T=O),F.type==="text"&&F.key===i&&(A=F)}r.isSegmented()?(p=js(f),p.__format=m,p.__style=v,p.__detail=w,x=!0):(p=r.getWritable(),p.__text=f);const S=[p];for(let O=1;O<u;O++){const F=js(o[O]);F.__format=m,F.__style=v,F.__detail=w;const $=F.__key;a===i&&Td($),S.push(F)}const E=T?T.offset:null,_=A?A.offset:null;let R=0;for(const O of S){if(!T&&!A)break;const F=R+O.getTextContentSize();if(T!==null&&E!==null&&E<=F&&E>=R&&(T.set(O.getKey(),E-R,"text"),E<F&&(T=null)),A!==null&&_!==null&&_<=F&&_>=R){A.set(O.getKey(),_-R,"text");break}R=F}if(h!==null){(function($){const z=$.getPreviousSibling(),q=$.getNextSibling();z!==null&&jO(z),q!==null&&jO(q)})(this);const O=h.getWritable(),F=this.getIndexWithinParent();x?(O.splice(F,0,S),this.remove()):O.splice(F,1,S),Vr(P)&&NO(P,h,F,u-1)}return S}mergeWithSibling(t){const r=t===this.getPreviousSibling();r||t===this.getNextSibling()||Yn(50);const n=this.__key,i=t.__key,a=this.__text,s=a.length;eb()===i&&Td(n);const o=ln();if(Vr(o)){const h=o.anchor,p=o.focus;h!==null&&h.key===i&&lse(h,r,n,t,s),p!==null&&p.key===i&&lse(p,r,n,t,s)}const l=t.__text,u=r?l+a:a+l;this.setTextContent(u);const f=this.getWritable();return t.remove(),f}isTextEntity(){return!1}}function GXe(e){return{forChild:SW(e.style),node:null}}function KXe(e){const t=e,r=t.style.fontWeight==="normal";return{forChild:SW(t.style,r?void 0:"bold"),node:null}}const Qoe=new WeakMap;function ZXe(e){if(!Pl(e))return!1;if(e.nodeName==="PRE")return!0;const t=e.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function YXe(e){const t=e;e.parentElement===null&&Yn(129);let r=t.textContent||"";if(function(n){let i,a=n.parentNode;const s=[n];for(;a!==null&&(i=Qoe.get(a))===void 0&&!ZXe(a);)s.push(a),a=a.parentNode;const o=i===void 0?a:i;for(let l=0;l<s.length;l++)Qoe.set(s[l],o);return o}(t)!==null){const n=r.split(/(\r?\n|\t)/),i=[],a=n.length;for(let s=0;s<a;s++){const o=n[s];o===`
`||o===`\r
`?i.push(tg()):o==="	"?i.push(Gm()):o!==""&&i.push(js(o))}return{node:i}}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),r==="")return{node:null};if(r[0]===" "){let n=t,i=!0;for(;n!==null&&(n=ese(n,!1))!==null;){const a=n.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(r=r.slice(1)),i=!1;break}}i&&(r=r.slice(1))}if(r[r.length-1]===" "){let n=t,i=!0;for(;n!==null&&(n=ese(n,!0))!==null;)if((n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(r=r.slice(0,r.length-1))}return r===""?{node:null}:{node:js(r)}}function ese(e,t){let r=e;for(;;){let n;for(;(n=t?r.nextSibling:r.previousSibling)===null;){const a=r.parentElement;if(a===null)return null;r=a}if(r=n,Pl(r)){const a=r.style.display;if(a===""&&!C7(r)||a!==""&&!a.startsWith("inline"))return null}let i=r;for(;(i=t?r.firstChild:r.lastChild)!==null;)r=i;if(b0(r))return r;if(r.nodeName==="BR")return null}}const XXe={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function $y(e){const t=XXe[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:SW(e.style,t),node:null}}function js(e=""){return td(new fm(e))}function Rn(e){return e instanceof fm}function SW(e,t){const r=e.fontWeight,n=e.textDecoration.split(" "),i=r==="700"||r==="bold",a=n.includes("line-through"),s=e.fontStyle==="italic",o=n.includes("underline"),l=e.verticalAlign;return u=>(Rn(u)&&(i&&!u.hasFormat("bold")&&u.toggleFormat("bold"),a&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),s&&!u.hasFormat("italic")&&u.toggleFormat("italic"),o&&!u.hasFormat("underline")&&u.toggleFormat("underline"),l!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),l!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),t&&!u.hasFormat(t)&&u.toggleFormat(t)),u)}class GP extends fm{static getType(){return"tab"}static clone(t){return new GP(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){const r=super.createDOM(t),n=Px(t.theme,"tab");return n!==void 0&&r.classList.add(...n),r}static importJSON(t){return Gm().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&Yn(126),super.setTextContent(t)}setDetail(t){return t!==2&&Yn(127),this}setMode(t){return t!=="normal"&&Yn(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Gm(){return td(new GP)}function Vf(e){return e instanceof GP}class JXe{constructor(t,r,n){this._selection=null,this.key=t,this.offset=r,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let r=this.getNode(),n=t.getNode();const i=this.offset,a=t.offset;if(qr(r)){const s=r.getDescendantByIndex(i);r=s??r}if(qr(n)){const s=n.getDescendantByIndex(a);n=s??n}return r===n?i<a:r.isBefore(n)}getNode(){const t=ps(this.key);return t===null&&Yn(20),t}set(t,r,n,i){const a=this._selection,s=this.key;i&&this.key===t&&this.offset===r&&this.type===n||(this.key=t,this.offset=r,this.type=n,FS()||(eb()===s&&Td(t),a!==null&&(a.setCachedNodes(null),a.dirty=!0)))}}function bp(e,t,r){return new JXe(e,t,r)}function Dz(e,t){let r=t.__key,n=e.offset,i="element";if(Rn(t)){i="text";const a=t.getTextContentSize();n>a&&(n=a)}else if(!qr(t)){const a=t.getNextSibling();if(Rn(a))r=a.__key,n=0,i="text";else{const s=t.getParent();s&&(r=s.__key,n=t.getIndexWithinParent()+1)}}e.set(r,n,i)}function tse(e,t){if(qr(t)){const r=t.getLastDescendant();qr(r)||Rn(r)?Dz(e,r):Dz(e,t)}else Dz(e,t)}class ik{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!gf(t))return!1;const r=this._nodes,n=t._nodes;return r.size===n.size&&Array.from(r).every(i=>n.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new ik(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const r=this.getNodes(),n=r.length,i=r[n-1];let a;if(Rn(i))a=i.select();else{const s=i.getIndexWithinParent()+1;a=i.getParentOrThrow().select(s,s)}a.insertNodes(t);for(let s=0;s<n;s++)r[s].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this._nodes,n=[];for(const i of r){const a=ps(i);a!==null&&n.push(a)}return FS()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let r="";for(let n=0;n<t.length;n++)r+=t[n].getTextContent();return r}}function Vr(e){return e instanceof qw}class qw{constructor(t,r,n,i){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.format=n,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!Vr(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const r=this.anchor,n=this.focus,i=r.isBefore(n),a=i?r:n,s=i?n:r,o=a.getNode(),l=s.getNode();let u=o,f=l,h=!1;const p=new Set;if(qr(o)&&(h=a.offset>0&&a.offset>=o.getChildrenSize(),u=o.getDescendantByIndex(a.offset)||o),qr(l)){const v=l.getChildAtIndex(s.offset);if(v){p.add(v.getKey()),f=qr(v)&&v.getFirstDescendant()||v;for(let w=f;w&&!w.is(v);w=w.getParent())p.add(w.getKey())}else{const w=s.offset>0&&l.getChildAtIndex(s.offset-1);if(w)f=qr(w)&&w.getLastDescendant()||w;else{let x=l.getParent();for(;x!==null;x=x.getParent()){p.add(x.getKey());const T=x.getNextSibling();if(T){f=T;break}}l.isEmpty()&&l.is(f)||p.add(f.getKey())}}}let m;if(u.is(f)||this.isCollapsed())m=qr(u)&&u.getChildrenSize()>0?[]:[u];else{if(m=u.getNodesBetween(f),p.size>0)for(;m.length>0&&p.has(m[m.length-1].getKey());)m.pop();if(h){const v=m.findIndex(w=>!w.is(u)&&!w.isBefore(u));m.splice(0,v)}}return FS()||(this._cachedNodes=m),m}setTextNodeRange(t,r,n,i){this.anchor.set(t.__key,r,"text"),this.focus.set(n.__key,i,"text")}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const r=t[0],n=t[t.length-1],i=this.anchor,a=this.focus,s=i.isBefore(a),[o,l]=_7(this);let u="",f=!0;for(let h=0;h<t.length;h++){const p=t[h];if(qr(p)&&!p.isInline())f||(u+=`
`),f=!p.isEmpty();else if(f=!1,Rn(p)){let m=p.getTextContent();p===r?p===n?i.type==="element"&&a.type==="element"&&a.offset!==i.offset||(m=o<l?m.slice(o,l):m.slice(l,o)):m=s?m.slice(o):m.slice(l):p===n&&(m=s?m.slice(0,l):m.slice(0,o)),u+=m}else!ws(p)&&!hl(p)||p===n&&this.isCollapsed()||(u+=p.getTextContent())}return u}applyDOMRange(t){const r=Qu(),n=r.getEditorState()._selection,i=Lbe(t.startContainer,t.startOffset,t.endContainer,t.endOffset,r,n);if(i===null)return;const[a,s]=i;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(s.key,s.offset,s.type,!0),vb(this)}clone(){const t=this.anchor,r=this.focus;return new qw(bp(t.key,t.offset,t.type),bp(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(t){this.format=BO(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const r=gb[t];return!!(this.format&r)}insertRawText(t){const r=t.split(/(\r?\n|\t)/),n=[],i=r.length;for(let a=0;a<i;a++){const s=r[a];s===`
`||s===`\r
`?n.push(tg()):s==="	"?n.push(Gm()):n.push(js(s))}this.insertNodes(n)}insertText(t){const r=this.anchor,n=this.focus,i=this.format,a=this.style;let s=r,o=n;!this.isCollapsed()&&n.isBefore(r)&&(s=n,o=r),s.type==="element"&&function(x,T,A,P){const S=x.getNode(),E=S.getChildAtIndex(x.offset),_=js(),R=Gf(S)?as().append(_):_;_.setFormat(A),_.setStyle(P),E===null?S.append(R):E.insertBefore(R),x.is(T)&&T.set(_.__key,0,"text"),x.set(_.__key,0,"text")}(s,o,i,a),o.type==="element"&&T7(o,WC(WO(o,"next")));const l=s.offset;let u=o.offset;const f=this.getNodes(),h=f.length;let p=f[0];Rn(p)||Yn(26);const m=p.getTextContent().length,v=p.getParentOrThrow();let w=f[h-1];if(h===1&&o.type==="element"&&(u=m,o.set(s.key,u,"text")),this.isCollapsed()&&l===m&&(p.isSegmented()||p.isToken()||!p.canInsertTextAfter()||!v.canInsertTextAfter()&&p.getNextSibling()===null)){let x=p.getNextSibling();if(Rn(x)&&x.canInsertTextBefore()&&!S_(x)||(x=js(),x.setFormat(i),x.setStyle(a),v.canInsertTextAfter()?p.insertAfter(x):v.insertAfter(x)),x.select(0,0),p=x,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(p.isSegmented()||p.isToken()||!p.canInsertTextBefore()||!v.canInsertTextBefore()&&p.getPreviousSibling()===null)){let x=p.getPreviousSibling();if(Rn(x)&&!S_(x)||(x=js(),x.setFormat(i),v.canInsertTextBefore()?p.insertBefore(x):v.insertBefore(x)),x.select(),p=x,t!=="")return void this.insertText(t)}else if(p.isSegmented()&&l!==m){const x=js(p.getTextContent());x.setFormat(i),p.replace(x),p=x}else if(!this.isCollapsed()&&t!==""){const x=w.getParent();if(!v.canInsertTextBefore()||!v.canInsertTextAfter()||qr(x)&&(!x.canInsertTextBefore()||!x.canInsertTextAfter()))return this.insertText(""),Fbe(this.anchor,this.focus,null),void this.insertText(t)}if(h===1){if(p.isToken()){const P=js(t);return P.select(),void p.replace(P)}const x=p.getFormat(),T=p.getStyle();if(l!==u||x===i&&T===a){if(Vf(p)){const P=js(t);return P.setFormat(i),P.setStyle(a),P.select(),void p.replace(P)}}else{if(p.getTextContent()!==""){const P=js(t);if(P.setFormat(i),P.setStyle(a),P.select(),l===0)p.insertBefore(P,!1);else{const[S]=p.splitText(l);S.insertAfter(P,!1)}return void(P.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}p.setFormat(i),p.setStyle(a)}const A=u-l;p=p.spliceText(l,A,t,!0),p.getTextContent()===""?p.remove():this.anchor.type==="text"&&(p.isComposing()?this.anchor.offset-=t.length:(this.format=x,this.style=T))}else{const x=new Set([...p.getParentKeys(),...w.getParentKeys()]),T=qr(p)?p:p.getParentOrThrow();let A=qr(w)?w:w.getParentOrThrow(),P=w;if(!T.is(A)&&A.isInline())do P=A,A=A.getParentOrThrow();while(A.isInline());if(o.type==="text"&&(u!==0||w.getTextContent()==="")||o.type==="element"&&w.getIndexWithinParent()<u)if(Rn(w)&&!w.isToken()&&u!==w.getTextContentSize()){if(w.isSegmented()){const O=js(w.getTextContent());w.replace(O),w=O}Gf(o.getNode())||o.type!=="text"||(w=w.spliceText(0,u,"")),x.add(w.__key)}else{const O=w.getParentOrThrow();O.canBeEmpty()||O.getChildrenSize()!==1?w.remove():O.remove()}else x.add(w.__key);const S=A.getChildren(),E=new Set(f),_=T.is(A),R=T.isInline()&&p.getNextSibling()===null?T:p;for(let O=S.length-1;O>=0;O--){const F=S[O];if(F.is(p)||qr(F)&&F.isParentOf(p))break;F.isAttached()&&(!E.has(F)||F.is(P)?_||R.insertAfter(F,!1):F.remove())}if(!_){let O=A,F=null;for(;O!==null;){const $=O.getChildren(),z=$.length;(z===0||$[z-1].is(F))&&(x.delete(O.__key),F=O),O=O.getParent()}}if(p.isToken())if(l===m)p.select();else{const O=js(t);O.select(),p.replace(O)}else p=p.spliceText(l,m-l,t,!0),p.getTextContent()===""?p.remove():p.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let O=1;O<h;O++){const F=f[O],$=F.__key;x.has($)||F.remove()}}}removeText(){const t=ln()===this;jz(this,TJe(i_e(this))),t&&ln()!==this&&Tu(this)}formatText(t,r=null){if(this.isCollapsed())return this.toggleFormat(t),void Td(null);const n=this.getNodes(),i=[];for(const S of n)Rn(S)&&i.push(S);const a=S=>{n.forEach(E=>{if(qr(E)){const _=E.getFormatFlags(t,S);E.setTextFormat(_)}})},s=i.length;if(s===0)return this.toggleFormat(t),Td(null),void a(r);const o=this.anchor,l=this.focus,u=this.isBackward(),f=u?l:o,h=u?o:l;let p=0,m=i[0],v=f.type==="element"?0:f.offset;if(f.type==="text"&&v===m.getTextContentSize()&&(p=1,m=i[1],v=0),m==null)return;const w=m.getFormatFlags(t,r);a(w);const x=s-1;let T=i[x];const A=h.type==="text"?h.offset:T.getTextContentSize();if(m.is(T)){if(v===A)return;if(S_(m)||v===0&&A===m.getTextContentSize())m.setFormat(w);else{const S=m.splitText(v,A),E=v===0?S[0]:S[1];E.setFormat(w),f.type==="text"&&f.set(E.__key,0,"text"),h.type==="text"&&h.set(E.__key,A-v,"text")}return void(this.format=w)}v===0||S_(m)||([,m]=m.splitText(v),v=0),m.setFormat(w);const P=T.getFormatFlags(t,w);A>0&&(A===T.getTextContentSize()||S_(T)||([T]=T.splitText(A)),T.setFormat(P));for(let S=p+1;S<x;S++){const E=i[S],_=E.getFormatFlags(t,P);E.setFormat(_)}f.type==="text"&&f.set(m.__key,v,"text"),h.type==="text"&&h.set(T.__key,A,"text"),this.format=w|P}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const v=ln();return Vr(v)||Yn(134),v.insertNodes(t)}const r=(this.isBackward()?this.focus:this.anchor).getNode(),n=Bz(r,jg),i=t[t.length-1];if(qr(n)&&"__language"in n){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const v=Fz(this);n.splice(v,0,t),i.selectEnd()}return}if(!t.some(v=>(qr(v)||ws(v))&&!v.isInline())){qr(n)||Yn(211,r.constructor.name,r.getType());const v=Fz(this);return n.splice(v,0,t),void i.selectEnd()}const a=function(v){const w=as();let x=null;for(let T=0;T<v.length;T++){const A=v[T],P=hl(A);if(P||ws(A)&&A.isInline()||qr(A)&&A.isInline()||Rn(A)||A.isParentRequired()){if(x===null&&(x=A.createParentElementNode(),w.append(x),P))continue;x!==null&&x.append(A)}else w.append(A),x=null}return w}(t),s=a.getLastDescendant(),o=a.getChildren(),l=!qr(n)||!n.isEmpty()?this.insertParagraph():null,u=o[o.length-1];let f=o[0];var h;qr(h=f)&&jg(h)&&!h.isEmpty()&&qr(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(qr(n)||Yn(211,r.constructor.name,r.getType()),n.append(...f.getChildren()),f=o[1]),f&&(n===null&&Yn(212,r.constructor.name,r.getType()),function(v,w,x){const T=w.getParentOrThrow().getLastChild();let A=w;const P=[w];for(;A!==T;)A.getNextSibling()||Yn(140),A=A.getNextSibling(),P.push(A);let S=v;for(const E of P)S=S.insertAfter(E)}(n,f));const p=Bz(s,jg);l&&qr(p)&&(l.canMergeWhenEmpty()||jg(u))&&(p.append(...l.getChildren()),l.remove()),qr(n)&&n.isEmpty()&&n.remove(),s.selectEnd();const m=qr(n)?n.getLastChild():null;hl(m)&&p!==n&&m.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=as();return Js().splice(this.anchor.offset,0,[s]),s.select(),s}const t=Fz(this),r=Bz(this.anchor.getNode(),jg);qr(r)||Yn(213);const n=r.getChildAtIndex(t),i=n?[n,...n.getNextSiblings()]:[],a=r.insertNewAfter(this,!1);return a?(a.append(...i),a.selectStart(),a):null}insertLineBreak(t){const r=tg();if(this.insertNodes([r]),t){const n=r.getParentOrThrow(),i=r.getIndexWithinParent();n.select(i,i)}}extract(){const t=this.getNodes(),r=t.length,n=r-1,i=this.anchor,a=this.focus;let s=t[0],o=t[n];const[l,u]=_7(this);if(r===0)return[];if(r===1){if(Rn(s)&&!this.isCollapsed()){const h=l>u?u:l,p=l>u?l:u,m=s.splitText(h,p),v=h===0?m[0]:m[1];return v!=null?[v]:[]}return[s]}const f=i.isBefore(a);if(Rn(s)){const h=f?l:u;h===s.getTextContentSize()?t.shift():h!==0&&([,s]=s.splitText(h),t[0]=s)}if(Rn(o)){const h=o.getTextContent().length,p=f?u:l;p===0?t.pop():p!==h&&([o]=o.splitText(p),t[n]=o)}return t}modify(t,r,n){const i=this.focus,a=this.anchor,s=t==="move",o=D2(i,r);if(ws(o)&&!o.isIsolated()){if(s&&o.isKeyboardSelectable()){const m=w7();return m.add(o.__key),void Tu(m)}const p=r?o.getPreviousSibling():o.getNextSibling();if(Rn(p)){const m=p.__key,v=r?p.getTextContent().length:0;return i.set(m,v,"text"),void(s&&a.set(m,v,"text"))}{const m=o.getParentOrThrow();let v,w;return qr(p)?(w=p.__key,v=r?p.getChildrenSize():0):(v=o.getIndexWithinParent(),w=m.__key,r||v++),i.set(w,v,"element"),void(s&&a.set(w,v,"element"))}}const l=Qu(),u=eh(rg(l));if(!u)return;const f=l._blockCursorElement,h=l._rootElement;if(h===null||f===null||!qr(o)||o.isInline()||o.canBeEmpty()||S7(f,l,h),function(p,m,v,w){p.modify(m,v,w)}(u,t,r?"backward":"forward",n),u.rangeCount>0){const p=u.getRangeAt(0),m=this.anchor.getNode(),v=Gf(m)?m:dJe(m);if(this.applyDOMRange(p),this.dirty=!0,!s){const w=this.getNodes(),x=[];let T=!1;for(let A=0;A<w.length;A++){const P=w[A];x7(P,v)?x.push(P):T=!0}if(T&&x.length>0)if(r){const A=x[0];qr(A)?A.selectStart():A.getParentOrThrow().selectStart()}else{const A=x[x.length-1];qr(A)?A.selectEnd():A.getParentOrThrow().selectEnd()}u.anchorNode===p.startContainer&&u.anchorOffset===p.startOffset||function(A){const P=A.focus,S=A.anchor,E=S.key,_=S.offset,R=S.type;S.set(P.key,P.offset,P.type,!0),P.set(E,_,R,!0)}(this)}}}forwardDeletion(t,r,n){if(!n&&(t.type==="element"&&qr(r)&&t.offset===r.getChildrenSize()||t.type==="text"&&t.offset===r.getTextContentSize())){const i=r.getParent(),a=r.getNextSibling()||(i===null?null:i.getNextSibling());if(qr(a)&&a.isShadowRoot())return!0}return!1}deleteCharacter(t){const r=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let i=n.getNode();if(this.forwardDeletion(n,i,t))return;const a=PJe(WO(n,t?"previous":"next"));if(a.getTextSlices().every(o=>o===null||o.distance===0)){let o={type:"initial"};for(const l of a.iterNodeCarets("shadowRoot"))if(sw(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(qr(a.anchor.origin)&&a.anchor.origin.isEmpty()){const u=WC(l);jz(this,Hx(u,u)),a.anchor.origin.remove()}return}if(o.type==="merge-next-block")return jz(this,Hx(!l.origin.isEmpty()&&o.block.isEmpty()?pk(Zf(o.block,l.direction)):a.anchor,l)),this.removeText()}}else if(NS(l)){if(qr(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(a.anchor.origin))break}else o={block:l.origin,type:"merge-next-block"};continue}if(ws(l.origin)){if(!l.origin.isIsolated())if(o.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&qr(a.anchor.origin)&&a.anchor.origin.isEmpty()){a.anchor.origin.remove();const u=w7();u.add(l.origin.getKey()),Tu(u)}else l.origin.remove();return}break}}const s=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&n.offset===0&&nse(this,n.getNode()))return}else{const o=s.type==="text"?s.getNode():null;if(i=n.type==="text"?n.getNode():null,o!==null&&o.isSegmented()){const l=s.offset,u=o.getTextContentSize();if(o.is(i)||t&&l!==u||!t&&l!==0)return void ise(o,t,l)}else if(i!==null&&i.isSegmented()){const l=n.offset,u=i.getTextContentSize();if(i.is(o)||t&&l!==0||!t&&l!==u)return void ise(i,t,l)}(function(l,u){const f=l.anchor,h=l.focus,p=f.getNode(),m=h.getNode();if(p===m&&f.type==="text"&&h.type==="text"){const v=f.offset,w=h.offset,x=v<w,T=x?v:w,A=x?w:v,P=A-1;T!==P&&function(S){return!(Ybe(S)||QXe(S))}(p.getTextContent().slice(T,A))&&(u?h.set(h.key,P,h.type):f.set(f.key,P,f.type))}})(this,t)}}if(this.removeText(),t&&!r&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const n=this.anchor.getNode();n.isEmpty()&&Gf(n.getParent())&&n.getPreviousSibling()===null&&nse(this,n)}}deleteLine(t){if(this.isCollapsed()){const r=this.anchor.type==="element";if(r&&this.insertText(" "),this.modify("extend",t,"lineboundary"),this.isCollapsed()&&this.anchor.offset===0&&this.modify("extend",t,"character"),r){const n=t?this.anchor:this.focus;n.set(n.key,n.offset+1,n.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const r=this.anchor,n=r.getNode();if(this.forwardDeletion(r,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function gf(e){return e instanceof ik}function rse(e){const t=e.offset;if(e.type==="text")return t;const r=e.getNode();return t===r.getChildrenSize()?r.getTextContent().length:0}function _7(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[r,n]=t;return r.type==="element"&&n.type==="element"&&r.key===n.key&&r.offset===n.offset?[0,0]:[rse(r),rse(n)]}function nse(e,t){for(let r=t;r;r=r.getParent()){if(qr(r)){if(r.collapseAtStart(e))return!0;if(!r.isInline())break}if(r.getPreviousSibling())break}return!1}const QXe=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch{}return()=>!1})();function ise(e,t,r){const n=e,i=n.getTextContent().split(/(?=\s)/g),a=i.length;let s=0,o=0;for(let u=0;u<a;u++){const f=u===a-1;if(o=s,s+=i[u].length,t&&s===r||s>r||f){i.splice(u,1),f&&(o=void 0);break}}const l=i.join("").trim();l===""?n.remove():(n.setTextContent(l),n.select(o,o))}function ase(e,t,r,n){let i,a=t;if(Pl(e)){let s=!1;const o=e.childNodes,l=o.length,u=n._blockCursorElement;a===l&&(s=!0,a=l-1);let f=o[a],h=!1;if(f===u)f=o[a+1],h=!0;else if(u!==null){const p=u.parentNode;e===p&&t>Array.prototype.indexOf.call(p.children,u)&&a--}if(i=px(f),Rn(i))a=vse(i,s);else{let p=px(e);if(p===null)return null;if(qr(p)){const m=n.getElementByKey(p.getKey());m===null&&Yn(214),[p,a]=p.getDOMSlot(m).resolveChildIndex(p,m,e,t),qr(p)||Yn(215),s&&a>=p.getChildrenSize()&&(a=Math.max(0,p.getChildrenSize()-1));let w=p.getChildAtIndex(a);if(qr(w)&&function(x,T,A){const P=x.getParent();return A===null||P===null||!P.canBeEmpty()||P!==A.getNode()}(w,0,r)){const x=s?w.getLastDescendant():w.getFirstDescendant();x===null?p=w:(w=x,p=qr(w)?w:w.getParentOrThrow()),a=0}Rn(w)?(i=w,p=null,a=vse(w,s)):w!==p&&s&&!h&&(qr(p)||Yn(216),a=Math.min(p.getChildrenSize(),a+1))}else{const m=p.getIndexWithinParent();a=t===0&&ws(p)&&px(e)===p?m:m+1,p=p.getParentOrThrow()}if(qr(p))return bp(p.__key,a,"element")}}else i=px(e);return Rn(i)?bp(i.__key,a,"text"):null}function ose(e,t,r){const n=e.offset,i=e.getNode();if(n===0){const a=i.getPreviousSibling(),s=i.getParent();if(t){if((r||!t)&&a===null&&qr(s)&&s.isInline()){const o=s.getPreviousSibling();Rn(o)&&e.set(o.__key,o.getTextContent().length,"text")}}else qr(a)&&!r&&a.isInline()?e.set(a.__key,a.getChildrenSize(),"element"):Rn(a)&&e.set(a.__key,a.getTextContent().length,"text")}else if(n===i.getTextContent().length){const a=i.getNextSibling(),s=i.getParent();if(t&&qr(a)&&a.isInline())e.set(a.__key,0,"element");else if((r||t)&&a===null&&qr(s)&&s.isInline()&&!s.canInsertTextAfter()){const o=s.getNextSibling();Rn(o)&&e.set(o.__key,0,"text")}}}function Fbe(e,t,r){if(e.type==="text"&&t.type==="text"){const n=e.isBefore(t),i=e.is(t);ose(e,n,i),ose(t,!n,i),i&&t.set(e.key,e.offset,e.type);const a=Qu();if(a.isComposing()&&a._compositionKey!==e.key&&Vr(r)){const s=r.anchor,o=r.focus;e.set(s.key,s.offset,s.type,!0),t.set(o.key,o.offset,o.type,!0)}}}function Lbe(e,t,r,n,i,a){if(e===null||r===null||!YP(i,e,r))return null;const s=ase(e,t,Vr(a)?a.anchor:null,i);if(s===null)return null;const o=ase(r,n,Vr(a)?a.focus:null,i);if(o===null)return null;if(s.type==="element"&&o.type==="element"){const l=px(e),u=px(r);if(ws(l)&&ws(u))return null}return Fbe(s,o,a),[s,o]}function LO(e){return qr(e)&&!e.isInline()}function Nbe(e,t,r,n,i,a){const s=zb(),o=new qw(bp(e,t,i),bp(r,n,a),0,"");return o.dirty=!0,s._selection=o,o}function ak(){const e=bp("root",0,"element"),t=bp("root",0,"element");return new qw(e,t,0,"")}function w7(){return new ik(new Set)}function eJe(e,t){return ok(null,e,t,null)}function ok(e,t,r,n){const i=r._window;if(i===null)return null;const a=n||i.event,s=a?a.type:void 0,o=s==="selectionchange",l=!o7&&(o||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&a&&a.detail===3||s==="drop"||s===void 0);let u,f,h,p;if(Vr(e)&&!l)return e.clone();if(t===null)return null;if(u=t.anchorNode,f=t.focusNode,h=t.anchorOffset,p=t.focusOffset,o&&Vr(e)&&!YP(r,u,f))return e.clone();const m=Lbe(u,h,f,p,r,e);if(m===null)return null;const[v,w]=m;return new qw(v,w,Vr(e)?e.format:0,Vr(e)?e.style:"")}function ln(){return zb()._selection}function c0(){return Qu()._editorState._selection}function NO(e,t,r,n=1){const i=e.anchor,a=e.focus,s=i.getNode(),o=a.getNode();if(!t.is(s)&&!t.is(o))return;const l=t.__key;if(e.isCollapsed()){const u=i.offset;if(r<=u&&n>0||r<u&&n<0){const f=Math.max(0,u+n);i.set(l,f,"element"),a.set(l,f,"element"),sse(e)}}else{const u=e.isBackward(),f=u?a:i,h=f.getNode(),p=u?i:a,m=p.getNode();if(t.is(h)){const v=f.offset;(r<=v&&n>0||r<v&&n<0)&&f.set(l,Math.max(0,v+n),"element")}if(t.is(m)){const v=p.offset;(r<=v&&n>0||r<v&&n<0)&&p.set(l,Math.max(0,v+n),"element")}}sse(e)}function sse(e){const t=e.anchor,r=t.offset,n=e.focus,i=n.offset,a=t.getNode(),s=n.getNode();if(e.isCollapsed()){if(!qr(a))return;const o=a.getChildrenSize(),l=r>=o,u=l?a.getChildAtIndex(o-1):a.getChildAtIndex(r);if(Rn(u)){let f=0;l&&(f=u.getTextContentSize()),t.set(u.__key,f,"text"),n.set(u.__key,f,"text")}}else{if(qr(a)){const o=a.getChildrenSize(),l=r>=o,u=l?a.getChildAtIndex(o-1):a.getChildAtIndex(r);if(Rn(u)){let f=0;l&&(f=u.getTextContentSize()),t.set(u.__key,f,"text")}}if(qr(s)){const o=s.getChildrenSize(),l=i>=o,u=l?s.getChildAtIndex(o-1):s.getChildAtIndex(i);if(Rn(u)){let f=0;l&&(f=u.getTextContentSize()),n.set(u.__key,f,"text")}}}}function $O(e,t,r,n,i){let a=null,s=0,o=null;n!==null?(a=n.__key,Rn(n)?(s=n.getTextContentSize(),o="text"):qr(n)&&(s=n.getChildrenSize(),o="element")):i!==null&&(a=i.__key,Rn(i)?o="text":qr(i)&&(o="element")),a!==null&&o!==null?e.set(a,s,o):(s=t.getIndexWithinParent(),s===-1&&(s=r.getChildrenSize()),e.set(r.__key,s,"element"))}function lse(e,t,r,n,i){e.type==="text"?e.set(r,e.offset+(t?0:i),"text"):e.offset>n.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function tJe(e,t,r,n,i,a,s){const o=n.anchorNode,l=n.focusNode,u=n.anchorOffset,f=n.focusOffset,h=document.activeElement;if(i.has("collaboration")&&h!==a||h!==null&&AW(h))return;if(!Vr(t))return void(e!==null&&YP(r,o,l)&&n.removeAllRanges());const p=t.anchor,m=t.focus,v=p.key,w=m.key,x=UO(r,v),T=UO(r,w),A=p.offset,P=m.offset,S=t.format,E=t.style,_=t.isCollapsed();let R=x,O=T,F=!1;if(p.type==="text"){R=zO(x);const J=p.getNode();F=J.getFormat()!==S||J.getStyle()!==E}else Vr(e)&&e.anchor.type==="text"&&(F=!0);var $,z,q,Z,V;if(m.type==="text"&&(O=zO(T)),R!==null&&O!==null&&(_&&(e===null||F||Vr(e)&&(e.format!==S||e.style!==E))&&($=S,z=E,q=A,Z=v,V=performance.now(),Rbe=[$,z,q,Z,V]),u!==A||f!==P||o!==R||l!==O||n.type==="Range"&&_||(h!==null&&a.contains(h)||a.focus({preventScroll:!0}),p.type==="element"))){try{n.setBaseAndExtent(R,A,O,P)}catch{}if(!i.has("skip-scroll-into-view")&&t.isCollapsed()&&a!==null&&a===document.activeElement){const J=Vr(t)&&t.anchor.type==="element"?R.childNodes[A]||null:n.rangeCount>0?n.getRangeAt(0):null;if(J!==null){let fe;if(J instanceof Text){const ue=document.createRange();ue.selectNode(J),fe=ue.getBoundingClientRect()}else fe=J.getBoundingClientRect();(function(ue,pe,ve){const le=t_e(ve),se=NW(le);if(le===null||se===null)return;let{top:ge,bottom:_e}=pe,ke=0,Ge=0,ct=ve;for(;ct!==null;){const $e=ct===le.body;if($e)ke=0,Ge=rg(ue).innerHeight;else{const Ee=ct.getBoundingClientRect();ke=Ee.top,Ge=Ee.bottom}let we=0;if(ge<ke?we=-(ke-ge):_e>Ge&&(we=_e-Ge),we!==0)if($e)se.scrollBy(0,we);else{const Ee=ct.scrollTop;ct.scrollTop+=we;const Re=ct.scrollTop-Ee;ge-=Re,_e-=Re}if($e)break;ct=XP(ct)}})(r,fe,a)}}v7=!0}}function $be(e){let t=ln()||c0();t===null&&(t=Js().selectEnd()),t.insertNodes(e)}function Fz(e){let t=e;e.isCollapsed()||t.removeText();const r=ln();Vr(r)&&(t=r),Vr(t)||Yn(161);const n=t.anchor;let i=n.getNode(),a=n.offset;for(;!jg(i);){const s=i;if([i,a]=rJe(i,a),s.is(i))break}return a}function rJe(e,t){const r=e.getParent();if(!r){const i=as();return Js().append(i),i.select(),[Js(),0]}if(Rn(e)){const i=e.splitText(t);if(i.length===0)return[r,e.getIndexWithinParent()];const a=t===0?0:1;return[r,i[0].getIndexWithinParent()+a]}if(!qr(e)||t===0)return[r,e.getIndexWithinParent()];const n=e.getChildAtIndex(t);if(n){const i=new qw(bp(e.__key,t,"element"),bp(e.__key,t,"element"),0,""),a=e.insertNewAfter(i);a&&a.append(n,...n.getNextSiblings())}return[r,e.getIndexWithinParent()+1]}let Hf=null,bf=null,mp=!1,Lz=!1,OA=0;const use={characterData:!0,childList:!0,subtree:!0};function FS(){return mp||Hf!==null&&Hf._readOnly}function Vd(){mp&&Yn(13)}function zbe(){OA>99&&Yn(14)}function zb(){return Hf===null&&Yn(195,Bbe()),Hf}function Qu(){return bf===null&&Yn(196,Bbe()),bf}function Bbe(){let e=0;const t=new Set,r=lk.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const a=uk(i);if(OW(a))e++;else if(a){let s=String(a.constructor.version||"<0.17.1");s===r&&(s+=" (separately built, likely a bundler configuration issue)"),t.add(s)}}let n=` Detected on the page: ${e} compatible editor(s) with version ${r}`;return t.size&&(n+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),n}function nJe(){return bf}function cse(e,t,r){const n=t.__type,i=function(o,l){const u=o._nodes.get(l);return u===void 0&&Yn(30,l),u}(e,n);let a=r.get(n);a===void 0&&(a=Array.from(i.transforms),r.set(n,a));const s=a.length;for(let o=0;o<s&&(a[o](t),t.isAttached());o++);}function fse(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function jbe(e,t){if(!t)return;const r=e._updateTags;let n=t;Array.isArray(t)||(n=[t]);for(const i of n)r.add(i)}function iJe(e){return EW(e,Qu()._nodes)}function EW(e,t){const r=e.type,n=t.get(r);n===void 0&&Yn(17,r);const i=n.klass;e.type!==i.getType()&&Yn(18,i.name);const a=i.importJSON(e),s=e.children;if(qr(a)&&Array.isArray(s))for(let o=0;o<s.length;o++){const l=EW(s[o],t);a.append(l)}return a}function dse(e,t,r){const n=Hf,i=mp,a=bf;Hf=t,mp=!0,bf=e;try{return r()}finally{Hf=n,mp=i,bf=a}}function Gy(e,t){const r=e._pendingEditorState,n=e._rootElement,i=e._headless||n===null;if(r===null)return;const a=e._editorState,s=a._selection,o=r._selection,l=e._dirtyType!==rw,u=Hf,f=mp,h=bf,p=e._updating,m=e._observer;let v=null;if(e._pendingEditorState=null,e._editorState=r,!i&&l&&m!==null){bf=e,Hf=r,mp=!1,e._updating=!0;try{const _=e._dirtyType,R=e._dirtyElements,O=e._dirtyLeaves;m.disconnect(),v=BXe(a,r,e,_,R,O)}catch(_){if(_ instanceof Error&&e._onError(_),Lz)throw _;return Wbe(e,null,n,r),gbe(e),e._dirtyType=qx,Lz=!0,Gy(e,a),void(Lz=!1)}finally{m.observe(n,use),e._updating=p,Hf=u,mp=f,bf=h}}r._readOnly||(r._readOnly=!0);const w=e._dirtyLeaves,x=e._dirtyElements,T=e._normalizedNodes,A=e._updateTags,P=e._deferred;l&&(e._dirtyType=rw,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(_,R){const O=_._decorators;let F=_._pendingDecorators||O;const $=R._nodeMap;let z;for(z in F)$.has(z)||(F===O&&(F=Kbe(_)),delete F[z])}(e,r);const S=i?null:eh(rg(e));if(e._editable&&S!==null&&(l||o===null||o.dirty)&&n!==null&&!A.has("skip-dom-selection")){bf=e,Hf=r;try{if(m!==null&&m.disconnect(),l||o===null||o.dirty){const _=e._blockCursorElement;_!==null&&S7(_,e,n),tJe(s,o,e,S,A,n)}(function(_,R,O){let F=_._blockCursorElement;if(Vr(O)&&O.isCollapsed()&&O.anchor.type==="element"&&R.contains(document.activeElement)){const $=O.anchor,z=$.getNode(),q=$.offset;let Z=!1,V=null;if(q===z.getChildrenSize())zz(z.getChildAtIndex(q-1))&&(Z=!0);else{const J=z.getChildAtIndex(q);if(J!==null&&zz(J)){const fe=J.getPreviousSibling();(fe===null||zz(fe))&&(Z=!0,V=_.getElementByKey(J.__key))}}if(Z){const J=_.getElementByKey(z.__key);return F===null&&(_._blockCursorElement=F=function(fe){const ue=fe.theme,pe=document.createElement("div");pe.contentEditable="false",pe.setAttribute("data-lexical-cursor","true");let ve=ue.blockCursor;if(ve!==void 0){if(typeof ve=="string"){const le=CO(ve);ve=ue.blockCursor=le}ve!==void 0&&pe.classList.add(...ve)}return pe}(_._config)),R.style.caretColor="transparent",void(V===null?J.appendChild(F):J.insertBefore(F,V))}}F!==null&&S7(F,_,R)})(e,n,o)}finally{m!==null&&m.observe(n,use),bf=h,Hf=u}}v!==null&&function(_,R,O,F,$){const z=Array.from(_._listeners.mutation),q=z.length;for(let Z=0;Z<q;Z++){const[V,J]=z[Z],fe=R.get(J);fe!==void 0&&V(fe,{dirtyLeaves:F,prevEditorState:$,updateTags:O})}}(e,v,A,w,a),Vr(o)||o===null||s!==null&&s.is(o)||e.dispatchCommand(Q0,void 0);const E=e._pendingDecorators;E!==null&&(e._decorators=E,e._pendingDecorators=null,UC("decorator",e,!0,E)),function(_,R,O){const F=gse(R),$=gse(O);F!==$&&UC("textcontent",_,!0,$)}(e,t||a,r),UC("update",e,!0,{dirtyElements:x,dirtyLeaves:w,editorState:r,normalizedNodes:T,prevEditorState:t||a,tags:A}),function(_,R){if(_._deferred=[],R.length!==0){const O=_._updating;_._updating=!0;try{for(let F=0;F<R.length;F++)R[F]()}finally{_._updating=O}}}(e,P),function(_){const R=_._updates;if(R.length!==0){const O=R.shift();if(O){const[F,$]=O;CW(_,F,$)}}}(e)}function UC(e,t,r,...n){const i=t._updating;t._updating=r;try{const a=Array.from(t._listeners[e]);for(let s=0;s<a.length;s++)a[s].apply(null,n)}finally{t._updating=i}}function Ube(e,t,r){if(e._updating===!1||bf!==e){let i=!1;return e.update(()=>{i=Ube(e,t,r)}),i}const n=kW(e);for(let i=4;i>=0;i--)for(let a=0;a<n.length;a++){const s=n[a]._commands.get(t);if(s!==void 0){const o=s[i];if(o!==void 0){const l=Array.from(o),u=l.length;for(let f=0;f<u;f++)if(l[f](r,e)===!0)return!0}}}return!1}function hse(e,t){const r=e._updates;let n=t||!1;for(;r.length!==0;){const i=r.shift();if(i){const[a,s]=i;let o;if(s!==void 0){if(o=s.onUpdate,s.skipTransforms&&(n=!0),s.discrete){const l=e._pendingEditorState;l===null&&Yn(191),l._flushSync=!0}o&&e._deferred.push(o),jbe(e,s.tag)}a()}}return n}function CW(e,t,r){const n=e._updateTags;let i,a=!1,s=!1;r!==void 0&&(i=r.onUpdate,jbe(e,r.tag),a=r.skipTransforms||!1,s=r.discrete||!1),i&&e._deferred.push(i);const o=e._editorState;let l=e._pendingEditorState,u=!1;(l===null||l._readOnly)&&(l=e._pendingEditorState=qbe(l||o),u=!0),l._flushSync=s;const f=Hf,h=mp,p=bf,m=e._updating;Hf=l,mp=!1,e._updating=!0,bf=e;const v=e._headless||e.getRootElement()===null;try{u&&(v?o._selection!==null&&(l._selection=o._selection.clone()):l._selection=function(A,P){const S=A.getEditorState()._selection,E=eh(rg(A));return Vr(S)||S==null?ok(S,E,A,P):S.clone()}(e,r&&r.event||null));const x=e._compositionKey;t(),a=hse(e,a),function(A,P){const S=P.getEditorState()._selection,E=A._selection;if(Vr(E)){const _=E.anchor,R=E.focus;let O;if(_.type==="text"&&(O=_.getNode(),O.selectionTransform(S,E)),R.type==="text"){const F=R.getNode();O!==F&&F.selectionTransform(S,E)}}}(l,e),e._dirtyType!==rw&&(a?function(A,P){const S=P._dirtyLeaves,E=A._nodeMap;for(const _ of S){const R=E.get(_);Rn(R)&&R.isAttached()&&R.isSimpleText()&&!R.isUnmergeable()&&Woe(R)}}(l,e):function(A,P){const S=P._dirtyLeaves,E=P._dirtyElements,_=A._nodeMap,R=eb(),O=new Map;let F=S,$=F.size,z=E,q=z.size;for(;$>0||q>0;){if($>0){P._dirtyLeaves=new Set;for(const Z of F){const V=_.get(Z);Rn(V)&&V.isAttached()&&V.isSimpleText()&&!V.isUnmergeable()&&Woe(V),V!==void 0&&fse(V,R)&&cse(P,V,O),S.add(Z)}if(F=P._dirtyLeaves,$=F.size,$>0){OA++;continue}}P._dirtyLeaves=new Set,P._dirtyElements=new Map;for(const Z of z){const V=Z[0],J=Z[1];if(V!=="root"&&!J)continue;const fe=_.get(V);fe!==void 0&&fse(fe,R)&&cse(P,fe,O),E.set(V,J)}F=P._dirtyLeaves,$=F.size,z=P._dirtyElements,q=z.size,OA++}P._dirtyLeaves=S,P._dirtyElements=E}(l,e),hse(e),function(A,P,S,E){const _=A._nodeMap,R=P._nodeMap,O=[];for(const[F]of E){const $=R.get(F);$!==void 0&&($.isAttached()||(qr($)&&hbe($,F,_,R,O,E),_.has(F)||E.delete(F),O.push(F)))}for(const F of O)R.delete(F);for(const F of S){const $=R.get(F);$===void 0||$.isAttached()||(_.has(F)||S.delete(F),R.delete(F))}}(o,l,e._dirtyLeaves,e._dirtyElements)),x!==e._compositionKey&&(l._flushSync=!0);const T=l._selection;if(Vr(T)){const A=l._nodeMap,P=T.anchor.key,S=T.focus.key;A.get(P)!==void 0&&A.get(S)!==void 0||Yn(19)}else gf(T)&&T._nodes.size===0&&(l._selection=null)}catch(x){return x instanceof Error&&e._onError(x),e._pendingEditorState=o,e._dirtyType=qx,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Gy(e)}finally{Hf=f,mp=h,bf=p,e._updating=m,OA=0}e._dirtyType!==rw||e._deferred.length>0||function(x,T){const A=T.getEditorState()._selection,P=x._selection;if(P!==null){if(P.dirty||!P.is(A))return!0}else if(A!==null)return!0;return!1}(l,e)?l._flushSync?(l._flushSync=!1,Gy(e)):u&&lJe(()=>{Gy(e)}):(l._flushSync=!1,u&&(n.clear(),e._deferred=[],e._pendingEditorState=null))}function jm(e,t,r){e._updating?bf===e?t():e._updates.push([t,r]):CW(e,t,r)}class qC{constructor(t,r,n){this.element=t,this.before=r||null,this.after=n||null}withBefore(t){return new qC(this.element,t,this.after)}withAfter(t){return new qC(this.element,this.before,t)}withElement(t){return new qC(t,this.before,this.after)}insertChild(t){const r=this.before||this.getManagedLineBreak();return r!==null&&r.parentElement!==this.element&&Yn(222),this.element.insertBefore(t,r),this}removeChild(t){return t.parentElement!==this.element&&Yn(223),this.element.removeChild(t),this}replaceChild(t,r){return r.parentElement!==this.element&&Yn(224),this.element.replaceChild(t,r),this}getFirstChild(){const t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{const r=t==="decorator"&&(Ux||O2);this.insertManagedLineBreak(r)}}removeManagedLineBreak(){const t=this.getManagedLineBreak();if(t){const r=this.element,n=t.nodeName==="IMG"?t.nextSibling:null;n&&r.removeChild(n),r.removeChild(t),r.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){const r=this.getManagedLineBreak();if(r){if(t===(r.nodeName==="IMG"))return;this.removeManagedLineBreak()}const n=this.element,i=this.before,a=document.createElement("br");if(n.insertBefore(a,i),t){const s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",n.insertBefore(s,a),n.__lexicalLineBreak=s}else n.__lexicalLineBreak=a}getFirstChildOffset(){let t=0;for(let r=this.after;r!==null;r=r.previousSibling)t++;return t}resolveChildIndex(t,r,n,i){if(n===this.element){const l=this.getFirstChildOffset();return[t,Math.min(l+t.getChildrenSize(),Math.max(l,i))]}const a=pse(r,n);a.push(i);const s=pse(r,this.element);let o=t.getIndexWithinParent();for(let l=0;l<s.length;l++){const u=a[l],f=s[l];if(u===void 0||u<f)break;if(u>f){o+=1;break}}return[t.getParentOrThrow(),o]}}function pse(e,t){const r=[];let n=t;for(;n!==e&&n!==null;n=t.parentNode){let i=0;for(let a=n.previousSibling;a!==null;a=a.previousSibling)i++;r.push(i)}return n!==e&&Yn(225),r.reverse()}class Vh extends nk{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__first=t.__first,this.__last=t.__last,this.__size=t.__size,this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return OXe[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getChildrenKeys(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r.__key),r=r.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Qu()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(t)}getAllTextNodes(){const t=[];let r=this.getFirstChild();for(;r!==null;){if(Rn(r)&&t.push(r),qr(r)){const n=r.getAllTextNodes();t.push(...n)}r=r.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;qr(t);){const r=t.getFirstChild();if(r===null)break;t=r}return t}getLastDescendant(){let t=this.getLastChild();for(;qr(t);){const r=t.getLastChild();if(r===null)break;t=r}return t}getDescendantByIndex(t){const r=this.getChildren(),n=r.length;if(t>=n){const a=r[n-1];return qr(a)&&a.getLastDescendant()||a||null}const i=r[t];return qr(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:ps(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Yn(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:ps(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Yn(96,this.__key),t}getChildAtIndex(t){const r=this.getChildrenSize();let n,i;if(t<r/2){for(n=this.getFirstChild(),i=0;n!==null&&i<=t;){if(i===t)return n;n=n.getNextSibling(),i++}return null}for(n=this.getLastChild(),i=r-1;n!==null&&i>=t;){if(i===t)return n;n=n.getPreviousSibling(),i--}return null}getTextContent(){let t="";const r=this.getChildren(),n=r.length;for(let i=0;i<n;i++){const a=r[i];t+=a.getTextContent(),qr(a)&&i!==n-1&&!a.isInline()&&(t+=u0)}return t}getTextContentSize(){let t=0;const r=this.getChildren(),n=r.length;for(let i=0;i<n;i++){const a=r[i];t+=a.getTextContentSize(),qr(a)&&i!==n-1&&!a.isInline()&&(t+=u0.length)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const r=Uoe[t];return!!(this.getFormat()&r)}return!1}hasTextFormat(t){const r=gb[t];return!!(this.getTextFormat()&r)}getFormatFlags(t,r){return BO(this.getLatest().__textFormat,t,r)}getTextStyle(){return this.getLatest().__textStyle}select(t,r){Vd();const n=ln();let i=t,a=r;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&r===0){const l=this.getFirstChild();if(Rn(l)||qr(l))return l.select(0,0)}else if(!(t!==void 0&&t!==s||r!==void 0&&r!==s)){const l=this.getLastChild();if(Rn(l)||qr(l))return l.select()}}i===void 0&&(i=s),a===void 0&&(a=s);const o=this.__key;return Vr(n)?(n.anchor.set(o,i,"element"),n.focus.set(o,a,"element"),n.dirty=!0,n):Nbe(o,i,o,a,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(r=>r.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const r=this.getWritable();return r.__dir=t,r}setFormat(t){return this.getWritable().__format=t!==""?Uoe[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const r=this.getWritable();return r.__textFormat=t,r}setTextStyle(t){const r=this.getWritable();return r.__textStyle=t,r}setIndent(t){return this.getWritable().__indent=t,this}splice(t,r,n){const i=n.length,a=this.getChildrenSize(),s=this.getWritable();t+r<=a||Yn(226,String(t),String(r),String(a));const o=s.__key,l=[],u=[],f=this.getChildAtIndex(t+r);let h=null,p=a-r+i;if(t!==0)if(t===a)h=this.getLastChild();else{const v=this.getChildAtIndex(t);v!==null&&(h=v.getPreviousSibling())}if(r>0){let v=h===null?this.getFirstChild():h.getNextSibling();for(let w=0;w<r;w++){v===null&&Yn(100);const x=v.getNextSibling(),T=v.__key;N_(v.getWritable()),u.push(T),v=x}}let m=h;for(let v=0;v<i;v++){const w=n[v];m!==null&&w.is(m)&&(h=m=m.getPreviousSibling());const x=w.getWritable();x.__parent===o&&p--,N_(x);const T=w.__key;if(m===null)s.__first=T,x.__prev=null;else{const A=m.getWritable();A.__next=T,x.__prev=A.__key}w.__key===o&&Yn(76),x.__parent=o,l.push(T),m=w}if(t+r===a)m!==null&&(m.getWritable().__next=null,s.__last=m.__key);else if(f!==null){const v=f.getWritable();if(m!==null){const w=m.getWritable();v.__prev=m.__key,w.__next=f.__key}else v.__prev=null}if(s.__size=p,u.length){const v=ln();if(Vr(v)){const w=new Set(u),x=new Set(l),{anchor:T,focus:A}=v;mse(T,w,x)&&$O(T,T.getNode(),this,h,f),mse(A,w,x)&&$O(A,A.getNode(),this,h,f),p!==0||this.canBeEmpty()||Jd(this)||this.remove()}}return s}getDOMSlot(t){return new qC(t)}exportDOM(t){const{element:r}=super.exportDOM(t);if(Pl(r)){const n=this.getIndent();n>0&&(r.style.paddingInlineStart=40*n+"px")}return{element:r}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),n=this.getTextStyle();return r!==0&&(t.textFormat=r),n!==""&&(t.textStyle=n),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,r){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,r,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,r){const n=this.getDOMSlot(t);let i=n.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){const s=r.getElementByKey(a.getKey());s!==null&&(i==null?(n.insertChild(s),i=s):i!==s&&n.replaceChild(s,i),i=i.nextSibling)}}}function qr(e){return e instanceof Vh}function mse(e,t,r){let n=e.getNode();for(;n;){const i=n.__key;if(t.has(i)&&!r.has(i))return!0;n=n.getParent()}return!1}class PW extends nk{decorate(t,r){Yn(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ws(e){return e instanceof PW}class KP extends Vh{static getType(){return"root"}static clone(){return new KP}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Yn(51)}getTextContent(){const t=this.__cachedText;return!FS()&&Qu()._dirtyType!==rw||t===null?super.getTextContent():t}remove(){Yn(52)}replace(t){Yn(53)}insertBefore(t){Yn(54)}insertAfter(t){Yn(55)}updateDOM(t,r){return!1}append(...t){for(let r=0;r<t.length;r++){const n=t[r];qr(n)||ws(n)||Yn(56)}return super.append(...t)}static importJSON(t){return Js().updateFromJSON(t)}collapseAtStart(){return!0}}function Gf(e){return e instanceof KP}function qbe(e){return new sk(new Map(e._nodeMap))}function TW(){return new sk(new Map([["root",new KP]]))}function Hbe(e){const t=e.exportJSON(),r=e.constructor;if(t.type!==r.getType()&&Yn(130,r.name),qr(e)){const n=t.children;Array.isArray(n)||Yn(59,r.name);const i=e.getChildren();for(let a=0;a<i.length;a++){const s=Hbe(i[a]);n.push(s)}}return t}class sk{constructor(t,r){this._nodeMap=t,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,r){return dse(r&&r.editor||null,this,t)}clone(t){const r=new sk(this._nodeMap,t===void 0?this._selection:t);return r._readOnly=!0,r}toJSON(){return dse(null,this,()=>({root:Hbe(Js())}))}}class RW extends Vh{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class ZP extends Vh{static getType(){return"paragraph"}static clone(t){return new ZP(t.__key)}createDOM(t){const r=document.createElement("p"),n=Px(t.theme,"paragraph");return n!==void 0&&r.classList.add(...n),r}updateDOM(t,r,n){return!1}static importDOM(){return{p:t=>({conversion:aJe,priority:0})}}exportDOM(t){const{element:r}=super.exportDOM(t);if(Pl(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();r.style.textAlign=n;const i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(t){return as().updateFromJSON(t)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(t,r){const n=as();n.setTextFormat(t.format),n.setTextStyle(t.style);const i=this.getDirection();return n.setDirection(i),n.setFormat(this.getFormatType()),n.setStyle(this.getTextStyle()),this.insertAfter(n,r),n}collapseAtStart(){const t=this.getChildren();if(t.length===0||Rn(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function aJe(e){const t=as();return e.style&&(t.setFormat(e.style.textAlign),zW(e,t)),{node:t}}function as(){return td(new ZP)}function Hw(e){return e instanceof ZP}const ia=0,ds=1,vxt=2,Nz=3,Xp=4;function Wbe(e,t,r,n){const i=e._keyToDOMMap;i.clear(),e._editorState=TW(),e._pendingEditorState=n,e._compositionKey=null,e._dirtyType=rw,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const a=e._observer;a!==null&&(a.disconnect(),e._observer=null),t!==null&&(t.textContent=""),r!==null&&(r.textContent="",i.set("root",r))}function oJe(e){const t=e||{},r=nJe(),n=t.theme||{},i=e===void 0?r:t.parentEditor||null,a=t.disableEvents||!1,s=TW(),o=t.namespace||(i!==null?i._config.namespace:Xbe()),l=t.editorState,u=[KP,fm,VP,GP,ZP,RW,...t.nodes||[]],{onError:f,html:h}=t,p=t.editable===void 0||t.editable;let m;if(e===void 0&&r!==null)m=r._nodes;else{m=new Map;for(let w=0;w<u.length;w++){let x=u[w],T=null,A=null;if(typeof x!="function"){const _=x;x=_.replace,T=_.with,A=_.withKlass||null}const P=x.getType(),S=x.transform(),E=new Set;S!==null&&E.add(S),m.set(P,{exportDOM:h&&h.export?h.export.get(x):void 0,klass:x,replace:T,replaceWithKlass:A,transforms:E})}}const v=new lk(s,i,m,{disableEvents:a,namespace:o,theme:n},f||console.error,function(w,x){const T=new Map,A=new Set,P=S=>{Object.keys(S).forEach(E=>{let _=T.get(E);_===void 0&&(_=[],T.set(E,_)),_.push(S[E])})};return w.forEach(S=>{const E=S.klass.importDOM;if(E==null||A.has(E))return;A.add(E);const _=E.call(S.klass);_!==null&&P(_)}),x&&P(x),T}(m,h?h.import:void 0),p);return l!==void 0&&(v._pendingEditorState=l,v._dirtyType=qx),v}class lk{constructor(t,r,n,i,a,s,o){this._parentEditor=r,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=rw,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Xbe(),this._onError=a,this._htmlConversions=s,this._editable=o,this._headless=r!==null&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const r=this._listeners.update;return r.add(t),()=>{r.delete(t)}}registerEditableListener(t){const r=this._listeners.editable;return r.add(t),()=>{r.delete(t)}}registerDecoratorListener(t){const r=this._listeners.decorator;return r.add(t),()=>{r.delete(t)}}registerTextContentListener(t){const r=this._listeners.textcontent;return r.add(t),()=>{r.delete(t)}}registerRootListener(t){const r=this._listeners.root;return t(this._rootElement,null),r.add(t),()=>{t(null,this._rootElement),r.delete(t)}}registerCommand(t,r,n){n===void 0&&Yn(35);const i=this._commands;i.has(t)||i.set(t,[new Set,new Set,new Set,new Set,new Set]);const a=i.get(t);a===void 0&&Yn(36,String(t));const s=a[n];return s.add(r),()=>{s.delete(r),a.every(o=>o.size===0)&&i.delete(t)}}registerMutationListener(t,r,n){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,a=this._listeners.mutation;a.set(r,i);const s=n&&n.skipInitialization;return s!==void 0&&s||this.initializeMutationListener(r,i),()=>{a.delete(r)}}getRegisteredNode(t){const r=this._nodes.get(t.getType());return r===void 0&&Yn(37,t.name),r}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,r){const n=this._editorState,i=Ese(n).get(r.getType());if(!i)return;const a=new Map;for(const s of i.keys())a.set(s,"created");a.size>0&&t(a,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,r){const n=this.getRegisteredNode(t);return n.transforms.add(r),n}registerNodeTransform(t,r){const n=this.registerNodeTransformToKlass(t,r),i=[n],a=n.replaceWithKlass;if(a!=null){const s=this.registerNodeTransformToKlass(a,r);i.push(s)}return function(s,o){const l=Ese(s.getEditorState()),u=[];for(const f of o){const h=l.get(f);h&&u.push(h)}u.length!==0&&s.update(()=>{for(const f of u)for(const h of f.keys()){const p=ps(h);p&&p.markDirty()}},s._pendingEditorState===null?{tag:"history-merge"}:void 0)}(this,i.map(s=>s.klass.getType())),()=>{i.forEach(s=>s.transforms.delete(r))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,r){return ki(this,t,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const r=this._rootElement;if(t!==r){const n=Px(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=t,Wbe(this,r,t,i),r!==null&&(this._config.disableEvents||WXe(r),n!=null&&r.classList.remove(...n)),t!==null){const a=NW(t),s=t.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=qx,gbe(this),this._updateTags.add("history-merge"),Gy(this),this._config.disableEvents||function(o,l){const u=o.ownerDocument,f=FO.get(u);(f===void 0||f<1)&&u.addEventListener("selectionchange",Mbe),FO.set(u,(f||0)+1),o.__lexicalEditor=l;const h=Ibe(o);for(let p=0;p<m7.length;p++){const[m,v]=m7[p],w=typeof v=="function"?x=>{Xoe(x)||(Yoe(x),(l.isEditable()||m==="click")&&v(x,l))}:x=>{if(Xoe(x))return;Yoe(x);const T=l.isEditable();switch(m){case"cut":return T&&ki(l,WP,x);case"copy":return ki(l,HP,x);case"paste":return T&&ki(l,UP,x);case"dragstart":return T&&ki(l,xW,x);case"dragover":return T&&ki(l,Sbe,x);case"dragend":return T&&ki(l,UXe,x);case"focus":return T&&ki(l,Pbe,x);case"blur":return T&&ki(l,qXe,x);case"drop":return T&&ki(l,_W,x)}};o.addEventListener(m,w),h.push(()=>{o.removeEventListener(m,w)})}}(t,this),n!=null&&t.classList.add(...n)}else this._window=null,this._updateTags.add("history-merge"),Gy(this);UC("root",this,!1,t,r)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,r){t.isEmpty()&&Yn(38);let n=t;n._readOnly&&(n=qbe(t),n._selection=t._selection?t._selection.clone():null),mbe(this);const i=this._pendingEditorState,a=this._updateTags,s=r!==void 0?r.tag:null;i===null||i.isEmpty()||(s!=null&&a.add(s),Gy(this)),this._pendingEditorState=n,this._dirtyType=qx,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&a.add(s),this._updating||Gy(this)}parseEditorState(t,r){return function(n,i,a){const s=TW(),o=Hf,l=mp,u=bf,f=i._dirtyElements,h=i._dirtyLeaves,p=i._cloneNotNeeded,m=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Hf=s,mp=!1,bf=i;try{const v=i._nodes;EW(n.root,v),a&&a(),s._readOnly=!0}catch(v){v instanceof Error&&i._onError(v)}finally{i._dirtyElements=f,i._dirtyLeaves=h,i._cloneNotNeeded=p,i._dirtyType=m,Hf=o,mp=l,bf=u}return s}(typeof t=="string"?JSON.parse(t):t,this,r)}read(t){return Gy(this),this.getEditorState().read(t,{editor:this})}update(t,r){(function(n,i,a){n._updating?n._updates.push([i,a]):CW(n,i,a)})(this,t,r)}focus(t,r={}){const n=this._rootElement;n!==null&&(n.setAttribute("autocapitalize","off"),jm(this,()=>{const i=ln(),a=Js();i!==null?i.dirty=!0:a.getChildrenSize()!==0&&(r.defaultSelection==="rootStart"?a.selectStart():a.selectEnd()),cJe("focus"),fJe(()=>{n.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const r=eh(this._window);r!==null&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,UC("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}lk.version="0.25.0+prod.esm";let sJe=1;const lJe=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function AW(e){const t=document.activeElement;if(!Pl(t))return!1;const r=t.nodeName;return ws(Qd(e))&&(r==="INPUT"||r==="TEXTAREA"||t.contentEditable==="true"&&uk(t)==null)}function YP(e,t,r){const n=e.getRootElement();try{return n!==null&&n.contains(t)&&n.contains(r)&&t!==null&&!AW(t)&&IW(t)===e}catch{return!1}}function OW(e){return e instanceof lk}function IW(e){let t=e;for(;t!=null;){const r=uk(t);if(OW(r))return r;t=XP(t)}return null}function uk(e){return e?e.__lexicalEditor:null}function S_(e){return e.isToken()||e.isSegmented()}function b0(e){return a0(e)&&e.nodeType===bXe}function uJe(e){return a0(e)&&e.nodeType===_Xe}function zO(e){let t=e;for(;t!=null;){if(b0(t))return t;t=t.firstChild}return null}function BO(e,t,r){const n=gb[t];if(r!==null&&(e&n)==(r&n))return e;let i=e^n;return t==="subscript"?i&=-65:t==="superscript"?i&=-33:t==="lowercase"?(i&=-513,i&=-1025):t==="uppercase"?(i&=-257,i&=-1025):t==="capitalize"&&(i&=-257,i&=-513),i}function MW(e){return Rn(e)||hl(e)||ws(e)}function Vbe(e,t){if(t!=null)return void(e.__key=t);Vd(),zbe();const r=Qu(),n=zb(),i=""+sJe++;n._nodeMap.set(i,e),qr(e)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=cbe,e.__key=i}function N_(e){const t=e.getParent();if(t!==null){const r=e.getWritable(),n=t.getWritable(),i=e.getPreviousSibling(),a=e.getNextSibling();if(i===null)if(a!==null){const s=a.getWritable();n.__first=a.__key,s.__prev=null}else n.__first=null;else{const s=i.getWritable();if(a!==null){const o=a.getWritable();o.__prev=s.__key,s.__next=o.__key}else s.__next=null;r.__prev=null}if(a===null)if(i!==null){const s=i.getWritable();n.__last=i.__key,s.__next=null}else n.__last=null;else{const s=a.getWritable();if(i!==null){const o=i.getWritable();o.__next=s.__key,s.__prev=o.__key}else s.__prev=null;r.__next=null}n.__size--,r.__parent=null}}function jO(e){zbe();const t=e.getLatest(),r=t.__parent,n=zb(),i=Qu(),a=n._nodeMap,s=i._dirtyElements;r!==null&&function(l,u,f){let h=l;for(;h!==null;){if(f.has(h))return;const p=u.get(h);if(p===void 0)break;f.set(h,!1),h=p.__parent}}(r,a,s);const o=t.__key;i._dirtyType=cbe,qr(e)?s.set(o,!0):i._dirtyLeaves.add(o)}function Td(e){Vd();const t=Qu(),r=t._compositionKey;if(e!==r){if(t._compositionKey=e,r!==null){const n=ps(r);n!==null&&n.getWritable()}if(e!==null){const n=ps(e);n!==null&&n.getWritable()}}}function eb(){return FS()?null:Qu()._compositionKey}function ps(e,t){const r=(t||zb())._nodeMap.get(e);return r===void 0?null:r}function Gbe(e,t){const r=ck(e,Qu());return r!==void 0?ps(r,t):null}function ck(e,t){return e[`__lexicalKey_${t._key}`]}function Qd(e,t){let r=e;for(;r!=null;){const n=Gbe(r,t);if(n!==null)return n;r=XP(r)}return null}function Kbe(e){const t=e._decorators,r=Object.assign({},t);return e._pendingDecorators=r,r}function gse(e){return e.read(()=>Js().getTextContent())}function Js(){return Zbe(zb())}function Zbe(e){return e._nodeMap.get("root")}function Tu(e){Vd();const t=zb();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function px(e){const t=Qu(),r=function(n,i){let a=n;for(;a!=null;){const s=ck(a,i);if(s!==void 0)return s;a=XP(a)}return null}(e,t);return r===null?e===t.getRootElement()?ps("root"):null:ps(r)}function vse(e,t){return t?e.getTextContentSize():0}function Ybe(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function kW(e){const t=[];let r=e;for(;r!==null;)t.push(r),r=r._parentEditor;return t}function Xbe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Jbe(e){return b0(e)?e.nodeValue:null}function DW(e,t,r){const n=eh(rg(t));if(n===null)return;const i=n.anchorNode;let{anchorOffset:a,focusOffset:s}=n;if(i!==null){let o=Jbe(i);const l=Qd(i);if(o!==null&&Rn(l)){if(o===QM&&r){const u=r.length;o=r,a=u,s=u}o!==null&&FW(l,o,a,s,e)}}}function FW(e,t,r,n,i){let a=e;if(a.isAttached()&&(i||!a.isDirty())){const s=a.isComposing();let o=t;(s||i)&&t[t.length-1]===QM&&(o=t.slice(0,-1));const l=a.getTextContent();if(i||o!==l){if(o===""){if(Td(null),O2||Ux||EO)a.remove();else{const w=Qu();setTimeout(()=>{w.update(()=>{a.isAttached()&&a.remove()})},20)}return}const u=a.getParent(),f=c0(),h=a.getTextContentSize(),p=eb(),m=a.getKey();if(a.isToken()||p!==null&&m===p&&!s||Vr(f)&&(u!==null&&!u.canInsertTextBefore()&&f.anchor.offset===0||f.anchor.key===e.__key&&f.anchor.offset===0&&!a.canInsertTextBefore()&&!s||f.focus.key===e.__key&&f.focus.offset===h&&!a.canInsertTextAfter()&&!s))return void a.markDirty();const v=ln();if(!Vr(v)||r===null||n===null)return void a.setTextContent(o);if(v.setTextNodeRange(a,r,a,n),a.isSegmented()){const w=js(a.getTextContent());a.replace(w),a=w}a.setTextContent(o)}}}function yse(e){return e==="ArrowLeft"}function bse(e){return e==="ArrowRight"}function _C(e,t){return Fg?e:t}function _se(e){return e==="Enter"}function N1(e){return e==="Backspace"}function rC(e){return e==="Delete"}function wse(e,t,r){return e.toLowerCase()==="a"&&_C(t,r)}function Qbe(e){const t=Js();if(Vr(e)){const r=e.anchor,n=e.focus,i=r.getNode().getTopLevelElementOrThrow().getParentOrThrow();return r.set(i.getKey(),0,"element"),n.set(i.getKey(),i.getChildrenSize(),"element"),vb(e),e}{const r=t.select(0,t.getChildrenSize());return Tu(vb(r)),r}}function Px(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const r=e.__lexicalClassNameCache,n=r[t];if(n!==void 0)return n;const i=e[t];if(typeof i=="string"){const a=CO(i);return r[t]=a,a}return i}function LW(e,t,r,n,i){if(r.size===0)return;const a=n.__type,s=n.__key,o=t.get(a);o===void 0&&Yn(33,a);const l=o.klass;let u=e.get(l);u===void 0&&(u=new Map,e.set(l,u));const f=u.get(s),h=f==="destroyed"&&i==="created";(f===void 0||h)&&u.set(s,h?"updated":i)}function xse(e,t,r){const n=e.getParent();let i=r,a=e;return n!==null&&(t&&r===0?(i=a.getIndexWithinParent(),a=n):t||r!==a.getChildrenSize()||(i=a.getIndexWithinParent()+1,a=n)),a.getChildAtIndex(t?i-1:i)}function D2(e,t){const r=e.offset;if(e.type==="element")return xse(e.getNode(),t,r);{const n=e.getNode();if(t&&r===0||!t&&r===n.getTextContentSize()){const i=t?n.getPreviousSibling():n.getNextSibling();return i===null?xse(n.getParentOrThrow(),t,n.getIndexWithinParent()+(t?0:1)):i}}return null}function e_e(e){const t=rg(e).event,r=t&&t.inputType;return r==="insertFromPaste"||r==="insertFromPasteAsQuotation"}function ki(e,t,r){return Ube(e,t,r)}function fk(e){return!Gf(e)&&!e.isLastChild()&&!e.isInline()}function UO(e,t){const r=e._keyToDOMMap.get(t);return r===void 0&&Yn(75,t),r}function XP(e){const t=e.assignedSlot||e.parentElement;return E7(t)?t.host:t}function t_e(e){return uJe(e)?e:Pl(e)?e.ownerDocument:null}function cJe(e){Vd(),Qu()._updateTags.add(e)}function fJe(e){Vd(),Qu()._deferred.push(e)}function x7(e,t){let r=e.getParent();for(;r!==null;){if(r.is(t))return!0;r=r.getParent()}return!1}function NW(e){const t=t_e(e);return t?t.defaultView:null}function rg(e){const t=e._window;return t===null&&Yn(78),t}function dJe(e){let t=e.getParentOrThrow();for(;t!==null;){if(Jd(t))return t;t=t.getParentOrThrow()}return t}function Jd(e){return Gf(e)||qr(e)&&e.isShadowRoot()}function hJe(e){const t=e.constructor.clone(e);return Vbe(t,null),t}function td(e){const t=Qu(),r=e.constructor.getType(),n=t._nodes.get(r);n===void 0&&Yn(200,e.constructor.name,r);const{replace:i,replaceWithKlass:a}=n;if(i!==null){const s=i(e),o=s.constructor;return a!==null?s instanceof a||Yn(201,a.name,a.getType(),o.name,o.getType(),e.constructor.name,r):s instanceof e.constructor&&o!==e.constructor||Yn(202,o.name,o.getType(),e.constructor.name,r),s.__key===e.__key&&Yn(203,e.constructor.name,r,o.name,o.getType()),s}return e}function $z(e,t){!Gf(e.getParent())||qr(t)||ws(t)||Yn(99)}function pJe(e){const t=ps(e);return t===null&&Yn(63,e),t}function zz(e){return(ws(e)||qr(e)&&!e.canBeEmpty())&&!e.isInline()}function S7(e,t,r){r.style.removeProperty("caret-color"),t._blockCursorElement=null;const n=e.parentElement;n!==null&&n.removeChild(e)}function eh(e){return fv?(e||window).getSelection():null}function mJe(e){const t=NW(e);return t?t.getSelection():null}function gJe(e,t){let r=e.getChildAtIndex(t);r==null&&(r=e),Jd(e)&&Yn(102);const n=s=>{const o=s.getParentOrThrow(),l=Jd(o),u=s!==r||l?hJe(s):s;if(l)return qr(s)&&qr(u)||Yn(133),s.insertAfter(u),[s,u,u];{const[f,h,p]=n(o),m=s.getNextSiblings();return p.append(u,...m),[f,h,u]}},[i,a]=n(r);return[i,a]}function r_e(e){return Pl(e)&&e.tagName==="A"}function Pl(e){return a0(e)&&e.nodeType===yXe}function a0(e){return typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeType=="number"}function E7(e){return a0(e)&&e.nodeType===wXe}function C7(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function qO(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function jg(e){if(ws(e)&&!e.isInline())return!0;if(!qr(e)||Jd(e))return!1;const t=e.getFirstChild(),r=t===null||hl(t)||Rn(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&r}function Bz(e,t){let r=e;for(;r!==null&&r.getParent()!==null&&!t(r);)r=r.getParentOrThrow();return t(r)?r:null}function $W(){return Qu()}const Sse=new WeakMap,vJe=new Map;function Ese(e){if(!e._readOnly&&e.isEmpty())return vJe;e._readOnly||Yn(192);let t=Sse.get(e);return t||(t=function(r){const n=new Map;for(const[i,a]of r._nodeMap){const s=a.__type;let o=n.get(s);o||(o=new Map,n.set(s,o)),o.set(i,a)}return n}(e),Sse.set(e,t)),t}function dk(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function zW(e,t){const r=(parseInt(e.style.paddingInlineStart,10)||0)/40;t.setIndent(r)}function yJe(e){e.__lexicalUnmanaged=!0}function bJe(e){return e.__lexicalUnmanaged===!0}const _Je={next:"previous",previous:"next"};class BW{constructor(t){this.origin=t}[Symbol.iterator](){return hk({hasNext:NS,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return Zf(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Zf(this.origin,this.direction)}remove(){const t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,r){const n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(n===null?this.insert(t):n.replace(t,r)),this}splice(t,r,n="next"){const i=n===this.direction?r:Array.from(r).reverse();let a=this;const s=this.getParentAtCaret(),o=new Map;for(let l=a.getAdjacentCaret();l!==null&&o.size<t;l=l.getAdjacentCaret()){const u=l.origin.getWritable();o.set(u.getKey(),u)}for(const l of i){if(o.size>0){const u=a.getNodeAtCaret();if(u){if(o.delete(u.getKey()),o.delete(l.getKey()),!(u.is(l)||a.origin.is(l))){const f=l.getParent();f&&f.is(s)&&l.remove(),u.replace(l)}}else u===null&&Yn(263,Array.from(o).join(" "))}else a.insert(l);a=Zf(l,this.direction)}for(const l of o.values())l.remove();return this}}class F2 extends BW{constructor(){super(...arguments);Ga(this,"type","child")}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:iy(r,this.direction)}getParentCaret(r="root"){return Zf(jW(this.getParentAtCaret(),r),this.direction)}getFlipped(){const r=LS(this.direction);return Zf(this.getNodeAtCaret(),r)||iy(this.origin,r)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(r){return r instanceof F2&&this.direction===r.direction&&this.origin.is(r.origin)}isSamePointCaret(r){return this.isSameNodeCaret(r)}}const wJe={root:Gf,shadowRoot:Jd};function LS(e){return _Je[e]}function jW(e,t="root"){return wJe[t](e)?null:e}class ow extends BW{constructor(){super(...arguments);Ga(this,"type","sibling")}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:Zf(r,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return qr(this.origin)?iy(this.origin,this.direction):null}getParentCaret(r="root"){return Zf(jW(this.getParentAtCaret(),r),this.direction)}getFlipped(){const r=LS(this.direction);return Zf(this.getNodeAtCaret(),r)||iy(this.origin.getParentOrThrow(),r)}isSamePointCaret(r){return r instanceof ow&&this.direction===r.direction&&this.origin.is(r.origin)}isSameNodeCaret(r){return(r instanceof ow||r instanceof HO)&&this.direction===r.direction&&this.origin.is(r.origin)}}let HO=class P7 extends BW{constructor(r,n){super(r);Ga(this,"type","text");this.offset=n}getLatest(){const r=this.origin.getLatest();return r===this.origin?this:lw(r,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(r="root"){return Zf(jW(this.getParentAtCaret(),r),this.direction)}getFlipped(){return lw(this.origin,LS(this.direction),this.offset)}isSamePointCaret(r){return r instanceof P7&&this.direction===r.direction&&this.origin.is(r.origin)&&this.offset===r.offset}isSameNodeCaret(r){return(r instanceof ow||r instanceof P7)&&this.direction===r.direction&&this.origin.is(r.origin)}getSiblingCaret(){return Zf(this.origin,this.direction)}};function HC(e){return e instanceof HO}function NS(e){return e instanceof ow}function sw(e){return e instanceof F2}const xJe={next:class extends HO{constructor(){super(...arguments);Ga(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends HO{constructor(){super(...arguments);Ga(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},SJe={next:class extends ow{constructor(){super(...arguments);Ga(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends ow{constructor(){super(...arguments);Ga(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},EJe={next:class extends F2{constructor(){super(...arguments);Ga(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends F2{constructor(){super(...arguments);Ga(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function Zf(e,t){return e?new SJe[t](e):null}function lw(e,t,r){return e?new xJe[t](e,UW(e,r)):null}function UW(e,t){const r=e.getTextContentSize(),n=t==="next"?r:t==="previous"?0:t;return n>=0&&n<=r||Yn(264,String(t),String(r)),n}function Cse(e,t){return new CJe(e,t)}function iy(e,t){return qr(e)?new EJe[t](e):null}function n_e(e){return e&&e.getChildCaret()||e}function L2(e){return e&&n_e(e.getAdjacentCaret())}class qW{constructor(t,r,n){Ga(this,"type","node-caret-range");this.anchor=t,this.focus=r,this.direction=n}getLatest(){const t=this.anchor.getLatest(),r=this.focus.getLatest();return t===this.anchor&&r===this.focus?this:new qW(t,r,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const t=i=>{const a=this[i];return HC(a)?function(s,o){const{direction:l,origin:u}=s,f=UW(u,o==="focus"?LS(l):l);return Cse(s,f-s.offset)}(a,i):null},r=t("anchor"),n=t("focus");if(r&&n){const{caret:i}=r,{caret:a}=n;if(i.isSameNodeCaret(a))return[Cse(i,a.offset-i.offset),null]}return[r,n]}iterNodeCarets(t="root"){const r=HC(this.anchor)?this.anchor.getSiblingCaret():this.anchor,{focus:n}=this,i=HC(n),a=s=>s.isSameNodeCaret(n)?null:L2(s)||s.getParentCaret(t);return hk({hasNext:s=>s!==null&&!(i&&n.isSameNodeCaret(s)),initial:r.isSameNodeCaret(n)?null:a(r),map:s=>s,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class CJe{constructor(t,r){Ga(this,"type","slice");this.caret=t,this.distance=r}getSliceIndices(){const{distance:t,caret:{offset:r}}=this,n=r+t;return n<r?[n,r]:[r,n]}getTextContent(){const[t,r]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,r)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:t,direction:r}}=this,[n,i]=this.getSliceIndices(),a=t.getTextContent();return lw(t.setTextContent(a.slice(0,n)+a.slice(i)),r,n)}}function PJe(e){return Hx(e,Zf(Js(),e.direction))}function Hx(e,t){return e.direction!==t.direction&&Yn(265),new qW(e,t,e.direction)}function hk(e){const{initial:t,hasNext:r,step:n,map:i}=e;let a=t;return{[Symbol.iterator](){return this},next(){if(!r(a))return{done:!0,value:void 0};const s={done:!1,value:i(a)};return a=n(a),s}}}function WO(e,t){const{type:r,key:n,offset:i}=e,a=pJe(e.key);return r==="text"?(Rn(a)||Yn(266,a.getType(),n),lw(a,t,i)):(qr(a)||Yn(267,a.getType(),n),a_e(a,e.offset,t))}function T7(e,t){const{origin:r,direction:n}=t,i=n==="next";HC(t)?e.set(r.getKey(),t.offset,"text"):NS(t)?Rn(r)?e.set(r.getKey(),UW(r,n),"text"):e.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(i?1:0),"element"):(sw(t)&&qr(r)||Yn(268),e.set(r.getKey(),i?0:r.getChildrenSize(),"element"))}function jz(e,t){T7(e.anchor,t.anchor),T7(e.focus,t.focus)}function i_e(e){const{anchor:t,focus:r}=e,n=r.isBefore(t)?"previous":"next";return Hx(WO(t,n),WO(r,n))}function pk(e){const{direction:t,origin:r}=e,n=Zf(r,LS(t)).getNodeAtCaret();return n?Zf(n,t):iy(r.getParentOrThrow(),t)}function Pse(e,t="root"){const r=[e];for(let n=sw(e)?e.getParentCaret(t):e.getSiblingCaret();n!==null;n=n.getParentCaret(t))r.push(pk(n));return r}function Uz(e){return!!e&&e.origin.isAttached()}function TJe(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const r="root",n="next";let i=t;const a=RJe(e,n),s=Pse(a.anchor,r),o=Pse(a.focus.getFlipped(),r),l=new Set,u=[];for(const v of a.iterNodeCarets(r))if(sw(v))l.add(v.origin.getKey());else if(NS(v)){const{origin:w}=v;qr(w)&&!l.has(w.getKey())||u.push(w)}for(const v of u)v.remove();for(const v of a.getTextSlices()){if(!v)continue;const{origin:w}=v.caret,x=w.getTextContentSize(),T=pk(Zf(w,n)),A=w.getMode();if(Math.abs(v.distance)===x&&i==="removeEmptySlices"||A==="token"&&v.distance!==0)T.remove();else if(v.distance!==0){i="removeEmptySlices";let P=v.removeTextSlice();const S=v.caret.origin;if(A==="segmented"){const E=P.origin,_=js(E.getTextContent()).setStyle(E.getStyle()).setFormat(E.getFormat());T.replaceOrInsert(_),P=lw(_,n,P.offset)}S.is(s[0].origin)&&(s[0]=P),S.is(o[0].origin)&&(o[0]=P.getFlipped())}}let f,h;for(const v of s)if(Uz(v)){f=WC(v);break}for(const v of o)if(Uz(v)){h=WC(v);break}const p=function(v,w,x){if(!v||!w)return null;const T=v.getParentAtCaret(),A=w.getParentAtCaret();if(!T||!A)return null;const P=T.getParents().reverse();P.push(T);const S=A.getParents().reverse();S.push(A);const E=Math.min(P.length,S.length);let _;for(_=0;_<E&&P[_]===S[_];_++);const R=($,z)=>{let q;for(let Z=_;Z<$.length;Z++){const V=$[Z];if(Jd(V))return;!q&&z(V)&&(q=V)}return q},O=R(P,jg),F=O&&R(S,$=>x.has($.getKey())&&jg($));return O&&F?[O,F]:null}(f,h,l);if(p){const[v,w]=p;iy(v,"previous").splice(0,w.getChildren()),w.remove()}const m=[f,h,...s,...o].find(Uz);if(m){const v=VO(WC(m),e.direction);return Hx(v,v)}Yn(269,JSON.stringify(s.map(v=>v.origin.__key)))}function WC(e){const t=function(i){let a=i;for(;sw(a);){const s=L2(a);if(!sw(s))break;a=s}return a}(e.getLatest()),{direction:r}=t;if(Rn(t.origin))return HC(t)?t:lw(t.origin,r,r);const n=t.getAdjacentCaret();return NS(n)&&Rn(n.origin)?lw(n.origin,r,LS(r)):t}function VO(e,t){return e.direction===t?e:e.getFlipped()}function RJe(e,t){return e.direction===t?e:Hx(VO(e.focus,t),VO(e.anchor,t))}function a_e(e,t,r){let n=iy(e,"next");for(let i=0;i<t;i++){const a=n.getAdjacentCaret();if(a===null)break;n=a}return VO(n,r)}const o_e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,AJe=o_e?ne.useLayoutEffect:ne.useEffect,IR={tag:"history-merge"};function yxt({initialConfig:e,children:t}){const r=ne.useMemo(()=>{const{theme:n,namespace:i,nodes:a,onError:s,editorState:o,html:l}=e,u=hXe(null,n),f=oJe({editable:e.editable,html:l,namespace:i,nodes:a,onError:h=>s(h,f),theme:n});return function(h,p){if(p!==null){if(p===void 0)h.update(()=>{const m=Js();if(m.isEmpty()){const v=as();m.append(v);const w=o_e?document.activeElement:null;(ln()!==null||w!==null&&w===h.getRootElement())&&v.select()}},IR);else if(p!==null)switch(typeof p){case"string":{const m=h.parseEditorState(p);h.setEditorState(m,IR);break}case"object":h.setEditorState(p,IR);break;case"function":h.update(()=>{Js().isEmpty()&&p(h)},IR)}}}(f,o),[f,u]},[]);return AJe(()=>{const n=e.editable,[i]=r;i.setEditable(n===void 0||n)},[]),io.jsx(lbe.Provider,{value:r,children:t})}const OJe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function bxt({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:r}){const[n]=Xs();return OJe(()=>{if(r)return n.registerUpdateListener(({editorState:i,dirtyElements:a,dirtyLeaves:s,prevEditorState:o,tags:l})=>{t&&a.size===0&&s.size===0||e&&l.has("history-merge")||o.isEmpty()||r(i,n,l)})},[n,e,t,r]),null}function IJe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var MJe=IJe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});let HW=class s_e extends Vh{static getType(){return"overflow"}static clone(t){return new s_e(t.__key)}static importJSON(t){return l_e().updateFromJSON(t)}static importDOM(){return null}createDOM(t){const r=document.createElement("span"),n=t.theme.characterLimit;return typeof n=="string"&&(r.className=n),r}updateDOM(t,r){return!1}insertNewAfter(t,r=!0){return this.getParentOrThrow().insertNewAfter(t,r)}excludeFromCopy(){return!0}static transform(){return t=>{GO(t)||MJe(204),t.isEmpty()&&t.remove()}}};function l_e(){return td(new HW)}function GO(e){return e instanceof HW}function u_e(){return Js().getTextContent()}function kJe(e,t=!0){if(e)return!1;let r=u_e();return t&&(r=r.trim()),r===""}function DJe(e){if(!kJe(e,!1))return!1;const t=Js().getChildren(),r=t.length;if(r>1)return!1;for(let n=0;n<r;n++){const i=t[n];if(ws(i))return!1;if(qr(i)){if(!Hw(i)||i.__indent!==0)return!1;const a=i.getChildren(),s=a.length;for(let o=0;o<s;o++){const l=a[n];if(!Rn(l))return!1}}}return!0}function WW(e){return()=>DJe(e)}function FJe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LJe=FJe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function NJe(e,t,r,n){const i=s=>s instanceof r,a=s=>{const o=js(s.getTextContent());o.setFormat(s.getFormat()),s.replace(o)};return[e.registerNodeTransform(fm,s=>{if(!s.isSimpleText())return;let o,l=s.getPreviousSibling(),u=s.getTextContent(),f=s;if(Rn(l)){const p=l.getTextContent(),m=t(p+u);if(i(l)){if(m===null||(v=>v.getLatest().__mode)(l)!==0)return void a(l);{const v=m.end-p.length;if(v>0){const w=p+u.slice(0,v);if(l.select(),l.setTextContent(w),v===u.length)s.remove();else{const x=u.slice(v);s.setTextContent(x)}return}}}else if(m===null||m.start<p.length)return}let h=0;for(;;){o=t(u);let p,m=o===null?"":u.slice(o.end);if(u=m,m===""){const w=f.getNextSibling();if(Rn(w)){m=f.getTextContent()+w.getTextContent();const x=t(m);if(x===null)return void(i(w)?a(w):w.markDirty());if(x.start!==0)return}}if(o===null)return;if(o.start===0&&Rn(l)&&l.isTextEntity()){h+=o.end;continue}o.start===0?[p,f]=f.splitText(o.end):[,p,f]=f.splitText(o.start+h,o.end+h),p===void 0&&LJe(165,"nodeToReplace");const v=n(p);if(v.setFormat(p.getFormat()),p.replace(v),f==null)return;h=0,l=v}}),e.registerNodeTransform(r,s=>{const o=s.getTextContent(),l=t(o);if(l===null||l.start!==0)return void a(s);if(o.length>l.end)return void s.splitText(l.end);const u=s.getPreviousSibling();Rn(u)&&u.isTextEntity()&&(a(u),a(s));const f=s.getNextSibling();Rn(f)&&f.isTextEntity()&&(a(f),i(s)&&a(s))})]}function $Je(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c_e=$Je(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const KO=new Map;function f_e(e){const t={};if(!e)return t;const r=e.split(";");for(const n of r)if(n!==""){const[i,a]=n.split(/:([^]+)/);i&&a&&(t[i.trim()]=a.trim())}return t}function VW(e){let t=KO.get(e);return t===void 0&&(t=f_e(e),KO.set(e,t)),t}function zJe(e){let t="";for(const r in e)r&&(t+=`${r}: ${e[r]};`);return t}function d_e(e,t){const r=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&r!==null){const[n,i]=r,a=e.isBackward(),s=n.getNode(),o=i.getNode(),l=t.is(s),u=t.is(o);if(l||u){const[f,h]=_7(e),p=s.is(o),m=t.is(a?o:s),v=t.is(a?s:o);let w,x=0;return p?(x=f>h?h:f,w=f>h?f:h):m?(x=a?h:f,w=void 0):v&&(x=0,w=a?f:h),t.__text=t.__text.slice(x,w),t}}return t}function _xt(e){if(e.type==="text")return e.offset===e.getNode().getTextContentSize();const t=e.getNode();return qr(t)||c_e(177),e.offset===t.getChildrenSize()}function BJe(e,t,r){let n=t.getNode(),i=r;if(qr(n)){const a=n.getDescendantByIndex(t.offset);a!==null&&(n=a)}for(;i>0&&n!==null;){if(qr(n)){const u=n.getLastDescendant();u!==null&&(n=u)}let a=n.getPreviousSibling(),s=0;if(a===null){let u=n.getParentOrThrow(),f=u.getPreviousSibling();for(;f===null;){if(u=u.getParent(),u===null){a=null;break}f=u.getPreviousSibling()}u!==null&&(s=u.isInline()?0:2,a=f)}let o=n.getTextContent();o===""&&qr(n)&&!n.isInline()&&(o=`

`);const l=o.length;if(!Rn(n)||i>=l){const u=n.getParent();n.remove(),u==null||u.getChildrenSize()!==0||Gf(u)||u.remove(),i-=l+s,n=a}else{const u=n.getKey(),f=e.getEditorState().read(()=>{const m=ps(u);return Rn(m)&&m.isSimpleText()?m.getTextContent():null}),h=l-i,p=o.slice(0,h);if(f!==null&&f!==o){const m=c0();let v=n;if(n.isSimpleText())n.setTextContent(f);else{const w=js(f);n.replace(w),v=w}if(Vr(m)&&m.isCollapsed()){const w=m.anchor.offset;v.select(w,w)}}else if(n.isSimpleText()){const m=t.key===u;let v=t.offset;v<i&&(v=l);const w=m?v-i:0,x=m?v:h;if(m&&w===0){const[T]=n.splitText(w,x);T.remove()}else{const[,T]=n.splitText(w,x);T.remove()}}else{const m=js(p);n.replace(m)}i=0}}}function jJe(e){const t=e.getStyle(),r=f_e(t);KO.set(t,r)}function Tse(e,t){e instanceof fm||e.isCollapsed()||c_e(270);const r=VW(e instanceof fm?e.getStyle():e.style),n=Object.entries(t).reduce((a,[s,o])=>(typeof o=="function"?a[s]=o(r[s],e):o===null?delete a[s]:a[s]=o,a),{...r}),i=zJe(n);e.setStyle(i),KO.set(i,n)}function wxt(e,t){if(Vr(e)&&e.isCollapsed())return Tse(e,t);UJe(r=>{Tse(r,t)})}function UJe(e){const t=ln();if(!t)return;const r=new Map;if(Vr(t))for(const a of i_e(t).getTextSlices())a&&r.set(a.caret.origin.getKey(),a.getSliceIndices());const n=t.getNodes();for(const a of n){if(!Rn(a)||!a.canHaveFormat())continue;const[s,o]=(i=a,r.get(i.getKey())||[0,i.getTextContentSize()]);o!==s&&(S_(a)||s===0&&o===a.getTextContentSize()?e(a):e(a.splitText(s,o)[s===0?0:1]))}var i;Vr(t)&&t.anchor.type==="text"&&t.focus.type==="text"&&t.anchor.key===t.focus.key&&qJe(t)}function qJe(e){if(e.isBackward()){const{anchor:t,focus:r}=e,{key:n,offset:i,type:a}=t;t.set(r.key,r.offset,r.type),r.set(n,i,a)}}function HJe(e,t){const r=e.getFormatType(),n=e.getIndent();r!==t.getFormatType()&&t.setFormat(r),n!==t.getIndent()&&t.setIndent(n)}function xxt(e,t,r=HJe){if(e===null)return;const n=e.getStartEndPoints(),i=new Map;let a=null;if(n){const[s,o]=n;a=ak(),a.anchor.set(s.key,s.offset,s.type),a.focus.set(o.key,o.offset,o.type);const l=Rse(s.getNode(),jg),u=Rse(o.getNode(),jg);qr(l)&&i.set(l.getKey(),l),qr(u)&&i.set(u.getKey(),u)}for(const s of e.getNodes())qr(s)&&jg(s)&&i.set(s.getKey(),s);for(const[s,o]of i){const l=t();r(o,l),o.replace(l,!0),a&&(s===a.anchor.key&&(a.anchor.key=l.getKey()),s===a.focus.key&&(a.focus.key=l.getKey()))}a&&e.is(ln())&&Tu(a)}function ZO(e,t){const r=D2(e.focus,t);return ws(r)&&!r.isIsolated()||qr(r)&&!r.isInline()&&!r.canBeEmpty()}function WJe(e,t,r,n){e.modify(t?"extend":"move",r,n)}function VJe(e){const t=e.anchor.getNode();return(Gf(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function YO(e,t,r){const n=VJe(e);WJe(e,t,r?!n:n,"character")}function GJe(e,t,r){const n=VW(e.getStyle());return n!==null&&n[t]||r}function Sxt(e,t,r=""){let n=null;const i=e.getNodes(),a=e.anchor,s=e.focus,o=e.isBackward(),l=o?s.offset:a.offset,u=o?s.getNode():a.getNode();if(Vr(e)&&e.isCollapsed()&&e.style!==""){const f=VW(e.style);if(f!==null&&t in f)return f[t]}for(let f=0;f<i.length;f++){const h=i[f];if((f===0||l!==0||!h.is(u))&&Rn(h)){const p=GJe(h,t,r);if(n===null)n=p;else if(n!==p){n="";break}}}return n===null?r:n}function Rse(e,t){let r=e;for(;r!==null&&r.getParent()!==null&&!t(r);)r=r.getParentOrThrow();return t(r)?r:null}const Ext=BJe;function KJe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZJe=KJe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const mk=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,YJe=mk&&"documentMode"in document?document.documentMode:null,XJe=mk&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!mk||!("InputEvent"in window)||YJe)&&"getTargetRanges"in new window.InputEvent("input");function h_e(...e){const t=[];for(const r of e)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))t.push(n);return t}function fu(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}const JJe=mk,QJe=XJe;function Ru(e,...t){const r=h_e(...t);r.length>0&&e.classList.add(...r)}function hv(e,...t){const r=h_e(...t);r.length>0&&e.classList.remove(...r)}function eQe(e,t){for(const r of t)if(e.type.startsWith(r))return!0;return!1}function Cxt(e,t){const r=e[Symbol.iterator]();return new Promise((n,i)=>{const a=[],s=()=>{const{done:o,value:l}=r.next();if(o)return n(a);const u=new FileReader;u.addEventListener("error",i),u.addEventListener("load",()=>{const f=u.result;typeof f=="string"&&a.push({file:l,result:f}),s()}),eQe(l,t)?u.readAsDataURL(l):s()};s()})}function tQe(e,t){return Array.from(rQe())}function rQe(e,t){return nQe("next")}function nQe(e,t,r){const n=Js(),i=n,a=qr(i)?iy(i,e):Zf(i,e),s=iQe(i),o=L2(a.getParentCaret("root"));let l=s;return hk({hasNext:u=>u!==null,initial:a,map:u=>({depth:l,node:u.origin}),step:u=>{if(u.isSameNodeCaret(o))return null;sw(u)&&l++;const f=b_e(u);return!f||f[0].isSameNodeCaret(o)?null:(l+=f[1],f[0])}})}function iQe(e){let t=-1;for(let r=e;r!==null;r=r.getParent())t++;return t}function Ase(e){const t=b_e(n_e(Zf(e,"previous")),"root");return t&&t[0].origin}function aQe(e,t){let r=e;for(;r!=null;){if(r instanceof t)return r;r=r.getParent()}return null}function XO(e){const t=Bo(e,r=>qr(r)&&!r.isInline());return qr(t)||ZJe(4,e.__key),t}const Bo=(e,t)=>{let r=e;for(;r!==Js()&&r!=null;){if(t(r))return r;r=r.getParent()}return null};function Pxt(e,t){const r=new Map,n=e._pendingEditorState;for(const[a,s]of t._nodeMap)r.set(a,dk(s));n&&(n._nodeMap=r),e._dirtyType=2;const i=t._selection;Tu(i===null?null:i.clone())}function p_e(e){const t=ln()||c0();if(Vr(t)){const{focus:r}=t,n=r.getNode(),i=r.offset;if(Jd(n))a_e(n,i,"next").insert(e),e.selectNext();else{let a,s;Rn(n)?(a=n.getParentOrThrow(),s=n.getIndexWithinParent(),i>0&&(s+=1,n.splitText(i))):(a=n,s=i);const[,o]=gJe(a,s);o.insertBefore(e),o.selectStart()}}else{if(t!=null){const n=t.getNodes();n[n.length-1].getTopLevelElementOrThrow().insertAfter(e)}else Js().append(e);const r=as();e.insertAfter(r),r.select()}return e.getLatest()}function Txt(e,t){const r=t();return e.replace(r),r.append(e),r}function Bv(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}function oQe(e,t){const r=[];for(let n=0;n<e.length;n++){const i=t(e[n]);i!==null&&r.push(i)}return r}function sQe(e,t){iy(e,"next").insert(t)}let qz=!(QJe||!JJe)&&void 0;function lQe(e){let t=1;if(function(){if(qz===void 0){const r=document.createElement("div");r.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(r);const n=r.getBoundingClientRect();r.style.setProperty("zoom","2"),qz=r.getBoundingClientRect().width===n.width,document.body.removeChild(r)}return qz}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}function m_e(e,t){return g_e(e,t,null)}function g_e(e,t,r){let n=!1;for(const i of y_e(e))t(i)?r!==null&&r(i):(n=!0,qr(i)&&g_e(i,t,r||(a=>i.insertAfter(a))),i.remove());return n}function v_e(e,t){const r=[],n=Array.from(e).reverse();for(let i=n.pop();i!==void 0;i=n.pop())if(t(i))r.push(i);else if(qr(i))for(const a of y_e(i))n.push(a);return r}function y_e(e){return uQe(iy(e,"previous"))}function uQe(e){return hk({hasNext:NS,initial:e.getAdjacentCaret(),map:t=>t.origin.getLatest(),step:t=>t.getAdjacentCaret()})}function Ose(e){pk(Zf(e,"next")).splice(1,e.getChildren())}function b_e(e,t="root"){let r=0,n=e,i=L2(n);for(;i===null;){if(r--,i=n.getParentCaret(t),!i)return null;n=i,i=L2(n)}return i&&[i,r]}function cQe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fQe=cQe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function dQe(e,t,r=Object.freeze({})){const{strlen:n=a=>a.length,remainingCharacters:i=()=>{}}=r;ne.useEffect(()=>{e.hasNodes([HW])||fQe(57)},[e]),ne.useEffect(()=>{let a=e.getEditorState().read(u_e),s=0;return fu(e.registerTextContentListener(o=>{a=o}),e.registerUpdateListener(({dirtyLeaves:o,dirtyElements:l})=>{const u=e.isComposing(),f=o.size>0||l.size>0;if(u||!f)return;const h=n(a),p=h>t||s!==null&&s>t;if(i(t-h),s===null||p){const m=function(v,w,x){const T=Intl.Segmenter;let A=0,P=0;if(typeof T=="function"){const S=new T().segment(v);for(const{segment:E}of S){const _=P+x(E);if(_>w)break;P=_,A+=E.length}}else{const S=Array.from(v),E=S.length;for(let _=0;_<E;_++){const R=S[_],O=P+x(R);if(O>w)break;P=O,A+=R.length}}return A}(a,t,n);e.update(()=>{(function(v){const w=tQe(),x=w.length;let T=0;for(let A=0;A<x;A+=1){const{node:P}=w[A];if(GO(P)){const S=T;if(T+P.getTextContentSize()<=v){const E=P.getParent(),_=P.getPreviousSibling(),R=P.getNextSibling();Ose(P);const O=ln();!Vr(O)||O.anchor.getNode().isAttached()&&O.focus.getNode().isAttached()||(Rn(_)?_.select():Rn(R)?R.select():E!==null&&E.select())}else if(S<v){const E=P.getFirstDescendant(),_=S+(E!==null?E.getTextContentSize():0);(Rn(E)&&E.isSimpleText()||_<=v)&&Ose(P)}}else if(MW(P)){const S=T;if(T+=P.getTextContentSize(),T>v&&!GO(P.getParent())){const E=ln();let _;if(S<v&&Rn(P)&&P.isSimpleText()){const[,R]=P.splitText(v-S);_=Ise(R)}else _=Ise(P);E!==null&&Tu(E),hQe(_)}}}})(m)},{tag:"history-merge"})}s=h}),e.registerCommand(Xm,o=>{const l=ln();if(!Vr(l))return!1;const u=l.anchor.getNode().getParent(),f=u?u.getParent():null,h=f?f.getNextSibling():null;return l.deleteCharacter(o),f&&f.isEmpty()?f.remove():qr(h)&&h.isEmpty()&&h.remove(),!0},ds))},[e,t,i,n])}function Ise(e){const t=l_e();return e.replace(t),t.append(e),t}function hQe(e){const t=e.getPreviousSibling();if(!GO(t))return;const r=e.getFirstChild(),n=t.getChildren(),i=n.length;if(r===null)e.append(...n);else for(let s=0;s<i;s++)r.insertBefore(n[s]);const a=ln();if(Vr(a)){const s=a.anchor,o=s.getNode(),l=a.focus,u=s.getNode();o.is(t)?s.set(e.getKey(),s.offset,"element"):o.is(e)&&s.set(e.getKey(),i+s.offset,"element"),u.is(t)?l.set(e.getKey(),l.offset,"element"):u.is(e)&&l.set(e.getKey(),i+l.offset,"element")}t.remove()}let Hz=null;function pQe(e){const t=window.TextEncoder===void 0?null:(Hz===null&&(Hz=new window.TextEncoder),Hz);if(t===null){const r=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(r?r.length:0)}return t.encode(e).length}function mQe({remainingCharacters:e}){return io.jsx("span",{className:"characters-limit "+(e<0?"characters-limit-exceeded":""),children:e})}function Rxt({charset:e="UTF-16",maxLength:t=5,renderer:r=mQe}){const[n]=Xs(),[i,a]=ne.useState(t);return dQe(n,t,ne.useMemo(()=>({remainingCharacters:a,strlen:s=>{if(e==="UTF-8")return pQe(s);if(e==="UTF-16")return s.length;throw new Error("Unrecognized charset")}}),[e])),r({remainingCharacters:i})}function gQe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fv=gQe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function vQe(e){let t=1,r=e.getParent();for(;r!=null;){if(Ds(r)){const n=r.getParent();if(eo(n)){t++,r=n.getParent();continue}Fv(40)}return t}return t}function R7(e){let t=e.getParent();eo(t)||Fv(40);let r=t;for(;r!==null;)r=r.getParent(),eo(r)&&(t=r);return t}function __e(e){let t=[];const r=e.getChildren().filter(Ds);for(let n=0;n<r.length;n++){const i=r[n],a=i.getFirstChild();eo(a)?t=t.concat(__e(a)):t.push(i)}return t}function Lv(e){return Ds(e)&&eo(e.getFirstChild())}function Mse(e){return _p().append(e)}function w_e(e,t){return Ds(e)&&(t.length===0||t.length===1&&e.is(t[0])&&e.getChildrenSize()===0)}function A7(e){const t=ln();if(t!==null){let r=t.getNodes();if(Vr(t)){const i=t.getStartEndPoints();i===null&&Fv(143);const[a]=i,s=a.getNode(),o=s.getParent();if(Jd(s)){const l=s.getFirstChild();if(l)r=l.selectStart().getNodes();else{const u=as();s.append(u),r=u.select().getNodes()}}else if(w_e(s,r)){const l=zh(e);if(Jd(o)){s.replace(l);const u=_p();qr(s)&&(u.setFormat(s.getFormatType()),u.setIndent(s.getIndent())),l.append(u)}else if(Ds(s)){const u=s.getParentOrThrow();uw(l,u.getChildren()),u.replace(l)}return}}const n=new Set;for(let i=0;i<r.length;i++){const a=r[i];if(!qr(a)||!a.isEmpty()||Ds(a)||n.has(a.getKey())){if(MW(a)){let s=a.getParent();for(;s!=null;){const o=s.getKey();if(eo(s)){if(!n.has(o)){const l=zh(e);uw(l,s.getChildren()),s.replace(l),n.add(o)}break}{const l=s.getParent();if(Jd(l)&&!n.has(o)){n.add(o),kse(s,e);break}s=l}}}}else kse(a,e)}}}function uw(e,t){e.splice(e.getChildrenSize(),0,t)}function kse(e,t){if(eo(e))return e;const r=e.getPreviousSibling(),n=e.getNextSibling(),i=_p();let a;if(uw(i,e.getChildren()),eo(r)&&t===r.getListType())r.append(i),eo(n)&&t===n.getListType()&&(uw(r,n.getChildren()),n.remove()),a=r;else if(eo(n)&&t===n.getListType())n.getFirstChildOrThrow().insertBefore(i),a=n;else{const s=zh(t);s.append(i),e.replace(s),a=s}return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),e.remove(),a}function GW(e,t){const r=e.getLastChild(),n=t.getFirstChild();r&&n&&Lv(r)&&Lv(n)&&(GW(r.getFirstChild(),n.getFirstChild()),n.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function yQe(){const e=ln();if(Vr(e)){const t=new Set,r=e.getNodes(),n=e.anchor.getNode();if(w_e(n,r))t.add(R7(n));else for(let i=0;i<r.length;i++){const a=r[i];if(MW(a)){const s=aQe(a,Ww);s!=null&&t.add(R7(s))}}for(const i of t){let a=i;const s=__e(i);for(const o of s){const l=as();uw(l,o.getChildren()),a.insertAfter(l),a=l,o.__key===e.anchor.key&&e.anchor.set(l.getKey(),0,"element"),o.__key===e.focus.key&&e.focus.set(l.getKey(),0,"element"),o.remove()}i.remove()}}}function bQe(e){const t=new Set;if(Lv(e)||t.has(e.getKey()))return;const r=e.getParent(),n=e.getNextSibling(),i=e.getPreviousSibling();if(Lv(n)&&Lv(i)){const a=i.getFirstChild();if(eo(a)){a.append(e);const s=n.getFirstChild();eo(s)&&(uw(a,s.getChildren()),n.remove(),t.add(n.getKey()))}}else if(Lv(n)){const a=n.getFirstChild();if(eo(a)){const s=a.getFirstChild();s!==null&&s.insertBefore(e)}}else if(Lv(i)){const a=i.getFirstChild();eo(a)&&a.append(e)}else if(eo(r)){const a=_p(),s=zh(r.getListType());a.append(s),s.append(e),i?i.insertAfter(a):n?n.insertBefore(a):r.append(a)}}function _Qe(e){if(Lv(e))return;const t=e.getParent(),r=t?t.getParent():void 0;if(eo(r?r.getParent():void 0)&&Ds(r)&&eo(t)){const n=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(n))r.insertBefore(e),t.isEmpty()&&r.remove();else if(e.is(i))r.insertAfter(e),t.isEmpty()&&r.remove();else{const a=t.getListType(),s=_p(),o=zh(a);s.append(o),e.getPreviousSiblings().forEach(f=>o.append(f));const l=_p(),u=zh(a);l.append(u),uw(u,e.getNextSiblings()),r.insertBefore(s),r.insertAfter(l),r.replace(e)}}}function wQe(){const e=ln();if(!Vr(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!Ds(t)||t.getChildrenSize()!==0)return!1;const r=R7(t),n=t.getParent();eo(n)||Fv(40);const i=n.getParent();let a;if(Jd(i))a=as(),a.setTextStyle(e.style),a.setTextFormat(e.format),r.insertAfter(a);else{if(!Ds(i))return!1;a=_p(),i.insertAfter(a)}a.select();const s=t.getNextSiblings();if(s.length>0){const o=zh(n.getListType());if(Ds(a)){const l=_p();l.append(o),a.insertAfter(l)}else a.insertAfter(o);o.append(...s)}return function(o){let l=o;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const u=l.getParent();if(u==null||!Ds(l)&&!eo(l))break;l=u}l.remove()}(t),!0}function JO(...e){const t=[];for(const r of e)if(r&&typeof r=="string")for(const[n]of r.matchAll(/\S+/g))t.push(n);return t}let Ww=class x_e extends Vh{static getType(){return"listitem"}static clone(t){return new x_e(t.__value,t.__checked,t.__key)}constructor(t,r,n){super(n),this.__value=t===void 0?1:t,this.__checked=r}createDOM(t){const r=document.createElement("li"),n=this.getParent();return eo(n)&&n.getListType()==="check"&&Fse(r,this,null),r.value=this.__value,Dse(r,t.theme,this),r}updateDOM(t,r,n){const i=this.getParent();return eo(i)&&i.getListType()==="check"&&Fse(r,this,t),r.value=this.__value,Dse(r,n.theme,this),!1}static transform(){return t=>{if(Ds(t)||Fv(144),t.__checked==null)return;const r=t.getParent();eo(r)&&r.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:xQe,priority:0})}}static importJSON(t){return _p().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const r=this.createDOM(t._config);return r.style.textAlign=this.getFormatType(),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let r=0;r<t.length;r++){const n=t[r];if(qr(n)&&this.canMergeWith(n)){const i=n.getChildren();this.append(...i),n.remove()}else super.append(n)}return this}replace(t,r){if(Ds(t))return super.replace(t);this.setIndent(0);const n=this.getParentOrThrow();if(!eo(n))return t;if(n.__first===this.getKey())n.insertBefore(t);else if(n.__last===this.getKey())n.insertAfter(t);else{const i=zh(n.getListType());let a=this.getNextSibling();for(;a;){const s=a;a=a.getNextSibling(),i.append(s)}n.insertAfter(t),t.insertAfter(i)}return r&&(qr(t)||Fv(139),this.getChildren().forEach(i=>{t.append(i)})),this.remove(),n.getChildrenSize()===0&&n.remove(),t}insertAfter(t,r=!0){const n=this.getParentOrThrow();if(eo(n)||Fv(39),Ds(t))return super.insertAfter(t,r);const i=this.getNextSiblings();if(n.insertAfter(t,r),i.length!==0){const a=zh(n.getListType());i.forEach(s=>a.append(s)),t.insertAfter(a,r)}return t}remove(t){const r=this.getPreviousSibling(),n=this.getNextSibling();super.remove(t),r&&n&&Lv(r)&&Lv(n)&&(GW(r.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(t,r=!0){const n=_p().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,r),n}collapseAtStart(t){const r=as();this.getChildren().forEach(s=>r.append(s));const n=this.getParentOrThrow(),i=n.getParentOrThrow(),a=Ds(i);if(n.getChildrenSize()===1)if(a)n.remove(),i.select();else{n.insertBefore(r),n.remove();const s=t.anchor,o=t.focus,l=r.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(l,s.offset,"element"),o.type==="element"&&o.getNode().is(this)&&o.set(l,o.offset,"element")}else n.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const r=this.getWritable();return r.__value=t,r}getChecked(){const t=this.getLatest();let r;const n=this.getParent();return eo(n)&&(r=n.getListType()),r==="check"?!!t.__checked:void 0}setChecked(t){const r=this.getWritable();return r.__checked=t,r}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let r=t.getParentOrThrow(),n=0;for(;Ds(r);)r=r.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(t){typeof t!="number"&&Fv(117),(t=Math.floor(t))>=0||Fv(199);let r=this.getIndent();for(;r!==t;)r<t?(bQe(this),r++):(_Qe(this),r--);return this}canInsertAfter(t){return Ds(t)}canReplaceWith(t){return Ds(t)}canMergeWith(t){return Ds(t)||Hw(t)}extractWithChild(t,r){if(!Vr(r))return!1;const n=r.anchor.getNode(),i=r.focus.getNode();return this.isParentOf(n)&&this.isParentOf(i)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return zh("bullet")}canMergeWhenEmpty(){return!0}};function Dse(e,t,r){const n=[],i=[],a=t.list,s=a?a.listitem:void 0;let o;if(a&&a.nested&&(o=a.nested.listitem),s!==void 0&&n.push(...JO(s)),a){const l=r.getParent(),u=eo(l)&&l.getListType()==="check",f=r.getChecked();u&&!f||i.push(a.listitemUnchecked),u&&f||i.push(a.listitemChecked),u&&n.push(f?a.listitemChecked:a.listitemUnchecked)}if(o!==void 0){const l=JO(o);r.getChildren().some(u=>eo(u))?n.push(...l):i.push(...l)}i.length>0&&hv(e,...i),n.length>0&&Ru(e,...n)}function Fse(e,t,r,n){eo(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),r&&t.__checked===r.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function xQe(e){if(e.classList.contains("task-list-item")){for(const r of e.children)if(r.tagName==="INPUT")return SQe(r)}const t=e.getAttribute("aria-checked");return{node:_p(t==="true"||t!=="false"&&void 0)}}function SQe(e){return e.getAttribute("type")!=="checkbox"?{node:null}:{node:_p(e.hasAttribute("checked"))}}function _p(e){return td(new Ww(void 0,e))}function Ds(e){return e instanceof Ww}let $S=class S_e extends Vh{static getType(){return"list"}static clone(t){const r=t.__listType||$se[t.__tag];return new S_e(r,t.__start,t.__key)}constructor(t="number",r=1,n){super(n);const i=$se[t]||t;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=r}getTag(){return this.__tag}setListType(t){const r=this.getWritable();return r.__listType=t,r.__tag=t==="number"?"ol":"ul",r}getListType(){return this.__listType}getStart(){return this.__start}setStart(t){const r=this.getWritable();return r.__start=t,r}createDOM(t,r){const n=this.__tag,i=document.createElement(n);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,Lse(i,t.theme,this),i}updateDOM(t,r,n){return t.__tag!==this.__tag||(Lse(r,n.theme,this),!1)}static transform(){return t=>{eo(t)||Fv(163),function(r){const n=r.getNextSibling();eo(n)&&r.getListType()===n.getListType()&&GW(r,n)}(t),function(r){const n=r.getListType()!=="check";let i=r.getStart();for(const a of r.getChildren())Ds(a)&&(a.getValue()!==i&&a.setValue(i),n&&a.getLatest().__checked!=null&&a.setChecked(void 0),eo(a.getFirstChild())||i++)}(t)}}static importDOM(){return{ol:()=>({conversion:Nse,priority:0}),ul:()=>({conversion:Nse,priority:0})}}static importJSON(t){return zh().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const r=this.createDOM(t._config,t);return Pl(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let r=0;r<t.length;r++){const n=t[r];if(Ds(n))super.append(n);else{const i=_p();if(eo(n))i.append(n);else if(qr(n))if(n.isInline())i.append(n);else{const a=js(n.getTextContent());i.append(a)}else i.append(n);super.append(i)}}return this}extractWithChild(t){return Ds(t)}};function Lse(e,t,r){const n=[],i=[],a=t.list;if(a!==void 0){const s=a[`${r.__tag}Depth`]||[],o=vQe(r)-1,l=o%s.length,u=s[l],f=a[r.__tag];let h;const p=a.nested,m=a.checklist;if(p!==void 0&&p.list&&(h=p.list),f!==void 0&&n.push(f),m!==void 0&&r.__listType==="check"&&n.push(m),u!==void 0){n.push(...JO(u));for(let v=0;v<s.length;v++)v!==l&&i.push(r.__tag+v)}if(h!==void 0){const v=JO(h);o>1?n.push(...v):i.push(...v)}}i.length>0&&hv(e,...i),n.length>0&&Ru(e,...n)}function EQe(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(Ds(n)){t.push(n);const i=n.getChildren();i.length>1&&i.forEach(a=>{eo(a)&&t.push(Mse(a))})}else t.push(Mse(n))}return t}function Nse(e){const t=e.nodeName.toLowerCase();let r=null;return t==="ol"?r=zh("number",e.start):t==="ul"&&(r=function(n){if(n.getAttribute("__lexicallisttype")==="check"||n.classList.contains("contains-task-list"))return!0;for(const i of n.childNodes)if(Pl(i)&&i.hasAttribute("aria-checked"))return!0;return!1}(e)?zh("check"):zh("bullet")),{after:EQe,node:r}}const $se={ol:"number",ul:"bullet"};function zh(e="number",t=1){return td(new $S(e,t))}function eo(e){return e instanceof $S}const CQe=dv(),PQe=dv(),TQe=dv(),RQe=dv();function AQe(e){return fu(e.registerCommand(PQe,()=>(A7("number"),!0),ds),e.registerCommand(CQe,()=>(A7("bullet"),!0),ds),e.registerCommand(RQe,()=>(yQe(),!0),ds),e.registerCommand(bb,()=>!!wQe(),ds))}function OQe(e,t){e.update(()=>A7(t))}function Axt(){const[e]=Xs();return ne.useEffect(()=>fu(e.registerCommand(TQe,()=>(OQe(e,"check"),!0),ds),e.registerCommand(wb,t=>jse(t,e,!1),ds),e.registerCommand(ny,t=>jse(t,e,!0),ds),e.registerCommand(kS,t=>{if(O7()!=null){const r=e.getRootElement();return r!=null&&r.focus(),!0}return!1},ds),e.registerCommand(bW,t=>{const r=O7();return!(r==null||!e.isEditable())&&(e.update(()=>{const n=Qd(r);Ds(n)&&(t.preventDefault(),n.toggleChecked())}),!0)},ds),e.registerCommand(qP,t=>e.getEditorState().read(()=>{const r=ln();if(Vr(r)&&r.isCollapsed()){const{anchor:n}=r,i=n.type==="element";if(i||n.offset===0){const a=n.getNode(),s=Bo(a,o=>qr(o)&&!o.isInline());if(Ds(s)){const o=s.getParent();if(eo(o)&&o.getListType()==="check"&&(i||s.getFirstDescendant()===a)){const l=e.getElementByKey(s.__key);if(l!=null&&document.activeElement!==l)return l.focus(),t.preventDefault(),!0}}}}return!1}),ds),e.registerRootListener((t,r)=>{t!==null&&(t.addEventListener("click",zse),t.addEventListener("pointerdown",Bse)),r!==null&&(r.removeEventListener("click",zse),r.removeEventListener("pointerdown",Bse))}))),null}function E_e(e,t){const r=e.target;if(!Pl(r))return;const n=r.firstChild;if(Pl(n)&&(n.tagName==="UL"||n.tagName==="OL"))return;const i=r.parentNode;if(!i||i.__lexicalListType!=="check")return;const a=r.getBoundingClientRect(),s=e.pageX/lQe(r);(r.dir==="rtl"?s<a.right&&s>a.right-20:s>a.left&&s<a.left+20)&&t()}function zse(e){E_e(e,()=>{if(Pl(e.target)){const t=e.target,r=IW(t);r!=null&&r.isEditable()&&r.update(()=>{const n=Qd(t);Ds(n)&&(t.focus(),n.toggleChecked())})}})}function Bse(e){E_e(e,()=>{e.preventDefault()})}function O7(){const e=document.activeElement;return Pl(e)&&e.tagName==="LI"&&e.parentNode!=null&&e.parentNode.__lexicalListType==="check"?e:null}function jse(e,t,r){const n=O7();return n!=null&&t.update(()=>{const i=Qd(n);if(!Ds(i))return;const a=function(s,o){let l=o?s.getPreviousSibling():s.getNextSibling(),u=s;for(;l==null&&Ds(u);)u=u.getParentOrThrow().getParent(),u!=null&&(l=o?u.getPreviousSibling():u.getNextSibling());for(;Ds(l);){const f=o?l.getLastChild():l.getFirstChild();if(!eo(f))return l;l=o?f.getLastChild():f.getFirstChild()}return null}(i,r);if(a!=null){a.selectStart();const s=t.getElementByKey(a.__key);s!=null&&(e.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}const IQe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function Oxt({onClear:e}){const[t]=Xs();return IQe(()=>t.registerCommand(Ebe,r=>(t.update(()=>{if(e==null){const n=Js(),i=ln(),a=as();n.clear(),n.append(a),i!==null&&a.select(),Vr(i)&&(i.format=0)}else e()}),!0),ia),[t,e]),null}function I7(e,t){return I7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},I7(e,t)}var Use={error:null},MQe=function(e){var t,r;function n(){for(var a,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(a=e.call.apply(e,[this].concat(o))||this).state=Use,a.resetErrorBoundary=function(){for(var u,f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];a.props.onReset==null||(u=a.props).onReset.apply(u,h),a.reset()},a}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,I7(t,r),n.getDerivedStateFromError=function(a){return{error:a}};var i=n.prototype;return i.reset=function(){this.setState(Use)},i.componentDidCatch=function(a,s){var o,l;(o=(l=this.props).onError)==null||o.call(l,a,s)},i.componentDidUpdate=function(a,s){var o,l,u,f,h=this.state.error,p=this.props.resetKeys;h!==null&&s.error!==null&&((u=a.resetKeys)===void 0&&(u=[]),(f=p)===void 0&&(f=[]),u.length!==f.length||u.some(function(m,v){return!Object.is(m,f[v])}))&&((o=(l=this.props).onResetKeysChange)==null||o.call(l,a.resetKeys,p),this.reset())},i.render=function(){var a=this.state.error,s=this.props,o=s.fallbackRender,l=s.FallbackComponent,u=s.fallback;if(a!==null){var f={error:a,resetErrorBoundary:this.resetErrorBoundary};if(ne.isValidElement(u))return u;if(typeof o=="function")return o(f);if(l)return ne.createElement(l,f);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(ne.Component);function Ixt({children:e,onError:t}){return io.jsx(MQe,{fallback:io.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}const MR=0,M7=1,k7=2,$g=0,kQe=1,qse=2,DQe=3,FQe=4;function LQe(e,t,r,n,i){if(e===null||r.size===0&&n.size===0&&!i)return $g;const a=t._selection,s=e._selection;if(i)return kQe;if(!(Vr(a)&&Vr(s)&&s.isCollapsed()&&a.isCollapsed()))return $g;const o=function(T,A,P){const S=T._nodeMap,E=[];for(const _ of A){const R=S.get(_);R!==void 0&&E.push(R)}for(const[_,R]of P){if(!R)continue;const O=S.get(_);O===void 0||Gf(O)||E.push(O)}return E}(t,r,n);if(o.length===0)return $g;if(o.length>1){const T=t._nodeMap,A=T.get(a.anchor.key),P=T.get(s.anchor.key);return A&&P&&!e._nodeMap.has(A.__key)&&Rn(A)&&A.__text.length===1&&a.anchor.offset===1?qse:$g}const l=o[0],u=e._nodeMap.get(l.__key);if(!Rn(u)||!Rn(l)||u.__mode!==l.__mode)return $g;const f=u.__text,h=l.__text;if(f===h)return $g;const p=a.anchor,m=s.anchor;if(p.key!==m.key||p.type!=="text")return $g;const v=p.offset,w=m.offset,x=h.length-f.length;return x===1&&w===v-1?qse:x===-1&&w===v+1?DQe:x===-1&&w===v?FQe:$g}function NQe(e,t){let r=Date.now(),n=$g;return(i,a,s,o,l,u)=>{const f=Date.now();if(u.has("historic"))return n=$g,r=f,k7;const h=LQe(i,a,o,l,e.isComposing()),p=(()=>{const m=s===null||s.editor===e,v=u.has("history-push");if(!v&&m&&u.has("history-merge"))return MR;if(i===null)return M7;const w=a._selection;return o.size>0||l.size>0?v===!1&&h!==$g&&h===n&&f<r+t&&m||o.size===1&&function(x,T,A){const P=T._nodeMap.get(x),S=A._nodeMap.get(x),E=T._selection,_=A._selection;return!(Vr(E)&&Vr(_)&&E.anchor.type==="element"&&E.focus.type==="element"&&_.anchor.type==="text"&&_.focus.type==="text"||!Rn(P)||!Rn(S)||P.__parent!==S.__parent)&&JSON.stringify(T.read(()=>P.exportJSON()))===JSON.stringify(A.read(()=>S.exportJSON()))}(Array.from(o)[0],i,a)?MR:M7:w!==null?MR:k7})();return r=f,n=h,p}}function Hse(e){e.undoStack=[],e.redoStack=[],e.current=null}function $Qe(e,t,r){const n=NQe(e,r);return fu(e.registerCommand(vW,()=>(function(a,s){const o=s.redoStack,l=s.undoStack;if(l.length!==0){const u=s.current,f=l.pop();u!==null&&(o.push(u),a.dispatchCommand(PR,!0)),l.length===0&&a.dispatchCommand(TR,!1),s.current=f||null,f&&f.editor.setEditorState(f.editorState,{tag:"historic"})}}(e,t),!0),ia),e.registerCommand(yW,()=>(function(a,s){const o=s.redoStack,l=s.undoStack;if(o.length!==0){const u=s.current;u!==null&&(l.push(u),a.dispatchCommand(TR,!0));const f=o.pop();o.length===0&&a.dispatchCommand(PR,!1),s.current=f||null,f&&f.editor.setEditorState(f.editorState,{tag:"historic"})}}(e,t),!0),ia),e.registerCommand(Ebe,()=>(Hse(t),!1),ia),e.registerCommand(Cbe,()=>(Hse(t),e.dispatchCommand(PR,!1),e.dispatchCommand(TR,!1),!0),ia),e.registerUpdateListener(({editorState:a,prevEditorState:s,dirtyLeaves:o,dirtyElements:l,tags:u})=>{const f=t.current,h=t.redoStack,p=t.undoStack,m=f===null?null:f.editorState;if(f!==null&&a===m)return;const v=n(s,a,f,o,l,u);if(v===M7)h.length!==0&&(t.redoStack=[],e.dispatchCommand(PR,!1)),f!==null&&(p.push({...f}),e.dispatchCommand(TR,!0));else if(v===k7)return;t.current={editor:e,editorState:a}}))}function zQe(){return{current:null,redoStack:[],undoStack:[]}}function Mxt({delay:e,externalHistoryState:t}){const[r]=Xs();return function(n,i,a=1e3){const s=ne.useMemo(()=>i||zQe(),[i]);ne.useEffect(()=>$Qe(n,s,a),[a,n,s])}(r,t,e),null}function Wse(e,t){return e.getEditorState().read(()=>{const r=ps(t);return r!==null&&r.isSelected()})}function C_e(e){const[t]=Xs(),[r,n]=ne.useState(()=>Wse(t,e));return ne.useEffect(()=>{let i=!0;const a=t.registerUpdateListener(()=>{i&&n(Wse(t,e))});return()=>{i=!1,a()}},[t,e]),[r,ne.useCallback(i=>{t.update(()=>{let a=ln();gf(a)||(a=w7(),Tu(a)),gf(a)&&(i?a.add(e):a.delete(e))})},[t,e]),ne.useCallback(()=>{t.update(()=>{const i=ln();gf(i)&&i.clear()})},[t])]}const BQe=dv();function jQe({nodeKey:e}){const[t]=Xs(),[r,n,i]=C_e(e),a=ne.useCallback(s=>{const o=ln();return r&&gf(o)&&(s.preventDefault(),o.getNodes().forEach(l=>{qQe(l)&&l.remove()})),!1},[r]);return ne.useEffect(()=>fu(t.registerCommand(tk,s=>{const o=t.getElementByKey(e);return s.target===o&&(s.shiftKey||i(),n(!r),!0)},ds),t.registerCommand(DS,a,ds),t.registerCommand(MS,a,ds)),[i,t,r,e,a,n]),ne.useEffect(()=>{const s=t.getElementByKey(e),o="selected";s!==null&&(r?Ru(s,o):hv(s,o))},[t,r,e]),null}let P_e=class T_e extends PW{static getType(){return"horizontalrule"}static clone(t){return new T_e(t.__key)}static importJSON(t){return KW().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:UQe,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){const r=document.createElement("hr");return Ru(r,t.theme.hr),r}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return io.jsx(jQe,{nodeKey:this.__key})}};function UQe(){return{node:KW()}}function KW(){return td(new P_e)}function qQe(e){return e instanceof P_e}function kxt(){const[e]=Xs();return ne.useEffect(()=>e.registerCommand(BQe,t=>{const r=ln();if(!Vr(r))return!1;if(r.focus.getNode()!==null){const n=KW();p_e(n)}return!0},ia),[e]),null}function Dxt(){const[e]=Xs();return ne.useEffect(()=>{if(!e.hasNodes([$S,Ww]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),function(t){ne.useEffect(()=>AQe(t),[t])}(e),null}const HQe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function WQe(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function R_e(){return function(e){const[t]=Xs(),r=ne.useMemo(()=>e(t),[t,e]),[n,i]=ne.useState(()=>r.initialValueFn()),a=ne.useRef(n);return HQe(()=>{const{initialValueFn:s,subscribe:o}=r,l=s();return a.current!==l&&(a.current=l,i(l)),o(u=>{a.current=u,i(u)})},[r,e]),n}(WQe)}function A_e(e){const t=window.location.origin,r=n=>{if(n.origin!==t)return;const i=e.getRootElement();if(document.activeElement!==i)return;const a=n.data;if(typeof a=="string"){let s;try{s=JSON.parse(a)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const o=s.payload;if(o&&o.functionId==="makeChanges"){const l=o.args;if(l){const[u,f,h,p,m,v]=l;e.update(()=>{const w=ln();if(Vr(w)){const x=w.anchor;let T=x.getNode(),A=0,P=0;if(Rn(T)&&u>=0&&f>=0&&(A=u,P=u+f,w.setTextNodeRange(T,A,T,P)),A===P&&h===""||(w.insertRawText(h),T=x.getNode()),Rn(T)){A=p,P=p+m;const S=T.getTextContentSize();A=A>S?S:A,P=P>S?S:P,w.setTextNodeRange(T,A,T,P)}n.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}function VQe(e,t){const r=t.body?t.body.childNodes:[];let n=[];const i=[];for(let a=0;a<r.length;a++){const s=r[a];if(!M_e.has(s.nodeName)){const o=k_e(s,e,i,!1);o!==null&&(n=n.concat(o))}}return function(a){for(const s of a)s.getNextSibling()instanceof RW&&s.insertAfter(tg());for(const s of a){const o=s.getChildren();for(const l of o)s.insertBefore(l);s.remove()}}(i),n}function O_e(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),n=Js().getChildren();for(let i=0;i<n.length;i++)I_e(e,n[i],r,t);return r.innerHTML}function I_e(e,t,r,n=null){let i=n===null||t.isSelected(n);const a=qr(t)&&t.excludeFromCopy("html");let s=t;if(n!==null){let m=dk(t);m=Rn(m)&&n!==null?d_e(n,m):m,s=m}const o=qr(s)?s.getChildren():[],l=e._nodes.get(s.getType());let u;u=l&&l.exportDOM!==void 0?l.exportDOM(e,s):s.exportDOM(e);const{element:f,after:h}=u;if(!f)return!1;const p=document.createDocumentFragment();for(let m=0;m<o.length;m++){const v=o[m],w=I_e(e,v,p,n);!i&&qr(t)&&w&&t.extractWithChild(v,n,"html")&&(i=!0)}if(i&&!a){if((Pl(f)||E7(f))&&f.append(p),r.append(f),h){const m=h.call(s,f);m&&(E7(f)?f.replaceChildren(m):f.replaceWith(m))}}else r.append(p);return i}const M_e=new Set(["STYLE","SCRIPT"]);function k_e(e,t,r,n,i=new Map,a){let s=[];if(M_e.has(e.nodeName))return s;let o=null;const l=function(v,w){const{nodeName:x}=v,T=w._htmlConversions.get(x.toLowerCase());let A=null;if(T!==void 0)for(const P of T){const S=P(v);S!==null&&(A===null||(A.priority||0)<=(S.priority||0))&&(A=S)}return A!==null?A.conversion:null}(e,t),u=l?l(e):null;let f=null;if(u!==null){f=u.after;const v=u.node;if(o=Array.isArray(v)?v[v.length-1]:v,o!==null){for(const[,w]of i)if(o=w(o,a),!o)break;o&&s.push(...Array.isArray(v)?v:[o])}u.forChild!=null&&i.set(e.nodeName,u.forChild)}const h=e.childNodes;let p=[];const m=(o==null||!Jd(o))&&(o!=null&&LO(o)||n);for(let v=0;v<h.length;v++)p.push(...k_e(h[v],t,r,m,new Map(i),o));return f!=null&&(p=f(p)),qO(e)&&(p=GQe(e,p,m?()=>{const v=new RW;return r.push(v),v}:as)),o==null?p.length>0?s=s.concat(p):qO(e)&&function(v){return v.nextSibling==null||v.previousSibling==null?!1:C7(v.nextSibling)&&C7(v.previousSibling)}(e)&&(s=s.concat(tg())):qr(o)&&o.append(...p),s}function GQe(e,t,r){const n=e.style.textAlign,i=[];let a=[];for(let s=0;s<t.length;s++){const o=t[s];if(LO(o))n&&!o.getFormat()&&o.setFormat(n),i.push(o);else if(a.push(o),s===t.length-1||s<t.length-1&&LO(t[s+1])){const l=r();l.setFormat(n),l.append(...a),i.push(l),a=[]}}return i}function KQe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QO=KQe(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function D_e(e,t=ln()){return t==null&&QO(166),Vr(t)&&t.isCollapsed()||t.getNodes().length===0?"":O_e(e,t)}function ZQe(e,t=ln()){return t==null&&QO(166),Vr(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(YQe(e,t))}function Vse(e,t){const r=e.getData("text/plain")||e.getData("text/uri-list");r!=null&&t.insertRawText(r)}function Gse(e,t,r){const n=e.getData("application/x-lexical-editor");if(n)try{const o=JSON.parse(n);if(o.namespace===r._config.namespace&&Array.isArray(o.nodes))return Kse(r,XQe(o.nodes),t)}catch{}const i=e.getData("text/html"),a=e.getData("text/plain");if(i&&a!==i)try{const o=new DOMParser().parseFromString(function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(l):l}(i),"text/html");return Kse(r,VQe(r,o),t)}catch{}const s=a||e.getData("text/uri-list");if(s!=null)if(Vr(t)){const o=s.split(/(\r?\n|\t)/);o[o.length-1]===""&&o.pop();for(let l=0;l<o.length;l++){const u=ln();if(Vr(u)){const f=o[l];f===`
`||f===`\r
`?u.insertParagraph():f==="	"?u.insertNodes([Gm()]):u.insertText(f)}}}else t.insertRawText(s)}function Kse(e,t,r){e.dispatchCommand(gW,{nodes:t,selection:r})||r.insertNodes(t)}function F_e(e,t,r,n=[]){let i=t===null||r.isSelected(t);const a=qr(r)&&r.excludeFromCopy("html");let s=r;if(t!==null){let u=dk(r);u=Rn(u)&&t!==null?d_e(t,u):u,s=u}const o=qr(s)?s.getChildren():[],l=function(u){const f=u.exportJSON(),h=u.constructor;if(f.type!==h.getType()&&QO(58,h.name),qr(u)){const p=f.children;Array.isArray(p)||QO(59,h.name)}return f}(s);if(Rn(s)){const u=s.__text;u.length>0?l.text=u:i=!1}for(let u=0;u<o.length;u++){const f=o[u],h=F_e(e,t,f,l.children);!i&&qr(r)&&h&&r.extractWithChild(f,t,"clone")&&(i=!0)}if(i&&!a)n.push(l);else if(Array.isArray(l.children))for(let u=0;u<l.children.length;u++){const f=l.children[u];n.push(f)}return i}function YQe(e,t){const r=[],n=Js().getChildren();for(let i=0;i<n.length;i++)F_e(e,t,n[i],r);return{namespace:e._config.namespace,nodes:r}}function XQe(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],i=iJe(n);Rn(i)&&jJe(i),t.push(i)}return t}let $1=null;async function D7(e,t,r){if($1!==null)return!1;if(t!==null)return new Promise((u,f)=>{e.update(()=>{u(Zse(e,t,r))})});const n=e.getRootElement(),i=e._window||window,a=window.document,s=eh(i);if(n===null||s===null)return!1;const o=a.createElement("span");o.style.cssText="position: fixed; top: -1000px;",o.append(a.createTextNode("#")),n.append(o);const l=new Range;return l.setStart(o,0),l.setEnd(o,1),s.removeAllRanges(),s.addRange(l),new Promise((u,f)=>{const h=e.registerCommand(HP,p=>(Bv(p,ClipboardEvent)&&(h(),$1!==null&&(window.clearTimeout($1),$1=null),u(Zse(e,p,r))),!0),Xp);$1=window.setTimeout(()=>{h(),$1=null,u(!1)},50),a.execCommand("copy"),o.remove()})}function Zse(e,t,r){if(r===void 0){const i=eh(e._window);if(!i)return!1;const a=i.anchorNode,s=i.focusNode;if(a!==null&&s!==null&&!YP(e,a,s))return!1;const o=ln();if(o===null)return!1;r=L_e(o)}t.preventDefault();const n=t.clipboardData;return n!==null&&(QQe(n,r),!0)}const JQe=[["text/html",D_e],["application/x-lexical-editor",ZQe]];function L_e(e=ln()){const t={"text/plain":e?e.getTextContent():""};if(e){const r=$W();for(const[n,i]of JQe){const a=i(r,e);a!==null&&(t[n]=a)}}return t}function QQe(e,t){for(const r in t){const n=t[r];n!==void 0&&e.setData(r,n)}}const zS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,eet=zS&&"documentMode"in document?document.documentMode:null,tet=!(!zS||!("InputEvent"in window)||eet)&&"getTargetRanges"in new window.InputEvent("input"),ret=zS&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Yse=zS&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,net=zS&&/^(?=.*Chrome).*/i.test(navigator.userAgent),iet=zS&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!net;function Xse(e,t){t.update(()=>{if(e!==null){const r=Bv(e,KeyboardEvent)?null:e.clipboardData,n=ln();if(n!==null&&r!=null){e.preventDefault();const i=D_e(t);i!==null&&r.setData("text/html",i),r.setData("text/plain",n.getTextContent())}}})}function aet(e){return fu(e.registerCommand(Xm,t=>{const r=ln();return!!Vr(r)&&(r.deleteCharacter(t),!0)},ia),e.registerCommand(iw,t=>{const r=ln();return!!Vr(r)&&(r.deleteWord(t),!0)},ia),e.registerCommand(_b,t=>{const r=ln();return!!Vr(r)&&(r.deleteLine(t),!0)},ia),e.registerCommand(ub,t=>{const r=ln();if(!Vr(r))return!1;if(typeof t=="string")r.insertText(t);else{const n=t.dataTransfer;if(n!=null)Vse(n,r);else{const i=t.data;i&&r.insertText(i)}}return!0},ia),e.registerCommand(IO,()=>{const t=ln();return!!Vr(t)&&(t.removeText(),!0)},ia),e.registerCommand(lb,t=>{const r=ln();return!!Vr(r)&&(r.insertLineBreak(t),!0)},ia),e.registerCommand(bb,()=>{const t=ln();return!!Vr(t)&&(t.insertLineBreak(),!0)},ia),e.registerCommand(qP,t=>{const r=ln();if(!Vr(r))return!1;const n=t,i=n.shiftKey;return!!ZO(r,!0)&&(n.preventDefault(),YO(r,i,!0),!0)},ia),e.registerCommand(rk,t=>{const r=ln();if(!Vr(r))return!1;const n=t,i=n.shiftKey;return!!ZO(r,!1)&&(n.preventDefault(),YO(r,i,!1),!0)},ia),e.registerCommand(MS,t=>{const r=ln();return!!Vr(r)&&(!Yse||navigator.language!=="ko-KR")&&(t.preventDefault(),e.dispatchCommand(Xm,!0))},ia),e.registerCommand(DS,t=>{const r=ln();return!!Vr(r)&&(t.preventDefault(),e.dispatchCommand(Xm,!1))},ia),e.registerCommand(aw,t=>{const r=ln();if(!Vr(r))return!1;if(t!==null){if((Yse||ret||iet)&&tet)return!1;t.preventDefault()}return e.dispatchCommand(lb,!1)},ia),e.registerCommand(DO,()=>(Qbe(),!0),ia),e.registerCommand(HP,t=>{const r=ln();return!!Vr(r)&&(Xse(t,e),!0)},ia),e.registerCommand(WP,t=>{const r=ln();return!!Vr(r)&&(function(n,i){Xse(n,i),i.update(()=>{const a=ln();Vr(a)&&a.removeText()})}(t,e),!0)},ia),e.registerCommand(UP,t=>{const r=ln();return!!Vr(r)&&(function(n,i){n.preventDefault(),i.update(()=>{const a=ln(),{clipboardData:s}=n;s!=null&&Vr(a)&&Vse(s,a)},{tag:"paste"})}(t,e),!0)},ia),e.registerCommand(_W,t=>{const r=ln();return!!Vr(r)&&(t.preventDefault(),!0)},ia),e.registerCommand(xW,t=>{const r=ln();return!!Vr(r)&&(t.preventDefault(),!0)},ia))}const F7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function Jse(e){return e.getEditorState().read(WW(e.isComposing()))}function Fxt({contentEditable:e,placeholder:t=null,ErrorBoundary:r}){const[n]=Xs(),i=function(a,s){const[o,l]=ne.useState(()=>a.getDecorators());return F7(()=>a.registerDecoratorListener(u=>{Ls.flushSync(()=>{l(u)})}),[a]),ne.useEffect(()=>{l(a.getDecorators())},[a]),ne.useMemo(()=>{const u=[],f=Object.keys(o);for(let h=0;h<f.length;h++){const p=f[h],m=io.jsx(s,{onError:w=>a._onError(w),children:io.jsx(ne.Suspense,{fallback:null,children:o[p]})}),v=a.getElementByKey(p);v!==null&&u.push(Ls.createPortal(m,v,p))}return u},[s,o,a])}(n,r);return function(a){F7(()=>fu(aet(a),A_e(a)),[a])}(n),io.jsxs(io.Fragment,{children:[e,io.jsx(oet,{content:t}),i]})}function oet({content:e}){const[t]=Xs(),r=function(i){const[a,s]=ne.useState(()=>Jse(i));return F7(()=>{function o(){const l=Jse(i);s(l)}return o(),fu(i.registerUpdateListener(()=>{o()}),i.registerEditableListener(()=>{o()}))},[i]),a}(t),n=R_e();return r?typeof e=="function"?e(n):e:null}function Qse(e,t){if(document.caretRangeFromPoint!==void 0){const r=document.caretRangeFromPoint(e,t);return r===null?null:{node:r.startContainer,offset:r.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const r=document.caretPositionFromPoint(e,t);return r===null?null:{node:r.offsetNode,offset:r.offset}}return null}const BS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,set=BS&&"documentMode"in document?document.documentMode:null,uet=!(!BS||!("InputEvent"in window)||set)&&"getTargetRanges"in new window.InputEvent("input"),cet=BS&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ele=BS&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,fet=BS&&/^(?=.*Chrome).*/i.test(navigator.userAgent),det=BS&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!fet,tle=dv();let ZW=class N_e extends Vh{static getType(){return"quote"}static clone(t){return new N_e(t.__key)}createDOM(t){const r=document.createElement("blockquote");return Ru(r,t.theme.quote),r}updateDOM(t,r){return!1}static importDOM(){return{blockquote:t=>({conversion:het,priority:0})}}exportDOM(t){const{element:r}=super.exportDOM(t);if(Pl(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();r.style.textAlign=n;const i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(t){return YW().updateFromJSON(t)}insertNewAfter(t,r){const n=as(),i=this.getDirection();return n.setDirection(i),this.insertAfter(n,r),n}collapseAtStart(){const t=as();return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}canMergeWhenEmpty(){return!0}};function YW(){return td(new ZW)}function L7(e){return e instanceof ZW}let gk=class $_e extends Vh{static getType(){return"heading"}static clone(t){return new $_e(t.__tag,t.__key)}constructor(t,r){super(r),this.__tag=t}getTag(){return this.__tag}setTag(t){const r=this.getWritable();return this.__tag=t,r}createDOM(t){const r=this.__tag,n=document.createElement(r),i=t.theme.heading;if(i!==void 0){const a=i[r];Ru(n,a)}return n}updateDOM(t,r,n){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:z1,priority:0}),h2:t=>({conversion:z1,priority:0}),h3:t=>({conversion:z1,priority:0}),h4:t=>({conversion:z1,priority:0}),h5:t=>({conversion:z1,priority:0}),h6:t=>({conversion:z1,priority:0}),p:t=>{const r=t.firstChild;return r!==null&&rle(r)?{conversion:()=>({node:null}),priority:3}:null},span:t=>rle(t)?{conversion:r=>({node:mx("h1")}),priority:3}:null}}exportDOM(t){const{element:r}=super.exportDOM(t);if(Pl(r)){this.isEmpty()&&r.append(document.createElement("br"));const n=this.getFormatType();r.style.textAlign=n;const i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(t){return mx(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,r=!0){const n=t?t.anchor.offset:0,i=this.getLastDescendant(),a=!i||t&&t.anchor.key===i.getKey()&&n===i.getTextContentSize()||!t?as():mx(this.getTag()),s=this.getDirection();if(a.setDirection(s),this.insertAfter(a,r),n===0&&!this.isEmpty()&&t){const o=as();o.select(),this.replace(o,!0)}return a}collapseAtStart(){const t=this.isEmpty()?as():mx(this.getTag());return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}extractWithChild(){return!0}};function rle(e){return e.nodeName.toLowerCase()==="span"&&e.style.fontSize==="26pt"}function z1(e){const t=e.nodeName.toLowerCase();let r=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(r=mx(t),e.style!==null&&(zW(e,r),r.setFormat(e.style.textAlign))),{node:r}}function het(e){const t=YW();return e.style!==null&&(t.setFormat(e.style.textAlign),zW(e,t)),{node:t}}function mx(e="h1"){return td(new gk(e))}function VC(e){return e instanceof gk}function kR(e){let t=null;if(Bv(e,DragEvent)?t=e.dataTransfer:Bv(e,ClipboardEvent)&&(t=e.clipboardData),t===null)return[!1,[],!1];const r=t.types,n=r.includes("Files"),i=r.includes("text/html")||r.includes("text/plain");return[n,Array.from(t.files),i]}function nle(e){const t=ln();if(!Vr(t))return!1;const r=new Set,n=t.getNodes();for(let i=0;i<n.length;i++){const a=n[i],s=a.getKey();if(r.has(s))continue;const o=Bo(a,u=>qr(u)&&!u.isInline());if(o===null)continue;const l=o.getKey();o.canIndent()&&!r.has(l)&&(r.add(l),e(o))}return r.size>0}function DR(e){const t=Qd(e);return ws(t)}function Wz(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function pet(e){return fu(e.registerCommand(tk,t=>{const r=ln();return!!gf(r)&&(r.clear(),!0)},0),e.registerCommand(Xm,t=>{const r=ln();return!!Vr(r)&&(r.deleteCharacter(t),!0)},ia),e.registerCommand(iw,t=>{const r=ln();return!!Vr(r)&&(r.deleteWord(t),!0)},ia),e.registerCommand(_b,t=>{const r=ln();return!!Vr(r)&&(r.deleteLine(t),!0)},ia),e.registerCommand(ub,t=>{const r=ln();if(typeof t=="string")r!==null&&r.insertText(t);else{if(r===null)return!1;const n=t.dataTransfer;if(n!=null)Gse(n,r,e);else if(Vr(r)){const i=t.data;return i&&r.insertText(i),!0}}return!0},ia),e.registerCommand(IO,()=>{const t=ln();return!!Vr(t)&&(t.removeText(),!0)},ia),e.registerCommand(Jy,t=>{const r=ln();return!!Vr(r)&&(r.formatText(t),!0)},ia),e.registerCommand(wW,t=>{const r=ln();if(!Vr(r)&&!gf(r))return!1;const n=r.getNodes();for(const i of n){const a=Bo(i,s=>qr(s)&&!s.isInline());a!==null&&a.setFormat(t)}return!0},ia),e.registerCommand(lb,t=>{const r=ln();return!!Vr(r)&&(r.insertLineBreak(t),!0)},ia),e.registerCommand(bb,()=>{const t=ln();return!!Vr(t)&&(t.insertParagraph(),!0)},ia),e.registerCommand(kO,()=>($be([Gm()]),!0),ia),e.registerCommand(i0,()=>nle(t=>{const r=t.getIndent();t.setIndent(r+1)}),ia),e.registerCommand(O_,()=>nle(t=>{const r=t.getIndent();r>0&&t.setIndent(r-1)}),ia),e.registerCommand(ny,t=>{const r=ln();if(gf(r)&&!DR(t.target)){const n=r.getNodes();if(n.length>0)return n[0].selectPrevious(),!0}else if(Vr(r)){const n=D2(r.focus,!0);if(!t.shiftKey&&ws(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1},ia),e.registerCommand(wb,t=>{const r=ln();if(gf(r)){const n=r.getNodes();if(n.length>0)return n[0].selectNext(0,0),!0}else if(Vr(r)){if(function(i){const a=i.focus;return a.key==="root"&&a.offset===Js().getChildrenSize()}(r))return t.preventDefault(),!0;const n=D2(r.focus,!1);if(!t.shiftKey&&ws(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1},ia),e.registerCommand(qP,t=>{const r=ln();if(gf(r)){const n=r.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!Vr(r))return!1;if(ZO(r,!0)){const n=t.shiftKey;return t.preventDefault(),YO(r,n,!0),!0}return!1},ia),e.registerCommand(rk,t=>{const r=ln();if(gf(r)&&!DR(t.target)){const i=r.getNodes();if(i.length>0)return t.preventDefault(),i[0].selectNext(0,0),!0}if(!Vr(r))return!1;const n=t.shiftKey;return!!ZO(r,!1)&&(t.preventDefault(),YO(r,n,!1),!0)},ia),e.registerCommand(MS,t=>{if(DR(t.target))return!1;const r=ln();if(!Vr(r))return!1;const{anchor:n}=r,i=n.getNode();return r.isCollapsed()&&n.offset===0&&!Gf(i)&&XO(i).getIndent()>0?(t.preventDefault(),e.dispatchCommand(O_,void 0)):(!ele||navigator.language!=="ko-KR")&&(t.preventDefault(),e.dispatchCommand(Xm,!0))},ia),e.registerCommand(DS,t=>{if(DR(t.target))return!1;const r=ln();return!!Vr(r)&&(t.preventDefault(),e.dispatchCommand(Xm,!1))},ia),e.registerCommand(aw,t=>{const r=ln();if(!Vr(r))return!1;if(Wz(r),t!==null){if((ele||cet||det)&&uet)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(lb,!1)}return e.dispatchCommand(bb,void 0)},ia),e.registerCommand(kS,()=>{const t=ln();return!!Vr(t)&&(e.blur(),!0)},ia),e.registerCommand(_W,t=>{const[,r]=kR(t);if(r.length>0){const i=Qse(t.clientX,t.clientY);if(i!==null){const{offset:a,node:s}=i,o=Qd(s);if(o!==null){const l=ak();if(Rn(o))l.anchor.set(o.getKey(),a,"text"),l.focus.set(o.getKey(),a,"text");else{const f=o.getParentOrThrow().getKey(),h=o.getIndexWithinParent()+1;l.anchor.set(f,h,"element"),l.focus.set(f,h,"element")}const u=vb(l);Tu(u)}e.dispatchCommand(tle,r)}return t.preventDefault(),!0}const n=ln();return!!Vr(n)},ia),e.registerCommand(xW,t=>{const[r]=kR(t),n=ln();return!(r&&!Vr(n))},ia),e.registerCommand(Sbe,t=>{const[r]=kR(t),n=ln();if(r&&!Vr(n))return!1;const i=Qse(t.clientX,t.clientY);if(i!==null){const a=Qd(i.node);ws(a)&&t.preventDefault()}return!0},ia),e.registerCommand(DO,()=>(Qbe(),!0),ia),e.registerCommand(HP,t=>(D7(e,Bv(t,ClipboardEvent)?t:null),!0),ia),e.registerCommand(WP,t=>(async function(r,n){await D7(n,Bv(r,ClipboardEvent)?r:null),n.update(()=>{const i=ln();Vr(i)?i.removeText():gf(i)&&i.getNodes().forEach(a=>a.remove())})}(t,e),!0),ia),e.registerCommand(UP,t=>{const[,r,n]=kR(t);return r.length>0&&!n?(e.dispatchCommand(tle,r),!0):a0(t.target)&&AW(t.target)?!1:ln()!==null&&(function(i,a){i.preventDefault(),a.update(()=>{const s=ln(),o=Bv(i,InputEvent)||Bv(i,KeyboardEvent)?null:i.clipboardData;o!=null&&s!==null&&Gse(o,s,a)},{tag:"paste"})}(t,e),!0)},ia),e.registerCommand(bW,t=>{const r=ln();return Vr(r)&&Wz(r),!1},ia),e.registerCommand(Uw,t=>{const r=ln();return Vr(r)&&Wz(r),!1},ia))}const N7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function ile(e){return e.getEditorState().read(WW(e.isComposing()))}function Lxt({contentEditable:e,placeholder:t=null,ErrorBoundary:r}){const[n]=Xs(),i=function(a,s){const[o,l]=ne.useState(()=>a.getDecorators());return N7(()=>a.registerDecoratorListener(u=>{Ls.flushSync(()=>{l(u)})}),[a]),ne.useEffect(()=>{l(a.getDecorators())},[a]),ne.useMemo(()=>{const u=[],f=Object.keys(o);for(let h=0;h<f.length;h++){const p=f[h],m=io.jsx(s,{onError:w=>a._onError(w),children:io.jsx(ne.Suspense,{fallback:null,children:o[p]})}),v=a.getElementByKey(p);v!==null&&u.push(Ls.createPortal(m,v,p))}return u},[s,o,a])}(n,r);return function(a){N7(()=>fu(pet(a),A_e(a)),[a])}(n),io.jsxs(io.Fragment,{children:[e,io.jsx(met,{content:t}),i]})}function met({content:e}){const[t]=Xs(),r=function(i){const[a,s]=ne.useState(()=>ile(i));return N7(()=>{function o(){const l=ile(i);s(l)}return o(),fu(i.registerUpdateListener(()=>{o()}),i.registerEditableListener(()=>{o()}))},[i]),a}(t),n=R_e();return r?typeof e=="function"?e(n):e:null}function get(e,t){return fu(e.registerCommand(Uw,r=>{const n=ln();if(!Vr(n))return!1;r.preventDefault();const i=function(a){const s=a.getNodes();if(oQe(s,p=>LO(p)&&p.canIndent()?p:null).length>0)return!0;const o=a.anchor,l=a.focus,u=l.isBefore(o)?l:o,f=u.getNode(),h=XO(f);if(h.canIndent()){const p=h.getKey();let m=ak();if(m.anchor.set(p,0,"element"),m.focus.set(p,0,"element"),m=vb(m),m.anchor.is(u))return!0}return!1}(n)?r.shiftKey?O_:i0:kO;return e.dispatchCommand(i,void 0)},ia),e.registerCommand(i0,()=>{if(t==null)return!1;const r=ln();if(!Vr(r))return!1;const n=r.getNodes().map(i=>XO(i).getIndent());return Math.max(...n)+1>=t},Xp))}function Nxt({maxIndent:e}){const[t]=Xs();return ne.useEffect(()=>get(t,e),[t,e]),null}const XW=/^(\d+(?:\.\d+)?)px$/,Rd={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};let jS=class z_e extends Vh{static getType(){return"tablecell"}static clone(t){return new z_e(t.__headerState,t.__colSpan,t.__width,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__rowSpan=t.__rowSpan,this.__backgroundColor=t.__backgroundColor,this.__verticalAlign=t.__verticalAlign}static importDOM(){return{td:t=>({conversion:ale,priority:0}),th:t=>({conversion:ale,priority:0})}}static importJSON(t){return xb().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeaderStyles(t.headerState).setColSpan(t.colSpan||1).setRowSpan(t.rowSpan||1).setWidth(t.width||void 0).setBackgroundColor(t.backgroundColor||null).setVerticalAlign(t.verticalAlign||void 0)}constructor(t=Rd.NO_STATUS,r=1,n,i){super(i),this.__colSpan=r,this.__rowSpan=1,this.__headerState=t,this.__width=n,this.__backgroundColor=null}createDOM(t){const r=document.createElement(this.getTag());return this.__width&&(r.style.width=`${this.__width}px`),this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(r.style.backgroundColor=this.__backgroundColor),$7(this.__verticalAlign)&&(r.style.verticalAlign=this.__verticalAlign),Ru(r,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),r}exportDOM(t){const r=super.exportDOM(t);if(Pl(r.element)){const n=r.element;n.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),n.style.border="1px solid black",this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),n.style.width=`${this.getWidth()||75}px`,n.style.verticalAlign=this.getVerticalAlign()||"top",n.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(n.style.backgroundColor="#f2f3f5")}return r}exportJSON(){return{...super.exportJSON(),...$7(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(t){const r=this.getWritable();return r.__colSpan=t,r}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(t){const r=this.getWritable();return r.__rowSpan=t,r}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(t,r=Rd.BOTH){const n=this.getWritable();return n.__headerState=t&r|n.__headerState&~r,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(t){const r=this.getWritable();return r.__width=t,r}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(t){const r=this.getWritable();return r.__backgroundColor=t,r}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(t){const r=this.getWritable();return r.__verticalAlign=t||void 0,r}toggleHeaderStyle(t){const r=this.getWritable();return(r.__headerState&t)===t?r.__headerState-=t:r.__headerState+=t,r}hasHeaderState(t){return(this.getHeaderStyles()&t)===t}hasHeader(){return this.getLatest().__headerState!==Rd.NO_STATUS}updateDOM(t){return t.__headerState!==this.__headerState||t.__width!==this.__width||t.__colSpan!==this.__colSpan||t.__rowSpan!==this.__rowSpan||t.__backgroundColor!==this.__backgroundColor||t.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function $7(e){return e==="middle"||e==="bottom"}function ale(e){const t=e,r=e.nodeName.toLowerCase();let n;XW.test(t.style.width)&&(n=parseFloat(t.style.width));const i=xb(r==="th"?Rd.ROW:Rd.NO_STATUS,t.colSpan,n);i.__rowSpan=t.rowSpan;const a=t.style.backgroundColor;a!==""&&(i.__backgroundColor=a);const s=t.style.verticalAlign;$7(s)&&(i.__verticalAlign=s);const o=t.style,l=(o&&o.textDecoration||"").split(" "),u=o.fontWeight==="700"||o.fontWeight==="bold",f=l.includes("line-through"),h=o.fontStyle==="italic",p=l.includes("underline");return{after:m=>(m.length===0&&m.push(as()),m),forChild:(m,v)=>{if(Na(v)&&!qr(m)){const w=as();return hl(m)&&m.getTextContent()===`
`?null:(Rn(m)&&(u&&m.toggleFormat("bold"),f&&m.toggleFormat("strikethrough"),h&&m.toggleFormat("italic"),p&&m.toggleFormat("underline")),w.append(m),w)}return m},node:i}}function xb(e=Rd.NO_STATUS,t=1,r){return td(new jS(e,t,r))}function Na(e){return e instanceof jS}const vet=dv();function yet(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oa=yet(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});let JW=class B_e extends Vh{static getType(){return"tablerow"}static clone(t){return new B_e(t.__height,t.__key)}static importDOM(){return{tr:t=>({conversion:bet,priority:0})}}static importJSON(t){return N2().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeight(t.height)}constructor(t,r){super(r),this.__height=t}exportJSON(){const t=this.getHeight();return{...super.exportJSON(),...t===void 0?void 0:{height:t}}}createDOM(t){const r=document.createElement("tr");return this.__height&&(r.style.height=`${this.__height}px`),Ru(r,t.theme.tableRow),r}extractWithChild(t,r,n){return n==="html"}isShadowRoot(){return!0}setHeight(t){const r=this.getWritable();return r.__height=t,r}getHeight(){return this.getLatest().__height}updateDOM(t){return t.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function bet(e){const t=e;let r;return XW.test(t.style.height)&&(r=parseFloat(t.style.height)),{after:n=>v_e(n,Na),node:N2(r)}}function N2(e){return td(new JW(e))}function Ju(e){return e instanceof JW}const QW=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,_et=QW&&"documentMode"in document?document.documentMode:null,wet=QW&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function xet(e,t,r=!0){const n=nV();for(let i=0;i<e;i++){const a=N2();for(let s=0;s<t;s++){let o=Rd.NO_STATUS;typeof r=="object"?(i===0&&r.rows&&(o|=Rd.ROW),s===0&&r.columns&&(o|=Rd.COLUMN)):r&&(i===0&&(o|=Rd.ROW),s===0&&(o|=Rd.COLUMN));const l=xb(o),u=as();u.append(js()),l.append(u),a.append(l)}n.append(a)}return n}function j_e(e){const t=Bo(e,r=>Ju(r));if(Ju(t))return t;throw new Error("Expected table cell to be inside of table row.")}function Eet(e){const t=Bo(e,r=>uu(r));if(uu(t))return t;throw new Error("Expected table cell to be inside of table.")}function $xt(e){const t=j_e(e);return Eet(t).getChildren().findIndex(r=>r.is(t))}function zxt(e){return j_e(e).getChildren().findIndex(t=>t.is(e))}QW&&"InputEvent"in window&&!_et&&new window.InputEvent("input");const z7=(e,t)=>e===Rd.BOTH||e===t?t:Rd.NO_STATUS;function Bxt(e=!0){const t=ln();Vr(t)||dl(t)||Oa(188);const r=t.anchor.getNode(),n=t.focus.getNode(),[i]=jv(r),[a,,s]=jv(n),[o,l,u]=Gg(s,a,i),f=o[0].length,{startRow:h}=u,{startRow:p}=l;let m=null;if(e){const v=Math.max(p+a.__rowSpan,h+i.__rowSpan)-1,w=o[v],x=N2();for(let A=0;A<f;A++){const{cell:P,startRow:S}=w[A];if(S+P.__rowSpan-1<=v){const E=w[A].cell.__headerState,_=z7(E,Rd.COLUMN);x.append(xb(_).append(as()))}else P.setRowSpan(P.__rowSpan+1)}const T=s.getChildAtIndex(v);Ju(T)||Oa(256),T.insertAfter(x),m=x}else{const v=Math.min(p,h),w=o[v],x=N2();for(let A=0;A<f;A++){const{cell:P,startRow:S}=w[A];if(S===v){const E=w[A].cell.__headerState,_=z7(E,Rd.COLUMN);x.append(xb(_).append(as()))}else P.setRowSpan(P.__rowSpan+1)}const T=s.getChildAtIndex(v);Ju(T)||Oa(257),T.insertBefore(x),m=x}return m}function jxt(e=!0){const t=ln();Vr(t)||dl(t)||Oa(188);const r=t.anchor.getNode(),n=t.focus.getNode(),[i]=jv(r),[a,,s]=jv(n),[o,l,u]=Gg(s,a,i),f=o.length,h=e?Math.max(l.startColumn,u.startColumn):Math.min(l.startColumn,u.startColumn),p=e?h+a.__colSpan-1:h-1,m=s.getFirstChild();Ju(m)||Oa(120);let v=null;function w(A=Rd.NO_STATUS){const P=xb(A).append(as());return v===null&&(v=P),P}let x=m;e:for(let A=0;A<f;A++){if(A!==0){const F=x.getNextSibling();Ju(F)||Oa(121),x=F}const P=o[A],S=P[p<0?0:p].cell.__headerState,E=z7(S,Rd.ROW);if(p<0){Pet(x,w(E));continue}const{cell:_,startColumn:R,startRow:O}=P[p];if(R+_.__colSpan-1<=p){let F=_,$=O,z=p;for(;$!==A&&F.__rowSpan>1;){if(z-=_.__colSpan,!(z>=0)){x.append(w(E));continue e}{const{cell:q,startRow:Z}=P[z];F=q,$=Z}}F.insertAfter(w(E))}else _.setColSpan(_.__colSpan+1)}v!==null&&Cet(v);const T=s.getColWidths();if(T){const A=[...T],P=p<0?0:p,S=A[P];A.splice(P,0,S),s.setColWidths(A)}return v}function Cet(e){const t=e.getFirstDescendant();t==null?e.selectStart():t.getParentOrThrow().selectStart()}function Pet(e,t){const r=e.getFirstChild();r!==null?r.insertBefore(t):e.append(t)}function Gg(e,t,r){const[n,i,a]=eV(e,t,r);return i===null&&Oa(207),a===null&&Oa(208),[n,i,a]}function eV(e,t,r){const n=[];let i=null,a=null;function s(l){let u=n[l];return u===void 0&&(n[l]=u=[]),u}const o=e.getChildren();for(let l=0;l<o.length;l++){const u=o[l];Ju(u)||Oa(209);const f=s(l);for(let h=u.getFirstChild(),p=0;h!=null;h=h.getNextSibling()){for(Na(h)||Oa(147);f[p]!==void 0;)p++;const m={cell:h,startColumn:p,startRow:l},{__rowSpan:v,__colSpan:w}=h;for(let x=0;x<v&&!(l+x>=o.length);x++){const T=s(l+x);for(let A=0;A<w;A++)T[p+A]=m}t!==null&&i===null&&t.is(h)&&(i=m),r!==null&&a===null&&r.is(h)&&(a=m)}}return[n,i,a]}function jv(e){let t;if(e instanceof jS)t=e;else if("__type"in e){const i=Bo(e,Na);Na(i)||Oa(148),t=i}else{const i=Bo(e.getNode(),Na);Na(i)||Oa(148),t=i}const r=t.getParent();Ju(r)||Oa(149);const n=r.getParent();return uu(n)||Oa(210),[t,r,n]}function B7(e,t,r){let n,i=Math.min(t.startColumn,r.startColumn),a=Math.min(t.startRow,r.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,r.startColumn+r.cell.__colSpan-1),o=Math.max(t.startRow+t.cell.__rowSpan-1,r.startRow+r.cell.__rowSpan-1);do{n=!1;for(let l=0;l<e.length;l++)for(let u=0;u<e[0].length;u++){const f=e[l][u];if(!f)continue;const h=f.startColumn+f.cell.__colSpan-1,p=f.startRow+f.cell.__rowSpan-1,m=f.startColumn<=s&&h>=i,v=f.startRow<=o&&p>=a;if(m&&v){const w=Math.min(i,f.startColumn),x=Math.max(s,h),T=Math.min(a,f.startRow),A=Math.max(o,p);w===i&&x===s&&T===a&&A===o||(i=w,s=x,a=T,o=A,n=!0)}}}while(n);return{maxColumn:s,maxRow:o,minColumn:i,minRow:a}}function ole(e){const[t,,r]=jv(e),n=r.getChildren(),i=n.length,a=n[0].getChildren().length,s=new Array(i);for(let o=0;o<i;o++)s[o]=new Array(a);for(let o=0;o<i;o++){const l=n[o].getChildren();let u=0;for(let f=0;f<l.length;f++){for(;s[o][u];)u++;const h=l[f],p=h.__rowSpan||1,m=h.__colSpan||1;for(let v=0;v<p;v++)for(let w=0;w<m;w++)s[o+v][u+w]=h;if(t===h)return{colSpan:m,columnIndex:u,rowIndex:o,rowSpan:p};u+=m}}return null}function sle(e){const[[t,r,n,i],[a,s,o,l]]=["anchor","focus"].map(u=>{const f=e[u].getNode(),h=Bo(f,Na);Na(h)||Oa(238,u,f.getKey(),f.getType());const p=h.getParent();Ju(p)||Oa(239,u);const m=p.getParent();return uu(m)||Oa(240,u),[f,h,p,m]});return i.is(l)||Oa(241),{anchorCell:r,anchorNode:t,anchorRow:n,anchorTable:i,focusCell:s,focusNode:a,focusRow:o,focusTable:l}}let U_e=class q_e{constructor(t,r,n){this.anchor=r,this.focus=n,r._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return dl(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,r,n){this.dirty=this.dirty||t!==this.tableKey||r!==this.anchor.key||n!==this.focus.key,this.tableKey=t,this.anchor.key=r,this.focus.key=n,this._cachedNodes=null}clone(){return new q_e(this.tableKey,bp(this.anchor.key,this.anchor.offset,this.anchor.type),bp(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}hasFormat(t){let r=0;this.getNodes().filter(Na).forEach(i=>{const a=i.getFirstChild();Hw(a)&&(r|=a.getTextFormat())});const n=gb[t];return!!(r&n)}insertNodes(t){const r=this.focus.getNode();qr(r)||Oa(151),vb(r.select(0,r.getChildrenSize())).insertNodes(t)}getShape(){const{anchorCell:t,focusCell:r}=sle(this),n=ole(t);n===null&&Oa(153);const i=ole(r);i===null&&Oa(155);const a=Math.min(n.columnIndex,i.columnIndex),s=Math.max(n.columnIndex+n.colSpan-1,i.columnIndex+i.colSpan-1),o=Math.min(n.rowIndex,i.rowIndex),l=Math.max(n.rowIndex+n.rowSpan-1,i.rowIndex+i.rowSpan-1);return{fromX:Math.min(a,s),fromY:Math.min(o,l),toX:Math.max(a,s),toY:Math.max(o,l)}}getNodes(){if(!this.isValid())return[];const t=this._cachedNodes;if(t!==null)return t;const{anchorTable:r,anchorCell:n,focusCell:i}=sle(this),a=i.getParents()[1];if(a!==r){if(r.isParentOf(i)){const x=a.getParent();x==null&&Oa(159),this.set(this.tableKey,i.getKey(),x.getKey())}else{const x=r.getParent();x==null&&Oa(158),this.set(this.tableKey,x.getKey(),i.getKey())}return this.getNodes()}const[s,o,l]=Gg(r,n,i),{minColumn:u,maxColumn:f,minRow:h,maxRow:p}=B7(s,o,l),m=new Map([[r.getKey(),r]]);let v=null;for(let x=h;x<=p;x++)for(let T=u;T<=f;T++){const{cell:A}=s[x][T],P=A.getParent();Ju(P)||Oa(160),P!==v&&(m.set(P.getKey(),P),v=P),m.has(A.getKey())||Ret(A,S=>{m.set(S.getKey(),S)})}const w=Array.from(m.values());return FS()||(this._cachedNodes=w),w}getTextContent(){const t=this.getNodes().filter(n=>Na(n));let r="";for(let n=0;n<t.length;n++){const i=t[n],a=i.__parent,s=(t[n+1]||{}).__parent;r+=i.getTextContent()+(s!==a?`
`:"	")}return r}};function dl(e){return e instanceof U_e}function H_e(){const e=bp("root",0,"element"),t=bp("root",0,"element");return new U_e("root",e,t)}function Tet(e,t,r){e.getKey(),t.getKey(),r.getKey();const n=ln(),i=dl(n)?n.clone():H_e();return i.set(e.getKey(),t.getKey(),r.getKey()),i}function Ret(e,t){const r=[[e]];for(let n=r.at(-1);n!==void 0&&r.length>0;n=r.at(-1)){const i=n.pop();i===void 0?r.pop():t(i)!==!1&&qr(i)&&r.push(i.getChildren())}}function W_e(e,t=$W()){const r=ps(e);uu(r)||Oa(231,e);const n=cw(r,t.getElementByKey(e));return n===null&&Oa(232,e),{tableElement:n,tableNode:r}}let Aet=class{constructor(t,r){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=r,this.editor=t,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(t=>t()),this.listenersToRemove.clear()}$lookup(){return W_e(this.tableNodeKey,this.editor)}trackTable(){const t=new MutationObserver(r=>{this.editor.getEditorState().read(()=>{let n=!1;for(let s=0;s<r.length;s++){const o=r[s].target.nodeName;if(o==="TABLE"||o==="TBODY"||o==="THEAD"||o==="TR"){n=!0;break}}if(!n)return;const{tableNode:i,tableElement:a}=this.$lookup();this.table=KC(i,a)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:r,tableElement:n}=this.$lookup();this.table=KC(r,n),t.observe(n,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const t=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:r,tableElement:n}=this.$lookup();FR(t,KC(r,n),null),ln()!==null&&(Tu(null),t.dispatchCommand(Q0,void 0))}$enableHighlightStyle(){const t=this.editor,{tableElement:r}=this.$lookup();hv(r,t._config.theme.tableSelection),r.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:t}=this.$lookup();Ru(t,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(t){if(t!==null){t.tableKey!==this.tableNodeKey&&Oa(233,t.tableKey,this.tableNodeKey);const r=this.editor;this.tableSelection=t,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),FR(r,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(t){this.nextFocus=t}getAndClearNextFocus(){const{nextFocus:t}=this;return t!==null&&(this.nextFocus=null),t}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){const t=eh(this.editor._window);t&&t.rangeCount>0&&t.removeAllRanges()}}$setFocusCellForSelection(t,r=!1){const n=this.editor,{tableNode:i}=this.$lookup(),a=t.x,s=t.y;if(this.focusCell=t,this.isHighlightingCells||this.anchorX===a&&this.anchorY===s&&!r){if(a===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=a,this.focusY=s,this.isHighlightingCells){const o=U7(i,t.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&o!==null)return this.focusCellNodeKey=o.getKey(),this.tableSelection=Tet(i,this.$getAnchorTableCellOrThrow(),o),Tu(this.tableSelection),n.dispatchCommand(Q0,void 0),FR(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?ps(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const t=this.$getAnchorTableCell();return t===null&&Oa(234),t}$getFocusTableCell(){return this.focusCellNodeKey?ps(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const t=this.$getFocusTableCell();return t===null&&Oa(235),t}$setAnchorCellForSelection(t){this.isHighlightingCells=!1,this.anchorCell=t,this.anchorX=t.x,this.anchorY=t.y;const{tableNode:r}=this.$lookup(),n=U7(r,t.elem);if(n!==null){const i=n.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():H_e(),this.anchorCellNodeKey=i}}$formatCells(t){const r=ln();dl(r)||Oa(236);const n=ak(),i=n.anchor,a=n.focus,s=r.getNodes().filter(Na);s.length>0||Oa(237);const o=s[0].getFirstChild(),l=Hw(o)?o.getFormatFlags(t,null):null;s.forEach(u=>{i.set(u.getKey(),0,"element"),a.set(u.getKey(),u.getChildrenSize(),"element"),n.formatText(t,l)}),Tu(r),this.editor.dispatchCommand(Q0,void 0)}$clearText(){const{editor:t}=this,r=ps(this.tableNodeKey);if(!uu(r))throw new Error("Expected TableNode.");const n=ln();dl(n)||Oa(253);const i=n.getNodes().filter(Na);if(i.length===this.table.columns*this.table.rows){r.selectPrevious();const a=r.getParent();return r.remove(),void(Gf(a)&&a.isEmpty()&&t.dispatchCommand(bb,void 0))}i.forEach(a=>{if(qr(a)){const s=as(),o=js();s.append(o),a.append(s),a.getChildren().forEach(l=>{l!==s&&l.remove()})}}),FR(t,this.table,null),Tu(null),t.dispatchCommand(Q0,void 0)}};const j7="__lexicalTableSelection",Oet=e=>!(1&~e.buttons);function cw(e,t){if(!t)return t;const r=t.nodeName==="TABLE"?t:e.getDOMSlot(t).element;return r.nodeName!=="TABLE"&&Oa(245,t.nodeName),r}function tV(e){return e._window}function GC(e,t){for(let r=t,n=null;r!==null;r=r.getParent()){if(e.is(r))return n;Na(r)&&(n=r)}return null}const Iet=[[wb,"down"],[ny,"up"],[qP,"backward"],[rk,"forward"]],Met=[iw,_b,Xm],ket=[MS,DS];function Det(e,t,r,n){const i=r.getRootElement(),a=tV(r);i!==null&&a!==null||Oa(246);const s=new Aet(r,e.getKey()),o=cw(e,t);(function(f,h){lle(f)!==null&&Oa(205),f[j7]=h})(o,s),s.listenersToRemove.add(()=>function(f,h){lle(f)===h&&delete f[j7]}(o,s)),o.addEventListener("mousedown",f=>{if(f.button!==0||!a0(f.target)||!a)return;const h=Vz(f.target);h!==null&&r.update(()=>{const p=c0();if(wet&&f.shiftKey&&Rv(p,e)&&(Vr(p)||dl(p))){const m=p.anchor.getNode(),v=GC(e,p.anchor.getNode());v?(s.$setAnchorCellForSelection(ZC(s,v)),s.$setFocusCellForSelection(h),Wy(f)):(e.isBefore(m)?e.selectStart():e.selectEnd()).anchor.set(p.anchor.key,p.anchor.offset,p.anchor.type)}else s.$setAnchorCellForSelection(h)}),(()=>{if(s.isSelecting)return;const p=()=>{s.isSelecting=!1,a.removeEventListener("mouseup",p),a.removeEventListener("mousemove",m)},m=v=>{if(!a0(v.target))return;if(!Oet(v)&&s.isSelecting)return s.isSelecting=!1,a.removeEventListener("mouseup",p),void a.removeEventListener("mousemove",m);const w=!o.contains(v.target);let x=null;if(w){for(const T of document.elementsFromPoint(v.clientX,v.clientY))if(x=o.contains(T)?Vz(T):null,x)break}else x=Vz(v.target);!x||s.focusCell!==null&&x.elem===s.focusCell.elem||(s.setNextFocus({focusCell:x,override:w}),r.dispatchCommand(Q0,void 0))};s.isSelecting=!0,a.addEventListener("mouseup",p,s.listenerOptions),a.addEventListener("mousemove",m,s.listenerOptions)})()},s.listenerOptions),a.addEventListener("mousedown",f=>{const h=f.target;f.button===0&&a0(h)&&r.update(()=>{const p=ln();dl(p)&&p.tableKey===s.tableNodeKey&&i.contains(h)&&s.$clearHighlight()})},s.listenerOptions);for(const[f,h]of Iet)s.listenersToRemove.add(r.registerCommand(f,p=>K_e(r,p,h,e,s),Nz));s.listenersToRemove.add(r.registerCommand(kS,f=>{const h=ln();if(dl(h)){const p=GC(e,h.focus.getNode());if(p!==null)return Wy(f),p.selectEnd(),!0}return!1},Nz));const l=f=>()=>{const h=ln();if(!Rv(h,e))return!1;if(dl(h))return s.$clearText(),!0;if(Vr(h)){if(!Na(GC(e,h.anchor.getNode())))return!1;const p=h.anchor.getNode(),m=h.focus.getNode(),v=e.isParentOf(p),w=e.isParentOf(m);if(v&&!w||w&&!v)return s.$clearText(),!0;const x=Bo(h.anchor.getNode(),A=>qr(A)),T=x&&Bo(x,A=>qr(A)&&Na(A.getParent()));if(!qr(T)||!qr(x))return!1;if(f===_b&&T.getPreviousSibling()===null)return!0}return!1};for(const f of Met)s.listenersToRemove.add(r.registerCommand(f,l(f),Xp));const u=f=>{const h=ln();if(!dl(h)&&!Vr(h))return!1;const p=e.isParentOf(h.anchor.getNode());if(p!==e.isParentOf(h.focus.getNode())){const m=p?"anchor":"focus",v=p?"focus":"anchor",{key:w,offset:x,type:T}=h[v];return e[h[m].isBefore(h[v])?"selectPrevious":"selectNext"]()[v].set(w,x,T),!1}return!!Rv(h,e)&&!!dl(h)&&(f&&(f.preventDefault(),f.stopPropagation()),s.$clearText(),!0)};for(const f of ket)s.listenersToRemove.add(r.registerCommand(f,u,Xp));return s.listenersToRemove.add(r.registerCommand(WP,f=>{const h=ln();if(h){if(!dl(h)&&!Vr(h))return!1;D7(r,Bv(f,ClipboardEvent)?f:null,L_e(h));const p=u(f);return Vr(h)?(h.removeText(),!0):p}return!1},Xp)),s.listenersToRemove.add(r.registerCommand(Jy,f=>{const h=ln();if(!Rv(h,e))return!1;if(dl(h))return s.$formatCells(f),!0;if(Vr(h)){const p=Bo(h.anchor.getNode(),m=>Na(m));if(!Na(p))return!1}return!1},Xp)),s.listenersToRemove.add(r.registerCommand(wW,f=>{const h=ln();if(!dl(h)||!Rv(h,e))return!1;const p=h.anchor.getNode(),m=h.focus.getNode();if(!Na(p)||!Na(m))return!1;if(function(_,R){if(dl(_)){const O=_.anchor.getNode(),F=_.focus.getNode();if(R&&O&&F){const[$]=Gg(R,O,F);return O.getKey()===$[0][0].cell.getKey()&&F.getKey()===$[$.length-1].at(-1).cell.getKey()}}return!1}(h,e))return e.setFormat(f),!0;const[v,w,x]=Gg(e,p,m),T=Math.max(w.startRow+w.cell.__rowSpan-1,x.startRow+x.cell.__rowSpan-1),A=Math.max(w.startColumn+w.cell.__colSpan-1,x.startColumn+x.cell.__colSpan-1),P=Math.min(w.startRow,x.startRow),S=Math.min(w.startColumn,x.startColumn),E=new Set;for(let _=P;_<=T;_++)for(let R=S;R<=A;R++){const O=v[_][R].cell;if(E.has(O))continue;E.add(O),O.setFormat(f);const F=O.getChildren();for(let $=0;$<F.length;$++){const z=F[$];qr(z)&&!z.isInline()&&z.setFormat(f)}}return!0},Xp)),s.listenersToRemove.add(r.registerCommand(ub,f=>{const h=ln();if(!Rv(h,e))return!1;if(dl(h))return s.$clearHighlight(),!1;if(Vr(h)){const p=Bo(h.anchor.getNode(),m=>Na(m));if(!Na(p))return!1;if(typeof f=="string"){const m=fle(r,h,e);if(m)return cle(m,e,[js(f)]),!0}}return!1},Xp)),n&&s.listenersToRemove.add(r.registerCommand(Uw,f=>{const h=ln();if(!Vr(h)||!h.isCollapsed()||!Rv(h,e))return!1;const p=$R(h.anchor.getNode());return!(p===null||!e.is(Tx(p)))&&(Wy(f),function(m,v){const w=v==="next"?"getNextSibling":"getPreviousSibling",x=v==="next"?"getFirstChild":"getLastChild",T=m[w]();if(qr(T))return T.selectEnd();const A=Bo(m,Ju);A===null&&Oa(247);for(let S=A[w]();Ju(S);S=S[w]()){const E=S[x]();if(qr(E))return E.selectEnd()}const P=Bo(A,uu);P===null&&Oa(248),v==="next"?P.selectNext():P.selectPrevious()}(p,f.shiftKey?"previous":"next"),!0)},Xp)),s.listenersToRemove.add(r.registerCommand(Pbe,f=>e.isSelected(),Nz)),s.listenersToRemove.add(r.registerCommand(gW,f=>{const{nodes:h,selection:p}=f,m=p.getStartEndPoints(),v=dl(p),w=Vr(p)&&Bo(p.anchor.getNode(),pe=>Na(pe))!==null&&Bo(p.focus.getNode(),pe=>Na(pe))!==null||v;if(h.length!==1||!uu(h[0])||!w||m===null)return!1;const[x]=m,T=h[0],A=T.getChildren(),P=T.getFirstChildOrThrow().getChildrenSize(),S=T.getChildrenSize(),E=Bo(x.getNode(),pe=>Na(pe)),_=E&&Bo(E,pe=>Ju(pe)),R=_&&Bo(_,pe=>uu(pe));if(!Na(E)||!Ju(_)||!uu(R))return!1;const O=_.getIndexWithinParent(),F=Math.min(R.getChildrenSize()-1,O+S-1),$=E.getIndexWithinParent(),z=Math.min(_.getChildrenSize()-1,$+P-1),q=Math.min($,z),Z=Math.min(O,F),V=Math.max($,z),J=Math.max(O,F),fe=R.getChildren();let ue=0;for(let pe=Z;pe<=J;pe++){const ve=fe[pe];if(!Ju(ve))return!1;const le=A[ue];if(!Ju(le))return!1;const se=ve.getChildren(),ge=le.getChildren();let _e=0;for(let ke=q;ke<=V;ke++){const Ge=se[ke];if(!Na(Ge))return!1;const ct=ge[_e];if(!Na(ct))return!1;const $e=Ge.getChildren();ct.getChildren().forEach(we=>{Rn(we)&&as().append(we),Ge.append(we)}),$e.forEach(we=>we.remove()),_e++}ue++}return!0},Xp)),s.listenersToRemove.add(r.registerCommand(Q0,()=>{const f=ln(),h=c0(),p=s.getAndClearNextFocus();if(p!==null){const{focusCell:m}=p;if(dl(f)&&f.tableKey===s.tableNodeKey)return(m.x!==s.focusX||m.y!==s.focusY)&&(s.$setFocusCellForSelection(m),!0);if(m!==s.anchorCell&&Rv(f,e))return s.$setFocusCellForSelection(m),!0}if(s.getAndClearShouldCheckSelection()&&Vr(h)&&Vr(f)&&f.isCollapsed()){const m=f.anchor.getNode(),v=e.getFirstChild(),w=$R(m);if(w!==null&&Ju(v)){const x=v.getFirstChild();if(Na(x)&&e.is(Bo(w,T=>T.is(e)||T.is(x))))return x.selectStart(),!0}}if(Vr(f)){const{anchor:m,focus:v}=f,w=m.getNode(),x=v.getNode(),T=$R(w),A=$R(x),P=!(!T||!e.is(Tx(T))),S=!(!A||!e.is(Tx(A))),E=P!==S,_=P&&S,R=f.isBackward();if(E){const O=f.clone();if(S){const[F]=Gg(e,A,A),$=F[0][0].cell,z=F[F.length-1].at(-1).cell;O.focus.set(R?$.getKey():z.getKey(),R?$.getChildrenSize():z.getChildrenSize(),"element")}else if(P){const[F]=Gg(e,T,T),$=F[0][0].cell,z=F[F.length-1].at(-1).cell;O.anchor.set(R?z.getKey():$.getKey(),R?z.getChildrenSize():0,"element")}Tu(O),ule(r,s)}else _&&(T.is(A)||(s.$setAnchorCellForSelection(ZC(s,T)),s.$setFocusCellForSelection(ZC(s,A),!0)))}else if(f&&dl(f)&&f.is(h)&&f.tableKey===e.getKey()){const m=eh(a);if(m&&m.anchorNode&&m.focusNode){const v=Qd(m.focusNode),w=v&&!e.isParentOf(v),x=Qd(m.anchorNode),T=x&&e.isParentOf(x);if(w&&T&&m.rangeCount>0){const A=eJe(m,r);A&&(A.anchor.set(e.getKey(),f.isBackward()?e.getChildrenSize():0,"element"),m.removeAllRanges(),Tu(A))}}}return f&&!f.is(h)&&(dl(f)||dl(h))&&s.tableSelection&&!s.tableSelection.is(h)?(dl(f)&&f.tableKey===s.tableNodeKey?s.$updateTableTableSelection(f):!dl(f)&&dl(h)&&h.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!e.isSelected()?function(m,v){v.$enableHighlightStyle(),rV(v.table,w=>{const x=w.elem;w.highlighted=!1,G_e(m,w),x.getAttribute("style")||x.removeAttribute("style")})}(r,s):!s.hasHijackedSelectionStyles&&e.isSelected()&&ule(r,s),!1)},Xp)),s.listenersToRemove.add(r.registerCommand(bb,()=>{const f=ln();if(!Vr(f)||!f.isCollapsed()||!Rv(f,e))return!1;const h=fle(r,f,e);return!!h&&(cle(h,e),!0)},Xp)),s}function lle(e){return e[j7]||null}function Vz(e){let t=e;for(;t!=null;){const r=t.nodeName;if(r==="TD"||r==="TH"){const n=t._cell;return n===void 0?null:n}t=t.parentNode}return null}function KC(e,t){const r=[],n={columns:0,domRows:r,rows:0};let i=cw(e,t).querySelector("tr"),a=0,s=0;for(r.length=0;i!=null;){const o=i.nodeName;if(o==="TD"||o==="TH"){const f={elem:i,hasBackgroundColor:i.style.backgroundColor!=="",highlighted:!1,x:a,y:s};i._cell=f;let h=r[s];h===void 0&&(h=r[s]=[]),h[a]=f}else{const f=i.firstChild;if(f!=null){i=f;continue}}const l=i.nextSibling;if(l!=null){a++,i=l;continue}const u=i.parentNode;if(u!=null){const f=u.nextSibling;if(f==null)break;s++,a=0,i=f}}return n.columns=a+1,n.rows=s+1,n}function FR(e,t,r){const n=new Set(r?r.getNodes():[]);rV(t,(i,a)=>{const s=i.elem;n.has(a)?(i.highlighted=!0,V_e(e,i)):(i.highlighted=!1,G_e(e,i),s.getAttribute("style")||s.removeAttribute("style"))})}function rV(e,t){const{domRows:r}=e;for(let n=0;n<r.length;n++){const i=r[n];if(i)for(let a=0;a<i.length;a++){const s=i[a];if(!s)continue;const o=Qd(s.elem);o!==null&&t(s,o,{x:a,y:n})}}}function ule(e,t){t.$disableHighlightStyle(),rV(t.table,r=>{r.highlighted=!0,V_e(e,r)})}const Fet=(e,t,r,n,i)=>{const a=i==="forward";switch(i){case"backward":case"forward":return r!==(a?e.table.columns-1:0)?NR(t.getCellNodeFromCordsOrThrow(r+(a?1:-1),n,e.table),a):n!==(a?e.table.rows-1:0)?NR(t.getCellNodeFromCordsOrThrow(a?0:e.table.columns-1,n+(a?1:-1),e.table),a):a?t.selectNext():t.selectPrevious(),!0;case"up":return n!==0?NR(t.getCellNodeFromCordsOrThrow(r,n-1,e.table),!1):t.selectPrevious(),!0;case"down":return n!==e.table.rows-1?NR(t.getCellNodeFromCordsOrThrow(r,n+1,e.table),!0):t.selectNext(),!0;default:return!1}};function Gz(e,t){let r,n;if(t.startColumn===e.minColumn)r="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;r="maxColumn"}if(t.startRow===e.minRow)n="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;n="maxRow"}return[r,n]}function LR([e,t]){return[e==="minColumn"?"maxColumn":"minColumn",t==="minRow"?"maxRow":"minRow"]}function B1(e,t,[r,n]){const i=t[n],a=e[i];a===void 0&&Oa(250,n,String(i));const s=t[r],o=a[s];return o===void 0&&Oa(250,r,String(s)),o}function Let(e,t,r,n,i){const a=B7(t,r,n),s=function(_,R){const{minColumn:O,maxColumn:F,minRow:$,maxRow:z}=R;let q=1,Z=1,V=1,J=1;const fe=_[$],ue=_[z];for(let pe=O;pe<=F;pe++)q=Math.max(q,fe[pe].cell.__rowSpan),J=Math.max(J,ue[pe].cell.__rowSpan);for(let pe=$;pe<=z;pe++)Z=Math.max(Z,_[pe][O].cell.__colSpan),V=Math.max(V,_[pe][F].cell.__colSpan);return{bottomSpan:J,leftSpan:Z,rightSpan:V,topSpan:q}}(t,a),{topSpan:o,leftSpan:l,bottomSpan:u,rightSpan:f}=s,h=function(_,R){const O=Gz(_,R);return O===null&&Oa(249,R.cell.getKey()),O}(a,r),[p,m]=LR(h);let v=a[p],w=a[m];i==="forward"?v+=p==="maxColumn"?1:l:i==="backward"?v-=p==="minColumn"?1:f:i==="down"?w+=m==="maxRow"?1:o:i==="up"&&(w-=m==="minRow"?1:u);const x=t[w];if(x===void 0)return!1;const T=x[v];if(T===void 0)return!1;const[A,P]=function(_,R,O){const F=B7(_,R,O),$=Gz(F,R);if($)return[B1(_,F,$),B1(_,F,LR($))];const z=Gz(F,O);if(z)return[B1(_,F,LR(z)),B1(_,F,z)];const q=["minColumn","minRow"];return[B1(_,F,q),B1(_,F,LR(q))]}(t,r,T),S=ZC(e,A.cell),E=ZC(e,P.cell);return e.$setAnchorCellForSelection(S),e.$setFocusCellForSelection(E,!0),!0}function Rv(e,t){if(Vr(e)||dl(e)){const r=t.isParentOf(e.anchor.getNode()),n=t.isParentOf(e.focus.getNode());return r&&n}return!1}function NR(e,t){t?e.selectStart():e.selectEnd()}function V_e(e,t){const r=t.elem,n=e._config.theme;Na(Qd(r))||Oa(131),Ru(r,n.tableCellSelected)}function G_e(e,t){const r=t.elem;Na(Qd(r))||Oa(131);const n=e._config.theme;hv(r,n.tableCellSelected)}function $R(e){const t=Bo(e,Na);return Na(t)?t:null}function Tx(e){const t=Bo(e,uu);return uu(t)?t:null}function K_e(e,t,r,n,i){if((r==="up"||r==="down")&&function(s){const o=s.getRootElement();return o?o.hasAttribute("aria-controls")&&o.getAttribute("aria-controls")==="typeahead-menu":!1}(e))return!1;const a=ln();if(!Rv(a,n)){if(Vr(a)){if(r==="backward"){if(a.focus.offset>0)return!1;const s=function(l){for(let u=l,f=l;f!==null;u=f,f=f.getParent())if(qr(f)){if(f!==u&&f.getFirstChild()!==u)return null;if(!f.isInline())return f}return null}(a.focus.getNode());if(!s)return!1;const o=s.getPreviousSibling();return!!uu(o)&&(Wy(t),t.shiftKey?a.focus.set(o.getParentOrThrow().getKey(),o.getIndexWithinParent(),"element"):o.selectEnd(),!0)}if(t.shiftKey&&(r==="up"||r==="down")){const s=a.focus.getNode();if(!a.isCollapsed()&&(r==="up"&&!a.isBackward()||r==="down"&&a.isBackward())){let o=Bo(s,p=>uu(p));if(Na(o)&&(o=Bo(o,uu)),o!==n||!o)return!1;const l=r==="down"?o.getNextSibling():o.getPreviousSibling();if(!l)return!1;let u=0;r==="up"&&qr(l)&&(u=l.getChildrenSize());let f=l;r==="up"&&qr(l)&&(f=l.getLastChild()||l,u=Rn(f)?f.getTextContentSize():0);const h=a.clone();return h.focus.set(f.getKey(),u,Rn(f)?"text":"element"),Tu(h),Wy(t),!0}if(Jd(s)){const o=r==="up"?a.getNodes()[a.getNodes().length-1]:a.getNodes()[0];if(o&&GC(n,o)!==null){const l=n.getFirstDescendant(),u=n.getLastDescendant();if(!l||!u)return!1;const[f]=jv(l),[h]=jv(u),p=n.getCordsFromCellNode(f,i.table),m=n.getCordsFromCellNode(h,i.table),v=n.getDOMCellFromCordsOrThrow(p.x,p.y,i.table),w=n.getDOMCellFromCordsOrThrow(m.x,m.y,i.table);return i.$setAnchorCellForSelection(v),i.$setFocusCellForSelection(w,!0),!0}return!1}{let o=Bo(s,u=>qr(u)&&!u.isInline());if(Na(o)&&(o=Bo(o,uu)),!o)return!1;const l=r==="down"?o.getNextSibling():o.getPreviousSibling();if(uu(l)&&i.tableNodeKey===l.getKey()){const u=l.getFirstDescendant(),f=l.getLastDescendant();if(!u||!f)return!1;const[h]=jv(u),[p]=jv(f),m=a.clone();return m.focus.set((r==="up"?h:p).getKey(),r==="up"?0:p.getChildrenSize(),"element"),Wy(t),Tu(m),!0}}}}return r==="down"&&Z_e(e)&&i.setShouldCheckSelection(),!1}if(Vr(a)&&a.isCollapsed()){const{anchor:s,focus:o}=a,l=Bo(s.getNode(),Na),u=Bo(o.getNode(),Na);if(!Na(l)||!l.is(u))return!1;const f=Tx(l);if(f!==n&&f!=null){const T=cw(f,e.getElementByKey(f.getKey()));if(T!=null)return i.table=KC(f,T),K_e(e,t,r,f,i)}if(r==="backward"||r==="forward"){const T=s.type,A=s.offset,P=s.getNode();if(!P)return!1;const S=a.getNodes();return(S.length!==1||!ws(S[0]))&&!!function(E,_,R,O){return function(F,$,z){return F==="element"&&(z==="backward"?$.getPreviousSibling()===null:$.getNextSibling()===null)}(E,R,O)||function(F,$,z,q){const Z=Bo(z,J=>qr(J)&&!J.isInline());if(!Z)return!1;const V=q==="backward"?$===0:$===z.getTextContentSize();return F==="text"&&V&&(q==="backward"?Z.getPreviousSibling()===null:Z.getNextSibling()===null)}(E,_,R,O)}(T,A,P,r)&&function(E,_,R,O,F){const[$,z]=Gg(O,R,R);if(!function(Z,V,J){const fe=Z[0][0],ue=Z[Z.length-1][Z[0].length-1],{startColumn:pe,startRow:ve}=V;return J==="backward"?pe===fe.startColumn&&ve===fe.startRow:pe===ue.startColumn&&ve===ue.startRow}($,z,F))return!1;const q=function(Z,V,J){const fe=Bo(Z,pe=>qr(pe)&&!pe.isInline());if(!fe)return;const ue=V==="backward"?fe.getPreviousSibling():fe.getNextSibling();return ue&&uu(ue)?ue:V==="backward"?J.getPreviousSibling():J.getNextSibling()}(_,F,O);return!q||uu(q)?!1:(Wy(E),F==="backward"?q.selectEnd():q.selectStart(),!0)}(t,P,l,n,r)}const h=e.getElementByKey(l.__key),p=e.getElementByKey(s.key);if(p==null||h==null)return!1;let m;if(s.type==="element")m=p.getBoundingClientRect();else{const T=eh(tV(e));if(T===null||T.rangeCount===0)return!1;m=T.getRangeAt(0).getBoundingClientRect()}const v=r==="up"?l.getFirstChild():l.getLastChild();if(v==null)return!1;const w=e.getElementByKey(v.__key);if(w==null)return!1;const x=w.getBoundingClientRect();if(r==="up"?x.top>m.top-m.height:m.bottom+m.height>x.bottom){Wy(t);const T=n.getCordsFromCellNode(l,i.table);if(!t.shiftKey)return Fet(i,n,T.x,T.y,r);{const A=n.getDOMCellFromCordsOrThrow(T.x,T.y,i.table);i.$setAnchorCellForSelection(A),i.$setFocusCellForSelection(A,!0)}return!0}}else if(dl(a)){const{anchor:s,focus:o}=a,l=Bo(s.getNode(),Na),u=Bo(o.getNode(),Na),[f]=a.getNodes();uu(f)||Oa(251);const h=cw(f,e.getElementByKey(f.getKey()));if(!Na(l)||!Na(u)||!uu(f)||h==null)return!1;i.$updateTableTableSelection(a);const p=KC(f,h),m=n.getCordsFromCellNode(l,p),v=n.getDOMCellFromCordsOrThrow(m.x,m.y,p);if(i.$setAnchorCellForSelection(v),Wy(t),t.shiftKey){const[w,x,T]=Gg(n,l,u);return Let(i,w,x,T,r)}return u.selectEnd(),!0}return!1}function Wy(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function cle(e,t,r){const n=as();e==="first"?t.insertBefore(n):t.insertAfter(n),n.append(...r||[]),n.selectEnd()}function fle(e,t,r){const n=r.getParent();if(!n)return;const i=eh(tV(e));if(!i)return;const a=i.anchorNode,s=e.getElementByKey(n.getKey()),o=cw(r,e.getElementByKey(r.getKey()));if(!a||!s||!o||!s.contains(a)||o.contains(a))return;const l=Bo(t.anchor.getNode(),A=>Na(A));if(!l)return;const u=Bo(l,A=>uu(A));if(!uu(u)||!u.is(r))return;const[f,h]=Gg(r,l,l),p=f[0][0],m=f[f.length-1][f[0].length-1],{startRow:v,startColumn:w}=h,x=v===p.startRow&&w===p.startColumn,T=v===m.startRow&&w===m.startColumn;return x?"first":T?"last":void 0}function ZC(e,t){const{tableNode:r}=e.$lookup(),n=r.getCordsFromCellNode(t,e.table);return r.getDOMCellFromCordsOrThrow(n.x,n.y,e.table)}function U7(e,t,r){return GC(e,Qd(t,r))}function dle(e,t,r,n){const i=e.querySelector("colgroup");if(!i)return;const a=[];for(let s=0;s<r;s++){const o=document.createElement("col"),l=n&&n[s];l&&(o.style.width=`${l}px`),a.push(o)}i.replaceChildren(...a)}function hle(e,t,r){r?(Ru(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(hv(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}function ple(e,t,r){r>0?(Ru(e,t.theme.tableFrozenColumn),e.setAttribute("data-lexical-frozen-column","true")):(hv(e,t.theme.tableFrozenColumn),e.removeAttribute("data-lexical-frozen-column"))}function mle(e,t,r){r>0?(Ru(e,t.theme.tableFrozenRow),e.setAttribute("data-lexical-frozen-row","true")):(hv(e,t.theme.tableFrozenRow),e.removeAttribute("data-lexical-frozen-row"))}function Kz(e,t,r){if(!t.theme.tableAlignment)return;const n=[],i=[];for(const a of["center","right"]){const s=t.theme.tableAlignment[a];s&&(a===r?i:n).push(s)}hv(e,...n),Ru(e,...i)}const q7=new WeakSet;function Z_e(e=$W()){return q7.has(e)}function Net(e,t){t?q7.add(e):q7.delete(e)}let $2=class Y_e extends Vh{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(t){const r=this.getWritable();return r.__colWidths=t,r}static clone(t){return new Y_e(t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__colWidths=t.__colWidths,this.__rowStriping=t.__rowStriping,this.__frozenColumnCount=t.__frozenColumnCount,this.__frozenRowCount=t.__frozenRowCount}static importDOM(){return{table:t=>({conversion:$et,priority:1})}}static importJSON(t){return nV().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setRowStriping(t.rowStriping||!1).setFrozenColumns(t.frozenColumnCount||0).setFrozenRows(t.frozenRowCount||0).setColWidths(t.colWidths)}constructor(t){super(t),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(t,r,n){return n==="html"}getDOMSlot(t){const r=t.nodeName!=="TABLE"&&t.querySelector("table")||t;return r.nodeName!=="TABLE"&&Oa(229),super.getDOMSlot(r).withAfter(r.querySelector("colgroup"))}createDOM(t,r){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const i=document.createElement("colgroup");if(n.appendChild(i),dle(n,0,this.getColumnCount(),this.getColWidths()),yJe(i),Ru(n,t.theme.table),Kz(n,t,this.getFormatType()),this.__frozenColumnCount&&ple(n,t,this.__frozenColumnCount),this.__frozenRowCount&&mle(n,t,this.__frozenRowCount),this.__rowStriping&&hle(n,t,!0),Z_e(r)){const a=document.createElement("div"),s=t.theme.tableScrollableWrapper;return s?Ru(a,s):a.style.cssText="overflow-x: auto;",a.appendChild(n),a}return n}updateDOM(t,r,n){t.__rowStriping!==this.__rowStriping&&hle(r,n,this.__rowStriping),t.__frozenColumnCount!==this.__frozenColumnCount&&ple(r,n,this.__frozenColumnCount),t.__frozenRowCount!==this.__frozenRowCount&&mle(r,n,this.__frozenRowCount),dle(r,0,this.getColumnCount(),this.getColWidths());const i=this.getDOMSlot(r).element;return t.__style!==this.__style&&(i.style.cssText=this.__style),Kz(i,n,this.getFormatType()),!1}exportDOM(t){const r=super.exportDOM(t),{element:n}=r;return{after:i=>{if(r.after&&(i=r.after(i),this.__format&&Kz(i,t._config,this.getFormatType())),Pl(i)&&i.nodeName!=="TABLE"&&(i=i.querySelector("table")),!Pl(i))return null;const[a]=eV(this,null,null),s=new Map;for(const f of a)for(const h of f){const p=h.cell.getKey();s.has(p)||s.set(p,{colSpan:h.cell.getColSpan(),startColumn:h.startColumn})}const o=new Set;for(const f of i.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const h=f.getAttribute("data-temporary-table-cell-lexical-key");if(h){const p=s.get(h);if(f.removeAttribute("data-temporary-table-cell-lexical-key"),p){s.delete(h);for(let m=0;m<p.colSpan;m++)o.add(m+p.startColumn)}}}const l=i.querySelector(":scope > colgroup");if(l){const f=Array.from(i.querySelectorAll(":scope > colgroup > col")).filter((h,p)=>o.has(p));l.replaceChildren(...f)}const u=i.querySelectorAll(":scope > tr");if(u.length>0){const f=document.createElement("tbody");for(const h of u)f.appendChild(h);i.append(f)}return i},element:Pl(n)&&n.nodeName!=="TABLE"?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(t,r){const{rows:n,domRows:i}=r;for(let a=0;a<n;a++){const s=i[a];if(s!=null)for(let o=0;o<s.length;o++){const l=s[o];if(l==null)continue;const{elem:u}=l,f=U7(this,u);if(f!==null&&t.is(f))return{x:o,y:a}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(t,r,n){const{domRows:i}=n,a=i[r];if(a==null)return null;const s=a[t<a.length?t:a.length-1];return s??null}getDOMCellFromCordsOrThrow(t,r,n){const i=this.getDOMCellFromCords(t,r,n);if(!i)throw new Error("Cell not found at cords.");return i}getCellNodeFromCords(t,r,n){const i=this.getDOMCellFromCords(t,r,n);if(i==null)return null;const a=Qd(i.elem);return Na(a)?a:null}getCellNodeFromCordsOrThrow(t,r,n){const i=this.getCellNodeFromCords(t,r,n);if(!i)throw new Error("Node at cords not TableCellNode.");return i}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(t){const r=this.getWritable();return r.__rowStriping=t,r}setFrozenColumns(t){const r=this.getWritable();return r.__frozenColumnCount=t,r}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(t){const r=this.getWritable();return r.__frozenRowCount=t,r}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const t=this.getFirstChild();if(!t)return 0;let r=0;return t.getChildren().forEach(n=>{Na(n)&&(r+=n.getColSpan())}),r}};function $et(e){const t=nV();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0);const r=e.querySelector(":scope > colgroup");if(r){let n=[];for(const i of r.querySelectorAll(":scope > col")){let a=i.style.width||"";if(!XW.test(a)&&(a=i.getAttribute("width")||"",!/^\d+$/.test(a))){n=void 0;break}n.push(parseFloat(a))}n&&t.setColWidths(n)}return{after:n=>v_e(n,Ju),node:t}}function nV(){return td(new $2)}function uu(e){return e instanceof $2}function zet({rows:e,columns:t,includeHeaders:r}){const n=ln();if(!n||!Vr(n)||Tx(n.anchor.getNode()))return!1;const i=xet(Number(e),Number(t),r);p_e(i);const a=i.getFirstDescendant();return Rn(a)&&a.select(),!0}function Bet(e){Ju(e.getParent())?e.isEmpty()&&e.append(as()):e.remove()}function jet(e){uu(e.getParent())?m_e(e,Na):e.remove()}function Uet(e){m_e(e,Ju);const[t]=eV(e,null,null),r=t.reduce((i,a)=>Math.max(i,a.length),0),n=e.getChildren();for(let i=0;i<t.length;++i){const a=n[i];if(!a)continue;Ju(a)||Oa(254,a.constructor.name,a.getType());const s=t[i].reduce((o,l)=>l?1+o:o,0);if(s!==r)for(let o=s;o<r;++o){const l=xb();l.append(as()),a.append(l)}}}function qet(e){return e.registerNodeTransform(jS,t=>{if(t.getColSpan()>1||t.getRowSpan()>1){const[,,r]=jv(t),[n]=Gg(r,t,t),i=n.length,a=n[0].length;let s=r.getFirstChild();Ju(s)||Oa(175);const o=[];for(let l=0;l<i;l++){l!==0&&(s=s.getNextSibling(),Ju(s)||Oa(175));let u=null;for(let f=0;f<a;f++){const h=n[l][f],p=h.cell;if(h.startRow===l&&h.startColumn===f)u=p,o.push(p);else if(p.getColSpan()>1||p.getRowSpan()>1){Na(p)||Oa(176);const m=xb(p.__headerState);u!==null?u.insertAfter(m):sQe(s,m)}}}for(const l of o)l.setColSpan(1),l.setRowSpan(1)}})}function Het(e,t=!0){const r=new Map,n=(a,s,o)=>{const l=cw(a,o),u=Det(a,l,e,t);r.set(s,[u,l])},i=e.registerMutationListener($2,a=>{e.getEditorState().read(()=>{for(const[s,o]of a){const l=r.get(s);if(o==="created"||o==="updated"){const{tableNode:u,tableElement:f}=W_e(s);l===void 0?n(u,s,f):f!==l[1]&&(l[0].removeListeners(),r.delete(s),n(u,s,f))}else o==="destroyed"&&l!==void 0&&(l[0].removeListeners(),r.delete(s))}},{editor:e})},{skipInitialization:!1});return()=>{i();for(const[,[a]]of r)a.removeListeners()}}function Wet(e){return e.hasNodes([$2])||Oa(255),fu(e.registerCommand(vet,zet,ia),e.registerCommand(gW,({nodes:t,selection:r})=>Vr(r)?Tx(r.anchor.getNode())!==null&&t.some(uu):!1,ia),e.registerNodeTransform($2,Uet),e.registerNodeTransform(JW,jet),e.registerNodeTransform(jS,Bet))}function qxt({hasCellMerge:e=!0,hasCellBackgroundColor:t=!0,hasTabHandler:r=!0,hasHorizontalScroll:n=!1}){const[i]=Xs();return ne.useEffect(()=>{Net(i,n)},[i,n]),ne.useEffect(()=>Wet(i),[i]),ne.useEffect(()=>Het(i,r),[i,r]),ne.useEffect(()=>{if(!e)return qet(i)},[i,e]),ne.useEffect(()=>{if(!t)return i.registerNodeTransform(jS,a=>{a.getBackgroundColor()!==null&&a.setBackgroundColor(null)})},[i,t,e]),null}var Zz={exports:{}},gle;function Vet(){return gle||(gle=1,function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,s={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function A(P){return P instanceof l?new l(P.type,A(P.content),P.alias):Array.isArray(P)?P.map(A):P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(A){return Object.prototype.toString.call(A).slice(8,-1)},objId:function(A){return A.__id||Object.defineProperty(A,"__id",{value:++a}),A.__id},clone:function A(P,S){S=S||{};var E,_;switch(o.util.type(P)){case"Object":if(_=o.util.objId(P),S[_])return S[_];E={},S[_]=E;for(var R in P)P.hasOwnProperty(R)&&(E[R]=A(P[R],S));return E;case"Array":return _=o.util.objId(P),S[_]?S[_]:(E=[],S[_]=E,P.forEach(function(O,F){E[F]=A(O,S)}),E);default:return P}},getLanguage:function(A){for(;A;){var P=i.exec(A.className);if(P)return P[1].toLowerCase();A=A.parentElement}return"none"},setLanguage:function(A,P){A.className=A.className.replace(RegExp(i,"gi"),""),A.classList.add("language-"+P)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(E){var A=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(E.stack)||[])[1];if(A){var P=document.getElementsByTagName("script");for(var S in P)if(P[S].src==A)return P[S]}return null}},isActive:function(A,P,S){for(var E="no-"+P;A;){var _=A.classList;if(_.contains(P))return!0;if(_.contains(E))return!1;A=A.parentElement}return!!S}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(A,P){var S=o.util.clone(o.languages[A]);for(var E in P)S[E]=P[E];return S},insertBefore:function(A,P,S,E){E=E||o.languages;var _=E[A],R={};for(var O in _)if(_.hasOwnProperty(O)){if(O==P)for(var F in S)S.hasOwnProperty(F)&&(R[F]=S[F]);S.hasOwnProperty(O)||(R[O]=_[O])}var $=E[A];return E[A]=R,o.languages.DFS(o.languages,function(z,q){q===$&&z!=A&&(this[z]=R)}),R},DFS:function A(P,S,E,_){_=_||{};var R=o.util.objId;for(var O in P)if(P.hasOwnProperty(O)){S.call(P,O,P[O],E||O);var F=P[O],$=o.util.type(F);$==="Object"&&!_[R(F)]?(_[R(F)]=!0,A(F,S,null,_)):$==="Array"&&!_[R(F)]&&(_[R(F)]=!0,A(F,S,O,_))}}},plugins:{},highlightAll:function(A,P){o.highlightAllUnder(document,A,P)},highlightAllUnder:function(A,P,S){var E={callback:S,container:A,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",E),E.elements=Array.prototype.slice.apply(E.container.querySelectorAll(E.selector)),o.hooks.run("before-all-elements-highlight",E);for(var _=0,R;R=E.elements[_++];)o.highlightElement(R,P===!0,E.callback)},highlightElement:function(A,P,S){var E=o.util.getLanguage(A),_=o.languages[E];o.util.setLanguage(A,E);var R=A.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(R,E);var O=A.textContent,F={element:A,language:E,grammar:_,code:O};function $(q){F.highlightedCode=q,o.hooks.run("before-insert",F),F.element.innerHTML=F.highlightedCode,o.hooks.run("after-highlight",F),o.hooks.run("complete",F),S&&S.call(F.element)}if(o.hooks.run("before-sanity-check",F),R=F.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!F.code){o.hooks.run("complete",F),S&&S.call(F.element);return}if(o.hooks.run("before-highlight",F),!F.grammar){$(o.util.encode(F.code));return}if(P&&n.Worker){var z=new Worker(o.filename);z.onmessage=function(q){$(q.data)},z.postMessage(JSON.stringify({language:F.language,code:F.code,immediateClose:!0}))}else $(o.highlight(F.code,F.grammar,F.language))},highlight:function(A,P,S){var E={code:A,grammar:P,language:S};if(o.hooks.run("before-tokenize",E),!E.grammar)throw new Error('The language "'+E.language+'" has no grammar.');return E.tokens=o.tokenize(E.code,E.grammar),o.hooks.run("after-tokenize",E),l.stringify(o.util.encode(E.tokens),E.language)},tokenize:function(A,P){var S=P.rest;if(S){for(var E in S)P[E]=S[E];delete P.rest}var _=new h;return p(_,_.head,A),f(A,_,P,_.head,0),v(_)},hooks:{all:{},add:function(A,P){var S=o.hooks.all;S[A]=S[A]||[],S[A].push(P)},run:function(A,P){var S=o.hooks.all[A];if(!(!S||!S.length))for(var E=0,_;_=S[E++];)_(P)}},Token:l};n.Prism=o;function l(A,P,S,E){this.type=A,this.content=P,this.alias=S,this.length=(E||"").length|0}l.stringify=function A(P,S){if(typeof P=="string")return P;if(Array.isArray(P)){var E="";return P.forEach(function($){E+=A($,S)}),E}var _={type:P.type,content:A(P.content,S),tag:"span",classes:["token",P.type],attributes:{},language:S},R=P.alias;R&&(Array.isArray(R)?Array.prototype.push.apply(_.classes,R):_.classes.push(R)),o.hooks.run("wrap",_);var O="";for(var F in _.attributes)O+=" "+F+'="'+(_.attributes[F]||"").replace(/"/g,"&quot;")+'"';return"<"+_.tag+' class="'+_.classes.join(" ")+'"'+O+">"+_.content+"</"+_.tag+">"};function u(A,P,S,E){A.lastIndex=P;var _=A.exec(S);if(_&&E&&_[1]){var R=_[1].length;_.index+=R,_[0]=_[0].slice(R)}return _}function f(A,P,S,E,_,R){for(var O in S)if(!(!S.hasOwnProperty(O)||!S[O])){var F=S[O];F=Array.isArray(F)?F:[F];for(var $=0;$<F.length;++$){if(R&&R.cause==O+","+$)return;var z=F[$],q=z.inside,Z=!!z.lookbehind,V=!!z.greedy,J=z.alias;if(V&&!z.pattern.global){var fe=z.pattern.toString().match(/[imsuy]*$/)[0];z.pattern=RegExp(z.pattern.source,fe+"g")}for(var ue=z.pattern||z,pe=E.next,ve=_;pe!==P.tail&&!(R&&ve>=R.reach);ve+=pe.value.length,pe=pe.next){var le=pe.value;if(P.length>A.length)return;if(!(le instanceof l)){var se=1,ge;if(V){if(ge=u(ue,ve,A,Z),!ge||ge.index>=A.length)break;var ct=ge.index,_e=ge.index+ge[0].length,ke=ve;for(ke+=pe.value.length;ct>=ke;)pe=pe.next,ke+=pe.value.length;if(ke-=pe.value.length,ve=ke,pe.value instanceof l)continue;for(var Ge=pe;Ge!==P.tail&&(ke<_e||typeof Ge.value=="string");Ge=Ge.next)se++,ke+=Ge.value.length;se--,le=A.slice(ve,ke),ge.index-=ve}else if(ge=u(ue,0,le,Z),!ge)continue;var ct=ge.index,$e=ge[0],we=le.slice(0,ct),Ee=le.slice(ct+$e.length),Re=ve+le.length;R&&Re>R.reach&&(R.reach=Re);var ft=pe.prev;we&&(ft=p(P,ft,we),ve+=we.length),m(P,ft,se);var qe=new l(O,q?o.tokenize($e,q):$e,J,$e);if(pe=p(P,ft,qe),Ee&&p(P,pe,Ee),se>1){var dt={cause:O+","+$,reach:Re};f(A,P,S,pe.prev,ve,dt),R&&dt.reach>R.reach&&(R.reach=dt.reach)}}}}}}function h(){var A={value:null,prev:null,next:null},P={value:null,prev:A,next:null};A.next=P,this.head=A,this.tail=P,this.length=0}function p(A,P,S){var E=P.next,_={value:S,prev:P,next:E};return P.next=_,E.prev=_,A.length++,_}function m(A,P,S){for(var E=P.next,_=0;_<S&&E!==A.tail;_++)E=E.next;P.next=E,E.prev=P,A.length-=_}function v(A){for(var P=[],S=A.head.next;S!==A.tail;)P.push(S.value),S=S.next;return P}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(A){var P=JSON.parse(A.data),S=P.language,E=P.code,_=P.immediateClose;n.postMessage(o.highlight(E,o.languages[S],S)),_&&n.close()},!1)),o;var w=o.util.currentScript();w&&(o.filename=w.src,w.hasAttribute("data-manual")&&(o.manual=!0));function x(){o.manual||o.highlightAll()}if(!o.manual){var T=document.readyState;T==="loading"||T==="interactive"&&w&&w.defer?document.addEventListener("DOMContentLoaded",x):window.requestAnimationFrame?window.requestAnimationFrame(x):window.setTimeout(x,16)}return o}(t);e.exports&&(e.exports=r),typeof Cl<"u"&&(Cl.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(i,a){var s={};s["language-"+a]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[a]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};o["language-"+a]={pattern:/[\s\S]+/,inside:r.languages[a]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,i){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:r.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var a=n.languages.markup;a&&(a.tag.addInlined("style","css"),a.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",i=function(w,x){return"✖ Error "+w+" while fetching file: "+x},a="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",u="loaded",f="failed",h="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+l+'"])';function p(w,x,T){var A=new XMLHttpRequest;A.open("GET",w,!0),A.onreadystatechange=function(){A.readyState==4&&(A.status<400&&A.responseText?x(A.responseText):A.status>=400?T(i(A.status,A.statusText)):T(a))},A.send(null)}function m(w){var x=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(w||"");if(x){var T=Number(x[1]),A=x[2],P=x[3];return A?P?[T,Number(P)]:[T,void 0]:[T,T]}}r.hooks.add("before-highlightall",function(w){w.selector+=", "+h}),r.hooks.add("before-sanity-check",function(w){var x=w.element;if(x.matches(h)){w.code="",x.setAttribute(o,l);var T=x.appendChild(document.createElement("CODE"));T.textContent=n;var A=x.getAttribute("data-src"),P=w.language;if(P==="none"){var S=(/\.(\w+)$/.exec(A)||[,"none"])[1];P=s[S]||S}r.util.setLanguage(T,P),r.util.setLanguage(x,P);var E=r.plugins.autoloader;E&&E.loadLanguages(P),p(A,function(_){x.setAttribute(o,u);var R=m(x.getAttribute("data-range"));if(R){var O=_.split(/\r\n?|\n/g),F=R[0],$=R[1]==null?O.length:R[1];F<0&&(F+=O.length),F=Math.max(0,Math.min(F-1,O.length)),$<0&&($+=O.length),$=Math.max(0,Math.min($,O.length)),_=O.slice(F,$).join(`
`),x.hasAttribute("data-start")||x.setAttribute("data-start",String(F+1))}T.textContent=_,r.highlightElement(T)},function(_){x.setAttribute(o,f),T.textContent=_})}}),r.plugins.fileHighlight={highlight:function(x){for(var T=(x||document).querySelectorAll(h),A=0,P;P=T[A++];)r.highlightElement(P)}};var v=!1;r.fileHighlight=function(){v||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),v=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(Zz)),Zz.exports}Vet();Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,r){var n={};n["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var a={};a[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",a)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(f){return f=f.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+f+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return n}),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+a+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+a+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(f){["url","bold","italic","strike","code-snippet"].forEach(function(h){f!==h&&(e.languages.markdown[f].inside.content.inside[h]=e.languages.markdown[h])})}),e.hooks.add("after-tokenize",function(f){if(f.language!=="markdown"&&f.language!=="md")return;function h(p){if(!(!p||typeof p=="string"))for(var m=0,v=p.length;m<v;m++){var w=p[m];if(w.type!=="code"){h(w.content);continue}var x=w.content[1],T=w.content[3];if(x&&T&&x.type==="code-language"&&T.type==="code-block"&&typeof x.content=="string"){var A=x.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");A=(/[a-z][\w-]*/i.exec(A)||[""])[0].toLowerCase();var P="language-"+A;T.alias?typeof T.alias=="string"?T.alias=[T.alias,P]:T.alias.push(P):T.alias=[P]}}}h(f.tokens)}),e.hooks.add("wrap",function(f){if(f.type==="code-block"){for(var h="",p=0,m=f.classes.length;p<m;p++){var v=f.classes[p],w=/language-(.+)/.exec(v);if(w){h=w[1];break}}var x=e.languages[h];if(x)f.content=e.highlight(u(f.content),x,h);else if(h&&h!=="none"&&e.plugins.autoloader){var T="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);f.attributes.id=T,e.plugins.autoloader.loadLanguages(h,function(){var A=document.getElementById(T);A&&(A.innerHTML=e.highlight(A.textContent,e.languages[h],h))})}}});var s=RegExp(e.languages.markup.tag.pattern.source,"gi"),o={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function u(f){var h=f.replace(s,"");return h=h.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(p,m){if(m=m.toLowerCase(),m[0]==="#"){var v;return m[1]==="x"?v=parseInt(m.slice(2),16):v=Number(m.slice(1)),l(v)}else{var w=o[m];return w||p}}),h}e.languages.md=e.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(e){var t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}})(Prism);var vle={},yle;function Get(){return yle||(yle=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),vle}Get();var ble={},_le;function Ket(){return _le||(_le=1,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)),ble}Ket();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift});var wle={},xle;function Zet(){return xle||(xle=1,function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)),wle}Zet();var Sle={},Ele;function Yet(){return Ele||(Ele=1,function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,n={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[n,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:n.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:n.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":n,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:n.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:n.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),Sle}Yet();var Cle={},Ple;function Xet(){return Ple||(Ple=1,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)),Cle}Xet();function Jet(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wx=Jet(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const IA=globalThis.Prism||window.Prism,Tle=e=>{try{return!!e&&IA.languages.hasOwnProperty(e)}catch{return!1}};function X_e(e,t){for(const r of e.childNodes){if(Pl(r)&&r.tagName===t)return!0;X_e(r,t)}return!1}const wC="data-language",zR="data-highlight-language";let Rx=class J_e extends Vh{static getType(){return"code"}static clone(t){return new J_e(t.__language,t.__key)}constructor(t,r){super(r),this.__language=t||void 0,this.__isSyntaxHighlightSupported=Tle(t)}createDOM(t){const r=document.createElement("code");Ru(r,t.theme.code),r.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(r.setAttribute(wC,n),this.getIsSyntaxHighlightSupported()&&r.setAttribute(zR,n)),r}updateDOM(t,r,n){const i=this.__language,a=t.__language;return i?i!==a&&(r.setAttribute(wC,i),this.__isSyntaxHighlightSupported&&r.setAttribute(zR,i)):a&&(r.removeAttribute(wC),t.__isSyntaxHighlightSupported&&r.removeAttribute(zR)),!1}exportDOM(t){const r=document.createElement("pre");Ru(r,t._config.theme.code),r.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(r.setAttribute(wC,n),this.getIsSyntaxHighlightSupported()&&r.setAttribute(zR,n)),{element:r}}static importDOM(){return{code:t=>t.textContent!=null&&(/\r?\n/.test(t.textContent)||X_e(t,"BR"))?{conversion:Rle,priority:1}:null,div:()=>({conversion:Qet,priority:1}),pre:()=>({conversion:Rle,priority:0}),table:t=>Yz(t)?{conversion:ett,priority:3}:null,td:t=>{const r=t,n=r.closest("table");return r.classList.contains("js-file-line")||n&&Yz(n)?{conversion:Ale,priority:3}:null},tr:t=>{const r=t.closest("table");return r&&Yz(r)?{conversion:Ale,priority:3}:null}}}static importJSON(t){return Qy().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setLanguage(t.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(t,r=!0){const n=this.getChildren(),i=n.length;if(i>=2&&n[i-1].getTextContent()===`
`&&n[i-2].getTextContent()===`
`&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===i){n[i-1].remove(),n[i-2].remove();const l=as();return this.insertAfter(l,r),l}const{anchor:a,focus:s}=t,o=(a.isBefore(s)?a:s).getNode();if(Rn(o)){let l=$_(o);const u=[];for(;;)if(Vf(l))u.push(Gm()),l=l.getNextSibling();else{if(!yc(l))break;{let x=0;const T=l.getTextContent(),A=l.getTextContentSize();for(;x<A&&T[x]===" ";)x++;if(x!==0&&u.push(iV(" ".repeat(x))),x!==A)break;l=l.getNextSibling()}}const f=o.splitText(a.offset)[0],h=a.offset===0?0:1,p=f.getIndexWithinParent()+h,m=o.getParentOrThrow(),v=[tg(),...u];m.splice(p,0,v);const w=u[u.length-1];w?w.select():a.offset===0?f.selectPrevious():f.getNextSibling().selectNext(0,0)}if(dp(o)){const{offset:l}=t.anchor;o.splice(l,0,[tg()]),o.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const t=as();return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}setLanguage(t){const r=this.getWritable();return r.__language=t||void 0,r.__isSyntaxHighlightSupported=Tle(t),r}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function Qy(e){return td(new Rx(e))}function dp(e){return e instanceof Rx}function Rle(e){return{node:Qy(e.getAttribute(wC))}}function Qet(e){const t=e,r=Ole(t);return r||function(n){let i=n.parentElement;for(;i!==null;){if(Ole(i))return!0;i=i.parentElement}return!1}(t)?{node:r?Qy():null}:{node:null}}function ett(){return{node:Qy()}}function Ale(){return{node:null}}function Ole(e){return e.style.fontFamily.match("monospace")!==null}function Yz(e){return e.classList.contains("js-file-line-container")}const ttt="javascript",rtt={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},ntt={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function itt(e){return ntt[e]||e}function Hxt(e){const t=itt(e);return rtt[t]||t}let eI=class Q_e extends fm{constructor(t="",r,n){super(t,n),this.__highlightType=r}static getType(){return"code-highlight"}static clone(t){return new Q_e(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(t){const r=this.getWritable();return r.__highlightType=t||void 0,r}canHaveFormat(){return!1}createDOM(t){const r=super.createDOM(t),n=Xz(t.theme,this.__highlightType);return Ru(r,n),r}updateDOM(t,r,n){const i=super.updateDOM(t,r,n),a=Xz(n.theme,t.__highlightType),s=Xz(n.theme,this.__highlightType);return a!==s&&(a&&hv(r,a),s&&Ru(r,s)),i}static importJSON(t){return iV().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHighlightType(t.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return Qy()}};function Xz(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function iV(e="",t){return td(new eI(e,t))}function yc(e){return e instanceof eI}function $_(e){let t=e,r=e;for(;yc(r)||Vf(r);)t=r,r=r.getPreviousSibling();return t}function YC(e){let t=e,r=e;for(;yc(r)||Vf(r);)t=r,r=r.getNextSibling();return t}const att={defaultLanguage:ttt,tokenize(e,t){return IA.tokenize(e,IA.languages[t||""]||IA.languages[this.defaultLanguage])}};function ott(e,t){let r=null,n=null,i=e,a=t,s=e.getTextContent();for(;;){if(a===0){if(i=i.getPreviousSibling(),i===null)break;if(yc(i)||Vf(i)||hl(i)||Wx(167),hl(i)){r={node:i,offset:1};break}a=Math.max(0,i.getTextContentSize()-1),s=i.getTextContent()}else a--;const l=s[a];yc(i)&&l!==" "&&(n={node:i,offset:a})}if(n!==null)return n;let o=null;if(t<e.getTextContentSize())yc(e)&&(o=e.getTextContent()[t]);else{const l=e.getNextSibling();yc(l)&&(o=l.getTextContent()[0])}if(o!==null&&o!==" ")return r;{const l=function(u,f){let h=u,p=f,m=u.getTextContent(),v=u.getTextContentSize();for(;;){if(!yc(h)||p===v){if(h=h.getNextSibling(),h===null||hl(h))return null;yc(h)&&(p=0,m=h.getTextContent(),v=h.getTextContentSize())}if(yc(h)){if(m[p]!==" ")return{node:h,offset:p};p++}}}(e,t);return l!==null?l:r}}function stt(e){const t=YC(e);return hl(t)&&Wx(168),t}function Ile(e,t,r){const n=e.getParent();dp(n)?ewe(n,t,r):yc(e)&&e.replace(js(e.__text))}function ltt(e,t){const r=t.getElementByKey(e.getKey());if(r===null)return;const n=e.getChildren(),i=n.length;if(i===r.__cachedChildrenLength)return;r.__cachedChildrenLength=i;let a="1",s=1;for(let o=0;o<i;o++)hl(n[o])&&(a+=`
`+ ++s);r.setAttribute("data-gutter",a)}const Jz=new Set;function ewe(e,t,r){const n=e.getKey();Jz.has(n)||(Jz.add(n),e.getLanguage()===void 0&&e.setLanguage(r.defaultLanguage),t.update(()=>{(function(i,a){const s=ps(i);if(!dp(s)||!s.isAttached())return;const o=ln();if(!Vr(o))return void a();const l=o.anchor,u=l.offset,f=l.type==="element"&&hl(s.getChildAtIndex(l.offset-1));let h=0;if(!f){const p=l.getNode();h=u+p.getPreviousSiblings().reduce((m,v)=>m+v.getTextContentSize(),0)}if(a()){if(f)return void l.getNode().select(u,u);s.getChildren().some(p=>{const m=Rn(p);if(m||hl(p)){const v=p.getTextContentSize();if(m&&v>=h)return p.select(h,h),!0;h-=v}return!1})}})(n,()=>{const i=ps(n);if(!dp(i)||!i.isAttached())return!1;const a=i.getTextContent(),s=H7(r.tokenize(a,i.getLanguage()||r.defaultLanguage)),o=function(h,p){let m=0;for(;m<h.length&&Mle(h[m],p[m]);)m++;const v=h.length,w=p.length,x=Math.min(v,w)-m;let T=0;for(;T<x;)if(T++,!Mle(h[v-T],p[w-T])){T--;break}const A=m,P=v-T,S=p.slice(m,w-T);return{from:A,nodesForReplacement:S,to:P}}(i.getChildren(),s),{from:l,to:u,nodesForReplacement:f}=o;return!(l===u&&!f.length)&&(e.splice(l,u-l,f),!0)})},{onUpdate:()=>{Jz.delete(n)},skipTransforms:!0}))}function H7(e,t){const r=[];for(const n of e)if(typeof n=="string"){const i=n.split(/(\n|\t)/),a=i.length;for(let s=0;s<a;s++){const o=i[s];o===`
`||o===`\r
`?r.push(tg()):o==="	"?r.push(Gm()):o.length>0&&r.push(iV(o,t))}}else{const{content:i}=n;typeof i=="string"?r.push(...H7([i],n.type)):Array.isArray(i)&&r.push(...H7(i,n.type))}return r}function Mle(e,t){return yc(e)&&yc(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||Vf(e)&&Vf(t)||hl(e)&&hl(t)}function I_(e){if(!Vr(e))return!1;const t=e.anchor.getNode(),r=e.focus.getNode();if(t.is(r)&&dp(t))return!0;const n=t.getParent();return dp(n)&&n.is(r.getParent())}function twe(e){const t=e.getNodes(),r=[[]];if(t.length===1&&dp(t[0]))return r;let n=r[0];for(let i=0;i<t.length;i++){const a=t[i];yc(a)||Vf(a)||hl(a)||Wx(169),hl(a)?i!==0&&n.length>0&&(n=[],r.push(n)):n.push(a)}return r}function kle(e){const t=ln();if(!Vr(t)||!I_(t))return!1;const r=twe(t),n=r.length;if(r.length>1){for(let s=0;s<n;s++){const o=r[s];if(o.length>0){let l=o[0];s===0&&(l=$_(l)),l!==null&&(e===i0?l.insertBefore(Gm()):Vf(l)&&l.remove())}}return!0}const i=t.getNodes()[0];if(dp(i)||yc(i)||Vf(i)||hl(i)||Wx(171),dp(i))return e===i0&&t.insertNodes([Gm()]),!0;const a=$_(i);return a===null&&Wx(172),e===i0?hl(a)?a.insertAfter(Gm()):a.insertBefore(Gm()):Vf(a)&&a.remove(),!0}function Dle(e,t){const r=ln();if(!Vr(r))return!1;const{anchor:n,focus:i}=r,a=n.offset,s=i.offset,o=n.getNode(),l=i.getNode(),u=e===ny;if(!I_(r)||!yc(o)&&!Vf(o)||!yc(l)&&!Vf(l))return!1;if(!t.altKey){if(r.isCollapsed()){const T=o.getParentOrThrow();if(u&&a===0&&o.getPreviousSibling()===null){if(T.getPreviousSibling()===null)return T.selectPrevious(),t.preventDefault(),!0}else if(!u&&a===o.getTextContentSize()&&o.getNextSibling()===null&&T.getNextSibling()===null)return T.selectNext(),t.preventDefault(),!0}return!1}let f,h;if(o.isBefore(l)?(f=$_(o),h=YC(l)):(f=$_(l),h=YC(o)),f==null||h==null)return!1;const p=f.getNodesBetween(h);for(let T=0;T<p.length;T++){const A=p[T];if(!yc(A)&&!Vf(A)&&!hl(A))return!1}t.preventDefault(),t.stopPropagation();const m=u?f.getPreviousSibling():h.getNextSibling();if(!hl(m))return!0;const v=u?m.getPreviousSibling():m.getNextSibling();if(v==null)return!0;const w=yc(v)||Vf(v)||hl(v)?u?$_(v):YC(v):null;let x=w??v;return m.remove(),p.forEach(T=>T.remove()),e===ny?(p.forEach(T=>x.insertBefore(T)),x.insertBefore(m)):(x.insertAfter(m),x=m,p.forEach(T=>{x.insertAfter(T),x=T})),r.setTextNodeRange(o,a,l,s),!0}function Fle(e,t){const r=ln();if(!Vr(r))return!1;const{anchor:n,focus:i}=r,a=n.getNode(),s=i.getNode(),o=e===MO;if(!I_(r)||!yc(a)&&!Vf(a)||!yc(s)&&!Vf(s))return!1;if(o){const l=ott(s,i.offset);if(l!==null){const{node:u,offset:f}=l;hl(u)?u.selectNext(0,0):r.setTextNodeRange(u,f,u,f)}else s.getParentOrThrow().selectStart()}else stt(s).select();return t.preventDefault(),t.stopPropagation(),!0}function Wxt(e,t){if(!e.hasNodes([Rx,eI]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return t==null&&(t=att),fu(e.registerMutationListener(Rx,r=>{e.update(()=>{for(const[n,i]of r)if(i!=="destroyed"){const a=ps(n);a!==null&&ltt(a,e)}})},{skipInitialization:!1}),e.registerNodeTransform(Rx,r=>ewe(r,e,t)),e.registerNodeTransform(fm,r=>Ile(r,e,t)),e.registerNodeTransform(eI,r=>Ile(r,e,t)),e.registerCommand(Uw,r=>{const n=function(i){const a=ln();if(!Vr(a)||!I_(a))return null;const s=i?O_:i0,o=i?O_:kO;if(twe(a).length>1)return s;const l=a.getNodes()[0];if(dp(l)||yc(l)||Vf(l)||hl(l)||Wx(170),dp(l))return s;const u=$_(l),f=YC(l),h=a.anchor,p=a.focus;let m,v;return p.isBefore(h)?(m=p,v=h):(m=h,v=p),u!==null&&f!==null&&m.key===u.getKey()&&m.offset===0&&v.key===f.getKey()&&v.offset===f.getTextContentSize()?s:o}(r.shiftKey);return n!==null&&(r.preventDefault(),e.dispatchCommand(n,void 0),!0)},ds),e.registerCommand(kO,()=>!!I_(ln())&&($be([Gm()]),!0),ds),e.registerCommand(i0,r=>kle(i0),ds),e.registerCommand(O_,r=>kle(O_),ds),e.registerCommand(ny,r=>{const n=ln();if(!Vr(n))return!1;const{anchor:i}=n,a=i.getNode();return!!I_(n)&&(n.isCollapsed()&&i.offset===0&&a.getPreviousSibling()===null&&dp(a.getParentOrThrow())?(r.preventDefault(),!0):Dle(ny,r))},ds),e.registerCommand(wb,r=>{const n=ln();if(!Vr(n))return!1;const{anchor:i}=n,a=i.getNode();return!!I_(n)&&(n.isCollapsed()&&i.offset===a.getTextContentSize()&&a.getNextSibling()===null&&dp(a.getParentOrThrow())?(r.preventDefault(),!0):Dle(wb,r))},ds),e.registerCommand(MO,r=>Fle(MO,r),ds),e.registerCommand(h7,r=>Fle(h7,r),ds))}var utt="0.25.0";function ctt(e,t=Object.freeze({})){return{editorState:e.toJSON(),lastSaved:t.lastSaved||Date.now(),source:t.source||"Lexical",version:utt}}function ftt(e,t){const r=typeof t=="string"?JSON.parse(t):t;return e.parseEditorState(r.editorState)}function Vxt(e){(function(t){const r=document.createElement("input");r.type="file",r.accept=".lexical",r.addEventListener("change",n=>{const i=n.target;if(i.files){const a=i.files[0],s=new FileReader;s.readAsText(a,"UTF-8"),s.onload=o=>{if(o.target){const l=o.target.result;t(l)}}}}),r.click()})(t=>{e.setEditorState(ftt(e,t)),e.dispatchCommand(Cbe,void 0)})}function Gxt(e,t=Object.freeze({})){const r=new Date;(function(n,i){const a=document.createElement("a"),s=document.body;if(s===null)return;s.appendChild(a),a.style.display="none";const o=JSON.stringify(n),l=new Blob([o],{type:"octet/stream"}),u=window.URL.createObjectURL(l);a.href=u,a.download=i,a.click(),window.URL.revokeObjectURL(u),a.remove()})(ctt(e.getEditorState(),{...t,lastSaved:r.getTime()}),`${t.fileName||r.toISOString()}.lexical`)}function dtt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var htt=dtt(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const ptt=new Set(["http:","https:","mailto:","sms:","tel:"]);let US=class rwe extends Vh{static getType(){return"link"}static clone(t){return new rwe(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",r={},n){super(n);const{target:i=null,rel:a=null,title:s=null}=r;this.__url=t,this.__target=i,this.__rel=a,this.__title=s}createDOM(t){const r=document.createElement("a");return r.href=this.sanitizeUrl(this.__url),this.__target!==null&&(r.target=this.__target),this.__rel!==null&&(r.rel=this.__rel),this.__title!==null&&(r.title=this.__title),Ru(r,t.theme.link),r}updateDOM(t,r,n){if(r_e(r)){const i=this.__url,a=this.__target,s=this.__rel,o=this.__title;i!==t.__url&&(r.href=i),a!==t.__target&&(a?r.target=a:r.removeAttribute("target")),s!==t.__rel&&(s?r.rel=s:r.removeAttribute("rel")),o!==t.__title&&(o?r.title=o:r.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:mtt,priority:1})}}static importJSON(t){return z2().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){try{const r=new URL(t);if(!ptt.has(r.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const r=this.getWritable();return r.__url=t,r}getTarget(){return this.getLatest().__target}setTarget(t){const r=this.getWritable();return r.__target=t,r}getRel(){return this.getLatest().__rel}setRel(t){const r=this.getWritable();return r.__rel=t,r}getTitle(){return this.getLatest().__title}setTitle(t){const r=this.getWritable();return r.__title=t,r}insertNewAfter(t,r=!0){const n=z2(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,r),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,r,n){if(!Vr(r))return!1;const i=r.anchor.getNode(),a=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(a)&&r.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function mtt(e){let t=null;if(r_e(e)){const r=e.textContent;(r!==null&&r!==""||e.children.length>0)&&(t=z2(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function z2(e="",t){return td(new US(e,t))}function Ug(e){return e instanceof US}let vk=class nwe extends US{constructor(t="",r={},n){super(t,r,n),this.__isUnlinked=r.isUnlinked!==void 0&&r.isUnlinked!==null&&r.isUnlinked}static getType(){return"autolink"}static clone(t){return new nwe(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const r=this.getWritable();return r.__isUnlinked=t,r}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,r,n){return super.updateDOM(t,r,n)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return W7().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,r=!0){const n=this.getParentOrThrow().insertNewAfter(t,r);if(qr(n)){const i=W7(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(i),i}return null}};function W7(e="",t){return td(new vk(e,t))}function E_(e){return e instanceof vk}const V7=dv();function Lle(e,t){if(e.type==="element"){const r=e.getNode();return qr(r)||htt(252),r.getChildren()[e.offset+t]||null}return null}function Qz(e,t={}){const{target:r,title:n}=t,i=t.rel===void 0?"noreferrer":t.rel,a=ln();if(!Vr(a))return;const s=a.extract();if(e===null)return void s.forEach(u=>{const f=Bo(u,h=>!E_(h)&&Ug(h));if(f){const h=f.getChildren();for(let p=0;p<h.length;p++)f.insertBefore(h[p]);f.remove()}});const o=new Set,l=u=>{o.has(u.getKey())||(o.add(u.getKey()),u.setURL(e),r!==void 0&&u.setTarget(r),i!==void 0&&u.setRel(i),n!==void 0&&u.setTitle(n))};if(s.length===1){const u=Nle(s[0],Ug);if(u!==null)return l(u)}(function(u){const f=ln();if(!Vr(f))return u();const h=vb(f),p=h.isBackward(),m=Lle(h.anchor,p?-1:0),v=Lle(h.focus,p?0:-1);if(u(),m||v){const w=ln();if(Vr(w)){const x=w.clone();if(m){const T=m.getParent();T&&x.anchor.set(T.getKey(),m.getIndexWithinParent()+(p?1:0),"element")}if(v){const T=v.getParent();T&&x.focus.set(T.getKey(),v.getIndexWithinParent()+(p?0:1),"element")}Tu(vb(x))}}})(()=>{let u=null;for(const f of s){if(!f.isAttached())continue;const h=Nle(f,Ug);if(h){l(h);continue}if(qr(f)){if(!f.isInline())continue;if(Ug(f)){if(!(E_(f)||u!==null&&u.getParentOrThrow().isParentOf(f))){l(f),u=f;continue}for(const m of f.getChildren())f.insertBefore(m);f.remove();continue}}const p=f.getPreviousSibling();Ug(p)&&p.is(u)?p.append(f):(u=z2(e,{rel:i,target:r,title:n}),f.insertAfter(u),u.append(f))}})}function Nle(e,t){let r=e;for(;r!==null&&r.getParent()!==null&&!t(r);)r=r.getParentOrThrow();return t(r)?r:null}function gtt(e,t){const r={};for(const n of e){const i=t(n);i&&(r[i]?r[i].push(n):r[i]=[n])}return r}function iwe(e){const t=gtt(e,r=>r.type);return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}const $le=/[!-/:-@[-`{-~\s]/,vtt=/^\s{0,3}$/;function G7(e){if(!Hw(e))return!1;const t=e.getFirstChild();return t==null||e.getChildrenSize()===1&&Rn(t)&&vtt.test(t.getTextContent())}function ytt(e,t,r,n){for(const i of t){if(!i.export)continue;const a=i.export(e,s=>tI(s,r,n));if(a!=null)return a}return qr(e)?tI(e,r,n):ws(e)?e.getTextContent():null}function tI(e,t,r,n,i){const a=[],s=e.getChildren();n||(n=[]),i||(i=[]);e:for(const o of s){for(const l of r){if(!l.export)continue;const u=l.export(o,f=>tI(f,t,r,n,[...i,...n]),(f,h)=>zle(f,h,t,n,i));if(u!=null){a.push(u);continue e}}hl(o)?a.push(`
`):Rn(o)?a.push(zle(o,o.getTextContent(),t,n,i)):qr(o)?a.push(tI(o,t,r,n,i)):ws(o)&&a.push(o.getTextContent())}return a.join("")}function zle(e,t,r,n,i){const a=t.trim();let s=a,o="",l="",u="";const f=Ble(e,!0),h=Ble(e,!1),p=new Set;for(const m of r){const v=m.format[0],w=m.tag;BR(e,v)&&!p.has(v)&&(p.add(v),BR(f,v)&&n.find(x=>x.tag===w)||(n.push({format:v,tag:w}),o+=w))}for(let m=0;m<n.length;m++){const v=BR(e,n[m].format),w=BR(h,n[m].format);if(v&&w)continue;const x=[...n];for(;x.length>m;){const T=x.pop();i&&T&&i.find(A=>A.tag===T.tag)||(T&&typeof T.tag=="string"&&(v?w||(u+=T.tag):l+=T.tag),n.pop())}break}return s=o+s+u,l+t.replace(a,()=>s)}function Ble(e,t){let r=t?e.getPreviousSibling():e.getNextSibling();if(!r){const n=e.getParentOrThrow();n.isInline()&&(r=t?n.getPreviousSibling():n.getNextSibling())}for(;r;){if(qr(r)){if(!r.isInline())break;const n=t?r.getLastDescendant():r.getFirstDescendant();if(Rn(n))return n;r=t?r.getPreviousSibling():r.getNextSibling()}if(Rn(r))return r;if(!qr(r))return null}return null}function BR(e,t){return Rn(e)&&e.hasFormat(t)}const qS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,btt=qS&&"documentMode"in document?document.documentMode:null;qS&&"InputEvent"in window&&!btt&&new window.InputEvent("input");const jle=qS&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ule=qS&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,_tt=qS&&/^(?=.*Chrome).*/i.test(navigator.userAgent),qle=qS&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!_tt;function wtt(e,t){const r=function(i,a){const s=i.match(a.openTagsRegExp);if(s==null)return null;for(const o of s){const l=o.replace(/^\s/,""),u=a.fullMatchRegExpByTag[l];if(u==null)continue;const f=i.match(u),h=a.transformersByTag[l];if(f!=null&&h!=null){if(h.intraword!==!1)return f;const{index:p=0}=f,m=i[p-1],v=i[p+f[0].length];if((!m||$le.test(m))&&(!v||$le.test(v)))return f}}return null}(e.getTextContent(),t);if(!r)return null;const n=r.index||0;return{endIndex:n+r[0].length,match:r,startIndex:n,transformer:t.transformersByTag[r[1]]}}function j1(e){return Rn(e)&&!e.hasFormat("code")}function b_(e,t,r){let n=wtt(e,t),i=function(a,s){const o=a;let l,u,f,h;for(const p of s){if(!p.replace||!p.importRegExp)continue;const m=o.getTextContent().match(p.importRegExp);if(!m)continue;const v=m.index||0,w=p.getEndIndex?p.getEndIndex(o,m):v+m[0].length;w!==!1&&(l===void 0||u===void 0||v<l&&w>u)&&(l=v,u=w,f=p,h=m)}return l===void 0||u===void 0||f===void 0||h===void 0?null:{endIndex:u,match:h,startIndex:l,transformer:f}}(e,r);if(n&&i&&(n.startIndex<=i.startIndex&&n.endIndex>=i.endIndex?i=null:n=null),n){const a=function(s,o,l,u,f){const h=s.getTextContent();let p,m,v;if(f[0]===h?p=s:o===0?[p,m]=s.splitText(l):[v,p,m]=s.splitText(o,l),p.setTextContent(f[2]),u)for(const w of u.format)p.hasFormat(w)||p.toggleFormat(w);return{nodeAfter:m,nodeBefore:v,transformedNode:p}}(e,n.startIndex,n.endIndex,n.transformer,n.match);return j1(a.nodeAfter)&&b_(a.nodeAfter,t,r),j1(a.nodeBefore)&&b_(a.nodeBefore,t,r),void(j1(a.transformedNode)&&b_(a.transformedNode,t,r))}if(i){const a=function(s,o,l,u,f){let h,p,m;return o===0?[h,p]=s.splitText(l):[m,h,p]=s.splitText(o,l),u.replace?{nodeAfter:p,nodeBefore:m,transformedNode:u.replace(h,f)||void 0}:null}(e,i.startIndex,i.endIndex,i.transformer,i.match);return a?(j1(a.nodeAfter)&&b_(a.nodeAfter,t,r),j1(a.nodeBefore)&&b_(a.nodeBefore,t,r),void(j1(a.transformedNode)&&b_(a.transformedNode,t,r))):void 0}}function xtt(e,t=!1){const r=iwe(e),n=function(i){const a={},s={},o=[],l="(?<![\\\\])";for(const u of i){const{tag:f}=u;a[f]=u;const h=f.replace(/(\*|\^|\+)/g,"\\$1");o.push(h),s[f]=jle||Ule||qle?new RegExp(`(${h})(?![${h}\\s])(.*?[^${h}\\s])${h}(?!${h})`):new RegExp(`(?<![\\\\${h}])(${h})((\\\\${h})?.*?[^${h}\\s](\\\\${h})?)((?<!\\\\)|(?<=\\\\\\\\))(${h})(?![\\\\${h}])`)}return{fullMatchRegExpByTag:s,openTagsRegExp:new RegExp((jle||Ule||qle?"":`${l}`)+"("+o.join("|")+")","g"),transformersByTag:a}}(r.textFormat);return(i,a)=>{const s=i.split(`
`),o=s.length,l=a||Js();l.clear();for(let f=0;f<o;f++){const h=s[f],[p,m]=Stt(s,f,r.multilineElement,l);p?f=m:Ett(h,l,r.element,n,r.textMatch)}const u=l.getChildren();for(const f of u)!t&&G7(f)&&l.getChildrenSize()>1&&f.remove();ln()!==null&&l.selectStart()}}function Stt(e,t,r,n){for(const i of r){const{handleImportAfterStartMatch:a,regExpEnd:s,regExpStart:o,replace:l}=i,u=e[t].match(o);if(!u)continue;if(a){const v=a({lines:e,rootNode:n,startLineIndex:t,startMatch:u,transformer:i});if(v===null)continue;if(v)return v}const f=typeof s=="object"&&"regExp"in s?s.regExp:s,h=s&&typeof s=="object"&&"optional"in s?s.optional:!s;let p=t;const m=e.length;for(;p<m;){const v=f?e[p].match(f):null;if(!v&&(!h||h&&p<m-1)){p++;continue}if(v&&t===p&&v.index===u.index){p++;continue}const w=[];if(v&&t===p)w.push(e[t].slice(u[0].length,-v[0].length));else for(let x=t;x<=p;x++)if(x===t){const T=e[x].slice(u[0].length);w.push(T)}else if(x===p&&v){const T=e[x].slice(0,-v[0].length);w.push(T)}else w.push(e[x]);if(l(n,null,u,v,w,!0)!==!1)return[!0,p];break}}return[!1,t]}function Ett(e,t,r,n,i){const a=js(e),s=as();s.append(a),t.append(s);for(const{regExp:o,replace:l}of r){const u=e.match(o);if(u&&(a.setTextContent(e.slice(u[0].length)),l(s,[a],u,!0)!==!1))break}if(b_(a,n,i),s.isAttached()&&e.length>0){const o=s.getPreviousSibling();if(Hw(o)||L7(o)||eo(o)){let l=o;if(eo(o)){const u=o.getLastDescendant();l=u==null?null:Bo(u,Ds)}l!=null&&l.getTextContentSize()>0&&(l.splice(l.getChildrenSize(),0,[tg(),...s.getChildren()]),s.remove())}}}function Ctt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Ctt(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const awe=/^(\s*)(\d{1,})\.\s/,owe=/^(\s*)[-*+]\s/,swe=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,K7=/^(#{1,6})\s/,lwe=/^>\s/,uwe=/^[ \t]*```(\w+)?/,cwe=/[ \t]*```$/,Ptt=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,Ttt=/^(?:\|)(.+)(?:\|)\s?$/,Rtt=/^(\| ?:?-*:? ?)+\|\s?$/,fwe=e=>(t,r,n)=>{const i=e(n);i.append(...r),t.replace(i),i.select(0,0)},aV=e=>(t,r,n)=>{const i=t.getPreviousSibling(),a=t.getNextSibling(),s=_p(e==="check"?n[3]==="x":void 0);if(eo(a)&&a.getListType()===e){const l=a.getFirstChild();l!==null?l.insertBefore(s):a.append(s),t.remove()}else if(eo(i)&&i.getListType()===e)i.append(s),t.remove();else{const l=zh(e,e==="number"?Number(n[2]):void 0);l.append(s),t.replace(l)}s.append(...r),s.select(0,0);const o=function(l){const u=l.match(/\t/g),f=l.match(/ /g);let h=0;return u&&(h+=u.length),f&&(h+=Math.floor(f.length/4)),h}(n[1]);o&&s.setIndent(o)},yk=(e,t,r)=>{const n=[],i=e.getChildren();let a=0;for(const s of i)if(Ds(s)){if(s.getChildrenSize()===1){const f=s.getFirstChild();if(eo(f)){n.push(yk(f,t,r+1));continue}}const o=" ".repeat(4*r),l=e.getListType(),u=l==="number"?`${e.getStart()+a}. `:l==="check"?`- [${s.getChecked()?"x":" "}] `:"- ";n.push(o+u+t(s)),a++}return n.join(`
`)},Att={dependencies:[gk],export:(e,t)=>{if(!VC(e))return null;const r=Number(e.getTag().slice(1));return"#".repeat(r)+" "+t(e)},regExp:K7,replace:fwe(e=>{const t="h"+e[1].length;return mx(t)}),type:"element"},Ott={dependencies:[ZW],export:(e,t)=>{if(!L7(e))return null;const r=t(e).split(`
`),n=[];for(const i of r)n.push("> "+i);return n.join(`
`)},regExp:lwe,replace:(e,t,r,n)=>{if(n){const a=e.getPreviousSibling();if(L7(a))return a.splice(a.getChildrenSize(),0,[tg(),...t]),a.select(0,0),void e.remove()}const i=YW();i.append(...t),e.replace(i),i.select(0,0)},type:"element"},Itt={dependencies:[Rx],export:e=>{if(!dp(e))return null;const t=e.getTextContent();return"```"+(e.getLanguage()||"")+(t?`
`+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:cwe},regExpStart:uwe,replace:(e,t,r,n,i,a)=>{let s,o;if(!t&&i){if(i.length===1)n?(s=Qy(),o=r[1]+i[0]):(s=Qy(r[1]),o=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(s=Qy(r[1]),i[0].trim().length===0)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();o=i.join(`
`)}const l=js(o);s.append(l),e.append(s)}else t&&fwe(l=>Qy(l?l[1]:void 0))(e,t,r,a)},type:"multiline-element"},Mtt={dependencies:[$S,Ww],export:(e,t)=>eo(e)?yk(e,t,0):null,regExp:owe,replace:aV("bullet"),type:"element"},Kxt={dependencies:[$S,Ww],export:(e,t)=>eo(e)?yk(e,t,0):null,regExp:swe,replace:aV("check"),type:"element"},ktt={dependencies:[$S,Ww],export:(e,t)=>eo(e)?yk(e,t,0):null,regExp:awe,replace:aV("number"),type:"element"},Dtt={format:["code"],tag:"`",type:"text-format"},Ftt={format:["highlight"],tag:"==",type:"text-format"},Ltt={format:["bold","italic"],tag:"***",type:"text-format"},Ntt={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},$tt={format:["bold"],tag:"**",type:"text-format"},ztt={format:["bold"],intraword:!1,tag:"__",type:"text-format"},Btt={format:["strikethrough"],tag:"~~",type:"text-format"},jtt={format:["italic"],tag:"*",type:"text-format"},Utt={format:["italic"],intraword:!1,tag:"_",type:"text-format"},qtt={dependencies:[US],export:(e,t,r)=>{if(!Ug(e))return null;const n=e.getTitle(),i=t(e);return n?`[${i}](${e.getURL()} "${n}")`:`[${i}](${e.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(e,t)=>{const[,r,n,i]=t,a=z2(n,{title:i}),s=js(r);return s.setFormat(e.getFormat()),a.append(s),e.replace(a),s},trigger:")",type:"text-match"},Htt=[Att,Ott,Mtt,ktt],Wtt=[Itt],Vtt=[Dtt,Ltt,Ntt,$tt,ztt,Ftt,jtt,Utt,Btt],Gtt=[qtt],dwe=[...Htt,...Wtt,...Vtt,...Gtt];function Zxt(e,t=dwe,r,n=!1,i=!1){const a=n?e:function(s,o=!1){const l=s.split(`
`);let u=!1;const f=[];for(let h=0;h<l.length;h++){const p=l[h],m=f[f.length-1];Ptt.test(p)?f.push(p):uwe.test(p)||cwe.test(p)?(u=!u,f.push(p)):u||p===""||m===""||!m||K7.test(m)||K7.test(p)||lwe.test(p)||awe.test(p)||owe.test(p)||swe.test(p)||Ttt.test(p)||Rtt.test(p)||!o?f.push(p):f[f.length-1]=m+p}return f.join(`
`)}(e,i);return xtt(t,n)(a,r)}function Yxt(e=dwe,t,r=!1){return function(i,a=!1){const s=iwe(i),o=[...s.multilineElement,...s.element],l=!a,u=s.textFormat.filter(f=>f.format.length===1).sort((f,h)=>Number(f.format.includes("code"))-Number(h.format.includes("code")));return f=>{const h=[],p=(f||Js()).getChildren();for(let m=0;m<p.length;m++){const v=p[m],w=ytt(v,o,u,s.textMatch);w!=null&&h.push(l&&m>0&&!G7(v)&&!G7(p[m-1])?`
`.concat(w):w)}return h.join(`
`)}}(e,r)(t)}const Hle=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],Wle=Hle[Math.floor(Math.random()*Hle.length)],Ktt=ne.createContext({clientID:0,color:Wle[1],isCollabActive:!1,name:Wle[0],yjsDocMap:new Map});function Xxt(e,t){return ne.useContext(Ktt)}let Ztt=class extends PW{constructor(t,r){super(r),this.__format=t||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(t){const r=this.getWritable();return r.__format=t,r}isInline(){return!1}};function Vle(e){return e instanceof Ztt}function Qxt({children:e,format:t,nodeKey:r,className:n}){const[i]=Xs(),[a,s,o]=C_e(r),l=ne.useRef(null),u=ne.useCallback(f=>{const h=ln();return a&&gf(h)&&(f.preventDefault(),h.getNodes().forEach(p=>{ws(p)&&p.remove()})),!1},[a]);return ne.useEffect(()=>fu(i.registerCommand(wW,f=>{if(a){const h=ln();if(gf(h)){const p=ps(r);Vle(p)&&p.setFormat(f)}else if(Vr(h)){const p=h.getNodes();for(const m of p)Vle(m)?m.setFormat(f):XO(m).setFormat(f)}return!0}return!1},ds),i.registerCommand(tk,f=>f.target===l.current&&(f.preventDefault(),f.shiftKey||o(),s(!a),!0),ds),i.registerCommand(DS,u,ds),i.registerCommand(MS,u,ds)),[o,i,a,r,u,s]),io.jsx("div",{className:[n.base,a?n.focus:null].filter(Boolean).join(" "),ref:l,style:{textAlign:t||void 0},children:e})}const Gle="startTransition",Z7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Ytt=Z7?ne.useLayoutEffect:ne.useEffect;let Xtt=class{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}};const Kle=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const r=t.getBoundingClientRect();r.top+r.height>window.innerHeight&&t.scrollIntoView({block:"center"}),r.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function Zle(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return r.top>n.top&&r.top<n.bottom}function Jtt(e,t,r,n){const[i]=Xs();ne.useEffect(()=>{if(t!=null&&e!=null){const a=i.getRootElement(),s=a!=null?function(h,p){let m=getComputedStyle(h);const v=m.position==="absolute",w=/(auto|scroll)/;if(m.position==="fixed")return document.body;for(let x=h;x=x.parentElement;)if(m=getComputedStyle(x),(!v||m.position!=="static")&&w.test(m.overflow+m.overflowY+m.overflowX))return x;return document.body}(a):document.body;let o=!1,l=Zle(t,s);const u=function(){o||(window.requestAnimationFrame(function(){r(),o=!1}),o=!0);const h=Zle(t,s);h!==l&&(l=h,n!=null&&n(h))},f=new ResizeObserver(r);return window.addEventListener("resize",r),document.addEventListener("scroll",u,{capture:!0,passive:!0}),f.observe(t),()=>{f.unobserve(t),window.removeEventListener("resize",r),document.removeEventListener("scroll",u,!0)}}},[t,i,n,r,e])}const Yle=dv();function Qtt({close:e,editor:t,anchorElementRef:r,resolution:n,options:i,menuRenderFn:a,onSelectOption:s,shouldSplitNodeWithQuery:o=!1,commandPriority:l=ds}){const[u,f]=ne.useState(null),h=n.match&&n.match.matchingString;ne.useEffect(()=>{f(0)},[h]);const p=ne.useCallback(v=>{t.update(()=>{const w=n.match!=null&&o?function(x){const T=ln();if(!Vr(T)||!T.isCollapsed())return null;const A=T.anchor;if(A.type!=="text")return null;const P=A.getNode();if(!P.isSimpleText())return null;const S=A.offset,E=P.getTextContent().slice(0,S),_=x.replaceableString.length,R=S-function(F,$,z){let q=z;for(let Z=q;Z<=$.length;Z++)F.slice(-Z)===$.substring(0,Z)&&(q=Z);return q}(E,x.matchingString,_);if(R<0)return null;let O;return R===0?[O]=P.splitText(S):[,O]=P.splitText(R,S),O}(n.match):null;s(v,w,e,n.match?n.match.matchingString:"")})},[t,o,n.match,s,e]),m=ne.useCallback(v=>{const w=t.getRootElement();w!==null&&(w.setAttribute("aria-activedescendant","typeahead-item-"+v),f(v))},[t]);return ne.useEffect(()=>()=>{const v=t.getRootElement();v!==null&&v.removeAttribute("aria-activedescendant")},[t]),Ytt(()=>{i===null?f(null):u===null&&m(0)},[i,u,m]),ne.useEffect(()=>fu(t.registerCommand(Yle,({option:v})=>!(!v.ref||v.ref.current==null)&&(Kle(v.ref.current),!0),l)),[t,m,l]),ne.useEffect(()=>fu(t.registerCommand(wb,v=>{const w=v;if(i!==null&&i.length&&u!==null){const x=u!==i.length-1?u+1:0;m(x);const T=i[x];T.ref!=null&&T.ref.current&&t.dispatchCommand(Yle,{index:x,option:T}),w.preventDefault(),w.stopImmediatePropagation()}return!0},l),t.registerCommand(ny,v=>{const w=v;if(i!==null&&i.length&&u!==null){const x=u!==0?u-1:i.length-1;m(x);const T=i[x];T.ref!=null&&T.ref.current&&Kle(T.ref.current),w.preventDefault(),w.stopImmediatePropagation()}return!0},l),t.registerCommand(kS,v=>{const w=v;return w.preventDefault(),w.stopImmediatePropagation(),e(),!0},l),t.registerCommand(Uw,v=>{const w=v;return i!==null&&u!==null&&i[u]!=null&&(w.preventDefault(),w.stopImmediatePropagation(),p(i[u]),!0)},l),t.registerCommand(aw,v=>i!==null&&u!==null&&i[u]!=null&&(v!==null&&(v.preventDefault(),v.stopImmediatePropagation()),p(i[u]),!0),l)),[p,e,t,i,u,m,l]),a(r,ne.useMemo(()=>({options:i,selectOptionAndCleanUp:p,selectedIndex:u,setHighlightedIndex:f}),[p,u,i]),n.match?n.match.matchingString:"")}function ert({options:e,nodeKey:t,onClose:r,onOpen:n,onSelectOption:i,menuRenderFn:a,anchorClassName:s,commandPriority:o=ds,parent:l}){const[u]=Xs(),[f,h]=ne.useState(null),p=function(x,T,A,P=Z7?document.body:void 0,S=!0){const[E]=Xs(),_=ne.useRef(Z7?document.createElement("div"):null),R=ne.useCallback(()=>{if(_.current===null||P===void 0)return;_.current.style.top=_.current.style.bottom;const $=E.getRootElement(),z=_.current,q=z.firstChild;if($!==null&&x!==null){const{left:Z,top:V,width:J,height:fe}=x.getRect(),ue=_.current.offsetHeight;if(z.style.top=`${V+ue+3+(S?window.pageYOffset:0)}px`,z.style.left=`${Z+window.pageXOffset}px`,z.style.height=`${fe}px`,z.style.width=`${J}px`,q!==null){q.style.top=`${V}`;const pe=q.getBoundingClientRect(),ve=pe.height,le=pe.width,se=$.getBoundingClientRect();Z+le>se.right&&(z.style.left=`${se.right-le+window.pageXOffset}px`),(V+ve>window.innerHeight||V+ve>se.bottom)&&V-se.top>ve+fe&&(z.style.top=`${V-ve-fe+(S?window.pageYOffset:0)}px`)}z.isConnected||(A!=null&&(z.className=A),z.setAttribute("aria-label","Typeahead menu"),z.setAttribute("id","typeahead-menu"),z.setAttribute("role","listbox"),z.style.display="block",z.style.position="absolute",P.append(z)),_.current=z,$.setAttribute("aria-controls","typeahead-menu")}},[E,x,S,A,P]);ne.useEffect(()=>{const $=E.getRootElement();if(x!==null)return R(),()=>{$!==null&&$.removeAttribute("aria-controls");const z=_.current;z!==null&&z.isConnected&&z.remove()}},[E,R,x]);const O=ne.useCallback($=>{x!==null&&($||T(null))},[x,T]);Jtt(x,_.current,R,O);const F=_.current;return F!=null&&(F.style.position="absolute",P!=null&&P.append(F)),_}(f,h,s,l),m=ne.useCallback(()=>{h(null),r!=null&&f!==null&&r()},[r,f]),v=ne.useCallback(x=>{h(x),n!=null&&f===null&&n(x)},[n,f]),w=ne.useCallback(()=>{t?u.update(()=>{const x=ps(t),T=u.getElementByKey(t);var A;x!=null&&T!=null&&f==null&&(A=()=>v({getRect:()=>T.getBoundingClientRect()}),Gle in ze?ze[Gle](A):A())}):t==null&&f!=null&&m()},[m,u,t,v,f]);return ne.useEffect(()=>{w()},[w,t]),ne.useEffect(()=>{if(t!=null)return u.registerUpdateListener(({dirtyElements:x})=>{x.get(t)&&w()})},[u,w,t]),p.current===null||f===null||u===null?null:io.jsx(Qtt,{close:m,resolution:f,editor:u,anchorElementRef:p,options:e,menuRenderFn:a,onSelectOption:i,commandPriority:o})}const tSt=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,trt=dv();let rSt=class extends Xtt{constructor(t,r){super(t),this.title=t,this.onSelect=r.onSelect.bind(this)}};function iSt({embedConfigs:e,onOpenEmbedModalForConfig:t,getMenuOptions:r,menuRenderFn:n,menuCommandPriority:i=ds}){const[a]=Xs(),[s,o]=ne.useState(null),[l,u]=ne.useState(null),f=ne.useCallback(()=>{o(null),u(null)},[]),h=ne.useCallback(async w=>{const x=a.getEditorState().read(function(){const T=ps(w);if(Ug(T))return T.getURL()});if(x!==void 0)for(const T of e)await Promise.resolve(T.parseUrl(x))!=null&&(u(T),o(w))},[a,e]);ne.useEffect(()=>fu(...[US,vk].map(w=>a.registerMutationListener(w,(...x)=>((T,{updateTags:A,dirtyLeaves:P})=>{for(const[S,E]of T)E==="created"&&A.has("paste")&&P.size<=3?h(S):S===s&&f()})(...x),{skipInitialization:!0}))),[h,a,e,s,f]),ne.useEffect(()=>a.registerCommand(trt,w=>{const x=e.find(({type:T})=>T===w);return!!x&&(t(x),!0)},ia),[a,e,t]);const p=ne.useCallback(async function(){if(l!=null&&s!=null){const w=a.getEditorState().read(()=>{const x=ps(s);return Ug(x)?x:null});if(Ug(w)){const x=await Promise.resolve(l.parseUrl(w.__url));x!=null&&a.update(()=>{ln()||w.selectEnd(),l.insertNode(a,x),w.isAttached()&&w.remove()})}}},[l,a,s]),m=ne.useMemo(()=>l!=null&&s!=null?r(l,p,f):[],[l,p,r,s,f]),v=ne.useCallback((w,x,T)=>{a.update(()=>{w.onSelect(x),T()})},[a]);return s!=null?io.jsx(ert,{nodeKey:s,onClose:f,onSelectOption:v,options:m,menuRenderFn:n,commandPriority:i}):null}function rrt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nrt=rrt(function(e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw t.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function aSt(e,t=r=>r){return r=>{const n=e.exec(r);return n===null?null:{index:n.index,length:n[0].length,text:n[0],url:t(n[0])}}}function hwe(e,t){for(let r=0;r<t.length;r++){const n=t[r](e);if(n)return n}return null}const irt=/[.,;\s]/;function rI(e){return irt.test(e)}function pwe(e){return rI(e[e.length-1])}function Y7(e){return rI(e[0])}function mwe(e){let t=e.getPreviousSibling();return qr(t)&&(t=t.getLastDescendant()),t===null||hl(t)||Rn(t)&&pwe(t.getTextContent())}function gwe(e){let t=e.getNextSibling();return qr(t)&&(t=t.getFirstDescendant()),t===null||hl(t)||Rn(t)&&Y7(t.getTextContent())}function art(e,t,r,n){return(e>0?rI(r[e-1]):mwe(n[0]))?t<r.length?rI(r[t]):gwe(n[n.length-1]):!1}function ort(e,t,r){const n=[],i=[],a=[];let s=0,o=0;const l=[...e];for(;l.length>0;){const u=l[0],f=u.getTextContent().length,h=o;o+f<=t?(n.push(u),s+=f):h>=r?a.push(u):i.push(u),o+=f,l.shift()}return[s,n,i,a]}function srt(e,t,r,n){const i=W7(n.url,n.attributes);if(e.length===1){let a,s=e[0];t===0?[a,s]=s.splitText(r):[,a,s]=s.splitText(t,r);const o=js(n.text);return o.setFormat(a.getFormat()),o.setDetail(a.getDetail()),o.setStyle(a.getStyle()),i.append(o),a.replace(i),s}if(e.length>1){const a=e[0];let s,o=a.getTextContent().length;t===0?s=a:[,s]=a.splitText(t);const l=[];let u;for(let m=1;m<e.length;m++){const v=e[m],w=v.getTextContent().length,x=o;if(x<r)if(o+w<=r)l.push(v);else{const[T,A]=v.splitText(r-x);l.push(T),u=A}o+=w}const f=ln(),h=f?f.getNodes().find(Rn):void 0,p=js(s.getTextContent());return p.setFormat(s.getFormat()),p.setDetail(s.getDetail()),p.setStyle(s.getStyle()),i.append(p,...l),h&&h===s&&(Vr(f)?p.select(f.anchor.offset,f.focus.offset):gf(f)&&p.select(0,p.getTextContent().length)),s.replace(i),u}}function e8(e,t,r){const n=e.getChildren(),i=n.length;for(let l=0;l<i;l++){const u=n[l];if(!Rn(u)||!u.isSimpleText())return MA(e),void r(null,e.getURL())}const a=e.getTextContent(),s=hwe(a,t);if(s===null||s.text!==a||!mwe(e)||!gwe(e))return MA(e),void r(null,e.getURL());const o=e.getURL();if(o!==s.url&&(e.setURL(s.url),r(s.url,o)),s.attributes){const l=e.getRel();l!==s.attributes.rel&&(e.setRel(s.attributes.rel||null),r(s.attributes.rel||null,l));const u=e.getTarget();u!==s.attributes.target&&(e.setTarget(s.attributes.target||null),r(s.attributes.target||null,u))}}function MA(e){const t=e.getChildren();for(let r=t.length-1;r>=0;r--)e.insertAfter(t[r]);return e.remove(),t.map(r=>r.getLatest())}function lrt(e,t,r){ne.useEffect(()=>{e.hasNodes([vk])||nrt(77);const n=(i,a)=>{r&&r(i,a)};return fu(e.registerNodeTransform(fm,i=>{const a=i.getParentOrThrow(),s=i.getPreviousSibling();if(E_(a)&&!a.getIsUnlinked())e8(a,t,n);else if(!Ug(a)){if(i.isSimpleText()&&(Y7(i.getTextContent())||!E_(s))){const o=function(l){const u=[l];let f=l.getNextSibling();for(;f!==null&&Rn(f)&&f.isSimpleText()&&(u.push(f),!/[\s]/.test(f.getTextContent()));)f=f.getNextSibling();return u}(i);(function(l,u,f){let h=[...l];const p=h.map(x=>x.getTextContent()).join("");let m,v=p,w=0;for(;(m=hwe(v,u))&&m!==null;){const x=m.index,T=x+m.length;if(art(w+x,w+T,p,h)){const[A,,P,S]=ort(h,w+x,w+T),E=srt(P,w+x-A,w+T-A,m);h=E?[E,...S]:S,f(m.url,null),w=0}else w+=T;v=v.substring(T)}})(o,t,n)}(function(o,l,u){const f=o.getPreviousSibling(),h=o.getNextSibling(),p=o.getTextContent();var m;!E_(f)||f.getIsUnlinked()||Y7(p)&&(m=p,!(f.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(m):/^\.[a-zA-Z0-9]{1,}/.test(m)))||(f.append(o),e8(f,l,u),u(null,f.getURL())),!E_(h)||h.getIsUnlinked()||pwe(p)||(MA(h),e8(h,l,u),u(null,h.getURL()))})(i,t,n)}}),e.registerCommand(V7,i=>{const a=ln();return i!==null||!Vr(a)||a.extract().forEach(s=>{const o=s.getParent();if(E_(o))return o.setIsUnlinked(!o.getIsUnlinked()),o.markDirty(),!0}),!1},ds))},[e,t,r])}function oSt({matchers:e,onChange:t}){const[r]=Xs();return lrt(r,e,t),null}const Xle="startTransition",X7=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,urt=X7?ne.useLayoutEffect:ne.useEffect;let sSt=class{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}};const Jle=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const r=t.getBoundingClientRect();r.top+r.height>window.innerHeight&&t.scrollIntoView({block:"center"}),r.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function Qle(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return r.top>n.top&&r.top<n.bottom}function crt(e,t,r,n){const[i]=Xs();ne.useEffect(()=>{if(t!=null&&e!=null){const a=i.getRootElement(),s=a!=null?function(h,p){let m=getComputedStyle(h);const v=m.position==="absolute",w=/(auto|scroll)/;if(m.position==="fixed")return document.body;for(let x=h;x=x.parentElement;)if(m=getComputedStyle(x),(!v||m.position!=="static")&&w.test(m.overflow+m.overflowY+m.overflowX))return x;return document.body}(a):document.body;let o=!1,l=Qle(t,s);const u=function(){o||(window.requestAnimationFrame(function(){r(),o=!1}),o=!0);const h=Qle(t,s);h!==l&&(l=h,n!=null&&n(h))},f=new ResizeObserver(r);return window.addEventListener("resize",r),document.addEventListener("scroll",u,{capture:!0,passive:!0}),f.observe(t),()=>{f.unobserve(t),window.removeEventListener("resize",r),document.removeEventListener("scroll",u,!0)}}},[t,i,n,r,e])}const eue=dv();function frt({close:e,editor:t,anchorElementRef:r,resolution:n,options:i,menuRenderFn:a,onSelectOption:s,shouldSplitNodeWithQuery:o=!1,commandPriority:l=ds}){const[u,f]=ne.useState(null),h=n.match&&n.match.matchingString;ne.useEffect(()=>{f(0)},[h]);const p=ne.useCallback(v=>{t.update(()=>{const w=n.match!=null&&o?function(x){const T=ln();if(!Vr(T)||!T.isCollapsed())return null;const A=T.anchor;if(A.type!=="text")return null;const P=A.getNode();if(!P.isSimpleText())return null;const S=A.offset,E=P.getTextContent().slice(0,S),_=x.replaceableString.length,R=S-function(F,$,z){let q=z;for(let Z=q;Z<=$.length;Z++)F.slice(-Z)===$.substring(0,Z)&&(q=Z);return q}(E,x.matchingString,_);if(R<0)return null;let O;return R===0?[O]=P.splitText(S):[,O]=P.splitText(R,S),O}(n.match):null;s(v,w,e,n.match?n.match.matchingString:"")})},[t,o,n.match,s,e]),m=ne.useCallback(v=>{const w=t.getRootElement();w!==null&&(w.setAttribute("aria-activedescendant","typeahead-item-"+v),f(v))},[t]);return ne.useEffect(()=>()=>{const v=t.getRootElement();v!==null&&v.removeAttribute("aria-activedescendant")},[t]),urt(()=>{i===null?f(null):u===null&&m(0)},[i,u,m]),ne.useEffect(()=>fu(t.registerCommand(eue,({option:v})=>!(!v.ref||v.ref.current==null)&&(Jle(v.ref.current),!0),l)),[t,m,l]),ne.useEffect(()=>fu(t.registerCommand(wb,v=>{const w=v;if(i!==null&&i.length&&u!==null){const x=u!==i.length-1?u+1:0;m(x);const T=i[x];T.ref!=null&&T.ref.current&&t.dispatchCommand(eue,{index:x,option:T}),w.preventDefault(),w.stopImmediatePropagation()}return!0},l),t.registerCommand(ny,v=>{const w=v;if(i!==null&&i.length&&u!==null){const x=u!==0?u-1:i.length-1;m(x);const T=i[x];T.ref!=null&&T.ref.current&&Jle(T.ref.current),w.preventDefault(),w.stopImmediatePropagation()}return!0},l),t.registerCommand(kS,v=>{const w=v;return w.preventDefault(),w.stopImmediatePropagation(),e(),!0},l),t.registerCommand(Uw,v=>{const w=v;return i!==null&&u!==null&&i[u]!=null&&(w.preventDefault(),w.stopImmediatePropagation(),p(i[u]),!0)},l),t.registerCommand(aw,v=>i!==null&&u!==null&&i[u]!=null&&(v!==null&&(v.preventDefault(),v.stopImmediatePropagation()),p(i[u]),!0),l)),[p,e,t,i,u,m,l]),a(r,ne.useMemo(()=>({options:i,selectOptionAndCleanUp:p,selectedIndex:u,setHighlightedIndex:f}),[p,u,i]),n.match?n.match.matchingString:"")}const drt=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`;function uSt(e,{minLength:t=1,maxLength:r=75}){return ne.useCallback(n=>{const i=new RegExp("(^|\\s|\\()(["+e+"]((?:"+("[^"+e+drt+"\\s]")+"){0,"+r+"}))$").exec(n);if(i!==null){const a=i[1],s=i[3];if(s.length>=t)return{leadOffset:i.index+a.length,matchingString:s,replaceableString:i[2]}}return null},[r,t,e])}function cSt({options:e,onQueryChange:t,onSelectOption:r,onOpen:n,onClose:i,menuRenderFn:a,triggerFn:s,anchorClassName:o,commandPriority:l=ds,parent:u}){const[f]=Xs(),[h,p]=ne.useState(null),m=function(x,T,A,P=X7?document.body:void 0,S=!0){const[E]=Xs(),_=ne.useRef(X7?document.createElement("div"):null),R=ne.useCallback(()=>{if(_.current===null||P===void 0)return;_.current.style.top=_.current.style.bottom;const $=E.getRootElement(),z=_.current,q=z.firstChild;if($!==null&&x!==null){const{left:Z,top:V,width:J,height:fe}=x.getRect(),ue=_.current.offsetHeight;if(z.style.top=`${V+ue+3+(S?window.pageYOffset:0)}px`,z.style.left=`${Z+window.pageXOffset}px`,z.style.height=`${fe}px`,z.style.width=`${J}px`,q!==null){q.style.top=`${V}`;const pe=q.getBoundingClientRect(),ve=pe.height,le=pe.width,se=$.getBoundingClientRect();Z+le>se.right&&(z.style.left=`${se.right-le+window.pageXOffset}px`),(V+ve>window.innerHeight||V+ve>se.bottom)&&V-se.top>ve+fe&&(z.style.top=`${V-ve-fe+(S?window.pageYOffset:0)}px`)}z.isConnected||(A!=null&&(z.className=A),z.setAttribute("aria-label","Typeahead menu"),z.setAttribute("id","typeahead-menu"),z.setAttribute("role","listbox"),z.style.display="block",z.style.position="absolute",P.append(z)),_.current=z,$.setAttribute("aria-controls","typeahead-menu")}},[E,x,S,A,P]);ne.useEffect(()=>{const $=E.getRootElement();if(x!==null)return R(),()=>{$!==null&&$.removeAttribute("aria-controls");const z=_.current;z!==null&&z.isConnected&&z.remove()}},[E,R,x]);const O=ne.useCallback($=>{x!==null&&($||T(null))},[x,T]);crt(x,_.current,R,O);const F=_.current;return F!=null&&(F.style.position="absolute",P!=null&&P.append(F)),_}(h,p,o,u),v=ne.useCallback(()=>{p(null),i!=null&&h!==null&&i()},[i,h]),w=ne.useCallback(x=>{p(x),n!=null&&h===null&&n(x)},[n,h]);return ne.useEffect(()=>{const x=f.registerUpdateListener(()=>{f.getEditorState().read(()=>{if(!f.isEditable())return void v();const T=f._window||window,A=T.document.createRange(),P=ln(),S=function(R){let O=null;return R.getEditorState().read(()=>{const F=ln();Vr(F)&&(O=function($){const z=$.anchor;if(z.type!=="text")return null;const q=z.getNode();if(!q.isSimpleText())return null;const Z=z.offset;return q.getTextContent().slice(0,Z)}(F))}),O}(f);if(!Vr(P)||!P.isCollapsed()||S===null||A===null)return void v();const E=s(S,f);if(t(E?E.matchingString:null),E!==null&&!function(R,O){return O===0&&R.getEditorState().read(()=>{const F=ln();if(Vr(F)){const $=F.anchor.getNode().getPreviousSibling();return Rn($)&&$.isTextEntity()}return!1})}(f,E.leadOffset)&&function(O,F,$){const z=eh($);if(z===null||!z.isCollapsed)return!1;const q=z.anchorNode,Z=O,V=z.anchorOffset;if(q==null||V==null)return!1;try{F.setStart(q,Z),F.setEnd(q,V)}catch{return!1}return!0}(E.leadOffset,A,T)!==null)return _=()=>w({getRect:()=>A.getBoundingClientRect(),match:E}),void(Xle in ze?ze[Xle](_):_());var _;v()})});return()=>{x()}},[f,s,t,h,v,w]),ne.useEffect(()=>f.registerEditableListener(x=>{x||v()}),[f,v]),h===null||f===null||m.current===null?null:io.jsx(frt,{close:v,resolution:h,editor:f,anchorElementRef:m,options:e,menuRenderFn:a,shouldSplitNodeWithQuery:!0,onSelectOption:r,commandPriority:l})}function fSt(e,t,r){const[n]=Xs();ne.useEffect(()=>fu(...NJe(n,e,t,r)),[r,n,e,t])}function dSt({validateUrl:e,attributes:t}){const[r]=Xs();return ne.useEffect(()=>{if(!r.hasNodes([US]))throw new Error("LinkPlugin: LinkNode not registered on editor");return fu(r.registerCommand(V7,n=>{if(n===null)return Qz(n),!0;if(typeof n=="string")return!(e!==void 0&&!e(n))&&(Qz(n,t),!0);{const{url:i,target:a,rel:s,title:o}=n;return Qz(i,{...t,rel:s,target:a,title:o}),!0}},ds),e!==void 0?r.registerCommand(UP,n=>{const i=ln();if(!Vr(i)||i.isCollapsed()||!Bv(n,ClipboardEvent))return!1;const a=n;if(a.clipboardData===null)return!1;const s=a.clipboardData.getData("text");return!!e(s)&&!i.getNodes().some(o=>qr(o))&&(r.dispatchCommand(V7,{...t,url:s}),n.preventDefault(),!0)},ds):()=>{})},[r,e,t]),null}function oV(e){return[e.getKey(),e.getTextContent(),e.getTag()]}function hrt(e,t,r){if(t===null)return r;const n=oV(t);let i=[];if(e===null){if(r.length>0&&r[0][0]===t.__key)return r;i=[n,...r]}else for(let a=0;a<r.length;a++){const s=r[a][0];if(i.push(r[a]),s===e.getKey()&&s!==t.getKey()){if(a+1<r.length&&r[a+1][0]===t.__key)return r;i.push(n)}}return i}function prt(e,t){const r=[];for(const n of t)n[0]!==e&&r.push(n);return r}function mrt(e,t){const r=[];for(const n of t)n[0]===e.getKey()?r.push(oV(e)):r.push(n);return r}function tue(e,t,r){const n=[],i=oV(t);e||n.push(i);for(const a of r)a[0]!==t.getKey()&&(n.push(a),e&&a[0]===e.getKey()&&n.push(i));return n}function t8(e){let t=Ase(e);for(;t!==null&&!VC(t);)t=Ase(t);return t}function hSt({children:e}){const[t,r]=ne.useState([]),[n]=Xs();return ne.useEffect(()=>{let i=[];n.getEditorState().read(()=>{const l=u=>{for(const f of u.getChildren())VC(f)?i.push([f.getKey(),f.getTextContent(),f.getTag()]):qr(f)&&l(f)};l(Js()),r(i)});const a=n.registerUpdateListener(({editorState:l,dirtyElements:u})=>{l.read(()=>{const f=h=>{for(const p of h.getChildren())if(VC(p)){const m=t8(p);i=tue(m,p,i),r(i)}else qr(p)&&f(p)};Js().getChildren().forEach(h=>{qr(h)&&u.get(h.__key)&&f(h)})})}),s=n.registerMutationListener(gk,l=>{n.getEditorState().read(()=>{for(const[u,f]of l)if(f==="created"){const h=ps(u);if(h!==null){const p=t8(h);i=hrt(p,h,i)}}else if(f==="destroyed")i=prt(u,i);else if(f==="updated"){const h=ps(u);if(h!==null){const p=t8(h);i=tue(p,h,i)}}r(i)})},{skipInitialization:!0}),o=n.registerMutationListener(fm,l=>{n.getEditorState().read(()=>{for(const[u,f]of l)if(f==="updated"){const h=ps(u);if(h!==null){const p=h.getParentOrThrow();VC(p)&&(i=mrt(p,i),r(i))}}})},{skipInitialization:!0});return()=>{s(),o(),a()}},[n]),e(t,n)}const vwe=[];let ywe=class bwe extends Vh{static getType(){return"mark"}static clone(t){return new bwe(t.__ids,t.__key)}static importDOM(){return null}static importJSON(t){return rue().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIDs(t.ids)}exportJSON(){return{...super.exportJSON(),ids:this.getIDs()}}constructor(t=vwe,r){super(r),this.__ids=t}createDOM(t){const r=document.createElement("mark");return Ru(r,t.theme.mark),this.__ids.length>1&&Ru(r,t.theme.markOverlap),r}updateDOM(t,r,n){const i=t.__ids,a=this.__ids,s=i.length,o=a.length,l=n.theme.markOverlap;return s!==o&&(s===1?o===2&&Ru(r,l):o===1&&hv(r,l)),!1}hasID(t){return this.getIDs().includes(t)}getIDs(){return Array.from(this.getLatest().__ids)}setIDs(t){const r=this.getWritable();return r.__ids=t,r}addID(t){const r=this.getWritable();return r.__ids.includes(t)?r:r.setIDs([...r.__ids,t])}deleteID(t){const r=this.getWritable(),n=r.__ids.indexOf(t);if(n===-1)return r;const i=Array.from(r.__ids);return i.splice(n,1),r.setIDs(i)}insertNewAfter(t,r=!0){const n=rue(this.__ids);return this.insertAfter(n,r),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,r,n){if(!Vr(r)||n==="html")return!1;const i=r.anchor,a=r.focus,s=i.getNode(),o=a.getNode(),l=r.isBackward()?i.offset-a.offset:a.offset-i.offset;return this.isParentOf(s)&&this.isParentOf(o)&&this.getTextContent().length===l}excludeFromCopy(t){return t!=="clone"}};function rue(e=vwe){return td(new ywe(e))}function grt(e){return e instanceof ywe}const _we=Object.freeze({"	":"\\t","\n":"\\n"}),nue=new RegExp(Object.keys(_we).join("|"),"g"),kv=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"├",isLastChild:"└",selectedChar:"^",selectedLine:">"}),vrt=[e=>e.hasFormat("bold")&&"Bold",e=>e.hasFormat("code")&&"Code",e=>e.hasFormat("italic")&&"Italic",e=>e.hasFormat("strikethrough")&&"Strikethrough",e=>e.hasFormat("subscript")&&"Subscript",e=>e.hasFormat("superscript")&&"Superscript",e=>e.hasFormat("underline")&&"Underline",e=>e.hasFormat("highlight")&&"Highlight"],yrt=[e=>e.hasTextFormat("bold")&&"Bold",e=>e.hasTextFormat("code")&&"Code",e=>e.hasTextFormat("italic")&&"Italic",e=>e.hasTextFormat("strikethrough")&&"Strikethrough",e=>e.hasTextFormat("subscript")&&"Subscript",e=>e.hasTextFormat("superscript")&&"Superscript",e=>e.hasTextFormat("underline")&&"Underline",e=>e.hasTextFormat("highlight")&&"Highlight"],brt=[e=>e.isDirectionless()&&"Directionless",e=>e.isUnmergeable()&&"Unmergeable"],_rt=[e=>e.isToken()&&"Token",e=>e.isSegmented()&&"Segmented"];function wrt(e,t,r,n,i=!1){const a=e.getEditorState(),s=e._config,o=e._compositionKey,l=e._editable;if(r){let p="";return a.read(()=>{p=function(m){const v=document.createElement("div");return v.innerHTML=m.trim(),xwe(v,0).innerHTML}(O_e(e))}),p}let u=` root
`;const f=a.read(()=>{const p=ln();return wwe(Js(),(m,v)=>{const w=`(${m.getKey()})`,x=m.getType()||"",T=m.isSelected();u+=`${T?kv.selectedLine:" "} ${v.join(" ")} ${w} ${x} ${function(A,P,S=!1){const E=P?P(A,S):void 0;if(E!==void 0&&E.length>0)return E;if(Rn(A)){const _=A.getTextContent(),R=_.length===0?"(empty)":`"${iue(_,S)}"`,O=function(F){return[aue(F),xrt(F),Srt(F)].filter(Boolean).join(", ")}(A);return[R,O.length!==0?`{ ${O} }`:null].filter(Boolean).join(" ").trim()}if(Ug(A)){const _=A.getURL(),R=_.length===0?"(empty)":`"${iue(_,S)}"`,O=function(F){return[Ert(F),Crt(F),Prt(F)].filter(Boolean).join(", ")}(A);return[R,O.length!==0?`{ ${O} }`:null].filter(Boolean).join(" ").trim()}if(grt(A))return`ids: [ ${A.getIDs().join(", ")} ]`;if(Hw(A)){const _=function(O){let F=yrt.map($=>$(O)).filter(Boolean).join(", ").toLocaleLowerCase();return F!==""&&(F="format: "+F),F}(A);let R=_!==""?`{ ${_} }`:"";return R+=A.__style?`(${A.__style})`:"",R}return""}(m,n,i)}
`,u+=function({indent:A,isSelected:P,node:S,nodeKeyDisplay:E,selection:_,typeDisplay:R}){if(!Rn(S)||!Vr(_)||!P||qr(S))return"";const O=_.anchor,F=_.focus;if(S.getTextContent()===""||O.getNode()===_.focus.getNode()&&O.offset===F.offset)return"";const[$,z]=function(pe,ve){const le=ve.getStartEndPoints();if(gf(ve)||le===null)return[-1,-1];const[se,ge]=le,_e=pe.getTextContent(),ke=_e.length;let Ge=-1,ct=-1;if(se.type==="text"&&ge.type==="text"){const Ee=se.getNode(),Re=ge.getNode();Ee===Re&&pe===Ee&&se.offset!==ge.offset?[Ge,ct]=se.offset<ge.offset?[se.offset,ge.offset]:[ge.offset,se.offset]:[Ge,ct]=pe===Ee?Ee.isBefore(Re)?[se.offset,ke]:[0,se.offset]:pe===Re?Re.isBefore(Ee)?[ge.offset,ke]:[0,ge.offset]:[0,ke]}const $e=(_e.slice(0,Ge).match(nue)||[]).length,we=(_e.slice(Ge,ct).match(nue)||[]).length;return[Ge+$e,ct+$e+we]}(S,_);if($===z)return"";const q=A[A.length-1]===kv.hasNextSibling?kv.ancestorHasNextSibling:kv.ancestorIsLastChild,Z=[...A.slice(0,A.length-1),q],V=Array($+1).fill(" "),J=Array(z-$).fill(kv.selectedChar),fe=R.length+2,ue=Array(E.length+fe).fill(" ");return[kv.selectedLine,Z.join(" "),[...ue,...V,...J].join("")].join(" ")+`
`}({indent:v,isSelected:T,node:m,nodeKeyDisplay:w,selection:p,typeDisplay:x})}),p===null?": null":Vr(p)?function(m){let v="";const w=aue(m);v+=`: range ${w!==""?`{ ${w} }`:""} ${m.style!==""?`{ style: ${m.style} } `:""}`;const x=m.anchor,T=m.focus,A=x.offset,P=T.offset;return v+=`
  ├ anchor { key: ${x.key}, offset: ${A===null?"null":A}, type: ${x.type} }`,v+=`
  └ focus { key: ${T.key}, offset: ${P===null?"null":P}, type: ${T.type} }`,v}(p):dl(p)?function(m){return`: table
  └ { table: ${m.tableKey}, anchorCell: ${m.anchor.key}, focusCell: ${m.focus.key} }`}(p):function(m){return gf(m)?`: node
  └ [${Array.from(m._nodes).join(", ")}]`:""}(p)});if(u+=`
 selection`+f,u+=`

 commands:`,t.length)for(const{index:p,type:m,payload:v}of t)u+=`
  └ ${p}. { type: ${m}, payload: ${v instanceof Event?v.constructor.name:v} }`;else u+=`
  └ None dispatched.`;const{version:h}=e.constructor;return u+=`

 editor${h?` (v${h})`:""}:`,u+=`
  └ namespace ${s.namespace}`,o!==null&&(u+=`
  └ compositionKey ${o}`),u+=`
  └ editable ${String(l)}`,u}function wwe(e,t,r=[]){const n=e.getChildren(),i=n.length;n.forEach((a,s)=>{t(a,r.concat(s===i-1?kv.isLastChild:kv.hasNextSibling)),qr(a)&&wwe(a,t,r.concat(s===i-1?kv.ancestorIsLastChild:kv.ancestorHasNextSibling))})}function iue(e,t=!1){const r=Object.entries(_we).reduce((n,[i,a])=>n.replace(new RegExp(i,"g"),String(a)),e);return t?r.replace(/[^\s]/g,"*"):r}function xrt(e){let t=brt.map(r=>r(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="detail: "+t),t}function Srt(e){let t=_rt.map(r=>r(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="mode: "+t),t}function aue(e){let t=vrt.map(r=>r(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="format: "+t),t}function Ert(e){let t=e.getTarget();return t!=null&&(t="target: "+t),t}function Crt(e){let t=e.getRel();return t!=null&&(t="rel: "+t),t}function Prt(e){let t=e.getTitle();return t!=null&&(t="title: "+t),t}function xwe(e,t){const r=new Array(1+t++).join("  "),n=new Array(t-1).join("  ");let i;for(let a=0;a<e.children.length;a++)i=document.createTextNode(`
`+r),e.insertBefore(i,e.children[a]),xwe(e.children[a],t),e.lastElementChild===e.children[a]&&(i=document.createTextNode(`
`+n),e.appendChild(i));return e}const Trt=ne.forwardRef(function({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:r,timeTravelPanelButtonClassName:n,viewClassName:i,timeTravelPanelClassName:a,editorState:s,setEditorState:o,setEditorReadOnly:l,generateContent:u},f){const[h,p]=ne.useState([]),[m,v]=ne.useState(""),[w,x]=ne.useState(!1),[T,A]=ne.useState(!1),P=ne.useRef(0),S=ne.useRef(null),[E,_]=ne.useState(!1),[R,O]=ne.useState(!1),[F,$]=ne.useState(!1),z=ne.useRef(),q=ne.useRef(0),Z=ne.useCallback(J=>{const fe=++q.current;u(J).then(ue=>{fe===q.current&&v(ue)}).catch(ue=>{fe===q.current&&v(`Error rendering tree: ${ue.message}

Stack:
${ue.stack}`)})},[u]);ne.useEffect(()=>{!F&&s._nodeMap.size>1e3&&(O(!0),!F)||z.current!==s&&(z.current=s,Z(T),w||p(J=>[...J,[Date.now(),s]]))},[s,Z,T,F,w]);const V=h.length;return ne.useEffect(()=>{if(E){let J;const fe=()=>{const ue=P.current;if(ue===V-1)return void _(!1);const pe=h[ue][0],ve=h[ue+1][0];J=setTimeout(()=>{P.current++;const le=P.current,se=S.current;se!==null&&(se.value=String(le)),o(h[le][1]),fe()},ve-pe)};return fe(),()=>{clearTimeout(J)}}},[h,E,V,o]),io.jsxs("div",{className:i,children:[!F&&R?io.jsxs("div",{style:{padding:20},children:[io.jsx("span",{style:{marginRight:20},children:"Detected large EditorState, this can impact debugging performance."}),io.jsx("button",{onClick:()=>{$(!0)},style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer",padding:5},children:"Show full tree"})]}):null,F?null:io.jsx("button",{onClick:()=>(Z(!T),void A(!T)),className:e,type:"button",children:T?"Tree":"Export DOM"}),!w&&(F||!R)&&V>2&&io.jsx("button",{onClick:()=>{l(!0),P.current=V-1,x(!0)},className:t,type:"button",children:"Time Travel"}),(F||!R)&&io.jsx("pre",{ref:f,children:m}),w&&(F||!R)&&io.jsxs("div",{className:a,children:[io.jsx("button",{className:n,onClick:()=>{P.current===V-1&&(P.current=1),_(!E)},type:"button",children:E?"Pause":"Play"}),io.jsx("input",{className:r,ref:S,onChange:J=>{const fe=Number(J.target.value),ue=h[fe];ue&&(P.current=fe,o(ue[1]))},type:"range",min:"1",max:V-1}),io.jsx("button",{className:n,onClick:()=>{l(!1);const J=h.length-1,fe=h[J];o(fe[1]);const ue=S.current;ue!==null&&(ue.value=String(J)),x(!1),_(!1)},type:"button",children:"Exit"})]})]})});function Rrt(e,t){const r=new Set;let n=0;for(const[i]of e._commands)r.add(e.registerCommand(i,a=>(t(s=>{n+=1;const o=[...s];return o.push({index:n,payload:a,type:i.type?i.type:"UNKNOWN"}),o.length>10&&o.shift(),o}),!1),Xp));return()=>r.forEach(i=>i())}function Art(e){const[t,r]=ne.useState([]);return ne.useEffect(()=>Rrt(e,r),[e]),ne.useMemo(()=>t,[t])}function pSt({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:r,timeTravelPanelButtonClassName:n,timeTravelPanelClassName:i,viewClassName:a,editor:s,customPrintNode:o}){const l=ne.createRef(),[u,f]=ne.useState(s.getEditorState()),h=Art(s);return ne.useEffect(()=>fu(s.registerUpdateListener(({editorState:p})=>{f(p)}),s.registerEditableListener(()=>{f(s.getEditorState())})),[s]),ne.useEffect(()=>{const p=l.current;if(p!==null)return p.__lexicalEditor=s,()=>{p.__lexicalEditor=null}},[s,l]),io.jsx(Trt,{treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:r,timeTravelPanelButtonClassName:n,viewClassName:a,timeTravelPanelClassName:i,setEditorReadOnly:p=>{const m=s.getRootElement();m!=null&&(m.contentEditable=p?"false":"true")},editorState:u,setEditorState:p=>s.setEditorState(p),generateContent:async function(p){return wrt(s,h,p,o)},ref:l})}const Swe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne.useLayoutEffect:ne.useEffect;function Ort({editor:e,ariaActiveDescendant:t,ariaAutoComplete:r,ariaControls:n,ariaDescribedBy:i,ariaErrorMessage:a,ariaExpanded:s,ariaInvalid:o,ariaLabel:l,ariaLabelledBy:u,ariaMultiline:f,ariaOwns:h,ariaRequired:p,autoCapitalize:m,className:v,id:w,role:x="textbox",spellCheck:T=!0,style:A,tabIndex:P,"data-testid":S,...E},_){const[R,O]=ne.useState(e.isEditable()),F=ne.useCallback(z=>{z&&z.ownerDocument&&z.ownerDocument.defaultView?e.setRootElement(z):e.setRootElement(null)},[e]),$=ne.useMemo(()=>function(...z){return q=>{z.forEach(Z=>{typeof Z=="function"?Z(q):Z!=null&&(Z.current=q)})}}(_,F),[F,_]);return Swe(()=>(O(e.isEditable()),e.registerEditableListener(z=>{O(z)})),[e]),io.jsx("div",{"aria-activedescendant":R?t:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?n:void 0,"aria-describedby":i,...a!=null?{"aria-errormessage":a}:{},"aria-expanded":R&&x==="combobox"?!!s:void 0,...o!=null?{"aria-invalid":o}:{},"aria-label":l,"aria-labelledby":u,"aria-multiline":f,"aria-owns":R?h:void 0,"aria-readonly":!R||void 0,"aria-required":p,autoCapitalize:m,className:v,contentEditable:R,"data-testid":S,id:w,ref:$,role:R?x:void 0,spellCheck:T,style:A,tabIndex:P,...E})}const Irt=ne.forwardRef(Ort);function oue(e){return e.getEditorState().read(WW(e.isComposing()))}const mSt=ne.forwardRef(Mrt);function Mrt(e,t){const{placeholder:r,...n}=e,[i]=Xs();return io.jsxs(io.Fragment,{children:[io.jsx(Irt,{editor:i,...n,ref:t}),r!=null&&io.jsx(krt,{editor:i,content:r})]})}function krt({content:e,editor:t}){const r=function(s){const[o,l]=ne.useState(()=>oue(s));return Swe(()=>{function u(){const f=oue(s);l(f)}return u(),fu(s.registerUpdateListener(()=>{u()}),s.registerEditableListener(()=>{u()}))},[s]),o}(t),[n,i]=ne.useState(t.isEditable());if(ne.useLayoutEffect(()=>(i(t.isEditable()),t.registerEditableListener(s=>{i(s)})),[t]),!r)return null;let a=null;return typeof e=="function"?a=e(n):e!==null&&(a=e),a===null?null:io.jsx("div",{"aria-hidden":!0,children:a})}var r8={},n8={},sue;function Drt(){return sue||(sue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(a)}var r=Math.max,n=Math.min;function i(a,s,o){var l,u,f,h,p,m,v=0,w=!1,x=!1,T=!0;if(typeof a!="function")throw new TypeError("FUNCTION ERROR TEXT LOL");s=Number(s)||0,t(o)==="object"&&(w=!!o.leading,x="maxWait"in o,f=x?r(Number(o.maxWait)||0,s):f,T="trailing"in o?!!o.trailing:T);function A(z){var q=l,Z=u;return l=u=void 0,v=z,h=a.apply(Z,q),h}function P(z){return v=z,p=setTimeout(_,s),w?A(z):h}function S(z){var q=z-m,Z=z-v,V=s-q;return x?n(V,f-Z):V}function E(z){var q=z-m,Z=z-v;return m===void 0||q>=s||q<0||x&&Z>=f}function _(){var z=Date.now();if(E(z))return R(z);p=setTimeout(_,S(z))}function R(z){return p=void 0,T&&l?A(z):(l=u=void 0,h)}function O(){p!==void 0&&clearTimeout(p),v=0,l=m=u=p=void 0}function F(){return p===void 0?h:R(Date.now())}function $(){var z=Date.now(),q=E(z);if(l=arguments,u=this,m=z,q){if(p===void 0)return P(m);if(x)return p=setTimeout(_,s),A(m)}return p===void 0&&(p=setTimeout(_,s)),h}return $.cancel=O,$.flush=F,$}e.default=i}(n8)),n8}var V0={},i8={},a8={},o8={},lue;function Frt(){return lue||(lue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(wH());function r(i){return i&&i.__esModule?i:{default:i}}function n(){return new t.default}e.default=n}(o8)),o8}var s8={},uue;function Lrt(){return uue||(uue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(wH());function r(i){return i&&i.__esModule?i:{default:i}}function n(){return new t.default}e.default=n}(s8)),s8}var cue;function Nrt(){return cue||(cue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(Frt()),r=n(Lrt());function n(h){return h&&h.__esModule?h:{default:h}}var i=Object.prototype.hasOwnProperty,a=function(){};function s(){}s.create=function(h){var p=new s;return p.subscribe=function(m,v,w){var x,T;return typeof m=="function"?x={onNext:m,onError:v||a,onCompleted:w||a}:x=m,T=h(x),typeof T=="function"?{dispose:T}:T},p};function o(h,p,m){return s.create(function(w){var x={method:h||"GET",crossDomain:!1,async:!0,headers:{},responseType:"json"},T,A,P,S,E;for(E in p)i.call(p,E)&&(x[E]=p[E]);!x.crossDomain&&!x.headers["X-Requested-With"]&&(x.headers["X-Requested-With"]="XMLHttpRequest"),m.onBeforeRequest!=null&&m.onBeforeRequest(x);try{T=x.crossDomain?(0,r.default)():(0,t.default)()}catch(_){w.onError(_)}try{x.user?T.open(x.method,x.url,x.async,x.user,x.password):T.open(x.method,x.url,x.async),T.timeout=x.timeout,T.withCredentials=x.withCredentials!==!1,P=x.headers;for(S in P)i.call(P,S)&&T.setRequestHeader(S,P[S]);if(x.responseType)try{T.responseType=x.responseType}catch(_){if(x.responseType!=="json")throw _}T.onreadystatechange=function(R){T.readyState===4&&(A||(A=!0,u(w,T,R)))},T.ontimeout=function(R){A||(A=!0,f(w,T,"timeout error",R))},T.send(x.data)}catch(_){w.onError(_)}return function(){!A&&T.readyState!==4&&(A=!0,T.abort())}})}function l(h,p,m){m||(m=new Error(p)),h.onError(m)}function u(h,p,m){var v,w;if(p&&h){w=p.responseType,v="response"in p?p.response:p.responseText;var x=p.status===1223?204:p.status;if(x>=200&&x<=399){try{w!=="json"&&(v=JSON.parse(v||"")),typeof v=="string"&&(v=JSON.parse(v||""))}catch(T){l(h,"invalid json",T)}h.onNext(v),h.onCompleted();return}else return x===401||x===403||x===407||x===410||x===408||x===504?l(h,v):l(h,v||"Response code "+x)}}function f(h,p,m,v){l(h,m,v)}e.default=o}(a8)),a8}var l8={},fue;function $rt(){return fue||(fue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(n){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(n)}function r(n,i,a){var s=[],o,l={url:n},u=n.indexOf("?")!==-1,f=u?"&":"?";return typeof a=="string"?s.push(a):(o=Object.keys(a),o.forEach(function(h){var p=t(a[h])==="object"?JSON.stringify(a[h]):a[h];s.push(h+"="+encodeURIComponent(p))})),i==="GET"?l.url+=f+s.join("&"):l.data=s.join("&"),l}e.default=r}(l8)),l8}var due;function zrt(){return due||(due=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(Nrt()),r=n($rt());function n(s){return s&&s.__esModule?s:{default:s}}function i(s,o){var l;for(l in o)s[l]=o[l];return s}function a(s,o){if(this._jsongUrl=s,typeof o=="number"){var l={timeout:o};o=l}this._config=i({timeout:15e3,headers:{}},o||{})}a.prototype={constructor:a,buildQueryObject:r.default,get:function(o){var l="GET",u=this.buildQueryObject(this._jsongUrl,l,{paths:o,method:"get"}),f=i(u,this._config);return(0,t.default)(l,f,this)},set:function(o){var l="POST",u,f;return!this._config.headers||!this._config.headers["Content-Type"]||!this._config.headers["Content-Type"].match(/application\/json/)?(f=this.buildQueryObject(this._jsongUrl,l,{jsonGraph:o,method:"set"}),u=i(f,this._config),u.headers["Content-Type"]="application/x-www-form-urlencoded"):u=i({url:this._jsongUrl,data:JSON.stringify({jsonGraph:JSON.stringify(o),method:"set"})},this._config),(0,t.default)(l,u,this)},call:function(o,l,u,f){l=l||[],u=u||[],f=f||[];var h="POST",p,m=[],v;return!this._config.headers||!this._config.headers["Content-Type"]||!this._config.headers["Content-Type"].match(/application\/json/)?(m.push("method=call"),m.push("callPath="+encodeURIComponent(JSON.stringify(o))),m.push("arguments="+encodeURIComponent(JSON.stringify(l))),m.push("pathSuffixes="+encodeURIComponent(JSON.stringify(u))),m.push("paths="+encodeURIComponent(JSON.stringify(f))),v=this.buildQueryObject(this._jsongUrl,h,m.join("&")),p=i(v,this._config),p.headers["Content-Type"]="application/x-www-form-urlencoded"):p=i({url:this._jsongUrl,data:JSON.stringify({method:"call",callPath:JSON.stringify(o),arguments:JSON.stringify(l),pathSuffixes:JSON.stringify(u),paths:JSON.stringify(f)})},this._config),(0,t.default)(h,p,this)}},a.XMLHttpSource=a,a.default=a,e.default=a}(i8)),i8}var u8,hue;function Brt(){if(hue)return u8;hue=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl,u=typeof self=="object"&&self&&self.Object===Object&&self,f=l||u||Function("return this")(),h=Object.prototype,p=h.toString,m=Math.max,v=Math.min,w=function(){return f.Date.now()};function x(_,R,O){var F,$,z,q,Z,V,J=0,fe=!1,ue=!1,pe=!0;if(typeof _!="function")throw new TypeError(e);R=E(R)||0,A(O)&&(fe=!!O.leading,ue="maxWait"in O,z=ue?m(E(O.maxWait)||0,R):z,pe="trailing"in O?!!O.trailing:pe);function ve(we){var Ee=F,Re=$;return F=$=void 0,J=we,q=_.apply(Re,Ee),q}function le(we){return J=we,Z=setTimeout(_e,R),fe?ve(we):q}function se(we){var Ee=we-V,Re=we-J,ft=R-Ee;return ue?v(ft,z-Re):ft}function ge(we){var Ee=we-V,Re=we-J;return V===void 0||Ee>=R||Ee<0||ue&&Re>=z}function _e(){var we=w();if(ge(we))return ke(we);Z=setTimeout(_e,se(we))}function ke(we){return Z=void 0,pe&&F?ve(we):(F=$=void 0,q)}function Ge(){Z!==void 0&&clearTimeout(Z),J=0,F=V=$=Z=void 0}function ct(){return Z===void 0?q:ke(w())}function $e(){var we=w(),Ee=ge(we);if(F=arguments,$=this,V=we,Ee){if(Z===void 0)return le(V);if(ue)return Z=setTimeout(_e,R),ve(V)}return Z===void 0&&(Z=setTimeout(_e,R)),q}return $e.cancel=Ge,$e.flush=ct,$e}function T(_,R,O){var F=!0,$=!0;if(typeof _!="function")throw new TypeError(e);return A(O)&&(F="leading"in O?!!O.leading:F,$="trailing"in O?!!O.trailing:$),x(_,R,{leading:F,maxWait:R,trailing:$})}function A(_){var R=typeof _;return!!_&&(R=="object"||R=="function")}function P(_){return!!_&&typeof _=="object"}function S(_){return typeof _=="symbol"||P(_)&&p.call(_)==r}function E(_){if(typeof _=="number")return _;if(S(_))return t;if(A(_)){var R=typeof _.valueOf=="function"?_.valueOf():_;_=A(R)?R+"":R}if(typeof _!="string")return _===0?_:+_;_=_.replace(n,"");var O=a.test(_);return O||s.test(_)?o(_.slice(2),O?2:8):i.test(_)?t:+_}return u8=T,u8}var pue;function jrt(){if(pue)return V0;pue=1;function e(qe){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},e(qe)}Object.defineProperty(V0,"__esModule",{value:!0}),V0.PromiseMap=se,V0.falcorGraph=V0.falcor=void 0;var t=Ave(),r=o(iH()),n=o(zrt()),i=o(Brt()),a=["falcor","onProgress","concurrency"],s=["index","placeholder"];function o(qe){return qe&&qe.__esModule?qe:{default:qe}}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(dt,he,ut){var xt=u(dt,he);if(xt){var je=Object.getOwnPropertyDescriptor(xt,he);return je.get?je.get.call(arguments.length<3?dt:ut):je.value}},l.apply(this,arguments)}function u(qe,dt){for(;!Object.prototype.hasOwnProperty.call(qe,dt)&&(qe=pe(qe),qe!==null););return qe}function f(qe,dt){var he=Object.keys(qe);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(qe);dt&&(ut=ut.filter(function(xt){return Object.getOwnPropertyDescriptor(qe,xt).enumerable})),he.push.apply(he,ut)}return he}function h(qe){for(var dt=1;dt<arguments.length;dt++){var he=arguments[dt]!=null?arguments[dt]:{};dt%2?f(Object(he),!0).forEach(function(ut){p(qe,ut,he[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(he)):f(Object(he)).forEach(function(ut){Object.defineProperty(qe,ut,Object.getOwnPropertyDescriptor(he,ut))})}return qe}function p(qe,dt,he){return dt=q(dt),dt in qe?Object.defineProperty(qe,dt,{value:he,enumerable:!0,configurable:!0,writable:!0}):qe[dt]=he,qe}function m(qe){return x(qe)||w(qe)||P(qe)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(qe){if(typeof Symbol<"u"&&qe[Symbol.iterator]!=null||qe["@@iterator"]!=null)return Array.from(qe)}function x(qe){if(Array.isArray(qe))return S(qe)}function T(qe,dt){return _(qe)||E(qe,dt)||P(qe,dt)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(qe,dt){if(qe){if(typeof qe=="string")return S(qe,dt);var he=Object.prototype.toString.call(qe).slice(8,-1);if(he==="Object"&&qe.constructor&&(he=qe.constructor.name),he==="Map"||he==="Set")return Array.from(qe);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return S(qe,dt)}}function S(qe,dt){(dt==null||dt>qe.length)&&(dt=qe.length);for(var he=0,ut=new Array(dt);he<dt;he++)ut[he]=qe[he];return ut}function E(qe,dt){var he=qe==null?null:typeof Symbol<"u"&&qe[Symbol.iterator]||qe["@@iterator"];if(he!=null){var ut,xt,je,rt,Ze=[],yt=!0,Vt=!1;try{if(je=(he=he.call(qe)).next,dt!==0)for(;!(yt=(ut=je.call(he)).done)&&(Ze.push(ut.value),Ze.length!==dt);yt=!0);}catch(At){Vt=!0,xt=At}finally{try{if(!yt&&he.return!=null&&(rt=he.return(),Object(rt)!==rt))return}finally{if(Vt)throw xt}}return Ze}}function _(qe){if(Array.isArray(qe))return qe}function R(qe,dt){if(qe==null)return{};var he=O(qe,dt),ut,xt;if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(qe);for(xt=0;xt<je.length;xt++)ut=je[xt],!(dt.indexOf(ut)>=0)&&Object.prototype.propertyIsEnumerable.call(qe,ut)&&(he[ut]=qe[ut])}return he}function O(qe,dt){if(qe==null)return{};var he={},ut=Object.keys(qe),xt,je;for(je=0;je<ut.length;je++)xt=ut[je],!(dt.indexOf(xt)>=0)&&(he[xt]=qe[xt]);return he}function F(qe,dt){if(!(qe instanceof dt))throw new TypeError("Cannot call a class as a function")}function $(qe,dt){for(var he=0;he<dt.length;he++){var ut=dt[he];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(qe,q(ut.key),ut)}}function z(qe,dt,he){return dt&&$(qe.prototype,dt),Object.defineProperty(qe,"prototype",{writable:!1}),qe}function q(qe){var dt=Z(qe,"string");return e(dt)=="symbol"?dt:dt+""}function Z(qe,dt){if(e(qe)!="object"||!qe)return qe;var he=qe[Symbol.toPrimitive];if(he!==void 0){var ut=he.call(qe,dt);if(e(ut)!="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(qe)}function V(qe,dt,he){return dt=pe(dt),J(qe,ue()?Reflect.construct(dt,he||[],pe(qe).constructor):dt.apply(qe,he))}function J(qe,dt){if(dt&&(e(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(qe)}function fe(qe){if(qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return qe}function ue(){try{var qe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ue=function(){return!!qe})()}function pe(qe){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(he){return he.__proto__||Object.getPrototypeOf(he)},pe(qe)}function ve(qe,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");qe.prototype=Object.create(dt&&dt.prototype,{constructor:{value:qe,writable:!0,configurable:!0}}),Object.defineProperty(qe,"prototype",{writable:!1}),dt&&le(qe,dt)}function le(qe,dt){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,xt){return ut.__proto__=xt,ut},le(qe,dt)}function se(qe,dt){for(var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ut=he.concurrency||1/0,xt=0,je=[],rt=[],Ze=qe[Symbol.iterator]();ut-- >0;){var yt=Vt();if(yt)rt.push(yt);else break}return Promise.all(rt).then(function(){return je});function Vt(){var At=Ze.next();if(At.done)return null;var hr=xt++,Sr=dt(At.value,hr);return Promise.resolve(Sr).then(function(fr){return je[hr]=fr,Vt()})}}var ge=function(qe){function dt(){return F(this,dt),V(this,dt,arguments)}return ve(dt,qe),z(dt,[{key:"onBeforeRequest",value:function(ut){}}])}(n.default);function _e(){var qe={};return qe}var ke=function(){},Ge=function(dt,he){for(var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xt=ut.placeholder,je=xt===void 0?"replace_me":xt,rt=ut.chunkSize,Ze=rt===void 0?100:rt,yt=[],Vt=function(Sr){yt.push(he.map(function(fr){return fr===je?dt.slice(Sr,Sr+Ze):fr}))},At=0;At<dt.length;At+=Ze)Vt(At);return yt.length?yt:[he]},ct=function(dt){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=he.falcor,xt=he.onProgress,je=xt===void 0?ke:xt,rt=he.concurrency,Ze=rt===void 0?5:rt,yt=R(he,a),Vt=(0,i.default)(je,50),At=0,hr=0,Sr=dt.reduce(function(fr,Dt){var dr=T(Dt,2),Nr=dr[0],gr=dr[1],wr=Ge(Nr,gr,yt);return hr+=wr.length,fr.push.apply(fr,m(wr)),fr},[]);return se(Sr,function(fr){return ut.get(fr).then(function(){Vt(++At,hr)})},{concurrency:Ze})},$e=function(dt){return dt.reduce(function(he,ut){return Array.isArray(ut)?he[0].push(ut):he[1]=ut,he},[[],{}])},we=function(){for(var dt=arguments.length,he=new Array(dt),ut=0;ut<dt;ut++)he[ut]=arguments[ut];var xt=$e(he),je=T(xt,2),rt=je[0],Ze=je[1],yt=Ze.index,Vt=yt===void 0?null:yt,At=Ze.placeholder,hr=At===void 0?"replace_me":At,Sr=R(Ze,s),fr=rt.reduce(function(Dt,dr){var Nr=[],gr=!1,wr=dr.map(function(Fr,_n){return Array.isArray(Fr)&&Fr.length&&!gr&&(Vt===null||Vt===_n)?(gr=!0,Nr=Fr,hr):Fr});return Dt.push([Nr,wr]),Dt},[]);return ct(fr,h(h({},Sr),{},{placeholder:hr}))},Ee=function(qe){function dt(){var he;F(this,dt);for(var ut=arguments.length,xt=new Array(ut),je=0;je<ut;je++)xt[je]=arguments[je];return he=V(this,dt,[].concat(xt)),he.listeners=[],he.onChange=he.onChange.bind(he),he.listen=he.listen.bind(he),he.unlisten=he.unlisten.bind(he),he}return ve(dt,qe),z(dt,[{key:"onChange",value:function(){this.listeners.forEach(function(ut){return ut()})}},{key:"listen",value:function(ut){this.listeners.includes(ut)||this.listeners.push(ut)}},{key:"unlisten",value:function(ut){this.listeners=this.listeners.filter(function(xt){return xt!==ut})}}])}(r.default),Re=function(qe){function dt(){var he;F(this,dt);for(var ut=arguments.length,xt=new Array(ut),je=0;je<ut;je++)xt[je]=arguments[je];return he=V(this,dt,[].concat(xt)),he.onChange=he.onChange.bind(he),he.remove=he.remove.bind(he),he.chunk=he.chunk.bind(he),he}return ve(dt,qe),z(dt,[{key:"onChange",value:function(ut,xt){this._root.listen(ut,xt)}},{key:"remove",value:function(ut){this._root.unlisten(ut)}},{key:"get",value:function(){for(var ut,xt=arguments.length,je=new Array(xt),rt=0;rt<xt;rt++)je[rt]=arguments[rt];return(ut=l(pe(dt.prototype),"get",this)).call.apply(ut,[this].concat(je)).then(function(Ze){return Ze})}},{key:"chunk",value:function(){for(var ut=arguments.length,xt=new Array(ut),je=0;je<ut;je++)xt[je]=arguments[je];var rt=$e(xt),Ze=T(rt,2),yt=Ze[0],Vt=Ze[1];return we.apply(void 0,m(yt).concat([h({falcor:this},Vt)]))}}])}(t.Model),ft=V0.falcorGraph=function(dt){return new Re({_root:new Ee,source:new ge(dt+"/graph",{crossDomain:!0,withCredentials:!1,timeout:12e4}),errorSelector:function(ut,xt){return console.log("errorSelector",ut,xt),xt},cache:_e()})};return V0.falcor=ft("https://graph.availabs.org"),V0}var mue;function Urt(){return mue||(mue=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={useFalcor:!0,FalcorConsumer:!0,FalcorProvider:!0,avlFalcor:!0};e.useFalcor=e.avlFalcor=e.FalcorProvider=e.FalcorConsumer=void 0;var r=a(vn()),n=a(Drt()),i=jrt();Object.keys(i).forEach(function(w){w==="default"||w==="__esModule"||Object.prototype.hasOwnProperty.call(t,w)||w in e&&e[w]===i[w]||Object.defineProperty(e,w,{enumerable:!0,get:function(){return i[w]}})});function a(w){return w&&w.__esModule?w:{default:w}}function s(){return s=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var T=arguments[x];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(w[A]=T[A])}return w},s.apply(this,arguments)}function o(w,x){return p(w)||h(w,x)||u(w,x)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(w,x){if(w){if(typeof w=="string")return f(w,x);var T=Object.prototype.toString.call(w).slice(8,-1);if(T==="Object"&&w.constructor&&(T=w.constructor.name),T==="Map"||T==="Set")return Array.from(w);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return f(w,x)}}function f(w,x){(x==null||x>w.length)&&(x=w.length);for(var T=0,A=new Array(x);T<x;T++)A[T]=w[T];return A}function h(w,x){var T=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(T!=null){var A,P,S,E,_=[],R=!0,O=!1;try{if(S=(T=T.call(w)).next,x!==0)for(;!(R=(A=S.call(T)).done)&&(_.push(A.value),_.length!==x);R=!0);}catch(F){O=!0,P=F}finally{try{if(!R&&T.return!=null&&(E=T.return(),Object(E)!==E))return}finally{if(O)throw P}}return _}}function p(w){if(Array.isArray(w))return w}var m=r.default.createContext();e.useFalcor=function(){return r.default.useContext(m)},e.FalcorConsumer=m.Consumer,e.FalcorProvider=function(x){var T=x.falcor,A=x.children,P=r.default.useState({}),S=o(P,2),E=S[0],_=S[1],R=r.default.useMemo(function(){return(0,n.default)(function(){var F=T.getCache();_(F)},250)},[T]);r.default.useEffect(function(){return T.onChange(R),function(){T.remove(R)}},[T,R]);var O=r.default.useMemo(function(){return{falcor:T,falcorCache:E}},[T,E]);return r.default.createElement(m.Provider,{value:O},A)};var v=function(){return{}};e.avlFalcor=function(x){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=T.mapCacheToProps,P=A===void 0?v:A;return function(S){return r.default.createElement(m.Consumer,null,function(E){return r.default.createElement(x,s({},S,E,P(E.falcorCache,S)))})}}}(r8)),r8}var gSt=Urt();const Ed=[];for(let e=0;e<256;++e)Ed.push((e+256).toString(16).slice(1));function qrt(e,t=0){return(Ed[e[t+0]]+Ed[e[t+1]]+Ed[e[t+2]]+Ed[e[t+3]]+"-"+Ed[e[t+4]]+Ed[e[t+5]]+"-"+Ed[e[t+6]]+Ed[e[t+7]]+"-"+Ed[e[t+8]]+Ed[e[t+9]]+"-"+Ed[e[t+10]]+Ed[e[t+11]]+Ed[e[t+12]]+Ed[e[t+13]]+Ed[e[t+14]]+Ed[e[t+15]]).toLowerCase()}let c8;const Hrt=new Uint8Array(16);function Wrt(){if(!c8){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c8=crypto.getRandomValues.bind(crypto)}return c8(Hrt)}const Vrt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gue={randomUUID:Vrt};function vSt(e,t,r){var i;if(gue.randomUUID&&!e)return gue.randomUUID();e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??Wrt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,qrt(n)}const Ewe=typeof document<"u"?ze.useLayoutEffect:()=>{};function Grt(e){const t=ne.useRef(null);return Ewe(()=>{t.current=e},[e]),ne.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const Bb=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},M_=e=>e&&"window"in e&&e.window===e?e:Bb(e).defaultView||window;function Krt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Zrt(e){return Krt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Yrt=!1;function sV(){return Yrt}function Cwe(e,t){if(!sV())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:Zrt(r)?r=r.host:r=r.parentNode}return!1}const J7=(e=document)=>{var t;if(!sV())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function Pwe(e){return sV()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Xrt(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Jrt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Twe(e){let t=null;return()=>(t==null&&(t=e()),t)}const Qrt=Twe(function(){return Jrt(/^Mac/i)}),ent=Twe(function(){return Xrt(/Android/i)});function Rwe(){let e=ne.useRef(new Map),t=ne.useCallback((i,a,s,o)=>{let l=o!=null&&o.once?(...u)=>{e.current.delete(s),s(...u)}:s;e.current.set(s,{type:a,eventTarget:i,fn:l,options:o}),i.addEventListener(a,l,o)},[]),r=ne.useCallback((i,a,s,o)=>{var l;let u=((l=e.current.get(s))===null||l===void 0?void 0:l.fn)||s;i.removeEventListener(a,u,o),e.current.delete(s)},[]),n=ne.useCallback(()=>{e.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return ne.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function tnt(e){return e.mozInputSource===0&&e.isTrusted?!0:ent()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Awe(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function rnt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Owe(e){let t=ne.useRef({isFocused:!1,observer:null});Ewe(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=Grt(n=>{e==null||e(n)});return ne.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,a=s=>{if(t.current.isFocused=!1,i.disabled){let o=Awe(s);r(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let nnt=!1,JP=null,Q7=new Set,XC=new Map,fw=!1,e9=!1;const int={Tab:!0,Escape:!0};function lV(e,t){for(let r of Q7)r(e,t)}function ant(e){return!(e.metaKey||!Qrt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function nI(e){fw=!0,ant(e)&&(JP="keyboard",lV("keyboard",e))}function Ax(e){JP="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(fw=!0,lV("pointer",e))}function Iwe(e){tnt(e)&&(fw=!0,JP="virtual")}function Mwe(e){e.target===window||e.target===document||nnt||!e.isTrusted||(!fw&&!e9&&(JP="virtual",lV("virtual",e)),fw=!1,e9=!1)}function kwe(){fw=!1,e9=!0}function t9(e){if(typeof window>"u"||XC.get(M_(e)))return;const t=M_(e),r=Bb(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){fw=!0,n.apply(this,arguments)},r.addEventListener("keydown",nI,!0),r.addEventListener("keyup",nI,!0),r.addEventListener("click",Iwe,!0),t.addEventListener("focus",Mwe,!0),t.addEventListener("blur",kwe,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Ax,!0),r.addEventListener("pointermove",Ax,!0),r.addEventListener("pointerup",Ax,!0)),t.addEventListener("beforeunload",()=>{Dwe(e)},{once:!0}),XC.set(t,{focus:n})}const Dwe=(e,t)=>{const r=M_(e),n=Bb(e);t&&n.removeEventListener("DOMContentLoaded",t),XC.has(r)&&(r.HTMLElement.prototype.focus=XC.get(r).focus,n.removeEventListener("keydown",nI,!0),n.removeEventListener("keyup",nI,!0),n.removeEventListener("click",Iwe,!0),r.removeEventListener("focus",Mwe,!0),r.removeEventListener("blur",kwe,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Ax,!0),n.removeEventListener("pointermove",Ax,!0),n.removeEventListener("pointerup",Ax,!0)),XC.delete(r))};function ont(e){const t=Bb(e);let r;return t.readyState!=="loading"?t9(e):(r=()=>{t9(e)},t.addEventListener("DOMContentLoaded",r)),()=>Dwe(e,r)}typeof document<"u"&&ont();function Fwe(){return JP!=="pointer"}const snt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function lnt(e,t,r){let n=Bb(r==null?void 0:r.target);const i=typeof window<"u"?M_(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?M_(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?M_(r==null?void 0:r.target).HTMLElement:HTMLElement,o=typeof window<"u"?M_(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof i&&!snt.has(n.activeElement.type)||n.activeElement instanceof a||n.activeElement instanceof s&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof o&&!int[r.key])}function unt(e,t,r){t9(),ne.useEffect(()=>{let n=(i,a)=>{lnt(!!(r!=null&&r.isTextInput),i,a)&&e(Fwe())};return Q7.add(n),()=>{Q7.delete(n)}},t)}function cnt(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const a=ne.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),s=Owe(a),o=ne.useCallback(l=>{const u=Bb(l.target),f=u?J7(u):J7();l.target===l.currentTarget&&f===Pwe(l.nativeEvent)&&(r&&r(l),i&&i(!0),s(l))},[i,r,s]);return{focusProps:{onFocus:!t&&(r||i||n)?o:void 0,onBlur:!t&&(n||i)?a:void 0}}}function fnt(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,a=ne.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:o}=Rwe(),l=ne.useCallback(h=>{h.currentTarget.contains(h.target)&&a.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(a.current.isFocusWithin=!1,o(),r&&r(h),i&&i(!1))},[r,i,a,o]),u=Owe(l),f=ne.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const p=Bb(h.target),m=J7(p);if(!a.current.isFocusWithin&&m===Pwe(h.nativeEvent)){n&&n(h),i&&i(!0),a.current.isFocusWithin=!0,u(h);let v=h.currentTarget;s(p,"focus",w=>{if(a.current.isFocusWithin&&!Cwe(v,w.target)){let x=new p.defaultView.FocusEvent("blur",{relatedTarget:w.target});rnt(x,v);let T=Awe(x);l(T)}},{capture:!0})}},[n,i,u,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:l}}}let r9=!1,f8=0;function dnt(){r9=!0,setTimeout(()=>{r9=!1},50)}function vue(e){e.pointerType==="touch"&&dnt()}function hnt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",vue),f8++,()=>{f8--,!(f8>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",vue)}}function pv(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[a,s]=ne.useState(!1),o=ne.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;ne.useEffect(hnt,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=Rwe(),{hoverProps:f,triggerHoverEnd:h}=ne.useMemo(()=>{let p=(w,x)=>{if(o.pointerType=x,i||x==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let T=w.currentTarget;o.target=T,l(Bb(w.target),"pointerover",A=>{o.isHovered&&o.target&&!Cwe(o.target,A.target)&&m(A,A.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:T,pointerType:x}),r&&r(!0),s(!0)},m=(w,x)=>{let T=o.target;o.pointerType="",o.target=null,!(x==="touch"||!o.isHovered||!T)&&(o.isHovered=!1,u(),n&&n({type:"hoverend",target:T,pointerType:x}),r&&r(!1),s(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=w=>{r9&&w.pointerType==="mouse"||p(w,w.pointerType)},v.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}),{hoverProps:v,triggerHoverEnd:m}},[t,r,n,i,o,l,u]);return ne.useEffect(()=>{i&&h({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:f,isHovered:a}}function ug(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=ne.useRef({isFocused:!1,isFocusVisible:t||Fwe()}),[a,s]=ne.useState(!1),[o,l]=ne.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=ne.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),f=ne.useCallback(m=>{i.current.isFocused=m,s(m),u()},[u]);unt(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:r});let{focusProps:h}=cnt({isDisabled:n,onFocusChange:f}),{focusWithinProps:p}=fnt({isDisabled:!n,onFocusWithinChange:f});return{isFocused:a,isFocusVisible:o,focusProps:n?p:h}}var pnt=Object.defineProperty,mnt=(e,t,r)=>t in e?pnt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d8=(e,t,r)=>(mnt(e,typeof t!="symbol"?t+"":t,r),r);let gnt=class{constructor(){d8(this,"current",this.detect()),d8(this,"handoffState","pending"),d8(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},z_=new gnt;function mv(e){var t,r;return z_.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function QP(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function _m(){let e=[],t={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),t.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return QP(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=_m();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function gy(){let[e]=ne.useState(_m);return ne.useEffect(()=>()=>e.dispose(),[e]),e}let oo=(e,t)=>{z_.isServer?ne.useEffect(e,t):ne.useLayoutEffect(e,t)};function Fh(e){let t=ne.useRef(e);return oo(()=>{t.current=e},[e]),t}let xn=function(e){let t=Fh(e);return ze.useCallback((...r)=>t.current(...r),[t])};function vnt(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function ynt(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function _0({disabled:e=!1}={}){let t=ne.useRef(null),[r,n]=ne.useState(!1),i=gy(),a=xn(()=>{t.current=null,n(!1),i.dispose()}),s=xn(o=>{if(i.dispose(),t.current===null){t.current=o.currentTarget,n(!0);{let l=mv(o.currentTarget);i.addEventListener(l,"pointerup",a,!1),i.addEventListener(l,"pointermove",u=>{if(t.current){let f=vnt(u);n(ynt(f,t.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",a,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}let Lwe=ne.createContext(void 0);function vy(){return ne.useContext(Lwe)}function Nwe({value:e,children:t}){return ze.createElement(Lwe.Provider,{value:e},t)}function n9(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function jo(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,jo),n}var Xf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xf||{}),tb=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(tb||{});function Ea(){let e=_nt();return ne.useCallback(t=>bnt({mergeRefs:e,...t}),[e])}function bnt({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:a=!0,name:s,mergeRefs:o}){o=o??wnt;let l=$we(t,e);if(a)return jR(l,r,n,s,o);let u=i??0;if(u&2){let{static:f=!1,...h}=l;if(f)return jR(h,r,n,s,o)}if(u&1){let{unmount:f=!0,...h}=l;return jo(f?0:1,{0(){return null},1(){return jR({...h,hidden:!0,style:{display:"none"}},r,n,s,o)}})}return jR(l,r,n,s,o)}function jR(e,t={},r,n,i){let{as:a=r,children:s,refName:o="ref",...l}=h8(e,["unmount","static"]),u=e.ref!==void 0?{[o]:e.ref}:{},f=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let p=!1,m=[];for(let[v,w]of Object.entries(t))typeof w=="boolean"&&(p=!0),w===!0&&m.push(v.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){h["data-headlessui-state"]=m.join(" ");for(let v of m)h[`data-${v}`]=""}}if(a===ne.Fragment&&(Object.keys(X0(l)).length>0||Object.keys(X0(h)).length>0))if(!ne.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(X0(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(X0(l)).concat(Object.keys(X0(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=f.props,m=p==null?void 0:p.className,v=typeof m=="function"?(...T)=>n9(m(...T),l.className):n9(m,l.className),w=v?{className:v}:{},x=$we(f.props,X0(h8(l,["ref"])));for(let T in h)T in x&&delete h[T];return ne.cloneElement(f,Object.assign({},x,h,u,{ref:i(xnt(f),u.ref)},w))}return ne.createElement(a,Object.assign({},h8(l,["ref"]),a!==ne.Fragment&&u,a!==ne.Fragment&&h),f)}function _nt(){let e=ne.useRef([]),t=ne.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function wnt(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function $we(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var a;return(a=i==null?void 0:i.preventDefault)==null?void 0:a.call(i)}]);for(let n in r)Object.assign(t,{[n](i,...a){let s=r[n];for(let o of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return t}function Jf(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];for(let n in r)Object.assign(t,{[n](...i){let a=r[n];for(let s of a)s==null||s(...i)}});return t}function pa(e){var t;return Object.assign(ne.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function X0(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function h8(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function xnt(e){return ze.version.split(".")[0]>="19"?e.props.ref:e.ref}let Snt="button";function Ent(e,t){var r;let n=vy(),{disabled:i=n||!1,autoFocus:a=!1,...s}=e,{isFocusVisible:o,focusProps:l}=ug({autoFocus:a}),{isHovered:u,hoverProps:f}=pv({isDisabled:i}),{pressed:h,pressProps:p}=_0({disabled:i}),m=Jf({ref:t,type:(r=s.type)!=null?r:"button",disabled:i||void 0,autoFocus:a},l,f,p),v=ne.useMemo(()=>({disabled:i,hover:u,focus:o,active:h,autofocus:a}),[i,u,o,h,a]);return Ea()({ourProps:m,theirProps:s,slot:v,defaultTag:Snt,name:"Button"})}let bSt=pa(Ent);function uV(e,t,r){let[n,i]=ne.useState(r),a=e!==void 0,s=ne.useRef(a),o=ne.useRef(!1),l=ne.useRef(!1);return a&&!s.current&&!o.current?(o.current=!0,s.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&s.current&&!l.current&&(l.current=!0,s.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:n,xn(u=>(a||i(u),t==null?void 0:t(u)))]}function cV(e){let[t]=ne.useState(e);return t}function zwe(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))jwe(r,Bwe(t,n),i);return r}function Bwe(e,t){return e?e+"["+t+"]":t}function jwe(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())jwe(e,Bwe(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):zwe(r,t,e)}function Uwe(e){var t,r;let n=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(n){for(let i of n.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(r=n.requestSubmit)==null||r.call(n)}}let Cnt="span";var tv=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(tv||{});function Pnt(e,t){var r;let{features:n=1,...i}=e,a={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ea()({ourProps:a,theirProps:i,slot:{},defaultTag:Cnt,name:"Hidden"})}let rv=pa(Pnt),qwe=ne.createContext(null);function Tnt(e){let[t,r]=ne.useState(null);return ze.createElement(qwe.Provider,{value:{target:t}},e.children,ze.createElement(rv,{features:tv.Hidden,ref:r}))}function Rnt({children:e}){let t=ne.useContext(qwe);if(!t)return ze.createElement(ze.Fragment,null,e);let{target:r}=t;return r?Ls.createPortal(ze.createElement(ze.Fragment,null,e),r):null}function fV({data:e,form:t,disabled:r,onReset:n,overrides:i}){let[a,s]=ne.useState(null),o=gy();return ne.useEffect(()=>{if(n&&a)return o.addEventListener(a,"reset",n)},[a,t,n]),ze.createElement(Rnt,null,ze.createElement(Ant,{setForm:s,formId:t}),zwe(e).map(([l,u])=>ze.createElement(rv,{features:tv.Hidden,...X0({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:l,value:u,...i})})))}function Ant({setForm:e,formId:t}){return ne.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ze.createElement(rv,{features:tv.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Hwe=ne.createContext(void 0);function HS(){return ne.useContext(Hwe)}function Ont({id:e,children:t}){return ze.createElement(Hwe.Provider,{value:e},t)}function Vw(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&Int(r)?!1:n}function Int(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Wwe=Symbol();function dV(e,t=!0){return Object.assign(e,{[Wwe]:t})}function vo(...e){let t=ne.useRef(e);ne.useEffect(()=>{t.current=e},[e]);let r=xn(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||(n==null?void 0:n[Wwe]))?void 0:r}let bk=ne.createContext(null);bk.displayName="DescriptionContext";function Vwe(){let e=ne.useContext(bk);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Vwe),t}return e}function eT(){var e,t;return(t=(e=ne.useContext(bk))==null?void 0:e.value)!=null?t:void 0}function _k(){let[e,t]=ne.useState([]);return[e.length>0?e.join(" "):void 0,ne.useMemo(()=>function(r){let n=xn(a=>(t(s=>[...s,a]),()=>t(s=>{let o=s.slice(),l=o.indexOf(a);return l!==-1&&o.splice(l,1),o}))),i=ne.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ze.createElement(bk.Provider,{value:i},r.children)},[t])]}let Mnt="p";function knt(e,t){let r=ne.useId(),n=vy(),{id:i=`headlessui-description-${r}`,...a}=e,s=Vwe(),o=vo(t);oo(()=>s.register(i),[i,s.register]);let l=n||!1,u=ne.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),f={ref:o,...s.props,id:i};return Ea()({ourProps:f,theirProps:a,slot:u,defaultTag:Mnt,name:s.name||"Description"})}let Dnt=pa(knt),Gwe=Object.assign(Dnt,{});var Pi=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Pi||{});let wk=ne.createContext(null);wk.displayName="LabelContext";function hV(){let e=ne.useContext(wk);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hV),t}return e}function jb(e){var t,r,n;let i=(r=(t=ne.useContext(wk))==null?void 0:t.value)!=null?r:void 0;return((n=e==null?void 0:e.length)!=null?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function Gw({inherit:e=!1}={}){let t=jb(),[r,n]=ne.useState([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,ne.useMemo(()=>function(a){let s=xn(l=>(n(u=>[...u,l]),()=>n(u=>{let f=u.slice(),h=f.indexOf(l);return h!==-1&&f.splice(h,1),f}))),o=ne.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return ze.createElement(wk.Provider,{value:o},a.children)},[n])]}let Fnt="label";function Lnt(e,t){var r;let n=ne.useId(),i=hV(),a=HS(),s=vy(),{id:o=`headlessui-label-${n}`,htmlFor:l=a??((r=i.props)==null?void 0:r.htmlFor),passive:u=!1,...f}=e,h=vo(t);oo(()=>i.register(o),[o,i.register]);let p=xn(x=>{let T=x.currentTarget;if(T instanceof HTMLLabelElement&&x.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(x),T instanceof HTMLLabelElement){let A=document.getElementById(T.htmlFor);if(A){let P=A.getAttribute("disabled");if(P==="true"||P==="")return;let S=A.getAttribute("aria-disabled");if(S==="true"||S==="")return;(A instanceof HTMLInputElement&&(A.type==="radio"||A.type==="checkbox")||A.role==="radio"||A.role==="checkbox"||A.role==="switch")&&A.click(),A.focus({preventScroll:!0})}}}),m=s||!1,v=ne.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),w={ref:h,...i.props,id:o,htmlFor:l,onClick:p};return u&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in f&&delete f.onClick),Ea()({ourProps:w,theirProps:f,slot:v,defaultTag:l?Fnt:"div",name:i.name||"Label"})}let Nnt=pa(Lnt),pV=Object.assign(Nnt,{}),$nt=ne.createContext(()=>{});function mV({value:e,children:t}){return ze.createElement($nt.Provider,{value:e},t)}function U1(e,t,r){let n=r.initialDeps??[],i;function a(){var s,o,l,u;let f;r.key&&((s=r.debug)!=null&&s.call(r))&&(f=Date.now());const h=e();if(!(h.length!==n.length||h.some((v,w)=>n[w]!==v)))return i;n=h;let m;if(r.key&&((o=r.debug)!=null&&o.call(r))&&(m=Date.now()),i=t(...h),r.key&&((l=r.debug)!=null&&l.call(r))){const v=Math.round((Date.now()-f)*100)/100,w=Math.round((Date.now()-m)*100)/100,x=w/16,T=(A,P)=>{for(A=String(A);A.length<P;)A=" "+A;return A};console.info(`%c⏱ ${T(w,5)} /${T(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,i),i}return a.updateDeps=s=>{n=s},a}function p8(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const znt=(e,t)=>Math.abs(e-t)<=1,Bnt=(e,t,r)=>{let n;return function(...i){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,i),r)}},yue=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},jnt=e=>e,Unt=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let i=t;i<=r;i++)n.push(i);return n},qnt=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const i=s=>{const{width:o,height:l}=s;t({width:Math.round(o),height:Math.round(l)})};if(i(yue(r)),!n.ResizeObserver)return()=>{};const a=new n.ResizeObserver(s=>{const o=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(yue(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(r,{box:"border-box"}),()=>{a.unobserve(r)}},bue={passive:!0},_ue=typeof window>"u"?!0:"onscrollend"in window,Hnt=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let i=0;const a=e.options.useScrollendEvent&&_ue?()=>{}:Bnt(n,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=f=>()=>{const{horizontal:h,isRtl:p}=e.options;i=h?r.scrollLeft*(p&&-1||1):r.scrollTop,a(),t(i,f)},o=s(!0),l=s(!1);l(),r.addEventListener("scroll",o,bue);const u=e.options.useScrollendEvent&&_ue;return u&&r.addEventListener("scrollend",l,bue),()=>{r.removeEventListener("scroll",o),u&&r.removeEventListener("scrollend",l)}},Wnt=(e,t,r)=>{if(t!=null&&t.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},Vnt=(e,{adjustments:t=0,behavior:r},n)=>{var i,a;const s=e+t;(a=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[n.options.horizontal?"left":"top"]:s,behavior:r})};class Gnt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const s=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var a;return(a=n())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=n())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:jnt,rangeExtractor:Unt,onChange:()=>{},measureElement:Wnt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=U1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,a=new Map;for(let s=n-1;s>=0;s--){const o=r[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=U1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=U1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let f=l;f<r;f++){const h=a(f),p=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),m=p?p.end+this.options.gap:n+i,v=o.get(h),w=typeof v=="number"?v:this.options.estimateSize(f),x=m+w,T=p?p.lane:f%this.options.lanes;u[f]={index:f,start:m,size:w,end:x,key:h,lane:T}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=U1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,a)=>this.range=r.length>0&&n>0?Knt({measurements:r,outerSize:n,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=U1(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,a,s)=>a===null||s===null?[]:r({startIndex:a,endIndex:s,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==r&&(o&&this.observer.unobserve(o),this.observer.observe(r),this.elementsCache.set(s,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=n-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=U1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let a=0,s=r.length;a<s;a++){const o=r[a],l=n[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return p8(n[Kwe(0,n.length-1,i=>p8(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const a=this.getSize(),s=this.getScrollOffset();n==="auto"&&(n=r>=s+a?"end":"start"),n==="center"?r+=(i-a)/2:n==="end"&&(r-=a);const o=this.getTotalSize()-a;return Math.max(Math.min(o,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(n==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)n="end";else if(i.start<=s+this.options.scrollPaddingStart)n="start";else return[s,n];const o=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(r,n);if(!a)return;const[s,o]=a;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const[u]=p8(this.getOffsetForIndex(r,o)),f=this.getScrollOffset();znt(u,f)||this.scrollToIndex(r,{align:o,behavior:i})}else this.scrollToIndex(r,{align:o,behavior:i})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const a=Array(this.options.lanes).fill(null);let s=n.length-1;for(;s>=0&&a.some(o=>o===null);){const o=n[s];a[o.lane]===null&&(a[o.lane]=o.end),s--}i=Math.max(...a.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Kwe=(e,t,r,n)=>{for(;e<=t;){const i=(e+t)/2|0,a=r(i);if(a<n)e=i+1;else if(a>n)t=i-1;else return i}return e>0?e-1:0};function Knt({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const i=e.length-1,a=l=>e[l].start;if(e.length<=n)return{startIndex:0,endIndex:i};let s=Kwe(0,i,a,r),o=s;if(n===1)for(;o<i&&e[o].end<r+t;)o++;else if(n>1){const l=Array(n).fill(0);for(;o<i&&l.some(f=>f<r+t);){const f=e[o];l[f.lane]=f.end,o++}const u=Array(n).fill(r+t);for(;s>=0&&u.some(f=>f>=r);){const f=e[s];u[f.lane]=f.start,s--}s=Math.max(0,s-s%n),o=Math.min(i,o+(n-1-o%n))}return{startIndex:s,endIndex:o}}const wue=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function Znt(e){const t=ne.useReducer(()=>({}),{})[1],r={...e,onChange:(i,a)=>{var s;a?Ls.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,a)}},[n]=ne.useState(()=>new Gnt(r));return n.setOptions(r),wue(()=>n._didMount(),[]),wue(()=>n._willUpdate()),n}function Ynt(e){return Znt({observeElementRect:qnt,observeElementOffset:Hnt,scrollToFn:Vnt,...e})}function Xnt(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Zwe(e=Xnt){return ne.useCallback((t,r)=>{if(typeof e=="string"){let n=e;return(t==null?void 0:t[n])===(r==null?void 0:r[n])}return e(t,r)},[e])}function Jnt(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function B2(e,t=!1){let[r,n]=ne.useReducer(()=>({}),{}),i=ne.useMemo(()=>Jnt(e),[e,r]);return oo(()=>{if(!e)return;let a=new ResizeObserver(n);return a.observe(e),()=>{a.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let Ywe=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};function Xwe(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...a){let s=t[i].call(r,...a);s&&(r=s,n.forEach(o=>o()))}}}function Jwe(e){return ne.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Qnt=new Ywe(()=>Xwe(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let r=this.slice();return r.splice(t,1),r}}));function WS(e,t){let r=Qnt.get(t),n=ne.useId(),i=Jwe(r);if(oo(()=>{if(e)return r.dispatch("ADD",n),()=>r.dispatch("REMOVE",n)},[r,e]),!e)return!1;let a=i.indexOf(n),s=i.length;return a===-1&&(a=s,s+=1),a===s-1}let i9=new Map,JC=new Map;function xue(e){var t;let r=(t=JC.get(e))!=null?t:0;return JC.set(e,r+1),r!==0?()=>Sue(e):(i9.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Sue(e))}function Sue(e){var t;let r=(t=JC.get(e))!=null?t:1;if(r===1?JC.delete(e):JC.set(e,r-1),r!==1)return;let n=i9.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,i9.delete(e))}function xk(e,{allowed:t,disallowed:r}={}){let n=WS(e,"inert-others");oo(()=>{var i,a;if(!n)return;let s=_m();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&s.add(xue(l));let o=(a=t==null?void 0:t())!=null?a:[];for(let l of o){if(!l)continue;let u=mv(l);if(!u)continue;let f=l.parentElement;for(;f&&f!==u.body;){for(let h of f.children)o.some(p=>h.contains(p))||s.add(xue(h));f=f.parentElement}}return s.dispose},[n,t,r])}function tT(e,t,r){let n=Fh(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&r()});ne.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let a=_m();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}return()=>a.dispose()},[t,n,e])}let iI=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),eit=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ks=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ks||{}),Uv=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Uv||{}),tit=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(tit||{});function rT(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(iI)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function rit(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(eit)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var nT=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(nT||{});function iT(e,t=0){var r;return e===((r=mv(e))==null?void 0:r.body)?!1:jo(t,{0(){return e.matches(iI)},1(){let n=e;for(;n!==null;){if(n.matches(iI))return!0;n=n.parentElement}return!1}})}function Qwe(e){let t=mv(e);_m().nextFrame(()=>{t&&!iT(t.activeElement,0)&&Zv(e)})}var nit=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(nit||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zv(e){e==null||e.focus({preventScroll:!0})}let iit=["textarea","input"].join(",");function ait(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,iit))!=null?r:!1}function e0(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),a=t(n);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function e1e(e,t){return yf(rT(),t,{relativeTo:e})}function yf(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?r?e0(e):e:t&64?rit(e):rT(e);i.length>0&&s.length>1&&(s=s.filter(m=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===m:v===m))),n=n??a.activeElement;let o=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(n))-1;if(t&4)return Math.max(0,s.indexOf(n))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,h=s.length,p;do{if(f>=h||f+h<=0)return 0;let m=l+f;if(t&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}p=s[m],p==null||p.focus(u),f+=o}while(p!==a.activeElement);return t&6&&ait(p)&&p.select(),2}function t1e(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function oit(){return/Android/gi.test(window.navigator.userAgent)}function r1e(){return t1e()||oit()}function nC(e,t,r,n){let i=Fh(r);ne.useEffect(()=>{if(!e)return;function a(s){i.current(s)}return document.addEventListener(t,a,n),()=>document.removeEventListener(t,a,n)},[e,t,n])}function n1e(e,t,r,n){let i=Fh(r);ne.useEffect(()=>{if(!e)return;function a(s){i.current(s)}return window.addEventListener(t,a,n),()=>window.removeEventListener(t,a,n)},[e,t,n])}const Eue=30;function aT(e,t,r){let n=WS(e,"outside-click"),i=Fh(r),a=ne.useCallback(function(l,u){if(l.defaultPrevented)return;let f=u(l);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function p(m){return typeof m=="function"?p(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let p of h)if(p!==null&&(p.contains(f)||l.composed&&l.composedPath().includes(p)))return;return!iT(f,nT.Loose)&&f.tabIndex!==-1&&l.preventDefault(),i.current(l,f)},[i,t]),s=ne.useRef(null);nC(n,"pointerdown",l=>{var u,f;s.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),nC(n,"mousedown",l=>{var u,f;s.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),nC(n,"click",l=>{r1e()||s.current&&(a(l,()=>s.current),s.current=null)},!0);let o=ne.useRef({x:0,y:0});nC(n,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),nC(n,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-o.current.x)>=Eue||Math.abs(u.y-o.current.y)>=Eue))return a(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),n1e(n,"blur",l=>a(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Uh(...e){return ne.useMemo(()=>mv(...e),[...e])}function Sk(e,t,r,n){let i=Fh(r);ne.useEffect(()=>{e=e??window;function a(s){i.current(s)}return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)},[e,t,n])}function i1e(e){let t=ne.useRef({value:"",selectionStart:null,selectionEnd:null});return Sk(e,"blur",r=>{let n=r.target;n instanceof HTMLInputElement&&(t.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),xn(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:r,selectionEnd:n}=t.current;r!==null&&n!==null&&e.setSelectionRange(r,n)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Kw(e,t){return ne.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function sit(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,e-i);r.style(n,"paddingRight",`${a}px`)}}}function lit(){return t1e()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(a=>a()).some(a=>a.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=_m();o.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",o=>{if(o.target instanceof HTMLElement)try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),f=e.querySelector(u);f&&!n(f)&&(s=f)}catch{}},!0),t.addEventListener(e,"touchstart",o=>{if(o.target instanceof HTMLElement)if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(o.target,"touchAction","none")}),t.addEventListener(e,"touchmove",o=>{if(o.target instanceof HTMLElement){if(o.target.tagName==="INPUT")return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),t.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function uit(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function cit(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let k_=Xwe(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:_m(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:cit(r)},i=[lit(),sit(),uit()];i.forEach(({before:a})=>a==null?void 0:a(n)),i.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});k_.subscribe(()=>{let e=k_.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&k_.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&k_.dispatch("TEARDOWN",r)}});function fit(e,t,r=()=>({containers:[]})){let n=Jwe(k_),i=t?n.get(t):void 0,a=i?i.count>0:!1;return oo(()=>{if(!(!t||!e))return k_.dispatch("PUSH",t,r),()=>k_.dispatch("POP",t,r)},[e,t]),a}function oT(e,t,r=()=>[document.body]){let n=WS(e,"scroll-lock");fit(n,t,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],r]}})}function Cue(e){return[e.screenX,e.screenY]}function gV(){let e=ne.useRef([-1,-1]);return{wasMoved(t){let r=Cue(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=Cue(t)}}}function dit(e=0){let[t,r]=ne.useState(e),n=ne.useCallback(l=>r(l),[t]),i=ne.useCallback(l=>r(u=>u|l),[t]),a=ne.useCallback(l=>(t&l)===l,[t]),s=ne.useCallback(l=>r(u=>u&~l),[r]),o=ne.useCallback(l=>r(u=>u^l),[r]);return{flags:t,setFlag:n,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}var hit={},Pue,Tue;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Pue=process==null?void 0:hit)==null?void 0:Pue.NODE_ENV)==="test"&&typeof((Tue=Element==null?void 0:Element.prototype)==null?void 0:Tue.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var pit=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(pit||{});function Zw(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function Yw(e,t,r,n){let[i,a]=ne.useState(r),{hasFlag:s,addFlag:o,removeFlag:l}=dit(e&&i?3:0),u=ne.useRef(!1),f=ne.useRef(!1),h=gy();return oo(()=>{var p;if(e){if(r&&a(!0),!t){r&&o(3);return}return(p=n==null?void 0:n.start)==null||p.call(n,r),mit(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){f.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var m;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),r||a(!1),(m=n==null?void 0:n.end)==null||m.call(n,r))}})}},[e,r,t,h]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function mit(e,{prepare:t,run:r,done:n,inFlight:i}){let a=_m();return vit(e,{prepare:t,inFlight:i}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(git(e,n))})}),a.dispose}function git(e,t){var r,n;let i=_m();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let s=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(o=>o instanceof CSSTransition))!=null?n:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{a||t()}),i.dispose)}function vit(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function a1e(e,{container:t,accept:r,walk:n}){let i=ne.useRef(r),a=ne.useRef(n);ne.useEffect(()=>{i.current=r,a.current=n},[r,n]),oo(()=>{if(!t||!e)return;let s=mv(t);if(!s)return;let o=i.current,l=a.current,u=Object.assign(h=>o(h),{acceptNode:o}),f=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)l(f.currentNode)},[t,e,i,a])}function j2(e,t){let r=ne.useRef([]),n=xn(e);ne.useEffect(()=>{let i=[...r.current];for(let[a,s]of t.entries())if(r.current[a]!==s){let o=n(t,i);return r.current=t,o}},[n,...t])}function Ek(){return typeof window<"u"}function VS(e){return o1e(e)?(e.nodeName||"").toLowerCase():"#document"}function cm(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yy(e){var t;return(t=(o1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o1e(e){return Ek()?e instanceof Node||e instanceof cm(e).Node:!1}function Lh(e){return Ek()?e instanceof Element||e instanceof cm(e).Element:!1}function ay(e){return Ek()?e instanceof HTMLElement||e instanceof cm(e).HTMLElement:!1}function Rue(e){return!Ek()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cm(e).ShadowRoot}function sT(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=nv(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function yit(e){return["table","td","th"].includes(VS(e))}function Ck(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vV(e){const t=yV(),r=Lh(e)?nv(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function bit(e){let t=Sb(e);for(;ay(t)&&!Vx(t);){if(vV(t))return t;if(Ck(t))return null;t=Sb(t)}return null}function yV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vx(e){return["html","body","#document"].includes(VS(e))}function nv(e){return cm(e).getComputedStyle(e)}function Pk(e){return Lh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sb(e){if(VS(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rue(e)&&e.host||yy(e);return Rue(t)?t.host:t}function s1e(e){const t=Sb(e);return Vx(t)?e.ownerDocument?e.ownerDocument.body:e.body:ay(t)&&sT(t)?t:s1e(t)}function U2(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=s1e(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=cm(i);if(a){const o=a9(s);return t.concat(s,s.visualViewport||[],sT(i)?i:[],o&&r?U2(o):[])}return t.concat(i,U2(i,[],r))}function a9(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _it(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}const dw=Math.min,Gd=Math.max,q2=Math.round,UR=Math.floor,Yv=e=>({x:e,y:e}),wit={left:"right",right:"left",bottom:"top",top:"bottom"},xit={start:"end",end:"start"};function Aue(e,t,r){return Gd(e,dw(t,r))}function GS(e,t){return typeof e=="function"?e(t):e}function Eb(e){return e.split("-")[0]}function lT(e){return e.split("-")[1]}function l1e(e){return e==="x"?"y":"x"}function u1e(e){return e==="y"?"height":"width"}function cb(e){return["top","bottom"].includes(Eb(e))?"y":"x"}function c1e(e){return l1e(cb(e))}function Sit(e,t,r){r===void 0&&(r=!1);const n=lT(e),i=c1e(e),a=u1e(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=aI(s)),[s,aI(s)]}function Eit(e){const t=aI(e);return[o9(e),t,o9(t)]}function o9(e){return e.replace(/start|end/g,t=>xit[t])}function Cit(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:s;default:return[]}}function Pit(e,t,r,n){const i=lT(e);let a=Cit(Eb(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(o9)))),a}function aI(e){return e.replace(/left|right|bottom|top/g,t=>wit[t])}function Tit(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rit(e){return typeof e!="number"?Tit(e):{top:e,right:e,bottom:e,left:e}}function oI(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Oue(e,t,r){let{reference:n,floating:i}=e;const a=cb(t),s=c1e(t),o=u1e(s),l=Eb(t),u=a==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-i.width,y:h};break;default:m={x:n.x,y:n.y}}switch(lT(t)){case"start":m[s]-=p*(r&&u?-1:1);break;case"end":m[s]+=p*(r&&u?-1:1);break}return m}const Ait=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=Oue(u,n,l),p=n,m={},v=0;for(let w=0;w<o.length;w++){const{name:x,fn:T}=o[w],{x:A,y:P,data:S,reset:E}=await T({x:f,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=A??f,h=P??h,m={...m,[x]:{...m[x],...S}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:f,y:h}=Oue(u,p,l)),w=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:m}};async function Tk(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=GS(t,e),v=Rit(m),x=o[p?h==="floating"?"reference":"floating":h],T=oI(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:l})),A=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),S=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},E=oI(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:P,strategy:l}):A);return{top:(T.top-E.top+v.top)/S.y,bottom:(E.bottom-T.bottom+v.bottom)/S.y,left:(T.left-E.left+v.left)/S.x,right:(E.right-T.right+v.right)/S.x}}const Oit=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...x}=GS(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Eb(i),A=cb(o),P=Eb(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=p||(P||!w?[aI(o)]:Eit(o)),_=v!=="none";!p&&_&&E.push(...Pit(o,w,v,S));const R=[o,...E],O=await Tk(t,x),F=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&F.push(O[T]),h){const J=Sit(i,s,S);F.push(O[J[0]],O[J[1]])}if($=[...$,{placement:i,overflows:F}],!F.every(J=>J<=0)){var z,q;const J=(((z=a.flip)==null?void 0:z.index)||0)+1,fe=R[J];if(fe){var Z;const pe=h==="alignment"?A!==cb(fe):!1,ve=((Z=$[0])==null?void 0:Z.overflows[0])>0;if(!pe||ve)return{data:{index:J,overflows:$},reset:{placement:fe}}}let ue=(q=$.filter(pe=>pe.overflows[0]<=0).sort((pe,ve)=>pe.overflows[1]-ve.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(m){case"bestFit":{var V;const pe=(V=$.filter(ve=>{if(_){const le=cb(ve.placement);return le===A||le==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(le=>le>0).reduce((le,se)=>le+se,0)]).sort((ve,le)=>ve[1]-le[1])[0])==null?void 0:V[0];pe&&(ue=pe);break}case"initialPlacement":ue=o;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};async function Iit(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Eb(r),o=lT(r),l=cb(r)==="y",u=["left","top"].includes(s)?-1:1,f=a&&l?-1:1,h=GS(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const Mit=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await Iit(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},kit=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:T,y:A}=x;return{x:T,y:A}}},...l}=GS(e,t),u={x:r,y:n},f=await Tk(t,l),h=cb(Eb(i)),p=l1e(h);let m=u[p],v=u[h];if(a){const x=p==="y"?"top":"left",T=p==="y"?"bottom":"right",A=m+f[x],P=m-f[T];m=Aue(A,m,P)}if(s){const x=h==="y"?"top":"left",T=h==="y"?"bottom":"right",A=v+f[x],P=v-f[T];v=Aue(A,v,P)}const w=o.fn({...t,[p]:m,[h]:v});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[p]:a,[h]:s}}}}}},Dit=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...u}=GS(e,t),f=await Tk(t,u),h=Eb(i),p=lT(i),m=cb(i)==="y",{width:v,height:w}=a.floating;let x,T;h==="top"||h==="bottom"?(x=h,T=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(T=h,x=p==="end"?"top":"bottom");const A=w-f.top-f.bottom,P=v-f.left-f.right,S=dw(w-f[x],A),E=dw(v-f[T],P),_=!t.middlewareData.shift;let R=S,O=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=P),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=A),_&&!p){const $=Gd(f.left,0),z=Gd(f.right,0),q=Gd(f.top,0),Z=Gd(f.bottom,0);m?O=v-2*($!==0||z!==0?$+z:Gd(f.left,f.right)):R=w-2*(q!==0||Z!==0?q+Z:Gd(f.top,f.bottom))}await l({...t,availableWidth:O,availableHeight:R});const F=await s.getDimensions(o.floating);return v!==F.width||w!==F.height?{reset:{rects:!0}}:{}}}};function f1e(e){const t=nv(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ay(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=q2(r)!==a||q2(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function bV(e){return Lh(e)?e:e.contextElement}function Ox(e){const t=bV(e);if(!ay(t))return Yv(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=f1e(t);let s=(a?q2(r.width):r.width)/n,o=(a?q2(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Fit=Yv(0);function d1e(e){const t=cm(e);return!yV()||!t.visualViewport?Fit:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lit(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cm(e)?!1:t}function hw(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=bV(e);let s=Yv(1);t&&(n?Lh(n)&&(s=Ox(n)):s=Ox(e));const o=Lit(a,r,n)?d1e(a):Yv(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(a){const p=cm(a),m=n&&Lh(n)?cm(n):n;let v=p,w=a9(v);for(;w&&n&&m!==v;){const x=Ox(w),T=w.getBoundingClientRect(),A=nv(w),P=T.left+(w.clientLeft+parseFloat(A.paddingLeft))*x.x,S=T.top+(w.clientTop+parseFloat(A.paddingTop))*x.y;l*=x.x,u*=x.y,f*=x.x,h*=x.y,l+=P,u+=S,v=cm(w),w=a9(v)}}return oI({width:f,height:h,x:l,y:u})}function _V(e,t){const r=Pk(e).scrollLeft;return t?t.left+r:hw(yy(e)).left+r}function h1e(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:_V(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function Nit(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=yy(n),o=t?Ck(t.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Yv(1);const f=Yv(0),h=ay(n);if((h||!h&&!a)&&((VS(n)!=="body"||sT(s))&&(l=Pk(n)),ay(n))){const m=hw(n);u=Ox(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const p=s&&!h&&!a?h1e(s,l,!0):Yv(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-l.scrollTop*u.y+f.y+p.y}}function $it(e){return Array.from(e.getClientRects())}function zit(e){const t=yy(e),r=Pk(e),n=e.ownerDocument.body,i=Gd(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Gd(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+_V(e);const o=-r.scrollTop;return nv(n).direction==="rtl"&&(s+=Gd(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Bit(e,t){const r=cm(e),n=yy(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=yV();(!u||u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function jit(e,t){const r=hw(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ay(e)?Ox(e):Yv(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function Iue(e,t,r){let n;if(t==="viewport")n=Bit(e,r);else if(t==="document")n=zit(yy(e));else if(Lh(t))n=jit(t,r);else{const i=d1e(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return oI(n)}function p1e(e,t){const r=Sb(e);return r===t||!Lh(r)||Vx(r)?!1:nv(r).position==="fixed"||p1e(r,t)}function Uit(e,t){const r=t.get(e);if(r)return r;let n=U2(e,[],!1).filter(o=>Lh(o)&&VS(o)!=="body"),i=null;const a=nv(e).position==="fixed";let s=a?Sb(e):e;for(;Lh(s)&&!Vx(s);){const o=nv(s),l=vV(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sT(s)&&!l&&p1e(e,s))?n=n.filter(f=>f!==s):i=o,s=Sb(s)}return t.set(e,n),n}function qit(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?Ck(t)?[]:Uit(t,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,f)=>{const h=Iue(t,f,i);return u.top=Gd(h.top,u.top),u.right=dw(h.right,u.right),u.bottom=dw(h.bottom,u.bottom),u.left=Gd(h.left,u.left),u},Iue(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Hit(e){const{width:t,height:r}=f1e(e);return{width:t,height:r}}function Wit(e,t,r){const n=ay(t),i=yy(t),a=r==="fixed",s=hw(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=Yv(0);function u(){l.x=_V(i)}if(n||!n&&!a)if((VS(t)!=="body"||sT(i))&&(o=Pk(t)),n){const m=hw(t,!0,a,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();a&&!n&&i&&u();const f=i&&!n&&!a?h1e(i,o):Yv(0),h=s.left+o.scrollLeft-l.x-f.x,p=s.top+o.scrollTop-l.y-f.y;return{x:h,y:p,width:s.width,height:s.height}}function m8(e){return nv(e).position==="static"}function Mue(e,t){if(!ay(e)||nv(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yy(e)===r&&(r=r.ownerDocument.body),r}function m1e(e,t){const r=cm(e);if(Ck(e))return r;if(!ay(e)){let i=Sb(e);for(;i&&!Vx(i);){if(Lh(i)&&!m8(i))return i;i=Sb(i)}return r}let n=Mue(e,t);for(;n&&yit(n)&&m8(n);)n=Mue(n,t);return n&&Vx(n)&&m8(n)&&!vV(n)?r:n||bit(e)||r}const Vit=async function(e){const t=this.getOffsetParent||m1e,r=this.getDimensions,n=await r(e.floating);return{reference:Wit(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Git(e){return nv(e).direction==="rtl"}const Kit={convertOffsetParentRelativeRectToViewportRelativeRect:Nit,getDocumentElement:yy,getClippingRect:qit,getOffsetParent:m1e,getElementRects:Vit,getClientRects:$it,getDimensions:Hit,getScale:Ox,isElement:Lh,isRTL:Git};function g1e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zit(e,t){let r=null,n;const i=yy(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=u;if(o||t(),!p||!m)return;const v=UR(h),w=UR(i.clientWidth-(f+p)),x=UR(i.clientHeight-(h+m)),T=UR(f),P={rootMargin:-v+"px "+-w+"px "+-x+"px "+-T+"px",threshold:Gd(0,dw(1,l))||1};let S=!0;function E(_){const R=_[0].intersectionRatio;if(R!==l){if(!S)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!g1e(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver(E,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,P)}r.observe(e)}return s(!0),a}function v1e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=bV(e),f=i||a?[...u?U2(u):[],...U2(t)]:[];f.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const h=u&&o?Zit(u,r):null;let p=-1,m=null;s&&(m=new ResizeObserver(T=>{let[A]=T;A&&A.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var P;(P=m)==null||P.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let v,w=l?hw(e):null;l&&x();function x(){const T=hw(e);w&&!g1e(w,T)&&r(),w=T,v=requestAnimationFrame(x)}return r(),()=>{var T;f.forEach(A=>{i&&A.removeEventListener("scroll",r),a&&A.removeEventListener("resize",r)}),h==null||h(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const g8=Tk,Yit=Mit,Xit=kit,Jit=Oit,Qit=Dit,eat=(e,t,r)=>{const n=new Map,i={platform:Kit,...r},a={...i.platform,_c:n};return Ait(e,t,{...i,platform:a})};var kA=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function sI(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sI(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!sI(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function y1e(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kue(e,t){const r=y1e(e);return Math.round(t*r)/r}function v8(e){const t=ne.useRef(e);return kA(()=>{t.current=e}),t}function b1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[f,h]=ne.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=ne.useState(n);sI(p,n)||m(n);const[v,w]=ne.useState(null),[x,T]=ne.useState(null),A=ne.useCallback(pe=>{pe!==_.current&&(_.current=pe,w(pe))},[]),P=ne.useCallback(pe=>{pe!==R.current&&(R.current=pe,T(pe))},[]),S=a||v,E=s||x,_=ne.useRef(null),R=ne.useRef(null),O=ne.useRef(f),F=l!=null,$=v8(l),z=v8(i),q=v8(u),Z=ne.useCallback(()=>{if(!_.current||!R.current)return;const pe={placement:t,strategy:r,middleware:p};z.current&&(pe.platform=z.current),eat(_.current,R.current,pe).then(ve=>{const le={...ve,isPositioned:q.current!==!1};V.current&&!sI(O.current,le)&&(O.current=le,Ls.flushSync(()=>{h(le)}))})},[p,t,r,z,q]);kA(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(pe=>({...pe,isPositioned:!1})))},[u]);const V=ne.useRef(!1);kA(()=>(V.current=!0,()=>{V.current=!1}),[]),kA(()=>{if(S&&(_.current=S),E&&(R.current=E),S&&E){if($.current)return $.current(S,E,Z);Z()}},[S,E,Z,$,F]);const J=ne.useMemo(()=>({reference:_,floating:R,setReference:A,setFloating:P}),[A,P]),fe=ne.useMemo(()=>({reference:S,floating:E}),[S,E]),ue=ne.useMemo(()=>{const pe={position:r,left:0,top:0};if(!fe.floating)return pe;const ve=kue(fe.floating,f.x),le=kue(fe.floating,f.y);return o?{...pe,transform:"translate("+ve+"px, "+le+"px)",...y1e(fe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ve,top:le}},[r,o,fe.floating,f.x,f.y]);return ne.useMemo(()=>({...f,update:Z,refs:J,elements:fe,floatingStyles:ue}),[f,Z,J,fe,ue])}const _1e=(e,t)=>({...Yit(e),options:[e,t]}),tat=(e,t)=>({...Xit(e),options:[e,t]}),w1e=(e,t)=>({...Jit(e),options:[e,t]}),x1e=(e,t)=>({...Qit(e),options:[e,t]}),S1e={...sj},rat=S1e.useInsertionEffect,nat=rat||(e=>e());function E1e(e){const t=ne.useRef(()=>{});return nat(()=>{t.current=e}),ne.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var s9=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;let Due=!1,iat=0;const Fue=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iat++;function aat(){const[e,t]=ne.useState(()=>Due?Fue():void 0);return s9(()=>{e==null&&t(Fue())},[]),ne.useEffect(()=>{Due=!0},[]),e}const oat=S1e.useId,sat=oat||aat;function lat(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==r))||[])}}}const uat=ne.createContext(null),cat=ne.createContext(null),fat=()=>{var e;return((e=ne.useContext(uat))==null?void 0:e.id)||null},dat=()=>ne.useContext(cat),hat="data-floating-ui-focusable";function pat(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=sat(),a=ne.useRef({}),[s]=ne.useState(()=>lat()),o=fat()!=null,[l,u]=ne.useState(n.reference),f=E1e((m,v,w)=>{a.current.openEvent=m?v:void 0,s.emit("openchange",{open:m,event:v,reason:w,nested:o}),r==null||r(m,v,w)}),h=ne.useMemo(()=>({setPositionReference:u}),[]),p=ne.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return ne.useMemo(()=>({dataRef:a,open:t,onOpenChange:f,elements:p,events:s,floatingId:i,refs:h}),[t,f,p,s,i,h])}function mat(e){e===void 0&&(e={});const{nodeId:t}=e,r=pat({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,s]=ne.useState(null),[o,l]=ne.useState(null),f=(i==null?void 0:i.domReference)||a,h=ne.useRef(null),p=dat();s9(()=>{f&&(h.current=f)},[f]);const m=b1e({...e,elements:{...i,...o&&{reference:o}}}),v=ne.useCallback(P=>{const S=Lh(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;l(S),m.refs.setReference(S)},[m.refs]),w=ne.useCallback(P=>{(Lh(P)||P===null)&&(h.current=P,s(P)),(Lh(m.refs.reference.current)||m.refs.reference.current===null||P!==null&&!Lh(P))&&m.refs.setReference(P)},[m.refs]),x=ne.useMemo(()=>({...m.refs,setReference:w,setPositionReference:v,domReference:h}),[m.refs,w,v]),T=ne.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),A=ne.useMemo(()=>({...m,...n,refs:x,elements:T,nodeId:t}),[m,x,T,t,n]);return s9(()=>{n.dataRef.current.floatingContext=A;const P=p==null?void 0:p.nodesRef.current.find(S=>S.id===t);P&&(P.context=A)}),ne.useMemo(()=>({...m,context:A,refs:x,elements:T}),[m,x,T,A])}const Lue="active",Nue="selected";function y8(e,t,r){const n=new Map,i=r==="item";let a=e;if(i&&e){const{[Lue]:s,[Nue]:o,...l}=e;a=l}return{...r==="floating"&&{tabIndex:-1,[hat]:""},...a,...t.map(s=>{const o=s?s[r]:null;return typeof o=="function"?e?o(e):null:o}).concat(e).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[u,f]=l;if(!(i&&[Lue,Nue].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof f=="function"){var h;(h=n.get(u))==null||h.push(f),s[u]=function(){for(var p,m=arguments.length,v=new Array(m),w=0;w<m;w++)v[w]=arguments[w];return(p=n.get(u))==null?void 0:p.map(x=>x(...v)).find(x=>x!==void 0)}}}else s[u]=f}),s),{})}}function gat(e){e===void 0&&(e=[]);const t=e.map(o=>o==null?void 0:o.reference),r=e.map(o=>o==null?void 0:o.floating),n=e.map(o=>o==null?void 0:o.item),i=ne.useCallback(o=>y8(o,e,"reference"),t),a=ne.useCallback(o=>y8(o,e,"floating"),r),s=ne.useCallback(o=>y8(o,e,"item"),n);return ne.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}function $ue(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const vat=e=>({name:"inner",options:e,async fn(t){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:a=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:u,...f}=GS(e,t),{rects:h,elements:{floating:p}}=t,m=r.current[s],v=(u==null?void 0:u.current)||p,w=p.clientTop||v.clientTop,x=p.clientTop!==0,T=v.clientTop!==0,A=p===v;if(!m)return{};const P={...t,...await _1e(-m.offsetTop-p.clientTop-h.reference.height/2-m.offsetHeight/2-a).fn(t)},S=await g8($ue(P,v.scrollHeight+w+p.clientTop),f),E=await g8(P,{...f,elementContext:"reference"}),_=Gd(0,S.top),R=P.y+_,$=(v.scrollHeight>v.clientHeight?z=>z:q2)(Gd(0,v.scrollHeight+(x&&A||T?w*2:0)-_-Gd(0,S.bottom)));if(v.style.maxHeight=$+"px",v.scrollTop=_,i){const z=v.offsetHeight<m.offsetHeight*dw(o,r.current.length)-1||E.top>=-l||E.bottom>=-l;Ls.flushSync(()=>i(z))}return n&&(n.current=await g8($ue({...P,y:R},v.offsetHeight+w+p.clientTop),f)),{y:R}}});function yat(e,t){const{open:r,elements:n}=e,{enabled:i=!0,overflowRef:a,scrollRef:s,onChange:o}=t,l=E1e(o),u=ne.useRef(!1),f=ne.useRef(null),h=ne.useRef(null);ne.useEffect(()=>{if(!i)return;function m(w){if(w.ctrlKey||!v||a.current==null)return;const x=w.deltaY,T=a.current.top>=-.5,A=a.current.bottom>=-.5,P=v.scrollHeight-v.clientHeight,S=x<0?-1:1,E=x<0?"max":"min";v.scrollHeight<=v.clientHeight||(!T&&x>0||!A&&x<0?(w.preventDefault(),Ls.flushSync(()=>{l(_=>_+Math[E](x,P*S))})):/firefox/i.test(_it())&&(v.scrollTop+=x))}const v=(s==null?void 0:s.current)||n.floating;if(r&&v)return v.addEventListener("wheel",m),requestAnimationFrame(()=>{f.current=v.scrollTop,a.current!=null&&(h.current={...a.current})}),()=>{f.current=null,h.current=null,v.removeEventListener("wheel",m)}},[i,r,n.floating,a,s,l]);const p=ne.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=(s==null?void 0:s.current)||n.floating;if(!(!a.current||!m||!u.current)){if(f.current!==null){const v=m.scrollTop-f.current;(a.current.bottom<-.5&&v<-1||a.current.top<-.5&&v>1)&&Ls.flushSync(()=>l(w=>w+v))}requestAnimationFrame(()=>{f.current=m.scrollTop})}}}),[n.floating,l,a,s]);return ne.useMemo(()=>i?{floating:p}:{},[i,p])}let KS=ne.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});KS.displayName="FloatingContext";let wV=ne.createContext(null);wV.displayName="PlacementContext";function Rk(e){return ne.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Ak(){return ne.useContext(KS).setReference}function C1e(){return ne.useContext(KS).getReferenceProps}function Ok(){let{getFloatingProps:e,slot:t}=ne.useContext(KS);return ne.useCallback((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}function Ik(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=ne.useContext(wV),r=ne.useMemo(()=>e,[JSON.stringify(e,(i,a)=>{var s;return(s=a==null?void 0:a.outerHTML)!=null?s:a})]);oo(()=>{t==null||t(r??null)},[t,r]);let n=ne.useContext(KS);return ne.useMemo(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}let zue=4;function Mk({children:e,enabled:t=!0}){let[r,n]=ne.useState(null),[i,a]=ne.useState(0),s=ne.useRef(null),[o,l]=ne.useState(null);bat(o);let u=t&&r!==null&&o!==null,{to:f="bottom",gap:h=0,offset:p=0,padding:m=0,inner:v}=_at(r,o),[w,x="center"]=f.split(" ");oo(()=>{u&&a(0)},[u]);let{refs:T,floatingStyles:A,context:P}=mat({open:u,placement:w==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${w}`:`${w}-${x}`,strategy:"absolute",transform:!1,middleware:[_1e({mainAxis:w==="selection"?0:h,crossAxis:p}),tat({padding:m}),w!=="selection"&&w1e({padding:m}),w==="selection"&&v?vat({...v,padding:m,overflowRef:s,offset:i,minItemsVisible:zue,referenceOverflowThreshold:m,onFallbackChange(z){var q,Z;if(!z)return;let V=P.elements.floating;if(!V)return;let J=parseFloat(getComputedStyle(V).scrollPaddingBottom)||0,fe=Math.min(zue,V.childElementCount),ue=0,pe=0;for(let ve of(Z=(q=P.elements.floating)==null?void 0:q.childNodes)!=null?Z:[])if(ve instanceof HTMLElement){let le=ve.offsetTop,se=le+ve.clientHeight+J,ge=V.scrollTop,_e=ge+V.clientHeight;if(le>=ge&&se<=_e)fe--;else{pe=Math.max(0,Math.min(se,_e)-Math.max(le,ge)),ue=ve.clientHeight;break}}fe>=1&&a(ve=>{let le=ue*fe-pe+J;return ve>=le?ve:le})}}):null,x1e({padding:m,apply({availableWidth:z,availableHeight:q,elements:Z}){Object.assign(Z.floating.style,{overflow:"auto",maxWidth:`${z}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${q}px)`})}})].filter(Boolean),whileElementsMounted:v1e}),[S=w,E=x]=P.placement.split("-");w==="selection"&&(S="selection");let _=ne.useMemo(()=>({anchor:[S,E].filter(Boolean).join(" ")}),[S,E]),R=yat(P,{overflowRef:s,onChange:a}),{getReferenceProps:O,getFloatingProps:F}=gat([R]),$=xn(z=>{l(z),T.setFloating(z)});return ne.createElement(wV.Provider,{value:n},ne.createElement(KS.Provider,{value:{setFloating:$,setReference:T.setReference,styles:A,getReferenceProps:O,getFloatingProps:F,slot:_}},e))}function bat(e){oo(()=>{if(!e)return;let t=new MutationObserver(()=>{let r=window.getComputedStyle(e).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function _at(e,t){var r,n,i;let a=b8((r=e==null?void 0:e.gap)!=null?r:"var(--anchor-gap, 0)",t),s=b8((n=e==null?void 0:e.offset)!=null?n:"var(--anchor-offset, 0)",t),o=b8((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:a,offset:s,padding:o}}function b8(e,t,r=void 0){let n=gy(),i=xn((l,u)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[r,null];let f=Bue(l,u);return[f,h=>{let p=P1e(l);{let m=p.map(v=>window.getComputedStyle(u).getPropertyValue(v));n.requestAnimationFrame(function v(){n.nextFrame(v);let w=!1;for(let[T,A]of p.entries()){let P=window.getComputedStyle(u).getPropertyValue(A);if(m[T]!==P){m[T]=P,w=!0;break}}if(!w)return;let x=Bue(l,u);f!==x&&(h(x),f=x)})}return n.dispose}]}return[r,null]}),a=ne.useMemo(()=>i(e,t)[0],[e,t]),[s=a,o]=ne.useState();return oo(()=>{let[l,u]=i(e,t);if(o(l),!!u)return u(o)},[e,t]),s}function P1e(e){let t=/var\((.*)\)/.exec(e);if(t){let r=t[1].indexOf(",");if(r===-1)return[t[1]];let n=t[1].slice(0,r).trim(),i=t[1].slice(r+1).trim();return i?[n,...P1e(i)]:[n]}return[]}function Bue(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}function wat({children:e,freeze:t}){let r=lI(t,e);return ze.createElement(ze.Fragment,null,r)}function lI(e,t){let[r,n]=ne.useState(t);return!e&&r!==t&&n(t),e?r:t}let kk=ne.createContext(null);kk.displayName="OpenClosedContext";var xs=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(xs||{});function by(){return ne.useContext(kk)}function ZS({value:e,children:t}){return ze.createElement(kk.Provider,{value:e},t)}function xV({children:e}){return ze.createElement(kk.Provider,{value:null},e)}var T1e=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ig=(e,t,r)=>(T1e(e,t,"read from private field"),r?r.call(e):t.get(e)),_8=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},jue=(e,t,r,n)=>(T1e(e,t,"write to private field"),t.set(e,r),r),Uy,xC,SC;let SV=class{constructor(t){_8(this,Uy,{}),_8(this,xC,new Ywe(()=>new Set)),_8(this,SC,new Set),jue(this,Uy,t)}get state(){return Ig(this,Uy)}subscribe(t,r){let n={selector:t,callback:r,current:t(Ig(this,Uy))};return Ig(this,SC).add(n),()=>{Ig(this,SC).delete(n)}}on(t,r){return Ig(this,xC).get(t).add(r),()=>{Ig(this,xC).get(t).delete(r)}}send(t){jue(this,Uy,this.reduce(Ig(this,Uy),t));for(let r of Ig(this,SC)){let n=r.selector(Ig(this,Uy));R1e(r.current,n)||(r.current=n,r.callback(n))}for(let r of Ig(this,xC).get(t.type))r(Ig(this,Uy),t)}};Uy=new WeakMap,xC=new WeakMap,SC=new WeakMap;function R1e(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:w8(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:w8(e.entries(),t.entries()):Uue(e)&&Uue(t)?w8(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function w8(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function Uue(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function QC(e){let[t,r]=e(),n=_m();return(...i)=>{t(...i),n.dispose(),n.microTask(r)}}function Go(e,t,r=R1e){return w7e.useSyncExternalStoreWithSelector(xn(n=>e.subscribe(xat,n)),xn(()=>e.state),xn(()=>e.state),xn(t),r)}function xat(e){return e}function Sat(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Nv=[];Sat(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Nv[0]===t.target)return;let r=t.target;r=r.closest(iI),Nv.unshift(r??t.target),Nv=Nv.filter(n=>n!=null&&n.isConnected),Nv.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Eat(e){throw new Error("Unexpected object: "+e)}var ca=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ca||{});function t0(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1;switch(e.focus){case 0:{for(let a=0;a<r.length;++a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 1:{i===-1&&(i=r.length);for(let a=i-1;a>=0;--a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 2:{for(let a=i+1;a<r.length;++a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 3:{for(let a=r.length-1;a>=0;--a)if(!t.resolveDisabled(r[a],a,r))return a;return n}case 4:{for(let a=0;a<r.length;++a)if(t.resolveId(r[a],a,r)===e.id)return a;return n}case 5:return null;default:Eat(e)}}var EV=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(EV||{});function A1e(e){let t=xn(e),r=ne.useRef(!1);ne.useEffect(()=>(r.current=!1,()=>{r.current=!0,QP(()=>{r.current&&t()})}),[t])}function Cat(){let e=typeof document>"u";return"useSyncExternalStore"in sj?(t=>t.useSyncExternalStore)(sj)(()=>()=>{},()=>!1,()=>!e):!1}function uT(){let e=Cat(),[t,r]=ne.useState(z_.isHandoffComplete);return t&&z_.isHandoffComplete===!1&&r(!1),ne.useEffect(()=>{t!==!0&&r(!0)},[t]),ne.useEffect(()=>z_.handoff(),[]),e?!1:t}let O1e=ne.createContext(!1);function Pat(){return ne.useContext(O1e)}function que(e){return ze.createElement(O1e.Provider,{value:e.force},e.children)}function Tat(e){let t=Pat(),r=ne.useContext(M1e),[n,i]=ne.useState(()=>{var a;if(!t&&r!==null)return(a=r.current)!=null?a:null;if(z_.isServer)return null;let s=e==null?void 0:e.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return ne.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),ne.useEffect(()=>{t||r!==null&&i(r.current)},[r,i,t]),n}let I1e=ne.Fragment,Rat=pa(function(e,t){let{ownerDocument:r=null,...n}=e,i=ne.useRef(null),a=vo(dV(m=>{i.current=m}),t),s=Uh(i),o=r??s,l=Tat(o),[u]=ne.useState(()=>{var m;return z_.isServer?null:(m=o==null?void 0:o.createElement("div"))!=null?m:null}),f=ne.useContext(l9),h=uT();oo(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),oo(()=>{if(u&&f)return f.register(u)},[f,u]),A1e(()=>{var m;!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let p=Ea();return h?!l||!u?null:Ls.createPortal(p({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:I1e,name:"Portal"}),u):null});function Aat(e,t){let r=vo(t),{enabled:n=!0,ownerDocument:i,...a}=e,s=Ea();return n?ze.createElement(Rat,{...a,ownerDocument:i,ref:r}):s({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:I1e,name:"Portal"})}let Oat=ne.Fragment,M1e=ne.createContext(null);function Iat(e,t){let{target:r,...n}=e,i={ref:vo(t)},a=Ea();return ze.createElement(M1e.Provider,{value:r},a({ourProps:i,theirProps:n,defaultTag:Oat,name:"Popover.Group"}))}let l9=ne.createContext(null);function k1e(){let e=ne.useContext(l9),t=ne.useRef([]),r=xn(a=>(t.current.push(a),e&&e.register(a),()=>n(a))),n=xn(a=>{let s=t.current.indexOf(a);s!==-1&&t.current.splice(s,1),e&&e.unregister(a)}),i=ne.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,ne.useMemo(()=>function({children:a}){return ze.createElement(l9.Provider,{value:i},a)},[i])]}let Mat=pa(Aat),D1e=pa(Iat),cT=Object.assign(Mat,{Group:D1e});var kat=Object.defineProperty,Dat=(e,t,r)=>t in e?kat(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hue=(e,t,r)=>(Dat(e,typeof t!="symbol"?t+"":t,r),r),ns=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ns||{}),rm=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(rm||{}),fb=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(fb||{}),F1e=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(F1e||{});function x8(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=t(e.options.slice()),i=n.length>0&&n[0].dataRef.current.order!==null?n.sort((s,o)=>s.dataRef.current.order-o.dataRef.current.order):e0(n,s=>s.dataRef.current.domRef.current),a=r?i.indexOf(r):null;return a===-1&&(a=null),{options:i,activeOptionIndex:a}}let Fat={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,r;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((r=e.dataRef.current)!=null&&r.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var r,n,i,a;if((r=e.dataRef.current)!=null&&r.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:f}=e.virtual,h=t.focus===ca.Specific?t.idx:t0(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var m,v;return(v=(m=e.activeOptionIndex)!=null?m:u.findIndex(w=>!f(w)))!=null?v:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),p=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===h&&e.activationTrigger===p?e:{...e,activeOptionIndex:h,activationTrigger:p,isTyping:!1,__demoMode:!1}}let s=x8(e);if(s.activeOptionIndex===null){let u=s.options.findIndex(f=>!f.dataRef.current.disabled);u!==-1&&(s.activeOptionIndex=u)}let o=t.focus===ca.Specific?t.idx:t0(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),l=(a=t.trigger)!=null?a:2;return e.activeOptionIndex===o&&e.activationTrigger===l?e:{...e,...s,isTyping:!1,activeOptionIndex:o,activationTrigger:l,__demoMode:!1}},4:(e,t)=>{var r,n,i,a;if((r=e.dataRef.current)!=null&&r.virtual)return{...e,options:[...e.options,t.payload]};let s=t.payload,o=x8(e,u=>(u.push(s),u));e.activeOptionIndex===null&&(i=(n=e.dataRef.current).isSelected)!=null&&i.call(n,t.payload.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(s));let l={...e,...o,activationTrigger:2};return(a=e.dataRef.current)!=null&&a.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},5:(e,t)=>{var r;if((r=e.dataRef.current)!=null&&r.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let n=x8(e,i=>{let a=i.findIndex(s=>s.id===t.id);return a!==-1&&i.splice(a,1),i});return{...e,...n,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var r,n;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let a=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);a!==-1?i=a:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},Lat=class L1e extends SV{constructor(){super(...arguments),Hue(this,"actions",{onChange:t=>{let{onChange:r,compare:n,mode:i,value:a}=this.state.dataRef.current;return jo(i,{0:()=>r==null?void 0:r(t),1:()=>{let s=a.slice(),o=s.findIndex(l=>n(l,t));return o===-1?s.push(t):s.splice(o,1),r==null?void 0:r(s)}})},registerOption:(t,r)=>(this.send({type:4,payload:{id:t,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:t})}),goToOption:(t,r)=>(this.send({type:6,value:!1}),this.send({type:2,...t,trigger:r})),setIsTyping:t=>{this.send({type:3,isTyping:t})},closeCombobox:()=>{var t,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(t=this.state.dataRef.current).onClose)==null||r.call(t)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:t=>{this.send({type:7,trigger:t})},selectActiveOption:()=>{let t=this.selectors.activeOptionIndex(this.state);if(t!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[t]);else{let{dataRef:r}=this.state.options[t];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:ca.Specific,idx:t})}},setInputElement:t=>{this.send({type:9,element:t})},setButtonElement:t=>{this.send({type:10,element:t})},setOptionsElement:t=>{this.send({type:11,element:t})}}),Hue(this,"selectors",{activeDescendantId:t=>{var r,n;let i=this.selectors.activeOptionIndex(t);if(i!==null)return t.virtual?(n=t.options.find(a=>!a.dataRef.current.disabled&&t.dataRef.current.compare(a.dataRef.current.value,t.virtual.options[i])))==null?void 0:n.id:(r=t.options[i])==null?void 0:r.id},activeOptionIndex:t=>{if(t.defaultToFirstOption&&t.activeOptionIndex===null&&(t.virtual?t.virtual.options.length>0:t.options.length>0)){if(t.virtual){let{options:n,disabled:i}=t.virtual,a=n.findIndex(s=>{var o;return!((o=i==null?void 0:i(s))!=null&&o)});if(a!==-1)return a}let r=t.options.findIndex(n=>!n.dataRef.current.disabled);if(r!==-1)return r}return t.activeOptionIndex},activeOption:t=>{var r,n;let i=this.selectors.activeOptionIndex(t);return i===null?null:t.virtual?t.virtual.options[i??0]:(n=(r=t.options[i])==null?void 0:r.dataRef.current.value)!=null?n:null},isActive:(t,r,n)=>{var i;let a=this.selectors.activeOptionIndex(t);return a===null?!1:t.virtual?a===t.dataRef.current.calculateIndex(r):((i=t.options[a])==null?void 0:i.id)===n},shouldScrollIntoView:(t,r,n)=>!(t.virtual||t.__demoMode||t.comboboxState!==0||t.activationTrigger===0||!this.selectors.isActive(t,r,n))})}static new({virtual:t=null,__demoMode:r=!1}={}){var n;return new L1e({dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(t,r){return jo(r.type,Fat,t,r)}};const N1e=ne.createContext(null);function fT(e){let t=ne.useContext(N1e);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$1e),r}return t}function $1e({virtual:e=null,__demoMode:t=!1}={}){return ne.useMemo(()=>Lat.new({virtual:e,__demoMode:t}),[])}let H2=ne.createContext(null);H2.displayName="ComboboxDataContext";function YS(e){let t=ne.useContext(H2);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,YS),r}return t}let z1e=ne.createContext(null);function Nat(e){let t=fT("VirtualProvider"),r=YS("VirtualProvider"),{options:n}=r.virtual,i=Go(t,m=>m.optionsElement),[a,s]=ne.useMemo(()=>{let m=i;if(!m)return[0,0];let v=window.getComputedStyle(m);return[parseFloat(v.paddingBlockStart||v.paddingTop),parseFloat(v.paddingBlockEnd||v.paddingBottom)]},[i]),o=Ynt({enabled:n.length!==0,scrollPaddingStart:a,scrollPaddingEnd:s,count:n.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[l,u]=ne.useState(0);oo(()=>{u(m=>m+1)},[n]);let f=o.getVirtualItems(),h=Go(t,m=>m.activationTrigger===fb.Pointer),p=Go(t,t.selectors.activeOptionIndex);return f.length===0?null:ze.createElement(z1e.Provider,{value:o},ze.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:m=>{m&&(h||p!==null&&n.length>p&&o.scrollToIndex(p))}},f.map(m=>{var v;return ze.createElement(ne.Fragment,{key:m.key},ze.cloneElement((v=e.children)==null?void 0:v.call(e,{...e.slot,option:n[m.index]}),{key:`${l}-${m.key}`,"data-index":m.index,"aria-setsize":n.length,"aria-posinset":m.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${m.start}px)`,overflowAnchor:"none"}}))})))}let $at=ne.Fragment;function zat(e,t){let r=vy(),{value:n,defaultValue:i,onChange:a,form:s,name:o,by:l,invalid:u=!1,disabled:f=r||!1,onClose:h,__demoMode:p=!1,multiple:m=!1,immediate:v=!1,virtual:w=null,nullable:x,...T}=e,A=cV(i),[P=m?[]:void 0,S]=uV(n,a,A),E=$1e({virtual:w,__demoMode:p}),_=ne.useRef({static:!1,hold:!1}),R=Zwe(l),O=xn(ct=>w?l===null?w.options.indexOf(ct):w.options.findIndex($e=>R($e,ct)):E.state.options.findIndex($e=>R($e.dataRef.current.value,ct))),F=ne.useCallback(ct=>jo(q.mode,{[rm.Multi]:()=>P.some($e=>R($e,ct)),[rm.Single]:()=>R(P,ct)}),[P]),$=Go(E,ct=>ct.virtual),z=xn(()=>h==null?void 0:h()),q=ne.useMemo(()=>({__demoMode:p,immediate:v,optionsPropsRef:_,value:P,defaultValue:A,disabled:f,invalid:u,mode:m?rm.Multi:rm.Single,virtual:w?$:null,onChange:S,isSelected:F,calculateIndex:O,compare:R,onClose:z}),[P,A,f,u,m,S,F,p,E,w,$,z]);oo(()=>{var ct;w&&E.send({type:F1e.UpdateVirtualConfiguration,options:w.options,disabled:(ct=w.disabled)!=null?ct:null})},[w,w==null?void 0:w.options,w==null?void 0:w.disabled]),oo(()=>{E.state.dataRef.current=q},[q]);let[Z,V,J,fe]=Go(E,ct=>[ct.comboboxState,ct.buttonElement,ct.inputElement,ct.optionsElement]),ue=Z===ns.Open;aT(ue,[V,J,fe],()=>E.actions.closeCombobox());let pe=Go(E,E.selectors.activeOptionIndex),ve=Go(E,E.selectors.activeOption),le=ne.useMemo(()=>({open:Z===ns.Open,disabled:f,invalid:u,activeIndex:pe,activeOption:ve,value:P}),[q,f,P,u,ve,Z]),[se,ge]=Gw(),_e=t===null?{}:{ref:t},ke=ne.useCallback(()=>{if(A!==void 0)return S==null?void 0:S(A)},[S,A]),Ge=Ea();return ze.createElement(ge,{value:se,props:{htmlFor:J==null?void 0:J.id},slot:{open:Z===ns.Open,disabled:f}},ze.createElement(Mk,null,ze.createElement(H2.Provider,{value:q},ze.createElement(N1e.Provider,{value:E},ze.createElement(ZS,{value:jo(Z,{[ns.Open]:xs.Open,[ns.Closed]:xs.Closed})},o!=null&&ze.createElement(fV,{disabled:f,data:P!=null?{[o]:P}:{},form:s,onReset:ke}),Ge({ourProps:_e,theirProps:T,slot:le,defaultTag:$at,name:"Combobox"}))))))}let Bat="input";function jat(e,t){var r,n;let i=fT("Combobox.Input"),a=YS("Combobox.Input"),s=ne.useId(),o=HS(),{id:l=o||`headlessui-combobox-input-${s}`,onChange:u,displayValue:f,disabled:h=a.disabled||!1,autoFocus:p=!1,type:m="text",...v}=e,[w]=Go(i,ke=>[ke.inputElement]),x=ne.useRef(null),T=vo(x,t,Ak(),i.actions.setInputElement),A=Uh(w),[P,S]=Go(i,ke=>[ke.comboboxState,ke.isTyping]),E=gy(),_=xn(()=>{i.actions.onChange(null),i.state.optionsElement&&(i.state.optionsElement.scrollTop=0),i.actions.goToOption({focus:ca.Nothing})}),R=ne.useMemo(()=>{var ke;return typeof f=="function"&&a.value!==void 0?(ke=f(a.value))!=null?ke:"":typeof a.value=="string"?a.value:""},[a.value,f]);j2(([ke,Ge],[ct,$e])=>{if(i.state.isTyping)return;let we=x.current;we&&(($e===ns.Open&&Ge===ns.Closed||ke!==ct)&&(we.value=ke),requestAnimationFrame(()=>{if(i.state.isTyping||!we||(A==null?void 0:A.activeElement)!==we)return;let{selectionStart:Ee,selectionEnd:Re}=we;Math.abs((Re??0)-(Ee??0))===0&&Ee===0&&we.setSelectionRange(we.value.length,we.value.length)}))},[R,P,A,S]),j2(([ke],[Ge])=>{if(ke===ns.Open&&Ge===ns.Closed){if(i.state.isTyping)return;let ct=x.current;if(!ct)return;let $e=ct.value,{selectionStart:we,selectionEnd:Ee,selectionDirection:Re}=ct;ct.value="",ct.value=$e,Re!==null?ct.setSelectionRange(we,Ee,Re):ct.setSelectionRange(we,Ee)}},[P]);let O=ne.useRef(!1),F=xn(()=>{O.current=!0}),$=xn(()=>{E.nextFrame(()=>{O.current=!1})}),z=xn(ke=>{switch(i.actions.setIsTyping(!0),ke.key){case Pi.Enter:if(i.state.comboboxState!==ns.Open||O.current)return;if(ke.preventDefault(),ke.stopPropagation(),i.selectors.activeOptionIndex(i.state)===null){i.actions.closeCombobox();return}i.actions.selectActiveOption(),a.mode===rm.Single&&i.actions.closeCombobox();break;case Pi.ArrowDown:return ke.preventDefault(),ke.stopPropagation(),jo(i.state.comboboxState,{[ns.Open]:()=>i.actions.goToOption({focus:ca.Next}),[ns.Closed]:()=>i.actions.openCombobox()});case Pi.ArrowUp:return ke.preventDefault(),ke.stopPropagation(),jo(i.state.comboboxState,{[ns.Open]:()=>i.actions.goToOption({focus:ca.Previous}),[ns.Closed]:()=>{Ls.flushSync(()=>i.actions.openCombobox()),a.value||i.actions.goToOption({focus:ca.Last})}});case Pi.Home:if(ke.shiftKey)break;return ke.preventDefault(),ke.stopPropagation(),i.actions.goToOption({focus:ca.First});case Pi.PageUp:return ke.preventDefault(),ke.stopPropagation(),i.actions.goToOption({focus:ca.First});case Pi.End:if(ke.shiftKey)break;return ke.preventDefault(),ke.stopPropagation(),i.actions.goToOption({focus:ca.Last});case Pi.PageDown:return ke.preventDefault(),ke.stopPropagation(),i.actions.goToOption({focus:ca.Last});case Pi.Escape:return i.state.comboboxState!==ns.Open?void 0:(ke.preventDefault(),i.state.optionsElement&&!a.optionsPropsRef.current.static&&ke.stopPropagation(),a.mode===rm.Single&&a.value===null&&_(),i.actions.closeCombobox());case Pi.Tab:if(i.state.comboboxState!==ns.Open)return;a.mode===rm.Single&&i.state.activationTrigger!==fb.Focus&&i.actions.selectActiveOption(),i.actions.closeCombobox();break}}),q=xn(ke=>{u==null||u(ke),a.mode===rm.Single&&ke.target.value===""&&_(),i.actions.openCombobox()}),Z=xn(ke=>{var Ge,ct,$e;let we=(Ge=ke.relatedTarget)!=null?Ge:Nv.find(Ee=>Ee!==ke.currentTarget);if(!((ct=i.state.optionsElement)!=null&&ct.contains(we))&&!(($e=i.state.buttonElement)!=null&&$e.contains(we))&&i.state.comboboxState===ns.Open)return ke.preventDefault(),a.mode===rm.Single&&a.value===null&&_(),i.actions.closeCombobox()}),V=xn(ke=>{var Ge,ct,$e;let we=(Ge=ke.relatedTarget)!=null?Ge:Nv.find(Ee=>Ee!==ke.currentTarget);(ct=i.state.buttonElement)!=null&&ct.contains(we)||($e=i.state.optionsElement)!=null&&$e.contains(we)||a.disabled||a.immediate&&i.state.comboboxState!==ns.Open&&E.microTask(()=>{Ls.flushSync(()=>i.actions.openCombobox()),i.actions.setActivationTrigger(fb.Focus)})}),J=jb(),fe=eT(),{isFocused:ue,focusProps:pe}=ug({autoFocus:p}),{isHovered:ve,hoverProps:le}=pv({isDisabled:h}),se=Go(i,ke=>ke.optionsElement),ge=ne.useMemo(()=>({open:P===ns.Open,disabled:h,invalid:a.invalid,hover:ve,focus:ue,autofocus:p}),[a,ve,ue,p,h,a.invalid]),_e=Jf({ref:T,id:l,role:"combobox",type:m,"aria-controls":se==null?void 0:se.id,"aria-expanded":P===ns.Open,"aria-activedescendant":Go(i,i.selectors.activeDescendantId),"aria-labelledby":J,"aria-describedby":fe,"aria-autocomplete":"list",defaultValue:(n=(r=e.defaultValue)!=null?r:a.defaultValue!==void 0?f==null?void 0:f(a.defaultValue):null)!=null?n:a.defaultValue,disabled:h||void 0,autoFocus:p,onCompositionStart:F,onCompositionEnd:$,onKeyDown:z,onChange:q,onFocus:V,onBlur:Z},pe,le);return Ea()({ourProps:_e,theirProps:v,slot:ge,defaultTag:Bat,name:"Combobox.Input"})}let Uat="button";function qat(e,t){let r=fT("Combobox.Button"),n=YS("Combobox.Button"),[i,a]=ne.useState(null),s=vo(t,a,r.actions.setButtonElement),o=ne.useId(),{id:l=`headlessui-combobox-button-${o}`,disabled:u=n.disabled||!1,autoFocus:f=!1,...h}=e,p=Go(r,z=>z.inputElement),m=i1e(p),v=xn(z=>{switch(z.key){case Pi.Space:case Pi.Enter:z.preventDefault(),z.stopPropagation(),r.state.comboboxState===ns.Closed&&Ls.flushSync(()=>r.actions.openCombobox()),m();return;case Pi.ArrowDown:z.preventDefault(),z.stopPropagation(),r.state.comboboxState===ns.Closed&&(Ls.flushSync(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:ca.First})),m();return;case Pi.ArrowUp:z.preventDefault(),z.stopPropagation(),r.state.comboboxState===ns.Closed&&(Ls.flushSync(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:ca.Last})),m();return;case Pi.Escape:if(r.state.comboboxState!==ns.Open)return;z.preventDefault(),r.state.optionsElement&&!n.optionsPropsRef.current.static&&z.stopPropagation(),Ls.flushSync(()=>r.actions.closeCombobox()),m();return;default:return}}),w=xn(z=>{z.preventDefault(),!Vw(z.currentTarget)&&(z.button===EV.Left&&(r.state.comboboxState===ns.Open?r.actions.closeCombobox():r.actions.openCombobox()),m())}),x=jb([l]),{isFocusVisible:T,focusProps:A}=ug({autoFocus:f}),{isHovered:P,hoverProps:S}=pv({isDisabled:u}),{pressed:E,pressProps:_}=_0({disabled:u}),[R,O]=Go(r,z=>[z.comboboxState,z.optionsElement]),F=ne.useMemo(()=>({open:R===ns.Open,active:E||R===ns.Open,disabled:u,invalid:n.invalid,value:n.value,hover:P,focus:T}),[n,P,T,E,u,R]),$=Jf({ref:s,id:l,type:Kw(e,i),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":O==null?void 0:O.id,"aria-expanded":R===ns.Open,"aria-labelledby":x,disabled:u||void 0,autoFocus:f,onMouseDown:w,onKeyDown:v},A,S,_);return Ea()({ourProps:$,theirProps:h,slot:F,defaultTag:Uat,name:"Combobox.Button"})}let Hat="div",Wat=Xf.RenderStrategy|Xf.Static;function Vat(e,t){var r,n,i;let a=ne.useId(),{id:s=`headlessui-combobox-options-${a}`,hold:o=!1,anchor:l,portal:u=!1,modal:f=!0,transition:h=!1,...p}=e,m=fT("Combobox.Options"),v=YS("Combobox.Options"),w=Rk(l);w&&(u=!0);let[x,T]=Ik(w),[A,P]=ne.useState(null),S=Ok(),E=vo(t,w?x:null,m.actions.setOptionsElement,P),[_,R,O,F,$]=Go(m,Re=>[Re.comboboxState,Re.inputElement,Re.buttonElement,Re.optionsElement,Re.activationTrigger]),z=Uh(R||O),q=Uh(F),Z=by(),[V,J]=Yw(h,A,Z!==null?(Z&xs.Open)===xs.Open:_===ns.Open);tT(V,R,m.actions.closeCombobox);let fe=v.__demoMode?!1:f&&_===ns.Open;oT(fe,q);let ue=v.__demoMode?!1:f&&_===ns.Open;xk(ue,{allowed:ne.useCallback(()=>[R,O,F],[R,O,F])}),oo(()=>{var Re;v.optionsPropsRef.current.static=(Re=e.static)!=null?Re:!1},[v.optionsPropsRef,e.static]),oo(()=>{v.optionsPropsRef.current.hold=o},[v.optionsPropsRef,o]),a1e(_===ns.Open,{container:F,accept(Re){return Re.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:Re.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Re){Re.setAttribute("role","none")}});let pe=jb([O==null?void 0:O.id]),ve=ne.useMemo(()=>({open:_===ns.Open,option:void 0}),[_]),le=xn(()=>{m.actions.setActivationTrigger(fb.Pointer)}),se=xn(Re=>{Re.preventDefault(),m.actions.setActivationTrigger(fb.Pointer)}),ge=Jf(w?S():{},{"aria-labelledby":pe,role:"listbox","aria-multiselectable":v.mode===rm.Multi?!0:void 0,id:s,ref:E,style:{...p.style,...T,"--input-width":B2(R,!0).width,"--button-width":B2(O,!0).width},onWheel:$===fb.Pointer?void 0:le,onMouseDown:se,...Zw(J)}),_e=V&&_===ns.Closed,ke=lI(_e,(r=v.virtual)==null?void 0:r.options),Ge=lI(_e,v.value),ct=xn(Re=>v.compare(Ge,Re)),$e=ne.useMemo(()=>{if(!v.virtual)return v;if(ke===void 0)throw new Error("Missing `options` in virtual mode");return ke!==v.virtual.options?{...v,virtual:{...v.virtual,options:ke}}:v},[v,ke,(n=v.virtual)==null?void 0:n.options]);v.virtual&&Object.assign(p,{children:ze.createElement(H2.Provider,{value:$e},ze.createElement(Nat,{slot:ve},p.children))});let we=Ea(),Ee=ne.useMemo(()=>v.mode===rm.Multi?v:{...v,isSelected:ct},[v,ct]);return ze.createElement(cT,{enabled:u?e.static||V:!1,ownerDocument:z},ze.createElement(H2.Provider,{value:Ee},we({ourProps:ge,theirProps:{...p,children:ze.createElement(wat,{freeze:_e},typeof p.children=="function"?(i=p.children)==null?void 0:i.call(p,ve):p.children)},slot:ve,defaultTag:Hat,features:Wat,visible:V,name:"Combobox.Options"})))}let Gat="div";function Kat(e,t){var r,n,i;let a=YS("Combobox.Option"),s=fT("Combobox.Option"),o=ne.useId(),{id:l=`headlessui-combobox-option-${o}`,value:u,disabled:f=(i=(n=(r=a.virtual)==null?void 0:r.disabled)==null?void 0:n.call(r,u))!=null?i:!1,order:h=null,...p}=e,[m]=Go(s,J=>[J.inputElement]),v=i1e(m),w=Go(s,ne.useCallback(J=>s.selectors.isActive(J,u,l),[u,l])),x=a.isSelected(u),T=ne.useRef(null),A=Fh({disabled:f,value:u,domRef:T,order:h}),P=ne.useContext(z1e),S=vo(t,T,P?P.measureElement:null),E=xn(()=>{s.actions.setIsTyping(!1),s.actions.onChange(u)});oo(()=>s.actions.registerOption(l,A),[A,l]);let _=Go(s,ne.useCallback(J=>s.selectors.shouldScrollIntoView(J,u,l),[u,l]));oo(()=>{if(_)return _m().requestAnimationFrame(()=>{var J,fe;(fe=(J=T.current)==null?void 0:J.scrollIntoView)==null||fe.call(J,{block:"nearest"})})},[_,T]);let R=xn(J=>{J.preventDefault(),J.button===EV.Left&&(f||(E(),r1e()||requestAnimationFrame(()=>v()),a.mode===rm.Single&&s.actions.closeCombobox()))}),O=xn(()=>{if(f)return s.actions.goToOption({focus:ca.Nothing});let J=a.calculateIndex(u);s.actions.goToOption({focus:ca.Specific,idx:J})}),F=gV(),$=xn(J=>F.update(J)),z=xn(J=>{if(!F.wasMoved(J)||f||w)return;let fe=a.calculateIndex(u);s.actions.goToOption({focus:ca.Specific,idx:fe},fb.Pointer)}),q=xn(J=>{F.wasMoved(J)&&(f||w&&(a.optionsPropsRef.current.hold||s.actions.goToOption({focus:ca.Nothing})))}),Z=ne.useMemo(()=>({active:w,focus:w,selected:x,disabled:f}),[w,x,f]),V={id:l,ref:S,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":x,disabled:void 0,onMouseDown:R,onFocus:O,onPointerEnter:$,onMouseEnter:$,onPointerMove:z,onMouseMove:z,onPointerLeave:q,onMouseLeave:q};return Ea()({ourProps:V,theirProps:p,slot:Z,defaultTag:Gat,name:"Combobox.Option"})}let Zat=pa(zat),Yat=pa(qat),Xat=pa(jat),Jat=pV,Qat=pa(Vat),eot=pa(Kat),xSt=Object.assign(Zat,{Input:Xat,Button:Yat,Label:Jat,Options:Qat,Option:eot});function tot(e,t=typeof document<"u"?document.defaultView:null,r){let n=WS(e,"escape");Sk(t,"keydown",i=>{n&&(i.defaultPrevented||i.key===Pi.Escape&&r(i))})}function rot(){var e;let[t]=ne.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=ne.useState((e=t==null?void 0:t.matches)!=null?e:!1);return oo(()=>{if(!t)return;function i(a){n(a.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),r}function B1e({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Uh(r),i=xn(()=>{var a,s;let o=[];for(let l of e)l!==null&&(l instanceof HTMLElement?o.push(l):"current"in l&&l.current instanceof HTMLElement&&o.push(l.current));if(t!=null&&t.current)for(let l of t.current)o.push(l);for(let l of(a=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?a:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((s=r==null?void 0:r.getRootNode())==null?void 0:s.host))||o.some(u=>l.contains(u))||o.push(l));return o});return{resolveContainers:i,contains:xn(a=>i().some(s=>s.contains(a)))}}let j1e=ne.createContext(null);function uI({children:e,node:t}){let[r,n]=ne.useState(null),i=CV(t??r);return ze.createElement(j1e.Provider,{value:i},e,i===null&&ze.createElement(rv,{features:tv.Hidden,ref:a=>{var s,o;if(a){for(let l of(o=(s=mv(a))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(a)){n(l);break}}}}))}function CV(e=null){var t;return(t=ne.useContext(j1e))!=null?t:e}function Dk(){let e=ne.useRef(!1);return oo(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var om=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(om||{});function PV(){let e=ne.useRef(0);return n1e(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function U1e(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let not="div";var C_=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(C_||{});function iot(e,t){let r=ne.useRef(null),n=vo(r,t),{initialFocus:i,initialFocusFallback:a,containers:s,features:o=15,...l}=e;uT()||(o=0);let u=Uh(r);lot(o,{ownerDocument:u});let f=uot(o,{ownerDocument:u,container:r,initialFocus:i,initialFocusFallback:a});cot(o,{ownerDocument:u,container:r,containers:s,previousActiveElement:f});let h=PV(),p=xn(A=>{let P=r.current;P&&(S=>S())(()=>{jo(h.current,{[om.Forwards]:()=>{yf(P,ks.First,{skipElements:[A.relatedTarget,a]})},[om.Backwards]:()=>{yf(P,ks.Last,{skipElements:[A.relatedTarget,a]})}})})}),m=WS(!!(o&2),"focus-trap#tab-lock"),v=gy(),w=ne.useRef(!1),x={ref:n,onKeyDown(A){A.key=="Tab"&&(w.current=!0,v.requestAnimationFrame(()=>{w.current=!1}))},onBlur(A){if(!(o&4))return;let P=U1e(s);r.current instanceof HTMLElement&&P.add(r.current);let S=A.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(q1e(P,S)||(w.current?yf(r.current,jo(h.current,{[om.Forwards]:()=>ks.Next,[om.Backwards]:()=>ks.Previous})|ks.WrapAround,{relativeTo:A.target}):A.target instanceof HTMLElement&&Zv(A.target)))}},T=Ea();return ze.createElement(ze.Fragment,null,m&&ze.createElement(rv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:tv.Focusable}),T({ourProps:x,theirProps:l,defaultTag:not,name:"FocusTrap"}),m&&ze.createElement(rv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:tv.Focusable}))}let aot=pa(iot),oot=Object.assign(aot,{features:C_});function sot(e=!0){let t=ne.useRef(Nv.slice());return j2(([r],[n])=>{n===!0&&r===!1&&QP(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Nv.slice())},[e,Nv,t]),xn(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function lot(e,{ownerDocument:t}){let r=!!(e&8),n=sot(r);j2(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Zv(n())},[r]),A1e(()=>{r&&Zv(n())})}function uot(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:i}){let a=ne.useRef(null),s=WS(!!(e&1),"focus-trap#initial-focus"),o=Dk();return j2(()=>{if(e===0)return;if(!s){i!=null&&i.current&&Zv(i.current);return}let l=r.current;l&&QP(()=>{if(!o.current)return;let u=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){a.current=u;return}}else if(l.contains(u)){a.current=u;return}if(n!=null&&n.current)Zv(n.current);else{if(e&16){if(yf(l,ks.First|ks.AutoFocus)!==Uv.Error)return}else if(yf(l,ks.First)!==Uv.Error)return;if(i!=null&&i.current&&(Zv(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[i,s,e]),a}function cot(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:i}){let a=Dk(),s=!!(e&4);Sk(t==null?void 0:t.defaultView,"focus",o=>{if(!s||!a.current)return;let l=U1e(n);r.current instanceof HTMLElement&&l.add(r.current);let u=i.current;if(!u)return;let f=o.target;f&&f instanceof HTMLElement?q1e(l,f)?(i.current=f,Zv(f)):(o.preventDefault(),o.stopPropagation(),Zv(u)):Zv(i.current)},!0)}function q1e(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function H1e(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:V1e)!==ne.Fragment||ze.Children.count(e.children)===1}let Fk=ne.createContext(null);Fk.displayName="TransitionContext";var fot=(e=>(e.Visible="visible",e.Hidden="hidden",e))(fot||{});function dot(){let e=ne.useContext(Fk);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function hot(){let e=ne.useContext(Lk);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Lk=ne.createContext(null);Lk.displayName="NestingContext";function Nk(e){return"children"in e?Nk(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function W1e(e,t){let r=Fh(e),n=ne.useRef([]),i=Dk(),a=gy(),s=xn((m,v=tb.Hidden)=>{let w=n.current.findIndex(({el:x})=>x===m);w!==-1&&(jo(v,{[tb.Unmount](){n.current.splice(w,1)},[tb.Hidden](){n.current[w].state="hidden"}}),a.microTask(()=>{var x;!Nk(n)&&i.current&&((x=r.current)==null||x.call(r))}))}),o=xn(m=>{let v=n.current.find(({el:w})=>w===m);return v?v.state!=="visible"&&(v.state="visible"):n.current.push({el:m,state:"visible"}),()=>s(m,tb.Unmount)}),l=ne.useRef([]),u=ne.useRef(Promise.resolve()),f=ne.useRef({enter:[],leave:[]}),h=xn((m,v,w)=>{l.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([x])=>x!==m)),t==null||t.chains.current[v].push([m,new Promise(x=>{l.current.push(x)})]),t==null||t.chains.current[v].push([m,new Promise(x=>{Promise.all(f.current[v].map(([T,A])=>A)).then(()=>x())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(v)):w(v)}),p=xn((m,v,w)=>{Promise.all(f.current[v].splice(0).map(([x,T])=>T)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>w(v))});return ne.useMemo(()=>({children:n,register:o,unregister:s,onStart:h,onStop:p,wait:u,chains:f}),[o,s,n,h,p,f,u])}let V1e=ne.Fragment,G1e=Xf.RenderStrategy;function pot(e,t){var r,n;let{transition:i=!0,beforeEnter:a,afterEnter:s,beforeLeave:o,afterLeave:l,enter:u,enterFrom:f,enterTo:h,entered:p,leave:m,leaveFrom:v,leaveTo:w,...x}=e,[T,A]=ne.useState(null),P=ne.useRef(null),S=H1e(e),E=vo(...S?[P,t,A]:t===null?[]:[t]),_=(r=x.unmount)==null||r?tb.Unmount:tb.Hidden,{show:R,appear:O,initial:F}=dot(),[$,z]=ne.useState(R?"visible":"hidden"),q=hot(),{register:Z,unregister:V}=q;oo(()=>Z(P),[Z,P]),oo(()=>{if(_===tb.Hidden&&P.current){if(R&&$!=="visible"){z("visible");return}return jo($,{hidden:()=>V(P),visible:()=>Z(P)})}},[$,P,Z,V,R,_]);let J=uT();oo(()=>{if(S&&J&&$==="visible"&&P.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[P,$,J,S]);let fe=F&&!O,ue=O&&R&&F,pe=ne.useRef(!1),ve=W1e(()=>{pe.current||(z("hidden"),V(P))},q),le=xn($e=>{pe.current=!0;let we=$e?"enter":"leave";ve.onStart(P,we,Ee=>{Ee==="enter"?a==null||a():Ee==="leave"&&(o==null||o())})}),se=xn($e=>{let we=$e?"enter":"leave";pe.current=!1,ve.onStop(P,we,Ee=>{Ee==="enter"?s==null||s():Ee==="leave"&&(l==null||l())}),we==="leave"&&!Nk(ve)&&(z("hidden"),V(P))});ne.useEffect(()=>{S&&i||(le(R),se(R))},[R,S,i]);let ge=!(!i||!S||!J||fe),[,_e]=Yw(ge,T,R,{start:le,end:se}),ke=X0({ref:E,className:((n=n9(x.className,ue&&u,ue&&f,_e.enter&&u,_e.enter&&_e.closed&&f,_e.enter&&!_e.closed&&h,_e.leave&&m,_e.leave&&!_e.closed&&v,_e.leave&&_e.closed&&w,!_e.transition&&R&&p))==null?void 0:n.trim())||void 0,...Zw(_e)}),Ge=0;$==="visible"&&(Ge|=xs.Open),$==="hidden"&&(Ge|=xs.Closed),R&&$==="hidden"&&(Ge|=xs.Opening),!R&&$==="visible"&&(Ge|=xs.Closing);let ct=Ea();return ze.createElement(Lk.Provider,{value:ve},ze.createElement(ZS,{value:Ge},ct({ourProps:ke,theirProps:x,defaultTag:V1e,features:G1e,visible:$==="visible",name:"Transition.Child"})))}function mot(e,t){let{show:r,appear:n=!1,unmount:i=!0,...a}=e,s=ne.useRef(null),o=H1e(e),l=vo(...o?[s,t]:t===null?[]:[t]);uT();let u=by();if(r===void 0&&u!==null&&(r=(u&xs.Open)===xs.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,h]=ne.useState(r?"visible":"hidden"),p=W1e(()=>{r||h("hidden")}),[m,v]=ne.useState(!0),w=ne.useRef([r]);oo(()=>{m!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),v(!1))},[w,r]);let x=ne.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);oo(()=>{r?h("visible"):!Nk(p)&&s.current!==null&&h("hidden")},[r,p]);let T={unmount:i},A=xn(()=>{var E;m&&v(!1),(E=e.beforeEnter)==null||E.call(e)}),P=xn(()=>{var E;m&&v(!1),(E=e.beforeLeave)==null||E.call(e)}),S=Ea();return ze.createElement(Lk.Provider,{value:p},ze.createElement(Fk.Provider,{value:x},S({ourProps:{...T,as:ne.Fragment,children:ze.createElement(K1e,{ref:l,...T,...a,beforeEnter:A,beforeLeave:P})},theirProps:{},defaultTag:ne.Fragment,features:G1e,visible:f==="visible",name:"Transition"})))}function got(e,t){let r=ne.useContext(Fk)!==null,n=by()!==null;return ze.createElement(ze.Fragment,null,!r&&n?ze.createElement(u9,{ref:t,...e}):ze.createElement(K1e,{ref:t,...e}))}let u9=pa(mot),K1e=pa(pot),TV=pa(got),vot=Object.assign(u9,{Child:TV,Root:u9});var yot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yot||{}),bot=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(bot||{});let _ot={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},RV=ne.createContext(null);RV.displayName="DialogContext";function $k(e){let t=ne.useContext(RV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$k),r}return t}function wot(e,t){return jo(t.type,_ot,e,t)}let Wue=pa(function(e,t){let r=ne.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:a,initialFocus:s,role:o="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:f=!1,...h}=e,p=ne.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(p.current||(p.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=by();i===void 0&&m!==null&&(i=(m&xs.Open)===xs.Open);let v=ne.useRef(null),w=vo(v,t),x=Uh(v),T=i?0:1,[A,P]=ne.useReducer(wot,{titleId:null,descriptionId:null,panelRef:ne.createRef()}),S=xn(()=>a(!1)),E=xn(se=>P({type:0,id:se})),_=uT()?T===0:!1,[R,O]=k1e(),F={get current(){var se;return(se=A.panelRef.current)!=null?se:v.current}},$=CV(),{resolveContainers:z}=B1e({mainTreeNode:$,portals:R,defaultContainers:[F]}),q=m!==null?(m&xs.Closing)===xs.Closing:!1;xk(u||q?!1:_,{allowed:xn(()=>{var se,ge;return[(ge=(se=v.current)==null?void 0:se.closest("[data-headlessui-portal]"))!=null?ge:null]}),disallowed:xn(()=>{var se;return[(se=$==null?void 0:$.closest("body > *:not(#headlessui-portal-root)"))!=null?se:null]})}),aT(_,z,se=>{se.preventDefault(),S()}),tot(_,x==null?void 0:x.defaultView,se=>{se.preventDefault(),se.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),oT(u||q?!1:_,x,z),tT(_,v,S);let[Z,V]=_k(),J=ne.useMemo(()=>[{dialogState:T,close:S,setTitleId:E,unmount:f},A],[T,A,S,E,f]),fe=ne.useMemo(()=>({open:T===0}),[T]),ue={ref:w,id:n,role:o,tabIndex:-1,"aria-modal":u?void 0:T===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":Z,unmount:f},pe=!rot(),ve=C_.None;_&&!u&&(ve|=C_.RestoreFocus,ve|=C_.TabLock,l&&(ve|=C_.AutoFocus),pe&&(ve|=C_.InitialFocus));let le=Ea();return ze.createElement(xV,null,ze.createElement(que,{force:!0},ze.createElement(cT,null,ze.createElement(RV.Provider,{value:J},ze.createElement(D1e,{target:v},ze.createElement(que,{force:!1},ze.createElement(V,{slot:fe},ze.createElement(O,null,ze.createElement(oot,{initialFocus:s,initialFocusFallback:v,containers:z,features:ve},ze.createElement(mV,{value:S},le({ourProps:ue,theirProps:h,slot:fe,defaultTag:xot,features:Sot,visible:T===0,name:"Dialog"})))))))))))}),xot="div",Sot=Xf.RenderStrategy|Xf.Static;function Eot(e,t){let{transition:r=!1,open:n,...i}=e,a=by(),s=e.hasOwnProperty("open")||a!==null,o=e.hasOwnProperty("onClose");if(!s&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!i.static?ze.createElement(uI,null,ze.createElement(vot,{show:n,transition:r,unmount:i.unmount},ze.createElement(Wue,{ref:t,...i}))):ze.createElement(uI,null,ze.createElement(Wue,{ref:t,open:n,...i}))}let Cot="div";function Pot(e,t){let r=ne.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...a}=e,[{dialogState:s,unmount:o},l]=$k("Dialog.Panel"),u=vo(t,l.panelRef),f=ne.useMemo(()=>({open:s===0}),[s]),h=xn(x=>{x.stopPropagation()}),p={ref:u,id:n,onClick:h},m=i?TV:ne.Fragment,v=i?{unmount:o}:{},w=Ea();return ze.createElement(m,{...v},w({ourProps:p,theirProps:a,slot:f,defaultTag:Cot,name:"Dialog.Panel"}))}let Tot="div";function Rot(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:a}]=$k("Dialog.Backdrop"),s=ne.useMemo(()=>({open:i===0}),[i]),o={ref:t,"aria-hidden":!0},l=r?TV:ne.Fragment,u=r?{unmount:a}:{},f=Ea();return ze.createElement(l,{...u},f({ourProps:o,theirProps:n,slot:s,defaultTag:Tot,name:"Dialog.Backdrop"}))}let Aot="h2";function Oot(e,t){let r=ne.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:a,setTitleId:s}]=$k("Dialog.Title"),o=vo(t);ne.useEffect(()=>(s(n),()=>s(null)),[n,s]);let l=ne.useMemo(()=>({open:a===0}),[a]),u={ref:o,id:n};return Ea()({ourProps:u,theirProps:i,slot:l,defaultTag:Aot,name:"Dialog.Title"})}let Iot=pa(Eot),Mot=pa(Pot),SSt=pa(Rot),kot=pa(Oot),ESt=Object.assign(Iot,{Panel:Mot,Title:kot,Description:Gwe});var Vue;let Dot=(Vue=ze.startTransition)!=null?Vue:function(e){e()};var Fot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fot||{}),Lot=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Lot||{});let Not={0:e=>({...e,disclosureState:jo(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},AV=ne.createContext(null);AV.displayName="DisclosureContext";function OV(e){let t=ne.useContext(AV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,OV),r}return t}let IV=ne.createContext(null);IV.displayName="DisclosureAPIContext";function Z1e(e){let t=ne.useContext(IV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Z1e),r}return t}let MV=ne.createContext(null);MV.displayName="DisclosurePanelContext";function $ot(){return ne.useContext(MV)}function zot(e,t){return jo(t.type,Not,e,t)}let Bot=ne.Fragment;function jot(e,t){let{defaultOpen:r=!1,...n}=e,i=ne.useRef(null),a=vo(t,dV(w=>{i.current=w},e.as===void 0||e.as===ne.Fragment)),s=ne.useReducer(zot,{disclosureState:r?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:o,buttonId:l},u]=s,f=xn(w=>{u({type:1});let x=mv(i);if(!x||!l)return;let T=w?w instanceof HTMLElement?w:w.current instanceof HTMLElement?w.current:x.getElementById(l):x.getElementById(l);T==null||T.focus()}),h=ne.useMemo(()=>({close:f}),[f]),p=ne.useMemo(()=>({open:o===0,close:f}),[o,f]),m={ref:a},v=Ea();return ze.createElement(AV.Provider,{value:s},ze.createElement(IV.Provider,{value:h},ze.createElement(mV,{value:f},ze.createElement(ZS,{value:jo(o,{0:xs.Open,1:xs.Closed})},v({ourProps:m,theirProps:n,slot:p,defaultTag:Bot,name:"Disclosure"})))))}let Uot="button";function qot(e,t){let r=ne.useId(),{id:n=`headlessui-disclosure-button-${r}`,disabled:i=!1,autoFocus:a=!1,...s}=e,[o,l]=OV("Disclosure.Button"),u=$ot(),f=u===null?!1:u===o.panelId,h=ne.useRef(null),p=vo(h,t,xn(F=>{if(!f)return l({type:4,element:F})}));ne.useEffect(()=>{if(!f)return l({type:2,buttonId:n}),()=>{l({type:2,buttonId:null})}},[n,l,f]);let m=xn(F=>{var $;if(f){if(o.disclosureState===1)return;switch(F.key){case Pi.Space:case Pi.Enter:F.preventDefault(),F.stopPropagation(),l({type:0}),($=o.buttonElement)==null||$.focus();break}}else switch(F.key){case Pi.Space:case Pi.Enter:F.preventDefault(),F.stopPropagation(),l({type:0});break}}),v=xn(F=>{switch(F.key){case Pi.Space:F.preventDefault();break}}),w=xn(F=>{var $;Vw(F.currentTarget)||i||(f?(l({type:0}),($=o.buttonElement)==null||$.focus()):l({type:0}))}),{isFocusVisible:x,focusProps:T}=ug({autoFocus:a}),{isHovered:A,hoverProps:P}=pv({isDisabled:i}),{pressed:S,pressProps:E}=_0({disabled:i}),_=ne.useMemo(()=>({open:o.disclosureState===0,hover:A,active:S,disabled:i,focus:x,autofocus:a}),[o,A,S,x,i,a]),R=Kw(e,o.buttonElement),O=Jf(f?{ref:p,type:R,disabled:i||void 0,autoFocus:a,onKeyDown:m,onClick:w}:{ref:p,id:n,type:R,"aria-expanded":o.disclosureState===0,"aria-controls":o.panelElement?o.panelId:void 0,disabled:i||void 0,autoFocus:a,onKeyDown:m,onKeyUp:v,onClick:w},T,P,E);return Ea()({ourProps:O,theirProps:s,slot:_,defaultTag:Uot,name:"Disclosure.Button"})}let Hot="div",Wot=Xf.RenderStrategy|Xf.Static;function Vot(e,t){let r=ne.useId(),{id:n=`headlessui-disclosure-panel-${r}`,transition:i=!1,...a}=e,[s,o]=OV("Disclosure.Panel"),{close:l}=Z1e("Disclosure.Panel"),[u,f]=ne.useState(null),h=vo(t,xn(A=>{Dot(()=>o({type:5,element:A}))}),f);ne.useEffect(()=>(o({type:3,panelId:n}),()=>{o({type:3,panelId:null})}),[n,o]);let p=by(),[m,v]=Yw(i,u,p!==null?(p&xs.Open)===xs.Open:s.disclosureState===0),w=ne.useMemo(()=>({open:s.disclosureState===0,close:l}),[s.disclosureState,l]),x={ref:h,id:n,...Zw(v)},T=Ea();return ze.createElement(xV,null,ze.createElement(MV.Provider,{value:s.panelId},T({ourProps:x,theirProps:a,slot:w,defaultTag:Hot,features:Wot,visible:m,name:"Disclosure.Panel"})))}let Got=pa(jot),Kot=pa(qot),Zot=pa(Vot),CSt=Object.assign(Got,{Button:Kot,Panel:Zot}),Yot="div";function Xot(e,t){let r=`headlessui-control-${ne.useId()}`,[n,i]=Gw(),[a,s]=_k(),o=vy(),{disabled:l=o||!1,...u}=e,f=ne.useMemo(()=>({disabled:l}),[l]),h={ref:t,disabled:l||void 0,"aria-disabled":l||void 0},p=Ea();return ze.createElement(Nwe,{value:l},ze.createElement(i,{value:n},ze.createElement(s,{value:a},ze.createElement(Ont,{id:r},p({ourProps:h,theirProps:{...u,children:ze.createElement(Tnt,null,typeof u.children=="function"?u.children(f):u.children)},slot:f,defaultTag:Yot,name:"Field"})))))}let PSt=pa(Xot);function Jot(e){let t=typeof e=="string"?e:void 0,[r,n]=ne.useState(t);return[t??r,ne.useCallback(i=>{t||i instanceof HTMLElement&&n(i.tagName.toLowerCase())},[t])]}let Gue="fieldset";function Qot(e,t){var r;let n=vy(),{disabled:i=n||!1,...a}=e,[s,o]=Jot((r=e.as)!=null?r:Gue),l=vo(t,o),[u,f]=Gw(),h=ne.useMemo(()=>({disabled:i}),[i]),p=s==="fieldset"?{ref:l,"aria-labelledby":u,disabled:i||void 0}:{ref:l,role:"group","aria-labelledby":u,"aria-disabled":i||void 0},m=Ea();return ze.createElement(Nwe,{value:i},ze.createElement(f,null,m({ourProps:p,theirProps:a,slot:h,defaultTag:Gue,name:"Fieldset"})))}let TSt=pa(Qot),est="input";function tst(e,t){let r=ne.useId(),n=HS(),i=vy(),{id:a=n||`headlessui-input-${r}`,disabled:s=i||!1,autoFocus:o=!1,invalid:l=!1,...u}=e,f=jb(),h=eT(),{isFocused:p,focusProps:m}=ug({autoFocus:o}),{isHovered:v,hoverProps:w}=pv({isDisabled:s}),x=Jf({ref:t,id:a,"aria-labelledby":f,"aria-describedby":h,"aria-invalid":l?"true":void 0,disabled:s||void 0,autoFocus:o},m,w),T=ne.useMemo(()=>({disabled:s,invalid:l,hover:v,focus:p,autofocus:o}),[s,l,v,p,o]);return Ea()({ourProps:x,theirProps:u,slot:T,defaultTag:est,name:"Input"})}let RSt=pa(tst);function Y1e(e,t){let r=ne.useRef({left:0,top:0});if(oo(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(r.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let Kue=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Zue(e){var t,r;let n=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?(r=i.innerText)!=null?r:"":n;return Kue.test(s)&&(s=s.replace(Kue,"")),s}function rst(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let a=document.getElementById(i);if(a){let s=a.getAttribute("aria-label");return typeof s=="string"?s.trim():Zue(a).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Zue(e).trim()}function X1e(e){let t=ne.useRef(""),r=ne.useRef("");return xn(()=>{let n=e.current;if(!n)return"";let i=n.innerText;if(t.current===i)return r.current;let a=rst(n).trim().toLowerCase();return t.current=i,r.current=a,a})}var nst=Object.defineProperty,ist=(e,t,r)=>t in e?nst(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yue=(e,t,r)=>(ist(e,typeof t!="symbol"?t+"":t,r),r),qf=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qf||{}),qv=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(qv||{}),c9=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(c9||{}),J1e=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(J1e||{});function Xue(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=e0(t(e.options.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}let ast={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(i=>r(i.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var r,n,i,a,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let o={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ca.Nothing)return{...o,activeOptionIndex:null};if(t.focus===ca.Specific)return{...o,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===ca.Previous){let f=e.activeOptionIndex;if(f!==null){let h=e.options[f].dataRef.current.domRef,p=t0(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=e.options[p].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeOptionIndex:p}}}}else if(t.focus===ca.Next){let f=e.activeOptionIndex;if(f!==null){let h=e.options[f].dataRef.current.domRef,p=t0(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=e.options[p].dataRef.current.domRef;if(((a=h.current)==null?void 0:a.nextElementSibling)===m.current||((s=m.current)==null?void 0:s.nextElementSibling)===null)return{...o,activeOptionIndex:p}}}}let l=Xue(e),u=t0(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...o,...l,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(s=>{var o;return!s.dataRef.current.disabled&&((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))}),a=i?e.options.indexOf(i):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let r=e.options.concat(t.options),n=e.activeOptionIndex;if(e.activeOptionIndex===null){let{isSelected:i}=e.dataRef.current;if(i){let a=r.findIndex(s=>i==null?void 0:i(s.dataRef.current.value));a!==-1&&(n=a)}}return{...e,options:r,activeOptionIndex:n,pendingShouldSort:!0}},6:(e,t)=>{let r=e.options,n=[],i=new Set(t.options);for(let[a,s]of r.entries())if(i.has(s.id)&&(n.push(a),i.delete(s.id),i.size===0))break;if(n.length>0){r=r.slice();for(let a of n.reverse())r.splice(a,1)}return{...e,options:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Xue(e),pendingShouldSort:!1}:e},ost=class Q1e extends SV{constructor(t){super(t),Yue(this,"actions",{onChange:r=>{let{onChange:n,compare:i,mode:a,value:s}=this.state.dataRef.current;return jo(a,{0:()=>n==null?void 0:n(r),1:()=>{let o=s.slice(),l=o.findIndex(u=>i(u,r));return l===-1?o.push(r):o.splice(l,1),n==null?void 0:n(o)}})},registerOption:QC(()=>{let r=[],n=new Set;return[(i,a)=>{n.has(a)||(n.add(a),r.push({id:i,dataRef:a}))},()=>(n.clear(),this.send({type:5,options:r.splice(0)}))]}),unregisterOption:QC(()=>{let r=[];return[n=>r.push(n),()=>{this.send({type:6,options:r.splice(0)})}]}),goToOption:QC(()=>{let r=null;return[(n,i)=>{r={type:2,...n,trigger:i}},()=>r&&this.send(r)]}),closeListbox:()=>{this.send({type:1})},openListbox:()=>{this.send({type:0})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:r,id:n}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(r.current.value),this.send({type:2,focus:ca.Specific,id:n})}},selectOption:r=>{let n=this.state.options.find(i=>i.id===r);n&&this.actions.onChange(n.dataRef.current.value)},search:r=>{this.send({type:3,value:r})},clearSearch:()=>{this.send({type:4})},setButtonElement:r=>{this.send({type:7,element:r})},setOptionsElement:r=>{this.send({type:8,element:r})}}),Yue(this,"selectors",{activeDescendantId(r){var n;let i=r.activeOptionIndex,a=r.options;return i===null||(n=a[i])==null?void 0:n.id},isActive(r,n){var i;let a=r.activeOptionIndex,s=r.options;return a!==null?((i=s[a])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.listboxState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new Q1e({dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,__demoMode:t})}reduce(t,r){return jo(r.type,ast,t,r)}};const exe=ne.createContext(null);function kV(e){let t=ne.useContext(exe);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,txe),r}return t}function txe({__demoMode:e=!1}={}){return ne.useMemo(()=>ost.new({__demoMode:e}),[])}let zk=ne.createContext(null);zk.displayName="ListboxDataContext";function dT(e){let t=ne.useContext(zk);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dT),r}return t}let sst=ne.Fragment;function lst(e,t){let r=vy(),{value:n,defaultValue:i,form:a,name:s,onChange:o,by:l,invalid:u=!1,disabled:f=r||!1,horizontal:h=!1,multiple:p=!1,__demoMode:m=!1,...v}=e;const w=h?"horizontal":"vertical";let x=vo(t),T=cV(i),[A=p?[]:void 0,P]=uV(n,o,T),S=txe({__demoMode:m}),E=ne.useRef({static:!1,hold:!1}),_=ne.useRef(new Map),R=Zwe(l),O=ne.useCallback(le=>jo(F.mode,{[qv.Multi]:()=>A.some(se=>R(se,le)),[qv.Single]:()=>R(A,le)}),[A]),F=ne.useMemo(()=>({value:A,disabled:f,invalid:u,mode:p?qv.Multi:qv.Single,orientation:w,onChange:P,compare:R,isSelected:O,optionsPropsRef:E,listRef:_}),[A,f,u,p,w,P,R,O,E,_]);oo(()=>{S.state.dataRef.current=F},[F]);let $=Go(S,le=>le.listboxState),z=$===qf.Open,[q,Z]=Go(S,le=>[le.buttonElement,le.optionsElement]);aT(z,[q,Z],(le,se)=>{S.send({type:J1e.CloseListbox}),iT(se,nT.Loose)||(le.preventDefault(),q==null||q.focus())});let V=ne.useMemo(()=>({open:$===qf.Open,disabled:f,invalid:u,value:A}),[$,f,u,A]),[J,fe]=Gw({inherit:!0}),ue={ref:x},pe=ne.useCallback(()=>{if(T!==void 0)return P==null?void 0:P(T)},[P,T]),ve=Ea();return ze.createElement(fe,{value:J,props:{htmlFor:q==null?void 0:q.id},slot:{open:$===qf.Open,disabled:f}},ze.createElement(Mk,null,ze.createElement(exe.Provider,{value:S},ze.createElement(zk.Provider,{value:F},ze.createElement(ZS,{value:jo($,{[qf.Open]:xs.Open,[qf.Closed]:xs.Closed})},s!=null&&A!=null&&ze.createElement(fV,{disabled:f,data:{[s]:A},form:a,onReset:pe}),ve({ourProps:ue,theirProps:v,slot:V,defaultTag:sst,name:"Listbox"}))))))}let ust="button";function cst(e,t){let r=ne.useId(),n=HS(),i=dT("Listbox.Button"),a=kV("Listbox.Button"),{id:s=n||`headlessui-listbox-button-${r}`,disabled:o=i.disabled||!1,autoFocus:l=!1,...u}=e,f=vo(t,Ak(),a.actions.setButtonElement),h=C1e(),p=xn(V=>{switch(V.key){case Pi.Enter:Uwe(V.currentTarget);break;case Pi.Space:case Pi.ArrowDown:V.preventDefault(),Ls.flushSync(()=>a.actions.openListbox()),i.value||a.actions.goToOption({focus:ca.First});break;case Pi.ArrowUp:V.preventDefault(),Ls.flushSync(()=>a.actions.openListbox()),i.value||a.actions.goToOption({focus:ca.Last});break}}),m=xn(V=>{switch(V.key){case Pi.Space:V.preventDefault();break}}),v=xn(V=>{var J;if(V.button===0){if(Vw(V.currentTarget))return V.preventDefault();a.state.listboxState===qf.Open?(Ls.flushSync(()=>a.actions.closeListbox()),(J=a.state.buttonElement)==null||J.focus({preventScroll:!0})):(V.preventDefault(),a.actions.openListbox())}}),w=xn(V=>V.preventDefault()),x=jb([s]),T=eT(),{isFocusVisible:A,focusProps:P}=ug({autoFocus:l}),{isHovered:S,hoverProps:E}=pv({isDisabled:o}),{pressed:_,pressProps:R}=_0({disabled:o}),O=Go(a,V=>V.listboxState),F=ne.useMemo(()=>({open:O===qf.Open,active:_||O===qf.Open,disabled:o,invalid:i.invalid,value:i.value,hover:S,focus:A,autofocus:l}),[O,i.value,o,S,A,_,i.invalid,l]),$=Go(a,V=>V.listboxState===qf.Open),[z,q]=Go(a,V=>[V.buttonElement,V.optionsElement]),Z=Jf(h(),{ref:f,id:s,type:Kw(e,z),"aria-haspopup":"listbox","aria-controls":q==null?void 0:q.id,"aria-expanded":$,"aria-labelledby":x,"aria-describedby":T,disabled:o||void 0,autoFocus:l,onKeyDown:p,onKeyUp:m,onKeyPress:w,onMouseDown:v},P,E,R);return Ea()({ourProps:Z,theirProps:u,slot:F,defaultTag:ust,name:"Listbox.Button"})}let rxe=ne.createContext(!1),fst="div",dst=Xf.RenderStrategy|Xf.Static;function hst(e,t){let r=ne.useId(),{id:n=`headlessui-listbox-options-${r}`,anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=e,u=Rk(i),[f,h]=ne.useState(null);u&&(a=!0);let p=dT("Listbox.Options"),m=kV("Listbox.Options"),[v,w,x,T]=Go(m,$e=>[$e.listboxState,$e.buttonElement,$e.optionsElement,$e.__demoMode]),A=Uh(w),P=Uh(x),S=by(),[E,_]=Yw(o,f,S!==null?(S&xs.Open)===xs.Open:v===qf.Open);tT(E,w,m.actions.closeListbox);let R=T?!1:s&&v===qf.Open;oT(R,P);let O=T?!1:s&&v===qf.Open;xk(O,{allowed:ne.useCallback(()=>[w,x],[w,x])});let F=v!==qf.Open,$=Y1e(F,w)?!1:E,z=E&&v===qf.Closed,q=lI(z,p.value),Z=xn($e=>p.compare(q,$e)),V=Go(m,$e=>{var we;if(u==null||!((we=u==null?void 0:u.to)!=null&&we.includes("selection")))return null;let Ee=$e.options.findIndex(Re=>Z(Re.dataRef.current.value));return Ee===-1&&(Ee=0),Ee}),J=(()=>{if(u==null)return;if(V===null)return{...u,inner:void 0};let $e=Array.from(p.listRef.current.values());return{...u,inner:{listRef:{current:$e},index:V}}})(),[fe,ue]=Ik(J),pe=Ok(),ve=vo(t,u?fe:null,m.actions.setOptionsElement,h),le=gy();ne.useEffect(()=>{var $e;let we=x;we&&v===qf.Open&&we!==(($e=mv(we))==null?void 0:$e.activeElement)&&(we==null||we.focus({preventScroll:!0}))},[v,x]);let se=xn($e=>{var we,Ee;switch(le.dispose(),$e.key){case Pi.Space:if(m.state.searchQuery!=="")return $e.preventDefault(),$e.stopPropagation(),m.actions.search($e.key);case Pi.Enter:if($e.preventDefault(),$e.stopPropagation(),m.state.activeOptionIndex!==null){let{dataRef:Re}=m.state.options[m.state.activeOptionIndex];m.actions.onChange(Re.current.value)}p.mode===qv.Single&&(Ls.flushSync(()=>m.actions.closeListbox()),(we=m.state.buttonElement)==null||we.focus({preventScroll:!0}));break;case jo(p.orientation,{vertical:Pi.ArrowDown,horizontal:Pi.ArrowRight}):return $e.preventDefault(),$e.stopPropagation(),m.actions.goToOption({focus:ca.Next});case jo(p.orientation,{vertical:Pi.ArrowUp,horizontal:Pi.ArrowLeft}):return $e.preventDefault(),$e.stopPropagation(),m.actions.goToOption({focus:ca.Previous});case Pi.Home:case Pi.PageUp:return $e.preventDefault(),$e.stopPropagation(),m.actions.goToOption({focus:ca.First});case Pi.End:case Pi.PageDown:return $e.preventDefault(),$e.stopPropagation(),m.actions.goToOption({focus:ca.Last});case Pi.Escape:$e.preventDefault(),$e.stopPropagation(),Ls.flushSync(()=>m.actions.closeListbox()),(Ee=m.state.buttonElement)==null||Ee.focus({preventScroll:!0});return;case Pi.Tab:$e.preventDefault(),$e.stopPropagation(),Ls.flushSync(()=>m.actions.closeListbox()),e1e(m.state.buttonElement,$e.shiftKey?ks.Previous:ks.Next);break;default:$e.key.length===1&&(m.actions.search($e.key),le.setTimeout(()=>m.actions.clearSearch(),350));break}}),ge=Go(m,$e=>{var we;return(we=$e.buttonElement)==null?void 0:we.id}),_e=ne.useMemo(()=>({open:v===qf.Open}),[v]),ke=Jf(u?pe():{},{id:n,ref:ve,"aria-activedescendant":Go(m,m.selectors.activeDescendantId),"aria-multiselectable":p.mode===qv.Multi?!0:void 0,"aria-labelledby":ge,"aria-orientation":p.orientation,onKeyDown:se,role:"listbox",tabIndex:v===qf.Open?0:void 0,style:{...l.style,...ue,"--button-width":B2(w,!0).width},...Zw(_)}),Ge=Ea(),ct=ne.useMemo(()=>p.mode===qv.Multi?p:{...p,isSelected:Z},[p,Z]);return ze.createElement(cT,{enabled:a?e.static||E:!1,ownerDocument:A},ze.createElement(zk.Provider,{value:ct},Ge({ourProps:ke,theirProps:l,slot:_e,defaultTag:fst,features:dst,visible:$,name:"Listbox.Options"})))}let pst="div";function mst(e,t){let r=ne.useId(),{id:n=`headlessui-listbox-option-${r}`,disabled:i=!1,value:a,...s}=e,o=ne.useContext(rxe)===!0,l=dT("Listbox.Option"),u=kV("Listbox.Option"),f=Go(u,$=>u.selectors.isActive($,n)),h=l.isSelected(a),p=ne.useRef(null),m=X1e(p),v=Fh({disabled:i,value:a,domRef:p,get textValue(){return m()}}),w=vo(t,p,$=>{$?l.listRef.current.set(n,$):l.listRef.current.delete(n)}),x=Go(u,$=>u.selectors.shouldScrollIntoView($,n));oo(()=>{if(x)return _m().requestAnimationFrame(()=>{var $,z;(z=($=p.current)==null?void 0:$.scrollIntoView)==null||z.call($,{block:"nearest"})})},[x,p]),oo(()=>{if(!o)return u.actions.registerOption(n,v),()=>u.actions.unregisterOption(n)},[v,n,o]);let T=xn($=>{var z;if(i)return $.preventDefault();u.actions.onChange(a),l.mode===qv.Single&&(Ls.flushSync(()=>u.actions.closeListbox()),(z=u.state.buttonElement)==null||z.focus({preventScroll:!0}))}),A=xn(()=>{if(i)return u.actions.goToOption({focus:ca.Nothing});u.actions.goToOption({focus:ca.Specific,id:n})}),P=gV(),S=xn($=>{P.update($),!i&&(f||u.actions.goToOption({focus:ca.Specific,id:n},c9.Pointer))}),E=xn($=>{P.wasMoved($)&&(i||f||u.actions.goToOption({focus:ca.Specific,id:n},c9.Pointer))}),_=xn($=>{P.wasMoved($)&&(i||f&&u.actions.goToOption({focus:ca.Nothing}))}),R=ne.useMemo(()=>({active:f,focus:f,selected:h,disabled:i,selectedOption:h&&o}),[f,h,i,o]),O=o?{}:{id:n,ref:w,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:T,onFocus:A,onPointerEnter:S,onMouseEnter:S,onPointerMove:E,onMouseMove:E,onPointerLeave:_,onMouseLeave:_},F=Ea();return!h&&o?null:F({ourProps:O,theirProps:s,slot:R,defaultTag:pst,name:"Listbox.Option"})}let gst=ne.Fragment;function vst(e,t){let{options:r,placeholder:n,...i}=e,a={ref:vo(t)},s=dT("ListboxSelectedOption"),o=ne.useMemo(()=>({}),[]),l=s.value===void 0||s.value===null||s.mode===qv.Multi&&Array.isArray(s.value)&&s.value.length===0,u=Ea();return ze.createElement(rxe.Provider,{value:!0},u({ourProps:a,theirProps:{...i,children:ze.createElement(ze.Fragment,null,n&&l?n:r)},slot:o,defaultTag:gst,name:"ListboxSelectedOption"}))}let yst=pa(lst),bst=pa(cst),_st=pV,wst=pa(hst),xst=pa(mst),Sst=pa(vst),ASt=Object.assign(yst,{Button:bst,Label:_st,Options:wst,Option:xst,SelectedOption:Sst});var Est=Object.defineProperty,Cst=(e,t,r)=>t in e?Est(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jue=(e,t,r)=>(Cst(e,typeof t!="symbol"?t+"":t,r),r),Pd=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pd||{}),cI=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(cI||{}),El=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(El||{});function Que(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=e0(t(e.items.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let Pst={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:ca.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var r,n,i,a,s;if(e.menuState===1)return e;let o={...e,searchQuery:"",activationTrigger:(r=t.trigger)!=null?r:1,__demoMode:!1};if(t.focus===ca.Nothing)return{...o,activeItemIndex:null};if(t.focus===ca.Specific)return{...o,activeItemIndex:e.items.findIndex(f=>f.id===t.id)};if(t.focus===ca.Previous){let f=e.activeItemIndex;if(f!==null){let h=e.items[f].dataRef.current.domRef,p=t0(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=e.items[p].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:p}}}}else if(t.focus===ca.Next){let f=e.activeItemIndex;if(f!==null){let h=e.items[f].dataRef.current.domRef,p=t0(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(p!==null){let m=e.items[p].dataRef.current.domRef;if(((a=h.current)==null?void 0:a.nextElementSibling)===m.current||((s=m.current)==null?void 0:s.nextElementSibling)===null)return{...o,activeItemIndex:p}}}}let l=Que(e),u=t0(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...o,...l,activeItemIndex:u}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(s=>{var o;return((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!s.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=e.items.concat(t.items.map(i=>i)),n=e.activeItemIndex;return e.pendingFocus.focus!==ca.Nothing&&(n=t0(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:ca.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],i=new Set(t.items);for(let[a,s]of r.entries())if(i.has(s.id)&&(n.push(a),i.delete(s.id),i.size===0))break;if(n.length>0){r=r.slice();for(let a of n.reverse())r.splice(a,1)}return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Que(e),pendingShouldSort:!1}:e},Tst=class nxe extends SV{constructor(t){super(t),Jue(this,"actions",{registerItem:QC(()=>{let r=[],n=new Set;return[(i,a)=>{n.has(a)||(n.add(a),r.push({id:i,dataRef:a}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:QC(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),Jue(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,a=r.items;return i===null||(n=a[i])==null?void 0:n.id},isActive(r,n){var i;let a=r.activeItemIndex,s=r.items;return a!==null?((i=s[a])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new nxe({__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ca.Nothing}})}reduce(t,r){return jo(r.type,Pst,t,r)}};const ixe=ne.createContext(null);function DV(e){let t=ne.useContext(ixe);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,axe),r}return t}function axe({__demoMode:e=!1}={}){return ne.useMemo(()=>Tst.new({__demoMode:e}),[])}let Rst=ne.Fragment;function Ast(e,t){let{__demoMode:r=!1,...n}=e,i=axe({__demoMode:r}),[a,s,o]=Go(i,v=>[v.menuState,v.itemsElement,v.buttonElement]),l=vo(t),u=a===Pd.Open;aT(u,[o,s],(v,w)=>{var x;i.send({type:El.CloseMenu}),iT(w,nT.Loose)||(v.preventDefault(),(x=i.state.buttonElement)==null||x.focus())});let f=xn(()=>{i.send({type:El.CloseMenu})}),h=ne.useMemo(()=>({open:a===Pd.Open,close:f}),[a,f]),p={ref:l},m=Ea();return ze.createElement(Mk,null,ze.createElement(ixe.Provider,{value:i},ze.createElement(ZS,{value:jo(a,{[Pd.Open]:xs.Open,[Pd.Closed]:xs.Closed})},m({ourProps:p,theirProps:n,slot:h,defaultTag:Rst,name:"Menu"}))))}let Ost="button";function Ist(e,t){let r=DV("Menu.Button"),n=ne.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:a=!1,autoFocus:s=!1,...o}=e,l=ne.useRef(null),u=C1e(),f=vo(t,l,Ak(),xn(O=>r.send({type:El.SetButtonElement,element:O}))),h=xn(O=>{switch(O.key){case Pi.Space:case Pi.Enter:case Pi.ArrowDown:O.preventDefault(),O.stopPropagation(),r.send({type:El.OpenMenu,focus:{focus:ca.First}});break;case Pi.ArrowUp:O.preventDefault(),O.stopPropagation(),r.send({type:El.OpenMenu,focus:{focus:ca.Last}});break}}),p=xn(O=>{switch(O.key){case Pi.Space:O.preventDefault();break}}),[m,v]=Go(r,O=>[O.menuState,O.itemsElement]),w=xn(O=>{var F;if(O.button===0){if(Vw(O.currentTarget))return O.preventDefault();a||(m===Pd.Open?(Ls.flushSync(()=>r.send({type:El.CloseMenu})),(F=l.current)==null||F.focus({preventScroll:!0})):(O.preventDefault(),r.send({type:El.OpenMenu,focus:{focus:ca.Nothing},trigger:cI.Pointer})))}}),{isFocusVisible:x,focusProps:T}=ug({autoFocus:s}),{isHovered:A,hoverProps:P}=pv({isDisabled:a}),{pressed:S,pressProps:E}=_0({disabled:a}),_=ne.useMemo(()=>({open:m===Pd.Open,active:S||m===Pd.Open,disabled:a,hover:A,focus:x,autofocus:s}),[m,A,x,S,a,s]),R=Jf(u(),{ref:f,id:i,type:Kw(e,l.current),"aria-haspopup":"menu","aria-controls":v==null?void 0:v.id,"aria-expanded":m===Pd.Open,disabled:a||void 0,autoFocus:s,onKeyDown:h,onKeyUp:p,onMouseDown:w},T,P,E);return Ea()({ourProps:R,theirProps:o,slot:_,defaultTag:Ost,name:"Menu.Button"})}let Mst="div",kst=Xf.RenderStrategy|Xf.Static;function Dst(e,t){let r=ne.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=e,u=Rk(i),f=DV("Menu.Items"),[h,p]=Ik(u),m=Ok(),[v,w]=ne.useState(null),x=vo(t,u?h:null,xn(ve=>f.send({type:El.SetItemsElement,element:ve})),w),[T,A]=Go(f,ve=>[ve.menuState,ve.buttonElement]),P=Uh(A),S=Uh(v);u&&(a=!0);let E=by(),[_,R]=Yw(o,v,E!==null?(E&xs.Open)===xs.Open:T===Pd.Open);tT(_,A,()=>{f.send({type:El.CloseMenu})});let O=Go(f,ve=>ve.__demoMode),F=O?!1:s&&T===Pd.Open;oT(F,S);let $=O?!1:s&&T===Pd.Open;xk($,{allowed:ne.useCallback(()=>[A,v],[A,v])});let z=T!==Pd.Open,q=Y1e(z,A)?!1:_;ne.useEffect(()=>{let ve=v;ve&&T===Pd.Open&&ve!==(S==null?void 0:S.activeElement)&&ve.focus({preventScroll:!0})},[T,v,S]),a1e(T===Pd.Open,{container:v,accept(ve){return ve.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ve.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ve){ve.setAttribute("role","none")}});let Z=gy(),V=xn(ve=>{var le,se,ge;switch(Z.dispose(),ve.key){case Pi.Space:if(f.state.searchQuery!=="")return ve.preventDefault(),ve.stopPropagation(),f.send({type:El.Search,value:ve.key});case Pi.Enter:if(ve.preventDefault(),ve.stopPropagation(),f.state.activeItemIndex!==null){let{dataRef:_e}=f.state.items[f.state.activeItemIndex];(se=(le=_e.current)==null?void 0:le.domRef.current)==null||se.click()}f.send({type:El.CloseMenu}),Qwe(f.state.buttonElement);break;case Pi.ArrowDown:return ve.preventDefault(),ve.stopPropagation(),f.send({type:El.GoToItem,focus:ca.Next});case Pi.ArrowUp:return ve.preventDefault(),ve.stopPropagation(),f.send({type:El.GoToItem,focus:ca.Previous});case Pi.Home:case Pi.PageUp:return ve.preventDefault(),ve.stopPropagation(),f.send({type:El.GoToItem,focus:ca.First});case Pi.End:case Pi.PageDown:return ve.preventDefault(),ve.stopPropagation(),f.send({type:El.GoToItem,focus:ca.Last});case Pi.Escape:ve.preventDefault(),ve.stopPropagation(),Ls.flushSync(()=>f.send({type:El.CloseMenu})),(ge=f.state.buttonElement)==null||ge.focus({preventScroll:!0});break;case Pi.Tab:ve.preventDefault(),ve.stopPropagation(),Ls.flushSync(()=>f.send({type:El.CloseMenu})),e1e(f.state.buttonElement,ve.shiftKey?ks.Previous:ks.Next);break;default:ve.key.length===1&&(f.send({type:El.Search,value:ve.key}),Z.setTimeout(()=>f.send({type:El.ClearSearch}),350));break}}),J=xn(ve=>{switch(ve.key){case Pi.Space:ve.preventDefault();break}}),fe=ne.useMemo(()=>({open:T===Pd.Open}),[T]),ue=Jf(u?m():{},{"aria-activedescendant":Go(f,f.selectors.activeDescendantId),"aria-labelledby":Go(f,ve=>{var le;return(le=ve.buttonElement)==null?void 0:le.id}),id:n,onKeyDown:V,onKeyUp:J,role:"menu",tabIndex:T===Pd.Open?0:void 0,ref:x,style:{...l.style,...p,"--button-width":B2(A,!0).width},...Zw(R)}),pe=Ea();return ze.createElement(cT,{enabled:a?e.static||_:!1,ownerDocument:P},pe({ourProps:ue,theirProps:l,slot:fe,defaultTag:Mst,features:kst,visible:q,name:"Menu.Items"}))}let Fst=ne.Fragment;function Lst(e,t){let r=ne.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...a}=e,s=DV("Menu.Item"),o=Go(s,z=>s.selectors.isActive(z,n)),l=ne.useRef(null),u=vo(t,l),f=Go(s,z=>s.selectors.shouldScrollIntoView(z,n));oo(()=>{if(f)return _m().requestAnimationFrame(()=>{var z,q;(q=(z=l.current)==null?void 0:z.scrollIntoView)==null||q.call(z,{block:"nearest"})})},[f,l]);let h=X1e(l),p=ne.useRef({disabled:i,domRef:l,get textValue(){return h()}});oo(()=>{p.current.disabled=i},[p,i]),oo(()=>(s.actions.registerItem(n,p),()=>s.actions.unregisterItem(n)),[p,n]);let m=xn(()=>{s.send({type:El.CloseMenu})}),v=xn(z=>{if(i)return z.preventDefault();s.send({type:El.CloseMenu}),Qwe(s.state.buttonElement)}),w=xn(()=>{if(i)return s.send({type:El.GoToItem,focus:ca.Nothing});s.send({type:El.GoToItem,focus:ca.Specific,id:n})}),x=gV(),T=xn(z=>{x.update(z),!i&&(o||s.send({type:El.GoToItem,focus:ca.Specific,id:n,trigger:cI.Pointer}))}),A=xn(z=>{x.wasMoved(z)&&(i||o||s.send({type:El.GoToItem,focus:ca.Specific,id:n,trigger:cI.Pointer}))}),P=xn(z=>{x.wasMoved(z)&&(i||o&&s.send({type:El.GoToItem,focus:ca.Nothing}))}),[S,E]=Gw(),[_,R]=_k(),O=ne.useMemo(()=>({active:o,focus:o,disabled:i,close:m}),[o,i,m]),F={id:n,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":_,disabled:void 0,onClick:v,onFocus:w,onPointerEnter:T,onMouseEnter:T,onPointerMove:A,onMouseMove:A,onPointerLeave:P,onMouseLeave:P},$=Ea();return ze.createElement(E,null,ze.createElement(R,null,$({ourProps:F,theirProps:a,slot:O,defaultTag:Fst,name:"Menu.Item"})))}let Nst="div";function $st(e,t){let[r,n]=Gw(),i=e,a={ref:t,"aria-labelledby":r,role:"group"},s=Ea();return ze.createElement(n,null,s({ourProps:a,theirProps:i,slot:{},defaultTag:Nst,name:"Menu.Section"}))}let zst="header";function Bst(e,t){let r=ne.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=e,a=hV();oo(()=>a.register(n),[n,a.register]);let s={id:n,ref:t,role:"presentation",...a.props};return Ea()({ourProps:s,theirProps:i,slot:{},defaultTag:zst,name:"Menu.Heading"})}let jst="div";function Ust(e,t){let r=e,n={ref:t,role:"separator"};return Ea()({ourProps:n,theirProps:r,slot:{},defaultTag:jst,name:"Menu.Separator"})}let qst=pa(Ast),Hst=pa(Ist),Wst=pa(Dst),Vst=pa(Lst),Gst=pa($st),Kst=pa(Bst),Zst=pa(Ust),OSt=Object.assign(qst,{Button:Hst,Items:Wst,Item:Vst,Section:Gst,Heading:Kst,Separator:Zst});var Yst=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yst||{}),Xst=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Xst||{});let Jst={0:e=>({...e,popoverState:jo(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},FV=ne.createContext(null);FV.displayName="PopoverContext";function Bk(e){let t=ne.useContext(FV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Bk),r}return t}let jk=ne.createContext(null);jk.displayName="PopoverAPIContext";function LV(e){let t=ne.useContext(jk);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,LV),r}return t}let NV=ne.createContext(null);NV.displayName="PopoverGroupContext";function oxe(){return ne.useContext(NV)}let Uk=ne.createContext(null);Uk.displayName="PopoverPanelContext";function Qst(){return ne.useContext(Uk)}function elt(e,t){return jo(t.type,Jst,e,t)}let tlt="div";function rlt(e,t){var r;let{__demoMode:n=!1,...i}=e,a=ne.useRef(null),s=vo(t,dV(ve=>{a.current=ve})),o=ne.useRef([]),l=ne.useReducer(elt,{__demoMode:n,popoverState:n?0:1,buttons:o,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:ne.createRef(),afterPanelSentinel:ne.createRef(),afterButtonSentinel:ne.createRef()}),[{popoverState:u,button:f,buttonId:h,panel:p,panelId:m,beforePanelSentinel:v,afterPanelSentinel:w,afterButtonSentinel:x},T]=l,A=Uh((r=a.current)!=null?r:f),P=ne.useMemo(()=>{if(!f||!p)return!1;for(let Ge of document.querySelectorAll("body > *"))if(Number(Ge==null?void 0:Ge.contains(f))^Number(Ge==null?void 0:Ge.contains(p)))return!0;let ve=rT(),le=ve.indexOf(f),se=(le+ve.length-1)%ve.length,ge=(le+1)%ve.length,_e=ve[se],ke=ve[ge];return!p.contains(_e)&&!p.contains(ke)},[f,p]),S=Fh(h),E=Fh(m),_=ne.useMemo(()=>({buttonId:S,panelId:E,close:()=>T({type:1})}),[S,E,T]),R=oxe(),O=R==null?void 0:R.registerPopover,F=xn(()=>{var ve;return(ve=R==null?void 0:R.isFocusWithinPopoverGroup())!=null?ve:(A==null?void 0:A.activeElement)&&((f==null?void 0:f.contains(A.activeElement))||(p==null?void 0:p.contains(A.activeElement)))});ne.useEffect(()=>O==null?void 0:O(_),[O,_]);let[$,z]=k1e(),q=CV(f),Z=B1e({mainTreeNode:q,portals:$,defaultContainers:[f,p]});Sk(A==null?void 0:A.defaultView,"focus",ve=>{var le,se,ge,_e,ke,Ge;ve.target!==window&&ve.target instanceof HTMLElement&&u===0&&(F()||f&&p&&(Z.contains(ve.target)||(se=(le=v.current)==null?void 0:le.contains)!=null&&se.call(le,ve.target)||(_e=(ge=w.current)==null?void 0:ge.contains)!=null&&_e.call(ge,ve.target)||(Ge=(ke=x.current)==null?void 0:ke.contains)!=null&&Ge.call(ke,ve.target)||T({type:1})))},!0),aT(u===0,Z.resolveContainers,(ve,le)=>{T({type:1}),iT(le,nT.Loose)||(ve.preventDefault(),f==null||f.focus())});let V=xn(ve=>{T({type:1});let le=ve?ve instanceof HTMLElement?ve:"current"in ve&&ve.current instanceof HTMLElement?ve.current:f:f;le==null||le.focus()}),J=ne.useMemo(()=>({close:V,isPortalled:P}),[V,P]),fe=ne.useMemo(()=>({open:u===0,close:V}),[u,V]),ue={ref:s},pe=Ea();return ze.createElement(uI,{node:q},ze.createElement(Mk,null,ze.createElement(Uk.Provider,{value:null},ze.createElement(FV.Provider,{value:l},ze.createElement(jk.Provider,{value:J},ze.createElement(mV,{value:V},ze.createElement(ZS,{value:jo(u,{0:xs.Open,1:xs.Closed})},ze.createElement(z,null,pe({ourProps:ue,theirProps:i,slot:fe,defaultTag:tlt,name:"Popover"})))))))))}let nlt="button";function ilt(e,t){let r=ne.useId(),{id:n=`headlessui-popover-button-${r}`,disabled:i=!1,autoFocus:a=!1,...s}=e,[o,l]=Bk("Popover.Button"),{isPortalled:u}=LV("Popover.Button"),f=ne.useRef(null),h=`headlessui-focus-sentinel-${ne.useId()}`,p=oxe(),m=p==null?void 0:p.closeOthers,v=Qst()!==null;ne.useEffect(()=>{if(!v)return l({type:3,buttonId:n}),()=>{l({type:3,buttonId:null})}},[v,n,l]);let[w]=ne.useState(()=>Symbol()),x=vo(f,t,Ak(),xn(le=>{if(!v){if(le)o.buttons.current.push(w);else{let se=o.buttons.current.indexOf(w);se!==-1&&o.buttons.current.splice(se,1)}o.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),le&&l({type:2,button:le})}})),T=vo(f,t),A=Uh(f),P=xn(le=>{var se,ge,_e;if(v){if(o.popoverState===1)return;switch(le.key){case Pi.Space:case Pi.Enter:le.preventDefault(),(ge=(se=le.target).click)==null||ge.call(se),l({type:1}),(_e=o.button)==null||_e.focus();break}}else switch(le.key){case Pi.Space:case Pi.Enter:le.preventDefault(),le.stopPropagation(),o.popoverState===1&&(m==null||m(o.buttonId)),l({type:0});break;case Pi.Escape:if(o.popoverState!==0)return m==null?void 0:m(o.buttonId);if(!f.current||A!=null&&A.activeElement&&!f.current.contains(A.activeElement))return;le.preventDefault(),le.stopPropagation(),l({type:1});break}}),S=xn(le=>{v||le.key===Pi.Space&&le.preventDefault()}),E=xn(le=>{var se,ge;Vw(le.currentTarget)||i||(v?(l({type:1}),(se=o.button)==null||se.focus()):(le.preventDefault(),le.stopPropagation(),o.popoverState===1&&(m==null||m(o.buttonId)),l({type:0}),(ge=o.button)==null||ge.focus()))}),_=xn(le=>{le.preventDefault(),le.stopPropagation()}),{isFocusVisible:R,focusProps:O}=ug({autoFocus:a}),{isHovered:F,hoverProps:$}=pv({isDisabled:i}),{pressed:z,pressProps:q}=_0({disabled:i}),Z=o.popoverState===0,V=ne.useMemo(()=>({open:Z,active:z||Z,disabled:i,hover:F,focus:R,autofocus:a}),[Z,F,R,z,i,a]),J=Kw(e,o.button),fe=Jf(v?{ref:T,type:J,onKeyDown:P,onClick:E,disabled:i||void 0,autoFocus:a}:{ref:x,id:o.buttonId,type:J,"aria-expanded":o.popoverState===0,"aria-controls":o.panel?o.panelId:void 0,disabled:i||void 0,autoFocus:a,onKeyDown:P,onKeyUp:S,onClick:E,onMouseDown:_},O,$,q),ue=PV(),pe=xn(()=>{let le=o.panel;if(!le)return;function se(){jo(ue.current,{[om.Forwards]:()=>yf(le,ks.First),[om.Backwards]:()=>yf(le,ks.Last)})===Uv.Error&&yf(rT().filter(ge=>ge.dataset.headlessuiFocusGuard!=="true"),jo(ue.current,{[om.Forwards]:ks.Next,[om.Backwards]:ks.Previous}),{relativeTo:o.button})}se()}),ve=Ea();return ze.createElement(ze.Fragment,null,ve({ourProps:fe,theirProps:s,slot:V,defaultTag:nlt,name:"Popover.Button"}),Z&&!v&&u&&ze.createElement(rv,{id:h,ref:o.afterButtonSentinel,features:tv.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:pe}))}let alt="div",olt=Xf.RenderStrategy|Xf.Static;function sxe(e,t){let r=ne.useId(),{id:n=`headlessui-popover-backdrop-${r}`,transition:i=!1,...a}=e,[{popoverState:s},o]=Bk("Popover.Backdrop"),[l,u]=ne.useState(null),f=vo(t,u),h=by(),[p,m]=Yw(i,l,h!==null?(h&xs.Open)===xs.Open:s===0),v=xn(T=>{if(Vw(T.currentTarget))return T.preventDefault();o({type:1})}),w=ne.useMemo(()=>({open:s===0}),[s]),x={ref:f,id:n,"aria-hidden":!0,onClick:v,...Zw(m)};return Ea()({ourProps:x,theirProps:a,slot:w,defaultTag:alt,features:olt,visible:p,name:"Popover.Backdrop"})}let slt="div",llt=Xf.RenderStrategy|Xf.Static;function ult(e,t){let r=ne.useId(),{id:n=`headlessui-popover-panel-${r}`,focus:i=!1,anchor:a,portal:s=!1,modal:o=!1,transition:l=!1,...u}=e,[f,h]=Bk("Popover.Panel"),{close:p,isPortalled:m}=LV("Popover.Panel"),v=`headlessui-focus-sentinel-before-${r}`,w=`headlessui-focus-sentinel-after-${r}`,x=ne.useRef(null),T=Rk(a),[A,P]=Ik(T),S=Ok();T&&(s=!0);let[E,_]=ne.useState(null),R=vo(x,t,T?A:null,xn(se=>h({type:4,panel:se})),_),O=Uh(f.button),F=Uh(x);oo(()=>(h({type:5,panelId:n}),()=>{h({type:5,panelId:null})}),[n,h]);let $=by(),[z,q]=Yw(l,E,$!==null?($&xs.Open)===xs.Open:f.popoverState===0);tT(z,f.button,()=>{h({type:1})});let Z=f.__demoMode?!1:o&&z;oT(Z,F);let V=xn(se=>{var ge;switch(se.key){case Pi.Escape:if(f.popoverState!==0||!x.current||F!=null&&F.activeElement&&!x.current.contains(F.activeElement))return;se.preventDefault(),se.stopPropagation(),h({type:1}),(ge=f.button)==null||ge.focus();break}});ne.useEffect(()=>{var se;e.static||f.popoverState===1&&((se=e.unmount)==null||se)&&h({type:4,panel:null})},[f.popoverState,e.unmount,e.static,h]),ne.useEffect(()=>{if(f.__demoMode||!i||f.popoverState!==0||!x.current)return;let se=F==null?void 0:F.activeElement;x.current.contains(se)||yf(x.current,ks.First)},[f.__demoMode,i,x.current,f.popoverState]);let J=ne.useMemo(()=>({open:f.popoverState===0,close:p}),[f.popoverState,p]),fe=Jf(T?S():{},{ref:R,id:n,onKeyDown:V,onBlur:i&&f.popoverState===0?se=>{var ge,_e,ke,Ge,ct;let $e=se.relatedTarget;$e&&x.current&&((ge=x.current)!=null&&ge.contains($e)||(h({type:1}),((ke=(_e=f.beforePanelSentinel.current)==null?void 0:_e.contains)!=null&&ke.call(_e,$e)||(ct=(Ge=f.afterPanelSentinel.current)==null?void 0:Ge.contains)!=null&&ct.call(Ge,$e))&&$e.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...P,"--button-width":B2(f.button,!0).width},...Zw(q)}),ue=PV(),pe=xn(()=>{let se=x.current;if(!se)return;function ge(){jo(ue.current,{[om.Forwards]:()=>{var _e;yf(se,ks.First)===Uv.Error&&((_e=f.afterPanelSentinel.current)==null||_e.focus())},[om.Backwards]:()=>{var _e;(_e=f.button)==null||_e.focus({preventScroll:!0})}})}ge()}),ve=xn(()=>{let se=x.current;if(!se)return;function ge(){jo(ue.current,{[om.Forwards]:()=>{if(!f.button)return;let _e=rT(),ke=_e.indexOf(f.button),Ge=_e.slice(0,ke+1),ct=[..._e.slice(ke+1),...Ge];for(let $e of ct.slice())if($e.dataset.headlessuiFocusGuard==="true"||E!=null&&E.contains($e)){let we=ct.indexOf($e);we!==-1&&ct.splice(we,1)}yf(ct,ks.First,{sorted:!1})},[om.Backwards]:()=>{var _e;yf(se,ks.Previous)===Uv.Error&&((_e=f.button)==null||_e.focus())}})}ge()}),le=Ea();return ze.createElement(xV,null,ze.createElement(Uk.Provider,{value:n},ze.createElement(jk.Provider,{value:{close:p,isPortalled:m}},ze.createElement(cT,{enabled:s?e.static||z:!1,ownerDocument:O},z&&m&&ze.createElement(rv,{id:v,ref:f.beforePanelSentinel,features:tv.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:pe}),le({ourProps:fe,theirProps:u,slot:J,defaultTag:slt,features:llt,visible:z,name:"Popover.Panel"}),z&&m&&ze.createElement(rv,{id:w,ref:f.afterPanelSentinel,features:tv.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:ve})))))}let clt="div";function flt(e,t){let r=ne.useRef(null),n=vo(r,t),[i,a]=ne.useState([]),s=xn(w=>{a(x=>{let T=x.indexOf(w);if(T!==-1){let A=x.slice();return A.splice(T,1),A}return x})}),o=xn(w=>(a(x=>[...x,w]),()=>s(w))),l=xn(()=>{var w;let x=mv(r);if(!x)return!1;let T=x.activeElement;return(w=r.current)!=null&&w.contains(T)?!0:i.some(A=>{var P,S;return((P=x.getElementById(A.buttonId.current))==null?void 0:P.contains(T))||((S=x.getElementById(A.panelId.current))==null?void 0:S.contains(T))})}),u=xn(w=>{for(let x of i)x.buttonId.current!==w&&x.close()}),f=ne.useMemo(()=>({registerPopover:o,unregisterPopover:s,isFocusWithinPopoverGroup:l,closeOthers:u}),[o,s,l,u]),h=ne.useMemo(()=>({}),[]),p=e,m={ref:n},v=Ea();return ze.createElement(uI,null,ze.createElement(NV.Provider,{value:f},v({ourProps:m,theirProps:p,slot:h,defaultTag:clt,name:"Popover.Group"})))}let dlt=pa(rlt),hlt=pa(ilt),plt=pa(sxe),mlt=pa(sxe),glt=pa(ult),vlt=pa(flt),ISt=Object.assign(dlt,{Button:hlt,Backdrop:mlt,Overlay:plt,Panel:glt,Group:vlt}),ylt="select";function blt(e,t){let r=ne.useId(),n=HS(),i=vy(),{id:a=n||`headlessui-select-${r}`,disabled:s=i||!1,invalid:o=!1,autoFocus:l=!1,...u}=e,f=jb(),h=eT(),{isFocusVisible:p,focusProps:m}=ug({autoFocus:l}),{isHovered:v,hoverProps:w}=pv({isDisabled:s}),{pressed:x,pressProps:T}=_0({disabled:s}),A=Jf({ref:t,id:a,"aria-labelledby":f,"aria-describedby":h,"aria-invalid":o?"true":void 0,disabled:s||void 0,autoFocus:l},m,w,T),P=ne.useMemo(()=>({disabled:s,invalid:o,hover:v,focus:p,active:x,autofocus:l}),[s,o,v,p,x,l]);return Ea()({ourProps:A,theirProps:u,slot:P,defaultTag:ylt,name:"Select"})}let MSt=pa(blt),$V=ne.createContext(null);$V.displayName="GroupContext";let _lt=ne.Fragment;function wlt(e){var t;let[r,n]=ne.useState(null),[i,a]=Gw(),[s,o]=_k(),l=ne.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),u={},f=e,h=Ea();return ze.createElement(o,{name:"Switch.Description",value:s},ze.createElement(a,{name:"Switch.Label",value:i,props:{htmlFor:(t=l.switch)==null?void 0:t.id,onClick(p){r&&(p.currentTarget instanceof HTMLLabelElement&&p.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ze.createElement($V.Provider,{value:l},h({ourProps:u,theirProps:f,slot:{},defaultTag:_lt,name:"Switch.Group"}))))}let xlt="button";function Slt(e,t){var r;let n=ne.useId(),i=HS(),a=vy(),{id:s=i||`headlessui-switch-${n}`,disabled:o=a||!1,checked:l,defaultChecked:u,onChange:f,name:h,value:p,form:m,autoFocus:v=!1,...w}=e,x=ne.useContext($V),[T,A]=ne.useState(null),P=ne.useRef(null),S=vo(P,t,x===null?null:x.setSwitch,A),E=cV(u),[_,R]=uV(l,f,E??!1),O=gy(),[F,$]=ne.useState(!1),z=xn(()=>{$(!0),R==null||R(!_),O.nextFrame(()=>{$(!1)})}),q=xn($e=>{if(Vw($e.currentTarget))return $e.preventDefault();$e.preventDefault(),z()}),Z=xn($e=>{$e.key===Pi.Space?($e.preventDefault(),z()):$e.key===Pi.Enter&&Uwe($e.currentTarget)}),V=xn($e=>$e.preventDefault()),J=jb(),fe=eT(),{isFocusVisible:ue,focusProps:pe}=ug({autoFocus:v}),{isHovered:ve,hoverProps:le}=pv({isDisabled:o}),{pressed:se,pressProps:ge}=_0({disabled:o}),_e=ne.useMemo(()=>({checked:_,disabled:o,hover:ve,focus:ue,active:se,autofocus:v,changing:F}),[_,ve,ue,se,o,F,v]),ke=Jf({id:s,ref:S,role:"switch",type:Kw(e,T),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":_,"aria-labelledby":J,"aria-describedby":fe,disabled:o||void 0,autoFocus:v,onClick:q,onKeyUp:Z,onKeyPress:V},pe,le,ge),Ge=ne.useCallback(()=>{if(E!==void 0)return R==null?void 0:R(E)},[R,E]),ct=Ea();return ze.createElement(ze.Fragment,null,h!=null&&ze.createElement(fV,{disabled:o,data:{[h]:p||"on"},overrides:{type:"checkbox",checked:_},form:m,onReset:Ge}),ct({ourProps:ke,theirProps:w,slot:_e,defaultTag:xlt,name:"Switch"}))}let Elt=pa(Slt),Clt=wlt,Plt=pV,Tlt=Gwe,kSt=Object.assign(Elt,{Group:Clt,Label:Plt,Description:Tlt});function Rlt({onFocus:e}){let[t,r]=ne.useState(!0),n=Dk();return t?ze.createElement(rv,{as:"button",type:"button",features:tv.Focusable,onFocus:i=>{i.preventDefault();let a,s=50;function o(){if(s--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!n.current)return;r(!1);return}a=requestAnimationFrame(o)}a=requestAnimationFrame(o)}}):null}const lxe=ne.createContext(null);function Alt(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let i=(r=n.get(t))!=null?r:0;n.set(t,i+1);let a=Array.from(n.keys()).indexOf(t);function s(){let o=n.get(t);o>1?n.set(t,o-1):n.delete(t)}return[a,s]}}}function Olt({children:e}){let t=ne.useRef(Alt());return ne.createElement(lxe.Provider,{value:t},e)}function uxe(e){let t=ne.useContext(lxe);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=ne.useId(),[n,i]=t.current.get(e,r);return ne.useEffect(()=>i,[]),n}var Ilt=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ilt||{}),Mlt=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Mlt||{}),klt=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(klt||{});let Dlt={0(e,t){var r;let n=e0(e.tabs,f=>f.current),i=e0(e.panels,f=>f.current),a=n.filter(f=>{var h;return!((h=f.current)!=null&&h.hasAttribute("disabled"))}),s={...e,tabs:n,panels:i};if(t.index<0||t.index>n.length-1){let f=jo(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>jo(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return s;let h=jo(f,{0:()=>n.indexOf(a[0]),1:()=>n.indexOf(a[a.length-1])});return{...s,selectedIndex:h===-1?e.selectedIndex:h}}let o=n.slice(0,t.index),l=[...n.slice(t.index),...o].find(f=>a.includes(f));if(!l)return s;let u=(r=n.indexOf(l))!=null?r:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...s,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=e0([...e.tabs,t.tab],a=>a.current),i=e.selectedIndex;return e.info.current.isControlled||(i=n.indexOf(r),i===-1&&(i=e.selectedIndex)),{...e,tabs:n,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:e0([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},zV=ne.createContext(null);zV.displayName="TabsDataContext";function Gx(e){let t=ne.useContext(zV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Gx),r}return t}let BV=ne.createContext(null);BV.displayName="TabsActionsContext";function jV(e){let t=ne.useContext(BV);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,jV),r}return t}function Flt(e,t){return jo(t.type,Dlt,e,t)}let Llt="div";function Nlt(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:i=!1,onChange:a,selectedIndex:s=null,...o}=e;const l=n?"vertical":"horizontal",u=i?"manual":"auto";let f=s!==null,h=Fh({isControlled:f}),p=vo(t),[m,v]=ne.useReducer(Flt,{info:h,selectedIndex:s??r,tabs:[],panels:[]}),w=ne.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),x=Fh(a||(()=>{})),T=Fh(m.tabs),A=ne.useMemo(()=>({orientation:l,activation:u,...m}),[l,u,m]),P=xn($=>(v({type:1,tab:$}),()=>v({type:2,tab:$}))),S=xn($=>(v({type:3,panel:$}),()=>v({type:4,panel:$}))),E=xn($=>{_.current!==$&&x.current($),f||v({type:0,index:$})}),_=Fh(f?e.selectedIndex:m.selectedIndex),R=ne.useMemo(()=>({registerTab:P,registerPanel:S,change:E}),[]);oo(()=>{v({type:0,index:s??r})},[s]),oo(()=>{if(_.current===void 0||m.tabs.length<=0)return;let $=e0(m.tabs,z=>z.current);$.some((z,q)=>m.tabs[q]!==z)&&E($.indexOf(m.tabs[_.current]))});let O={ref:p},F=Ea();return ze.createElement(Olt,null,ze.createElement(BV.Provider,{value:R},ze.createElement(zV.Provider,{value:A},A.tabs.length<=0&&ze.createElement(Rlt,{onFocus:()=>{var $,z;for(let q of T.current)if((($=q.current)==null?void 0:$.tabIndex)===0)return(z=q.current)==null||z.focus(),!0;return!1}}),F({ourProps:O,theirProps:o,slot:w,defaultTag:Llt,name:"Tabs"}))))}let $lt="div";function zlt(e,t){let{orientation:r,selectedIndex:n}=Gx("Tab.List"),i=vo(t),a=ne.useMemo(()=>({selectedIndex:n}),[n]),s=e,o={ref:i,role:"tablist","aria-orientation":r};return Ea()({ourProps:o,theirProps:s,slot:a,defaultTag:$lt,name:"Tabs.List"})}let Blt="button";function jlt(e,t){var r,n;let i=ne.useId(),{id:a=`headlessui-tabs-tab-${i}`,disabled:s=!1,autoFocus:o=!1,...l}=e,{orientation:u,activation:f,selectedIndex:h,tabs:p,panels:m}=Gx("Tab"),v=jV("Tab"),w=Gx("Tab"),[x,T]=ne.useState(null),A=ne.useRef(null),P=vo(A,t,T);oo(()=>v.registerTab(A),[v,A]);let S=uxe("tabs"),E=p.indexOf(A);E===-1&&(E=S);let _=E===h,R=xn(le=>{var se;let ge=le();if(ge===Uv.Success&&f==="auto"){let _e=(se=mv(A))==null?void 0:se.activeElement,ke=w.tabs.findIndex(Ge=>Ge.current===_e);ke!==-1&&v.change(ke)}return ge}),O=xn(le=>{let se=p.map(ge=>ge.current).filter(Boolean);if(le.key===Pi.Space||le.key===Pi.Enter){le.preventDefault(),le.stopPropagation(),v.change(E);return}switch(le.key){case Pi.Home:case Pi.PageUp:return le.preventDefault(),le.stopPropagation(),R(()=>yf(se,ks.First));case Pi.End:case Pi.PageDown:return le.preventDefault(),le.stopPropagation(),R(()=>yf(se,ks.Last))}if(R(()=>jo(u,{vertical(){return le.key===Pi.ArrowUp?yf(se,ks.Previous|ks.WrapAround):le.key===Pi.ArrowDown?yf(se,ks.Next|ks.WrapAround):Uv.Error},horizontal(){return le.key===Pi.ArrowLeft?yf(se,ks.Previous|ks.WrapAround):le.key===Pi.ArrowRight?yf(se,ks.Next|ks.WrapAround):Uv.Error}}))===Uv.Success)return le.preventDefault()}),F=ne.useRef(!1),$=xn(()=>{var le;F.current||(F.current=!0,(le=A.current)==null||le.focus({preventScroll:!0}),v.change(E),QP(()=>{F.current=!1}))}),z=xn(le=>{le.preventDefault()}),{isFocusVisible:q,focusProps:Z}=ug({autoFocus:o}),{isHovered:V,hoverProps:J}=pv({isDisabled:s}),{pressed:fe,pressProps:ue}=_0({disabled:s}),pe=ne.useMemo(()=>({selected:_,hover:V,active:fe,focus:q,autofocus:o,disabled:s}),[_,V,q,fe,o,s]),ve=Jf({ref:P,onKeyDown:O,onMouseDown:z,onClick:$,id:a,role:"tab",type:Kw(e,x),"aria-controls":(n=(r=m[E])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":_,tabIndex:_?0:-1,disabled:s||void 0,autoFocus:o},Z,J,ue);return Ea()({ourProps:ve,theirProps:l,slot:pe,defaultTag:Blt,name:"Tabs.Tab"})}let Ult="div";function qlt(e,t){let{selectedIndex:r}=Gx("Tab.Panels"),n=vo(t),i=ne.useMemo(()=>({selectedIndex:r}),[r]),a=e,s={ref:n};return Ea()({ourProps:s,theirProps:a,slot:i,defaultTag:Ult,name:"Tabs.Panels"})}let Hlt="div",Wlt=Xf.RenderStrategy|Xf.Static;function Vlt(e,t){var r,n,i,a;let s=ne.useId(),{id:o=`headlessui-tabs-panel-${s}`,tabIndex:l=0,...u}=e,{selectedIndex:f,tabs:h,panels:p}=Gx("Tab.Panel"),m=jV("Tab.Panel"),v=ne.useRef(null),w=vo(v,t);oo(()=>m.registerPanel(v),[m,v]);let x=uxe("panels"),T=p.indexOf(v);T===-1&&(T=x);let A=T===f,{isFocusVisible:P,focusProps:S}=ug(),E=ne.useMemo(()=>({selected:A,focus:P}),[A,P]),_=Jf({ref:w,id:o,role:"tabpanel","aria-labelledby":(n=(r=h[T])==null?void 0:r.current)==null?void 0:n.id,tabIndex:A?l:-1},S),R=Ea();return!A&&((i=u.unmount)==null||i)&&!((a=u.static)!=null&&a)?ze.createElement(rv,{"aria-hidden":"true",..._}):R({ourProps:_,theirProps:u,slot:E,defaultTag:Hlt,features:Wlt,visible:A,name:"Tabs.Panel"})}let Glt=pa(jlt),Klt=pa(Nlt),Zlt=pa(zlt),Ylt=pa(qlt),Xlt=pa(Vlt),DSt=Object.assign(Glt,{Group:Klt,List:Zlt,Panels:Ylt,Panel:Xlt});var ece=function(t){return t.reduce(function(r,n){var i=n[0],a=n[1];return r[i]=a,r},{})},tce=typeof window<"u"&&window.document&&window.document.createElement?ne.useLayoutEffect:ne.useEffect,gp="top",ng="bottom",ig="right",vp="left",UV="auto",hT=[gp,ng,ig,vp],Kx="start",W2="end",Jlt="clippingParents",cxe="viewport",iC="popper",Qlt="reference",rce=hT.reduce(function(e,t){return e.concat([t+"-"+Kx,t+"-"+W2])},[]),fxe=[].concat(hT,[UV]).reduce(function(e,t){return e.concat([t,t+"-"+Kx,t+"-"+W2])},[]),eut="beforeRead",tut="read",rut="afterRead",nut="beforeMain",iut="main",aut="afterMain",out="beforeWrite",sut="write",lut="afterWrite",uut=[eut,tut,rut,nut,iut,aut,out,sut,lut];function oy(e){return e?(e.nodeName||"").toLowerCase():null}function dm(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pw(e){var t=dm(e).Element;return e instanceof t||e instanceof Element}function Jm(e){var t=dm(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function qV(e){if(typeof ShadowRoot>"u")return!1;var t=dm(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function cut(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!Jm(a)||!oy(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function fut(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),o=s.reduce(function(l,u){return l[u]="",l},{});!Jm(i)||!oy(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const dut={name:"applyStyles",enabled:!0,phase:"write",fn:cut,effect:fut,requires:["computeStyles"]};function Xv(e){return e.split("-")[0]}var B_=Math.max,fI=Math.min,Zx=Math.round;function f9(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dxe(){return!/^((?!chrome|android).)*safari/i.test(f9())}function Yx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&Jm(e)&&(i=e.offsetWidth>0&&Zx(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Zx(n.height)/e.offsetHeight||1);var s=pw(e)?dm(e):window,o=s.visualViewport,l=!dxe()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/i,f=(n.top+(l&&o?o.offsetTop:0))/a,h=n.width/i,p=n.height/a;return{width:h,height:p,top:f,right:u+h,bottom:f+p,left:u,x:u,y:f}}function HV(e){var t=Yx(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function hxe(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&qV(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function f0(e){return dm(e).getComputedStyle(e)}function hut(e){return["table","td","th"].indexOf(oy(e))>=0}function Ub(e){return((pw(e)?e.ownerDocument:e.document)||window.document).documentElement}function qk(e){return oy(e)==="html"?e:e.assignedSlot||e.parentNode||(qV(e)?e.host:null)||Ub(e)}function nce(e){return!Jm(e)||f0(e).position==="fixed"?null:e.offsetParent}function put(e){var t=/firefox/i.test(f9()),r=/Trident/i.test(f9());if(r&&Jm(e)){var n=f0(e);if(n.position==="fixed")return null}var i=qk(e);for(qV(i)&&(i=i.host);Jm(i)&&["html","body"].indexOf(oy(i))<0;){var a=f0(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function pT(e){for(var t=dm(e),r=nce(e);r&&hut(r)&&f0(r).position==="static";)r=nce(r);return r&&(oy(r)==="html"||oy(r)==="body"&&f0(r).position==="static")?t:r||put(e)||t}function WV(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function e2(e,t,r){return B_(e,fI(t,r))}function mut(e,t,r){var n=e2(e,t,r);return n>r?r:n}function pxe(){return{top:0,right:0,bottom:0,left:0}}function mxe(e){return Object.assign({},pxe(),e)}function gxe(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var gut=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mxe(typeof t!="number"?t:gxe(t,hT))};function vut(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=Xv(r.placement),l=WV(o),u=[vp,ig].indexOf(o)>=0,f=u?"height":"width";if(!(!a||!s)){var h=gut(i.padding,r),p=HV(a),m=l==="y"?gp:vp,v=l==="y"?ng:ig,w=r.rects.reference[f]+r.rects.reference[l]-s[l]-r.rects.popper[f],x=s[l]-r.rects.reference[l],T=pT(a),A=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,P=w/2-x/2,S=h[m],E=A-p[f]-h[v],_=A/2-p[f]/2+P,R=e2(S,_,E),O=l;r.modifiersData[n]=(t={},t[O]=R,t.centerOffset=R-_,t)}}function yut(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||hxe(t.elements.popper,i)&&(t.elements.arrow=i))}const but={name:"arrow",enabled:!0,phase:"main",fn:vut,effect:yut,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xx(e){return e.split("-")[1]}var _ut={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wut(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Zx(r*i)/i||0,y:Zx(n*i)/i||0}}function ice(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,f=e.roundOffsets,h=e.isFixed,p=s.x,m=p===void 0?0:p,v=s.y,w=v===void 0?0:v,x=typeof f=="function"?f({x:m,y:w}):{x:m,y:w};m=x.x,w=x.y;var T=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),P=vp,S=gp,E=window;if(u){var _=pT(r),R="clientHeight",O="clientWidth";if(_===dm(r)&&(_=Ub(r),f0(_).position!=="static"&&o==="absolute"&&(R="scrollHeight",O="scrollWidth")),_=_,i===gp||(i===vp||i===ig)&&a===W2){S=ng;var F=h&&_===E&&E.visualViewport?E.visualViewport.height:_[R];w-=F-n.height,w*=l?1:-1}if(i===vp||(i===gp||i===ng)&&a===W2){P=ig;var $=h&&_===E&&E.visualViewport?E.visualViewport.width:_[O];m-=$-n.width,m*=l?1:-1}}var z=Object.assign({position:o},u&&_ut),q=f===!0?wut({x:m,y:w},dm(r)):{x:m,y:w};if(m=q.x,w=q.y,l){var Z;return Object.assign({},z,(Z={},Z[S]=A?"0":"",Z[P]=T?"0":"",Z.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",Z))}return Object.assign({},z,(t={},t[S]=A?w+"px":"",t[P]=T?m+"px":"",t.transform="",t))}function xut(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:Xv(t.placement),variation:Xx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ice(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ice(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Sut={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xut,data:{}};var qR={passive:!0};function Eut(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,o=s===void 0?!0:s,l=dm(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(f){f.addEventListener("scroll",r.update,qR)}),o&&l.addEventListener("resize",r.update,qR),function(){a&&u.forEach(function(f){f.removeEventListener("scroll",r.update,qR)}),o&&l.removeEventListener("resize",r.update,qR)}}const Cut={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Eut,data:{}};var Put={left:"right",right:"left",bottom:"top",top:"bottom"};function DA(e){return e.replace(/left|right|bottom|top/g,function(t){return Put[t]})}var Tut={start:"end",end:"start"};function ace(e){return e.replace(/start|end/g,function(t){return Tut[t]})}function VV(e){var t=dm(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function GV(e){return Yx(Ub(e)).left+VV(e).scrollLeft}function Rut(e,t){var r=dm(e),n=Ub(e),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var u=dxe();(u||!u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+GV(e),y:l}}function Aut(e){var t,r=Ub(e),n=VV(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=B_(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=B_(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+GV(e),l=-n.scrollTop;return f0(i||r).direction==="rtl"&&(o+=B_(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function KV(e){var t=f0(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function vxe(e){return["html","body","#document"].indexOf(oy(e))>=0?e.ownerDocument.body:Jm(e)&&KV(e)?e:vxe(qk(e))}function t2(e,t){var r;t===void 0&&(t=[]);var n=vxe(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=dm(n),s=i?[a].concat(a.visualViewport||[],KV(n)?n:[]):n,o=t.concat(s);return i?o:o.concat(t2(qk(s)))}function d9(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Out(e,t){var r=Yx(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function oce(e,t,r){return t===cxe?d9(Rut(e,r)):pw(t)?Out(t,r):d9(Aut(Ub(e)))}function Iut(e){var t=t2(qk(e)),r=["absolute","fixed"].indexOf(f0(e).position)>=0,n=r&&Jm(e)?pT(e):e;return pw(n)?t.filter(function(i){return pw(i)&&hxe(i,n)&&oy(i)!=="body"}):[]}function Mut(e,t,r,n){var i=t==="clippingParents"?Iut(e):[].concat(t),a=[].concat(i,[r]),s=a[0],o=a.reduce(function(l,u){var f=oce(e,u,n);return l.top=B_(f.top,l.top),l.right=fI(f.right,l.right),l.bottom=fI(f.bottom,l.bottom),l.left=B_(f.left,l.left),l},oce(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function yxe(e){var t=e.reference,r=e.element,n=e.placement,i=n?Xv(n):null,a=n?Xx(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(i){case gp:l={x:s,y:t.y-r.height};break;case ng:l={x:s,y:t.y+t.height};break;case ig:l={x:t.x+t.width,y:o};break;case vp:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var u=i?WV(i):null;if(u!=null){var f=u==="y"?"height":"width";switch(a){case Kx:l[u]=l[u]-(t[f]/2-r[f]/2);break;case W2:l[u]=l[u]+(t[f]/2-r[f]/2);break}}return l}function V2(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,o=r.boundary,l=o===void 0?Jlt:o,u=r.rootBoundary,f=u===void 0?cxe:u,h=r.elementContext,p=h===void 0?iC:h,m=r.altBoundary,v=m===void 0?!1:m,w=r.padding,x=w===void 0?0:w,T=mxe(typeof x!="number"?x:gxe(x,hT)),A=p===iC?Qlt:iC,P=e.rects.popper,S=e.elements[v?A:p],E=Mut(pw(S)?S:S.contextElement||Ub(e.elements.popper),l,f,s),_=Yx(e.elements.reference),R=yxe({reference:_,element:P,placement:i}),O=d9(Object.assign({},P,R)),F=p===iC?O:_,$={top:E.top-F.top+T.top,bottom:F.bottom-E.bottom+T.bottom,left:E.left-F.left+T.left,right:F.right-E.right+T.right},z=e.modifiersData.offset;if(p===iC&&z){var q=z[i];Object.keys($).forEach(function(Z){var V=[ig,ng].indexOf(Z)>=0?1:-1,J=[gp,ng].indexOf(Z)>=0?"y":"x";$[Z]+=q[J]*V})}return $}function kut(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?fxe:l,f=Xx(n),h=f?o?rce:rce.filter(function(v){return Xx(v)===f}):hT,p=h.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=h);var m=p.reduce(function(v,w){return v[w]=V2(e,{placement:w,boundary:i,rootBoundary:a,padding:s})[Xv(w)],v},{});return Object.keys(m).sort(function(v,w){return m[v]-m[w]})}function Dut(e){if(Xv(e)===UV)return[];var t=DA(e);return[ace(e),t,ace(t)]}function Fut(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,f=r.boundary,h=r.rootBoundary,p=r.altBoundary,m=r.flipVariations,v=m===void 0?!0:m,w=r.allowedAutoPlacements,x=t.options.placement,T=Xv(x),A=T===x,P=l||(A||!v?[DA(x)]:Dut(x)),S=[x].concat(P).reduce(function(ke,Ge){return ke.concat(Xv(Ge)===UV?kut(t,{placement:Ge,boundary:f,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:w}):Ge)},[]),E=t.rects.reference,_=t.rects.popper,R=new Map,O=!0,F=S[0],$=0;$<S.length;$++){var z=S[$],q=Xv(z),Z=Xx(z)===Kx,V=[gp,ng].indexOf(q)>=0,J=V?"width":"height",fe=V2(t,{placement:z,boundary:f,rootBoundary:h,altBoundary:p,padding:u}),ue=V?Z?ig:vp:Z?ng:gp;E[J]>_[J]&&(ue=DA(ue));var pe=DA(ue),ve=[];if(a&&ve.push(fe[q]<=0),o&&ve.push(fe[ue]<=0,fe[pe]<=0),ve.every(function(ke){return ke})){F=z,O=!1;break}R.set(z,ve)}if(O)for(var le=v?3:1,se=function(Ge){var ct=S.find(function($e){var we=R.get($e);if(we)return we.slice(0,Ge).every(function(Ee){return Ee})});if(ct)return F=ct,"break"},ge=le;ge>0;ge--){var _e=se(ge);if(_e==="break")break}t.placement!==F&&(t.modifiersData[n]._skip=!0,t.placement=F,t.reset=!0)}}const Lut={name:"flip",enabled:!0,phase:"main",fn:Fut,requiresIfExists:["offset"],data:{_skip:!1}};function sce(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function lce(e){return[gp,ig,ng,vp].some(function(t){return e[t]>=0})}function Nut(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=V2(t,{elementContext:"reference"}),o=V2(t,{altBoundary:!0}),l=sce(s,n),u=sce(o,i,a),f=lce(l),h=lce(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const $ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nut};function zut(e,t,r){var n=Xv(e),i=[vp,gp].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[vp,ig].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function But(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=fxe.reduce(function(f,h){return f[h]=zut(h,t.rects,a),f},{}),o=s[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}const jut={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:But};function Uut(e){var t=e.state,r=e.name;t.modifiersData[r]=yxe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const qut={name:"popperOffsets",enabled:!0,phase:"read",fn:Uut,data:{}};function Hut(e){return e==="x"?"y":"x"}function Wut(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,f=r.altBoundary,h=r.padding,p=r.tether,m=p===void 0?!0:p,v=r.tetherOffset,w=v===void 0?0:v,x=V2(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:f}),T=Xv(t.placement),A=Xx(t.placement),P=!A,S=WV(T),E=Hut(S),_=t.modifiersData.popperOffsets,R=t.rects.reference,O=t.rects.popper,F=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,$=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,q={x:0,y:0};if(_){if(a){var Z,V=S==="y"?gp:vp,J=S==="y"?ng:ig,fe=S==="y"?"height":"width",ue=_[S],pe=ue+x[V],ve=ue-x[J],le=m?-O[fe]/2:0,se=A===Kx?R[fe]:O[fe],ge=A===Kx?-O[fe]:-R[fe],_e=t.elements.arrow,ke=m&&_e?HV(_e):{width:0,height:0},Ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:pxe(),ct=Ge[V],$e=Ge[J],we=e2(0,R[fe],ke[fe]),Ee=P?R[fe]/2-le-we-ct-$.mainAxis:se-we-ct-$.mainAxis,Re=P?-R[fe]/2+le+we+$e+$.mainAxis:ge+we+$e+$.mainAxis,ft=t.elements.arrow&&pT(t.elements.arrow),qe=ft?S==="y"?ft.clientTop||0:ft.clientLeft||0:0,dt=(Z=z==null?void 0:z[S])!=null?Z:0,he=ue+Ee-dt-qe,ut=ue+Re-dt,xt=e2(m?fI(pe,he):pe,ue,m?B_(ve,ut):ve);_[S]=xt,q[S]=xt-ue}if(o){var je,rt=S==="x"?gp:vp,Ze=S==="x"?ng:ig,yt=_[E],Vt=E==="y"?"height":"width",At=yt+x[rt],hr=yt-x[Ze],Sr=[gp,vp].indexOf(T)!==-1,fr=(je=z==null?void 0:z[E])!=null?je:0,Dt=Sr?At:yt-R[Vt]-O[Vt]-fr+$.altAxis,dr=Sr?yt+R[Vt]+O[Vt]-fr-$.altAxis:hr,Nr=m&&Sr?mut(Dt,yt,dr):e2(m?Dt:At,yt,m?dr:hr);_[E]=Nr,q[E]=Nr-yt}t.modifiersData[n]=q}}const Vut={name:"preventOverflow",enabled:!0,phase:"main",fn:Wut,requiresIfExists:["offset"]};function Gut(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Kut(e){return e===dm(e)||!Jm(e)?VV(e):Gut(e)}function Zut(e){var t=e.getBoundingClientRect(),r=Zx(t.width)/e.offsetWidth||1,n=Zx(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Yut(e,t,r){r===void 0&&(r=!1);var n=Jm(t),i=Jm(t)&&Zut(t),a=Ub(t),s=Yx(e,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((oy(t)!=="body"||KV(a))&&(o=Kut(t)),Jm(t)?(l=Yx(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=GV(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Xut(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function Jut(e){var t=Xut(e);return uut.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function Qut(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function ect(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var uce={placement:"bottom",modifiers:[],strategy:"absolute"};function cce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function tct(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?uce:i;return function(o,l,u){u===void 0&&(u=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},uce,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],p=!1,m={state:f,setOptions:function(T){var A=typeof T=="function"?T(f.options):T;w(),f.options=Object.assign({},a,f.options,A),f.scrollParents={reference:pw(o)?t2(o):o.contextElement?t2(o.contextElement):[],popper:t2(l)};var P=Jut(ect([].concat(n,f.options.modifiers)));return f.orderedModifiers=P.filter(function(S){return S.enabled}),v(),m.update()},forceUpdate:function(){if(!p){var T=f.elements,A=T.reference,P=T.popper;if(cce(A,P)){f.rects={reference:Yut(A,pT(P),f.options.strategy==="fixed"),popper:HV(P)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function($){return f.modifiersData[$.name]=Object.assign({},$.data)});for(var S=0;S<f.orderedModifiers.length;S++){if(f.reset===!0){f.reset=!1,S=-1;continue}var E=f.orderedModifiers[S],_=E.fn,R=E.options,O=R===void 0?{}:R,F=E.name;typeof _=="function"&&(f=_({state:f,options:O,name:F,instance:m})||f)}}}},update:Qut(function(){return new Promise(function(x){m.forceUpdate(),x(f)})}),destroy:function(){w(),p=!0}};if(!cce(o,l))return m;m.setOptions(u).then(function(x){!p&&u.onFirstUpdate&&u.onFirstUpdate(x)});function v(){f.orderedModifiers.forEach(function(x){var T=x.name,A=x.options,P=A===void 0?{}:A,S=x.effect;if(typeof S=="function"){var E=S({state:f,name:T,instance:m,options:P}),_=function(){};h.push(E||_)}})}function w(){h.forEach(function(x){return x()}),h=[]}return m}}var rct=[Cut,qut,Sut,dut,jut,Lut,Vut,but,$ut],nct=tct({defaultModifiers:rct}),S8,fce;function ict(){if(fce)return S8;fce=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var o,l,u;if(Array.isArray(a)){if(o=a.length,o!=s.length)return!1;for(l=o;l--!==0;)if(!i(a[l],s[l]))return!1;return!0}var f;if(t&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(f=a.entries();!(l=f.next()).done;)if(!s.has(l.value[0]))return!1;for(f=a.entries();!(l=f.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(f=a.entries();!(l=f.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if(o=a.length,o!=s.length)return!1;for(l=o;l--!==0;)if(a[l]!==s[l])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof s.valueOf=="function")return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof s.toString=="function")return a.toString()===s.toString();if(u=Object.keys(a),o=u.length,o!==Object.keys(s).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(s,u[l]))return!1;if(e&&a instanceof Element)return!1;for(l=o;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&a.$$typeof)&&!i(a[u[l]],s[u[l]]))return!1;return!0}return a!==a&&s!==s}return S8=function(s,o){try{return i(s,o)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},S8}var act=ict();const oct=pl(act);var sct=[],FSt=function(t,r,n){n===void 0&&(n={});var i=ne.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||sct},s=ne.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=s[0],l=s[1],u=ne.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var v=m.state,w=Object.keys(v.elements);Ls.flushSync(function(){l({styles:ece(w.map(function(x){return[x,v.styles[x]||{}]})),attributes:ece(w.map(function(x){return[x,v.attributes[x]]}))})})},requires:["computeStyles"]}},[]),f=ne.useMemo(function(){var p={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[u,{name:"applyStyles",enabled:!1}])};return oct(i.current,p)?i.current||p:(i.current=p,p)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,u]),h=ne.useRef();return tce(function(){h.current&&h.current.setOptions(f)},[f]),tce(function(){if(!(t==null||r==null)){var p=n.createPopper||nct,m=p(t,r,f);return h.current=m,function(){m.destroy(),h.current=null}}},[t,r,n.createPopper]),{state:h.current?h.current.state:null,styles:o.styles,attributes:o.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}},E8,dce;function lct(){if(dce)return E8;dce=1;var e=function(){};return E8=e,E8}var uct=lct();const bxe=pl(uct);var HR={exports:{}},hce;function cct(){return hce||(hce=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(R){return typeof R=="object"&&!("toString"in R)?Object.prototype.toString.call(R).slice(8,-1):R}var n=typeof process=="object"&&!0;function i(R,O){if(!R)throw n?new Error("Invariant failed"):new Error(O())}t.invariant=i;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,o=Object.prototype.toString;function l(R){return o.call(R).slice(8,-1)}var u=Object.assign||function(R,O){return f(O).forEach(function(F){a.call(O,F)&&(R[F]=O[F])}),R},f=typeof Object.getOwnPropertySymbols=="function"?function(R){return Object.keys(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.keys(R)};function h(R){return Array.isArray(R)?u(R.constructor(R.length),R):l(R)==="Map"?new Map(R):l(R)==="Set"?new Set(R):R&&typeof R=="object"?u(Object.create(Object.getPrototypeOf(R)),R):R}var p=function(){function R(){this.commands=u({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(O,F){return O===F},this.update.newContext=function(){return new R().update}}return Object.defineProperty(R.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(O){this.update.isEquals=O},enumerable:!0,configurable:!0}),R.prototype.extend=function(O,F){this.commands[O]=F},R.prototype.update=function(O,F){var $=this,z=typeof F=="function"?{$apply:F}:F;Array.isArray(O)&&Array.isArray(z)||i(!Array.isArray(z),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i(typeof z=="object"&&z!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys($.commands).join(", ")+".")});var q=O;return f(z).forEach(function(Z){if(a.call($.commands,Z)){var V=O===q;q=$.commands[Z](z[Z],q,z,O),V&&$.isEquals(q,O)&&(q=O)}else{var J=l(O)==="Map"?$.update(O.get(Z),z[Z]):$.update(O[Z],z[Z]),fe=l(q)==="Map"?q.get(Z):q[Z];(!$.isEquals(J,fe)||typeof J>"u"&&!a.call(O,Z))&&(q===O&&(q=h(O)),l(q)==="Map"?q.set(Z,J):q[Z]=J)}}),q},R}();t.Context=p;var m={$push:function(R,O,F){return w(O,F,"$push"),R.length?O.concat(R):O},$unshift:function(R,O,F){return w(O,F,"$unshift"),R.length?R.concat(O):O},$splice:function(R,O,F,$){return T(O,F),R.forEach(function(z){A(z),O===$&&z.length&&(O=h($)),s.apply(O,z)}),O},$set:function(R,O,F){return S(F),R},$toggle:function(R,O){x(R,"$toggle");var F=R.length?h(O):O;return R.forEach(function($){F[$]=!O[$]}),F},$unset:function(R,O,F,$){return x(R,"$unset"),R.forEach(function(z){Object.hasOwnProperty.call(O,z)&&(O===$&&(O=h($)),delete O[z])}),O},$add:function(R,O,F,$){return _(O,"$add"),x(R,"$add"),l(O)==="Map"?R.forEach(function(z){var q=z[0],Z=z[1];O===$&&O.get(q)!==Z&&(O=h($)),O.set(q,Z)}):R.forEach(function(z){O===$&&!O.has(z)&&(O=h($)),O.add(z)}),O},$remove:function(R,O,F,$){return _(O,"$remove"),x(R,"$remove"),R.forEach(function(z){O===$&&O.has(z)&&(O=h($)),O.delete(z)}),O},$merge:function(R,O,F,$){return E(O,R),f(R).forEach(function(z){R[z]!==O[z]&&(O===$&&(O=h($)),O[z]=R[z])}),O},$apply:function(R,O){return P(R),R(O)}},v=new p;t.isEquals=v.update.isEquals,t.extend=v.extend,t.default=v.update,t.default.default=e.exports=u(t.default,t);function w(R,O,F){i(Array.isArray(R),function(){return"update(): expected target of "+r(F)+" to be an array; got "+r(R)+"."}),x(O[F],F)}function x(R,O){i(Array.isArray(R),function(){return"update(): expected spec of "+r(O)+" to be an array; got "+r(R)+". Did you forget to wrap your parameter in an array?"})}function T(R,O){i(Array.isArray(R),function(){return"Expected $splice target to be an array; got "+r(R)}),A(O.$splice)}function A(R){i(Array.isArray(R),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(R)+". Did you forget to wrap your parameters in an array?"})}function P(R){i(typeof R=="function",function(){return"update(): expected spec of $apply to be a function; got "+r(R)+"."})}function S(R){i(Object.keys(R).length===1,function(){return"Cannot have more than one key in an object with $set"})}function E(R,O){i(O&&typeof O=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+r(O)}),i(R&&typeof R=="object",function(){return"update(): $merge expects a target of type 'object'; got "+r(R)})}function _(R,O){var F=l(R);i(F==="Map"||F==="Set",function(){return"update(): "+r(O)+" expects a target of type Set or Map; got "+r(F)})}}(HR,HR.exports)),HR.exports}var fct=cct();const LSt=pl(fct);var _xe=Symbol.for("immer-nothing"),pce=Symbol.for("immer-draftable"),hm=Symbol.for("immer-state");function qg(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jx=Object.getPrototypeOf;function Qx(e){return!!e&&!!e[hm]}function mw(e){var t;return e?wxe(e)||Array.isArray(e)||!!e[pce]||!!((t=e.constructor)!=null&&t[pce])||Wk(e)||Vk(e):!1}var dct=Object.prototype.constructor.toString();function wxe(e){if(!e||typeof e!="object")return!1;const t=Jx(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dct}function dI(e,t){Hk(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Hk(e){const t=e[hm];return t?t.type_:Array.isArray(e)?1:Wk(e)?2:Vk(e)?3:0}function h9(e,t){return Hk(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xxe(e,t,r){const n=Hk(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function hct(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Wk(e){return e instanceof Map}function Vk(e){return e instanceof Set}function __(e){return e.copy_||e.base_}function p9(e,t){if(Wk(e))return new Map(e);if(Vk(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wxe(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hm];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Jx(e),n)}else{const n=Jx(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function G2(e,t=!1){return Gk(e)||Qx(e)||!mw(e)||(Hk(e)>1&&(e.set=e.add=e.clear=e.delete=pct),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>G2(n,!0))),e}function pct(){qg(2)}function Gk(e){return Object.isFrozen(e)}var mct={};function gw(e){const t=mct[e];return t||qg(0,e),t}var K2;function Sxe(){return K2}function gct(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mce(e,t){t&&(gw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function m9(e){g9(e),e.drafts_.forEach(vct),e.drafts_=null}function g9(e){e===K2&&(K2=e.parent_)}function gce(e){return K2=gct(K2,e)}function vct(e){const t=e[hm];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vce(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hm].modified_&&(m9(t),qg(4)),mw(e)&&(e=hI(t,e),t.parent_||pI(t,e)),t.patches_&&gw("Patches").generateReplacementPatches_(r[hm].base_,e,t.patches_,t.inversePatches_)):e=hI(t,r,[]),m9(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_xe?e:void 0}function hI(e,t,r){if(Gk(t))return t;const n=t[hm];if(!n)return dI(t,(i,a)=>yce(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return pI(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),dI(a,(o,l)=>yce(e,n,i,o,l,r,s)),pI(e,i,!1),r&&e.patches_&&gw("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function yce(e,t,r,n,i,a,s){if(Qx(i)){const o=a&&t&&t.type_!==3&&!h9(t.assigned_,n)?a.concat(n):void 0,l=hI(e,i,o);if(xxe(r,n,l),Qx(l))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(mw(i)&&!Gk(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hI(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&pI(e,i)}}function pI(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G2(t,r)}function yct(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Sxe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ZV;r&&(i=[n],a=Z2);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ZV={get(e,t){if(t===hm)return e;const r=__(e);if(!h9(r,t))return bct(e,r,t);const n=r[t];return e.finalized_||!mw(n)?n:n===C8(e.base_,t)?(P8(e),e.copy_[t]=y9(n,e)):n},has(e,t){return t in __(e)},ownKeys(e){return Reflect.ownKeys(__(e))},set(e,t,r){const n=Exe(__(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=C8(__(e),t),a=i==null?void 0:i[hm];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(hct(r,i)&&(r!==void 0||h9(e.base_,t)))return!0;P8(e),v9(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return C8(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,P8(e),v9(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=__(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){qg(11)},getPrototypeOf(e){return Jx(e.base_)},setPrototypeOf(){qg(12)}},Z2={};dI(ZV,(e,t)=>{Z2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Z2.deleteProperty=function(e,t){return Z2.set.call(this,e,t,void 0)};Z2.set=function(e,t,r){return ZV.set.call(this,e[0],t,r,e[0])};function C8(e,t){const r=e[hm];return(r?__(r):e)[t]}function bct(e,t,r){var i;const n=Exe(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Exe(e,t){if(!(t in e))return;let r=Jx(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Jx(r)}}function v9(e){e.modified_||(e.modified_=!0,e.parent_&&v9(e.parent_))}function P8(e){e.copy_||(e.copy_=p9(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _ct=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,f=>r.call(this,f,...u))}}typeof r!="function"&&qg(6),n!==void 0&&typeof n!="function"&&qg(7);let i;if(mw(t)){const a=gce(this),s=y9(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?m9(a):g9(a)}return mce(a,n),vce(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===_xe&&(i=void 0),this.autoFreeze_&&G2(i,!0),n){const a=[],s=[];gw("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else qg(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mw(e)||qg(8),Qx(e)&&(e=wct(e));const t=gce(this),r=y9(e,void 0);return r[hm].isManual_=!0,g9(t),r}finishDraft(e,t){const r=e&&e[hm];(!r||!r.isManual_)&&qg(9);const{scope_:n}=r;return mce(n,t),vce(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=gw("Patches").applyPatches_;return Qx(e)?n(e,t):this.produce(e,i=>n(i,t))}};function y9(e,t){const r=Wk(e)?gw("MapSet").proxyMap_(e,t):Vk(e)?gw("MapSet").proxySet_(e,t):yct(e,t);return(t?t.scope_:Sxe()).drafts_.push(r),r}function wct(e){return Qx(e)||qg(10,e),Cxe(e)}function Cxe(e){if(!mw(e)||Gk(e))return e;const t=e[hm];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=p9(e,t.scope_.immer_.useStrictShallowCopy_)}else r=p9(e,!0);return dI(r,(n,i)=>{xxe(r,n,Cxe(i))}),t&&(t.finalized_=!1),r}var pm=new _ct,xct=pm.produce;pm.produceWithPatches.bind(pm);pm.setAutoFreeze.bind(pm);pm.setUseStrictShallowCopy.bind(pm);pm.applyPatches.bind(pm);pm.createDraft.bind(pm);pm.finishDraft.bind(pm);function NSt(e){var t=ne.useState(function(){return G2(typeof e=="function"?e():e,!0)}),r=t[1];return[t[0],ne.useCallback(function(n){r(typeof n=="function"?xct(n):G2(n))},[])]}function WR(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T8={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var bce;function Sct(){return bce||(bce=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function s(u,f){if(!i[u]){if(!n[u]){var h=typeof WR=="function"&&WR;if(!f&&h)return h(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};n[u][0].call(m.exports,function(v){var w=n[u][1][v];return s(w||v)},m,m.exports,r,n,i,a)}return i[u].exports}for(var o=typeof WR=="function"&&WR,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(r,n,i){var a=r("./utils"),s=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,f,h,p,m,v,w,x=[],T=0,A=l.length,P=A,S=a.getTypeOf(l)!=="string";T<l.length;)P=A-T,h=S?(u=l[T++],f=T<A?l[T++]:0,T<A?l[T++]:0):(u=l.charCodeAt(T++),f=T<A?l.charCodeAt(T++):0,T<A?l.charCodeAt(T++):0),p=u>>2,m=(3&u)<<4|f>>4,v=1<P?(15&f)<<2|h>>6:64,w=2<P?63&h:64,x.push(o.charAt(p)+o.charAt(m)+o.charAt(v)+o.charAt(w));return x.join("")},i.decode=function(l){var u,f,h,p,m,v,w=0,x=0,T="data:";if(l.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var A,P=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&P--,l.charAt(l.length-2)===o.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=s.uint8array?new Uint8Array(0|P):new Array(0|P);w<l.length;)u=o.indexOf(l.charAt(w++))<<2|(p=o.indexOf(l.charAt(w++)))>>4,f=(15&p)<<4|(m=o.indexOf(l.charAt(w++)))>>2,h=(3&m)<<6|(v=o.indexOf(l.charAt(w++))),A[x++]=u,m!==64&&(A[x++]=f),v!==64&&(A[x++]=h);return A}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),s=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(f,h,p,m,v){this.compressedSize=f,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=v}u.prototype={getContentWorker:function(){var f=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return f.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,h,p){return f.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,f,h,p){var m=s,v=p+h;u^=-1;for(var w=p;w<v;w++)u=u>>>8^m[255&(u^f[w])];return-1^u}(0|l,o,o.length,0):function(u,f,h,p){var m=s,v=p+h;u^=-1;for(var w=p;w<v;w++)u=u>>>8^m[255&(u^f.charCodeAt(w))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=a?"uint8array":"array";function f(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(f,l),f.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new f("Deflate",h)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(m,v){var w,x="";for(w=0;w<v;w++)x+=String.fromCharCode(255&m),m>>>=8;return x}function s(m,v,w,x,T,A){var P,S,E=m.file,_=m.compression,R=A!==u.utf8encode,O=o.transformTo("string",A(E.name)),F=o.transformTo("string",u.utf8encode(E.name)),$=E.comment,z=o.transformTo("string",A($)),q=o.transformTo("string",u.utf8encode($)),Z=F.length!==E.name.length,V=q.length!==$.length,J="",fe="",ue="",pe=E.dir,ve=E.date,le={crc32:0,compressedSize:0,uncompressedSize:0};v&&!w||(le.crc32=m.crc32,le.compressedSize=m.compressedSize,le.uncompressedSize=m.uncompressedSize);var se=0;v&&(se|=8),R||!Z&&!V||(se|=2048);var ge=0,_e=0;pe&&(ge|=16),T==="UNIX"?(_e=798,ge|=function(Ge,ct){var $e=Ge;return Ge||($e=ct?16893:33204),(65535&$e)<<16}(E.unixPermissions,pe)):(_e=20,ge|=function(Ge){return 63&(Ge||0)}(E.dosPermissions)),P=ve.getUTCHours(),P<<=6,P|=ve.getUTCMinutes(),P<<=5,P|=ve.getUTCSeconds()/2,S=ve.getUTCFullYear()-1980,S<<=4,S|=ve.getUTCMonth()+1,S<<=5,S|=ve.getUTCDate(),Z&&(fe=a(1,1)+a(f(O),4)+F,J+="up"+a(fe.length,2)+fe),V&&(ue=a(1,1)+a(f(z),4)+q,J+="uc"+a(ue.length,2)+ue);var ke="";return ke+=`
\0`,ke+=a(se,2),ke+=_.magic,ke+=a(P,2),ke+=a(S,2),ke+=a(le.crc32,4),ke+=a(le.compressedSize,4),ke+=a(le.uncompressedSize,4),ke+=a(O.length,2),ke+=a(J.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ke+O+J,dirRecord:h.CENTRAL_FILE_HEADER+a(_e,2)+ke+a(z.length,2)+"\0\0\0\0"+a(ge,4)+a(x,4)+O+J+z}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),f=r("../crc32"),h=r("../signature");function p(m,v,w,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=w,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(m){var v=m.meta.percent||0,w=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:w?(v+100*(w-x-1))/w:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var v=this.streamFiles&&!m.file.dir;if(v){var w=s(m,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var v=this.streamFiles&&!m.file.dir,w=s(m,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),v)this.push({data:function(x){return h.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var w=this.bytesWritten-m,x=function(T,A,P,S,E){var _=o.transformTo("string",E(S));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(T,2)+a(T,2)+a(A,4)+a(P,4)+a(_.length,2)+_}(this.dirRecords.length,w,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var v=this;return m.on("data",function(w){v.processChunk(w)}),m.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),m.on("error",function(w){v.error(w)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var v=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var w=0;w<v.length;w++)try{v[w].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,v=0;v<m.length;v++)m[v].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),s=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var f=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,m){h++;var v=function(A,P){var S=A||P,E=a[S];if(!E)throw new Error(S+" is not a valid compression method !");return E}(m.options.compression,l.compression),w=m.options.compressionOptions||l.compressionOptions||{},x=m.dir,T=m.date;m._compressWorker(v,w).withStreamInfo("file",{name:p,dir:x,date:T,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=h}catch(p){f.error(p)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),s=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function h(p){return new s.Promise(function(m,v){var w=p.decompressed.getContentWorker().pipe(new u);w.on("error",function(x){v(x)}).on("end",function(){w.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(p,m){var v=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(w){var x=new l(m);return x.load(w),x}).then(function(w){var x=[s.Promise.resolve(w)],T=w.files;if(m.checkCRC32)for(var A=0;A<T.length;A++)x.push(h(T[A]));return s.Promise.all(x)}).then(function(w){for(var x=w.shift(),T=x.files,A=0;A<T.length;A++){var P=T[A],S=P.fileNameStr,E=a.resolve(P.fileNameStr);v.file(E,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:m.createFolders}),P.dir||(v.file(E).unsafeOriginalName=S)}return x.zipComment.length&&(v.comment=x.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),s=r("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var f=this;o.on("data",function(h,p){f.push(h)||f._helper.pause(),u&&u(p)}).on("error",function(h){f.emit("error",h)}).on("end",function(){f.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(E,_,R){var O,F=o.getTypeOf(_),$=o.extend(R||{},f);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(E=T(E)),$.createFolders&&(O=x(E))&&A.call(this,O,!0);var z=F==="string"&&$.binary===!1&&$.base64===!1;R&&R.binary!==void 0||($.binary=!z),(_ instanceof h&&_.uncompressedSize===0||$.dir||!_||_.length===0)&&($.base64=!1,$.binary=!0,_="",$.compression="STORE",F="string");var q=null;q=_ instanceof h||_ instanceof l?_:v.isNode&&v.isStream(_)?new w(E,_):o.prepareContent(E,_,$.binary,$.optimizedBinaryString,$.base64);var Z=new p(E,q,$);this.files[E]=Z}var s=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),f=r("./defaults"),h=r("./compressedObject"),p=r("./zipObject"),m=r("./generate"),v=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),x=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var _=E.lastIndexOf("/");return 0<_?E.substring(0,_):""},T=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},A=function(E,_){return _=_!==void 0?_:f.createFolders,E=T(E),this.files[E]||a.call(this,E,null,{dir:!0,createFolders:_}),this.files[E]};function P(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var _,R,O;for(_ in this.files)O=this.files[_],(R=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&E(R,O)},filter:function(E){var _=[];return this.forEach(function(R,O){E(R,O)&&_.push(O)}),_},file:function(E,_,R){if(arguments.length!==1)return E=this.root+E,a.call(this,E,_,R),this;if(P(E)){var O=E;return this.filter(function($,z){return!z.dir&&O.test($)})}var F=this.files[this.root+E];return F&&!F.dir?F:null},folder:function(E){if(!E)return this;if(P(E))return this.filter(function(F,$){return $.dir&&E.test(F)});var _=this.root+E,R=A.call(this,_),O=this.clone();return O.root=R.name,O},remove:function(E){E=this.root+E;var _=this.files[E];if(_||(E.slice(-1)!=="/"&&(E+="/"),_=this.files[E]),_&&!_.dir)delete this.files[E];else for(var R=this.filter(function(F,$){return $.name.slice(0,E.length)===E}),O=0;O<R.length;O++)delete this.files[R[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var _,R={};try{if((R=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var O=R.comment||this.comment||"";_=m.generateWorker(this,R,O)}catch(F){(_=new l("error")).error(F)}return new u(_,R.type||"string",R.mimeType)},generateAsync:function(E,_){return this.generateInternalStream(E).accumulate(_)},generateNodeStream:function(E,_){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(_)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===f&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&f===p[2]&&h===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function s(o){a.call(this,o)}r("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),s=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(h){var p=a.getTypeOf(h);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new u(h):s.uint8array?new f(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),s=r("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),s=r("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),s=r("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=a.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),s=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),f=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,w){return new f.Promise(function(x,T){var A=[],P=v._internalType,S=v._outputType,E=v._mimeType;v.on("data",function(_,R){A.push(_),w&&w(R)}).on("error",function(_){A=[],T(_)}).on("end",function(){try{var _=function(R,O,F){switch(R){case"blob":return a.newBlob(a.transformTo("arraybuffer",O),F);case"base64":return l.encode(O);default:return a.transformTo(R,O)}}(S,function(R,O){var F,$=0,z=null,q=0;for(F=0;F<O.length;F++)q+=O[F].length;switch(R){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(z=new Uint8Array(q),F=0;F<O.length;F++)z.set(O[F],$),$+=O[F].length;return z;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+R+"'")}}(P,A),E);x(_)}catch(R){T(R)}A=[]}).resume()})}function m(v,w,x){var T=w;switch(w){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=w,this._mimeType=x,a.checkSupport(T),this._worker=v.pipe(new s(T)),v.lock()}catch(A){this._worker=new o("error"),this._worker.error(A)}}m.prototype={accumulate:function(v){return p(this,v)},on:function(v,w){var x=this;return v==="data"?this._worker.on(v,function(T){w.call(x,T.data,T.meta)}):this._worker.on(v,function(){a.delay(w,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),s=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?o.newBufferFrom(m,"utf-8"):function(v){var w,x,T,A,P,S=v.length,E=0;for(A=0;A<S;A++)(64512&(x=v.charCodeAt(A)))==55296&&A+1<S&&(64512&(T=v.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),A++),E+=x<128?1:x<2048?2:x<65536?3:4;for(w=s.uint8array?new Uint8Array(E):new Array(E),A=P=0;P<E;A++)(64512&(x=v.charCodeAt(A)))==55296&&A+1<S&&(64512&(T=v.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),A++),x<128?w[P++]=x:(x<2048?w[P++]=192|x>>>6:(x<65536?w[P++]=224|x>>>12:(w[P++]=240|x>>>18,w[P++]=128|x>>>12&63),w[P++]=128|x>>>6&63),w[P++]=128|63&x);return w}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(v){var w,x,T,A,P=v.length,S=new Array(2*P);for(w=x=0;w<P;)if((T=v[w++])<128)S[x++]=T;else if(4<(A=u[T]))S[x++]=65533,w+=A-1;else{for(T&=A===2?31:A===3?15:7;1<A&&w<P;)T=T<<6|63&v[w++],A--;1<A?S[x++]=65533:T<65536?S[x++]=T:(T-=65536,S[x++]=55296|T>>10&1023,S[x++]=56320|1023&T)}return S.length!==x&&(S.subarray?S=S.subarray(0,x):S.length=x),a.applyFromCharCode(S)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,l),h.prototype.processChunk=function(m){var v=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var w=v;(v=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),v.set(w,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var x=function(A,P){var S;for((P=P||A.length)>A.length&&(P=A.length),S=P-1;0<=S&&(192&A[S])==128;)S--;return S<0||S===0?P:S+u[A[S]]>P?S:P}(v),T=v;x!==v.length&&(s.uint8array?(T=v.subarray(0,x),this.leftOver=v.subarray(x,v.length)):(T=v.slice(0,x),this.leftOver=v.slice(x,v.length))),this.push({data:i.utf8decode(T),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),s=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(w){return w}function f(w,x){for(var T=0;T<w.length;++T)x[T]=255&w.charCodeAt(T);return x}r("setimmediate"),i.newBlob=function(w,x){i.checkSupport("blob");try{return new Blob([w],{type:x})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(w),T.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(w,x,T){var A=[],P=0,S=w.length;if(S<=T)return String.fromCharCode.apply(null,w);for(;P<S;)x==="array"||x==="nodebuffer"?A.push(String.fromCharCode.apply(null,w.slice(P,Math.min(P+T,S)))):A.push(String.fromCharCode.apply(null,w.subarray(P,Math.min(P+T,S)))),P+=T;return A.join("")},stringifyByChar:function(w){for(var x="",T=0;T<w.length;T++)x+=String.fromCharCode(w[T]);return x},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(w){var x=65536,T=i.getTypeOf(w),A=!0;if(T==="uint8array"?A=h.applyCanBeUsed.uint8array:T==="nodebuffer"&&(A=h.applyCanBeUsed.nodebuffer),A)for(;1<x;)try{return h.stringifyByChunk(w,T,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(w)}function m(w,x){for(var T=0;T<w.length;T++)x[T]=w[T];return x}i.applyFromCharCode=p;var v={};v.string={string:u,array:function(w){return f(w,new Array(w.length))},arraybuffer:function(w){return v.string.uint8array(w).buffer},uint8array:function(w){return f(w,new Uint8Array(w.length))},nodebuffer:function(w){return f(w,o.allocBuffer(w.length))}},v.array={string:p,array:u,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return o.newBufferFrom(w)}},v.arraybuffer={string:function(w){return p(new Uint8Array(w))},array:function(w){return m(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:u,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return o.newBufferFrom(new Uint8Array(w))}},v.uint8array={string:p,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:u,nodebuffer:function(w){return o.newBufferFrom(w)}},v.nodebuffer={string:p,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return v.nodebuffer.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:u},i.transformTo=function(w,x){if(x=x||"",!w)return x;i.checkSupport(w);var T=i.getTypeOf(x);return v[T][w](x)},i.resolve=function(w){for(var x=w.split("/"),T=[],A=0;A<x.length;A++){var P=x[A];P==="."||P===""&&A!==0&&A!==x.length-1||(P===".."?T.pop():T.push(P))}return T.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(w)?"nodebuffer":a.uint8array&&w instanceof Uint8Array?"uint8array":a.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!a[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var x,T,A="";for(T=0;T<(w||"").length;T++)A+="\\x"+((x=w.charCodeAt(T))<16?"0":"")+x.toString(16).toUpperCase();return A},i.delay=function(w,x,T){setImmediate(function(){w.apply(T||null,x||[])})},i.inherits=function(w,x){function T(){}T.prototype=x.prototype,w.prototype=new T},i.extend=function(){var w,x,T={};for(w=0;w<arguments.length;w++)for(x in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],x)&&T[x]===void 0&&(T[x]=arguments[w][x]);return T},i.prepareContent=function(w,x,T,A,P){return l.Promise.resolve(x).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,_){var R=new FileReader;R.onload=function(O){E(O.target.result)},R.onerror=function(O){_(O.target.error)},R.readAsArrayBuffer(S)}):S}).then(function(S){var E=i.getTypeOf(S);return E?(E==="arraybuffer"?S=i.transformTo("uint8array",S):E==="string"&&(P?S=s.decode(S):T&&A!==!0&&(S=function(_){return f(_,a.uint8array?new Uint8Array(_.length):new Array(_.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function f(h){this.files=[],this.loadOptions=h}f.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4)===p;return this.reader.setIndex(m),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,v=this.zip64EndOfCentralSize-44;0<v;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var v=p-m;if(0<v)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),s=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),f=r("./compressions"),h=r("./support");function p(m,v){this.options=m,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var v,w;if(m.skip(22),this.fileNameLength=m.readInt(2),w=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(x){for(var T in f)if(Object.prototype.hasOwnProperty.call(f,T)&&f[T].magic===x)return f[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var v=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(v),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var v,w,x,T=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<T;)v=m.readInt(2),w=m.readInt(2),x=m.readData(w),this.extraFields[v]={id:v,length:w,value:x};m.setIndex(T)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var w=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var T=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var v=a(m.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var v=a(m.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(m.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(v,w,x){this.name=v,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=w,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var s=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),f=r("./stream/GenericWorker");a.prototype={internalStream:function(v){var w=null,x="string";try{if(!v)throw new Error("No output type specified.");var T=(x=v.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),w=this._decompressWorker();var A=!this._dataBinary;A&&!T&&(w=w.pipe(new l.Utf8EncodeWorker)),!A&&T&&(w=w.pipe(new l.Utf8DecodeWorker))}catch(P){(w=new f("error")).error(P)}return new s(w,x,"")},async:function(v,w){return this.internalStream(v).accumulate(w)},nodeStream:function(v,w){return this.internalStream(v||"nodebuffer").toNodejsStream(w)},_compressWorker:function(v,w){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,v,w)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,f=new l(v),h=a.document.createTextNode("");f.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var w=a.document.createElement("script");w.onreadystatechange=function(){v(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},a.document.documentElement.appendChild(w)}:function(){setTimeout(v,0)};else{var p=new a.MessageChannel;p.port1.onmessage=v,s=function(){p.port2.postMessage(0)}}var m=[];function v(){var w,x;o=!0;for(var T=m.length;T;){for(x=m,m=[],w=-1;++w<T;)x[w]();T=m.length}o=!1}n.exports=function(w){m.push(w)!==1||o||s()}}).call(this,typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function h(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,T!==s&&w(this,T)}function p(T,A,P){this.promise=T,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function m(T,A,P){a(function(){var S;try{S=A(P)}catch(E){return o.reject(T,E)}S===T?o.reject(T,new TypeError("Cannot resolve promise with itself")):o.resolve(T,S)})}function v(T){var A=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof A=="function")return function(){A.apply(T,arguments)}}function w(T,A){var P=!1;function S(R){P||(P=!0,o.reject(T,R))}function E(R){P||(P=!0,o.resolve(T,R))}var _=x(function(){A(E,S)});_.status==="error"&&S(_.value)}function x(T,A){var P={};try{P.value=T(A),P.status="success"}catch(S){P.status="error",P.value=S}return P}(n.exports=h).prototype.finally=function(T){if(typeof T!="function")return this;var A=this.constructor;return this.then(function(P){return A.resolve(T()).then(function(){return P})},function(P){return A.resolve(T()).then(function(){throw P})})},h.prototype.catch=function(T){return this.then(null,T)},h.prototype.then=function(T,A){if(typeof T!="function"&&this.state===u||typeof A!="function"&&this.state===l)return this;var P=new this.constructor(s);return this.state!==f?m(P,this.state===u?T:A,this.outcome):this.queue.push(new p(P,T,A)),P},p.prototype.callFulfilled=function(T){o.resolve(this.promise,T)},p.prototype.otherCallFulfilled=function(T){m(this.promise,this.onFulfilled,T)},p.prototype.callRejected=function(T){o.reject(this.promise,T)},p.prototype.otherCallRejected=function(T){m(this.promise,this.onRejected,T)},o.resolve=function(T,A){var P=x(v,A);if(P.status==="error")return o.reject(T,P.value);var S=P.value;if(S)w(T,S);else{T.state=u,T.outcome=A;for(var E=-1,_=T.queue.length;++E<_;)T.queue[E].callFulfilled(A)}return T},o.reject=function(T,A){T.state=l,T.outcome=A;for(var P=-1,S=T.queue.length;++P<S;)T.queue[P].callRejected(A);return T},h.resolve=function(T){return T instanceof this?T:o.resolve(new this(s),T)},h.reject=function(T){var A=new this(s);return o.reject(A,T)},h.all=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=T.length,S=!1;if(!P)return this.resolve([]);for(var E=new Array(P),_=0,R=-1,O=new this(s);++R<P;)F(T[R],R);return O;function F($,z){A.resolve($).then(function(q){E[z]=q,++_!==P||S||(S=!0,o.resolve(O,E))},function(q){S||(S=!0,o.reject(O,q))})}},h.race=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=T.length,S=!1;if(!P)return this.resolve([]);for(var E=-1,_=new this(s);++E<P;)R=T[E],A.resolve(R).then(function(O){S||(S=!0,o.resolve(_,O))},function(O){S||(S=!0,o.reject(_,O))});var R;return _}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),f=Object.prototype.toString,h=0,p=-1,m=0,v=8;function w(T){if(!(this instanceof w))return new w(T);this.options=s.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},T||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var P=a.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(P!==h)throw new Error(l[P]);if(A.header&&a.deflateSetHeader(this.strm,A.header),A.dictionary){var S;if(S=typeof A.dictionary=="string"?o.string2buf(A.dictionary):f.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(P=a.deflateSetDictionary(this.strm,S))!==h)throw new Error(l[P]);this._dict_set=!0}}function x(T,A){var P=new w(A);if(P.push(T,!0),P.err)throw P.msg||l[P.err];return P.result}w.prototype.push=function(T,A){var P,S,E=this.strm,_=this.options.chunkSize;if(this.ended)return!1;S=A===~~A?A:A===!0?4:0,typeof T=="string"?E.input=o.string2buf(T):f.call(T)==="[object ArrayBuffer]"?E.input=new Uint8Array(T):E.input=T,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(_),E.next_out=0,E.avail_out=_),(P=a.deflate(E,S))!==1&&P!==h)return this.onEnd(P),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&P!==1);return S===4?(P=a.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===h):S!==2||(this.onEnd(h),!(E.avail_out=0))},w.prototype.onData=function(T){this.chunks.push(T)},w.prototype.onEnd=function(T){T===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},i.Deflate=w,i.deflate=x,i.deflateRaw=function(T,A){return(A=A||{}).raw=!0,x(T,A)},i.gzip=function(T,A){return(A=A||{}).gzip=!0,x(T,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),s=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),f=r("./zlib/zstream"),h=r("./zlib/gzheader"),p=Object.prototype.toString;function m(w){if(!(this instanceof m))return new m(w);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},w||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||w&&w.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var T=a.inflateInit2(this.strm,x.windowBits);if(T!==l.Z_OK)throw new Error(u[T]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function v(w,x){var T=new m(x);if(T.push(w,!0),T.err)throw T.msg||u[T.err];return T.result}m.prototype.push=function(w,x){var T,A,P,S,E,_,R=this.strm,O=this.options.chunkSize,F=this.options.dictionary,$=!1;if(this.ended)return!1;A=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof w=="string"?R.input=o.binstring2buf(w):p.call(w)==="[object ArrayBuffer]"?R.input=new Uint8Array(w):R.input=w,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(O),R.next_out=0,R.avail_out=O),(T=a.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(_=typeof F=="string"?o.string2buf(F):p.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,T=a.inflateSetDictionary(this.strm,_)),T===l.Z_BUF_ERROR&&$===!0&&(T=l.Z_OK,$=!1),T!==l.Z_STREAM_END&&T!==l.Z_OK)return this.onEnd(T),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&T!==l.Z_STREAM_END&&(R.avail_in!==0||A!==l.Z_FINISH&&A!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=o.utf8border(R.output,R.next_out),S=R.next_out-P,E=o.buf2string(R.output,P),R.next_out=S,R.avail_out=O-S,S&&s.arraySet(R.output,R.output,P,S,0),this.onData(E)):this.onData(s.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&($=!0)}while((0<R.avail_in||R.avail_out===0)&&T!==l.Z_STREAM_END);return T===l.Z_STREAM_END&&(A=l.Z_FINISH),A===l.Z_FINISH?(T=a.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===l.Z_OK):A!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},m.prototype.onData=function(w){this.chunks.push(w)},m.prototype.onEnd=function(w){w===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=m,i.inflate=v,i.inflateRaw=function(w,x){return(x=x||{}).raw=!0,v(w,x)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,f,h,p){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+h),p);else for(var m=0;m<h;m++)l[p+m]=u[f+m]},flattenChunks:function(l){var u,f,h,p,m,v;for(u=h=0,f=l.length;u<f;u++)h+=l[u].length;for(v=new Uint8Array(h),u=p=0,f=l.length;u<f;u++)m=l[u],v.set(m,p),p+=m.length;return v}},o={arraySet:function(l,u,f,h,p){for(var m=0;m<h;m++)l[p+m]=u[f+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,p));for(var m="",v=0;v<p;v++)m+=String.fromCharCode(h[v]);return m}l[254]=l[254]=1,i.string2buf=function(h){var p,m,v,w,x,T=h.length,A=0;for(w=0;w<T;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<T&&(64512&(v=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),w++),A+=m<128?1:m<2048?2:m<65536?3:4;for(p=new a.Buf8(A),w=x=0;x<A;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<T&&(64512&(v=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),w++),m<128?p[x++]=m:(m<2048?p[x++]=192|m>>>6:(m<65536?p[x++]=224|m>>>12:(p[x++]=240|m>>>18,p[x++]=128|m>>>12&63),p[x++]=128|m>>>6&63),p[x++]=128|63&m);return p},i.buf2binstring=function(h){return f(h,h.length)},i.binstring2buf=function(h){for(var p=new a.Buf8(h.length),m=0,v=p.length;m<v;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,v,w,x,T=p||h.length,A=new Array(2*T);for(m=v=0;m<T;)if((w=h[m++])<128)A[v++]=w;else if(4<(x=l[w]))A[v++]=65533,m+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&m<T;)w=w<<6|63&h[m++],x--;1<x?A[v++]=65533:w<65536?A[v++]=w:(w-=65536,A[v++]=55296|w>>10&1023,A[v++]=56320|1023&w)}return f(A,v)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,s,o,l){for(var u=65535&a|0,f=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;f=f+(u=u+s[l++]|0)|0,--h;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();n.exports=function(s,o,l,u){var f=a,h=u+l;s^=-1;for(var p=u;p<h;p++)s=s>>>8^f[255&(s^o[p])];return-1^s}},{}],46:[function(r,n,i){var a,s=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),f=r("./messages"),h=0,p=4,m=0,v=-2,w=-1,x=4,T=2,A=8,P=9,S=286,E=30,_=19,R=2*S+1,O=15,F=3,$=258,z=$+F+1,q=42,Z=113,V=1,J=2,fe=3,ue=4;function pe(he,ut){return he.msg=f[ut],ut}function ve(he){return(he<<1)-(4<he?9:0)}function le(he){for(var ut=he.length;0<=--ut;)he[ut]=0}function se(he){var ut=he.state,xt=ut.pending;xt>he.avail_out&&(xt=he.avail_out),xt!==0&&(s.arraySet(he.output,ut.pending_buf,ut.pending_out,xt,he.next_out),he.next_out+=xt,ut.pending_out+=xt,he.total_out+=xt,he.avail_out-=xt,ut.pending-=xt,ut.pending===0&&(ut.pending_out=0))}function ge(he,ut){o._tr_flush_block(he,0<=he.block_start?he.block_start:-1,he.strstart-he.block_start,ut),he.block_start=he.strstart,se(he.strm)}function _e(he,ut){he.pending_buf[he.pending++]=ut}function ke(he,ut){he.pending_buf[he.pending++]=ut>>>8&255,he.pending_buf[he.pending++]=255&ut}function Ge(he,ut){var xt,je,rt=he.max_chain_length,Ze=he.strstart,yt=he.prev_length,Vt=he.nice_match,At=he.strstart>he.w_size-z?he.strstart-(he.w_size-z):0,hr=he.window,Sr=he.w_mask,fr=he.prev,Dt=he.strstart+$,dr=hr[Ze+yt-1],Nr=hr[Ze+yt];he.prev_length>=he.good_match&&(rt>>=2),Vt>he.lookahead&&(Vt=he.lookahead);do if(hr[(xt=ut)+yt]===Nr&&hr[xt+yt-1]===dr&&hr[xt]===hr[Ze]&&hr[++xt]===hr[Ze+1]){Ze+=2,xt++;do;while(hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&hr[++Ze]===hr[++xt]&&Ze<Dt);if(je=$-(Dt-Ze),Ze=Dt-$,yt<je){if(he.match_start=ut,Vt<=(yt=je))break;dr=hr[Ze+yt-1],Nr=hr[Ze+yt]}}while((ut=fr[ut&Sr])>At&&--rt!=0);return yt<=he.lookahead?yt:he.lookahead}function ct(he){var ut,xt,je,rt,Ze,yt,Vt,At,hr,Sr,fr=he.w_size;do{if(rt=he.window_size-he.lookahead-he.strstart,he.strstart>=fr+(fr-z)){for(s.arraySet(he.window,he.window,fr,fr,0),he.match_start-=fr,he.strstart-=fr,he.block_start-=fr,ut=xt=he.hash_size;je=he.head[--ut],he.head[ut]=fr<=je?je-fr:0,--xt;);for(ut=xt=fr;je=he.prev[--ut],he.prev[ut]=fr<=je?je-fr:0,--xt;);rt+=fr}if(he.strm.avail_in===0)break;if(yt=he.strm,Vt=he.window,At=he.strstart+he.lookahead,hr=rt,Sr=void 0,Sr=yt.avail_in,hr<Sr&&(Sr=hr),xt=Sr===0?0:(yt.avail_in-=Sr,s.arraySet(Vt,yt.input,yt.next_in,Sr,At),yt.state.wrap===1?yt.adler=l(yt.adler,Vt,Sr,At):yt.state.wrap===2&&(yt.adler=u(yt.adler,Vt,Sr,At)),yt.next_in+=Sr,yt.total_in+=Sr,Sr),he.lookahead+=xt,he.lookahead+he.insert>=F)for(Ze=he.strstart-he.insert,he.ins_h=he.window[Ze],he.ins_h=(he.ins_h<<he.hash_shift^he.window[Ze+1])&he.hash_mask;he.insert&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[Ze+F-1])&he.hash_mask,he.prev[Ze&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Ze,Ze++,he.insert--,!(he.lookahead+he.insert<F)););}while(he.lookahead<z&&he.strm.avail_in!==0)}function $e(he,ut){for(var xt,je;;){if(he.lookahead<z){if(ct(he),he.lookahead<z&&ut===h)return V;if(he.lookahead===0)break}if(xt=0,he.lookahead>=F&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+F-1])&he.hash_mask,xt=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),xt!==0&&he.strstart-xt<=he.w_size-z&&(he.match_length=Ge(he,xt)),he.match_length>=F)if(je=o._tr_tally(he,he.strstart-he.match_start,he.match_length-F),he.lookahead-=he.match_length,he.match_length<=he.max_lazy_match&&he.lookahead>=F){for(he.match_length--;he.strstart++,he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+F-1])&he.hash_mask,xt=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart,--he.match_length!=0;);he.strstart++}else he.strstart+=he.match_length,he.match_length=0,he.ins_h=he.window[he.strstart],he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+1])&he.hash_mask;else je=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++;if(je&&(ge(he,!1),he.strm.avail_out===0))return V}return he.insert=he.strstart<F-1?he.strstart:F-1,ut===p?(ge(he,!0),he.strm.avail_out===0?fe:ue):he.last_lit&&(ge(he,!1),he.strm.avail_out===0)?V:J}function we(he,ut){for(var xt,je,rt;;){if(he.lookahead<z){if(ct(he),he.lookahead<z&&ut===h)return V;if(he.lookahead===0)break}if(xt=0,he.lookahead>=F&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+F-1])&he.hash_mask,xt=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),he.prev_length=he.match_length,he.prev_match=he.match_start,he.match_length=F-1,xt!==0&&he.prev_length<he.max_lazy_match&&he.strstart-xt<=he.w_size-z&&(he.match_length=Ge(he,xt),he.match_length<=5&&(he.strategy===1||he.match_length===F&&4096<he.strstart-he.match_start)&&(he.match_length=F-1)),he.prev_length>=F&&he.match_length<=he.prev_length){for(rt=he.strstart+he.lookahead-F,je=o._tr_tally(he,he.strstart-1-he.prev_match,he.prev_length-F),he.lookahead-=he.prev_length-1,he.prev_length-=2;++he.strstart<=rt&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+F-1])&he.hash_mask,xt=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),--he.prev_length!=0;);if(he.match_available=0,he.match_length=F-1,he.strstart++,je&&(ge(he,!1),he.strm.avail_out===0))return V}else if(he.match_available){if((je=o._tr_tally(he,0,he.window[he.strstart-1]))&&ge(he,!1),he.strstart++,he.lookahead--,he.strm.avail_out===0)return V}else he.match_available=1,he.strstart++,he.lookahead--}return he.match_available&&(je=o._tr_tally(he,0,he.window[he.strstart-1]),he.match_available=0),he.insert=he.strstart<F-1?he.strstart:F-1,ut===p?(ge(he,!0),he.strm.avail_out===0?fe:ue):he.last_lit&&(ge(he,!1),he.strm.avail_out===0)?V:J}function Ee(he,ut,xt,je,rt){this.good_length=he,this.max_lazy=ut,this.nice_length=xt,this.max_chain=je,this.func=rt}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*R),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*_+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(O+1),this.heap=new s.Buf16(2*S+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(he){var ut;return he&&he.state?(he.total_in=he.total_out=0,he.data_type=T,(ut=he.state).pending=0,ut.pending_out=0,ut.wrap<0&&(ut.wrap=-ut.wrap),ut.status=ut.wrap?q:Z,he.adler=ut.wrap===2?0:1,ut.last_flush=h,o._tr_init(ut),m):pe(he,v)}function qe(he){var ut=ft(he);return ut===m&&function(xt){xt.window_size=2*xt.w_size,le(xt.head),xt.max_lazy_match=a[xt.level].max_lazy,xt.good_match=a[xt.level].good_length,xt.nice_match=a[xt.level].nice_length,xt.max_chain_length=a[xt.level].max_chain,xt.strstart=0,xt.block_start=0,xt.lookahead=0,xt.insert=0,xt.match_length=xt.prev_length=F-1,xt.match_available=0,xt.ins_h=0}(he.state),ut}function dt(he,ut,xt,je,rt,Ze){if(!he)return v;var yt=1;if(ut===w&&(ut=6),je<0?(yt=0,je=-je):15<je&&(yt=2,je-=16),rt<1||P<rt||xt!==A||je<8||15<je||ut<0||9<ut||Ze<0||x<Ze)return pe(he,v);je===8&&(je=9);var Vt=new Re;return(he.state=Vt).strm=he,Vt.wrap=yt,Vt.gzhead=null,Vt.w_bits=je,Vt.w_size=1<<Vt.w_bits,Vt.w_mask=Vt.w_size-1,Vt.hash_bits=rt+7,Vt.hash_size=1<<Vt.hash_bits,Vt.hash_mask=Vt.hash_size-1,Vt.hash_shift=~~((Vt.hash_bits+F-1)/F),Vt.window=new s.Buf8(2*Vt.w_size),Vt.head=new s.Buf16(Vt.hash_size),Vt.prev=new s.Buf16(Vt.w_size),Vt.lit_bufsize=1<<rt+6,Vt.pending_buf_size=4*Vt.lit_bufsize,Vt.pending_buf=new s.Buf8(Vt.pending_buf_size),Vt.d_buf=1*Vt.lit_bufsize,Vt.l_buf=3*Vt.lit_bufsize,Vt.level=ut,Vt.strategy=Ze,Vt.method=xt,qe(he)}a=[new Ee(0,0,0,0,function(he,ut){var xt=65535;for(xt>he.pending_buf_size-5&&(xt=he.pending_buf_size-5);;){if(he.lookahead<=1){if(ct(he),he.lookahead===0&&ut===h)return V;if(he.lookahead===0)break}he.strstart+=he.lookahead,he.lookahead=0;var je=he.block_start+xt;if((he.strstart===0||he.strstart>=je)&&(he.lookahead=he.strstart-je,he.strstart=je,ge(he,!1),he.strm.avail_out===0)||he.strstart-he.block_start>=he.w_size-z&&(ge(he,!1),he.strm.avail_out===0))return V}return he.insert=0,ut===p?(ge(he,!0),he.strm.avail_out===0?fe:ue):(he.strstart>he.block_start&&(ge(he,!1),he.strm.avail_out),V)}),new Ee(4,4,8,4,$e),new Ee(4,5,16,8,$e),new Ee(4,6,32,32,$e),new Ee(4,4,16,16,we),new Ee(8,16,32,32,we),new Ee(8,16,128,128,we),new Ee(8,32,128,256,we),new Ee(32,128,258,1024,we),new Ee(32,258,258,4096,we)],i.deflateInit=function(he,ut){return dt(he,ut,A,15,8,0)},i.deflateInit2=dt,i.deflateReset=qe,i.deflateResetKeep=ft,i.deflateSetHeader=function(he,ut){return he&&he.state?he.state.wrap!==2?v:(he.state.gzhead=ut,m):v},i.deflate=function(he,ut){var xt,je,rt,Ze;if(!he||!he.state||5<ut||ut<0)return he?pe(he,v):v;if(je=he.state,!he.output||!he.input&&he.avail_in!==0||je.status===666&&ut!==p)return pe(he,he.avail_out===0?-5:v);if(je.strm=he,xt=je.last_flush,je.last_flush=ut,je.status===q)if(je.wrap===2)he.adler=0,_e(je,31),_e(je,139),_e(je,8),je.gzhead?(_e(je,(je.gzhead.text?1:0)+(je.gzhead.hcrc?2:0)+(je.gzhead.extra?4:0)+(je.gzhead.name?8:0)+(je.gzhead.comment?16:0)),_e(je,255&je.gzhead.time),_e(je,je.gzhead.time>>8&255),_e(je,je.gzhead.time>>16&255),_e(je,je.gzhead.time>>24&255),_e(je,je.level===9?2:2<=je.strategy||je.level<2?4:0),_e(je,255&je.gzhead.os),je.gzhead.extra&&je.gzhead.extra.length&&(_e(je,255&je.gzhead.extra.length),_e(je,je.gzhead.extra.length>>8&255)),je.gzhead.hcrc&&(he.adler=u(he.adler,je.pending_buf,je.pending,0)),je.gzindex=0,je.status=69):(_e(je,0),_e(je,0),_e(je,0),_e(je,0),_e(je,0),_e(je,je.level===9?2:2<=je.strategy||je.level<2?4:0),_e(je,3),je.status=Z);else{var yt=A+(je.w_bits-8<<4)<<8;yt|=(2<=je.strategy||je.level<2?0:je.level<6?1:je.level===6?2:3)<<6,je.strstart!==0&&(yt|=32),yt+=31-yt%31,je.status=Z,ke(je,yt),je.strstart!==0&&(ke(je,he.adler>>>16),ke(je,65535&he.adler)),he.adler=1}if(je.status===69)if(je.gzhead.extra){for(rt=je.pending;je.gzindex<(65535&je.gzhead.extra.length)&&(je.pending!==je.pending_buf_size||(je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),se(he),rt=je.pending,je.pending!==je.pending_buf_size));)_e(je,255&je.gzhead.extra[je.gzindex]),je.gzindex++;je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),je.gzindex===je.gzhead.extra.length&&(je.gzindex=0,je.status=73)}else je.status=73;if(je.status===73)if(je.gzhead.name){rt=je.pending;do{if(je.pending===je.pending_buf_size&&(je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),se(he),rt=je.pending,je.pending===je.pending_buf_size)){Ze=1;break}Ze=je.gzindex<je.gzhead.name.length?255&je.gzhead.name.charCodeAt(je.gzindex++):0,_e(je,Ze)}while(Ze!==0);je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),Ze===0&&(je.gzindex=0,je.status=91)}else je.status=91;if(je.status===91)if(je.gzhead.comment){rt=je.pending;do{if(je.pending===je.pending_buf_size&&(je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),se(he),rt=je.pending,je.pending===je.pending_buf_size)){Ze=1;break}Ze=je.gzindex<je.gzhead.comment.length?255&je.gzhead.comment.charCodeAt(je.gzindex++):0,_e(je,Ze)}while(Ze!==0);je.gzhead.hcrc&&je.pending>rt&&(he.adler=u(he.adler,je.pending_buf,je.pending-rt,rt)),Ze===0&&(je.status=103)}else je.status=103;if(je.status===103&&(je.gzhead.hcrc?(je.pending+2>je.pending_buf_size&&se(he),je.pending+2<=je.pending_buf_size&&(_e(je,255&he.adler),_e(je,he.adler>>8&255),he.adler=0,je.status=Z)):je.status=Z),je.pending!==0){if(se(he),he.avail_out===0)return je.last_flush=-1,m}else if(he.avail_in===0&&ve(ut)<=ve(xt)&&ut!==p)return pe(he,-5);if(je.status===666&&he.avail_in!==0)return pe(he,-5);if(he.avail_in!==0||je.lookahead!==0||ut!==h&&je.status!==666){var Vt=je.strategy===2?function(At,hr){for(var Sr;;){if(At.lookahead===0&&(ct(At),At.lookahead===0)){if(hr===h)return V;break}if(At.match_length=0,Sr=o._tr_tally(At,0,At.window[At.strstart]),At.lookahead--,At.strstart++,Sr&&(ge(At,!1),At.strm.avail_out===0))return V}return At.insert=0,hr===p?(ge(At,!0),At.strm.avail_out===0?fe:ue):At.last_lit&&(ge(At,!1),At.strm.avail_out===0)?V:J}(je,ut):je.strategy===3?function(At,hr){for(var Sr,fr,Dt,dr,Nr=At.window;;){if(At.lookahead<=$){if(ct(At),At.lookahead<=$&&hr===h)return V;if(At.lookahead===0)break}if(At.match_length=0,At.lookahead>=F&&0<At.strstart&&(fr=Nr[Dt=At.strstart-1])===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]){dr=At.strstart+$;do;while(fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&fr===Nr[++Dt]&&Dt<dr);At.match_length=$-(dr-Dt),At.match_length>At.lookahead&&(At.match_length=At.lookahead)}if(At.match_length>=F?(Sr=o._tr_tally(At,1,At.match_length-F),At.lookahead-=At.match_length,At.strstart+=At.match_length,At.match_length=0):(Sr=o._tr_tally(At,0,At.window[At.strstart]),At.lookahead--,At.strstart++),Sr&&(ge(At,!1),At.strm.avail_out===0))return V}return At.insert=0,hr===p?(ge(At,!0),At.strm.avail_out===0?fe:ue):At.last_lit&&(ge(At,!1),At.strm.avail_out===0)?V:J}(je,ut):a[je.level].func(je,ut);if(Vt!==fe&&Vt!==ue||(je.status=666),Vt===V||Vt===fe)return he.avail_out===0&&(je.last_flush=-1),m;if(Vt===J&&(ut===1?o._tr_align(je):ut!==5&&(o._tr_stored_block(je,0,0,!1),ut===3&&(le(je.head),je.lookahead===0&&(je.strstart=0,je.block_start=0,je.insert=0))),se(he),he.avail_out===0))return je.last_flush=-1,m}return ut!==p?m:je.wrap<=0?1:(je.wrap===2?(_e(je,255&he.adler),_e(je,he.adler>>8&255),_e(je,he.adler>>16&255),_e(je,he.adler>>24&255),_e(je,255&he.total_in),_e(je,he.total_in>>8&255),_e(je,he.total_in>>16&255),_e(je,he.total_in>>24&255)):(ke(je,he.adler>>>16),ke(je,65535&he.adler)),se(he),0<je.wrap&&(je.wrap=-je.wrap),je.pending!==0?m:1)},i.deflateEnd=function(he){var ut;return he&&he.state?(ut=he.state.status)!==q&&ut!==69&&ut!==73&&ut!==91&&ut!==103&&ut!==Z&&ut!==666?pe(he,v):(he.state=null,ut===Z?pe(he,-3):m):v},i.deflateSetDictionary=function(he,ut){var xt,je,rt,Ze,yt,Vt,At,hr,Sr=ut.length;if(!he||!he.state||(Ze=(xt=he.state).wrap)===2||Ze===1&&xt.status!==q||xt.lookahead)return v;for(Ze===1&&(he.adler=l(he.adler,ut,Sr,0)),xt.wrap=0,Sr>=xt.w_size&&(Ze===0&&(le(xt.head),xt.strstart=0,xt.block_start=0,xt.insert=0),hr=new s.Buf8(xt.w_size),s.arraySet(hr,ut,Sr-xt.w_size,xt.w_size,0),ut=hr,Sr=xt.w_size),yt=he.avail_in,Vt=he.next_in,At=he.input,he.avail_in=Sr,he.next_in=0,he.input=ut,ct(xt);xt.lookahead>=F;){for(je=xt.strstart,rt=xt.lookahead-(F-1);xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[je+F-1])&xt.hash_mask,xt.prev[je&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=je,je++,--rt;);xt.strstart=je,xt.lookahead=F-1,ct(xt)}return xt.strstart+=xt.lookahead,xt.block_start=xt.strstart,xt.insert=xt.lookahead,xt.lookahead=0,xt.match_length=xt.prev_length=F-1,xt.match_available=0,he.next_in=Vt,he.input=At,he.avail_in=yt,xt.wrap=Ze,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,s){var o,l,u,f,h,p,m,v,w,x,T,A,P,S,E,_,R,O,F,$,z,q,Z,V,J;o=a.state,l=a.next_in,V=a.input,u=l+(a.avail_in-5),f=a.next_out,J=a.output,h=f-(s-a.avail_out),p=f+(a.avail_out-257),m=o.dmax,v=o.wsize,w=o.whave,x=o.wnext,T=o.window,A=o.hold,P=o.bits,S=o.lencode,E=o.distcode,_=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{P<15&&(A+=V[l++]<<P,P+=8,A+=V[l++]<<P,P+=8),O=S[A&_];t:for(;;){if(A>>>=F=O>>>24,P-=F,(F=O>>>16&255)===0)J[f++]=65535&O;else{if(!(16&F)){if((64&F)==0){O=S[(65535&O)+(A&(1<<F)-1)];continue t}if(32&F){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}$=65535&O,(F&=15)&&(P<F&&(A+=V[l++]<<P,P+=8),$+=A&(1<<F)-1,A>>>=F,P-=F),P<15&&(A+=V[l++]<<P,P+=8,A+=V[l++]<<P,P+=8),O=E[A&R];r:for(;;){if(A>>>=F=O>>>24,P-=F,!(16&(F=O>>>16&255))){if((64&F)==0){O=E[(65535&O)+(A&(1<<F)-1)];continue r}a.msg="invalid distance code",o.mode=30;break e}if(z=65535&O,P<(F&=15)&&(A+=V[l++]<<P,(P+=8)<F&&(A+=V[l++]<<P,P+=8)),m<(z+=A&(1<<F)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(A>>>=F,P-=F,(F=f-h)<z){if(w<(F=z-F)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(Z=T,(q=0)===x){if(q+=v-F,F<$){for($-=F;J[f++]=T[q++],--F;);q=f-z,Z=J}}else if(x<F){if(q+=v+x-F,(F-=x)<$){for($-=F;J[f++]=T[q++],--F;);if(q=0,x<$){for($-=F=x;J[f++]=T[q++],--F;);q=f-z,Z=J}}}else if(q+=x-F,F<$){for($-=F;J[f++]=T[q++],--F;);q=f-z,Z=J}for(;2<$;)J[f++]=Z[q++],J[f++]=Z[q++],J[f++]=Z[q++],$-=3;$&&(J[f++]=Z[q++],1<$&&(J[f++]=Z[q++]))}else{for(q=f-z;J[f++]=J[q++],J[f++]=J[q++],J[f++]=J[q++],2<($-=3););$&&(J[f++]=J[q++],1<$&&(J[f++]=J[q++]))}break}}break}}while(l<u&&f<p);l-=$=P>>3,A&=(1<<(P-=$<<3))-1,a.next_in=l,a.next_out=f,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=f<p?p-f+257:257-(f-p),o.hold=A,o.bits=P}},{}],49:[function(r,n,i){var a=r("../utils/common"),s=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),f=1,h=2,p=0,m=-2,v=1,w=852,x=592;function T(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(q){var Z;return q&&q.state?(Z=q.state,q.total_in=q.total_out=Z.total=0,q.msg="",Z.wrap&&(q.adler=1&Z.wrap),Z.mode=v,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new a.Buf32(w),Z.distcode=Z.distdyn=new a.Buf32(x),Z.sane=1,Z.back=-1,p):m}function S(q){var Z;return q&&q.state?((Z=q.state).wsize=0,Z.whave=0,Z.wnext=0,P(q)):m}function E(q,Z){var V,J;return q&&q.state?(J=q.state,Z<0?(V=0,Z=-Z):(V=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?m:(J.window!==null&&J.wbits!==Z&&(J.window=null),J.wrap=V,J.wbits=Z,S(q))):m}function _(q,Z){var V,J;return q?(J=new A,(q.state=J).window=null,(V=E(q,Z))!==p&&(q.state=null),V):m}var R,O,F=!0;function $(q){if(F){var Z;for(R=new a.Buf32(512),O=new a.Buf32(32),Z=0;Z<144;)q.lens[Z++]=8;for(;Z<256;)q.lens[Z++]=9;for(;Z<280;)q.lens[Z++]=7;for(;Z<288;)q.lens[Z++]=8;for(u(f,q.lens,0,288,R,0,q.work,{bits:9}),Z=0;Z<32;)q.lens[Z++]=5;u(h,q.lens,0,32,O,0,q.work,{bits:5}),F=!1}q.lencode=R,q.lenbits=9,q.distcode=O,q.distbits=5}function z(q,Z,V,J){var fe,ue=q.state;return ue.window===null&&(ue.wsize=1<<ue.wbits,ue.wnext=0,ue.whave=0,ue.window=new a.Buf8(ue.wsize)),J>=ue.wsize?(a.arraySet(ue.window,Z,V-ue.wsize,ue.wsize,0),ue.wnext=0,ue.whave=ue.wsize):(J<(fe=ue.wsize-ue.wnext)&&(fe=J),a.arraySet(ue.window,Z,V-J,fe,ue.wnext),(J-=fe)?(a.arraySet(ue.window,Z,V-J,J,0),ue.wnext=J,ue.whave=ue.wsize):(ue.wnext+=fe,ue.wnext===ue.wsize&&(ue.wnext=0),ue.whave<ue.wsize&&(ue.whave+=fe))),0}i.inflateReset=S,i.inflateReset2=E,i.inflateResetKeep=P,i.inflateInit=function(q){return _(q,15)},i.inflateInit2=_,i.inflate=function(q,Z){var V,J,fe,ue,pe,ve,le,se,ge,_e,ke,Ge,ct,$e,we,Ee,Re,ft,qe,dt,he,ut,xt,je,rt=0,Ze=new a.Buf8(4),yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!q||!q.state||!q.output||!q.input&&q.avail_in!==0)return m;(V=q.state).mode===12&&(V.mode=13),pe=q.next_out,fe=q.output,le=q.avail_out,ue=q.next_in,J=q.input,ve=q.avail_in,se=V.hold,ge=V.bits,_e=ve,ke=le,ut=p;e:for(;;)switch(V.mode){case v:if(V.wrap===0){V.mode=13;break}for(;ge<16;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(2&V.wrap&&se===35615){Ze[V.check=0]=255&se,Ze[1]=se>>>8&255,V.check=o(V.check,Ze,2,0),ge=se=0,V.mode=2;break}if(V.flags=0,V.head&&(V.head.done=!1),!(1&V.wrap)||(((255&se)<<8)+(se>>8))%31){q.msg="incorrect header check",V.mode=30;break}if((15&se)!=8){q.msg="unknown compression method",V.mode=30;break}if(ge-=4,he=8+(15&(se>>>=4)),V.wbits===0)V.wbits=he;else if(he>V.wbits){q.msg="invalid window size",V.mode=30;break}V.dmax=1<<he,q.adler=V.check=1,V.mode=512&se?10:12,ge=se=0;break;case 2:for(;ge<16;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(V.flags=se,(255&V.flags)!=8){q.msg="unknown compression method",V.mode=30;break}if(57344&V.flags){q.msg="unknown header flags set",V.mode=30;break}V.head&&(V.head.text=se>>8&1),512&V.flags&&(Ze[0]=255&se,Ze[1]=se>>>8&255,V.check=o(V.check,Ze,2,0)),ge=se=0,V.mode=3;case 3:for(;ge<32;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.head&&(V.head.time=se),512&V.flags&&(Ze[0]=255&se,Ze[1]=se>>>8&255,Ze[2]=se>>>16&255,Ze[3]=se>>>24&255,V.check=o(V.check,Ze,4,0)),ge=se=0,V.mode=4;case 4:for(;ge<16;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.head&&(V.head.xflags=255&se,V.head.os=se>>8),512&V.flags&&(Ze[0]=255&se,Ze[1]=se>>>8&255,V.check=o(V.check,Ze,2,0)),ge=se=0,V.mode=5;case 5:if(1024&V.flags){for(;ge<16;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.length=se,V.head&&(V.head.extra_len=se),512&V.flags&&(Ze[0]=255&se,Ze[1]=se>>>8&255,V.check=o(V.check,Ze,2,0)),ge=se=0}else V.head&&(V.head.extra=null);V.mode=6;case 6:if(1024&V.flags&&(ve<(Ge=V.length)&&(Ge=ve),Ge&&(V.head&&(he=V.head.extra_len-V.length,V.head.extra||(V.head.extra=new Array(V.head.extra_len)),a.arraySet(V.head.extra,J,ue,Ge,he)),512&V.flags&&(V.check=o(V.check,J,Ge,ue)),ve-=Ge,ue+=Ge,V.length-=Ge),V.length))break e;V.length=0,V.mode=7;case 7:if(2048&V.flags){if(ve===0)break e;for(Ge=0;he=J[ue+Ge++],V.head&&he&&V.length<65536&&(V.head.name+=String.fromCharCode(he)),he&&Ge<ve;);if(512&V.flags&&(V.check=o(V.check,J,Ge,ue)),ve-=Ge,ue+=Ge,he)break e}else V.head&&(V.head.name=null);V.length=0,V.mode=8;case 8:if(4096&V.flags){if(ve===0)break e;for(Ge=0;he=J[ue+Ge++],V.head&&he&&V.length<65536&&(V.head.comment+=String.fromCharCode(he)),he&&Ge<ve;);if(512&V.flags&&(V.check=o(V.check,J,Ge,ue)),ve-=Ge,ue+=Ge,he)break e}else V.head&&(V.head.comment=null);V.mode=9;case 9:if(512&V.flags){for(;ge<16;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(se!==(65535&V.check)){q.msg="header crc mismatch",V.mode=30;break}ge=se=0}V.head&&(V.head.hcrc=V.flags>>9&1,V.head.done=!0),q.adler=V.check=0,V.mode=12;break;case 10:for(;ge<32;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}q.adler=V.check=T(se),ge=se=0,V.mode=11;case 11:if(V.havedict===0)return q.next_out=pe,q.avail_out=le,q.next_in=ue,q.avail_in=ve,V.hold=se,V.bits=ge,2;q.adler=V.check=1,V.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(V.last){se>>>=7&ge,ge-=7&ge,V.mode=27;break}for(;ge<3;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}switch(V.last=1&se,ge-=1,3&(se>>>=1)){case 0:V.mode=14;break;case 1:if($(V),V.mode=20,Z!==6)break;se>>>=2,ge-=2;break e;case 2:V.mode=17;break;case 3:q.msg="invalid block type",V.mode=30}se>>>=2,ge-=2;break;case 14:for(se>>>=7&ge,ge-=7&ge;ge<32;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if((65535&se)!=(se>>>16^65535)){q.msg="invalid stored block lengths",V.mode=30;break}if(V.length=65535&se,ge=se=0,V.mode=15,Z===6)break e;case 15:V.mode=16;case 16:if(Ge=V.length){if(ve<Ge&&(Ge=ve),le<Ge&&(Ge=le),Ge===0)break e;a.arraySet(fe,J,ue,Ge,pe),ve-=Ge,ue+=Ge,le-=Ge,pe+=Ge,V.length-=Ge;break}V.mode=12;break;case 17:for(;ge<14;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(V.nlen=257+(31&se),se>>>=5,ge-=5,V.ndist=1+(31&se),se>>>=5,ge-=5,V.ncode=4+(15&se),se>>>=4,ge-=4,286<V.nlen||30<V.ndist){q.msg="too many length or distance symbols",V.mode=30;break}V.have=0,V.mode=18;case 18:for(;V.have<V.ncode;){for(;ge<3;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.lens[yt[V.have++]]=7&se,se>>>=3,ge-=3}for(;V.have<19;)V.lens[yt[V.have++]]=0;if(V.lencode=V.lendyn,V.lenbits=7,xt={bits:V.lenbits},ut=u(0,V.lens,0,19,V.lencode,0,V.work,xt),V.lenbits=xt.bits,ut){q.msg="invalid code lengths set",V.mode=30;break}V.have=0,V.mode=19;case 19:for(;V.have<V.nlen+V.ndist;){for(;Ee=(rt=V.lencode[se&(1<<V.lenbits)-1])>>>16&255,Re=65535&rt,!((we=rt>>>24)<=ge);){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(Re<16)se>>>=we,ge-=we,V.lens[V.have++]=Re;else{if(Re===16){for(je=we+2;ge<je;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(se>>>=we,ge-=we,V.have===0){q.msg="invalid bit length repeat",V.mode=30;break}he=V.lens[V.have-1],Ge=3+(3&se),se>>>=2,ge-=2}else if(Re===17){for(je=we+3;ge<je;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}ge-=we,he=0,Ge=3+(7&(se>>>=we)),se>>>=3,ge-=3}else{for(je=we+7;ge<je;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}ge-=we,he=0,Ge=11+(127&(se>>>=we)),se>>>=7,ge-=7}if(V.have+Ge>V.nlen+V.ndist){q.msg="invalid bit length repeat",V.mode=30;break}for(;Ge--;)V.lens[V.have++]=he}}if(V.mode===30)break;if(V.lens[256]===0){q.msg="invalid code -- missing end-of-block",V.mode=30;break}if(V.lenbits=9,xt={bits:V.lenbits},ut=u(f,V.lens,0,V.nlen,V.lencode,0,V.work,xt),V.lenbits=xt.bits,ut){q.msg="invalid literal/lengths set",V.mode=30;break}if(V.distbits=6,V.distcode=V.distdyn,xt={bits:V.distbits},ut=u(h,V.lens,V.nlen,V.ndist,V.distcode,0,V.work,xt),V.distbits=xt.bits,ut){q.msg="invalid distances set",V.mode=30;break}if(V.mode=20,Z===6)break e;case 20:V.mode=21;case 21:if(6<=ve&&258<=le){q.next_out=pe,q.avail_out=le,q.next_in=ue,q.avail_in=ve,V.hold=se,V.bits=ge,l(q,ke),pe=q.next_out,fe=q.output,le=q.avail_out,ue=q.next_in,J=q.input,ve=q.avail_in,se=V.hold,ge=V.bits,V.mode===12&&(V.back=-1);break}for(V.back=0;Ee=(rt=V.lencode[se&(1<<V.lenbits)-1])>>>16&255,Re=65535&rt,!((we=rt>>>24)<=ge);){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(Ee&&(240&Ee)==0){for(ft=we,qe=Ee,dt=Re;Ee=(rt=V.lencode[dt+((se&(1<<ft+qe)-1)>>ft)])>>>16&255,Re=65535&rt,!(ft+(we=rt>>>24)<=ge);){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}se>>>=ft,ge-=ft,V.back+=ft}if(se>>>=we,ge-=we,V.back+=we,V.length=Re,Ee===0){V.mode=26;break}if(32&Ee){V.back=-1,V.mode=12;break}if(64&Ee){q.msg="invalid literal/length code",V.mode=30;break}V.extra=15&Ee,V.mode=22;case 22:if(V.extra){for(je=V.extra;ge<je;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.length+=se&(1<<V.extra)-1,se>>>=V.extra,ge-=V.extra,V.back+=V.extra}V.was=V.length,V.mode=23;case 23:for(;Ee=(rt=V.distcode[se&(1<<V.distbits)-1])>>>16&255,Re=65535&rt,!((we=rt>>>24)<=ge);){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if((240&Ee)==0){for(ft=we,qe=Ee,dt=Re;Ee=(rt=V.distcode[dt+((se&(1<<ft+qe)-1)>>ft)])>>>16&255,Re=65535&rt,!(ft+(we=rt>>>24)<=ge);){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}se>>>=ft,ge-=ft,V.back+=ft}if(se>>>=we,ge-=we,V.back+=we,64&Ee){q.msg="invalid distance code",V.mode=30;break}V.offset=Re,V.extra=15&Ee,V.mode=24;case 24:if(V.extra){for(je=V.extra;ge<je;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}V.offset+=se&(1<<V.extra)-1,se>>>=V.extra,ge-=V.extra,V.back+=V.extra}if(V.offset>V.dmax){q.msg="invalid distance too far back",V.mode=30;break}V.mode=25;case 25:if(le===0)break e;if(Ge=ke-le,V.offset>Ge){if((Ge=V.offset-Ge)>V.whave&&V.sane){q.msg="invalid distance too far back",V.mode=30;break}ct=Ge>V.wnext?(Ge-=V.wnext,V.wsize-Ge):V.wnext-Ge,Ge>V.length&&(Ge=V.length),$e=V.window}else $e=fe,ct=pe-V.offset,Ge=V.length;for(le<Ge&&(Ge=le),le-=Ge,V.length-=Ge;fe[pe++]=$e[ct++],--Ge;);V.length===0&&(V.mode=21);break;case 26:if(le===0)break e;fe[pe++]=V.length,le--,V.mode=21;break;case 27:if(V.wrap){for(;ge<32;){if(ve===0)break e;ve--,se|=J[ue++]<<ge,ge+=8}if(ke-=le,q.total_out+=ke,V.total+=ke,ke&&(q.adler=V.check=V.flags?o(V.check,fe,ke,pe-ke):s(V.check,fe,ke,pe-ke)),ke=le,(V.flags?se:T(se))!==V.check){q.msg="incorrect data check",V.mode=30;break}ge=se=0}V.mode=28;case 28:if(V.wrap&&V.flags){for(;ge<32;){if(ve===0)break e;ve--,se+=J[ue++]<<ge,ge+=8}if(se!==(4294967295&V.total)){q.msg="incorrect length check",V.mode=30;break}ge=se=0}V.mode=29;case 29:ut=1;break e;case 30:ut=-3;break e;case 31:return-4;case 32:default:return m}return q.next_out=pe,q.avail_out=le,q.next_in=ue,q.avail_in=ve,V.hold=se,V.bits=ge,(V.wsize||ke!==q.avail_out&&V.mode<30&&(V.mode<27||Z!==4))&&z(q,q.output,q.next_out,ke-q.avail_out)?(V.mode=31,-4):(_e-=q.avail_in,ke-=q.avail_out,q.total_in+=_e,q.total_out+=ke,V.total+=ke,V.wrap&&ke&&(q.adler=V.check=V.flags?o(V.check,fe,ke,q.next_out-ke):s(V.check,fe,ke,q.next_out-ke)),q.data_type=V.bits+(V.last?64:0)+(V.mode===12?128:0)+(V.mode===20||V.mode===15?256:0),(_e==0&&ke===0||Z===4)&&ut===p&&(ut=-5),ut)},i.inflateEnd=function(q){if(!q||!q.state)return m;var Z=q.state;return Z.window&&(Z.window=null),q.state=null,p},i.inflateGetHeader=function(q,Z){var V;return q&&q.state?(2&(V=q.state).wrap)==0?m:((V.head=Z).done=!1,p):m},i.inflateSetDictionary=function(q,Z){var V,J=Z.length;return q&&q.state?(V=q.state).wrap!==0&&V.mode!==11?m:V.mode===11&&s(1,Z,J,0)!==V.check?-3:z(q,Z,J,J)?(V.mode=31,-4):(V.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,h,p,m,v,w,x,T){var A,P,S,E,_,R,O,F,$,z=T.bits,q=0,Z=0,V=0,J=0,fe=0,ue=0,pe=0,ve=0,le=0,se=0,ge=null,_e=0,ke=new a.Buf16(16),Ge=new a.Buf16(16),ct=null,$e=0;for(q=0;q<=15;q++)ke[q]=0;for(Z=0;Z<m;Z++)ke[h[p+Z]]++;for(fe=z,J=15;1<=J&&ke[J]===0;J--);if(J<fe&&(fe=J),J===0)return v[w++]=20971520,v[w++]=20971520,T.bits=1,0;for(V=1;V<J&&ke[V]===0;V++);for(fe<V&&(fe=V),q=ve=1;q<=15;q++)if(ve<<=1,(ve-=ke[q])<0)return-1;if(0<ve&&(f===0||J!==1))return-1;for(Ge[1]=0,q=1;q<15;q++)Ge[q+1]=Ge[q]+ke[q];for(Z=0;Z<m;Z++)h[p+Z]!==0&&(x[Ge[h[p+Z]]++]=Z);if(R=f===0?(ge=ct=x,19):f===1?(ge=s,_e-=257,ct=o,$e-=257,256):(ge=l,ct=u,-1),q=V,_=w,pe=Z=se=0,S=-1,E=(le=1<<(ue=fe))-1,f===1&&852<le||f===2&&592<le)return 1;for(;;){for(O=q-pe,$=x[Z]<R?(F=0,x[Z]):x[Z]>R?(F=ct[$e+x[Z]],ge[_e+x[Z]]):(F=96,0),A=1<<q-pe,V=P=1<<ue;v[_+(se>>pe)+(P-=A)]=O<<24|F<<16|$|0,P!==0;);for(A=1<<q-1;se&A;)A>>=1;if(A!==0?(se&=A-1,se+=A):se=0,Z++,--ke[q]==0){if(q===J)break;q=h[p+x[Z]]}if(fe<q&&(se&E)!==S){for(pe===0&&(pe=fe),_+=V,ve=1<<(ue=q-pe);ue+pe<J&&!((ve-=ke[ue+pe])<=0);)ue++,ve<<=1;if(le+=1<<ue,f===1&&852<le||f===2&&592<le)return 1;v[S=se&E]=fe<<24|ue<<16|_-w|0}}return se!==0&&(v[_+se]=q-pe<<24|64<<16|0),T.bits=fe,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),s=0,o=1;function l(rt){for(var Ze=rt.length;0<=--Ze;)rt[Ze]=0}var u=0,f=29,h=256,p=h+1+f,m=30,v=19,w=2*p+1,x=15,T=16,A=7,P=256,S=16,E=17,_=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(p+2));l(z);var q=new Array(2*m);l(q);var Z=new Array(512);l(Z);var V=new Array(256);l(V);var J=new Array(f);l(J);var fe,ue,pe,ve=new Array(m);function le(rt,Ze,yt,Vt,At){this.static_tree=rt,this.extra_bits=Ze,this.extra_base=yt,this.elems=Vt,this.max_length=At,this.has_stree=rt&&rt.length}function se(rt,Ze){this.dyn_tree=rt,this.max_code=0,this.stat_desc=Ze}function ge(rt){return rt<256?Z[rt]:Z[256+(rt>>>7)]}function _e(rt,Ze){rt.pending_buf[rt.pending++]=255&Ze,rt.pending_buf[rt.pending++]=Ze>>>8&255}function ke(rt,Ze,yt){rt.bi_valid>T-yt?(rt.bi_buf|=Ze<<rt.bi_valid&65535,_e(rt,rt.bi_buf),rt.bi_buf=Ze>>T-rt.bi_valid,rt.bi_valid+=yt-T):(rt.bi_buf|=Ze<<rt.bi_valid&65535,rt.bi_valid+=yt)}function Ge(rt,Ze,yt){ke(rt,yt[2*Ze],yt[2*Ze+1])}function ct(rt,Ze){for(var yt=0;yt|=1&rt,rt>>>=1,yt<<=1,0<--Ze;);return yt>>>1}function $e(rt,Ze,yt){var Vt,At,hr=new Array(x+1),Sr=0;for(Vt=1;Vt<=x;Vt++)hr[Vt]=Sr=Sr+yt[Vt-1]<<1;for(At=0;At<=Ze;At++){var fr=rt[2*At+1];fr!==0&&(rt[2*At]=ct(hr[fr]++,fr))}}function we(rt){var Ze;for(Ze=0;Ze<p;Ze++)rt.dyn_ltree[2*Ze]=0;for(Ze=0;Ze<m;Ze++)rt.dyn_dtree[2*Ze]=0;for(Ze=0;Ze<v;Ze++)rt.bl_tree[2*Ze]=0;rt.dyn_ltree[2*P]=1,rt.opt_len=rt.static_len=0,rt.last_lit=rt.matches=0}function Ee(rt){8<rt.bi_valid?_e(rt,rt.bi_buf):0<rt.bi_valid&&(rt.pending_buf[rt.pending++]=rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0}function Re(rt,Ze,yt,Vt){var At=2*Ze,hr=2*yt;return rt[At]<rt[hr]||rt[At]===rt[hr]&&Vt[Ze]<=Vt[yt]}function ft(rt,Ze,yt){for(var Vt=rt.heap[yt],At=yt<<1;At<=rt.heap_len&&(At<rt.heap_len&&Re(Ze,rt.heap[At+1],rt.heap[At],rt.depth)&&At++,!Re(Ze,Vt,rt.heap[At],rt.depth));)rt.heap[yt]=rt.heap[At],yt=At,At<<=1;rt.heap[yt]=Vt}function qe(rt,Ze,yt){var Vt,At,hr,Sr,fr=0;if(rt.last_lit!==0)for(;Vt=rt.pending_buf[rt.d_buf+2*fr]<<8|rt.pending_buf[rt.d_buf+2*fr+1],At=rt.pending_buf[rt.l_buf+fr],fr++,Vt===0?Ge(rt,At,Ze):(Ge(rt,(hr=V[At])+h+1,Ze),(Sr=R[hr])!==0&&ke(rt,At-=J[hr],Sr),Ge(rt,hr=ge(--Vt),yt),(Sr=O[hr])!==0&&ke(rt,Vt-=ve[hr],Sr)),fr<rt.last_lit;);Ge(rt,P,Ze)}function dt(rt,Ze){var yt,Vt,At,hr=Ze.dyn_tree,Sr=Ze.stat_desc.static_tree,fr=Ze.stat_desc.has_stree,Dt=Ze.stat_desc.elems,dr=-1;for(rt.heap_len=0,rt.heap_max=w,yt=0;yt<Dt;yt++)hr[2*yt]!==0?(rt.heap[++rt.heap_len]=dr=yt,rt.depth[yt]=0):hr[2*yt+1]=0;for(;rt.heap_len<2;)hr[2*(At=rt.heap[++rt.heap_len]=dr<2?++dr:0)]=1,rt.depth[At]=0,rt.opt_len--,fr&&(rt.static_len-=Sr[2*At+1]);for(Ze.max_code=dr,yt=rt.heap_len>>1;1<=yt;yt--)ft(rt,hr,yt);for(At=Dt;yt=rt.heap[1],rt.heap[1]=rt.heap[rt.heap_len--],ft(rt,hr,1),Vt=rt.heap[1],rt.heap[--rt.heap_max]=yt,rt.heap[--rt.heap_max]=Vt,hr[2*At]=hr[2*yt]+hr[2*Vt],rt.depth[At]=(rt.depth[yt]>=rt.depth[Vt]?rt.depth[yt]:rt.depth[Vt])+1,hr[2*yt+1]=hr[2*Vt+1]=At,rt.heap[1]=At++,ft(rt,hr,1),2<=rt.heap_len;);rt.heap[--rt.heap_max]=rt.heap[1],function(Nr,gr){var wr,Fr,_n,nn,ot,Je,Me=gr.dyn_tree,Le=gr.max_code,Ye=gr.stat_desc.static_tree,gt=gr.stat_desc.has_stree,kt=gr.stat_desc.extra_bits,at=gr.stat_desc.extra_base,Ft=gr.stat_desc.max_length,Tt=0;for(nn=0;nn<=x;nn++)Nr.bl_count[nn]=0;for(Me[2*Nr.heap[Nr.heap_max]+1]=0,wr=Nr.heap_max+1;wr<w;wr++)Ft<(nn=Me[2*Me[2*(Fr=Nr.heap[wr])+1]+1]+1)&&(nn=Ft,Tt++),Me[2*Fr+1]=nn,Le<Fr||(Nr.bl_count[nn]++,ot=0,at<=Fr&&(ot=kt[Fr-at]),Je=Me[2*Fr],Nr.opt_len+=Je*(nn+ot),gt&&(Nr.static_len+=Je*(Ye[2*Fr+1]+ot)));if(Tt!==0){do{for(nn=Ft-1;Nr.bl_count[nn]===0;)nn--;Nr.bl_count[nn]--,Nr.bl_count[nn+1]+=2,Nr.bl_count[Ft]--,Tt-=2}while(0<Tt);for(nn=Ft;nn!==0;nn--)for(Fr=Nr.bl_count[nn];Fr!==0;)Le<(_n=Nr.heap[--wr])||(Me[2*_n+1]!==nn&&(Nr.opt_len+=(nn-Me[2*_n+1])*Me[2*_n],Me[2*_n+1]=nn),Fr--)}}(rt,Ze),$e(hr,dr,rt.bl_count)}function he(rt,Ze,yt){var Vt,At,hr=-1,Sr=Ze[1],fr=0,Dt=7,dr=4;for(Sr===0&&(Dt=138,dr=3),Ze[2*(yt+1)+1]=65535,Vt=0;Vt<=yt;Vt++)At=Sr,Sr=Ze[2*(Vt+1)+1],++fr<Dt&&At===Sr||(fr<dr?rt.bl_tree[2*At]+=fr:At!==0?(At!==hr&&rt.bl_tree[2*At]++,rt.bl_tree[2*S]++):fr<=10?rt.bl_tree[2*E]++:rt.bl_tree[2*_]++,hr=At,dr=(fr=0)===Sr?(Dt=138,3):At===Sr?(Dt=6,3):(Dt=7,4))}function ut(rt,Ze,yt){var Vt,At,hr=-1,Sr=Ze[1],fr=0,Dt=7,dr=4;for(Sr===0&&(Dt=138,dr=3),Vt=0;Vt<=yt;Vt++)if(At=Sr,Sr=Ze[2*(Vt+1)+1],!(++fr<Dt&&At===Sr)){if(fr<dr)for(;Ge(rt,At,rt.bl_tree),--fr!=0;);else At!==0?(At!==hr&&(Ge(rt,At,rt.bl_tree),fr--),Ge(rt,S,rt.bl_tree),ke(rt,fr-3,2)):fr<=10?(Ge(rt,E,rt.bl_tree),ke(rt,fr-3,3)):(Ge(rt,_,rt.bl_tree),ke(rt,fr-11,7));hr=At,dr=(fr=0)===Sr?(Dt=138,3):At===Sr?(Dt=6,3):(Dt=7,4)}}l(ve);var xt=!1;function je(rt,Ze,yt,Vt){ke(rt,(u<<1)+(Vt?1:0),3),function(At,hr,Sr,fr){Ee(At),_e(At,Sr),_e(At,~Sr),a.arraySet(At.pending_buf,At.window,hr,Sr,At.pending),At.pending+=Sr}(rt,Ze,yt)}i._tr_init=function(rt){xt||(function(){var Ze,yt,Vt,At,hr,Sr=new Array(x+1);for(At=Vt=0;At<f-1;At++)for(J[At]=Vt,Ze=0;Ze<1<<R[At];Ze++)V[Vt++]=At;for(V[Vt-1]=At,At=hr=0;At<16;At++)for(ve[At]=hr,Ze=0;Ze<1<<O[At];Ze++)Z[hr++]=At;for(hr>>=7;At<m;At++)for(ve[At]=hr<<7,Ze=0;Ze<1<<O[At]-7;Ze++)Z[256+hr++]=At;for(yt=0;yt<=x;yt++)Sr[yt]=0;for(Ze=0;Ze<=143;)z[2*Ze+1]=8,Ze++,Sr[8]++;for(;Ze<=255;)z[2*Ze+1]=9,Ze++,Sr[9]++;for(;Ze<=279;)z[2*Ze+1]=7,Ze++,Sr[7]++;for(;Ze<=287;)z[2*Ze+1]=8,Ze++,Sr[8]++;for($e(z,p+1,Sr),Ze=0;Ze<m;Ze++)q[2*Ze+1]=5,q[2*Ze]=ct(Ze,5);fe=new le(z,R,h+1,p,x),ue=new le(q,O,0,m,x),pe=new le(new Array(0),F,0,v,A)}(),xt=!0),rt.l_desc=new se(rt.dyn_ltree,fe),rt.d_desc=new se(rt.dyn_dtree,ue),rt.bl_desc=new se(rt.bl_tree,pe),rt.bi_buf=0,rt.bi_valid=0,we(rt)},i._tr_stored_block=je,i._tr_flush_block=function(rt,Ze,yt,Vt){var At,hr,Sr=0;0<rt.level?(rt.strm.data_type===2&&(rt.strm.data_type=function(fr){var Dt,dr=4093624447;for(Dt=0;Dt<=31;Dt++,dr>>>=1)if(1&dr&&fr.dyn_ltree[2*Dt]!==0)return s;if(fr.dyn_ltree[18]!==0||fr.dyn_ltree[20]!==0||fr.dyn_ltree[26]!==0)return o;for(Dt=32;Dt<h;Dt++)if(fr.dyn_ltree[2*Dt]!==0)return o;return s}(rt)),dt(rt,rt.l_desc),dt(rt,rt.d_desc),Sr=function(fr){var Dt;for(he(fr,fr.dyn_ltree,fr.l_desc.max_code),he(fr,fr.dyn_dtree,fr.d_desc.max_code),dt(fr,fr.bl_desc),Dt=v-1;3<=Dt&&fr.bl_tree[2*$[Dt]+1]===0;Dt--);return fr.opt_len+=3*(Dt+1)+5+5+4,Dt}(rt),At=rt.opt_len+3+7>>>3,(hr=rt.static_len+3+7>>>3)<=At&&(At=hr)):At=hr=yt+5,yt+4<=At&&Ze!==-1?je(rt,Ze,yt,Vt):rt.strategy===4||hr===At?(ke(rt,2+(Vt?1:0),3),qe(rt,z,q)):(ke(rt,4+(Vt?1:0),3),function(fr,Dt,dr,Nr){var gr;for(ke(fr,Dt-257,5),ke(fr,dr-1,5),ke(fr,Nr-4,4),gr=0;gr<Nr;gr++)ke(fr,fr.bl_tree[2*$[gr]+1],3);ut(fr,fr.dyn_ltree,Dt-1),ut(fr,fr.dyn_dtree,dr-1)}(rt,rt.l_desc.max_code+1,rt.d_desc.max_code+1,Sr+1),qe(rt,rt.dyn_ltree,rt.dyn_dtree)),we(rt),Vt&&Ee(rt)},i._tr_tally=function(rt,Ze,yt){return rt.pending_buf[rt.d_buf+2*rt.last_lit]=Ze>>>8&255,rt.pending_buf[rt.d_buf+2*rt.last_lit+1]=255&Ze,rt.pending_buf[rt.l_buf+rt.last_lit]=255&yt,rt.last_lit++,Ze===0?rt.dyn_ltree[2*yt]++:(rt.matches++,Ze--,rt.dyn_ltree[2*(V[yt]+h+1)]++,rt.dyn_dtree[2*ge(Ze)]++),rt.last_lit===rt.lit_bufsize-1},i._tr_align=function(rt){ke(rt,2,3),Ge(rt,P,z),function(Ze){Ze.bi_valid===16?(_e(Ze,Ze.bi_buf),Ze.bi_buf=0,Ze.bi_valid=0):8<=Ze.bi_valid&&(Ze.pending_buf[Ze.pending++]=255&Ze.bi_buf,Ze.bi_buf>>=8,Ze.bi_valid-=8)}(rt)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,f,h,p=1,m={},v=!1,w=s.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(s);x=x&&x.setTimeout?x:s,l={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){A(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,E=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=E,S}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",P,!1):s.attachEvent("onmessage",P),function(S){s.postMessage(h+S,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(S){A(S.data)},function(S){f.port2.postMessage(S)}):w&&"onreadystatechange"in w.createElement("script")?(u=w.documentElement,function(S){var E=w.createElement("script");E.onreadystatechange=function(){A(S),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(S){setTimeout(A,0,S)},x.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var E=new Array(arguments.length-1),_=0;_<E.length;_++)E[_]=arguments[_+1];var R={callback:S,args:E};return m[p]=R,l(p),p++},x.clearImmediate=T}function T(S){delete m[S]}function A(S){if(v)setTimeout(A,0,S);else{var E=m[S];if(E){v=!0;try{(function(_){var R=_.callback,O=_.args;switch(O.length){case 0:R();break;case 1:R(O[0]);break;case 2:R(O[0],O[1]);break;case 3:R(O[0],O[1],O[2]);break;default:R.apply(o,O)}})(E)}finally{T(S),v=!1}}}}function P(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(h)===0&&A(+S.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(T8)),T8.exports}var Ect=Sct();const Cct=pl(Ect);var FA={exports:{}},Pct=FA.exports,_ce;function Tct(){return _ce||(_ce=1,function(e,t){(function(r,n){n()})(Pct,function(){function r(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,f,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,f,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cl=="object"&&Cl.global===Cl?Cl:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,f,h){var p=s.URL||s.webkitURL,m=document.createElement("a");f=f||u.name||"download",m.download=f,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?n(u,f,h):a(m,m.target="_blank")):(m.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,h){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),f);else if(i(u))n(u,f,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){a(p)})}}:function(u,f,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,f,h);var m=u.type==="application/octet-stream",v=/constructor/i.test(s.HTMLElement)||s.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||m&&v||o)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var P=x.result;P=w?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=P:location=P,p=null},x.readAsDataURL(u)}else{var T=s.URL||s.webkitURL,A=T.createObjectURL(u);p?p.location=A:location.href=A,p=null,setTimeout(function(){T.revokeObjectURL(A)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})}(FA)),FA.exports}var Rct=Tct();const Act=pl(Rct);function Pxe(e){if(!e)throw new Error("`contentType` is required");var t=e.toLowerCase().replace(/.*\//,"");if(!t)throw new Error("Unsupported `contentType`: "+e);return t}function Txe(e,t){var r=t.sheetId,n=t.sheetImages;return"sheet".concat(r,"-image").concat(n.indexOf(e)+1,".").concat(Pxe(e.contentType))}function Rxe(e,t){var r=t.attribute;return e=e.replace(Oct,"&amp;").replace(Ict,"&gt;").replace(Mct,"&lt;"),r&&(e=e.replace(kct,"&apos;").replace(Dct,"&quot;")),e}var Oct=/&/g,Ict=/>/g,Mct=/</g,kct=/'/g,Dct=/"/g,Fct=/((?:[\0-\x08\x0B\f\x0E-\x1F\uFFFD\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,Lct=new RegExp("([\\x7F-\\x84]|[\\x86-\\x9F]|[\\uFDD0-\\uFDEF]|(?:\\uD83F[\\uDFFE\\uDFFF])|(?:\\uD87F[\\uDFFE\\uDFFF])|(?:\\uD8BF[\\uDFFE\\uDFFF])|(?:\\uD8FF[\\uDFFE\\uDFFF])|(?:\\uD93F[\\uDFFE\\uDFFF])|(?:\\uD97F[\\uDFFE\\uDFFF])|(?:\\uD9BF[\\uDFFE\\uDFFF])|(?:\\uD9FF[\\uDFFE\\uDFFF])|(?:\\uDA3F[\\uDFFE\\uDFFF])|(?:\\uDA7F[\\uDFFE\\uDFFF])|(?:\\uDABF[\\uDFFE\\uDFFF])|(?:\\uDAFF[\\uDFFE\\uDFFF])|(?:\\uDB3F[\\uDFFE\\uDFFF])|(?:\\uDB7F[\\uDFFE\\uDFFF])|(?:\\uDBBF[\\uDFFE\\uDFFF])|(?:\\uDBFF[\\uDFFE\\uDFFF])(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))","g");function Axe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.removeDiscouragedCharacters,n=r===void 0?!0:r;return e=e.replace(Fct,""),n&&(e=e.replace(Lct,"")),e}function cp(e){return Rxe(Axe(e),{attribute:!0})}function Nct(e){var t=e.sheets,r=e.stickyRowsCount,n=e.stickyColumnsCount;return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><workbookPr/>'+(r||n?"<bookViews><workbookView/></bookViews>":"")+"<sheets>"+t.map(function(i){var a=i.id,s=i.name;return'<sheet name="'.concat(cp(s),'" sheetId="').concat(a,'" r:id="rId').concat(a,'"/>')}).join("")+"</sheets><definedNames/><calcPr/></workbook>"}function $ct(e){var t=e.sheets;return'<?xml version="1.0" ?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+t.map(function(r){var n=r.id;return'<Relationship Id="rId'.concat(n,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet').concat(n,'.xml"/>')}).join("")+'<Relationship Id="rId'.concat(t.length+1,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/>')+'<Relationship Id="rId'.concat(t.length+2,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/>')+"</Relationships>"}const zct='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';function R8(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Bct(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bct(e,t){if(e){if(typeof e=="string")return wce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wce(e,t):void 0}}function wce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function jct(e){var t=e.images,r=e.sheets;return'<?xml version="1.0" ?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default ContentType="application/xml" Extension="xml"/><Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/>'+r.map(function(n){var i=n.id;return'<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet'.concat(i,'.xml"/>')}).join("")+r.map(function(n){var i=n.id,a=n.images;return a?'<Override ContentType="application/vnd.openxmlformats-officedocument.drawing+xml" PartName="/xl/drawings/drawing'.concat(i,'.xml"/>'):""}).join("")+'<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" PartName="/xl/workbook.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" PartName="/xl/sharedStrings.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" PartName="/xl/styles.xml"/>'+Uct(t).map(function(n){var i=n.fileExtension,a=n.contentType;return'<Default Extension="'.concat(i,'" ContentType="').concat(a,'"/>')}).join("")+"</Types>"}function Uct(e){if(!e)return[];var t=[],r=function(m){var v=Pxe(m.contentType),w=t.find(function(x){return x.fileExtension===v});w||t.push({fileExtension:v,contentType:m.contentType})};if(Array.isArray(e[0]))for(var n=R8(e),i;!(i=n()).done;)for(var a=i.value,s=R8(a),o;!(o=s()).done;){var l=o.value;r(l)}else for(var u=R8(e),f;!(f=u()).done;){var h=f.value;r(h)}return t}function qct(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Hct(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hct(e,t){if(e){if(typeof e=="string")return xce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xce(e,t):void 0}}function xce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wct(e){for(var t=e.images,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',n=0,i=function(){var l=s.value,u=n+1,f=function(p){return Gct(p,l.dpi)};r+="<xdr:oneCellAnchor>",r+="<xdr:from>",r+="<xdr:col>".concat(l.anchor.column-1,"</xdr:col>"),r+="<xdr:colOff>".concat(typeof l.offsetX=="number"?f(l.offsetX):0,"</xdr:colOff>"),r+="<xdr:row>".concat(l.anchor.row-1,"</xdr:row>"),r+="<xdr:rowOff>".concat(typeof l.offsetY=="number"?f(l.offsetY):0,"</xdr:rowOff>"),r+="</xdr:from>",r+='<xdr:ext cx="'.concat(f(l.width),'" cy="').concat(f(l.height),'"/>'),r+="<xdr:pic>",r+="<xdr:nvPicPr>",r+='<xdr:cNvPr id="'.concat(u,'" name="').concat(l.title?cp(l.title):"Picture "+u,'" descr="').concat(l.description?cp(l.description):"",'"/>'),r+="<xdr:cNvPicPr>",r+='<a:picLocks noChangeAspect="1"/>',r+="</xdr:cNvPicPr>",r+="</xdr:nvPicPr>",r+="<xdr:blipFill>",r+='<a:blip xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:embed="rId'.concat(u,'" cstate="print"/>'),r+="<a:stretch>",r+="<a:fillRect/>",r+="</a:stretch>",r+="</xdr:blipFill>",r+="<xdr:spPr>",r+='<a:prstGeom prst="rect">',r+="<a:avLst/>",r+="</a:prstGeom>",r+="</xdr:spPr>",r+="</xdr:pic>",r+="<xdr:clientData/>",r+="</xdr:oneCellAnchor>",n++},a=qct(t),s;!(s=a()).done;)i();return r+="</xdr:wsDr>",r}var Sce=96,Vct=96;function Gct(e,t){var r=Sce;return Math.round(e*9525*(Sce/r)*(Vct/t))}function Kct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.images,r=t===void 0?[]:t,n=e.sheetId;return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+r.map(function(i,a){return'<Relationship Id="rId'.concat(a+1,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="../media/').concat(Txe(i,{sheetId:n,sheetImages:r}),'"/>')}).join("")+"</Relationships>"}function Zct(e){var t=e.id,r=e.images;return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+(r?'<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'.concat(t,'.xml"/>'):"")+"</Relationships>"}function Oxe(e){return Rxe(Axe(e),{attribute:!1})}function Yct(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Xct(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xct(e,t){if(e){if(typeof e=="string")return Ece(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ece(e,t):void 0}}function Ece(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jct(e){var t='<?xml version="1.0"?>';t+='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';for(var r=Yct(e),n;!(n=r()).done;){var i=n.value,a=i.trim().length===i.length?"":' xml:space="preserve"';t+="<si><t".concat(a,">"),t+=Oxe(i),t+="</t></si>"}return t+="</sst>",t}var Ixe=100;function Qct(e){var t=e.fontFamily,r=e.fontSize,n=!!(t||r);t===void 0&&(t="Calibri"),r===void 0&&(r=12);var i=[],a={},s=[],o={},l=[],u={},f=[],h={},p=[],m={};l.push({size:r,family:t,custom:n}),u["-:-"]=0,f.push({}),h["-"]=0,p.push({left:{},right:{},top:{},bottom:{}}),m["-:-/-:-/-:-/-:-"]=0,f.push({gray125:!0});function v(w,x){var T=w.align,A=w.alignVertical,P=w.textRotation,S=w.indent,E=w.wrap,_=w.fontFamily,R=w.fontSize,O=w.fontWeight,F=w.fontStyle,$=w.color,z=w.backgroundColor,q=w.borderColor,Z=w.borderStyle,V=w.leftBorderColor,J=w.leftBorderStyle,fe=w.rightBorderColor,ue=w.rightBorderStyle,pe=w.topBorderColor,ve=w.topBorderStyle,le=w.bottomBorderColor,se=w.bottomBorderStyle,ge=x.format,_e="".concat(_||"-",":").concat(R||"-",":").concat(O||"-",":").concat(F||"-",":").concat($||"-"),ke=z||"-",Ge="".concat(pe||q||"-",":").concat(ve||Z||"-")+"/"+"".concat(fe||q||"-",":").concat(ue||Z||"-")+"/"+"".concat(le||q||"-",":").concat(se||Z||"-")+"/"+"".concat(V||q||"-",":").concat(J||Z||"-"),ct="".concat(T||"-","/").concat(A||"-","/").concat(P||"-","/").concat(S||"-","/").concat(E||"-","/").concat(ge||"-","/").concat(_e,"/").concat(ke,"/").concat(Ge),$e=o[ct];if($e!==void 0)return $e;var we;ge&&(we=a[ge],we===void 0&&(we=a[ge]=String(Ixe+i.length),i.push(ge)));var Ee=n?0:void 0;(_||R||O||F||$)&&(Ee=u[_e],Ee===void 0&&(Ee=u[_e]=String(l.length),l.push({custom:!0,size:R||r,family:_||t,weight:O,style:F,color:$})));var Re;z&&(Re=h[ke],Re===void 0&&(Re=h[ke]=String(f.length),f.push({color:z})));var ft;return(q||Z||V||J||fe||ue||pe||ve||le||se)&&(ft=m[Ge],ft===void 0&&(ft=m[Ge]=String(p.length),p.push({left:{style:J||Z,color:V||q},right:{style:ue||Z,color:fe||q},top:{style:ve||Z,color:pe||q},bottom:{style:se||Z,color:le||q}}))),s.push({fontId:Ee,fillId:Re,borderId:ft,align:T,alignVertical:A,textRotation:P,indent:S,wrap:E,formatId:we}),o[ct]=String(s.length-1)}return v({},{}),{getStyles:function(){return{formats:i,styles:s,fonts:l,fills:f,borders:p}},getStyle:v}}function VR(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=eft(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eft(e,t){if(e){if(typeof e=="string")return Cce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cce(e,t):void 0}}function Cce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tft(e){var t=e.formats,r=e.styles,n=e.fonts,i=e.fills,a=e.borders,s='<?xml version="1.0" ?>';if(s+='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',t.length>0){s+='<numFmts count="'.concat(t.length,'">');for(var o=0;o<t.length;o++)s+='<numFmt numFmtId="'.concat(Ixe+o,'" formatCode="').concat(cp(t[o]),'"/>');s+="</numFmts>"}s+='<fonts count="'.concat(n.length,'">');for(var l=VR(n),u;!(u=l()).done;){var f=u.value,h=f.size,p=f.family,m=f.color,v=f.weight,w=f.style,x=f.custom;s+="<font>",s+='<sz val="'.concat(h,'"/>'),s+="<color ".concat(m?'rgb="'+cp(A8(m))+'"':'theme="1"',"/>"),s+='<name val="'.concat(cp(p),'"/>'),s+='<family val="2"/>',x||(s+='<scheme val="minor"/>'),v==="bold"&&(s+="<b/>"),w==="italic"&&(s+="<i/>"),s+="</font>"}s+="</fonts>",s+='<fills count="'.concat(i.length,'">');for(var T=VR(i),A;!(A=T()).done;){var P=A.value,S=P.color,E=P.gray125;s+="<fill>",S?(s+='<patternFill patternType="solid">',s+='<fgColor rgb="'.concat(cp(A8(S)),'"/>'),s+='<bgColor indexed="64"/>',s+="</patternFill>"):E?s+='<patternFill patternType="gray125"/>':s+='<patternFill patternType="none"/>',s+="</fill>"}s+="</fills>",s+='<borders count="'.concat(a.length,'">');for(var _=VR(a),R;!(R=_()).done;){var O=R.value,F=O.left,$=O.right,z=O.top,q=O.bottom,Z=function($e,we){var Ee=we.style,Re=we.color;Re&&!Ee&&(Ee="thin");var ft=!!Re;return"<".concat($e)+(Ee?' style="'.concat(cp(Ee),'"'):"")+(ft?">":"/>")+(Re?'<color rgb="'.concat(cp(A8(Re)),'"/>'):"")+(ft?"</".concat($e,">"):"")};s+="<border>",s+=Z("left",F),s+=Z("right",$),s+=Z("top",z),s+=Z("bottom",q),s+="<diagonal/>",s+="</border>"}s+="</borders>",s+='<cellXfs count="'.concat(r.length,'">');for(var V=VR(r),J;!(J=V()).done;){var fe=J.value,ue=fe.fontId,pe=fe.fillId,ve=fe.borderId,le=fe.align,se=fe.alignVertical,ge=fe.textRotation,_e=fe.indent,ke=fe.wrap,Ge=fe.formatId;s+="<xf "+[Ge!==void 0?'numFmtId="'.concat(Ge,'"'):void 0,Ge!==void 0?'applyNumberFormat="1"':void 0,ue!==void 0?'fontId="'.concat(ue,'"'):void 0,ue!==void 0?'applyFont="1"':void 0,pe!==void 0?'fillId="'.concat(pe,'"'):void 0,pe!==void 0?'applyFill="1"':void 0,ve!==void 0?'borderId="'.concat(ve,'"'):void 0,ve!==void 0?'applyBorder="1"':void 0,le||se||ge||_e||ke?'applyAlignment="1"':void 0].filter(function(ct){return ct}).join(" ")+">"+(le||se||ge||_e||ke?"<alignment"+(le?' horizontal="'.concat(cp(le),'"'):"")+(se?' vertical="'.concat(cp(se),'"'):"")+(ge?' textRotation="'.concat(nft(rft(ge)),'"'):"")+(_e?' indent="'.concat(cp(String(_e)),'"'):"")+(ke?' wrapText="1"':"")+"/>":"")+"</xf>"}return s+="</cellXfs>",s+="</styleSheet>",s}function A8(e){if(e[0]!=="#")throw new Error('Color "'.concat(e,'" must start with a "#"'));return"FF".concat(e.slice(1).toUpperCase())}function rft(e){if(!(e>=-90&&e<=90))throw new Error("Unsupported text rotation angle: ".concat(e,". Values from -90 to 90 are supported."));return e}function nft(e){return e<0?90-e:e}function Y2(e){return Object.keys(e).map(function(t){return"".concat(t,'="').concat(cp(String(e[t])),'"')}).reduce(function(t,r){return t+" "+r},"")}function mI(e,t){return"".concat(Mxe(e)).concat(t)}var Pce=26;function Mxe(e){if(typeof e!="number")return"";var t=Math.floor(e/Pce),r=String.fromCharCode(97+e%Pce).toUpperCase();return t===0?r:Mxe(t-1)+r}var ift=70*365+19,aft=60*60*1e3,oft=24*aft;function sft(e){return e.getTime()/oft+ift}function lft(e,t){return dft(e)||fft(e,t)||cft(e,t)||uft()}function uft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cft(e,t){if(e){if(typeof e=="string")return Tce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tce(e,t):void 0}}function Tce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dft(e){if(Array.isArray(e))return e}function hft(e,t,r,n,i,a){if(r===null&&!i)return"";var s={r:mI(t,e)};if(i&&(s.s=i),r===null)return"<c".concat(Y2(s),"/>");if(n===Date&&!i)throw new Error('No "format" has been specified for a Date cell');r=mft(n,r,a),n=pft(n),n&&(s.t=n);var o=vft(n),l=lft(o,2),u=l[0],f=l[1];return"<c".concat(Y2(s),">")+u+r+f+"</c>"}function pft(e){switch(e){case String:return"s";case Number:return;case Date:return;case Boolean:return"b";case"Formula":return"f";default:throw new Error("Unknown schema type: ".concat(e&&e.name||e))}}function mft(e,t,r){switch(e){case String:if(typeof t!="string")throw new Error("Invalid cell value: ".concat(t,". Expected a string"));return r(t);case Number:if(typeof t!="number")throw new Error("Invalid cell value: ".concat(t,". Expected a number"));return String(t);case Date:if(!(t instanceof Date))throw new Error("Invalid cell value: ".concat(t,". Expected a Date"));return String(sft(t));case Boolean:if(typeof t!="boolean")throw new Error("Invalid cell value: ".concat(t,". Expected a boolean"));return t?"1":"0";case"Formula":if(typeof t!="string")throw new Error("Invalid cell value: ".concat(t,". Expected a string"));return Oxe(t);default:throw new Error("Unknown schema type: ".concat(e&&e.name||e))}}var gft=/</g;function vft(e){var t=yft(e),r=t.replace(gft,"</");return[t,r]}function yft(e){switch(e){case"inlineStr":return"<is><t>";case"f":return"<f>";default:return"<v>"}}function kxe(e){var t=e.align,r=e.alignVertical,n=e.textRotation,i=e.indent,a=e.wrap,s=e.fontFamily,o=e.fontSize,l=e.fontWeight,u=e.fontStyle,f=e.color,h=e.backgroundColor,p=e.borderColor,m=e.borderStyle,v=e.leftBorderColor,w=e.leftBorderStyle,x=e.rightBorderColor,T=e.rightBorderStyle,A=e.topBorderColor,P=e.topBorderStyle,S=e.bottomBorderColor,E=e.bottomBorderStyle;if(t||r||n||i||a||s||o||l||u||f||h||p||m||v||w||x||T||A||P||S||E)return bft({align:t,alignVertical:r,textRotation:n,indent:i,wrap:a,fontFamily:s,fontSize:o,fontWeight:l,fontStyle:u,color:f,backgroundColor:h,borderColor:p,borderStyle:m,leftBorderColor:v,leftBorderStyle:w,rightBorderColor:x,rightBorderStyle:T,topBorderColor:A,topBorderStyle:P,bottomBorderColor:S,bottomBorderStyle:E})}function bft(e){var t={};for(var r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function b9(e){"@babel/helpers - typeof";return b9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b9(e)}function _ft(e,t,r){var n=r.getStyle,i=r.getSharedString,a=r.customFont,s=r.dateFormat,o=r.usesSchema,l=t+1,u,f=e.map(function(p,m){if(p==null)return"";var v=p.height,w=kxe(p),x=p.type,T=p.value,A=p.format;if(wft(T)?T=null:x===void 0&&(o||(x=xft(T)),x===void 0&&(x=String,T=String(T))),A){if(x!==Date&&x!==Number&&x!==String&&x!=="Formula")throw new Error('`format` can only be used on `Date`, `Number`, `String` or `"Formula"` cells');if(x===String&&A!=="@")throw new Error('`String` cells only support "@" `format`')}else x===Date&&(A=s);var P;return(A||a||w)&&(P=n(w||{},{format:A})),v&&(u===void 0||u<v)&&(u=v),hft(l,m,T,x,P,i)}).join(""),h={r:l};return u&&(h.ht=u,h.customHeight=1),"<row".concat(Y2(h),">")+f+"</row>"}function wft(e){return e==null||e===""}function xft(e){switch(b9(e)){case"string":return String;case"number":return Number;case"boolean":return Boolean;default:if(e instanceof Date)return Date}}function X2(e){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X2(e)}function Rce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rce(Object(r),!0).forEach(function(n){Sft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sft(e,t,r){return(t=Eft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eft(e){var t=Cft(e,"string");return X2(t)=="symbol"?t:t+""}function Cft(e,t){if(X2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pft(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Tft(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tft(e,t){if(e){if(typeof e=="string")return Ace(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ace(e,t):void 0}}function Ace(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rft(e,t){var r=t.schema,n=t.getHeaderStyle,i=t.getStyle,a=t.getSharedString,s=t.customFont,o=t.dateFormat;if(r){for(var l=[],u=Pft(r),f;!(f=u()).done;){var h=f.value;if(h.column){l=[r.map(function(p){return GR({type:String,value:p.column,align:p.align},n?n(p):Aft)})];break}}e=l.concat(e.map(function(p){return r.map(function(m){return GR(GR(GR({},m),m.getCellStyle?m.getCellStyle(p):void 0),{},{value:m.value(p)})})}))}return e.map(function(p,m){return _ft(p,m,{getStyle:i,getSharedString:a,customFont:s,dateFormat:o,usesSchema:r!==void 0})}).join("")}var Aft={fontWeight:"bold"},Oft=14;function Ift(e,t){if(!e||(e.type===Date&&!e.width&&(e.width=Oft),!e.width))return"";var r=t+1;return'<col min="'.concat(r,'" max="').concat(r,'" width="').concat(e.width,'" customWidth="1"/>')}function Mft(e){var t=e.schema,r=e.columns;if(t||r){var n=(t||r).map(Ift).join("");if(n)return"<cols>".concat(n,"</cols>")}return""}function kft(e,t){var r=t.schema,n=[];if(r)return{data:e,mergedCells:n};for(var i=function(){e=e.slice();for(var v=0;v<e.length;)e[v]=e[v].slice(),v++;return i=function(){return e},e},a=0;a<e.length;){for(var s=e[a],o=0;o<s.length;){var l=s[o];if(l){var u=l.span,f=u===void 0?1:u,h=l.rowSpan,p=h===void 0?1:h;(f>1||p>1)&&(Dft({data:e,rowIndex:a,columnIndex:o,span:f,rowSpan:p,cloneData:i}),n.push([[a,o],[a+(p?p-1:0),o+(f?f-1:0)]]))}o++}a++}return{data:e,mergedCells:n}}function Dft(e){var t=e.data,r=e.rowIndex,n=e.columnIndex,i=e.span,a=e.rowSpan,s=e.cloneData,o=kxe(t[r][n]);o&&(t=s());for(var l=r;l<=r+(a-1);){for(var u=n;u<=n+(i-1);){var f=t[l][u];if(l>r||u>n){if(f!=null)throw new Error("[write-excel-file] When using `span` or `rowSpan` parameters, all hidden overlapped cells should be represented by `null`s or `undefined`s. Cell at row ".concat(r+1," and column ").concat(n+1," is configured with `span` ").concat(i," and `rowSpan` ").concat(a,". Cell at row ").concat(l+1," and column ").concat(u+1," is neither `null` nor `undefined`: ").concat(JSON.stringify(f)));o&&(t[l][u]=o)}u++}l++}}function Fft(e,t){return zft(e)||$ft(e,t)||Nft(e,t)||Lft()}function Lft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nft(e,t){if(e){if(typeof e=="string")return Oce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oce(e,t):void 0}}function Oce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $ft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function zft(e){if(Array.isArray(e))return e}function Bft(e){return e.length===0?"":'<mergeCells count="'.concat(e.length,'">')+e.map(function(t){var r=Fft(t,2),n=r[0],i=r[1],a=mI(n[1],n[0]+1)+":"+mI(i[1],i[0]+1);return'<mergeCell ref="'.concat(a,'"/>')}).join("")+"</mergeCells>"}function jft(e){var t=e.sheetId,r=e.orientation,n="";if(r){var i=.7,a=.7,s=.75,o=.75,l=.3,u=.3;n+="<pageMargins",n+=' left="'.concat(i,'"'),n+=' right="'.concat(a,'"'),n+=' top="'.concat(s,'"'),n+=' bottom="'.concat(o,'"'),n+=' header="'.concat(l,'"'),n+=' footer="'.concat(u,'"'),n+="/>"}if(r){var f=9;n+="<pageSetup",n+=' paperSize="'.concat(f,'"'),n+=' orientation="'.concat(cp(r),'"'),n+=' r:id="rId'.concat(t,'"'),n+="/>"}return n}function Uft(e){var t=e.stickyRowsCount,r=e.stickyColumnsCount,n=e.showGridLines,i=e.rightToLeft;if(!t&&!r&&n!==!1&&!i)return"";var a="",s={tabSelected:1,workbookViewId:0};n===!1&&(s.showGridLines=!1),i&&(s.rightToLeft=1);var o={ySplit:t||0,xSplit:r||0,topLeftCell:mI(r||0,(t||0)+1),activePane:"bottomRight",state:"frozen"};return a+="<sheetViews>",a+="<sheetView".concat(Y2(s),">"),a+="<pane".concat(Y2(o),"/>"),a+="</sheetView>",a+="</sheetViews>",a}function qft(e){var t=e.images;return t?'<drawing r:id="rId1"/>':""}var Hft=`<?xml version="1.0" ?>
<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main">{views}{columnsDescription}<sheetData>{data}</sheetData>{mergedCellsDescription}{layout}{drawing}</worksheet>`;function Wft(e,t){var r=t.schema,n=t.columns,i=t.images,a=t.getHeaderStyle,s=t.getStyle,o=t.getSharedString,l=t.customFont,u=t.dateFormat,f=t.orientation,h=t.stickyRowsCount,p=t.stickyColumnsCount,m=t.showGridLines,v=t.rightToLeft,w=t.sheetId;Vft(e,{schema:r});var x=kft(e,{schema:r}),T=x.data,A=x.mergedCells;return Hft.replace("{data}",Rft(T,{schema:r,getHeaderStyle:a,getStyle:s,getSharedString:o,customFont:l,dateFormat:u})).replace("{views}",Uft({stickyRowsCount:h,stickyColumnsCount:p,showGridLines:m,rightToLeft:v})).replace("{columnsDescription}",Mft({schema:r,columns:n})).replace("{mergedCellsDescription}",Bft(A)).replace("{layout}",jft({sheetId:w,orientation:f})).replace("{drawing}",qft({images:i}))}function Vft(e,t){var r=t.schema;if(r){if(!Array.isArray(e))throw new TypeError("Expected an array of objects")}else{if(!Array.isArray(e))throw new TypeError("Expected an array of arrays");if(e.length>0&&!Array.isArray(e[0]))throw new TypeError("Expected an array of arrays")}}function Gft(){var e=[],t={};return{getSharedStrings:function(){return e},getSharedString:function(n){var i=t[n];return i===void 0&&(i=String(e.length),t[n]=i,e.push(n)),i}}}var Kft=/[\[\]\/\\:*?]+/;function Zft(e){if(!e)throw new Error("Sheet name can't be empty");if(e.length>31)throw new Error('Sheet name "'.concat(e,`" can't be longer than 31 characters`));if(Kft.test(e))throw new Error('Sheet name "'.concat(e,'" contains illegal characters: []/\\:*?'))}function Ice(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Yft(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yft(e,t){if(e){if(typeof e=="string")return Mce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mce(e,t):void 0}}function Mce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Xft(e){var t=e.data,r=e.sheetName,n=e.sheetNames,i=e.schema,a=e.columns,s=e.images,o=e.headerStyle,l=e.getHeaderStyle,u=e.fontFamily,f=e.fontSize,h=e.orientation,p=e.stickyRowsCount,m=e.stickyColumnsCount,v=e.showGridLines,w=e.rightToLeft,x=e.dateFormat,T=Gft(),A=T.getSharedStrings,P=T.getSharedString,S=Qct({fontFamily:u,fontSize:f}),E=S.getStyles,_=S.getStyle;if(n&&a&&!Array.isArray(a[0]))throw new Error('In a "write multiple sheets" scenario, `columns` parameter must be an array of `columns` for each sheet.');n||(n=[r||"Sheet1"],t=[t],a&&(a=[a]),i&&(i=[i]),s&&(s=[s])),o&&!l&&(l=function(){return o});for(var R=Ice(n),O;!(O=R()).done;){var F=O.value;Zft(F)}for(var $=[],z=0,q=Ice(n),Z;!(Z=q()).done;)Z.value,$.push(Wft(t[z],{schema:i&&i[z],columns:a&&a[z],images:s&&s[z],getHeaderStyle:l,getStyle:_,getSharedString:P,customFont:u||f,dateFormat:x,orientation:h,stickyRowsCount:p,stickyColumnsCount:m,showGridLines:v,rightToLeft:w,sheetId:z+1})),z++;return{sheets:n.map(function(V,J){return{id:J+1,name:V,data:$[J],images:s&&s[J]}}),getSharedStrings:A,getStyles:E}}var Jft=["fileName"];function kce(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Qft(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qft(e,t){if(e){if(typeof e=="string")return Dce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dce(e,t):void 0}}function Dce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function edt(e,t){if(e==null)return{};var r,n,i=tdt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tdt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $St(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.fileName,n=edt(t,Jft);return rdt(e,n).then(function(i){return r?Act.saveAs(i,r):i})}function rdt(e,t){var r=t.sheet,n=t.sheets,i=t.schema,a=t.columns,s=t.images,o=t.headerStyle,l=t.getHeaderStyle,u=t.fontFamily,f=t.fontSize,h=t.orientation,p=t.stickyRowsCount,m=t.stickyColumnsCount,v=t.showGridLines,w=t.rightToLeft,x=t.dateFormat,T=new Cct,A=Xft({data:e,sheetName:r,sheetNames:n,schema:i,columns:a,images:s,headerStyle:o,getHeaderStyle:l,fontFamily:u,fontSize:f,orientation:h,stickyRowsCount:p,stickyColumnsCount:m,showGridLines:v,rightToLeft:w,dateFormat:x}),P=A.sheets,S=A.getSharedStrings,E=A.getStyles;T.file("_rels/.rels",zct),T.file("[Content_Types].xml",jct({images:s,sheets:P}));var _=T.folder("xl");_.file("_rels/workbook.xml.rels",$ct({sheets:P})),_.file("workbook.xml",Nct({sheets:P,stickyRowsCount:p,stickyColumnsCount:m})),_.file("styles.xml",tft(E())),_.file("sharedStrings.xml",Jct(S()));for(var R=kce(P),O;!(O=R()).done;){var F=O.value,$=F.id,z=F.data,q=F.images;if(_.file("worksheets/sheet".concat($,".xml"),z),_.file("worksheets/_rels/sheet".concat($,".xml.rels"),Zct({id:$,images:q})),q){_.file("drawings/drawing".concat($,".xml"),Wct({images:q})),_.file("drawings/_rels/drawing".concat($,".xml.rels"),Kct({images:q,sheetId:$}));for(var Z=kce(q),V;!(V=Z()).done;){var J=V.value;_.file("media/".concat(Txe(J,{sheetId:$,sheetImages:q})),J.content)}}}return T.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",compression:"deflate"})}function eS(e){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eS(e)}function ndt(e,t){if(eS(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eS(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e){var t=ndt(e,"string");return eS(t)=="symbol"?t:t+""}function va(e,t,r){return(t=Dxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function idt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function th(e,t){if(e==null)return{};var r,n,i=idt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var O8,Fce;function adt(){if(Fce)return O8;Fce=1;var e="Expected a function",t=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,l=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl,u=typeof self=="object"&&self&&self.Object===Object&&self,f=l||u||Function("return this")(),h=Object.prototype,p=h.toString,m=Math.max,v=Math.min,w=function(){return f.Date.now()};function x(E,_,R){var O,F,$,z,q,Z,V=0,J=!1,fe=!1,ue=!0;if(typeof E!="function")throw new TypeError(e);_=S(_)||0,T(R)&&(J=!!R.leading,fe="maxWait"in R,$=fe?m(S(R.maxWait)||0,_):$,ue="trailing"in R?!!R.trailing:ue);function pe($e){var we=O,Ee=F;return O=F=void 0,V=$e,z=E.apply(Ee,we),z}function ve($e){return V=$e,q=setTimeout(ge,_),J?pe($e):z}function le($e){var we=$e-Z,Ee=$e-V,Re=_-we;return fe?v(Re,$-Ee):Re}function se($e){var we=$e-Z,Ee=$e-V;return Z===void 0||we>=_||we<0||fe&&Ee>=$}function ge(){var $e=w();if(se($e))return _e($e);q=setTimeout(ge,le($e))}function _e($e){return q=void 0,ue&&O?pe($e):(O=F=void 0,z)}function ke(){q!==void 0&&clearTimeout(q),V=0,O=Z=F=q=void 0}function Ge(){return q===void 0?z:_e(w())}function ct(){var $e=w(),we=se($e);if(O=arguments,F=this,Z=$e,we){if(q===void 0)return ve(Z);if(fe)return q=setTimeout(ge,_),pe(Z)}return q===void 0&&(q=setTimeout(ge,_)),z}return ct.cancel=ke,ct.flush=Ge,ct}function T(E){var _=typeof E;return!!E&&(_=="object"||_=="function")}function A(E){return!!E&&typeof E=="object"}function P(E){return typeof E=="symbol"||A(E)&&p.call(E)==r}function S(E){if(typeof E=="number")return E;if(P(E))return t;if(T(E)){var _=typeof E.valueOf=="function"?E.valueOf():E;E=T(_)?_+"":_}if(typeof E!="string")return E===0?E:+E;E=E.replace(n,"");var R=a.test(E);return R||s.test(E)?o(E.slice(2),R?2:8):i.test(E)?t:+E}return O8=x,O8}adt();var odt=["justify","left","right"],Fxe="label",sdt=["lg","sm"],I8,Lce;function ldt(){if(Lce)return I8;Lce=1;var e=function(t,r,n,i,a,s,o,l){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,i,a,s,o,l],h=0;u=new Error(r.replace(/%s/g,function(){return f[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return I8=e,I8}var udt=ldt();const Lxe=pl(udt);function _9(e){return typeof e=="string"?e:Fxe}function gI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Nce=0;function mm(e){return typeof e=="function"}function Yg(e){return typeof e=="string"}function Um(){}function LA(e,t){var r={};return t.forEach(function(n){r[n]=e[n]}),r}function cdt(e){return Nce+=1,String(e)+Nce}function sy(e,t){if(!Yg(e)&&(gI(e,"paginationOption")||gI(e,"customOption")))return e[_9(t)];var r;return mm(t)?r=t(e):Yg(e)?r=e:r=e[t],Yg(r)||Lxe(!1),r}function fdt(e,t){var r=t.allowNew,n=t.labelKey,i=t.text;return!r||!i.trim()?!1:mm(r)?r(e,t):!e.some(function(a){return sy(a,n)===i})}var M8,$ce;function ddt(){return $ce||($ce=1,M8=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),M8}var hdt=ddt();const EC=pl(hdt);function j_(e,t){if(!Yg(e))return e[t]}var pdt=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}].reduce(function(e,t){var r=t.base,n=t.letters;return n.split("").forEach(function(i){e[i]=r}),e},{}),mdt="̀-ͯ",gdt="゙゚";function vI(e){return e.normalize("NFD").replace(new RegExp("[".concat(mdt).concat(gdt,"]"),"g"),"").replace(/[^\u0000-\u007E]/g,function(t){return pdt[t]||t})}var zce={};function gm(e,t){if(!e&&t.indexOf("deprecated")!==-1){if(zce[t])return;zce[t]=!0}for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];bxe.apply(void 0,[e,"[react-bootstrap-typeahead] ".concat(t)].concat(n))}function k8(e,t,r){var n=e,i=t;return r.caseSensitive||(n=n.toLowerCase(),i=i.toLowerCase()),r.ignoreDiacritics&&(n=vI(n),i=vI(i)),i.indexOf(n)!==-1}function vdt(e,t){var r=t.filterBy,n=t.labelKey,i=t.multiple,a=t.selected,s=t.text;if(i&&a.some(function(l){return EC(l,e)}))return!1;if(mm(n))return k8(s,n(e),t);var o=r.slice();return Yg(n)&&o.indexOf(n)===-1&&o.unshift(n),Yg(e)?(gm(o.length<=1,"You cannot filter by properties when `option` is a string."),k8(s,e,t)):o.some(function(l){var u=j_(e,l);return Yg(u)||(gm(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),u=String(u)),k8(s,u,t)})}function Nxe(e){return e.selectionStart!=null}function ydt(e,t){var r=!1;return e.key==="ArrowRight"&&(r=Nxe(e.currentTarget)?e.currentTarget.selectionStart===e.currentTarget.value.length:!0),e.key==="Tab"&&(e.preventDefault(),r=!0),t?t(r,e):r}var bdt="i",D8=/[\u0300-\u036F]/;function _dt(e){return typeof e!="string"&&Lxe(!1),e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function $xe(e,t){var r=new RegExp(_dt(vI(t)),bdt),n=r.exec(vI(e));if(!n)return null;var i=n.index,a=n[0].length;if(D8.test(e)){for(var s=0;s<=i;s++)D8.test(e[s])&&(i+=1);for(var o=i;o<=i+a;o++)D8.test(e[o])&&(a+=1)}return{end:i+a,start:i}}function wdt(e){var t=e.activeIndex,r=e.initialItem,n=e.isFocused,i=e.isMenuShown,a=e.labelKey,s=e.multiple,o=e.selected,l=e.text;if(!l||!n||!i||!r||!Yg(r)&&gI(r,"customOption")||!Yg(r)&&r.disabled||t>-1||o.length&&!s)return"";var u=sy(r,a),f=$xe(u.toLowerCase(),l.toLowerCase());return f&&f.start===0?l+u.slice(f.end,u.length):""}var F8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Bce;function xdt(){return Bce||(Bce=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(F8)),F8.exports}var Sdt=xdt();const iv=pl(Sdt);function zxe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"".concat(e,"-item-").concat(t)}var Edt=["activeIndex","id","isFocused","isMenuShown","multiple","onClick","onFocus","placeholder"];function jce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jce(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Cdt=function(t){var r=t.activeIndex,n=t.id,i=t.isFocused,a=t.isMenuShown,s=t.multiple,o=t.onClick,l=t.onFocus,u=t.placeholder,f=th(t,Edt);return function(){var h,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=gI(p,"className")?String(p.className):void 0;return KR(KR(KR(KR({autoComplete:"off",placeholder:u,type:"text"},p),f),{},{"aria-activedescendant":r>=0?zxe(n,r):void 0,"aria-autocomplete":"both","aria-expanded":a,"aria-haspopup":"listbox","aria-multiselectable":s||void 0,"aria-owns":a?n:void 0,className:iv((h={},va(h,m||"",!s),va(h,"focus",i),h))},s&&{inputClassName:m}),{},{onClick:o,onFocus:l,role:"combobox"})}};function Pdt(e){var t=e.activeItem,r=e.labelKey,n=e.multiple,i=e.selected,a=e.text;return t?sy(t,r):!n&&i.length&&i[0]?sy(i[0],r):a}function Uce(e){var t=e.allowNew,r=e.highlightOnlyResult,n=e.results;return!r||t?!1:n.length===1&&!j_(n[0],"disabled")}function Tdt(e,t){return!t||t>=e.length?e:e.slice(0,t)}function Rdt(e,t){var r=t[e];return!!r&&!!j_(r,"disabled")}function qce(e,t,r){for(var n=e;Rdt(n,r);)n+=t==="ArrowUp"?-1:1;return n}function Adt(e,t,r){var n=e;return n+=t==="ArrowUp"?-1:1,n=qce(n,t,r),n===r.length?n=-1:n===-2&&(n=r.length-1,n=qce(n,t,r)),n}function Odt(e){var t=e.open,r=e.minLength,n=e.showMenu,i=e.text;return t||t===!1?t:i.length<r?!1:n}function YV(e){e.preventDefault()}function XV(e){return e==="lg"}function Bxe(e){return e==="sm"}var Idt=["className","isInvalid","isValid","size"];function Hce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hce(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jxe(e){var t=e.className,r=e.isInvalid,n=e.isValid,i=e.size,a=th(e,Idt);return Wce(Wce({},a),{},{className:iv("form-control","rbt-input",{"form-control-lg":XV(i),"form-control-sm":Bxe(i),"is-invalid":r,"is-valid":n},t)})}function Mdt(e,t){var r=!e&&t,n=e&&!t,i,a,s;r?(i="uncontrolled",a="controlled",s="an"):(i="controlled",a="uncontrolled",s="a");var o="You are changing ".concat(s," ").concat(i," typeahead to be ").concat(a,". ")+"Input elements should not switch from ".concat(i," to ").concat(a," (or vice versa). ")+"Decide between using a controlled or uncontrolled element for the lifetime of the component.";gm(!(r||n),o)}var kdt=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],Uxe=Wr.oneOf(sdt);function Iv(e,t){return function(r,n,i){Wr.checkPropTypes(va({},n,e),r,"prop",i),mm(t)&&t(r,n,i)}}function Ddt(e){var t=e.caseSensitive,r=e.filterBy;gm(!t||typeof r!="function","Your `filterBy` function will override the `caseSensitive` prop.")}function Fdt(e){var t=e.defaultInputValue,r=e.defaultSelected,n=e.multiple,i=e.selected,a=r.length?"defaultSelected":"selected";gm(!(!n&&t&&(r.length||i&&i.length)),"`defaultInputValue` will be overridden by the value from `".concat(a,"`."))}function Ldt(e){var t=e.defaultSelected,r=e.multiple;gm(r||t.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")}function Ndt(e){var t=e.allowNew,r=e.highlightOnlyResult;gm(!(r&&t),"`highlightOnlyResult` will not work with `allowNew`.")}function $dt(e){var t=e.filterBy,r=e.ignoreDiacritics;gm(r||typeof t!="function","Your `filterBy` function will override the `ignoreDiacritics` prop.")}function zdt(e){var t=e.inputProps;t&&Object.prototype.toString.call(t)==="[object Object]"&&kdt.forEach(function(r){var n=r.alt,i=r.prop,a=n?" Use the top-level `".concat(n,"` prop instead."):null;gm(!t[i],"The `".concat(i,"` property of `inputProps` will be ignored.").concat(a))})}function qxe(e,t,r){gm(e[t]!=null,"The prop `".concat(t,"` is required to make `").concat(r,"` ")+"accessible for users of assistive technologies such as screen readers.")}function Bdt(e){var t=e.allowNew,r=e.labelKey;gm(!(mm(r)&&t),"`labelKey` must be a string when `allowNew={true}`.")}var Ix=Wr.oneOfType([Wr.object,Wr.string]);function jdt(e){var t=e.multiple,r=e.onChange,n=e.selected;gm(t||!n||n.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),gm(!n||n&&mm(r),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")}Wr.number,Wr.bool.isRequired,Wr.number,Wr.func.isRequired,Wr.arrayOf(Ix),Wr.node,Wr.node,Wr.bool;function Hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Udt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dxe(n.key),n)}}function Wxe(e,t,r){return t&&Udt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ts(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w9(e,t){return w9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},w9(e,t)}function Vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w9(e,t)}function Gxe(e,t){if(t&&(eS(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ts(e)}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tS(e)}var qdt={activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:Um,onAdd:Um,onInitialItemChange:Um,onMenuItemClick:Um,setItem:Um},Kxe=ne.createContext(qdt),Zxe=function(){return ne.useContext(Kxe)};function Vce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vce(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Hdt=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onClick","onFocus","onKeyDown","placeholder"],Wdt=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],Vdt=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","setItem"],Gdt=function(t){var r=t.allowNew,n=t.children,i=t.initialItem,a=t.isMenuShown,s=t.onAdd,o=t.onInitialItemChange,l=t.onKeyDown,u=t.onMenuToggle,f=t.results,h=t.selectHint,p=wdt(t);ne.useEffect(function(){r||f.length||o()});var m=ne.useRef(!0);ne.useEffect(function(){if(m.current){m.current=!1;return}u(a)},[a,u]);var v=function(A){if(l(A),!!i){var P=A.key==="Enter"&&Uce(t),S=p&&ydt(A,h);(P||S)&&s(i)}},w=q1(q1({},LA(t,Wdt)),{},{getInputProps:Cdt(q1(q1({},LA(t,Hdt)),{},{onKeyDown:v,value:Pdt(t)}))}),x=q1(q1({},LA(t,Vdt)),{},{hintText:p,isOnlyResult:Uce(t)});return ze.createElement(Kxe.Provider,{value:x},mm(n)?n(w):n)};function Gce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gce(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yI(e){var t=e.defaultInputValue,r=e.defaultOpen,n=e.defaultSelected,i=e.maxResults,a=e.multiple,s=e.selected?e.selected.slice():n.slice(),o=t;return!a&&s.length&&(o=sy(s[0],e.labelKey),s.length>1&&(s=s.slice(0,1))),{activeIndex:-1,activeItem:void 0,initialItem:void 0,isFocused:!1,selected:s,showMenu:r,shownResults:i,text:o}}function Kce(e,t){return Cb(Cb({},yI(t)),{},{isFocused:e.isFocused,selected:[],text:""})}function Zce(e){return Cb(Cb({},e),{},{isFocused:!0,showMenu:!0})}function NA(e,t){var r=yI(t),n=r.activeIndex,i=r.activeItem,a=r.initialItem,s=r.shownResults;return Cb(Cb({},e),{},{activeIndex:n,activeItem:i,initialItem:a,showMenu:!1,shownResults:s})}function Kdt(e,t){return e.showMenu?NA(e,t):Cb(Cb({},e),{},{showMenu:!0})}var Zdt=["onChange"];function Yce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yce(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ydt(e){var t=Xdt();return function(){var n=tS(e),i;if(t){var a=tS(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Gxe(this,i)}}function Xdt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Jdt={allowNew:Wr.oneOfType([Wr.bool,Wr.func]),autoFocus:Wr.bool,caseSensitive:Iv(Wr.bool,Ddt),defaultInputValue:Iv(Wr.string,Fdt),defaultOpen:Wr.bool,defaultSelected:Iv(Wr.arrayOf(Ix),Ldt),filterBy:Wr.oneOfType([Wr.arrayOf(Wr.string.isRequired),Wr.func]),highlightOnlyResult:Iv(Wr.bool,Ndt),id:Iv(Wr.oneOfType([Wr.number,Wr.string]),qxe),ignoreDiacritics:Iv(Wr.bool,$dt),labelKey:Iv(Wr.oneOfType([Wr.string,Wr.func]),Bdt),maxResults:Wr.number,minLength:Wr.number,multiple:Wr.bool,onBlur:Wr.func,onChange:Wr.func,onFocus:Wr.func,onInputChange:Wr.func,onKeyDown:Wr.func,onMenuToggle:Wr.func,onPaginate:Wr.func,open:Wr.bool,options:Wr.arrayOf(Ix).isRequired,paginate:Wr.bool,selected:Iv(Wr.arrayOf(Ix),jdt)},Qdt={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:Fxe,maxResults:100,minLength:0,multiple:!1,onBlur:Um,onFocus:Um,onInputChange:Um,onKeyDown:Um,onMenuToggle:Um,onPaginate:Um,paginate:!0};function eht(e,t){var r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");r&&r.set&&r.set.call(e,t);var n=new Event("input",{bubbles:!0});e.dispatchEvent(n)}var JV=function(e){Vxe(r,e);var t=Ydt(r);function r(){var n;Hxe(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),va(Ts(n),"state",yI(n.props)),va(Ts(n),"inputNode",null),va(Ts(n),"isMenuShown",!1),va(Ts(n),"items",[]),va(Ts(n),"blur",function(){n.inputNode&&n.inputNode.blur(),n.hideMenu()}),va(Ts(n),"clear",function(){n.setState(Kce)}),va(Ts(n),"focus",function(){n.inputNode&&n.inputNode.focus()}),va(Ts(n),"getInput",function(){return n.inputNode}),va(Ts(n),"inputRef",function(o){n.inputNode=o}),va(Ts(n),"setItem",function(o,l){n.items[l]=o}),va(Ts(n),"hideMenu",function(){n.setState(NA)}),va(Ts(n),"toggleMenu",function(){n.setState(Kdt)}),va(Ts(n),"_handleActiveIndexChange",function(o){n.setState(function(l){return{activeIndex:o,activeItem:o>=0?l.activeItem:void 0}})}),va(Ts(n),"_handleActiveItemChange",function(o){EC(o,n.state.activeItem)||n.setState({activeItem:o})}),va(Ts(n),"_handleBlur",function(o){o.persist(),n.setState({isFocused:!1},function(){return n.props.onBlur(o)})}),va(Ts(n),"_handleChange",function(o){n.props.onChange&&n.props.onChange(o)}),va(Ts(n),"_handleClear",function(){n.inputNode&&eht(n.inputNode,""),n.setState(Kce,function(){n.props.multiple&&n._handleChange([])})}),va(Ts(n),"_handleClick",function(o){var l;o.persist();var u=(l=n.props.inputProps)===null||l===void 0?void 0:l.onClick;n.setState(Zce,function(){return mm(u)&&u(o)})}),va(Ts(n),"_handleFocus",function(o){o.persist(),n.setState(Zce,function(){return n.props.onFocus(o)})}),va(Ts(n),"_handleInitialItemChange",function(o){EC(o,n.state.initialItem)||n.setState({initialItem:o})}),va(Ts(n),"_handleInputChange",function(o){o.persist();var l=o.currentTarget.value,u=n.props,f=u.multiple,h=u.onInputChange,p=n.state.selected.length&&!f;n.setState(function(m,v){var w=yI(v),x=w.activeIndex,T=w.activeItem,A=w.shownResults;return{activeIndex:x,activeItem:T,selected:p?[]:m.selected,showMenu:!0,shownResults:A,text:l}},function(){h(l,o),p&&n._handleChange([])})}),va(Ts(n),"_handleKeyDown",function(o){var l=n.state.activeItem;if(!n.isMenuShown){(o.key==="ArrowUp"||o.key==="ArrowDown")&&n.setState({showMenu:!0}),n.props.onKeyDown(o);return}switch(o.key){case"ArrowUp":case"ArrowDown":o.preventDefault(),n._handleActiveIndexChange(Adt(n.state.activeIndex,o.key,n.items));break;case"Enter":o.preventDefault(),l&&n._handleMenuItemSelect(l,o);break;case"Escape":case"Tab":n.hideMenu();break}n.props.onKeyDown(o)}),va(Ts(n),"_handleMenuItemSelect",function(o,l){j_(o,"paginationOption")?n._handlePaginate(l):n._handleSelectionAdd(o)}),va(Ts(n),"_handlePaginate",function(o){o.persist(),n.setState(function(l,u){return{shownResults:l.shownResults+u.maxResults}},function(){return n.props.onPaginate(o,n.state.shownResults)})}),va(Ts(n),"_handleSelectionAdd",function(o){var l=n.props,u=l.multiple,f=l.labelKey,h,p=o,m;!Yg(p)&&p.customOption&&(p=G0(G0({},p),{},{id:cdt("new-id-")})),u?(h=n.state.selected.concat(p),m=""):(h=[p],m=sy(p,f)),n.setState(function(v,w){return G0(G0({},NA(v,w)),{},{initialItem:p,selected:h,text:m})},function(){return n._handleChange(h)})}),va(Ts(n),"_handleSelectionRemove",function(o){var l=n.state.selected.filter(function(u){return!EC(u,o)});n.focus(),n.setState(function(u,f){return G0(G0({},NA(u,f)),{},{selected:l})},function(){return n._handleChange(l)})}),n}return Wxe(r,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"componentDidUpdate",value:function(i,a){var s=this.props,o=s.labelKey,l=s.multiple,u=s.selected;Mdt(u,i.selected),u&&!EC(u,a.selected)&&(this.setState({selected:u}),l||this.setState({text:u.length?sy(u[0],o):""}))}},{key:"render",value:function(){var i=this.props;i.onChange;var a=th(i,Zdt),s=G0(G0({},a),this.state),o=s.filterBy,l=s.labelKey,u=s.options,f=s.paginate,h=s.shownResults,p=s.text;this.isMenuShown=Odt(s),this.items=[];var m=[];if(this.isMenuShown){var v=mm(o)?o:vdt;m=u.filter(function(T){return v(T,s)});var w=f&&m.length>h;if(m=Tdt(m,h),fdt(m,s)&&m.push(va({customOption:!0},_9(l),p)),w){var x;m.push((x={},va(x,_9(l),""),va(x,"paginationOption",!0),x))}}return ze.createElement(Gdt,Pu({},s,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onClick:this._handleClick,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:m,setItem:this.setItem,toggleMenu:this.toggleMenu}))}}]),r}(ze.Component);va(JV,"propTypes",Jdt);va(JV,"defaultProps",Qdt);var tht=["className","label","onClick","onKeyDown","size"],rht={label:Wr.string,onClick:Wr.func,onKeyDown:Wr.func,size:Uxe},QV=function(t){var r=t.className,n=t.label,i=n===void 0?"Clear":n,a=t.onClick,s=t.onKeyDown,o=t.size,l=th(t,tht);return ze.createElement("button",Pu({},l,{"aria-label":i,className:iv("close","btn-close","rbt-close",{"rbt-close-lg":XV(o),"rbt-close-sm":Bxe(o)},r),onClick:function(f){f.stopPropagation(),a&&a(f)},onKeyDown:function(f){f.key==="Backspace"&&f.preventDefault(),s&&s(f)},type:"button"}),ze.createElement("span",{"aria-hidden":"true",className:"rbt-close-content"},"×"),ze.createElement("span",{className:"sr-only visually-hidden"},i))};QV.propTypes=rht;var nht={label:Wr.string},Yxe=function(t){var r=t.label,n=r===void 0?"Loading...":r;return ze.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},ze.createElement("span",{className:"sr-only visually-hidden"},n))};Yxe.propTypes=nht;function iht(e){if(Array.isArray(e))return e}function aht(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oht(e,t){if(e){if(typeof e=="string")return Xce(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xce(e,t):void 0}}function sht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e,t){return iht(e)||aht(e,t)||oht(e,t)||sht()}function lht(e){var t=[];return e.flip&&t.push(w1e()),e.align!=="right"&&e.align!=="left"&&t.push(x1e({apply:function(n){var i=n.rects,a=n.elements;Object.assign(a.floating.style,{width:"".concat(i.reference.width,"px")})}})),t}function uht(e){var t=e.align==="right"?"end":"start",r=e.dropup?"top":"bottom";return"".concat(r,"-").concat(t)}function cht(e,t){var r=ne.useState(null),n=Xxe(r,2),i=n[0],a=n[1],s=b1e({elements:{floating:i,reference:e},middleware:lht(t),placement:uht(t),strategy:t.positionFixed?"fixed":"absolute",whileElementsMounted:v1e}),o=s.floatingStyles;return{innerRef:a,style:o}}var fht=["referenceElement","isMenuShown"],dht=typeof Element>"u"?Um:Element,hht={align:Wr.oneOf(odt),children:Wr.func.isRequired,dropup:Wr.bool,flip:Wr.bool,isMenuShown:Wr.bool,positionFixed:Wr.bool,referenceElement:Wr.instanceOf(dht)},Jxe=function(t){var r=t.referenceElement,n=t.isMenuShown,i=th(t,fht),a=cht(r,i);return n?i.children(a):null};Jxe.propTypes=hht;const pht=!!(typeof window<"u"&&window.document&&window.document.createElement);var x9=!1,S9=!1;try{var L8={get passive(){return x9=!0},get once(){return S9=x9=!0}};pht&&(window.addEventListener("test",L8,L8),window.removeEventListener("test",L8,!0))}catch{}function mht(e,t,r,n){if(n&&typeof n!="boolean"&&!S9){var i=n.once,a=n.capture,s=r;!S9&&i&&(s=r.__once||function o(l){this.removeEventListener(t,o,a),r.call(this,l)},r.__once=s),e.addEventListener(t,s,x9?n:a)}e.addEventListener(t,r,n)}function ght(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function CC(e,t,r,n){return mht(e,t,r,n),function(){ght(e,t,r,n)}}function Qxe(e){return e&&e.ownerDocument||document}function vht(e){const t=ne.useRef(e);return ne.useEffect(()=>{t.current=e},[e]),t}function E9(e){const t=vht(e);return ne.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Jce(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Qce=()=>{};function yht(e){return e.button===0}function bht(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const $A=e=>e&&("current"in e?e.current:e),efe={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function _ht(e,t=Qce,{disabled:r,clickTrigger:n="click"}={}){const i=ne.useRef(!1),a=ne.useRef(!1),s=ne.useCallback(u=>{const f=$A(e);bxe(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||bht(u)||!yht(u)||!!Jce(f,u.target)||a.current,a.current=!1},[e]),o=E9(u=>{const f=$A(e);f&&Jce(f,u.target)?a.current=!0:a.current=!1}),l=E9(u=>{i.current||t(u)});ne.useEffect(()=>{var u,f;if(r||e==null)return;const h=Qxe($A(e)),p=h.defaultView||window;let m=(u=p.event)!=null?u:(f=p.parent)==null?void 0:f.event,v=null;efe[n]&&(v=CC(h,efe[n],o,!0));const w=CC(h,n,s,!0),x=CC(h,n,A=>{if(A===m){m=void 0;return}l(A)});let T=[];return"ontouchstart"in h.documentElement&&(T=[].slice.call(h.body.children).map(A=>CC(A,"mousemove",Qce))),()=>{v==null||v(),w(),x(),T.forEach(A=>A())}},[e,r,n,s,o,l])}function wht(e){return e.code==="Escape"||e.keyCode===27}const xht=()=>{};function Sht(e,t,{disabled:r,clickTrigger:n}={}){const i=t||xht;_ht(e,i,{disabled:r,clickTrigger:n});const a=E9(s=>{wht(s)&&i(s)});ne.useEffect(()=>{if(r||e==null)return;const s=Qxe($A(e));let o=(s.defaultView||window).event;const l=CC(s,"keyup",u=>{if(u===o){o=void 0;return}a(u)});return()=>{l()}},[e,r,a])}function eSe(e,t){var r=ne.useRef(null);return Sht(r,e,t),r}var Eht=["children","onRootClose"];function Cht(e){var t=e.children,r=e.onRootClose,n=th(e,Eht),i=eSe(r,n);return t(i)}var Pht=["onBlur","onClick","onFocus","onRemove","option"];function tfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tfe(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tfe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}Wr.func,Wr.func,Wr.func,Wr.func,Ix.isRequired;function Tht(e){var t=e.onBlur,r=e.onClick,n=e.onFocus,i=e.onRemove,a=e.option,s=th(e,Pht),o=ne.useState(!1),l=Xxe(o,2),u=l[0],f=l[1],h=function(A){f(!1),t&&t(A)},p=function(A){f(!0),r&&r(A)},m=function(A){f(!0),n&&n(A)},v=function(){i&&i(a)},w=function(A){A.key==="Backspace"&&u&&(A.preventDefault(),v())},x=eSe(h,rfe(rfe({},s),{},{disabled:!u}));return{active:u,onBlur:h,onClick:p,onFocus:m,onKeyDown:w,onRemove:mm(i)?v:void 0,ref:x}}var Rht=["active","children","className","onRemove","tabIndex"],Aht=["children","option","readOnly"],Oht=["ref"];function nfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ife(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nfe(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nfe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Iht=ne.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,a=e.onRemove,s=e.tabIndex,o=th(e,Rht);return ze.createElement("div",Pu({},o,{className:iv("rbt-token","rbt-token-removeable",{"rbt-token-active":!!r},i),ref:t,tabIndex:s||0}),n,ze.createElement(QV,{className:"rbt-token-remove-button",label:"Remove",onClick:a,tabIndex:-1}))}),Mht=function(t){var r=t.children,n=t.className,i=t.disabled,a=t.href,s=iv("rbt-token",{"rbt-token-disabled":i},n);return a&&!i?ze.createElement("a",{className:s,href:a},r):ze.createElement("div",{className:s},r)},kht=function(t){var r=t.children,n=t.option,i=t.readOnly,a=th(t,Aht),s=Tht(ife(ife({},a),{},{option:n})),o=s.ref,l=th(s,Oht),u=ze.createElement("div",{className:"rbt-token-label"},r);return!a.disabled&&!i&&mm(l.onRemove)?ze.createElement(Iht,Pu({},a,l,{ref:o}),u):ze.createElement(Mht,a,u)};function ZR(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return r&&(r=r.replace(r[0],r[0].toUpperCase())),["Top","Right","Bottom","Left"].map(function(n){return e["".concat(t).concat(n).concat(r)]}).join(" ")}function Dht(e,t){var r=window.getComputedStyle(e);t.style.borderStyle=ZR(r,"border","style"),t.style.borderWidth=ZR(r,"border","width"),t.style.fontSize=r.fontSize,t.style.fontWeight=r.fontWeight,t.style.height=r.height,t.style.lineHeight=r.lineHeight,t.style.margin=ZR(r,"margin"),t.style.padding=ZR(r,"padding")}var Fht=function(){var t=Zxe(),r=t.hintText,n=t.inputNode,i=ne.useRef(null);return ne.useEffect(function(){var a=function(){i.current&&n&&(i.current.scrollLeft=n.scrollLeft)};return n==null||n.addEventListener("scroll",a),function(){n==null||n.removeEventListener("scroll",a)}},[n]),ne.useEffect(function(){n&&i.current&&Dht(n,i.current)}),{hintRef:i,hintText:r}},tSe=function(t){var r=t.children,n=t.className,i=Fht(),a=i.hintRef,s=i.hintText;return ze.createElement("div",{className:n,style:{display:"flex",flex:1,height:"100%",position:"relative"}},r,ze.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:a,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.54)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:s}))},rSe=ne.forwardRef(function(e,t){return ze.createElement("input",Pu({},e,{className:iv("rbt-input-main",e.className),ref:t}))}),Lht=["children","className","inputClassName","inputRef","referenceElementRef","selected"];function Nht(e){var t=ze.useRef(null),r=ze.useRef(null),n=jxe(e),i=n.children,a=n.className,s=n.inputClassName;n.inputRef;var o=n.referenceElementRef,l=n.selected,u=th(n,Lht);function f(m){r.current=m,e.inputRef(m)}function h(m){if(e.disabled){m.currentTarget.blur();return}var v=r.current;!v||m.currentTarget.contains(m.target)&&m.currentTarget!==m.target||(Nxe(v)&&(v.selectionStart=v.value.length),v.focus())}function p(m){if(m.key==="Backspace"&&l.length&&!e.value){var v;m.preventDefault();var w=(v=t.current)===null||v===void 0?void 0:v.children;if(w!=null&&w.length){var x=w[w.length-2];x==null||x.focus()}}e.onKeyDown&&e.onKeyDown(m)}return ze.createElement("div",{className:iv("rbt-input-multi",{disabled:e.disabled},a),onClick:h,onFocus:h,ref:o,tabIndex:-1},ze.createElement("div",{className:"rbt-input-wrapper",ref:t},i,ze.createElement(tSe,null,ze.createElement(rSe,Pu({},u,{className:s,onKeyDown:p,ref:f,style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))}var $ht=["inputRef","referenceElementRef"],zht=function(t){var r=t.inputRef,n=t.referenceElementRef,i=th(t,$ht);return ze.createElement(tSe,null,ze.createElement(rSe,Pu({},jxe(i),{ref:function(s){r(s),n(s)}})))},Bht={children:Wr.string.isRequired,highlightClassName:Wr.string,search:Wr.string.isRequired},eG=function(t){var r=t.children,n=t.highlightClassName,i=n===void 0?"rbt-highlight-text":n,a=t.search;if(!a||!r)return ze.createElement(ze.Fragment,null,r);for(var s=0,o=r,l=[];o;){var u=$xe(o,a);if(!u){l.push(o);break}var f=o.slice(0,u.start);f&&l.push(f);var h=o.slice(u.start,u.end);l.push(ze.createElement("mark",{className:i,key:s},h)),s+=1,o=o.slice(u.end)}return ze.createElement(ze.Fragment,null,l)};eG.propTypes=Bht;const afe=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ofe=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",YR=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return ofe(r.overflowY,t)||ofe(r.overflowX,t)||(n=>{const i=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(e)}return!1},XR=(e,t,r,n,i,a,s,o)=>a<e&&s>t||a>e&&s<t?0:a<=e&&o<=r||s>=t&&o>=r?a-e-n:s>t&&o<r||a<e&&o>r?s-t+i:0,jht=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},sfe=(e,t)=>{var r,n,i,a;if(typeof document>"u")return[];const{scrollMode:s,block:o,inline:l,boundary:u,skipOverflowHiddenElements:f}=t,h=typeof u=="function"?u:fe=>fe!==u;if(!afe(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;afe(v)&&h(v);){if(v=jht(v),v===p){m.push(v);break}v!=null&&v===document.body&&YR(v)&&!YR(document.documentElement)||v!=null&&YR(v,f)&&m.push(v)}const w=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,x=(a=(i=window.visualViewport)==null?void 0:i.height)!=null?a:innerHeight,{scrollX:T,scrollY:A}=window,{height:P,width:S,top:E,right:_,bottom:R,left:O}=e.getBoundingClientRect(),{top:F,right:$,bottom:z,left:q}=(fe=>{const ue=window.getComputedStyle(fe);return{top:parseFloat(ue.scrollMarginTop)||0,right:parseFloat(ue.scrollMarginRight)||0,bottom:parseFloat(ue.scrollMarginBottom)||0,left:parseFloat(ue.scrollMarginLeft)||0}})(e);let Z=o==="start"||o==="nearest"?E-F:o==="end"?R+z:E+P/2-F+z,V=l==="center"?O+S/2-q+$:l==="end"?_+$:O-q;const J=[];for(let fe=0;fe<m.length;fe++){const ue=m[fe],{height:pe,width:ve,top:le,right:se,bottom:ge,left:_e}=ue.getBoundingClientRect();if(s==="if-needed"&&E>=0&&O>=0&&R<=x&&_<=w&&(ue===p&&!YR(ue)||E>=le&&R<=ge&&O>=_e&&_<=se))return J;const ke=getComputedStyle(ue),Ge=parseInt(ke.borderLeftWidth,10),ct=parseInt(ke.borderTopWidth,10),$e=parseInt(ke.borderRightWidth,10),we=parseInt(ke.borderBottomWidth,10);let Ee=0,Re=0;const ft="offsetWidth"in ue?ue.offsetWidth-ue.clientWidth-Ge-$e:0,qe="offsetHeight"in ue?ue.offsetHeight-ue.clientHeight-ct-we:0,dt="offsetWidth"in ue?ue.offsetWidth===0?0:ve/ue.offsetWidth:0,he="offsetHeight"in ue?ue.offsetHeight===0?0:pe/ue.offsetHeight:0;if(p===ue)Ee=o==="start"?Z:o==="end"?Z-x:o==="nearest"?XR(A,A+x,x,ct,we,A+Z,A+Z+P,P):Z-x/2,Re=l==="start"?V:l==="center"?V-w/2:l==="end"?V-w:XR(T,T+w,w,Ge,$e,T+V,T+V+S,S),Ee=Math.max(0,Ee+A),Re=Math.max(0,Re+T);else{Ee=o==="start"?Z-le-ct:o==="end"?Z-ge+we+qe:o==="nearest"?XR(le,ge,pe,ct,we+qe,Z,Z+P,P):Z-(le+pe/2)+qe/2,Re=l==="start"?V-_e-Ge:l==="center"?V-(_e+ve/2)+ft/2:l==="end"?V-se+$e+ft:XR(_e,se,ve,Ge,$e+ft,V,V+S,S);const{scrollLeft:ut,scrollTop:xt}=ue;Ee=he===0?0:Math.max(0,Math.min(xt+Ee/he,ue.scrollHeight-pe/he+qe)),Re=dt===0?0:Math.max(0,Math.min(ut+Re/dt,ue.scrollWidth-ve/dt+ft)),Z+=xt-Ee,V+=ut-Re}J.push({el:ue,top:Ee,left:Re})}return J},Uht=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function qht(e,t){if(!e.isConnected||!(i=>{let a=i;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(e))return;const r=(i=>{const a=window.getComputedStyle(i);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(sfe(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:a,left:s}of sfe(e,Uht(t))){const o=a-r.top+r.bottom,l=s-r.left+r.right;i.scroll({top:o,left:l,behavior:n})}}var Hht=["label","onClick","option","position"];function lfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ufe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lfe(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lfe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}Ix.isRequired,Wr.number;function Wht(e){var t=e.label,r=e.onClick,n=e.option,i=e.position,a=th(e,Hht),s=Zxe(),o=s.activeIndex,l=s.id,u=s.isOnlyResult,f=s.onActiveItemChange,h=s.onInitialItemChange,p=s.onMenuItemClick,m=s.setItem,v=ne.useRef(null);ne.useEffect(function(){i===0&&h(n)}),ne.useEffect(function(){if(i===o){f(n);var T=v.current;T&&qht(T,{boundary:T.parentNode,scrollMode:"if-needed"})}},[o,f,n,i]);var w=ne.useCallback(function(T){p(n,T),r&&r(T)},[r,p,n]),x=u||o===i;return m(n,i),ufe(ufe({},a),{},{active:x,"aria-label":t,"aria-selected":x,id:zxe(l,i),onClick:w,onMouseDown:YV,ref:v,role:"option"})}var Vht=["active","children","className","disabled","onClick"],nSe=ne.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,a=e.disabled,s=e.onClick,o=th(e,Vht);return ze.createElement("a",Pu({},o,{className:iv("dropdown-item",{active:r,disabled:a},i),href:o.href||"#",onClick:function(u){u.preventDefault(),!a&&s&&s(u)},ref:t}),n)});function N8(e){return ze.createElement(nSe,Wht(e))}var Ght=["emptyLabel","innerRef","maxHeight","style"];function cfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ffe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cfe(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cfe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Kht=function(){return ze.createElement("div",{className:"dropdown-divider",role:"separator"})},Zht=function(t){return ze.createElement("div",Pu({},t,{className:"dropdown-header",role:"heading"}))},Yht={"aria-label":Wr.string,emptyLabel:Wr.node,id:Iv(Wr.oneOfType([Wr.number,Wr.string]),qxe),maxHeight:Wr.string},J2=function(t){var r=t.emptyLabel,n=r===void 0?"No matches found.":r,i=t.innerRef,a=t.maxHeight,s=a===void 0?"300px":a,o=t.style,l=th(t,Ght),u=ne.Children.count(l.children)===0?ze.createElement(nSe,{disabled:!0,role:"option"},n):l.children;return ze.createElement("div",Pu({},l,{"aria-label":l["aria-label"]||"menu-options",className:iv("rbt-menu","dropdown-menu","show",l.className),onMouseDown:YV,ref:i,role:"listbox",style:ffe(ffe({},o),{},{display:"block",maxHeight:s,overflow:"auto"})}),u)};J2.propTypes=Yht;J2.Divider=Kht;J2.Header=Zht;var Xht=["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"],Jht={newSelectionPrefix:Wr.node,paginationText:Wr.node,renderMenuItemChildren:Wr.func};function Qht(e,t){return ze.createElement(eG,{search:t.text},sy(e,t.labelKey))}var iSe=function(t){var r=t.labelKey,n=t.newSelectionPrefix,i=n===void 0?"New selection: ":n,a=t.options,s=t.paginationText,o=s===void 0?"Display additional results...":s,l=t.renderMenuItemChildren,u=l===void 0?Qht:l,f=t.text,h=th(t,Xht),p=function(v,w){var x=sy(v,r),T={disabled:!!j_(v,"disabled"),label:x,option:v,position:w};return j_(v,"customOption")?ze.createElement(N8,Pu({},T,{className:"rbt-menu-custom-option",key:w,label:x}),i,ze.createElement(eG,{search:f},x)):j_(v,"paginationOption")?ze.createElement(ze.Fragment,{key:"pagination-option-divider"},ze.createElement(J2.Divider,null),ze.createElement(N8,Pu({},T,{className:"rbt-menu-pagination-option",label:Yg(o)?o:""}),o)):ze.createElement(N8,Pu({},T,{key:w}),u(v,t,w))};return ze.createElement(J2,Pu({},h,{key:f}),a.map(p))};iSe.propTypes=Jht;function dfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dfe(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dfe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ept(e){var t=tpt();return function(){var n=tS(e),i;if(t){var a=tS(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Gxe(this,i)}}function tpt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rpt={clearButton:Wr.bool,inputProps:Iv(Wr.object,zdt),isInvalid:Wr.bool,isLoading:Wr.bool,isValid:Wr.bool,renderInput:Wr.func,renderMenu:Wr.func,renderToken:Wr.func,size:Uxe},npt={isLoading:!1},ipt=function(t,r,n){return ze.createElement(iSe,Pu({},r,{labelKey:n.labelKey,options:t,text:n.text}))},apt=function(t,r,n){return ze.createElement(kht,{disabled:r.disabled,key:n,onRemove:r.onRemove,option:t,tabIndex:r.tabIndex},sy(t,r.labelKey))},opt=["align","dropup","flip","positionFixed"];function spt(e){return LA(e,opt)}var tG=function(e){Vxe(r,e);var t=ept(r);function r(){var n;Hxe(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),va(Ts(n),"_referenceElement",null),va(Ts(n),"referenceElementRef",function(o){n._referenceElement=o}),va(Ts(n),"_renderInput",function(o,l){var u=n.props,f=u.isInvalid,h=u.isValid,p=u.multiple,m=u.renderInput,v=u.renderToken,w=u.size;if(mm(m))return m(o,l);var x=Tv(Tv({},o),{},{isInvalid:f,isValid:h,size:w});if(!p)return ze.createElement(zht,x);var T=l.labelKey,A=l.onRemove,P=l.selected;return ze.createElement(Nht,Pu({},x,{placeholder:P.length?"":o.placeholder,selected:P}),P.map(function(S,E){return(v||apt)(S,Tv(Tv({},x),{},{labelKey:T,onRemove:A}),E)}))}),va(Ts(n),"_renderMenu",function(o,l,u){var f=n.props,h=f.emptyLabel,p=f.id,m=f.maxHeight,v=f.newSelectionPrefix,w=f.paginationText,x=f.renderMenu,T=f.renderMenuItemChildren;return(x||ipt)(o,Tv(Tv({},l),{},{emptyLabel:h,id:p,maxHeight:m,newSelectionPrefix:v,paginationText:w,renderMenuItemChildren:T}),u)}),va(Ts(n),"_renderAux",function(o){var l=o.onClear,u=o.selected,f=n.props,h=f.clearButton,p=f.disabled,m=f.isLoading,v=f.size,w;return m?w=ze.createElement(Yxe,null):h&&!p&&u.length&&(w=ze.createElement(QV,{onClick:l,onMouseDown:YV,size:v})),w?ze.createElement("div",{className:iv("rbt-aux",{"rbt-aux-lg":XV(v)})},w):null}),n}return Wxe(r,[{key:"render",value:function(){var i=this,a=this.props,s=a.children,o=a.className,l=a.instanceRef,u=a.open,f=a.options,h=a.style;return ze.createElement(JV,Pu({},this.props,{options:f,ref:l}),function(p){var m=p.hideMenu,v=p.isMenuShown,w=p.results,x=i._renderAux(p);return ze.createElement(Cht,{disabled:u||!v,onRootClose:m},function(T){return ze.createElement("div",{className:iv("rbt",{"has-aux":!!x,"is-invalid":i.props.isInvalid,"is-valid":i.props.isValid},o),ref:T,style:Tv(Tv({},h),{},{outline:"none",position:"relative"}),tabIndex:-1},i._renderInput(Tv(Tv({},p.getInputProps(i.props.inputProps)),{},{referenceElementRef:i.referenceElementRef}),p),ze.createElement(Jxe,Pu({},spt(i.props),{isMenuShown:v,referenceElement:i._referenceElement}),function(A){return i._renderMenu(w,A,p)}),x,mm(s)?s(p):s)})})}}]),r}(ze.Component);va(tG,"propTypes",rpt);va(tG,"defaultProps",npt);const zSt=ne.forwardRef(function(e,t){return ze.createElement(tG,Pu({},e,{instanceRef:t}))});function lpt(e){return e}var upt=3,hfe=1e-6;function cpt(e){return"translate("+e+",0)"}function fpt(e){return t=>+e(t)}function dpt(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function hpt(){return!this.__axis}function ppt(e,t){var r=[],n=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,f="y",h=cpt;function p(m){var v=n??(t.ticks?t.ticks.apply(t,r):t.domain()),w=i??(t.tickFormat?t.tickFormat.apply(t,r):lpt),x=Math.max(a,0)+o,T=t.range(),A=+T[0]+l,P=+T[T.length-1]+l,S=(t.bandwidth?dpt:fpt)(t.copy(),l),E=m.selection?m.selection():m,_=E.selectAll(".domain").data([null]),R=E.selectAll(".tick").data(v,t).order(),O=R.exit(),F=R.enter().append("g").attr("class","tick"),$=R.select("line"),z=R.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(F),$=$.merge(F.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),z=z.merge(F.append("text").attr("fill","currentColor").attr(f,u*x).attr("dy","0.71em")),m!==E&&(_=_.transition(m),R=R.transition(m),$=$.transition(m),z=z.transition(m),O=O.transition(m).attr("opacity",hfe).attr("transform",function(q){return isFinite(q=S(q))?h(q+l):this.getAttribute("transform")}),F.attr("opacity",hfe).attr("transform",function(q){var Z=this.parentNode.__axis;return h((Z&&isFinite(Z=Z(q))?Z:S(q))+l)})),O.remove(),_.attr("d",s?"M"+A+","+u*s+"V"+l+"H"+P+"V"+u*s:"M"+A+","+l+"H"+P),R.attr("opacity",1).attr("transform",function(q){return h(S(q)+l)}),$.attr(f+"2",u*a),z.attr(f,u*x).text(w),E.filter(hpt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),E.each(function(){this.__axis=S})}return p.scale=function(m){return arguments.length?(t=m,p):t},p.ticks=function(){return r=Array.from(arguments),p},p.tickArguments=function(m){return arguments.length?(r=m==null?[]:Array.from(m),p):r.slice()},p.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),p):n&&n.slice()},p.tickFormat=function(m){return arguments.length?(i=m,p):i},p.tickSize=function(m){return arguments.length?(a=s=+m,p):a},p.tickSizeInner=function(m){return arguments.length?(a=+m,p):a},p.tickSizeOuter=function(m){return arguments.length?(s=+m,p):s},p.tickPadding=function(m){return arguments.length?(o=+m,p):o},p.offset=function(m){return arguments.length?(l=+m,p):l},p}function mpt(e){return ppt(upt,e)}const C9=Math.PI,P9=2*C9,w_=1e-6,gpt=P9-w_;function aSe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vpt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aSe;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class oSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aSe:vpt(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,f=s-t,h=o-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>w_)if(!(Math.abs(h*l-u*f)>w_)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,v=i-o,w=l*l+u*u,x=m*m+v*v,T=Math.sqrt(w),A=Math.sqrt(p),P=a*Math.tan((C9-Math.acos((w+p-x)/(2*T*A)))/2),S=P/A,E=P/T;Math.abs(S-1)>w_&&this._append`L${t+S*f},${r+S*h}`,this._append`A${a},${a},0,0,${+(h*m>f*v)},${this._x1=t+E*l},${this._y1=r+E*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,f=r+l,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>w_||Math.abs(this._y1-f)>w_)&&this._append`L${u},${f}`,n&&(p<0&&(p=p%P9+P9),p>gpt?this._append`A${n},${n},0,1,${h},${t-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:p>w_&&this._append`A${n},${n},0,${+(p>=C9)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function D_(e=3){return new oSe(+e)}var go=1e-6,ypt=1e-12,Io=Math.PI,bc=Io/2,pfe=Io/4,vm=Io*2,kh=180/Io,vc=Io/180,Ys=Math.abs,XS=Math.atan,d0=Math.atan2,xo=Math.cos,sSe=Math.exp,bI=Math.log,$8=Math.pow,ao=Math.sin,Km=Math.sign||function(e){return e>0?1:e<0?-1:0},wp=Math.sqrt,rG=Math.tan;function lSe(e){return e>1?0:e<-1?Io:Math.acos(e)}function ag(e){return e>1?bc:e<-1?-bc:Math.asin(e)}function Zm(){}function _I(e,t){e&&gfe.hasOwnProperty(e.type)&&gfe[e.type](e,t)}var mfe={Feature:function(e,t){_I(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)_I(r[n].geometry,t)}},gfe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){T9(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)T9(r[n],t,0)},Polygon:function(e,t){vfe(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)vfe(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)_I(r[n],t)}};function T9(e,t,r){var n=-1,i=e.length-r,a;for(t.lineStart();++n<i;)a=e[n],t.point(a[0],a[1],a[2]);t.lineEnd()}function vfe(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)T9(e[r],t,1);t.polygonEnd()}function P_(e,t){e&&mfe.hasOwnProperty(e.type)?mfe[e.type](e,t):_I(e,t)}function R9(e){return[d0(e[1],e[0]),ag(e[2])]}function rS(e){var t=e[0],r=e[1],n=xo(r);return[n*xo(t),n*ao(t),ao(r)]}function JR(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wI(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function z8(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function QR(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function A9(e){var t=wp(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function O9(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function I9(e,t){return Ys(e)>Io&&(e-=Math.round(e/vm)*vm),[e,t]}I9.invert=I9;function uSe(e,t,r){return(e%=vm)?t||r?O9(bfe(e),_fe(t,r)):bfe(e):t||r?_fe(t,r):I9}function yfe(e){return function(t,r){return t+=e,Ys(t)>Io&&(t-=Math.round(t/vm)*vm),[t,r]}}function bfe(e){var t=yfe(e);return t.invert=yfe(-e),t}function _fe(e,t){var r=xo(e),n=ao(e),i=xo(t),a=ao(t);function s(o,l){var u=xo(l),f=xo(o)*u,h=ao(o)*u,p=ao(l),m=p*r+f*n;return[d0(h*i-m*a,f*r-p*n),ag(m*i+h*a)]}return s.invert=function(o,l){var u=xo(l),f=xo(o)*u,h=ao(o)*u,p=ao(l),m=p*i-h*a;return[d0(h*i+p*a,f*r+m*n),ag(m*r-f*n)]},s}function bpt(e){e=uSe(e[0]*vc,e[1]*vc,e.length>2?e[2]*vc:0);function t(r){return r=e(r[0]*vc,r[1]*vc),r[0]*=kh,r[1]*=kh,r}return t.invert=function(r){return r=e.invert(r[0]*vc,r[1]*vc),r[0]*=kh,r[1]*=kh,r},t}function _pt(e,t,r,n,i,a){if(r){var s=xo(t),o=ao(t),l=n*r;i==null?(i=t+n*vm,a=t-l/2):(i=wfe(s,i),a=wfe(s,a),(n>0?i<a:i>a)&&(i+=n*vm));for(var u,f=i;n>0?f>a:f<a;f-=l)u=R9([s,-o*xo(f),-o*ao(f)]),e.point(u[0],u[1])}}function wfe(e,t){t=rS(t),t[0]-=e,A9(t);var r=lSe(-t[1]);return((-t[2]<0?-r:r)+vm-go)%vm}function cSe(){var e=[],t;return{point:function(r,n,i){t.push([r,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Zm,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function zA(e,t){return Ys(e[0]-t[0])<go&&Ys(e[1]-t[1])<go}function eA(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function fSe(e,t,r,n,i){var a=[],s=[],o,l;if(e.forEach(function(v){if(!((w=v.length-1)<=0)){var w,x=v[0],T=v[w],A;if(zA(x,T)){if(!x[2]&&!T[2]){for(i.lineStart(),o=0;o<w;++o)i.point((x=v[o])[0],x[1]);i.lineEnd();return}T[0]+=2*go}a.push(A=new eA(x,v,null,!0)),s.push(A.o=new eA(x,null,A,!1)),a.push(A=new eA(T,v,null,!1)),s.push(A.o=new eA(T,null,A,!0))}}),!!a.length){for(s.sort(t),xfe(a),xfe(s),o=0,l=s.length;o<l;++o)s[o].e=r=!r;for(var u=a[0],f,h;;){for(var p=u,m=!0;p.v;)if((p=p.n)===u)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(o=0,l=f.length;o<l;++o)i.point((h=f[o])[0],h[1]);else n(p.x,p.n.x,1,i);p=p.n}else{if(m)for(f=p.p.z,o=f.length-1;o>=0;--o)i.point((h=f[o])[0],h[1]);else n(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,m=!m}while(!p.v);i.lineEnd()}}}function xfe(e){if(t=e.length){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}function B8(e){return Ys(e[0])<=Io?e[0]:Km(e[0])*((Ys(e[0])+Io)%vm-Io)}function wpt(e,t){var r=B8(t),n=t[1],i=ao(n),a=[ao(r),-xo(r),0],s=0,o=0,l=new X_;i===1?n=bc+go:i===-1&&(n=-bc-go);for(var u=0,f=e.length;u<f;++u)if(p=(h=e[u]).length)for(var h,p,m=h[p-1],v=B8(m),w=m[1]/2+pfe,x=ao(w),T=xo(w),A=0;A<p;++A,v=S,x=_,T=R,m=P){var P=h[A],S=B8(P),E=P[1]/2+pfe,_=ao(E),R=xo(E),O=S-v,F=O>=0?1:-1,$=F*O,z=$>Io,q=x*_;if(l.add(d0(q*F*ao($),T*R+q*xo($))),s+=z?O+F*vm:O,z^v>=r^S>=r){var Z=wI(rS(m),rS(P));A9(Z);var V=wI(a,Z);A9(V);var J=(z^O>=0?-1:1)*ag(V[2]);(n>J||n===J&&(Z[0]||Z[1]))&&(o+=z^O>=0?1:-1)}}return(s<-1e-6||s<go&&l<-1e-12)^o&1}function dSe(e,t,r,n){return function(i){var a=t(i),s=cSe(),o=t(s),l=!1,u,f,h,p={point:m,lineStart:w,lineEnd:x,polygonStart:function(){p.point=T,p.lineStart=A,p.lineEnd=P,f=[],u=[]},polygonEnd:function(){p.point=m,p.lineStart=w,p.lineEnd=x,f=R0e(f);var S=wpt(u,n);f.length?(l||(i.polygonStart(),l=!0),fSe(f,Spt,S,r,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=u=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(S,E){e(S,E)&&i.point(S,E)}function v(S,E){a.point(S,E)}function w(){p.point=v,a.lineStart()}function x(){p.point=m,a.lineEnd()}function T(S,E){h.push([S,E]),o.point(S,E)}function A(){o.lineStart(),h=[]}function P(){T(h[0][0],h[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),_,R=E.length,O,F,$;if(h.pop(),u.push(h),h=null,!!R){if(S&1){if(F=E[0],(O=F.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),_=0;_<O;++_)i.point(($=F[_])[0],$[1]);i.lineEnd()}return}R>1&&S&2&&E.push(E.pop().concat(E.shift())),f.push(E.filter(xpt))}}return p}}function xpt(e){return e.length>1}function Spt(e,t){return((e=e.x)[0]<0?e[1]-bc-go:bc-e[1])-((t=t.x)[0]<0?t[1]-bc-go:bc-t[1])}const Sfe=dSe(function(){return!0},Ept,Ppt,[-Io,-bc]);function Ept(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?Io:-Io,l=Ys(a-t);Ys(l-Io)<go?(e.point(t,r=(r+s)/2>0?bc:-bc),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(o,r),e.point(a,r),i=0):n!==o&&l>=Io&&(Ys(t-n)<go&&(t-=n*go),Ys(a-o)<go&&(a-=o*go),r=Cpt(t,r,a,s),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(o,r),i=0),e.point(t=a,r=s),n=o},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function Cpt(e,t,r,n){var i,a,s=ao(e-r);return Ys(s)>go?XS((ao(t)*(a=xo(n))*ao(r)-ao(n)*(i=xo(t))*ao(e))/(i*a*s)):(t+n)/2}function Ppt(e,t,r,n){var i;if(e==null)i=r*bc,n.point(-Io,i),n.point(0,i),n.point(Io,i),n.point(Io,0),n.point(Io,-i),n.point(0,-i),n.point(-Io,-i),n.point(-Io,0),n.point(-Io,i);else if(Ys(e[0]-t[0])>go){var a=e[0]<t[0]?Io:-Io;i=r*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(t[0],t[1])}function Tpt(e){var t=xo(e),r=2*vc,n=t>0,i=Ys(t)>go;function a(f,h,p,m){_pt(m,e,r,p,f,h)}function s(f,h){return xo(f)*xo(h)>t}function o(f){var h,p,m,v,w;return{lineStart:function(){v=m=!1,w=1},point:function(x,T){var A=[x,T],P,S=s(x,T),E=n?S?0:u(x,T):S?u(x+(x<0?Io:-Io),T):0;if(!h&&(v=m=S)&&f.lineStart(),S!==m&&(P=l(h,A),(!P||zA(h,P)||zA(A,P))&&(A[2]=1)),S!==m)w=0,S?(f.lineStart(),P=l(A,h),f.point(P[0],P[1])):(P=l(h,A),f.point(P[0],P[1],2),f.lineEnd()),h=P;else if(i&&h&&n^S){var _;!(E&p)&&(_=l(A,h,!0))&&(w=0,n?(f.lineStart(),f.point(_[0][0],_[0][1]),f.point(_[1][0],_[1][1]),f.lineEnd()):(f.point(_[1][0],_[1][1]),f.lineEnd(),f.lineStart(),f.point(_[0][0],_[0][1],3)))}S&&(!h||!zA(h,A))&&f.point(A[0],A[1]),h=A,m=S,p=E},lineEnd:function(){m&&f.lineEnd(),h=null},clean:function(){return w|(v&&m)<<1}}}function l(f,h,p){var m=rS(f),v=rS(h),w=[1,0,0],x=wI(m,v),T=JR(x,x),A=x[0],P=T-A*A;if(!P)return!p&&f;var S=t*T/P,E=-t*A/P,_=wI(w,x),R=QR(w,S),O=QR(x,E);z8(R,O);var F=_,$=JR(R,F),z=JR(F,F),q=$*$-z*(JR(R,R)-1);if(!(q<0)){var Z=wp(q),V=QR(F,(-$-Z)/z);if(z8(V,R),V=R9(V),!p)return V;var J=f[0],fe=h[0],ue=f[1],pe=h[1],ve;fe<J&&(ve=J,J=fe,fe=ve);var le=fe-J,se=Ys(le-Io)<go,ge=se||le<go;if(!se&&pe<ue&&(ve=ue,ue=pe,pe=ve),ge?se?ue+pe>0^V[1]<(Ys(V[0]-J)<go?ue:pe):ue<=V[1]&&V[1]<=pe:le>Io^(J<=V[0]&&V[0]<=fe)){var _e=QR(F,(-$+Z)/z);return z8(_e,R),[V,R9(_e)]}}}function u(f,h){var p=n?e:Io-e,m=0;return f<-p?m|=1:f>p&&(m|=2),h<-p?m|=4:h>p&&(m|=8),m}return dSe(s,o,a,n?[0,-e]:[-Io,e-Io])}function Rpt(e,t,r,n,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],f=0,h=1,p=l-s,m=u-o,v;if(v=r-s,!(!p&&v>0)){if(v/=p,p<0){if(v<f)return;v<h&&(h=v)}else if(p>0){if(v>h)return;v>f&&(f=v)}if(v=i-s,!(!p&&v<0)){if(v/=p,p<0){if(v>h)return;v>f&&(f=v)}else if(p>0){if(v<f)return;v<h&&(h=v)}if(v=n-o,!(!m&&v>0)){if(v/=m,m<0){if(v<f)return;v<h&&(h=v)}else if(m>0){if(v>h)return;v>f&&(f=v)}if(v=a-o,!(!m&&v<0)){if(v/=m,m<0){if(v>h)return;v>f&&(f=v)}else if(m>0){if(v<f)return;v<h&&(h=v)}return f>0&&(e[0]=s+f*p,e[1]=o+f*m),h<1&&(t[0]=s+h*p,t[1]=o+h*m),!0}}}}}var tA=1e9,rA=-1e9;function hSe(e,t,r,n){function i(u,f){return e<=u&&u<=r&&t<=f&&f<=n}function a(u,f,h,p){var m=0,v=0;if(u==null||(m=s(u,h))!==(v=s(f,h))||l(u,f)<0^h>0)do p.point(m===0||m===3?e:r,m>1?n:t);while((m=(m+h+4)%4)!==v);else p.point(f[0],f[1])}function s(u,f){return Ys(u[0]-e)<go?f>0?0:3:Ys(u[0]-r)<go?f>0?2:1:Ys(u[1]-t)<go?f>0?1:0:f>0?3:2}function o(u,f){return l(u.x,f.x)}function l(u,f){var h=s(u,1),p=s(f,1);return h!==p?h-p:h===0?f[1]-u[1]:h===1?u[0]-f[0]:h===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,h=cSe(),p,m,v,w,x,T,A,P,S,E,_,R={point:O,lineStart:q,lineEnd:Z,polygonStart:$,polygonEnd:z};function O(J,fe){i(J,fe)&&f.point(J,fe)}function F(){for(var J=0,fe=0,ue=m.length;fe<ue;++fe)for(var pe=m[fe],ve=1,le=pe.length,se=pe[0],ge,_e,ke=se[0],Ge=se[1];ve<le;++ve)ge=ke,_e=Ge,se=pe[ve],ke=se[0],Ge=se[1],_e<=n?Ge>n&&(ke-ge)*(n-_e)>(Ge-_e)*(e-ge)&&++J:Ge<=n&&(ke-ge)*(n-_e)<(Ge-_e)*(e-ge)&&--J;return J}function $(){f=h,p=[],m=[],_=!0}function z(){var J=F(),fe=_&&J,ue=(p=R0e(p)).length;(fe||ue)&&(u.polygonStart(),fe&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ue&&fSe(p,o,J,a,u),u.polygonEnd()),f=u,p=m=v=null}function q(){R.point=V,m&&m.push(v=[]),E=!0,S=!1,A=P=NaN}function Z(){p&&(V(w,x),T&&S&&h.rejoin(),p.push(h.result())),R.point=O,S&&f.lineEnd()}function V(J,fe){var ue=i(J,fe);if(m&&v.push([J,fe]),E)w=J,x=fe,T=ue,E=!1,ue&&(f.lineStart(),f.point(J,fe));else if(ue&&S)f.point(J,fe);else{var pe=[A=Math.max(rA,Math.min(tA,A)),P=Math.max(rA,Math.min(tA,P))],ve=[J=Math.max(rA,Math.min(tA,J)),fe=Math.max(rA,Math.min(tA,fe))];Rpt(pe,ve,e,t,r,n)?(S||(f.lineStart(),f.point(pe[0],pe[1])),f.point(ve[0],ve[1]),ue||f.lineEnd(),_=!1):ue&&(f.lineStart(),f.point(J,fe),_=!1)}A=J,P=fe,S=ue}return R}}const M9=e=>e;var j8=new X_,k9=new X_,pSe,mSe,D9,F9,Ky={point:Zm,lineStart:Zm,lineEnd:Zm,polygonStart:function(){Ky.lineStart=Apt,Ky.lineEnd=Ipt},polygonEnd:function(){Ky.lineStart=Ky.lineEnd=Ky.point=Zm,j8.add(Ys(k9)),k9=new X_},result:function(){var e=j8/2;return j8=new X_,e}};function Apt(){Ky.point=Opt}function Opt(e,t){Ky.point=gSe,pSe=D9=e,mSe=F9=t}function gSe(e,t){k9.add(F9*e-D9*t),D9=e,F9=t}function Ipt(){gSe(pSe,mSe)}var nS=1/0,xI=nS,Q2=-nS,SI=Q2,EI={point:Mpt,lineStart:Zm,lineEnd:Zm,polygonStart:Zm,polygonEnd:Zm,result:function(){var e=[[nS,xI],[Q2,SI]];return Q2=SI=-(xI=nS=1/0),e}};function Mpt(e,t){e<nS&&(nS=e),e>Q2&&(Q2=e),t<xI&&(xI=t),t>SI&&(SI=t)}var L9=0,N9=0,PC=0,CI=0,PI=0,gx=0,$9=0,z9=0,TC=0,vSe,ySe,$v,zv,qm={point:vw,lineStart:Efe,lineEnd:Cfe,polygonStart:function(){qm.lineStart=Fpt,qm.lineEnd=Lpt},polygonEnd:function(){qm.point=vw,qm.lineStart=Efe,qm.lineEnd=Cfe},result:function(){var e=TC?[$9/TC,z9/TC]:gx?[CI/gx,PI/gx]:PC?[L9/PC,N9/PC]:[NaN,NaN];return L9=N9=PC=CI=PI=gx=$9=z9=TC=0,e}};function vw(e,t){L9+=e,N9+=t,++PC}function Efe(){qm.point=kpt}function kpt(e,t){qm.point=Dpt,vw($v=e,zv=t)}function Dpt(e,t){var r=e-$v,n=t-zv,i=wp(r*r+n*n);CI+=i*($v+e)/2,PI+=i*(zv+t)/2,gx+=i,vw($v=e,zv=t)}function Cfe(){qm.point=vw}function Fpt(){qm.point=Npt}function Lpt(){bSe(vSe,ySe)}function Npt(e,t){qm.point=bSe,vw(vSe=$v=e,ySe=zv=t)}function bSe(e,t){var r=e-$v,n=t-zv,i=wp(r*r+n*n);CI+=i*($v+e)/2,PI+=i*(zv+t)/2,gx+=i,i=zv*e-$v*t,$9+=i*($v+e),z9+=i*(zv+t),TC+=i*3,vw($v=e,zv=t)}function _Se(e){this._context=e}_Se.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,vm);break}}},result:Zm};var B9=new X_,U8,wSe,xSe,RC,AC,eP={point:Zm,lineStart:function(){eP.point=$pt},lineEnd:function(){U8&&SSe(wSe,xSe),eP.point=Zm},polygonStart:function(){U8=!0},polygonEnd:function(){U8=null},result:function(){var e=+B9;return B9=new X_,e}};function $pt(e,t){eP.point=SSe,wSe=RC=e,xSe=AC=t}function SSe(e,t){RC-=e,AC-=t,B9.add(wp(RC*RC+AC*AC)),RC=e,AC=t}let Pfe,TI,Tfe,Rfe;class Afe{constructor(t){this._append=t==null?ESe:zpt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==Tfe||this._append!==TI){const n=this._radius,i=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Tfe=n,TI=this._append,Rfe=this._,this._=i}this._+=Rfe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ESe(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zpt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return ESe;if(t!==Pfe){const r=10**t;Pfe=t,TI=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}return TI}function nG(e,t){let r=3,n=4.5,i,a;function s(o){return o&&(typeof n=="function"&&a.pointRadius(+n.apply(this,arguments)),P_(o,i(a))),a.result()}return s.area=function(o){return P_(o,i(Ky)),Ky.result()},s.measure=function(o){return P_(o,i(eP)),eP.result()},s.bounds=function(o){return P_(o,i(EI)),EI.result()},s.centroid=function(o){return P_(o,i(qm)),qm.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,M9):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new Afe(r)):new _Se(t=o),typeof n!="function"&&a.pointRadius(n),s):t},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(a.pointRadius(+o),+o),s):n},s.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);r=l}return t===null&&(a=new Afe(r)),s},s.projection(e).digits(r).context(t)}function RI(e){return{stream:Kk(e)}}function Kk(e){return function(t){var r=new j9;for(var n in e)r[n]=e[n];return r.stream=t,r}}function j9(){}j9.prototype={constructor:j9,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function iG(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),P_(r,e.stream(EI)),t(EI.result()),n!=null&&e.clipExtent(n),e}function aG(e,t,r){return iG(e,function(n){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),o=+t[0][0]+(i-s*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(a-s*(n[1][1]+n[0][1]))/2;e.scale(150*s).translate([o,l])},r)}function CSe(e,t,r){return aG(e,[[0,0],t],r)}function PSe(e,t,r){return iG(e,function(n){var i=+t,a=i/(n[1][0]-n[0][0]),s=(i-a*(n[1][0]+n[0][0]))/2,o=-a*n[0][1];e.scale(150*a).translate([s,o])},r)}function TSe(e,t,r){return iG(e,function(n){var i=+t,a=i/(n[1][1]-n[0][1]),s=-a*n[0][0],o=(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,o])},r)}var Ofe=16,Bpt=xo(30*vc);function Ife(e,t){return+t?Upt(e,t):jpt(e)}function jpt(e){return Kk({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Upt(e,t){function r(n,i,a,s,o,l,u,f,h,p,m,v,w,x){var T=u-n,A=f-i,P=T*T+A*A;if(P>4*t&&w--){var S=s+p,E=o+m,_=l+v,R=wp(S*S+E*E+_*_),O=ag(_/=R),F=Ys(Ys(_)-1)<go||Ys(a-h)<go?(a+h)/2:d0(E,S),$=e(F,O),z=$[0],q=$[1],Z=z-n,V=q-i,J=A*Z-T*V;(J*J/P>t||Ys((T*Z+A*V)/P-.5)>.3||s*p+o*m+l*v<Bpt)&&(r(n,i,a,s,o,l,z,q,F,S/=R,E/=R,_,w,x),x.point(z,q),r(z,q,F,S,E,_,u,f,h,p,m,v,w,x))}}return function(n){var i,a,s,o,l,u,f,h,p,m,v,w,x={point:T,lineStart:A,lineEnd:S,polygonStart:function(){n.polygonStart(),x.lineStart=E},polygonEnd:function(){n.polygonEnd(),x.lineStart=A}};function T(O,F){O=e(O,F),n.point(O[0],O[1])}function A(){h=NaN,x.point=P,n.lineStart()}function P(O,F){var $=rS([O,F]),z=e(O,F);r(h,p,f,m,v,w,h=z[0],p=z[1],f=O,m=$[0],v=$[1],w=$[2],Ofe,n),n.point(h,p)}function S(){x.point=T,n.lineEnd()}function E(){A(),x.point=_,x.lineEnd=R}function _(O,F){P(i=O,F),a=h,s=p,o=m,l=v,u=w,x.point=P}function R(){r(h,p,f,m,v,w,a,s,i,o,l,u,Ofe,n),x.lineEnd=S,S()}return x}}var qpt=Kk({point:function(e,t){this.stream.point(e*vc,t*vc)}});function Hpt(e){return Kk({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function Wpt(e,t,r,n,i){function a(s,o){return s*=n,o*=i,[t+e*s,r-e*o]}return a.invert=function(s,o){return[(s-t)/e*n,(r-o)/e*i]},a}function Mfe(e,t,r,n,i,a){if(!a)return Wpt(e,t,r,n,i);var s=xo(a),o=ao(a),l=s*e,u=o*e,f=s/e,h=o/e,p=(o*r-s*t)/e,m=(o*t+s*r)/e;function v(w,x){return w*=n,x*=i,[l*w-u*x+t,r-u*w-l*x]}return v.invert=function(w,x){return[n*(f*w-h*x+p),i*(m-h*w-f*x)]},v}function qb(e){return RSe(function(){return e})()}function RSe(e){var t,r=150,n=480,i=250,a=0,s=0,o=0,l=0,u=0,f,h=0,p=1,m=1,v=null,w=Sfe,x=null,T,A,P,S=M9,E=.5,_,R,O,F,$;function z(J){return O(J[0]*vc,J[1]*vc)}function q(J){return J=O.invert(J[0],J[1]),J&&[J[0]*kh,J[1]*kh]}z.stream=function(J){return F&&$===J?F:F=qpt(Hpt(f)(w(_(S($=J)))))},z.preclip=function(J){return arguments.length?(w=J,v=void 0,V()):w},z.postclip=function(J){return arguments.length?(S=J,x=T=A=P=null,V()):S},z.clipAngle=function(J){return arguments.length?(w=+J?Tpt(v=J*vc):(v=null,Sfe),V()):v*kh},z.clipExtent=function(J){return arguments.length?(S=J==null?(x=T=A=P=null,M9):hSe(x=+J[0][0],T=+J[0][1],A=+J[1][0],P=+J[1][1]),V()):x==null?null:[[x,T],[A,P]]},z.scale=function(J){return arguments.length?(r=+J,Z()):r},z.translate=function(J){return arguments.length?(n=+J[0],i=+J[1],Z()):[n,i]},z.center=function(J){return arguments.length?(a=J[0]%360*vc,s=J[1]%360*vc,Z()):[a*kh,s*kh]},z.rotate=function(J){return arguments.length?(o=J[0]%360*vc,l=J[1]%360*vc,u=J.length>2?J[2]%360*vc:0,Z()):[o*kh,l*kh,u*kh]},z.angle=function(J){return arguments.length?(h=J%360*vc,Z()):h*kh},z.reflectX=function(J){return arguments.length?(p=J?-1:1,Z()):p<0},z.reflectY=function(J){return arguments.length?(m=J?-1:1,Z()):m<0},z.precision=function(J){return arguments.length?(_=Ife(R,E=J*J),V()):wp(E)},z.fitExtent=function(J,fe){return aG(z,J,fe)},z.fitSize=function(J,fe){return CSe(z,J,fe)},z.fitWidth=function(J,fe){return PSe(z,J,fe)},z.fitHeight=function(J,fe){return TSe(z,J,fe)};function Z(){var J=Mfe(r,0,0,p,m,h).apply(null,t(a,s)),fe=Mfe(r,n-J[0],i-J[1],p,m,h);return f=uSe(o,l,u),R=O9(t,fe),O=O9(f,R),_=Ife(R,E),V()}function V(){return F=$=null,z}return function(){return t=e.apply(this,arguments),z.invert=t.invert&&q,Z()}}function oG(e){var t=0,r=Io/3,n=RSe(e),i=n(t,r);return i.parallels=function(a){return arguments.length?n(t=a[0]*vc,r=a[1]*vc):[t*kh,r*kh]},i}function Vpt(e){var t=xo(e);function r(n,i){return[n*t,ao(i)/t]}return r.invert=function(n,i){return[n/t,ag(i*t)]},r}function Gpt(e,t){var r=ao(e),n=(r+ao(t))/2;if(Ys(n)<go)return Vpt(e);var i=1+r*(2*n-r),a=wp(i)/n;function s(o,l){var u=wp(i-2*n*ao(l))/n;return[u*ao(o*=n),a-u*xo(o)]}return s.invert=function(o,l){var u=a-l,f=d0(o,Ys(u))*Km(u);return u*n<0&&(f-=Io*Km(o)*Km(u)),[f/n,ag((i-(o*o+u*u)*n*n)/(2*n))]},s}function AI(){return oG(Gpt).scale(155.424).center([0,33.6442])}function ASe(){return AI().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kpt(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function Zpt(){var e,t,r=ASe(),n,i=AI().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=AI().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(p,m){l=[p,m]}};function f(p){var m=p[0],v=p[1];return l=null,n.point(m,v),l||(a.point(m,v),l)||(o.point(m,v),l)}f.invert=function(p){var m=r.scale(),v=r.translate(),w=(p[0]-v[0])/m,x=(p[1]-v[1])/m;return(x>=.12&&x<.234&&w>=-.425&&w<-.214?i:x>=.166&&x<.234&&w>=-.214&&w<-.115?s:r).invert(p)},f.stream=function(p){return e&&t===p?e:e=Kpt([r.stream(t=p),i.stream(p),s.stream(p)])},f.precision=function(p){return arguments.length?(r.precision(p),i.precision(p),s.precision(p),h()):r.precision()},f.scale=function(p){return arguments.length?(r.scale(p),i.scale(p*.35),s.scale(p),f.translate(r.translate())):r.scale()},f.translate=function(p){if(!arguments.length)return r.translate();var m=r.scale(),v=+p[0],w=+p[1];return n=r.translate(p).clipExtent([[v-.455*m,w-.238*m],[v+.455*m,w+.238*m]]).stream(u),a=i.translate([v-.307*m,w+.201*m]).clipExtent([[v-.425*m+go,w+.12*m+go],[v-.214*m-go,w+.234*m-go]]).stream(u),o=s.translate([v-.205*m,w+.212*m]).clipExtent([[v-.214*m+go,w+.166*m+go],[v-.115*m-go,w+.234*m-go]]).stream(u),h()},f.fitExtent=function(p,m){return aG(f,p,m)},f.fitSize=function(p,m){return CSe(f,p,m)},f.fitWidth=function(p,m){return PSe(f,p,m)},f.fitHeight=function(p,m){return TSe(f,p,m)};function h(){return e=t=null,f}return f.scale(1070)}function OSe(e){return function(t,r){var n=xo(t),i=xo(r),a=e(n*i);return a===1/0?[2,0]:[a*i*ao(t),a*ao(r)]}}function mT(e){return function(t,r){var n=wp(t*t+r*r),i=e(n),a=ao(i),s=xo(i);return[d0(t*a,n*s),ag(n&&r*a/n)]}}var ISe=OSe(function(e){return wp(2/(1+e))});ISe.invert=mT(function(e){return 2*ag(e/2)});function Ypt(){return qb(ISe).scale(124.75).clipAngle(180-.001)}var MSe=OSe(function(e){return(e=lSe(e))&&e/ao(e)});MSe.invert=mT(function(e){return e});function Xpt(){return qb(MSe).scale(79.4188).clipAngle(180-.001)}function Zk(e,t){return[e,bI(rG((bc+t)/2))]}Zk.invert=function(e,t){return[e,2*XS(sSe(t))-bc]};function Jpt(){return kSe(Zk).scale(961/vm)}function kSe(e){var t=qb(e),r=t.center,n=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(h){return arguments.length?(n(h),f()):n()},t.translate=function(h){return arguments.length?(i(h),f()):i()},t.center=function(h){return arguments.length?(r(h),f()):r()},t.clipExtent=function(h){return arguments.length?(h==null?s=o=l=u=null:(s=+h[0][0],o=+h[0][1],l=+h[1][0],u=+h[1][1]),f()):s==null?null:[[s,o],[l,u]]};function f(){var h=Io*n(),p=t(bpt(t.rotate()).invert([0,0]));return a(s==null?[[p[0]-h,p[1]-h],[p[0]+h,p[1]+h]]:e===Zk?[[Math.max(p[0]-h,s),o],[Math.min(p[0]+h,l),u]]:[[s,Math.max(p[1]-h,o)],[l,Math.min(p[1]+h,u)]])}return f()}function nA(e){return rG((bc+e)/2)}function Qpt(e,t){var r=xo(e),n=e===t?ao(e):bI(r/xo(t))/bI(nA(t)/nA(e)),i=r*$8(nA(e),n)/n;if(!n)return Zk;function a(s,o){i>0?o<-bc+go&&(o=-bc+go):o>bc-go&&(o=bc-go);var l=i/$8(nA(o),n);return[l*ao(n*s),i-l*xo(n*s)]}return a.invert=function(s,o){var l=i-o,u=Km(n)*wp(s*s+l*l),f=d0(s,Ys(l))*Km(l);return l*n<0&&(f-=Io*Km(s)*Km(l)),[f/n,2*XS($8(i/u,1/n))-bc]},a}function emt(){return oG(Qpt).scale(109.5).parallels([30,30])}function OI(e,t){return[e,t]}OI.invert=OI;function tmt(){return qb(OI).scale(152.63)}function rmt(e,t){var r=xo(e),n=e===t?ao(e):(r-xo(t))/(t-e),i=r/n+e;if(Ys(n)<go)return OI;function a(s,o){var l=i-o,u=n*s;return[l*ao(u),i-l*xo(u)]}return a.invert=function(s,o){var l=i-o,u=d0(s,Ys(l))*Km(l);return l*n<0&&(u-=Io*Km(s)*Km(l)),[u/n,i-Km(n)*wp(s*s+l*l)]},a}function nmt(){return oG(rmt).scale(131.154).center([0,13.9389])}var r2=1.340264,n2=-.081106,i2=893e-6,a2=.003796,II=wp(3)/2,imt=12;function DSe(e,t){var r=ag(II*ao(t)),n=r*r,i=n*n*n;return[e*xo(r)/(II*(r2+3*n2*n+i*(7*i2+9*a2*n))),r*(r2+n2*n+i*(i2+a2*n))]}DSe.invert=function(e,t){for(var r=t,n=r*r,i=n*n*n,a=0,s,o,l;a<imt&&(o=r*(r2+n2*n+i*(i2+a2*n))-t,l=r2+3*n2*n+i*(7*i2+9*a2*n),r-=s=o/l,n=r*r,i=n*n*n,!(Ys(s)<ypt));++a);return[II*e*(r2+3*n2*n+i*(7*i2+9*a2*n))/xo(r),ag(ao(r)/II)]};function amt(){return qb(DSe).scale(177.158)}function FSe(e,t){var r=xo(t),n=xo(e)*r;return[r*ao(e)/n,ao(t)/n]}FSe.invert=mT(XS);function omt(){return qb(FSe).scale(144.049).clipAngle(60)}function LSe(e,t){return[xo(t)*ao(e),ao(t)]}LSe.invert=mT(ag);function smt(){return qb(LSe).scale(249.5).clipAngle(90+go)}function NSe(e,t){var r=xo(t),n=1+xo(e)*r;return[r*ao(e)/n,ao(t)/n]}NSe.invert=mT(function(e){return 2*XS(e)});function lmt(){return qb(NSe).scale(250).clipAngle(142)}function $Se(e,t){return[bI(rG((bc+t)/2)),-e]}$Se.invert=function(e,t){return[-t,2*XS(sSe(e))-bc]};function umt(){var e=kSe($Se),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function so(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const cmt=so("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fmt=so("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dmt=so("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),hmt=so("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),pmt=so("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),mmt=so("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gmt=so("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vmt=so("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ymt=so("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bmt=so("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),_mt=so("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Tl=e=>dIe(e[e.length-1]);var zSe=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(so);const BSe=Tl(zSe);var jSe=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(so);const USe=Tl(jSe);var qSe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(so);const HSe=Tl(qSe);var WSe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(so);const VSe=Tl(WSe);var U9=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(so);const MI=Tl(U9);var GSe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(so);const KSe=Tl(GSe);var q9=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(so);const kI=Tl(q9);var ZSe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(so);const YSe=Tl(ZSe);var XSe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(so);const JSe=Tl(XSe);var QSe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(so);const eEe=Tl(QSe);var tEe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(so);const rEe=Tl(tEe);var nEe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(so);const iEe=Tl(nEe);var aEe=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(so);const oEe=Tl(aEe);var sEe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(so);const lEe=Tl(sEe);var uEe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(so);const cEe=Tl(uEe);var fEe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(so);const dEe=Tl(fEe);var hEe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(so);const pEe=Tl(hEe);var mEe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(so);const gEe=Tl(mEe);var vEe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(so);const yEe=Tl(vEe);var bEe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(so);const _Ee=Tl(bEe);var wEe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(so);const xEe=Tl(wEe);var SEe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(so);const EEe=Tl(SEe);var CEe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(so);const PEe=Tl(CEe);var TEe=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(so);const REe=Tl(TEe);var AEe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(so);const OEe=Tl(AEe);var IEe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(so);const MEe=Tl(IEe);var kEe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(so);const DEe=Tl(kEe);function FEe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const LEe=VU(Jv(300,.5,0),Jv(-240,.5,1));var NEe=VU(Jv(-100,.75,.35),Jv(80,1.5,.8)),$Ee=VU(Jv(260,.75,.35),Jv(80,1.5,.8)),iA=Jv();function zEe(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return iA.h=360*e-100,iA.s=1.5-1.5*t,iA.l=.8-.9*t,iA+""}var aA=hb(),wmt=Math.PI/3,xmt=Math.PI*2/3;function BEe(e){var t;return e=(.5-e)*Math.PI,aA.r=255*(t=Math.sin(e))*t,aA.g=255*(t=Math.sin(e+wmt))*t,aA.b=255*(t=Math.sin(e+xmt))*t,aA+""}function jEe(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Yk(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const UEe=Yk(so("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var qEe=Yk(so("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),HEe=Yk(so("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),WEe=Yk(so("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function H1(e){return function(){return e}}const VEe=Math.cos,sG=Math.min,DI=Math.sin,xf=Math.sqrt,kfe=1e-12,FI=Math.PI,Xk=2*FI;function Smt(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oSe(t)}function Emt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GEe(e){this._context=e}GEe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jk(e){return new GEe(e)}function Cmt(e){return e[0]}function Pmt(e){return e[1]}function Tmt(e,t){var r=H1(!0),n=null,i=Jk,a=null,s=Smt(o);e=typeof e=="function"?e:e===void 0?Cmt:H1(e),t=typeof t=="function"?t:t===void 0?Pmt:H1(t);function o(l){var u,f=(l=Emt(l)).length,h,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=f;++u)!(u<f&&r(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(h,u,l),+t(h,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:H1(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:H1(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:H1(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}class KEe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Rmt(e){return new KEe(e,!0)}function Amt(e){return new KEe(e,!1)}const Omt=xf(3),ZEe={draw(e,t){const r=xf(t+sG(t/28,.75))*.59436,n=r/2,i=n*Omt;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}},tP={draw(e,t){const r=xf(t/FI);e.moveTo(r,0),e.arc(0,0,r,0,Xk)}},YEe={draw(e,t){const r=xf(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},XEe=xf(1/3),Imt=XEe*2,JEe={draw(e,t){const r=xf(t/Imt),n=r*XEe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QEe={draw(e,t){const r=xf(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},eCe={draw(e,t){const r=xf(t-sG(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},tCe={draw(e,t){const r=xf(t),n=-r/2;e.rect(n,n,r,r)}},rCe={draw(e,t){const r=xf(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},Mmt=.8908130915292852,nCe=DI(FI/10)/DI(7*FI/10),kmt=DI(Xk/10)*nCe,Dmt=-VEe(Xk/10)*nCe,iCe={draw(e,t){const r=xf(t*Mmt),n=kmt*r,i=Dmt*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Xk*a/5,o=VEe(s),l=DI(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},q8=xf(3),aCe={draw(e,t){const r=-xf(t/(q8*3));e.moveTo(0,r*2),e.lineTo(-q8*r,-r),e.lineTo(q8*r,-r),e.closePath()}},Fmt=xf(3),oCe={draw(e,t){const r=xf(t)*.6824,n=r/2,i=r*Fmt/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}},Nm=-.5,$m=xf(3)/2,H9=1/xf(12),Lmt=(H9/2+1)*3,sCe={draw(e,t){const r=xf(t/Lmt),n=r/2,i=r*H9,a=n,s=r*H9+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Nm*n-$m*i,$m*n+Nm*i),e.lineTo(Nm*a-$m*s,$m*a+Nm*s),e.lineTo(Nm*o-$m*l,$m*o+Nm*l),e.lineTo(Nm*n+$m*i,Nm*i-$m*n),e.lineTo(Nm*a+$m*s,Nm*s-$m*a),e.lineTo(Nm*o+$m*l,Nm*l-$m*o),e.closePath()}},lCe={draw(e,t){const r=xf(t-sG(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},Nmt=[tP,YEe,JEe,tCe,iCe,aCe,sCe],$mt=[tP,eCe,lCe,oCe,ZEe,rCe,QEe];function Pb(){}function LI(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Qk(e){this._context=e}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:LI(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:LI(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zmt(e){return new Qk(e)}function uCe(e){this._context=e}uCe.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:LI(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bmt(e){return new uCe(e)}function cCe(e){this._context=e}cCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:LI(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jmt(e){return new cCe(e)}function fCe(e,t){this._basis=new Qk(e),this._beta=t}fCe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,s=t[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*a),this._beta*t[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Umt=function e(t){function r(n){return t===1?new Qk(n):new fCe(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function NI(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function lG(e,t){this._context=e,this._k=(1-t)/6}lG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:NI(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:NI(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qmt=function e(t){function r(n){return new lG(n,t)}return r.tension=function(n){return e(+n)},r}(0);function uG(e,t){this._context=e,this._k=(1-t)/6}uG.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:NI(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Hmt=function e(t){function r(n){return new uG(n,t)}return r.tension=function(n){return e(+n)},r}(0);function cG(e,t){this._context=e,this._k=(1-t)/6}cG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:NI(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wmt=function e(t){function r(n){return new cG(n,t)}return r.tension=function(n){return e(+n)},r}(0);function fG(e,t,r){var n=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>kfe){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>kfe){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*u+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(n,i,a,s,e._x2,e._y2)}function dCe(e,t){this._context=e,this._alpha=t}dCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Vmt=function e(t){function r(n){return t?new dCe(n,t):new lG(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function hCe(e,t){this._context=e,this._alpha=t}hCe.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Gmt=function e(t){function r(n){return t?new hCe(n,t):new uG(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function pCe(e,t){this._context=e,this._alpha=t}pCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kmt=function e(t){function r(n){return t?new pCe(n,t):new cG(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function mCe(e){this._context=e}mCe.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Zmt(e){return new mCe(e)}function Dfe(e){return e<0?-1:1}function Ffe(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Dfe(a)+Dfe(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Lfe(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function H8(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function $I(e){this._context=e}$I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:H8(this,this._t0,Lfe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,H8(this,Lfe(this,r=Ffe(this,e,t)),r);break;default:H8(this,this._t0,r=Ffe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gCe(e){this._context=new vCe(e)}(gCe.prototype=Object.create($I.prototype)).point=function(e,t){$I.prototype.point.call(this,t,e)};function vCe(e){this._context=e}vCe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Ymt(e){return new $I(e)}function Xmt(e){return new gCe(e)}function yCe(e){this._context=e}yCe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Nfe(e),i=Nfe(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Nfe(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Jmt(e){return new yCe(e)}function eD(e,t){this._context=e,this._t=t}eD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Qmt(e){return new eD(e,.5)}function egt(e){return new eD(e,0)}function tgt(e){return new eD(e,1)}function OC(e,t,r){this.k=e,this.x=t,this.y=r}OC.prototype={constructor:OC,scale:function(e){return e===1?this:new OC(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new OC(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};OC.prototype;function Tb(e){return e!=null&&!Number.isNaN(e)}function ly(e,t){return+Tb(t)-+Tb(e)||pp(e,t)}function zI(e,t){return+Tb(t)-+Tb(e)||kP(e,t)}function dG(e){return e!=null&&`${e}`!=""}function bCe(e){return isFinite(e)?e:NaN}function tD(e){return e>0&&isFinite(e)?e:NaN}function hG(e){return e<0&&isFinite(e)?e:NaN}function rgt(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return t;const r=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${ngt(e.getUTCFullYear())}-${Vy(e.getUTCMonth()+1,2)}-${Vy(e.getUTCDate(),2)}${r||n||i||a?`T${Vy(r,2)}:${Vy(n,2)}${i||a?`:${Vy(i,2)}${a?`.${Vy(a,3)}`:""}`:""}Z`:""}`}function ngt(e){return e<0?`-${Vy(-e,6)}`:e>9999?`+${Vy(e,6)}`:Vy(e,4)}function Vy(e,t){return`${e}`.padStart(t,"0")}const igt=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function _Ce(e,t){return igt.test(e+="")?new Date(e):t}function iS(e){if(e==null)return;const t=e[0],r=e[e.length-1];return kP(t,r)}const vx=1e3,rb=vx*60,nb=rb*60,uy=nb*24,Mv=uy*7,U_=uy*30,Y0=uy*365,W8=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",vx],["5 seconds",5*vx],["15 seconds",15*vx],["30 seconds",30*vx],["minute",rb],["5 minutes",5*rb],["15 minutes",15*rb],["30 minutes",30*rb],["hour",nb],["3 hours",3*nb],["6 hours",6*nb],["12 hours",12*nb],["day",uy],["2 days",2*uy],["week",Mv],["2 weeks",2*Mv],["month",U_],["3 months",3*U_],["6 months",6*U_],["year",Y0],["2 years",2*Y0],["5 years",5*Y0],["10 years",10*Y0],["20 years",20*Y0],["50 years",50*Y0],["100 years",100*Y0]],pG=new Map([["second",vx],["minute",rb],["hour",nb],["day",uy],["monday",Mv],["tuesday",Mv],["wednesday",Mv],["thursday",Mv],["friday",Mv],["saturday",Mv],["sunday",Mv],["week",Mv],["month",U_],["year",Y0]]),wCe=new Map([["second",Vg],["minute",FP],["hour",NP],["day",zw],["monday",R2],["tuesday",j0e],["wednesday",U0e],["thursday",ew],["friday",q0e],["saturday",H0e],["sunday",Bx],["week",Bx],["month",zP],["year",Qg]]),mG=new Map([["second",Vg],["minute",LP],["hour",$P],["day",YM],["monday",A2],["tuesday",W0e],["wednesday",V0e],["thursday",tw],["friday",G0e],["saturday",K0e],["sunday",jx],["week",jx],["month",BP],["year",ev]]),gT=Symbol("intervalDuration"),rD=Symbol("intervalType");for(const[e,t]of wCe)t[gT]=pG.get(e),t[rD]="time";for(const[e,t]of mG)t[gT]=pG.get(e),t[rD]="utc";const IC=[["year",ev,"utc"],["month",BP,"utc"],["day",YM,"utc",6*U_],["hour",$P,"utc",3*uy],["minute",LP,"utc",6*nb],["second",Vg,"utc",30*rb]],BA=[["year",Qg,"time"],["month",zP,"time"],["day",zw,"time",6*U_],["hour",NP,"time",3*uy],["minute",FP,"time",6*nb],["second",Vg,"time",30*rb]],agt=[IC[0],BA[0],IC[1],BA[1],IC[2],BA[2],...IC.slice(3)];function xCe(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let r=1;const n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),r=+n[1]),t){case"quarter":t="month",r*=3;break;case"half":t="month",r*=6;break}let i=mG.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(r>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,r]}function SCe(e){return CCe(xCe(e),"time")}function ECe(e){return CCe(xCe(e),"utc")}function CCe([e,t],r){let n=(r==="time"?wCe:mG).get(e);return t>1&&(n=n.every(t),n[gT]=pG.get(e)*t,n[rD]=r),n}function $fe(e,t){if(!(t>1))return;const r=e[gT];if(!W8.some(([,i])=>i===r)||r%uy===0&&uy<r&&r<U_)return;const[n]=W8[UM(([,i])=>Math.log(i)).center(W8,Math.log(r*t))];return(e[rD]==="time"?SCe:ECe)(n)}function zfe(e,t,r){const n=t==="time"?oW:jP;if(r==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=ogt(r);switch(e){case"millisecond":return W1(n(".%L"),n(":%M:%S"),i);case"second":return W1(n(":%S"),n("%-I:%M"),i);case"minute":return W1(n("%-I:%M"),n("%p"),i);case"hour":return W1(n("%-I %p"),n("%b %-d"),i);case"day":return W1(n("%-d"),n("%b"),i);case"month":return W1(n("%b"),n("%Y"),i);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function ogt(e){return e==="left"||e==="right"?(t,r)=>`
${t}
${r}`:e==="top"?(t,r)=>`${r}
${t}`:(t,r)=>`${t}
${r}`}function sgt(e){return e==="time"?BA:e==="utc"?IC:agt}function lgt(e,t,r){const n=Jg(CKe(t,(i,a)=>Math.abs(a-i)));if(n<1e3)return zfe("millisecond","utc",r);for(const[i,a,s,o]of sgt(e)){if(n>o||i==="hour"&&!n)break;if(t.every(l=>a.floor(l)>=l))return zfe(i,s,r)}}function W1(e,t,r){return(n,i,a)=>{const s=e(n,i),o=t(n,i),l=i-iS(a);return i!==l&&a[l]!==void 0&&o===t(a[l],l)?s:r(s,o)}}const gG=Object.getPrototypeOf(Uint8Array),ugt=Object.prototype.toString;function Xw(e){return e instanceof Array||e instanceof gG}function PCe(e){return e instanceof gG&&!cgt(e)}function TCe(e){return(e==null?void 0:e.prototype)instanceof gG&&!fgt(e)}function cgt(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function fgt(e){return e===BigInt64Array||e===BigUint64Array}const RCe=Symbol("reindex");function Qm(e,t,r){const n=typeof t;return n==="string"?HCe(e)?vG(e.getChild(t),r):Bfe(e,ACe(t),r):n==="function"?Bfe(e,t,r):n==="number"||t instanceof Date||n==="boolean"?_f(e,r0(t),r):typeof(t==null?void 0:t.transform)=="function"?W9(t.transform(e),r):dgt(W9(t,r),e==null?void 0:e[RCe])}function dgt(e,t){return e!=null&&t?_G(e,t):e}function Bfe(e,t,r){return _f(e,TCe(r)?(n,i)=>bG(t(n,i)):t,r)}function W9(e,t){return t===void 0?Jw(e):WCe(e)?vG(e,t):e instanceof t?e:t.from(e,TCe(t)&&!PCe(e)?bG:void 0)}function vG(e,t){return e==null?e:(t===void 0||t===Array)&&kgt(e.type)?ICe(jfe(e)):W9(jfe(e),t)}function jfe(e){return e.nullCount?e.toJSON():e.toArray()}const jA=[null],ACe=e=>t=>{var n;const r=t[e];return r===void 0&&t.type==="Feature"?(n=t.properties)==null?void 0:n[e]:r},yG={transform:Hb},Cp={transform:e=>e},hgt=()=>1,pgt=()=>!0,Zd=e=>e==null?e:`${e}`,Xd=e=>e==null?e:+e,OCe=e=>e?e[0]:void 0,mgt=e=>e?e[1]:void 0,r0=e=>()=>e;function ggt(e){const t=+`${e}`.slice(1)/100;return(r,n)=>_O(r,t,n)}function BI(e){return PCe(e)?e:_f(e,bG,Float64Array)}function bG(e){return e==null?NaN:Number(e)}function ICe(e){return _f(e,vgt)}function vgt(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?_Ce(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function yw(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:oD(e)?[void 0,e]:[e,void 0]}function Nh(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function MCe(e,t,r){if(e!=null)return gv(e,t,r)}function gv(e,t,r){const n=`${e}`.toLowerCase();if(!r.includes(n))throw new Error(`invalid ${t}: ${e}`);return n}function aS(e){return HCe(e)?e:Jw(e)}function Jw(e){if(e==null||Xw(e))return e;if(WCe(e))return vG(e);if(kCe(e))switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;default:return[e]}return Array.from(e)}function kCe(e){switch(e==null?void 0:e.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function _f(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function rP(e,t=Array){return e instanceof t?e.slice():t.from(e)}function DCe({x:e,x1:t,x2:r}){return e!==void 0||t!==void 0||r!==void 0}function FCe({y:e,y1:t,y2:r}){return e!==void 0||t!==void 0||r!==void 0}function LCe(e){return DCe(e)||FCe(e)||e.interval!==void 0}function Qw(e){return(e==null?void 0:e.toString)===ugt}function V9(e){return Qw(e)&&(e.type!==void 0||e.domain!==void 0)}function nD(e){return Qw(e)&&typeof e.transform!="function"}function oS(e){return nD(e)&&e.value===void 0&&e.channel===void 0}function NCe(e,t,r,n=Cp){return t===void 0&&r===void 0?(t=0,r=e===void 0?n:e):t===void 0?t=e===void 0?0:e:r===void 0&&(r=e===void 0?0:e),[t,r]}function iD(e,t){return e===void 0&&t===void 0?[OCe,mgt]:[e,t]}function $Ce({z:e,fill:t,stroke:r}={}){return e===void 0&&([e]=yw(t)),e===void 0&&([e]=yw(r)),e}function nP(e){return Xw(e)?e.length:e==null?void 0:e.numRows}function Hb(e){const t=nP(e),r=new Uint32Array(t);for(let n=0;n<t;++n)r[n]=n;return r}function _G(e,t){return Xw(e)?_f(t,r=>e[r],e.constructor):_f(t,r=>e.at(r))}function ygt(e,t,r){return e.subarray?e.subarray(t,r):e.slice(t,r)}function n0(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G9(e){let t;return[{transform:()=>t,label:vT(e)},r=>t=r]}function bgt(e){return e==null?[e]:G9(e)}function vT(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function zCe(e,t){return{transform(r){const n=e.transform(r),i=t.transform(r);return og(n)||og(i)?_f(n,(a,s)=>new Date((+n[s]+ +i[s])/2)):_f(n,(a,s)=>(+n[s]+ +i[s])/2,Float64Array)},label:e.label}}function _gt(e,t){const r=BCe(t==null?void 0:t.interval,t==null?void 0:t.type);return r?_f(e,r):e}function BCe(e,t){const r=wG(e,t);return r&&(n=>Tb(n)?r.floor(n):n)}function wG(e,t){if(e!=null){if(typeof e=="number")return wgt(e);if(typeof e=="string")return(t==="time"?SCe:ECe)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function wgt(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:r=>Math.floor(r*t)/t,offset:(r,n=1)=>(r*t+Math.floor(n))/t,range:(r,n)=>r7(Math.ceil(r*t),n*t).map(i=>i/t)}:{floor:r=>Math.floor(r/t)*t,offset:(r,n=1)=>r+t*Math.floor(n),range:(r,n)=>r7(Math.ceil(r/t),n/t).map(i=>i*t)}}function yT(e,t){if(e=wG(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function xgt(e,t){if(e=yT(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Sgt(e){return typeof(e==null?void 0:e.range)=="function"}function aD(e){return e===void 0||nD(e)?e:{value:e}}function Egt(e){return e==null?null:{transform:t=>Qm(t,e,Float64Array),label:vT(e)}}function e1(e){return e&&typeof e[Symbol.iterator]=="function"}function jCe(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Ufe(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function og(e){for(const t of e)if(t!=null)return t instanceof Date}function Cgt(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&_Ce(t)}function Pgt(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Tgt(e){for(const t of e)if(t!=null)return typeof t=="number"}function V8(e,t){let r;for(const n of e)if(n!=null){if(!t(n))return!1;r=!0}return r}const Rgt=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function oD(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||Rgt.has(e))}function Agt(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function fp(e){return e==null||iP(e)}function iP(e){return/^\s*none\s*$/i.test(e)}function Ogt(e){return/^\s*round\s*$/i.test(e)}function K9(e,t){return MCe(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function sD(e="middle"){return K9(e,"frameAnchor")}function Igt(e={},...t){let r=e;for(const n of t)for(const i in n)if(r[i]===void 0){const a=n[i];r===e?r={...r,[i]:a}:r[i]=a}return r}function Mgt(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,r=>{const{name:n}=r;if(n==null)throw new Error("missing name");const i=`${n}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[n,r]}))}function UCe(e){return e1(e)?Mgt(e):e}function qCe(e){return e===!0?e="frame":e===!1?e=null:!kCe(e)&&e!=null&&(e=gv(e,"clip",["frame","sphere"]),e==="sphere"&&(e={type:"Sphere"})),e}function HCe(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function WCe(e){return e&&typeof e.toArray=="function"&&e.type}function kgt(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const Hv=Symbol("position"),w0=Symbol("color"),bT=Symbol("radius"),_T=Symbol("length"),wT=Symbol("opacity"),lD=Symbol("symbol"),VCe=Symbol("projection"),_c=new Map([["x",Hv],["y",Hv],["fx",Hv],["fy",Hv],["r",bT],["color",w0],["opacity",wT],["symbol",lD],["length",_T],["projection",VCe]]);function Dgt(e){return e===Hv||e===VCe}function Fgt(e){return e===Hv||e===bT||e===_T||e===wT}const Lgt=Math.sqrt(3),Ngt=2/Lgt,$gt={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*Ngt,i=n/2;e.moveTo(0,n),e.lineTo(r,i),e.lineTo(r,-i),e.lineTo(0,-n),e.lineTo(-r,-i),e.lineTo(-r,i),e.closePath()}},xG=new Map([["asterisk",ZEe],["circle",tP],["cross",YEe],["diamond",JEe],["diamond2",QEe],["hexagon",$gt],["plus",eCe],["square",tCe],["square2",rCe],["star",iCe],["times",lCe],["triangle",aCe],["triangle2",oCe],["wye",sCe]]);function SG(e){return e&&typeof e.draw=="function"}function zgt(e){return SG(e)?!0:typeof e!="string"?!1:xG.has(e.toLowerCase())}function EG(e){if(e==null||SG(e))return e;const t=xG.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Bgt(e){if(e==null||SG(e))return[void 0,e];if(typeof e=="string"){const t=xG.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function CG({filter:e,sort:t,reverse:r,transform:n,initializer:i,...a}={},s){if(n===void 0&&(e!=null&&(n=GCe(e)),t!=null&&!oS(t)&&(n=G8(n,PG(t))),r&&(n=G8(n,KCe))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||oS(t))&&{sort:t},transform:G8(n,s)}}function bw({filter:e,sort:t,reverse:r,initializer:n,...i}={},a){return n===void 0&&(e!=null&&(n=GCe(e)),t!=null&&!oS(t)&&(n=K8(n,PG(t))),r&&(n=K8(n,KCe))),{...i,...(t===null||oS(t))&&{sort:t},initializer:K8(n,a)}}function G8(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,i){return{data:r,facets:n}=e.call(this,r,n,i),t.call(this,aS(r),n,i)}}function K8(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,i,...a){let s,o,l,u,f,h;return{data:o=r,facets:l=n,channels:s}=e.call(this,r,n,i,...a),{data:f=o,facets:h=l,channels:u}=t.call(this,o,l,{...i,...s},...a),{data:f,facets:h,channels:{...s,...u}}}}function jgt(e,t){return(e.initializer!=null?bw:CG)(e,t)}function GCe(e){return(t,r)=>{const n=Qm(t,e);return{data:t,facets:r.map(i=>i.filter(a=>n[a]))}}}function KCe(e,t){return{data:e,facets:t.map(r=>r.slice().reverse())}}function Ugt(e,{sort:t,...r}={}){return{...(nD(e)&&e.channel!==void 0?bw:jgt)(r,PG(e)),sort:oS(t)?t:null}}function PG(e){return(typeof e=="function"&&e.length!==1?qgt:Hgt)(e)}function qgt(e){return(t,r)=>{const n=Xw(t)?(i,a)=>e(t[i],t[a]):(i,a)=>e(t.get(i),t.get(a));return{data:t,facets:r.map(i=>i.slice().sort(n))}}}function Hgt(e){let t,r;({channel:t,value:e,order:r}={...aD(e)});const n=t==null?void 0:t.startsWith("-");if(n&&(t=t.slice(1)),r===void 0&&(r=n?zI:ly),typeof r!="function")switch(`${r}`.toLowerCase()){case"ascending":r=ly;break;case"descending":r=zI;break;default:throw new Error(`invalid order: ${r}`)}return(i,a,s)=>{let o;if(t===void 0)o=Qm(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(o=s[t],!o)return{};o=o.value}const l=(u,f)=>r(o[u],o[f]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function Wgt(e,t,r=Vgt){if(e==null)return r(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Qw(e))return Ggt(e);if(typeof e=="function")return Kgt(e);if(/^p\d{2}$/i.test(e))return qy(ggt(e));switch(`${e}`.toLowerCase()){case"first":return Ygt;case"last":return Xgt;case"identity":return Zgt;case"count":return Hfe;case"distinct":return Jgt;case"sum":return t==null?Hfe:Qgt;case"proportion":return Wfe(t,"data");case"proportion-facet":return Wfe(t,"facet");case"deviation":return qy(hKe);case"min":return qy(s0);case"min-index":return qy(_Ke);case"max":return qy(Jg);case"max-index":return qy(bKe);case"mean":return qfe(xKe);case"median":return qfe(t7);case"variance":return qy(w0e);case"mode":return qy(EKe)}return r(e)}function Vgt(e){throw new Error(`invalid reduce: ${e}`)}function Ggt(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Kgt(e){return{reduceIndex(t,r,n){return e(_G(r,t),n)}}}function qy(e){return{reduceIndex(t,r){return e(t,n=>r[n])}}}function qfe(e){return{reduceIndex(t,r){const n=e(t,i=>r[i]);return og(r)?new Date(n):n}}}const Zgt={reduceIndex(e,t){return _G(t,e)}},Ygt={reduceIndex(e,t){return t[e[0]]}},Xgt={reduceIndex(e,t){return t[e[e.length-1]]}},Hfe={label:"Frequency",reduceIndex(e){return e.length}},Jgt={label:"Distinct",reduceIndex(e,t){const r=new HM;for(const n of e)r.add(t[n]);return r.size}},Qgt=qy(Q_);function Wfe(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(r,n,i=1)=>r.length/i}:{scope:t,reduceIndex:(r,n,i=1)=>Q_(r,a=>n[a])/i}}function aP(e,{scale:t,type:r,value:n,filter:i,hint:a,label:s=vT(n)},o){return a===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(a=n.hint),ZCe(o,{scale:t,type:r,value:Qm(e,n),label:s,filter:i,hint:a})}function evt(e,t){return Object.fromEntries(Object.entries(e).map(([r,n])=>[r,aP(t,n,r)]))}function tvt(e,t){const r=Object.fromEntries(Object.entries(e).map(([n,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[n,s==null?a:_f(a,s)]}));return r.channels=e,r}function ZCe(e,t){const{scale:r,value:n}=t;if(r===!0||r==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=r!==!0&&V8(n,oD)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=r!==!0&&V8(n,Agt)?null:"opacity",t.defaultScale="opacity";break;case"symbol":r!==!0&&V8(n,zgt)?(t.scale=null,t.value=_f(n,EG)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=_c.has(e)?e:null;break}else if(r===!1)t.scale=null;else if(r!=null&&!_c.has(r))throw new Error(`unknown scale: ${r}`);return t}function rvt(e,t,r,n,i){const{order:a,reverse:s,reduce:o=!0,limit:l}=i;for(const u in i){if(!_c.has(u))continue;let{value:f,order:h=a,reverse:p=s,reduce:m=o,limit:v=l}=aD(i[u]);const w=f==null?void 0:f.startsWith("-");if(w&&(f=f.slice(1)),h=h===void 0?w!==(f==="width"||f==="height")?XCe:YCe:avt(h),m==null||m===!1)continue;const x=u==="fx"||u==="fy"?ivt(t,n[u]):nvt(r,u);if(!x)throw new Error(`missing channel for scale: ${u}`);const T=x.value,[A=0,P=1/0]=e1(v)?v:v<0?[v]:[0,v];if(f==null)x.domain=()=>{let S=Array.from(new HM(T));return p&&(S=S.reverse()),(A!==0||P!==1/0)&&(S=S.slice(A,P)),S};else{const S=f==="data"?e:f==="height"?Vfe(r,"y1","y2"):f==="width"?Vfe(r,"x1","x2"):Z9(r,f,f==="y"?"y2":f==="x"?"x2":void 0),E=Wgt(m===!0?"max":m,S);x.domain=()=>{let _=pKe(Hb(T),R=>E.reduceIndex(R,S),R=>T[R]);return h&&_.sort(h),p&&_.reverse(),(A!==0||P!==1/0)&&(_=_.slice(A,P)),_.map(OCe)}}}}function nvt(e,t){for(const r in e){const n=e[r];if(n.scale===t)return n}}function ivt(e,t){const r=e.original;if(r===e)return t;const n=t.value,i=t.value=[];for(let a=0;a<r.length;++a){const s=n[r[a][0]];for(const o of e[a])i[o]=s}return t}function Vfe(e,t,r){const n=Z9(e,t),i=Z9(e,r);return _f(i,(a,s)=>Math.abs(a-n[s]),Float64Array)}function Z9(e,t,r){let n=e[t];if(!n&&r!==void 0&&(n=e[r]),n)return n.value;throw new Error(`missing channel: ${t}`)}function avt(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return YCe;case"descending":return XCe}throw new Error(`invalid order: ${e}`)}function YCe([e,t],[r,n]){return ly(t,n)||ly(e,r)}function XCe([e,t],[r,n]){return zI(t,n)||ly(e,r)}function Y9(e,t){let r=e[t];if(r){for(;r.source;)r=r.source;return r.source===null?null:r}}const JCe=new Map([["accent",fmt],["category10",cmt],["dark2",dmt],["observable10",hmt],["paired",pmt],["pastel1",mmt],["pastel2",gmt],["set1",vmt],["set2",ymt],["set3",bmt],["tableau10",_mt]]);function ovt(e){return e!=null&&JCe.has(`${e}`.toLowerCase())}const Gfe=new Map([...JCe,["brbg",zy(zSe,BSe)],["prgn",zy(jSe,USe)],["piyg",zy(qSe,HSe)],["puor",zy(WSe,VSe)],["rdbu",zy(U9,MI)],["rdgy",zy(GSe,KSe)],["rdylbu",zy(q9,kI)],["rdylgn",zy(ZSe,YSe)],["spectral",zy(XSe,JSe)],["burd",Kfe(U9,MI)],["buylrd",Kfe(q9,kI)],["blues",Uf(SEe,EEe)],["greens",Uf(CEe,PEe)],["greys",Uf(TEe,REe)],["oranges",Uf(kEe,DEe)],["purples",Uf(AEe,OEe)],["reds",Uf(IEe,MEe)],["turbo",By(jEe)],["viridis",By(UEe)],["magma",By(qEe)],["inferno",By(HEe)],["plasma",By(WEe)],["cividis",By(FEe)],["cubehelix",By(LEe)],["warm",By(NEe)],["cool",By($Ee)],["bugn",Uf(QSe,eEe)],["bupu",Uf(tEe,rEe)],["gnbu",Uf(nEe,iEe)],["orrd",Uf(aEe,oEe)],["pubu",Uf(uEe,cEe)],["pubugn",Uf(sEe,lEe)],["purd",Uf(fEe,dEe)],["rdpu",Uf(hEe,pEe)],["ylgn",Uf(vEe,yEe)],["ylgnbu",Uf(mEe,gEe)],["ylorbr",Uf(bEe,_Ee)],["ylorrd",Uf(wEe,xEe)],["rainbow",Zfe(zEe)],["sinebow",Zfe(BEe)]]);function Uf(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Xg(t,r):e[r])}function zy(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Xg(t,r):e[r])}function Kfe(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Xg(n=>t(1-n),r):e[r].slice().reverse())}function By(e){return({length:t})=>Xg(e,Math.max(2,Math.floor(t)))}function Zfe(e){return({length:t})=>Xg(e,Math.floor(t)+1).slice(0,-1)}function QCe(e){const t=`${e}`.toLowerCase();if(!Gfe.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Gfe.get(t)}function uD(e,t){const r=QCe(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function svt(e,t="greys"){const r=new Set,[n,i]=uD(t,2);for(const a of e)if(a!=null)if(a===!0)r.add(i);else if(a===!1)r.add(n);else return;return[...r]}const Yfe=new Map([["brbg",BSe],["prgn",USe],["piyg",HSe],["puor",VSe],["rdbu",MI],["rdgy",KSe],["rdylbu",kI],["rdylgn",YSe],["spectral",JSe],["burd",e=>MI(1-e)],["buylrd",e=>kI(1-e)],["blues",EEe],["greens",PEe],["greys",REe],["purples",OEe],["reds",MEe],["oranges",DEe],["turbo",jEe],["viridis",UEe],["magma",qEe],["inferno",HEe],["plasma",WEe],["cividis",FEe],["cubehelix",LEe],["warm",NEe],["cool",$Ee],["bugn",eEe],["bupu",rEe],["gnbu",iEe],["orrd",oEe],["pubugn",lEe],["pubu",cEe],["purd",dEe],["rdpu",pEe],["ylgnbu",gEe],["ylgn",yEe],["ylorbr",_Ee],["ylorrd",xEe],["rainbow",zEe],["sinebow",BEe]]);function TG(e){const t=`${e}`.toLowerCase();if(!Yfe.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Yfe.get(t)}const lvt=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function uvt(e){return e!=null&&lvt.has(`${e}`.toLowerCase())}const e2e=e=>t=>e(1-t),Z8=[0,1],Xfe=new Map([["number",Wd],["rgb",G_],["hsl",CIe],["hcl",RIe],["lab",PIe]]);function t2e(e){const t=`${e}`.toLowerCase();if(!Xfe.has(t))throw new Error(`unknown interpolator: ${t}`);return Xfe.get(t)}function xT(e,t,r,{type:n,nice:i,clamp:a,zero:s,domain:o=n2e(e,r),unknown:l,round:u,scheme:f,interval:h,range:p=_c.get(e)===bT?_vt(r,o):_c.get(e)===_T?wvt(r,o):_c.get(e)===wT?Z8:void 0,interpolate:m=_c.get(e)===w0?f==null&&p!==void 0?G_:TG(f!==void 0?f:n==="cyclical"?"rainbow":"turbo"):u?WU:Wd,reverse:v}){if(o=Jfe(o),h=yT(h,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof m!="function"&&(m=t2e(m)),v=!!v,p!==void 0){const w=o.length,x=(p=Jfe(p)).length;if(w!==x){if(m.length===1)throw new Error("invalid piecewise interpolator");m=lM(m,p),p=void 0}}if(m.length===1?(v&&(m=e2e(m),v=!1),p===void 0&&(p=Float64Array.from(o,(w,x)=>x/(o.length-1)),p.length===2&&(p=Z8)),t.interpolate((p===Z8?r0:AG)(m))):t.interpolate(m),s){const[w,x]=ob(o);(w>0||x<0)&&(o=rP(o),(iS(o)||1)===Math.sign(w)?o[0]=0:o[o.length-1]=0)}return v&&(o=wO(o)),t.domain(o).unknown(l),i&&(t.nice(cvt(i,n)),o=t.domain()),p!==void 0&&t.range(p),a&&t.clamp(a),{type:n,domain:o,range:p,scale:t,interpolate:m,interval:h}}function Jfe(e){return e=Jw(e),e.length>=2?e:[e[0],e[0]]}function cvt(e,t){return e===!0?void 0:typeof e=="number"?e:xgt(e,t)}function fvt(e,t,r){return xT(e,iW(),t,r)}function dvt(e,t,r){return r2e(e,t,{...r,exponent:.5})}function r2e(e,t,{exponent:r=1,...n}){return xT(e,$0e().exponent(r),t,{...n,type:"pow"})}function hvt(e,t,{base:r=10,domain:n=xvt(t),...i}){return xT(e,D0e().base(r),t,{...i,domain:n})}function pvt(e,t,{constant:r=1,...n}){return xT(e,L0e().constant(r),t,n)}function mvt(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:i=n,scheme:a="rdylbu",domain:s=Svt(t),unknown:o,interpolate:l,reverse:u}){return r===void 0&&(r=l!==void 0?Xg(l,i):_c.get(e)===w0?uD(a,i):void 0),s.length>0&&(s=z0e(s,r===void 0?{length:i}:r).quantiles()),RG(e,t,{domain:s,range:r,reverse:u,unknown:o})}function gvt(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:i="rdylbu",domain:a=n2e(e,t),unknown:s,interpolate:o,reverse:l}){const[u,f]=ob(a);let h;return r===void 0?(h=bO(u,f,n),h[0]<=u&&h.splice(0,1),h[h.length-1]>=f&&h.pop(),n=h.length+1,r=o!==void 0?Xg(o,n):_c.get(e)===w0?uD(i,n):void 0):(h=Xg(Wd(u,f),n+1).slice(1,-1),u instanceof Date&&(h=h.map(p=>new Date(p)))),iS(Jw(a))<0&&h.reverse(),RG(e,t,{domain:h,range:r,reverse:l,unknown:s})}function RG(e,t,{domain:r=[0],unknown:n,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Xg(a,r.length+1):_c.get(e)===w0?uD(i,r.length+1):void 0,reverse:o}){r=Jw(r);const l=iS(r);if(!isNaN(l)&&!vvt(r,l))throw new Error(`the ${e} scale has a non-monotonic domain`);return o&&(s=wO(s)),{type:"threshold",scale:B0e(l<0?wO(r):r,s===void 0?[]:s).unknown(n),domain:r,range:s}}function vvt(e,t){for(let r=1,n=e.length,i=e[0];r<n;++r){const a=kP(i,i=e[r]);if(a!==0&&a!==t)return!1}return!0}function yvt(e){return{type:"identity",scale:Fgt(_c.get(e))?I0e():t=>t}}function oP(e,t=bCe){return e.length?[s0(e,({value:r})=>r===void 0?r:s0(r,t)),Jg(e,({value:r})=>r===void 0?r:Jg(r,t))]:[0,1]}function n2e(e,t){const r=_c.get(e);return(r===bT||r===wT||r===_T?bvt:oP)(t)}function bvt(e){return[0,e.length?Jg(e,({value:t})=>t===void 0?t:Jg(t,bCe)):1]}function _vt(e,t){const r=e.find(({radius:s})=>s!==void 0);if(r!==void 0)return[0,r.radius];const n=_O(e,.5,({value:s})=>s===void 0?NaN:_O(s,.25,tD)),i=t.map(s=>3*Math.sqrt(s/n)),a=30/Jg(i);return a<1?i.map(s=>s*a):i}function wvt(e,t){const r=t7(e,({value:a})=>a===void 0?NaN:t7(a,Math.abs)),n=t.map(a=>12*a/r),i=60/Jg(n);return i<1?n.map(a=>a*i):n}function xvt(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return oP(e,tD);if(r<0)return oP(e,hG)}return[1,10]}function Svt(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function AG(e){return(t,r)=>n=>e(t+n*(r-t))}let X9=0,J9;function Evt(){const e=X9;return X9=0,J9=void 0,e}function db(e){e!==J9&&(J9=e,console.warn(e),++X9)}function cD(e,t,r,n,{type:i,nice:a,clamp:s,domain:o=oP(n),unknown:l,pivot:u=0,scheme:f,range:h,symmetric:p=!0,interpolate:m=_c.get(e)===w0?f==null&&h!==void 0?G_:TG(f!==void 0?f:"rdbu"):Wd,reverse:v}){u=+u,o=Jw(o);let[w,x]=o;if(o.length>2&&db(`Warning: the diverging ${e} scale domain contains extra elements.`),kP(w,x)<0&&([w,x]=[x,w],v=!v),w=Math.min(w,u),x=Math.max(x,u),typeof m!="function"&&(m=t2e(m)),h!==void 0&&(m=m.length===1?AG(m)(...h):lM(m,h)),v&&(m=e2e(m)),p){const T=r.apply(u),A=T-r.apply(w),P=r.apply(x)-T;A<P?w=r.invert(T-P):A>P&&(x=r.invert(T+A))}return t.domain([w,u,x]).unknown(l).interpolator(m),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[w,x],pivot:u,interpolate:m,scale:t}}function Cvt(e,t,r){return cD(e,ebe(),Avt,t,r)}function Pvt(e,t,r){return i2e(e,t,{...r,exponent:.5})}function i2e(e,t,{exponent:r=1,...n}){return cD(e,nbe().exponent(r=+r),Mvt(r),t,{...n,type:"diverging-pow"})}function Tvt(e,t,{base:r=10,pivot:n=1,domain:i=oP(t,n<0?hG:tD),...a}){return cD(e,tbe().base(r=+r),Ovt,t,{domain:i,pivot:n,...a})}function Rvt(e,t,{constant:r=1,...n}){return cD(e,rbe().constant(r=+r),kvt(r),t,n)}const Avt={apply(e){return e},invert(e){return e}},Ovt={apply:Math.log,invert:Math.exp},Ivt={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function Mvt(e){return e===.5?Ivt:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function kvt(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function a2e(e,t,r,n){return xT(e,t,r,n)}function Dvt(e,t,r){return a2e(e,KZe(),t,r)}function Fvt(e,t,r){return a2e(e,ZZe(),t,r)}const ST=Symbol("ordinal");function o2e(e,t,r,{type:n,interval:i,domain:a,range:s,reverse:o,hint:l}){return i=yT(i,n),a===void 0&&(a=l2e(r,i,e)),(n==="categorical"||n===ST)&&(n="ordinal"),o&&(a=wO(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:n,domain:a,range:s,scale:t,hint:l,interval:i}}function Lvt(e,t,{type:r,interval:n,domain:i,range:a,scheme:s,unknown:o,...l}){n=yT(n,r),i===void 0&&(i=l2e(t,n,e));let u;if(_c.get(e)===lD)u=zvt(t),a=a===void 0?Bvt(u):_f(a,EG);else if(_c.get(e)===w0&&(a===void 0&&(r==="ordinal"||r===ST)&&(a=svt(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=r==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const f=TG(s),h=a[0],p=a[1]-a[0];a=({length:m})=>Xg(v=>f(h+p*v),m)}else a=QCe(s);if(o===n7)throw new Error(`implicit unknown on ${e} scale is not supported`);return o2e(e,nW().unknown(o),t,{...l,type:r,domain:i,range:a,hint:u})}function Nvt(e,t,{align:r=.5,padding:n=.5,...i}){return s2e(TKe().align(r).padding(n),t,i,e)}function $vt(e,t,{align:r=.5,padding:n=.1,paddingInner:i=n,paddingOuter:a=e==="fx"||e==="fy"?0:n,...s}){return s2e(GM().align(r).paddingInner(i).paddingOuter(a),t,s,e)}function s2e(e,t,r,n){let{round:i}=r;return i!==void 0&&e.round(i=!!i),e=o2e(n,e,t,r),e.round=i,e}function l2e(e,t,r){const n=new HM;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)n.add(s)}if(t!==void 0){const[i,a]=ob(n).map(t.floor,t);return t.range(i,t.offset(a))}if(n.size>1e4&&_c.get(r)===Hv)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return Jj(n,ly)}function Qfe(e,t){let r;for(const{hint:n}of e){const i=n==null?void 0:n[t];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}function zvt(e){return{fill:Qfe(e,"fill"),stroke:Qfe(e,"stroke")}}function Bvt(e){return fp(e.fill)?$mt:Nmt}function Q9(e,{label:t,inset:r=0,insetTop:n=r,insetRight:i=r,insetBottom:a=r,insetLeft:s=r,round:o,nice:l,clamp:u,zero:f,align:h,padding:p,projection:m,facet:{label:v=t}={},...w}={}){const x={};for(const[T,A]of e){const P=w[T],S=Wvt(T,A,{round:_c.get(T)===Hv?o:void 0,nice:l,clamp:u,zero:f,align:h,padding:p,projection:m,...P});if(S){let{label:E=T==="fx"||T==="fy"?v:t,percent:_,transform:R,inset:O,insetTop:F=O!==void 0?O:T==="y"?n:0,insetRight:$=O!==void 0?O:T==="x"?i:0,insetBottom:z=O!==void 0?O:T==="y"?a:0,insetLeft:q=O!==void 0?O:T==="x"?s:0}=P||{};if(R==null)R=void 0;else if(typeof R!="function")throw new Error("invalid scale transform; not a function");S.percent=!!_,S.label=E===void 0?Uvt(A,S):E,S.transform=R,T==="x"||T==="fx"?(S.insetLeft=+q,S.insetRight=+$):(T==="y"||T==="fy")&&(S.insetTop=+F,S.insetBottom=+z),x[T]=S}}return x}function ede(e){const t={},r={scales:t};for(const[n,i]of Object.entries(e)){const{scale:a,type:s,interval:o,label:l}=i;t[n]=Yvt(i),r[n]=a,a.type=s,o!=null&&(a.interval=o),l!=null&&(a.label=l)}return r}function jvt(e,t){const{x:r,y:n,fx:i,fy:a}=e,s=i||a?OG(t):t;i&&tde(i,s),a&&rde(a,s);const o=i||a?u2e(e,t):t;r&&tde(r,o),n&&rde(n,o)}function Uvt(e=[],t){let r;for(const{label:n}of e)if(n!==void 0){if(r===void 0)r=n;else if(r!==n)return}if(r!==void 0)return!t1(t)&&t.percent&&(r=`${r} (%)`),{inferred:!0,toString:()=>r}}function qvt(e){return Math.sign(iS(e.domain()))*Math.sign(iS(e.range()))}function OG(e){const{marginTop:t,marginRight:r,marginBottom:n,marginLeft:i,width:a,height:s,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:f}}=e;return{marginTop:Math.max(t,o),marginRight:Math.max(r,l),marginBottom:Math.max(n,u),marginLeft:Math.max(i,f),width:a,height:s}}function u2e({fx:e,fy:t},r){const{marginTop:n,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=OG(r);return{marginTop:n,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:o,height:t?t.scale.bandwidth()+n+a:l,facet:{width:o,height:l}}}function tde(e,t){if(e.range===void 0){const{insetLeft:r,insetRight:n}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,o=a+r,l=i-s-n;e.range=[o,Math.max(o,l)],t1(e)||(e.range=f2e(e)),e.scale.range(e.range)}c2e(e)}function rde(e,t){if(e.range===void 0){const{insetTop:r,insetBottom:n}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,o=a+r,l=i-s-n;e.range=[Math.max(o,l),o],t1(e)?e.range.reverse():e.range=f2e(e),e.scale.range(e.range)}c2e(e)}function c2e(e){e.round===void 0&&Gvt(e)&&Hvt(e)<=30&&e.scale.round(!0)}function Hvt({scale:e}){const t=e.domain().length,[r,n]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,o=Math.abs(n-r)/Math.max(1,s+a*2);return(o-Math.floor(o))*s}function f2e(e){const t=e.scale.domain().length+d2e(e);if(!(t>2))return e.range;const[r,n]=e.range;return Array.from({length:t},(i,a)=>r+a/(t-1)*(n-r))}function Wvt(e,t=[],r={}){const n=Vvt(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&t1({type:n})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(og)?db(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${V1(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${V1(n)}".`):i.some(Cgt)?db(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${V1(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${V1(n)}".`):i.some(Pgt)&&db(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${V1(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${V1(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=oA(t,r,BI);break;case"identity":switch(_c.get(e)){case Hv:r=oA(t,r,BI);break;case lD:r=oA(t,r,Kvt);break}break;case"utc":case"time":r=oA(t,r,ICe);break}switch(n){case"diverging":return Cvt(e,t,r);case"diverging-sqrt":return Pvt(e,t,r);case"diverging-pow":return i2e(e,t,r);case"diverging-log":return Tvt(e,t,r);case"diverging-symlog":return Rvt(e,t,r);case"categorical":case"ordinal":case ST:return Lvt(e,t,r);case"cyclical":case"sequential":case"linear":return fvt(e,t,r);case"sqrt":return dvt(e,t,r);case"threshold":return RG(e,t,r);case"quantile":return mvt(e,t,r);case"quantize":return gvt(e,t,r);case"pow":return r2e(e,t,r);case"log":return hvt(e,t,r);case"symlog":return pvt(e,t,r);case"utc":return Fvt(e,t,r);case"time":return Dvt(e,t,r);case"point":return Nvt(e,t,r);case"band":return $vt(e,t,r);case"identity":return yvt(e);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function V1(e){return typeof e=="symbol"?e.description:e}function nde(e){return typeof e=="string"?`${e}`.toLowerCase():e}const ide={toString:()=>"projection"};function Vvt(e,t,{type:r,domain:n,range:i,scheme:a,pivot:s,projection:o}){var f;if(r=nde(r),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&o!=null&&(r=ide);for(const h of t){const p=nde(h.type);if(p!==void 0){if(r===void 0)r=p;else if(r!==p)throw new Error(`scale incompatible with channel: ${r} !== ${p}`)}}if(r===ide)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:h})=>h!==void 0))return;const l=_c.get(e);if(l===bT)return"sqrt";if(l===wT||l===_T)return"linear";if(l===lD)return"ordinal";const u=(f=n??i)==null?void 0:f.length;if(u<2||u>2)return Y8(l);if(n!==void 0){if(Ufe(n))return Y8(l);if(og(n))return"utc"}else{const h=t.map(({value:p})=>p).filter(p=>p!==void 0);if(h.some(Ufe))return Y8(l);if(h.some(og))return"utc"}if(l===w0){if(s!=null||uvt(a))return"diverging";if(ovt(a))return"categorical"}return"linear"}function Y8(e){switch(e){case Hv:return"point";case w0:return ST;default:return"ordinal"}}function t1({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===ST}function d2e({type:e}){return e==="threshold"}function Gvt({type:e}){return e==="point"||e==="band"}function Rb(e){if(e===void 0)return!0;const t=e.domain(),r=e(t[0]);for(let n=1,i=t.length;n<i;++n)if(e(t[n])-r)return!1;return!0}function oA(e,{domain:t,...r},n){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=n(a.value));return{domain:t===void 0?t:n(t),...r}}function Kvt(e){return _f(e,EG)}function Zvt(e){return t=>{if(!_c.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Yvt({scale:e,type:t,domain:r,range:n,interpolate:i,interval:a,transform:s,percent:o,pivot:l}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const u=e.unknown?e.unknown():void 0;return{type:t,domain:rP(r),...n!==void 0&&{range:rP(n)},...s!==void 0&&{transform:s},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function Xvt(e,t){const{fx:r,fy:n}=Q9(e,t),i=r==null?void 0:r.scale.domain(),a=n==null?void 0:n.scale.domain();return i&&a?fKe(i,a).map(([s,o],l)=>({x:s,y:o,i:l})):i?i.map((s,o)=>({x:s,i:o})):a?a.map((s,o)=>({y:s,i:o})):void 0}function Jvt(e,{x:t,y:r}){return t&&(t=eU(t)),r&&(r=eU(r)),e.filter(t&&r?n=>t.has(n.x)&&r.has(n.y):t?n=>t.has(n.x):n=>r.has(n.y)).sort(t&&r?(n,i)=>t.get(n.x)-t.get(i.x)||r.get(n.y)-r.get(i.y):t?(n,i)=>t.get(n.x)-t.get(i.x):(n,i)=>r.get(n.y)-r.get(i.y))}function IG(e,{fx:t,fy:r}){const n=Hb(e),i=t==null?void 0:t.value,a=r==null?void 0:r.value;return t&&r?zC(n,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?zC(n,s=>(s.fx=i[s[0]],s),s=>i[s]):zC(n,s=>(s.fy=a[s[0]],s),s=>a[s])}function Qvt(e,t,{marginTop:r,marginLeft:n}){const i=e?({x:s})=>e(s)-n:()=>0,a=t?({y:s})=>t(s)-r:()=>0;return function(s){this.tagName==="svg"?(this.setAttribute("x",i(s)),this.setAttribute("y",a(s))):this.setAttribute("transform",`translate(${i(s)},${a(s)})`)}}function eyt(e){const t=[],r=new Uint32Array(Q_(e,n=>n.length));for(const n of e){let i=0;for(const a of e)n!==a&&(r.set(a,i),i+=a.length);t.push(r.slice(0,i))}return t}const tyt=new Map([["top",X8],["right",eB],["bottom",J8],["left",Q8],["top-left",sA(X8,Q8)],["top-right",sA(X8,eB)],["bottom-left",sA(J8,Q8)],["bottom-right",sA(J8,eB)],["top-empty",iyt],["right-empty",syt],["bottom-empty",ayt],["left-empty",oyt],["empty",lyt]]);function ryt(e){if(e==null)return null;const t=tyt.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const ade=new WeakMap;function eU(e){let t=ade.get(e);return t||ade.set(e,t=new J_(_f(e,(r,n)=>[r,n]))),t}function Wb(e,t){return eU(e).get(t)}function nyt(e,t,r){return t=n0(t),r=n0(r),e.find(n=>Object.is(n0(n.x),t)&&Object.is(n0(n.y),r))}function fD(e,t,r){var n;return(n=nyt(e,t,r))==null?void 0:n.empty}function X8(e,{y:t},{y:r}){return t?Wb(t,r)===0:!0}function J8(e,{y:t},{y:r}){return t?Wb(t,r)===t.length-1:!0}function Q8(e,{x:t},{x:r}){return t?Wb(t,r)===0:!0}function eB(e,{x:t},{x:r}){return t?Wb(t,r)===t.length-1:!0}function iyt(e,{y:t},{x:r,y:n,empty:i}){if(i)return!1;if(!t)return;const a=Wb(t,n);if(a>0)return fD(e,r,t[a-1])}function ayt(e,{y:t},{x:r,y:n,empty:i}){if(i)return!1;if(!t)return;const a=Wb(t,n);if(a<t.length-1)return fD(e,r,t[a+1])}function oyt(e,{x:t},{x:r,y:n,empty:i}){if(i)return!1;if(!t)return;const a=Wb(t,r);if(a>0)return fD(e,t[a-1],n)}function syt(e,{x:t},{x:r,y:n,empty:i}){if(i)return!1;if(!t)return;const a=Wb(t,r);if(a<t.length-1)return fD(e,t[a+1],n)}function lyt(e,t,{empty:r}){return r}function sA(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function tB(e,{channels:{fx:t,fy:r},groups:n}){return t&&r?e.map(({x:i,y:a})=>{var s;return((s=n.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>n.get(i)??[]):e.map(({y:i})=>n.get(i)??[])}const h2e=Math.PI,jy=2*h2e,rB=.618;function uyt({projection:e,inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let o,l,u="frame";if(Qw(e)){let E;if({type:e,domain:l,inset:E,insetTop:r=E!==void 0?E:r,insetRight:n=E!==void 0?E:n,insetBottom:i=E!==void 0?E:i,insetLeft:a=E!==void 0?E:a,clip:u=u,...o}=e,e==null)return}typeof e!="function"&&({type:e}=tU(e));const{width:f,height:h,marginLeft:p,marginRight:m,marginTop:v,marginBottom:w}=s,x=f-p-m-a-n,T=h-v-w-r-i;if(e=e==null?void 0:e({width:x,height:T,clip:u,...o}),e==null)return;u=cyt(u,p,v,f-m,h-w);let A=p+a,P=v+r,S;if(l!=null){const[[E,_],[R,O]]=nG(e).bounds(l),F=Math.min(x/(R-E),T/(O-_));F>0?(A-=(F*(E+R)-x)/2,P-=(F*(_+O)-T)/2,S=RI({point($,z){this.stream.point($*F+A,z*F+P)}})):db("Warning: the projection could not be fit to the specified domain; using the default scale.")}return S??(S=A===0&&P===0?p2e():RI({point(E,_){this.stream.point(E+A,_+P)}})),{stream:E=>e.stream(S.stream(u(E)))}}function tU(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Lg(Zpt,.7463,.4673);case"albers":return lA(ASe,.7463,.4673);case"azimuthal-equal-area":return Lg(Ypt,4,4);case"azimuthal-equidistant":return Lg(Xpt,jy,jy);case"conic-conformal":return lA(emt,jy,jy);case"conic-equal-area":return lA(AI,6.1702,2.9781);case"conic-equidistant":return lA(nmt,7.312,3.6282);case"equal-earth":return Lg(amt,5.4133,2.6347);case"equirectangular":return Lg(tmt,jy,h2e);case"gnomonic":return Lg(omt,3.4641,3.4641);case"identity":return{type:p2e};case"reflect-y":return{type:fyt};case"mercator":return Lg(Jpt,jy,jy);case"orthographic":return Lg(smt,2,2);case"stereographic":return Lg(lmt,2,2);case"transverse-mercator":return Lg(umt,jy,jy);default:throw new Error(`unknown projection type: ${e}`)}}function cyt(e,t,r,n,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return hSe(t,r,n,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Lg(e,t,r){return{type:({width:n,height:i,rotate:a,precision:s=.15,clip:o})=>{var u,f,h;const l=e();return s!=null&&((u=l.precision)==null||u.call(l,s)),a!=null&&((f=l.rotate)==null||f.call(l,a)),typeof o=="number"&&((h=l.clipAngle)==null||h.call(l,o)),n!=null&&(l.scale(Math.min(n/t,i/r)),l.translate([n/2,i/2])),l},aspectRatio:r/t}}function lA(e,t,r){const{type:n,aspectRatio:i}=Lg(e,t,r);return{type:a=>{const{parallels:s,domain:o,width:l,height:u}=a,f=n(a);return s!=null&&(f.parallels(s),o===void 0&&l!=null&&f.fitSize([l,u],{type:"Sphere"})),f},aspectRatio:i}}const p2e=r0({stream:e=>e}),fyt=r0(RI({point(e,t){this.stream.point(e,-t)}}));function dyt(e,t,r,n){const i=r[e],a=r[t],s=i.length,o=r[e]=new Float64Array(s).fill(NaN),l=r[t]=new Float64Array(s).fill(NaN);let u;const f=n.stream({point(h,p){o[u]=h,l[u]=p}});for(u=0;u<s;++u)f.point(i[u],a[u])}function hyt({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Qw(e)&&(e=e.type),e!=null)}function pyt(e){if(typeof(e==null?void 0:e.stream)=="function")return rB;if(Qw(e)){let t,r;if({domain:t,type:e,...r}=e,t!=null&&e!=null){const n=typeof e=="string"?tU(e).type:e,[[i,a],[s,o]]=nG(n({...r,width:100,height:100})).bounds(t),l=(o-a)/(s-i);return l&&isFinite(l)?l<.2?.2:l>5?5:l:rB}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=tU(e);if(t)return t}return rB}}function myt(e){const t=[],r=[],n={scale:"x",value:t},i={scale:"y",value:r},a={point(s,o){t.push(s),r.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)P_(s,a);return[n,i]}function gyt({x:e,y:t}){if(e||t)return e??(e=r=>r),t??(t=r=>r),RI({point(r,n){this.stream.point(e(r),t(n))}})}function MG(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:r}=e;return{document:t,clip:qCe(r)}}function Od(e,{document:t}){return Kd(dS(e).call(t.documentElement))}const rU=Symbol("unset");function kG(e){return(e.length===1?vyt:yyt)(e)}function vyt(e){let t,r=rU;return n=>(Object.is(r,n)||(r=n,t=e(n)),t)}function yyt(e){let t,r;return(...n)=>(((r==null?void 0:r.length)!==n.length||r.some((i,a)=>!Object.is(i,n[a])))&&(r=n,t=e(...n)),t)}const byt=kG(e=>new Intl.NumberFormat(e));kG((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));kG((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function _yt(e="en-US"){const t=byt(e);return r=>r!=null&&!isNaN(r)?t.format(r):void 0}function wyt(e){return rgt(e,"Invalid Date")}function xyt(e="en-US"){const t=_yt(e);return r=>(r instanceof Date?wyt:typeof r=="number"?t:Zd)(r)}const sS=xyt(),sm=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Syt=0;function m2e(){return`plot-clip-${++Syt}`}function Eyt(e,{title:t,href:r,ariaLabel:n,ariaDescription:i,ariaHidden:a,target:s,fill:o,fillOpacity:l,stroke:u,strokeWidth:f,strokeOpacity:h,strokeLinejoin:p,strokeLinecap:m,strokeMiterlimit:v,strokeDasharray:w,strokeDashoffset:x,opacity:T,mixBlendMode:A,imageFilter:P,paintOrder:S,pointerEvents:E,shapeRendering:_,channels:R},{ariaLabel:O,fill:F="currentColor",fillOpacity:$,stroke:z="none",strokeOpacity:q,strokeWidth:Z,strokeLinecap:V,strokeLinejoin:J,strokeMiterlimit:fe,paintOrder:ue}){F===null&&(o=null,l=null),z===null&&(u=null,h=null),fp(F)?!fp(z)&&(!fp(o)||R!=null&&R.fill)&&(z="none"):fp(z)&&(!fp(u)||R!=null&&R.stroke)&&(F="none");const[pe,ve]=yw(o,F),[le,se]=Nh(l,$),[ge,_e]=yw(u,z),[ke,Ge]=Nh(h,q),[ct,$e]=Nh(T);iP(_e)||(f===void 0&&(f=Z),m===void 0&&(m=V),p===void 0&&(p=J),v===void 0&&!Ogt(p)&&(v=fe),!iP(ve)&&S===void 0&&(S=ue));const[we,Ee]=Nh(f);return F!==null&&(e.fill=Cd(ve,"currentColor"),e.fillOpacity=aC(se,1)),z!==null&&(e.stroke=Cd(_e,"none"),e.strokeWidth=aC(Ee,1),e.strokeOpacity=aC(Ge,1),e.strokeLinejoin=Cd(p,"miter"),e.strokeLinecap=Cd(m,"butt"),e.strokeMiterlimit=aC(v,4),e.strokeDasharray=Cd(w,"none"),e.strokeDashoffset=Cd(x,"0")),e.target=Zd(s),e.ariaLabel=Zd(O),e.ariaDescription=Zd(i),e.ariaHidden=Zd(a),e.opacity=aC($e,1),e.mixBlendMode=Cd(A,"normal"),e.imageFilter=Cd(P,"none"),e.paintOrder=Cd(S,"normal"),e.pointerEvents=Cd(E,"auto"),e.shapeRendering=Cd(_,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:r,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:pe,scale:"auto",optional:!0},fillOpacity:{value:le,scale:"auto",optional:!0},stroke:{value:ge,scale:"auto",optional:!0},strokeOpacity:{value:ke,scale:"auto",optional:!0},strokeWidth:{value:we,optional:!0},opacity:{value:ct,scale:"auto",optional:!0}}}function Cyt(e,t){t&&e.filter(r=>dG(t[r])).append("title").call(Tyt,t)}function Pyt(e,t){t&&e.filter(([r])=>dG(t[r])).append("title").call(Ryt,t)}function Tyt(e,t){t&&e.text(r=>sS(t[r]))}function Ryt(e,t){t&&e.text(([r])=>sS(t[r]))}function Ab(e,{target:t,tip:r},{ariaLabel:n,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:f,href:h}){n&&Qa(e,"aria-label",p=>n[p]),a&&Qa(e,"fill",p=>a[p]),s&&Qa(e,"fill-opacity",p=>s[p]),o&&Qa(e,"stroke",p=>o[p]),l&&Qa(e,"stroke-opacity",p=>l[p]),u&&Qa(e,"stroke-width",p=>u[p]),f&&Qa(e,"opacity",p=>f[p]),h&&g2e(e,p=>h[p],t),r||Cyt(e,i)}function Ayt(e,{target:t,tip:r},{ariaLabel:n,title:i,fill:a,fillOpacity:s,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:f,href:h}){n&&Qa(e,"aria-label",([p])=>n[p]),a&&Qa(e,"fill",([p])=>a[p]),s&&Qa(e,"fill-opacity",([p])=>s[p]),o&&Qa(e,"stroke",([p])=>o[p]),l&&Qa(e,"stroke-opacity",([p])=>l[p]),u&&Qa(e,"stroke-width",([p])=>u[p]),f&&Qa(e,"opacity",([p])=>f[p]),h&&g2e(e,([p])=>h[p],t),r||Pyt(e,i)}function Oyt({ariaLabel:e,title:t,fill:r,fillOpacity:n,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:o,href:l},{tip:u}){return[e,u?void 0:t,r,n,i,a,s,o,l].filter(f=>f!==void 0)}function Iyt(e,t,r){const n=tW(e,i=>t[i]);return r===void 0&&n.size>1+e.length>>1&&db("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),n.values()}function*Myt(e,t,r,n){const{z:i}=r,{z:a}=n,s=Oyt(n,r),o=[...t,...s];for(const l of a?Iyt(e,a,i):[e]){let u,f;e:for(const h of l){for(const p of o)if(!Tb(p[h])){f&&f.push(-1);continue e}if(u===void 0){f&&(yield f),u=s.map(p=>n0(p[h])),f=[h];continue}f.push(h);for(let p=0;p<s.length;++p)if(n0(s[p][h])!==u[p]){yield f,u=s.map(v=>n0(v[h])),f=[h];continue e}}f&&(yield f)}}function kyt(e,t,r,n){let i;const{clip:a=n.clip}=t;a==="frame"?(e=Od("svg:g",n).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=Fyt(n,r)):a&&(i=Nyt(a,n)),Qa(e,"aria-label",t.ariaLabel),Qa(e,"aria-description",t.ariaDescription),Qa(e,"aria-hidden",t.ariaHidden),Qa(e,"clip-path",i)}function Dyt(e){const t=new WeakMap;return(r,n)=>{let i=t.get(r);if(!i){const a=m2e();Kd(r.ownerSVGElement).append("clipPath").attr("id",a).call(e,r,n),t.set(r,i=`url(#${a})`)}return i}}const Fyt=Dyt((e,t,r)=>{const{width:n,height:i,marginLeft:a,marginRight:s,marginTop:o,marginBottom:l}=r;e.append("rect").attr("x",a).attr("y",o).attr("width",n-s-a).attr("height",i-o-l)}),ode=new WeakMap,Lyt={type:"Sphere"};function Nyt(e,t){let r,n;if((r=ode.get(t))||ode.set(t,r=new WeakMap),e.type==="Sphere"&&(e=Lyt),!(n=r.get(e))){const i=m2e();Kd(t.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",t.path()(e)),r.set(e,n=`url(#${i})`)}return n}function x0(e,t,r,n){kyt(e,t,r,n),Qa(e,"class",t.className),Qa(e,"fill",t.fill),Qa(e,"fill-opacity",t.fillOpacity),Qa(e,"stroke",t.stroke),Qa(e,"stroke-width",t.strokeWidth),Qa(e,"stroke-opacity",t.strokeOpacity),Qa(e,"stroke-linejoin",t.strokeLinejoin),Qa(e,"stroke-linecap",t.strokeLinecap),Qa(e,"stroke-miterlimit",t.strokeMiterlimit),Qa(e,"stroke-dasharray",t.strokeDasharray),Qa(e,"stroke-dashoffset",t.strokeDashoffset),Qa(e,"shape-rendering",t.shapeRendering),Qa(e,"filter",t.imageFilter),Qa(e,"paint-order",t.paintOrder);const{pointerEvents:i=n.pointerSticky===!1?"none":void 0}=t;Qa(e,"pointer-events",i)}function cy(e,t){$yt(e,"mix-blend-mode",t.mixBlendMode),Qa(e,"opacity",t.opacity)}function g2e(e,t,r){e.each(function(n){const i=t(n);if(i!=null){const a=this.ownerDocument.createElementNS(q_.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(q_.xlink,"href",i),r!=null&&a.setAttribute("target",r),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Qa(e,t,r){r!=null&&e.attr(t,r)}function $yt(e,t,r){r!=null&&e.style(t,r)}function _y(e,t,{x:r,y:n},i=sm,a=sm){i+=t.dx,a+=t.dy,r!=null&&r.bandwidth&&(i+=r.bandwidth()/2),n!=null&&n.bandwidth&&(a+=n.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function Cd(e,t){if((e=Zd(e))!==t)return e}function aC(e,t){if((e=Xd(e))!==t)return e}const zyt=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function DG(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!zyt.test(e))throw new Error(`invalid class name: ${e}`);return e}function FG(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const r of e)Object.assign(r.style,t)}function ET({frameAnchor:e},{width:t,height:r,marginTop:n,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?n:/^bottom/.test(e)?r-a:(n+r-a)/2]}class cg{constructor(t,r={},n={},i){const{facet:a="auto",facetAnchor:s,fx:o,fy:l,sort:u,dx:f=0,dy:h=0,margin:p=0,marginTop:m=p,marginRight:v=p,marginBottom:w=p,marginLeft:x=p,className:T,clip:A=i==null?void 0:i.clip,channels:P,tip:S,render:E}=n;if(this.data=t,this.sort=oS(u)?u:null,this.initializer=bw(n).initializer,this.transform=this.initializer?n.transform:CG(n).transform,a===null||a===!1?this.facet=null:(this.facet=gv(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===jA&&typeof o=="string"?[o]:o,this.fy=t===jA&&typeof l=="string"?[l]:l),this.facetAnchor=ryt(s),r=UCe(r),P!==void 0&&(r={...Byt(P),...r}),i!==void 0&&(r={...Eyt(this,n,i),...r}),this.channels=Object.fromEntries(Object.entries(r).map(([_,R])=>{if(nD(R.value)){const{value:O,label:F=R.label,scale:$=R.scale}=R.value;R={...R,label:F,scale:$,value:O}}if(t===jA&&typeof R.value=="string"){const{value:O}=R;R={...R,value:[O]}}return[_,R]}).filter(([_,{value:R,optional:O}])=>{if(R!=null)return!0;if(O)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+f,this.dy=+h,this.marginTop=+m,this.marginRight=+v,this.marginBottom=+w,this.marginLeft=+x,this.clip=qCe(A),this.tip=jyt(S),this.className=Zd(T),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:R}=r[_];if(!(R!=="x"&&R!=="y"))throw new Error("super-faceting cannot use x or y")}}E!=null&&(this.render=v2e(E,this.render))}initialize(t,r,n){let i=aS(this.data);t===void 0&&i!=null&&(t=[Hb(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,n),i=aS(i)),t!==void 0&&(t.original=a);const s=evt(this.channels,i);return this.sort!=null&&rvt(i,t,s,r,this.sort),{data:i,facets:t,channels:s}}filter(t,r,n){for(const i in r){const{filter:a=Tb}=r[i];if(a!==null){const s=n[i];t=t.filter(o=>a(s[o]))}}return t}project(t,r,n){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&dyt(i,a,r,n.projection)}}scale(t,r,n){const i=tvt(t,r);return n.projection&&this.project(t,i,n),i}}function LG(...e){return e.plot=cg.prototype.plot,e}function v2e(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(r,n,i,a,s,o){return e.call(this,r,n,i,a,s,(l,u,f,h,p)=>t.call(this,l,u,f,h,p,o))}}function Byt(e){return Object.fromEntries(Object.entries(UCe(e)).map(([t,r])=>(r=typeof r=="string"?{value:r,label:t}:aD(r),r.filter===void 0&&r.scale==null&&(r={...r,filter:null}),[t,r])))}function jyt(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?gv(e,"tip",["x","y","xy"]):e}function dD(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Qw(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function Uyt(e,t,r={}){let n=.5-sm,i=.5+sm,a=.5+sm,s=.5-sm;for(const{marginTop:w,marginRight:x,marginBottom:T,marginLeft:A}of t)w>n&&(n=w),x>i&&(i=x),T>a&&(a=T),A>s&&(s=A);let{margin:o,marginTop:l=o!==void 0?o:n,marginRight:u=o!==void 0?o:i,marginBottom:f=o!==void 0?o:a,marginLeft:h=o!==void 0?o:s}=r;l=+l,u=+u,f=+f,h=+h;let{width:p=640,height:m=qyt(e,r,{width:p,marginTopDefault:n,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,l-n+f-a)}=r;p=+p,m=+m;const v={width:p,height:m,marginTop:l,marginRight:u,marginBottom:f,marginLeft:h};if(e.fx||e.fy){let{margin:w,marginTop:x=w!==void 0?w:l,marginRight:T=w!==void 0?w:u,marginBottom:A=w!==void 0?w:f,marginLeft:P=w!==void 0?w:h}=r.facet??{};x=+x,T=+T,A=+A,P=+P,v.facet={marginTop:x,marginRight:T,marginBottom:A,marginLeft:P}}return v}function qyt({x:e,y:t,fy:r,fx:n},{projection:i,aspectRatio:a},{width:s,marginTopDefault:o,marginRightDefault:l,marginBottomDefault:u,marginLeftDefault:f}){const h=r&&r.scale.domain().length||1,p=pyt(i);if(p){const v=n?n.scale.domain().length:1,w=(1.1*h-.1)/(1.1*v-.1)*p,x=Math.max(.1,Math.min(10,w));return Math.round((s-f-l)*x+o+u)}const m=t?t1(t)?t.scale.domain().length||1:Math.max(7,17/h):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const v=sde("y",t)/(sde("x",e)*a),w=n?n.scale.bandwidth():1,x=r?r.scale.bandwidth():1,T=w*(s-f-l)-e.insetLeft-e.insetRight;return(v*T+t.insetTop+t.insetBottom)/x+o+u}return!!(t||r)*Math.max(1,Math.min(60,m*h))*20+!!n*30+60}function sde(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:r,domain:n}=t;let i;switch(r){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=t.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${r}`)}const[a,s]=ob(n);return Math.abs(i(s)-i(a))}const lde=new WeakMap;function NG(e,t,{x:r,y:n,px:i,py:a,maxRadius:s=40,channels:o,render:l,...u}={}){return s=+s,i!=null&&(r??(r=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(n??(n=null),o={...o,py:{value:a,scale:"y"}}),{x:r,y:n,channels:o,...u,render:v2e(function(f,h,p,m,v,w){v={...v,pointerSticky:!1};const x=v.ownerSVGElement,{data:T}=v.getMarkState(this);let A=lde.get(x);A||lde.set(x,A={sticky:!1,roots:[],renders:[]});let P=A.renders.push(_e)-1;const{x:S,y:E,fx:_,fy:R}=h;let O=_?_(f.fx)-m.marginLeft:0,F=R?R(f.fy)-m.marginTop:0;S!=null&&S.bandwidth&&(O+=S.bandwidth()/2),E!=null&&E.bandwidth&&(F+=E.bandwidth()/2);const $=f.fi!=null;let z;if($){let $e=A.facetStates;$e||(A.facetStates=$e=new Map),z=$e.get(this),z||$e.set(this,z=new Map)}const[q,Z]=ET(this,m),{px:V,py:J}=p,fe=V?$e=>V[$e]:b2e(p,q),ue=J?$e=>J[$e]:_2e(p,Z);let pe,ve,le,se;function ge($e,we){if($)if(se&&(se=cancelAnimationFrame(se)),$e==null)z.delete(f.fi);else{z.set(f.fi,we),se=requestAnimationFrame(()=>{se=null;for(const[Ee,Re]of z)if(Re<we||Re===we&&Ee<f.fi){$e=null;break}_e($e)});return}_e($e)}function _e($e){if(pe===$e&&le===A.sticky)return;pe=$e,le=v.pointerSticky=A.sticky;const we=pe==null?[]:[pe];$&&(we.fx=f.fx,we.fy=f.fy,we.fi=f.fi);const Ee=w(we,h,p,m,v);if(ve){if($){const Re=ve.parentNode,ft=ve.getAttribute("transform"),qe=Ee.getAttribute("transform");ft?Ee.setAttribute("transform",ft):Ee.removeAttribute("transform"),qe?Re.setAttribute("transform",qe):Re.removeAttribute("transform"),Ee.removeAttribute("aria-label"),Ee.removeAttribute("aria-description"),Ee.removeAttribute("aria-hidden")}ve.replaceWith(Ee)}if(A.roots[P]=ve=Ee,!(pe==null&&(z==null?void 0:z.size)>1)){const Re=pe==null?null:Xw(T)?T[pe]:T.get(pe);v.dispatchValue(Re)}return Ee}function ke($e){if(A.sticky||$e.pointerType==="mouse"&&$e.buttons===1)return;let[we,Ee]=s2($e);we-=O,Ee-=F;const Re=we<m.marginLeft||we>m.width-m.marginRight?1:e,ft=Ee<m.marginTop||Ee>m.height-m.marginBottom?1:t;let qe=null,dt=s*s;for(const he of f){const ut=Re*(fe(he)-we),xt=ft*(ue(he)-Ee),je=ut*ut+xt*xt;je<=dt&&(qe=he,dt=je)}if(qe!=null&&(e!==1||t!==1)){const he=fe(qe)-we,ut=ue(qe)-Ee;dt=he*he+ut*ut}ge(qe,dt)}function Ge($e){$e.pointerType==="mouse"&&pe!=null&&(A.sticky&&A.roots.some(we=>we==null?void 0:we.contains($e.target))||(A.sticky?(A.sticky=!1,A.renders.forEach(we=>we(null))):(A.sticky=!0,_e(pe)),$e.stopImmediatePropagation()))}function ct($e){$e.pointerType==="mouse"&&(A.sticky||ge(null))}return x.addEventListener("pointerenter",ke),x.addEventListener("pointermove",ke),x.addEventListener("pointerdown",Ge),x.addEventListener("pointerleave",ct),_e(null)},l)}}function y2e(e){return NG(1,1,e)}function Hyt(e){return NG(1,.01,e)}function ude(e){return NG(.01,1,e)}function b2e({x1:e,x2:t,x:r=e},n){return e&&t?i=>(e[i]+t[i])/2:r?i=>r[i]:()=>n}function _2e({y1:e,y2:t,y:r=e},n){return e&&t?i=>(e[i]+t[i])/2:r?i=>r[i]:()=>n}function w2e(e){return t1(e)&&e.interval===void 0?void 0:"tabular-nums"}function Wyt(e,t){let{label:r=e.label,tickSize:n=6,width:i=240,height:a=44+n,marginTop:s=18,marginRight:o=0,marginBottom:l=16+n,marginLeft:u=0,style:f,ticks:h=(i-u-o)/64,tickFormat:p,fontVariant:m=w2e(e),round:v=!0,opacity:w,className:x}=t;const T=MG(t);x=DG(x),w=Nh(w)[1],p===null&&(p=()=>null);const A=Od("svg",T).attr("class",`${x}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(q=>q.append("style").text(`:where(.${x}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${x}-ramp text) {
  white-space: pre;
}`)).call(FG,f);let P=q=>q.selectAll(".tick line").attr("y1",s+l-a),S;const E=v?(q,Z)=>q.rangeRound(Z):(q,Z)=>q.range(Z),{type:_,domain:R,range:O,interpolate:F,scale:$,pivot:z}=e;if(F){const q=O===void 0?F:lM(F.length===1?AG(F):F,O);S=E($.copy(),Xg(Wd(u,i-o),Math.min(R.length+(z!==void 0),O===void 0?1/0:O.length)));const Z=256,V=T.document.createElement("canvas");V.width=Z,V.height=1;const J=V.getContext("2d");for(let fe=0,ue=Z-1;fe<Z;++fe)J.fillStyle=q(fe/ue),J.fillRect(fe,0,1,1);A.append("image").attr("opacity",w).attr("x",u).attr("y",s).attr("width",i-u-o).attr("height",a-s-l).attr("preserveAspectRatio","none").attr("xlink:href",V.toDataURL())}else if(_==="threshold"){const q=R,Z=p===void 0?V=>V:typeof p=="string"?OS(p):p;S=E(iW().domain([-1,O.length-1]),[u,i-o]),A.append("g").attr("fill-opacity",w).selectAll().data(O).enter().append("rect").attr("x",(V,J)=>S(J-1)).attr("y",s).attr("width",(V,J)=>S(J)-S(J-1)).attr("height",a-s-l).attr("fill",V=>V),h=_f(q,(V,J)=>J),p=V=>Z(q[V],V)}else S=E(GM().domain(R),[u,i-o]),A.append("g").attr("fill-opacity",w).selectAll().data(R).enter().append("rect").attr("x",S).attr("y",s).attr("width",Math.max(0,S.bandwidth()-1)).attr("height",a-s-l).attr("fill",$),P=()=>{};return A.append("g").attr("transform",`translate(0,${a-l})`).call(mpt(S).ticks(Array.isArray(h)?null:h,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(n).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Cd(m,"normal")).call(P).call(q=>q.select(".domain").remove()),r!==void 0&&A.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(r),A.node()}const x2e=Math.PI/180;function $G(e,{marker:t,markerStart:r=t,markerMid:n=t,markerEnd:i=t}={}){e.markerStart=nB(r),e.markerMid=nB(n),e.markerEnd=nB(i)}function nB(e){if(e==null||e===!1)return null;if(e===!0)return fde;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return cde("auto");case"arrow-reverse":return cde("auto-start-reverse");case"dot":return Vyt;case"circle":case"circle-fill":return fde;case"circle-stroke":return Gyt;case"tick":return iB("auto");case"tick-x":return iB(90);case"tick-y":return iB(0)}throw new Error(`invalid marker: ${e}`)}function cde(e){return(t,r)=>Od("svg:marker",r).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Vyt(e,t){return Od("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(r=>r.append("circle").attr("r",2.5)).node()}function fde(e,t){return Od("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function Gyt(e,t){return Od("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function iB(e){return(t,r)=>Od("svg:marker",r).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(n=>n.append("path").attr("d","M0,-3v6")).node()}let Kyt=0;function S2e(e,t,{stroke:r},n){return C2e(e,t,r&&(i=>r[i]),null,n)}function Zyt(e,t,{stroke:r,z:n},i){return C2e(e,t,r&&(([a])=>r[a]),n,i)}const nU=1,E2e=2;function Yyt(e,t){const r=new Uint8Array(t.length),n=e.data().filter(a=>a.length>1),i=n.length;for(let a=0,s=rU;a<i;++a){const o=n[a];if(o.length>1){const l=o[0];s!==(s=n0(t[l]))&&(r[l]|=nU)}}for(let a=i-1,s=rU;a>=0;--a){const o=n[a];if(o.length>1){const l=o[0];s!==(s=n0(t[l]))&&(r[l]|=E2e)}}return([a])=>r[a]}function C2e(e,{markerStart:t,markerMid:r,markerEnd:n,stroke:i},a=()=>i,s,o){if(!t&&!r&&!n)return;const l=new Map,u=s&&Yyt(e,s);function f(h,p,m){return function(v){if(m&&!m(v))return;const w=a(v);let x=l.get(p);x||l.set(p,x=new Map);let T=x.get(w);if(!T){const A=this.parentNode.insertBefore(p(w,o),this),P=`plot-marker-${++Kyt}`;A.setAttribute("id",P),x.set(w,T=`url(#${P})`)}this.setAttribute(h,T)}}t&&e.each(f("marker-start",t,u&&(h=>u(h)&nU))),r&&u&&e.each(f("marker-start",r,h=>!(u(h)&nU))),r&&e.each(f("marker-mid",r)),n&&e.each(f("marker-end",n,u&&(h=>u(h)&E2e)))}function P2e({inset:e,insetLeft:t,insetRight:r,...n}={}){return[t,r]=R2e(e,t,r),{inset:e,insetLeft:t,insetRight:r,...n}}function T2e({inset:e,insetTop:t,insetBottom:r,...n}={}){return[t,r]=R2e(e,t,r),{inset:e,insetTop:t,insetBottom:r,...n}}function R2e(e,t,r){return e===void 0&&t===void 0&&r===void 0?sm?[1,0]:[.5,.5]:[t,r]}function A2e(e,{interval:t}){return e={...aD(e)},e.interval=wG(e.interval===void 0?t:e.interval),e}function O2e(e,t,r,n){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=r,{value:o,interval:l}=A2e(i,r);if(o==null||l==null)return r;const u=vT(i);if(l==null){let m;const v={transform:w=>m||(m=Qm(w,o)),label:u};return{...r,[e]:void 0,[`${e}1`]:a===void 0?v:a,[`${e}2`]:s===void 0?v:s}}let f,h;function p(m){return h!==void 0&&m===f?h:h=_f(Qm(f=m,o),v=>l.floor(v))}return t({...r,[e]:void 0,[`${e}1`]:a===void 0?{transform:p,label:u}:a,[`${e}2`]:s===void 0?{transform:m=>p(m).map(v=>l.offset(v)),label:u}:s})}function I2e(e,t,r){const{[e]:n}=r,{value:i,interval:a}=A2e(n,r);return i==null||a==null?r:t({...r,[e]:{label:vT(n),transform:s=>{const o=_f(Qm(s,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(og(o)?(u,f)=>u==null||isNaN(u=+u)||(f=l[f],f==null)||isNaN(f=+f)?void 0:new Date((u+f)/2):(u,f)=>u==null||(f=l[f],f==null)?NaN:(+u+ +f)/2)}}})}function M2e(e={}){return O2e("x",P2e,e)}function k2e(e={}){return O2e("y",T2e,e)}function Xyt(e={}){return I2e("x",P2e,e)}function Jyt(e={}){return I2e("y",T2e,e)}const D2e={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Qyt extends cg{constructor(t,r={}){const{x:n,y1:i,y2:a,inset:s=0,insetTop:o=s,insetBottom:l=s}=r;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},dD(r,"x"),D2e),this.insetTop=Xd(o),this.insetBottom=Xd(l),$G(this,r)}render(t,r,n,i,a){const{x:s,y:o}=r,{x:l,y1:u,y2:f}=n,{width:h,height:p,marginTop:m,marginRight:v,marginLeft:w,marginBottom:x}=i,{insetTop:T,insetBottom:A}=this;return Od("svg:g",a).call(x0,this,i,a).call(_y,this,{x:l&&s},sm,0).call(P=>P.selectAll().data(t).enter().append("line").call(cy,this).attr("x1",l?S=>l[S]:(w+h-v)/2).attr("x2",l?S=>l[S]:(w+h-v)/2).attr("y1",u&&!Rb(o)?S=>u[S]+T:m+T).attr("y2",f&&!Rb(o)?o.bandwidth?S=>f[S]+o.bandwidth()-A:S=>f[S]-A:p-x-A).call(Ab,this,n).call(S2e,this,n,a)).node()}}class e0t extends cg{constructor(t,r={}){const{x1:n,x2:i,y:a,inset:s=0,insetRight:o=s,insetLeft:l=s}=r;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},dD(r,"y"),D2e),this.insetRight=Xd(o),this.insetLeft=Xd(l),$G(this,r)}render(t,r,n,i,a){const{x:s,y:o}=r,{y:l,x1:u,x2:f}=n,{width:h,height:p,marginTop:m,marginRight:v,marginLeft:w,marginBottom:x}=i,{insetLeft:T,insetRight:A}=this;return Od("svg:g",a).call(x0,this,i,a).call(_y,this,{y:l&&o},0,sm).call(P=>P.selectAll().data(t).enter().append("line").call(cy,this).attr("x1",u&&!Rb(s)?S=>u[S]+T:w+T).attr("x2",f&&!Rb(s)?s.bandwidth?S=>f[S]+s.bandwidth()-A:S=>f[S]-A:h-v-A).attr("y1",l?S=>l[S]:(m+p-x)/2).attr("y2",l?S=>l[S]:(m+p-x)/2).call(Ab,this,n).call(S2e,this,n,a)).node()}}function F2e(e,t){let{x:r=Cp,y:n,y1:i,y2:a,...s}=k2e(t);return[i,a]=N2e(n,i,a),new Qyt(e,{...s,x:r,y1:i,y2:a})}function L2e(e,t){let{y:r=Cp,x:n,x1:i,x2:a,...s}=M2e(t);return[i,a]=N2e(n,i,a),new e0t(e,{...s,y:r,x1:i,x2:a})}function N2e(e,t,r){if(e==null){if(t===void 0){if(r!==void 0)return[0,r]}else if(r===void 0)return[0,t]}else{if(t===void 0)return r===void 0?[0,e]:[e,r];if(r===void 0)return[e,t]}return[t,r]}function zG(e,...t){let r=t.length;for(let n=0,i=!0;n<r;++n)typeof t[n]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(n,2,e[n]+t[n]+e[n+1]),t.splice(n,1),--n,--r);return n=>{let i=e[0];for(let a=0;a<r;++a)i+=t[a](n)+e[a+1];return i}}const t0t={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},$2e="­";let BG=class extends cg{constructor(t,r={}){const{x:n,y:i,text:a=e1(t)&&jCe(t)?Cp:yG,frameAnchor:s,textAnchor:o=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:l=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:f=1/0,textOverflow:h,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:w,fontVariant:x,fontWeight:T,rotate:A}=r,[P,S]=Nh(A,0),[E,_]=s0t(v);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:E,optional:!0},rotate:{value:Egt(P),optional:!0},text:{value:a,filter:dG,optional:!0}},r,t0t),this.rotate=S,this.textAnchor=Cd(o,"middle"),this.lineAnchor=gv(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+f,this.textOverflow=z2e(h),this.monospace=!!p,this.fontFamily=Zd(m),this.fontSize=_,this.fontStyle=Zd(w),this.fontVariant=Zd(x),this.fontWeight=Zd(T),this.frameAnchor=sD(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=j2e(this),this.clipLine=U2e(this)}render(t,r,n,i,a){const{x:s,y:o}=r,{x:l,y:u,rotate:f,text:h,title:p,fontSize:m}=n,{rotate:v}=this,[w,x]=ET(this,i);return Od("svg:g",a).call(x0,this,i,a).call(B2e,this,h,i).call(_y,this,{x:l&&s,y:u&&o}).call(T=>T.selectAll().data(t).enter().append("text").call(cy,this).call(r0t,this,h,p).attr("transform",zG`translate(${l?A=>l[A]:w},${u?A=>u[A]:x})${f?A=>` rotate(${f[A]})`:v?` rotate(${v})`:""}`).call(Qa,"font-size",m&&(A=>m[A])).call(Ab,this,n)).node()}};function z2e(e){return e==null?null:gv(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function r0t(e,t,r,n){if(!r)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:o,clipLine:l}=t;e.each(function(u){const f=o(sS(r[u])??"").map(l),h=f.length,p=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let m=0;for(let v=0;v<h;++v){if(++m,!f[v])continue;const w=this.ownerDocument.createElementNS(q_.svg,"tspan");w.setAttribute("x",0),v===m-1?w.setAttribute("y",`${(p+v)*a}em`):w.setAttribute("dy",`${m*a}em`),w.textContent=f[v],this.appendChild(w),m=0}}else p&&this.setAttribute("y",`${p*a}em`),this.textContent=f[0];if(s&&!n&&f[0]!==r[u]){const m=this.ownerDocument.createElementNS(q_.svg,"title");m.textContent=r[u],this.appendChild(m)}})}function jI(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=iD(t,r)),new BG(e,{...n,x:t,y:r})}function n0t(e,{x:t=Cp,...r}={}){return new BG(e,Jyt({...r,x:t}))}function i0t(e,{y:t=Cp,...r}={}){return new BG(e,Xyt({...r,y:t}))}function B2e(e,t,r){Qa(e,"text-anchor",t.textAnchor),Qa(e,"font-family",t.fontFamily),Qa(e,"font-size",t.fontSize),Qa(e,"font-style",t.fontStyle),Qa(e,"font-variant",t.fontVariant===void 0?a0t(r):t.fontVariant),Qa(e,"font-weight",t.fontWeight)}function a0t(e){return e&&(Tgt(e)||og(e))?"tabular-nums":void 0}const o0t=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function s0t(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),o0t.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function l0t(e,t,r){const n=[];let i,a=0;for(const[s,o,l]of u0t(e)){if(i===void 0&&(i=s),a>i&&r(e,i,o)>t&&(n.push(e.slice(i,a)+(e[a-1]===$2e?"-":"")),i=s),l){n.push(e.slice(i,o)),i=void 0;continue}a=o}return n}function*u0t(e){let t=0,r=0;const n=e.length;for(;r<n;){let i=1;switch(e[r]){case $2e:case"-":++r,yield[t,r,!1],t=r;break;case" ":for(yield[t,r,!1];e[++r]===" ";);t=r;break;case"\r":e[r+1]===`
`&&++i;case`
`:yield[t,r,!0],r+=i,t=r;break;default:++r;break}}yield[t,r,!0]}const dde={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function jG(e,t=0,r=e.length){let n=0;for(let i=t;i<r;i=JS(e,i))n+=dde[e[i]]??(H2e(e,i)?120:dde.e);return n}function UG(e,t=0,r=e.length){let n=0;for(let i=t;i<r;i=JS(e,i))n+=H2e(e,i)?126:63;return n}function j2e({monospace:e,lineWidth:t,textOverflow:r}){if(r!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const n=e?UG:jG,i=t*100;return a=>l0t(a,i,n)}function U2e({monospace:e,lineWidth:t,textOverflow:r}){if(r==null||t==1/0)return a=>a;const n=e?UG:jG,i=t*100;switch(r){case"clip-start":return a=>pde(a,i,n,"");case"clip-end":return a=>hde(a,i,n,"");case"ellipsis-start":return a=>pde(a,i,n,Mx);case"ellipsis-middle":return a=>c0t(a,i,n,Mx);case"ellipsis-end":return a=>hde(a,i,n,Mx)}}const Mx="…";function lS(e,t,r,n){const i=[];let a=0;for(let s=0,o=0,l=e.length;s<l;s=o){o=JS(e,s);const u=r(e,s,o);if(a+u>t){for(a+=n;a>t&&s>0;)o=s,s=i.pop(),a-=r(e,s,o);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function hde(e,t,r,n){e=e.trim();const i=r(n),[a]=lS(e,t,r,i);return a<0?e:e.slice(0,a).trimEnd()+n}function c0t(e,t,r,n){e=e.trim();const i=r(e);if(i<=t)return e;const a=r(n)/2,[s,o]=lS(e,t/2,r,a),[l]=lS(e,i-t/2-o+a,r,-a);return l<0?n:e.slice(0,s).trimEnd()+n+e.slice(JS(e,l)).trimStart()}function pde(e,t,r,n){e=e.trim();const i=r(e);if(i<=t)return e;const a=r(n),[s]=lS(e,i-t+a,r,-a);return s<0?n:n+e.slice(JS(e,s)).trimStart()}const iU=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,mde=new RegExp("\\p{Extended_Pictographic}","uy");function JS(e,t){return t+=f0t(e,t)?2:1,h0t(e,t)&&(t=iU.lastIndex),d0t(e,t)?JS(e,t+1):t}function q2e(e,t){return e.charCodeAt(t)<128}function f0t(e,t){const r=e.charCodeAt(t);if(r>=55296&&r<56320){const n=e.charCodeAt(t+1);return n>=56320&&n<57344}return!1}function d0t(e,t){return e.charCodeAt(t)===8205}function h0t(e,t){return q2e(e,t)?!1:(iU.lastIndex=t,iU.test(e))}function H2e(e,t){return q2e(e,t)?!1:(mde.lastIndex=t,mde.test(e))}const p0t={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},W2e=3.5,m0t=W2e*5,V2e={draw(e,t,r){const n=t*r/m0t;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-n,n-t),e.lineTo(0,-t),e.lineTo(n,n-t)}},g0t={draw(e,t,r){e.moveTo(-r,0),e.lineTo(0,-t),e.lineTo(r,0)}},v0t=new Map([["arrow",V2e],["spike",g0t]]);function y0t(e){return e&&typeof e.draw=="function"}function b0t(e){if(y0t(e))return e;const t=v0t.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class G2e extends cg{constructor(t,r={}){const{x:n,y:i,r:a=W2e,length:s,rotate:o,shape:l=V2e,anchor:u="middle",frameAnchor:f}=r,[h,p]=Nh(s,12),[m,v]=Nh(o,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:m,optional:!0}},r,p0t),this.r=+a,this.length=p,this.rotate=v,this.shape=b0t(l),this.anchor=gv(u,"anchor",["start","middle","end"]),this.frameAnchor=sD(f)}render(t,r,n,i,a){const{x:s,y:o}=r,{x:l,y:u,length:f,rotate:h}=n,{length:p,rotate:m,anchor:v,shape:w,r:x}=this,[T,A]=ET(this,i);return Od("svg:g",a).call(x0,this,i,a).call(_y,this,{x:l&&s,y:u&&o}).call(P=>P.selectAll().data(t).enter().append("path").call(cy,this).attr("transform",zG`translate(${l?S=>l[S]:T},${u?S=>u[S]:A})${h?S=>` rotate(${h[S]})`:m?` rotate(${m})`:""}${v==="start"?"":v==="end"?f?S=>` translate(0,${f[S]})`:` translate(0,${p})`:f?S=>` translate(0,${f[S]/2})`:` translate(0,${p/2})`}`).attr("d",f?S=>{const E=D_();return w.draw(E,f[S],x),E}:(()=>{const S=D_();return w.draw(S,p,x),S})()).call(Ab,this,n)).node()}}function _0t(e,t={}){const{x:r=Cp,...n}=t;return new G2e(e,{...n,x:r})}function w0t(e,t={}){const{y:r=Cp,...n}=t;return new G2e(e,{...n,y:r})}function Vb(e,t){return arguments.length<2&&!e1(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function hD({anchor:e}={},t){return e===void 0?t[0]:gv(e,"anchor",t)}function K2e(e){return hD(e,["left","right"])}function Z2e(e){return hD(e,["right","left"])}function Y2e(e){return hD(e,["bottom","top"])}function X2e(e){return hD(e,["top","bottom"])}function J2e(){const[e,t]=Vb(...arguments);return ePe("y",K2e(t),e,t)}function x0t(){const[e,t]=Vb(...arguments);return ePe("fy",Z2e(t),e,t)}function Q2e(){const[e,t]=Vb(...arguments);return tPe("x",Y2e(t),e,t)}function S0t(){const[e,t]=Vb(...arguments);return tPe("fx",X2e(t),e,t)}function ePe(e,t,r,{color:n="currentColor",opacity:i=1,stroke:a=n,strokeOpacity:s=i,strokeWidth:o=1,fill:l=n,fillOpacity:u=i,textAnchor:f,textStroke:h,textStrokeOpacity:p,textStrokeWidth:m,tickSize:v=e==="y"?6:0,tickPadding:w,tickRotate:x,x:T,margin:A,marginTop:P=A===void 0?20:A,marginRight:S=A===void 0?t==="right"?40:0:A,marginBottom:E=A===void 0?20:A,marginLeft:_=A===void 0?t==="left"?40:0:A,label:R,labelAnchor:O,labelArrow:F,labelOffset:$,ariaLabel:z=`${e}-axis`,...q}){return v=Xd(v),w=Xd(w),x=Xd(x),O!==void 0&&(O=gv(O,"labelAnchor",["center","top","bottom"])),F=uPe(F),LG(v&&!fp(a)?E0t(e,t,r,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:v,tickPadding:w,tickRotate:x,x:T,ariaLabel:z,...q}):null,fp(l)?null:P0t(e,t,r,{fill:l,fillOpacity:u,stroke:h,strokeOpacity:p,strokeWidth:m,textAnchor:f,tickSize:v,tickPadding:w,tickRotate:x,x:T,marginTop:P,marginRight:S,marginBottom:E,marginLeft:_,ariaLabel:z,...q}),!fp(l)&&R!==null?jI([],aPe({fill:l,fillOpacity:u,...q},function(Z,V,J,fe,ue){const pe=fe[e],{marginTop:ve,marginRight:le,marginBottom:se,marginLeft:ge}=e==="y"&&ue.inset||ue,_e=O??(pe.bandwidth?"center":"top"),ke=$??(t==="right"?le:ge)-3;return _e==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=_e,this.frameAnchor=`${_e}-${t}`,this.rotate=0),this.dy=_e==="top"?3-ve:_e==="bottom"?se-3:0,this.dx=t==="right"?ke:-ke,this.ariaLabel=`${z} label`,{facets:[[0]],channels:{text:{value:[lPe(e,pe,{anchor:t,label:R,labelAnchor:_e,labelArrow:F})]}}}})):null)}function tPe(e,t,r,{color:n="currentColor",opacity:i=1,stroke:a=n,strokeOpacity:s=i,strokeWidth:o=1,fill:l=n,fillOpacity:u=i,textAnchor:f,textStroke:h,textStrokeOpacity:p,textStrokeWidth:m,tickSize:v=e==="x"?6:0,tickPadding:w,tickRotate:x,y:T,margin:A,marginTop:P=A===void 0?t==="top"?30:0:A,marginRight:S=A===void 0?20:A,marginBottom:E=A===void 0?t==="bottom"?30:0:A,marginLeft:_=A===void 0?20:A,label:R,labelAnchor:O,labelArrow:F,labelOffset:$,ariaLabel:z=`${e}-axis`,...q}){return v=Xd(v),w=Xd(w),x=Xd(x),O!==void 0&&(O=gv(O,"labelAnchor",["center","left","right"])),F=uPe(F),LG(v&&!fp(a)?C0t(e,t,r,{stroke:a,strokeOpacity:s,strokeWidth:o,tickSize:v,tickPadding:w,tickRotate:x,y:T,ariaLabel:z,...q}):null,fp(l)?null:T0t(e,t,r,{fill:l,fillOpacity:u,stroke:h,strokeOpacity:p,strokeWidth:m,textAnchor:f,tickSize:v,tickPadding:w,tickRotate:x,y:T,marginTop:P,marginRight:S,marginBottom:E,marginLeft:_,ariaLabel:z,...q}),!fp(l)&&R!==null?jI([],aPe({fill:l,fillOpacity:u,...q},function(Z,V,J,fe,ue){const pe=fe[e],{marginTop:ve,marginRight:le,marginBottom:se,marginLeft:ge}=e==="x"&&ue.inset||ue,_e=O??(pe.bandwidth?"center":"right"),ke=$??(t==="top"?ve:se)-3;return _e==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${_e}`,this.textAnchor=_e==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ke:ke,this.dx=_e==="right"?le-3:_e==="left"?3-ge:0,this.ariaLabel=`${z} label`,{facets:[[0]],channels:{text:{value:[lPe(e,pe,{anchor:t,label:R,labelAnchor:_e,labelArrow:F})]}}}})):null)}function E0t(e,t,r,{strokeWidth:n=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetLeft:f=u,insetRight:h=u,dx:p=0,y:m=e==="y"?void 0:null,ariaLabel:v,...w}){return QS(w0t,e,r,{ariaLabel:`${v} tick`,ariaHidden:!0},{strokeWidth:n,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:o,y:m,...w,dx:t==="left"?+p-sm+ +f:+p+sm-h,anchor:"start",length:l,shape:t==="left"?F0t:L0t})}function C0t(e,t,r,{strokeWidth:n=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:o=t,tickSize:l,inset:u=0,insetTop:f=u,insetBottom:h=u,dy:p=0,x:m=e==="x"?void 0:null,ariaLabel:v,...w}){return QS(_0t,e,r,{ariaLabel:`${v} tick`,ariaHidden:!0},{strokeWidth:n,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:o,x:m,...w,dy:t==="bottom"?+p-sm-h:+p+sm+ +f,anchor:"start",length:l,shape:t==="bottom"?k0t:D0t})}function P0t(e,t,r,{facetAnchor:n=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*x2e):0),text:l,textAnchor:u=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:f=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:p=0,insetLeft:m=p,insetRight:v=p,dx:w=0,ariaLabel:x,y:T=e==="y"?void 0:null,...A}){return QS(i0t,e,r,{ariaLabel:`${x} tick label`},{facetAnchor:n,frameAnchor:i,text:l,textAnchor:u,lineAnchor:f,fontVariant:h,rotate:s,y:T,...A,dx:t==="left"?+w-a-o+ +m:+w+ +a+ +o-v},function(P,S,E,_,R){h===void 0&&(this.fontVariant=sPe(P)),l===void 0&&(R.text=oPe(P,S,E,_,t))})}function T0t(e,t,r,{facetAnchor:n=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*x2e):0),text:l,textAnchor:u=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:p=0,insetTop:m=p,insetBottom:v=p,dy:w=0,x=e==="x"?void 0:null,ariaLabel:T,...A}){return QS(n0t,e,r,{ariaLabel:`${T} tick label`},{facetAnchor:n,frameAnchor:i,text:l===void 0?null:l,textAnchor:u,lineAnchor:f,fontVariant:h,rotate:s,x,...A,dy:t==="bottom"?+w+ +a+ +o-v:+w-a-o+ +m},function(P,S,E,_,R){h===void 0&&(this.fontVariant=sPe(P)),l===void 0&&(R.text=oPe(P,S,E,_,t))})}function R0t(){const[e,t]=Vb(...arguments);return rPe("y",K2e(t),e,t)}function A0t(){const[e,t]=Vb(...arguments);return rPe("fy",Z2e(t),e,t)}function O0t(){const[e,t]=Vb(...arguments);return nPe("x",Y2e(t),e,t)}function I0t(){const[e,t]=Vb(...arguments);return nPe("fx",X2e(t),e,t)}function rPe(e,t,r,{y:n=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,ariaLabel:o=`${e}-grid`,ariaHidden:l=!0,...u}){return QS(L2e,e,r,{ariaLabel:o,ariaHidden:l},{y:n,x1:a,x2:s,...iPe(u)})}function nPe(e,t,r,{x:n=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,ariaLabel:o=`${e}-grid`,ariaHidden:l=!0,...u}){return QS(F2e,e,r,{ariaLabel:o,ariaHidden:l},{x:n,y1:a,y2:s,...iPe(u)})}function iPe({color:e="currentColor",opacity:t=.1,stroke:r=e,strokeOpacity:n=t,strokeWidth:i=1,...a}){return{stroke:r,strokeOpacity:n,strokeWidth:i,...a}}function aPe({fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:i,fontVariant:a,fontWeight:s,monospace:o,pointerEvents:l,shapeRendering:u,clip:f=!1},h){return[,e]=yw(e),[,t]=Nh(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:i,fontVariant:a,fontWeight:s,monospace:o,pointerEvents:l,shapeRendering:u,clip:f,initializer:h}}function QS(e,t,r,n,i,a){let s;function o(f,h,p,m,v,w){const x=f==null&&(t==="fx"||t==="fy"),{[t]:T}=m;if(!T)throw new Error(`missing scale: ${t}`);const A=T.domain();let{interval:P,ticks:S,tickFormat:E,tickSpacing:_=t==="x"?80:35}=i;if(typeof S=="string"&&cPe(T)&&(P=S,S=void 0),S===void 0&&(S=yT(P,T.type)??M0t(T,_)),f==null){if(e1(S))f=Jw(S);else if(Sgt(S))f=aB(S,...ob(A));else if(T.interval){let O=T.interval;if(T.ticks){const[F,$]=ob(A),z=($-F)/O[gT];O=$fe(O,z/S)??O,f=aB(O,F,$)}else{f=A;const F=f.length;O=$fe(O,F/S)??O,O!==T.interval&&(f=aB(O,...ob(f)))}if(O===T.interval){const F=Math.round(f.length/S);F>1&&(f=f.filter(($,z)=>z%F===0))}}else T.ticks?f=T.ticks(S):f=A;if(!T.ticks&&f.length&&f!==A){const O=new HM(A);f=f.filter(F=>O.has(F)),f.length||db(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?h=[Hb(f)]:s[t]={scale:t,value:Cp}}a==null||a.call(this,T,f,S,E,s);const R=Object.fromEntries(Object.entries(s).map(([O,F])=>[O,{...F,value:Qm(f,F.value)}]));return x&&(h=w.filterFacets(f,R)),{data:f,facets:h,channels:R}}const l=bw(i).initializer,u=e(r,bw({...i,initializer:o},l));return r==null?(s=u.channels,u.channels={}):s={},n!==void 0&&Object.assign(u,n),u.clip===void 0&&(u.clip=!1),u}function M0t(e,t){const[r,n]=ob(e.range());return(n-r)/t}function oPe(e,t,r,n,i){return{value:qG(e,t,r,n,i)}}function qG(e,t,r,n,i){return typeof n=="function"&&!(e.type==="log"&&e.tickFormat)?n:n===void 0&&t&&og(t)?lgt(e.type,t,i)??sS:e.tickFormat?e.tickFormat(typeof r=="number"?r:null,n):typeof n=="string"&&e.domain().length>0?(og(e.domain())?jP:OS)(n):n===void 0?sS:r0(n)}function aB(e,t,r){return e.range(t,e.offset(e.floor(r)))}const k0t={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},D0t={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},F0t={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},L0t={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function sPe(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function lPe(e,t,{anchor:r,label:n=t.label,labelAnchor:i,labelArrow:a}={}){if(!(n==null||n.inferred&&cPe(t)&&/^(date|time|year)$/i.test(n))){if(n=String(n),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(n)),!a)return n;if(a===!0){const s=qvt(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${n}`;case"right":return`${n} →`;case"up":return r==="right"?`${n} ↑`:`↑ ${n}`;case"down":return r==="right"?`${n} ↓`:`↓ ${n}`}return n}}function uPe(e="auto"){return fp(e)?!1:typeof e=="boolean"?e:gv(e,"labelArrow",["auto","up","right","down","left"])}function cPe(e){return og(e.domain())}function gde(e,t){if(t==null)return t;const r=e(t);if(!r)throw new Error(`scale not found: ${t}`);return r}function N0t(e,{opacity:t,...r}={}){if(!t1(e)&&!d2e(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return fPe(e,r,(n,i,a,s)=>n.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",Nh(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function $0t(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:r=1,stroke:n=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:fp(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...o}={},l){const[h,p]=yw(t),[m,v]=yw(n),w=gde(l,h),x=gde(l,m),T=s*s*Math.PI;return r=Nh(r)[1],i=Nh(i)[1],a=Nh(a)[1],fPe(e,o,(A,P,S,E)=>A.append("svg").attr("viewBox","-8 -8 16 16").attr("width",S).attr("height",E).attr("fill",h==="color"?_=>w.scale(_):p).attr("fill-opacity",r).attr("stroke",m==="color"?_=>x.scale(_):v).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",_=>{const R=D_();return e.scale(_).draw(R,T),R}))}function fPe(e,t={},r){let{columns:n,tickFormat:i,fontVariant:a=w2e(e),swatchSize:s=15,swatchWidth:o=s,swatchHeight:l=s,marginLeft:u=0,className:f,style:h,width:p}=t;const m=MG(t);f=DG(f),i=qG(e.scale,e.domain,void 0,i);const v=Od("div",m).attr("class",`${f}-swatches ${f}-swatches-${n!=null?"columns":"wrap"}`);let w;return n!=null?(w=`:where(.${f}-swatches-columns .${f}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${f}-swatches-columns .${f}-swatch::before) {
  flex-shrink: 0;
}
:where(.${f}-swatches-columns .${f}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",n).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(r,e,o,l).call(x=>x.append("div").attr("class",`${f}-swatch-label`).attr("title",i).text(i))):(w=`:where(.${f}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${f}-swatches-wrap .${f}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(r,e,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),v.call(x=>x.insert("style","*").text(`:where(.${f}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${f}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${w}`)).style("margin-left",u?`${+u}px`:null).style("width",p===void 0?null:`${+p}px`).style("font-variant",Cd(a,"normal")).call(FG,h).node()}const aU=new Map([["symbol",$0t],["color",hPe],["opacity",B0t]]);function z0t(e,t,r={}){return(n,i)=>{if(!aU.has(n))throw new Error(`unknown legend type: ${n}`);if(n in e)return aU.get(n)(e[n],dPe(t,r[n],i),a=>e[a])}}function dPe({className:e,...t},{label:r,ticks:n,tickFormat:i}={},a){return Igt(a,{className:e,...t},{label:r,ticks:n,tickFormat:i})}function hPe(e,{legend:t=!0,...r}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return N0t(e,r);case"ramp":return Wyt(e,r);default:throw new Error(`unknown legend type: ${t}`)}}function B0t({type:e,interpolate:t,...r},{legend:n=!0,color:i=hb(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return hPe({type:e,...r,interpolate:j0t(i)},{legend:n,...a})}function j0t(e){const{r:t,g:r,b:n}=hb(e)||hb(0,0,0);return i=>`rgba(${t},${r},${n},${i})`}function U0t(e,t,r){const n=[];for(const[i,a]of aU){const s=r[i];if(s!=null&&s.legend&&i in e){const o=a(e[i],dPe(t,e[i],s),l=>e[l]);o!=null&&n.push(o)}}return n}function q0t(e={},t="x"){return DCe(e)?e:{...e,[t]:Cp}}function H0t(e={},t="y"){return FCe(e)?e:{...e,[t]:Cp}}function W0t(e,t){if(t.length===1)return{data:e,facets:t};const r=nP(e),n=new Uint8Array(r);let i=0;for(const o of t)for(const l of o)n[l]&&++i,n[l]=1;if(i===0)return{data:e,facets:t};e=rP(e);const a=e[RCe]=new Uint32Array(r+i);t=t.map(o=>rP(o,Uint32Array));let s=r;n.fill(0);for(const o of t)for(let l=0,u=o.length;l<u;++l){const f=o[l];n[f]?(o[l]=s,e[s]=e[f],a[s]=f,++s):a[f]=f,n[f]=1}return{data:e,facets:t}}function V0t(e={},t={}){arguments.length===1&&([e,t]=pPe(e));const{y1:r,y:n=r,x:i,...a}=t,[s,o,l,u]=mPe(n,i,"y","x",e,a);return{...s,y1:r,y:o,x1:l,x2:u,x:zCe(l,u)}}function G0t(e={},t={}){arguments.length===1&&([e,t]=pPe(e));const{x1:r,x:n=r,y:i,...a}=t,[s,o,l,u]=mPe(n,i,"x","y",e,a);return{...s,x1:r,x:o,y1:l,y2:u,y:zCe(l,u)}}function K0t({x:e,x1:t,x2:r,...n}={}){return n=dD(n,"y"),t===void 0&&r===void 0?V0t({x:e,...n}):([t,r]=NCe(e,t,r),{...n,x1:t,x2:r})}function Z0t({y:e,y1:t,y2:r,...n}={}){return n=dD(n,"x"),t===void 0&&r===void 0?G0t({y:e,...n}):([t,r]=NCe(e,t,r),{...n,y1:t,y2:r})}function pPe(e){const{offset:t,order:r,reverse:n,...i}=e;return[{offset:t,order:r,reverse:n},i]}const Y0t={length:!0};function mPe(e,t=hgt,r,n,{offset:i,order:a,reverse:s},o){if(t===null)throw new Error(`stack requires ${n}`);const l=$Ce(o),[u,f]=bgt(e),[h,p]=G9(t),[m,v]=G9(t);return h.hint=m.hint=Y0t,i=X0t(i),a=ebt(a,i,n),[CG(o,(w,x,T)=>{({data:w,facets:x}=W0t(w,x));const A=e==null?void 0:f(_gt(Qm(w,e),T==null?void 0:T[r])),P=Qm(w,t,Float64Array),S=Qm(w,l),E=a&&a(w,A,P,S),_=nP(w),R=p(new Float64Array(_)),O=v(new Float64Array(_)),F=[];for(const $ of x){const z=A?Array.from(tW($,q=>A[q]).values()):[$];if(E)for(const q of z)q.sort(E);for(const q of z){let Z=0,V=0;s&&q.reverse();for(const J of q){const fe=P[J];fe<0?Z=O[J]=(R[J]=Z)+fe:fe>0?V=O[J]=(R[J]=V)+fe:O[J]=R[J]=V}}F.push(z)}return i&&i(F,R,O,S),{data:w,facets:x}}),u,h,m]}function X0t(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return J0t;case"center":case"silhouette":return Q0t;case"wiggle":return vPe}throw new Error(`unknown offset: ${e}`)}}function gPe(e,t){let r=0,n=0;for(const i of e){const a=t[i];a<r&&(r=a),a>n&&(n=a)}return[r,n]}function J0t(e,t,r){for(const n of e)for(const i of n){const[a,s]=gPe(i,r);for(const o of i){const l=1/(s-a||1);t[o]=l*(t[o]-a),r[o]=l*(r[o]-a)}}}function Q0t(e,t,r){for(const n of e){for(const i of n){const[a,s]=gPe(i,r);for(const o of i){const l=(s+a)/2;t[o]-=l,r[o]-=l}}yPe(n,t,r)}bPe(e,t,r)}function vPe(e,t,r,n){for(const i of e){const a=new J_;let s=0;for(const o of i){let l=-1;const u=o.map(m=>Math.abs(r[m]-t[m])),f=o.map(m=>{l=n?n[m]:++l;const v=r[m]-t[m],w=a.has(l)?v-a.get(l):0;return a.set(l,v),w}),h=[0,...dKe(f)];for(const m of o)t[m]+=s,r[m]+=s;const p=Q_(u);p&&(s-=Q_(u,(m,v)=>(f[v]/2+h[v])*m)/p)}yPe(i,t,r)}bPe(e,t,r)}function yPe(e,t,r){const n=s0(e,i=>s0(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=n,r[a]-=n}function bPe(e,t,r){const n=e.length;if(n===1)return;const i=e.map(o=>o.flat()),a=i.map(o=>(s0(o,l=>t[l])+Jg(o,l=>r[l]))/2),s=s0(a);for(let o=0;o<n;o++){const l=s-a[o];for(const u of i[o])t[u]+=l,r[u]+=l}}function ebt(e,t,r){if(e===void 0&&t===vPe)return vde(ly);if(e!=null){if(typeof e=="string"){const n=e.startsWith("-"),i=n?zI:ly;switch((n?e.slice(1):e).toLowerCase()){case"value":case r:return tbt(i);case"z":return rbt(i);case"sum":return nbt(i);case"appearance":return ibt(i);case"inside-out":return vde(i)}return yde(ACe(e))}if(typeof e=="function")return(e.length===1?yde:abt)(e);if(Xw(e))return obt(e);throw new Error(`invalid order: ${e}`)}}function tbt(e){return(t,r,n)=>(i,a)=>e(n[i],n[a])}function rbt(e){return(t,r,n,i)=>(a,s)=>e(i[a],i[s])}function nbt(e){return pD(e,(t,r,n,i)=>rW(Hb(t),a=>Q_(a,s=>n[s]),a=>i[a]))}function ibt(e){return pD(e,(t,r,n,i)=>rW(Hb(t),a=>r[T0e(a,s=>n[s])],a=>i[a]))}function vde(e){return pD(e,(t,r,n,i)=>{const a=Hb(t),s=rW(a,h=>r[T0e(h,p=>n[p])],h=>i[h]),o=zC(a,h=>Q_(h,p=>n[p]),h=>i[h]),l=[],u=[];let f=0;for(const h of s)f<0?(f+=o.get(h),l.push(h)):(f-=o.get(h),u.push(h));return u.reverse().concat(l)})}function yde(e){return t=>{const r=Qm(t,e);return(n,i)=>ly(r[n],r[i])}}function abt(e){return t=>Xw(t)?(r,n)=>e(t[r],t[n]):(r,n)=>e(t.get(r),t.get(n))}function obt(e){return pD(ly,()=>e)}function pD(e,t){return(r,n,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new J_(t(r,n,i,a).map((o,l)=>[o,l]));return(o,l)=>e(s.get(a[o]),s.get(a[l]))}}function _Pe(e,{inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:i=t,insetLeft:a=t}={}){e.insetTop=Xd(r),e.insetRight=Xd(n),e.insetBottom=Xd(i),e.insetLeft=Xd(a)}function wPe(e,{r:t,rx:r,ry:n,rx1:i=t,ry1:a=t,rx2:s=t,ry2:o=t,rx1y1:l=i!==void 0?+i:a!==void 0?+a:0,rx1y2:u=i!==void 0?+i:o!==void 0?+o:0,rx2y1:f=s!==void 0?+s:a!==void 0?+a:0,rx2y2:h=s!==void 0?+s:o!==void 0?+o:0}={}){l||u||f||h?(e.rx1y1=l,e.rx1y2=u,e.rx2y1=f,e.rx2y2=h):(e.rx=Cd(r,"auto"),e.ry=Cd(n,"auto"))}function xPe(e,t,r,n,i,a){const{rx1y1:s,rx1y2:o,rx2y1:l,rx2y2:u}=a;typeof t!="function"&&(t=r0(t)),typeof r!="function"&&(r=r0(r)),typeof n!="function"&&(n=r0(n)),typeof i!="function"&&(i=r0(i));const f=Math.max(Math.abs(s+l),Math.abs(o+u)),h=Math.max(Math.abs(s+o),Math.abs(l+u));e.attr("d",p=>{const m=t(p),v=r(p),w=n(p),x=i(p),T=m>w,A=v>x,P=T?w:m,S=T?m:w,E=A?x:v,_=A?v:x,R=Math.min(1,(S-P)/f,(_-E)/h),O=R*(T?A?u:l:A?o:s),F=R*(T?A?o:s:A?u:l),$=R*(T?A?s:o:A?l:u),z=R*(T?A?l:u:A?s:o);return`M${P},${E+cA(O,z)}A${O},${O} 0 0 ${O<0?0:1} ${P+uA(O,z)},${E}H${S-uA(F,$)}A${F},${F} 0 0 ${F<0?0:1} ${S},${E+cA(F,$)}V${_-cA($,F)}A${$},${$} 0 0 ${$<0?0:1} ${S-uA($,F)},${_}H${P+uA(z,O)}A${z},${z} 0 0 ${z<0?0:1} ${P},${_-cA(z,O)}Z`})}function uA(e,t){return t<0?e:Math.abs(e)}function cA(e,t){return t<0?Math.abs(e):e}const sbt={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lbt={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};let ubt=class extends cg{constructor(t={}){const{anchor:r=null}=t;super(jA,void 0,t,r==null?sbt:lbt),this.anchor=MCe(r,"anchor",["top","right","bottom","left"]),_Pe(this,t),r||wPe(this,t)}render(t,r,n,i,a){const{marginTop:s,marginRight:o,marginBottom:l,marginLeft:u,width:f,height:h}=i,{anchor:p,insetTop:m,insetRight:v,insetBottom:w,insetLeft:x}=this,{rx:T,ry:A,rx1y1:P,rx1y2:S,rx2y1:E,rx2y2:_}=this,R=u+x,O=f-o-v,F=s+m,$=h-l-w;return Od(p?"svg:line":P||S||E||_?"svg:path":"svg:rect",a).datum(0).call(x0,this,i,a).call(cy,this).call(Ab,this,n).call(_y,this,{}).call(p==="left"?z=>z.attr("x1",R).attr("x2",R).attr("y1",F).attr("y2",$):p==="right"?z=>z.attr("x1",O).attr("x2",O).attr("y1",F).attr("y2",$):p==="top"?z=>z.attr("x1",R).attr("x2",O).attr("y1",F).attr("y2",F):p==="bottom"?z=>z.attr("x1",R).attr("x2",O).attr("y1",$).attr("y2",$):P||S||E||_?z=>z.call(xPe,R,F,O,$,this):z=>z.attr("x",R).attr("y",F).attr("width",O-R).attr("height",$-F).attr("rx",T).attr("ry",A)).node()}};function cbt(e){return new ubt(e)}const oB={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},fbt=new Set(["geometry","href","src","ariaLabel","scales"]);class dbt extends cg{constructor(t,r={}){r.tip&&(r={...r,tip:!1}),r.title===void 0&&e1(t)&&jCe(t)&&(r={...r,title:Cp});const{x:n,y:i,x1:a,x2:s,y1:o,y2:l,anchor:u,preferredAnchor:f="bottom",monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:v,fontVariant:w,fontWeight:x,lineHeight:T=1,lineWidth:A=20,frameAnchor:P,format:S,textAnchor:E="start",textOverflow:_,textPadding:R=8,title:O,pointerSize:F=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=r;super(t,{x:{value:a!=null&&s!=null?null:n,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null},title:{value:O,optional:!0}},r,oB),this.anchor=K9(u,"anchor"),this.preferredAnchor=K9(f,"preferredAnchor"),this.frameAnchor=sD(P),this.textAnchor=Cd(E,"middle"),this.textPadding=+R,this.pointerSize=+F,this.pathFilter=Zd($),this.lineHeight=+T,this.lineWidth=+A,this.textOverflow=z2e(_),this.monospace=!!h,this.fontFamily=Zd(p),this.fontSize=Xd(m),this.fontStyle=Zd(v),this.fontVariant=Zd(w),this.fontWeight=Zd(x);for(const z in oB)z in this.channels&&(this[z]=oB[z]);this.splitLines=j2e(this),this.clipLine=U2e(this),this.format=typeof S=="string"||typeof S=="function"?{title:S}:{...S}}render(t,r,n,i,a){const s=this,{x:o,y:l,fx:u,fy:f}=r,{ownerSVGElement:h,document:p}=a,{anchor:m,monospace:v,lineHeight:w,lineWidth:x}=this,{textPadding:T,pointerSize:A,pathFilter:P}=this,{marginTop:S,marginLeft:E}=i,{x1:_,y1:R,x2:O,y2:F,x:$=_??O,y:z=R??F}=n,q=u?u(t.fx)-E:0,Z=f?f(t.fy)-S:0,[V,J]=ET(this,i),fe=b2e(n,V),ue=_2e(n,J),pe=v?UG:jG,ve=pe(Mx);let le,se;"title"in n?(le=bde.call(this,{title:n.channels.title},r),se=vbt):(le=bde.call(this,n.channels,r),se=ybt);const ge=Od("svg:g",a).call(x0,this,i,a).call(B2e,this).call(_y,this,{x:$&&o,y:z&&l}).call(Ge=>Ge.selectAll().data(t).enter().append("g").attr("transform",ct=>`translate(${Math.round(fe(ct))},${Math.round(ue(ct))})`).call(cy,this).call(ct=>ct.append("path").attr("filter",P)).call(ct=>ct.append("text").each(function($e){const we=Kd(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Ee=se.call(s,$e,t,le,r,n);if(typeof Ee=="string")for(const Re of s.splitLines(Ee))_e(we,{value:s.clipLine(Re)});else{const Re=new Set;for(const ft of Ee){const{label:qe=""}=ft;qe&&Re.has(qe)||(Re.add(qe),_e(we,ft))}}})));function _e(Ge,{label:ct,value:$e,color:we,opacity:Ee}){ct??(ct=""),$e??($e="");const Re=we!=null||Ee!=null;let ft,qe=x*100;const[dt]=lS(ct,qe,pe,ve);if(dt>=0)ct=ct.slice(0,dt).trimEnd()+Mx,ft=$e.trim(),$e="";else{(ct||!$e&&!Re)&&($e=" "+$e);const[ut]=lS($e,qe-pe(ct),pe,ve);ut>=0&&(ft=$e.trim(),$e=$e.slice(0,ut).trimEnd()+Mx)}const he=Ge.append("tspan").attr("x",0).attr("dy",`${w}em`).text("​");ct&&he.append("tspan").attr("font-weight","bold").text(ct),$e&&he.append(()=>p.createTextNode($e)),Re&&he.append("tspan").text(" ■").attr("fill",we).attr("fill-opacity",Ee).style("user-select","none"),ft&&he.append("title").text(ft)}function ke(){const{width:Ge,height:ct}=i.facet??i;ge.selectChildren().each(function($e){let{x:we,width:Ee,height:Re}=this.getBBox();Ee=Math.round(Ee),Re=Math.round(Re);let ft=m;if(ft===void 0){const he=fe($e)+q,ut=ue($e)+Z,xt=he+Ee+A+T*2<Ge,je=he-Ee-A-T*2>0,rt=ut+Re+A+T*2<ct,Ze=ut-Re-A-T*2>0;ft=xt&&je?rt&&Ze?s.preferredAnchor:Ze?"bottom":"top":rt&&Ze?xt?"left":"right":(xt||je)&&(rt||Ze)?`${Ze?"bottom":"top"}-${xt?"left":"right"}`:s.preferredAnchor}const qe=this.firstChild,dt=this.lastChild;if(qe.setAttribute("d",gbt(ft,A,T,Ee,Re)),we)for(const he of dt.childNodes)he.setAttribute("x",-we);dt.setAttribute("y",`${+pbt(ft,dt.childNodes.length,w).toFixed(6)}em`),dt.setAttribute("transform",`translate(${mbt(ft,A,T,Ee,Re)})`)}),ge.attr("visibility",null)}return t.length&&(ge.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(ke):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ke)),ge.node()}}function hbt(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=iD(t,r)),new dbt(e,{...n,x:t,y:r})}function pbt(e,t,r){return/^top(?:-|$)/.test(e)?.94-r:-.29-t*r}function mbt(e,t,r,n,i){switch(e){case"middle":return[-n/2,i/2];case"top-left":return[r,t+r];case"top":return[-n/2,t/2+r];case"top-right":return[-n-r,t+r];case"right":return[-t/2-n-r,i/2];case"bottom-left":return[r,-t-r];case"bottom":return[-n/2,-t/2-r];case"bottom-right":return[-n-r,-t-r];case"left":return[r+t/2,i/2]}}function gbt(e,t,r,n,i){const a=n+r*2,s=i+r*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function bde(e,t){var i,a;const r={};let n=this.format;n=_de(n,e,"x"),n=_de(n,e,"y"),this.format=n;for(const s in n){const o=n[s];if(!(o===null||o===!1))if(s==="fx"||s==="fy")r[s]=!0;else{const l=Y9(e,s);l&&(r[s]=l)}}for(const s in e){if(s in r||s in n||fbt.has(s)||(s==="x"||s==="y")&&e.geometry)continue;const o=Y9(e,s);if(o){if(o.scale==null&&o.defaultScale==="color")continue;r[s]=o}}this.facet&&(t.fx&&!("fx"in n)&&(r.fx=!0),t.fy&&!("fy"in n)&&(r.fy=!0));for(const s in r){const o=this.format[s];if(typeof o=="string"){const l=((i=r[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(og(l)?jP:OS)(o)}else if(o===void 0||o===!0){const l=t[s];this.format[s]=l!=null&&l.bandwidth?qG(l,l.domain()):sS}}return r}function _de(e,t,r){if(!(r in e))return e;const n=`${r}1`,i=`${r}2`;if((n in e||!(n in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[r];return a.splice(a.findIndex(([o])=>o===r)+1,0,[n,s],[i,s]),Object.fromEntries(a)}function vbt(e,t,{title:r}){return this.format.title(r.value[e],e)}function*ybt(e,t,r,n,i){for(const a in r){if(a==="fx"||a==="fy"){yield{label:UI(n,r,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in r||a==="y1"&&"y2"in r)continue;const s=r[a];if(a==="x2"&&"x1"in r)yield{label:xde(n,r,"x"),value:wde(this.format.x2,r.x1,s,e)};else if(a==="y2"&&"y1"in r)yield{label:xde(n,r,"y"),value:wde(this.format.y2,r.y1,s,e)};else{const o=s.value[e],l=s.scale;if(!Tb(o)&&l==null)continue;yield{label:UI(n,r,a),value:this.format[a](o,e),color:l==="color"?i[a][e]:null,opacity:l==="opacity"?i[a][e]:null}}}}function wde(e,t,r,n){var i;return(i=r.hint)!=null&&i.length?`${e(r.value[n]-t.value[n],n)}`:`${e(t.value[n],n)}–${e(r.value[n],n)}`}function xde(e,t,r){const n=UI(e,t,`${r}1`,r),i=UI(e,t,`${r}2`,r);return n===i?n:`${n}–${i}`}function UI(e,t,r,n=r){const i=t[r],a=e[(i==null?void 0:i.scale)??r];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??n)}function bbt(e={}){var ve;const{facet:t,style:r,title:n,subtitle:i,caption:a,ariaLabel:s,ariaDescription:o}=e,l=DG(e.className),u=e.marks===void 0?[]:Ede(e.marks);u.push(...Pbt(u));const f=Ebt(t,e),h=new Map;for(const le of u){const se=Cde(le,f,e);se&&h.set(le,se)}const p=new Map;f&&oC(p,[f],e),oC(p,h,e);const m=Ede(Tbt(u,p,e));for(const le of m){const se=Cde(le,f,e);se&&h.set(le,se)}u.unshift(...m);let v=Xvt(p,e);if(v!==void 0){const le=f?tB(v,f):void 0;for(const ge of u){if(ge.facet===null||ge.facet==="super")continue;const _e=h.get(ge);_e!==void 0&&(_e.facetsIndex=ge.fx!=null||ge.fy!=null?tB(v,_e):le)}const se=new Set;for(const{facetsIndex:ge}of h.values())ge==null||ge.forEach((_e,ke)=>{(_e==null?void 0:_e.length)>0&&se.add(ke)});v.forEach(0<se.size&&se.size<v.length?(ge,_e)=>ge.empty=!se.has(_e):ge=>ge.empty=!1);for(const ge of u)if(ge.facet==="exclude"){const _e=h.get(ge);_e!==void 0&&(_e.facetsIndex=eyt(_e.facetsIndex))}}for(const le of _c.keys())V9(e[le])&&le!=="fx"&&le!=="fy"&&p.set(le,[]);const w=new Map;for(const le of u){if(w.has(le))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:se,channels:ge}=h.get(le)??{},{data:_e,facets:ke,channels:Ge}=le.initialize(se,ge,e);HG(Ge,e),w.set(le,{data:_e,facets:ke,channels:Ge})}const x=Q9(oC(p,w,e),e),T=Uyt(x,u,e);jvt(x,T);const A=ede(x),{fx:P,fy:S}=A,E=P||S?u2e(x,T):T,_=P||S?Dbt(A,T):T,R=MG(e),O=R.document,F=dS("svg").call(O.documentElement);let $=F;R.ownerSVGElement=F,R.className=l,R.projection=uyt(e,E),R.path=function(){return nG(this.projection??gyt(A))},R.filterFacets=(le,se)=>tB(v,{channels:se,groups:IG(le,se)}),R.getMarkState=le=>{const se=w.get(le),ge=h.get(le);return{...se,channels:{...se.channels,...ge==null?void 0:ge.channels}}},R.dispatchValue=le=>{$.value!==le&&($.value=le,$.dispatchEvent(new R.document.defaultView.Event("input",{bubbles:!0})))};const z=new Set;for(const[le,se]of w)if(le.initializer!=null){const ge=le.facet==="super"?_:E,_e=le.initializer(se.data,se.facets,se.channels,A,ge,R);if(_e.data!==void 0&&(se.data=_e.data),_e.facets!==void 0&&(se.facets=_e.facets),_e.channels!==void 0){const{fx:ke,fy:Ge,...ct}=_e.channels;Sbt(ct),Object.assign(se.channels,ct);for(const $e of Object.values(ct)){const{scale:we}=$e;we!=null&&!Dgt(_c.get(we))&&(SPe($e,e),z.add(we))}(ke!=null||Ge!=null)&&h.set(le,!0)}}if(z.size){const le=new Map;oC(le,w,e,ke=>z.has(ke)),oC(p,w,e,ke=>z.has(ke));const se=kbt(Q9(le,e),x),{scales:ge,..._e}=ede(se);Object.assign(x,se),Object.assign(A,_e),Object.assign(A.scales,ge)}let q,Z;v!==void 0&&(q={x:P==null?void 0:P.domain(),y:S==null?void 0:S.domain()},v=Jvt(v,q),Z=Qvt(P,S,T));for(const[le,se]of w)se.values=le.scale(se.channels,A,R);const{width:V,height:J}=T;Kd(F).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",V).attr("height",J).attr("viewBox",`0 0 ${V} ${J}`).attr("aria-label",s).attr("aria-description",o).call(le=>le.append("style").text(`:where(.${l}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${l} text),
:where(.${l} tspan) {
  white-space: pre;
}`)).call(FG,r);for(const le of u){const{channels:se,values:ge,facets:_e}=w.get(le);if(v===void 0||le.facet==="super"){let ke=null;if(_e&&(ke=_e[0],ke=le.filter(ke,se,ge),ke.length===0))continue;const Ge=le.render(ke,A,ge,_,R);if(Ge==null)continue;F.appendChild(Ge)}else{let ke;for(const Ge of v){if(!(((ve=le.facetAnchor)==null?void 0:ve.call(le,v,q,Ge))??!Ge.empty))continue;let ct=null;if(_e){const we=h.has(le);if(ct=_e[we?Ge.i:0],ct=le.filter(ct,se,ge),ct.length===0)continue;!we&&ct===_e[0]&&(ct=ygt(ct)),ct.fx=Ge.x,ct.fy=Ge.y,ct.fi=Ge.i}const $e=le.render(ct,A,ge,E,R);if($e!=null){(ke??(ke=Kd(F).append("g"))).append(()=>$e).datum(Ge);for(const we of["aria-label","aria-description","aria-hidden","transform"])$e.hasAttribute(we)&&(ke.attr(we,$e.getAttribute(we)),$e.removeAttribute(we))}}ke==null||ke.selectChildren().each(Z)}}const fe=U0t(x,R,e),{figure:ue=n!=null||i!=null||a!=null||fe.length>0}=e;ue&&($=O.createElement("figure"),$.className=`${l}-figure`,$.style.maxWidth="initial",n!=null&&$.append(Sde(O,n,"h2")),i!=null&&$.append(Sde(O,i,"h3")),$.append(...fe,F),a!=null&&$.append(_bt(O,a)),"value"in F&&($.value=F.value,delete F.value)),$.scale=Zvt(A.scales),$.legend=z0t(x,R,e);const pe=Evt();return pe>0&&Kd(F).append("text").attr("x",V).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${pe.toLocaleString("en-US")} warning${pe===1?"":"s"}. Please check the console.`),$}function Sde(e,t,r){if(t.ownerDocument)return t;const n=e.createElement(r);return n.append(t),n}function _bt(e,t){const r=e.createElement("figcaption");return r.append(t),r}function Ede(e){return e.flat(1/0).filter(t=>t!=null).map(wbt)}function wbt(e){return typeof e.render=="function"?e:new xbt(e)}class xbt extends cg{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function HG(e,t){for(const r in e)SPe(e[r],t);return e}function SPe(e,t){const{scale:r,transform:n=!0}=e;if(r==null||!n)return;const{type:i,percent:a,interval:s,transform:o=a?l=>l==null?NaN:l*100:BCe(s,i)}=t[r]??{};o!=null&&(e.value=_f(e.value,o),e.transform=!1)}function Sbt(e){for(const t in e)ZCe(t,e[t])}function oC(e,t,r,n=pgt){var i,a;for(const{channels:s}of t.values())for(const o in s){const l=s[o],{scale:u}=l;if(u!=null&&n(u))if(u==="projection"){if(!hyt(r)){const f=((i=r.x)==null?void 0:i.domain)===void 0,h=((a=r.y)==null?void 0:a.domain)===void 0;if(f||h){const[p,m]=myt(l);f&&sB(e,"x",p),h&&sB(e,"y",m)}}}else sB(e,u,l)}return e}function sB(e,t,r){const n=e.get(t);n!==void 0?n.push(r):e.set(t,[r])}function Ebt(e,t){if(e==null)return;const{x:r,y:n}=e;if(r==null&&n==null)return;const i=aS(e.data);if(i==null)throw new Error("missing facet data");const a={};r!=null&&(a.fx=aP(i,{value:r,scale:"fx"})),n!=null&&(a.fy=aP(i,{value:n,scale:"fy"})),HG(a,t);const s=IG(i,a);return{channels:a,groups:s,data:e.data}}function Cde(e,t,r){if(e.facet===null||e.facet==="super")return;const{fx:n,fy:i}=e;if(n!=null||i!=null){const l=aS(e.data??n??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const u={};return n!=null&&(u.fx=aP(l,{value:n,scale:"fx"})),i!=null&&(u.fy=aP(l,{value:i,scale:"fy"})),HG(u,r),{channels:u,groups:IG(l,u)}}if(t===void 0)return;const{channels:a,groups:s,data:o}=t;if(e.facet!=="auto"||e.data===o)return{channels:a,groups:s};o.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&nP(aS(e.data))===nP(o)&&db(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Cbt(e,t={}){return bw({...t,x:null,y:null},(r,n,i,a,s,o)=>o.getMarkState(e))}function Pbt(e){const t=[];for(const r of e){let n=r.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:i,preferredAnchor:a}=n;i=/^x$/i.test(i)?Hyt:/^y$/i.test(i)?ude:y2e,n=i(Cbt(r,n)),n.title=null,a===void 0&&(n.preferredAnchor=i===ude?"left":"bottom");const s=hbt(r.data,n);s.facet=r.facet,s.facetAnchor=r.facetAnchor,t.push(s)}}return t}function Tbt(e,t,r){let{projection:n,x:i={},y:a={},fx:s={},fy:o={},axis:l,grid:u,facet:f={},facet:{axis:h=l,grid:p}=f,x:{axis:m=l,grid:v=m===null?null:u}=i,y:{axis:w=l,grid:x=w===null?null:u}=a,fx:{axis:T=h,grid:A=T===null?null:p}=s,fy:{axis:P=h,grid:S=P===null?null:p}=o}=r;(n||!V9(i)&&!Pde("x",e))&&(m=v=null),(n||!V9(a)&&!Pde("y",e))&&(w=x=null),t.has("fx")||(T=A=null),t.has("fy")||(P=S=null),m===void 0&&(m=!hA(e,"x")),w===void 0&&(w=!hA(e,"y")),T===void 0&&(T=!hA(e,"fx")),P===void 0&&(P=!hA(e,"fy")),m===!0&&(m="bottom"),w===!0&&(w="left"),T===!0&&(T=m==="top"||m===null?"bottom":"top"),P===!0&&(P=w==="right"||w===null?"left":"right");const E=[];return dA(E,S,A0t,o),fA(E,P,x0t,"right","left",f,o),dA(E,A,I0t,s),fA(E,T,S0t,"top","bottom",f,s),dA(E,x,R0t,a),fA(E,w,J2e,"left","right",r,a),dA(E,v,O0t,i),fA(E,m,Q2e,"bottom","top",r,i),E}function fA(e,t,r,n,i,a,s){if(!t)return;const o=Rbt(t);s=Abt(o?n:t,a,s);const{line:l}=s;(r===J2e||r===Q2e)&&l&&!iP(l)&&e.push(cbt(Obt(s))),e.push(r(s)),o&&e.push(r({...s,anchor:i,label:null}))}function dA(e,t,r,n){!t||iP(t)||e.push(r(Ibt(t,n)))}function Rbt(e){return/^\s*both\s*$/i.test(e)}function Abt(e,t,{line:r=t.line,ticks:n,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:h,label:p=t.label,labelAnchor:m,labelArrow:v=t.labelArrow,labelOffset:w}){return{anchor:e,line:r,ticks:n,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:f,ariaDescription:h,label:p,labelAnchor:m,labelArrow:v,labelOffset:w}}function Obt(e){const{anchor:t,line:r}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:r===!0?void 0:r}}function Ibt(e,{stroke:t=oD(e)?e:void 0,ticks:r=Mbt(e)?e:void 0,tickSpacing:n,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:r,tickSpacing:n,ariaLabel:i,ariaDescription:a}}function Mbt(e){switch(typeof e){case"number":return!0;case"string":return!oD(e)}return e1(e)||typeof(e==null?void 0:e.range)=="function"}function hA(e,t){const r=`${t}-axis `;return e.some(n=>{var i;return(i=n.ariaLabel)==null?void 0:i.startsWith(r)})}function Pde(e,t){for(const r of t)for(const n in r.channels){const{scale:i}=r.channels[n];if(i===e||i==="projection")return!0}return!1}function kbt(e,t){for(const r in e){const n=e[r],i=t[r];n.label===void 0&&i&&(n.label=i.label)}return e}function Dbt({fx:e,fy:t},r){const{marginTop:n,marginRight:i,marginBottom:a,marginLeft:s,width:o,height:l}=OG(r),u=e&&Tde(e),f=t&&Tde(t);return{marginTop:t?f[0]:n,marginRight:e?o-u[1]:i,marginBottom:t?l-f[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:r.marginTop,marginRight:r.marginRight,marginBottom:r.marginBottom,marginLeft:r.marginLeft},width:o,height:l}}function Tde(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let r=e(t[0]),n=e(t[t.length-1]);return n<r&&([r,n]=[n,r]),[r,n+e.bandwidth()]}const Fbt=new Map([["basis",zmt],["basis-closed",Bmt],["basis-open",jmt],["bundle",Umt],["bump-x",Rmt],["bump-y",Amt],["cardinal",qmt],["cardinal-closed",Hmt],["cardinal-open",Wmt],["catmull-rom",Vmt],["catmull-rom-closed",Gmt],["catmull-rom-open",Kmt],["linear",Jk],["linear-closed",Zmt],["monotone-x",Ymt],["monotone-y",Xmt],["natural",Jmt],["step",Qmt],["step-after",tgt],["step-before",egt]]);function Lbt(e=Jk,t){if(typeof e=="function")return e;const r=Fbt.get(`${e}`.toLowerCase());if(!r)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in r)return r.beta(t);if("tension"in r)return r.tension(t);if("alpha"in r)return r.alpha(t)}return r}function Nbt(e=qI,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?qI:Lbt(e,t)}function qI(e){return Jk(e)}const $bt={ariaLabel:"bar"};class EPe extends cg{constructor(t,r,n={},i=$bt){super(t,r,n,i),_Pe(this,n),wPe(this,n)}render(t,r,n,i,a){const{rx:s,ry:o,rx1y1:l,rx1y2:u,rx2y1:f,rx2y2:h}=this,p=this._x(r,n,i),m=this._y(r,n,i),v=this._width(r,n,i),w=this._height(r,n,i);return Od("svg:g",a).call(x0,this,i,a).call(this._transform,this,r).call(x=>x.selectAll().data(t).enter().call(l||u||f||h?T=>T.append("path").call(cy,this).call(xPe,p,m,Rde(p,v),Rde(m,w),this).call(Ab,this,n):T=>T.append("rect").call(cy,this).attr("x",p).attr("width",v).attr("y",m).attr("height",w).call(Qa,"rx",s).call(Qa,"ry",o).call(Ab,this,n))).node()}_x(t,{x:r},{marginLeft:n}){const{insetLeft:i}=this;return r?a=>r[a]+i:n+i}_y(t,{y:r},{marginTop:n}){const{insetTop:i}=this;return r?a=>r[a]+i:n+i}_width({x:t},{x:r},{marginRight:n,marginLeft:i,width:a}){const{insetLeft:s,insetRight:o}=this,l=r&&t?t.bandwidth():a-n-i;return Math.max(0,l-s-o)}_height({y:t},{y:r},{marginTop:n,marginBottom:i,height:a}){const{insetTop:s,insetBottom:o}=this,l=r&&t?t.bandwidth():a-n-i;return Math.max(0,l-s-o)}}function Rde(e,t){return typeof e=="function"&&typeof t=="function"?r=>e(r)+t(r):typeof e=="function"?r=>e(r)+t:typeof t=="function"?r=>e+t(r):e+t}class zbt extends EPe{constructor(t,r={},n){const{x1:i,x2:a,y:s}=r;super(t,{x1:{value:i,scale:"x"},x2:{value:a,scale:"x"},y:{value:s,scale:"y",type:"band",optional:!0}},r,n)}_transform(t,r,{x:n}){t.call(_y,r,{x:n},0,0)}_x({x:t},{x1:r,x2:n},{marginLeft:i}){const{insetLeft:a}=this;return Rb(t)?i+a:s=>Math.min(r[s],n[s])+a}_width({x:t},{x1:r,x2:n},{marginRight:i,marginLeft:a,width:s}){const{insetLeft:o,insetRight:l}=this;return Rb(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(n[u]-r[u])-o-l)}}class Bbt extends EPe{constructor(t,r={},n){const{x:i,y1:a,y2:s}=r;super(t,{y1:{value:a,scale:"y"},y2:{value:s,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},r,n)}_transform(t,r,{y:n}){t.call(_y,r,{y:n},0,0)}_y({y:t},{y1:r,y2:n},{marginTop:i}){const{insetTop:a}=this;return Rb(t)?i+a:s=>Math.min(r[s],n[s])+a}_height({y:t},{y1:r,y2:n},{marginTop:i,marginBottom:a,height:s}){const{insetTop:o,insetBottom:l}=this;return Rb(t)?s-i-a-o-l:u=>Math.max(0,Math.abs(n[u]-r[u])-o-l)}}function USt(e,t={}){return LCe(t)||(t={...t,y:yG,x2:Cp}),new zbt(e,K0t(M2e(q0t(t))))}function qSt(e,t={}){return LCe(t)||(t={...t,x:yG,y2:Cp}),new Bbt(e,Z0t(k2e(H0t(t))))}const jbt={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Ubt(e){return e.sort===void 0&&e.reverse===void 0?Ugt({channel:"-r"},e):e}class qbt extends cg{constructor(t,r={}){const{x:n,y:i,r:a,rotate:s,symbol:o=tP,frameAnchor:l}=r,[u,f]=Nh(s,0),[h,p]=Bgt(o),[m,v]=Nh(a,h==null?3:4.5);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:m,scale:"r",filter:tD,optional:!0},rotate:{value:u,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},Ubt(r),jbt),this.r=v,this.rotate=f,this.symbol=p,this.frameAnchor=sD(l);const{channels:w}=this,{symbol:x}=w;if(x){const{fill:T,stroke:A}=w;x.hint={fill:T?T.value===x.value?"color":"currentColor":this.fill??"currentColor",stroke:A?A.value===x.value?"color":"currentColor":this.stroke??"none"}}}render(t,r,n,i,a){const{x:s,y:o}=r,{x:l,y:u,r:f,rotate:h,symbol:p}=n,{r:m,rotate:v,symbol:w}=this,[x,T]=ET(this,i),A=w===tP,P=f?void 0:m*m*Math.PI;return hG(m)&&(t=[]),Od("svg:g",a).call(x0,this,i,a).call(_y,this,{x:l&&s,y:u&&o}).call(S=>S.selectAll().data(t).enter().append(A?"circle":"path").call(cy,this).call(A?E=>{E.attr("cx",l?_=>l[_]:x).attr("cy",u?_=>u[_]:T).attr("r",f?_=>f[_]:m)}:E=>{E.attr("transform",zG`translate(${l?_=>l[_]:x},${u?_=>u[_]:T})${h?_=>` rotate(${h[_]})`:v?` rotate(${v})`:""}`).attr("d",f&&p?_=>{const R=D_();return p[_].draw(R,f[_]*f[_]*Math.PI),R}:f?_=>{const R=D_();return w.draw(R,f[_]*f[_]*Math.PI),R}:p?_=>{const R=D_();return p[_].draw(R,P),R}:(()=>{const _=D_();return w.draw(_,P),_})())}).call(Ab,this,n)).node()}}function HSt(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=iD(t,r)),new qbt(e,{...n,x:t,y:r})}const Hbt={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Wbt extends cg{constructor(t,r={}){const{x:n,y:i,z:a,curve:s,tension:o}=r;super(t,{x:{value:n,scale:"x"},y:{value:i,scale:"y"},z:{value:$Ce(r),optional:!0}},r,Hbt),this.z=a,this.curve=Nbt(s,o),$G(this,r)}filter(t){return t}project(t,r,n){this.curve!==qI&&super.project(t,r,n)}render(t,r,n,i,a){const{x:s,y:o}=n,{curve:l}=this;return Od("svg:g",a).call(x0,this,i,a).call(_y,this,r).call(u=>u.selectAll().data(Myt(t,[s,o],this,n)).enter().append("path").call(cy,this).call(Ayt,this,n).call(Zyt,this,n,a).attr("d",l===qI&&a.projection?Vbt(a.path(),s,o):Tmt().curve(l).defined(f=>f>=0).x(f=>s[f]).y(f=>o[f]))).node()}}function Vbt(e,t,r){return t=BI(t),r=BI(r),n=>{let i=[];const a=[i];for(const s of n)s===-1?(i=[],a.push(i)):i.push([t[s],r[s]]);return e({type:"MultiLineString",coordinates:a})}}function WSt(e,{x:t,y:r,...n}={}){return[t,r]=iD(t,r),new Wbt(e,{...n,x:t,y:r})}function VSt(e,t){return Gbt(y2e,e,t)}function Gbt(e,t,r={}){const{x:n,y:i,maxRadius:a}=r,s=e({px:n,py:i,maxRadius:a}),o=[];n!=null&&o.push(F2e(t,Ade("x",{...s,inset:-6},r))),i!=null&&o.push(L2e(t,Ade("y",{...s,inset:-6},r))),n!=null&&o.push(jI(t,Ode("x",{...s,dy:9,frameAnchor:"bottom",lineAnchor:"top"},r))),i!=null&&o.push(jI(t,Ode("y",{...s,dx:-9,frameAnchor:"left",textAnchor:"end"},r)));for(const l of o)l.ariaLabel=`crosshair ${l.ariaLabel}`;return LG(...o)}function CPe(e,{channels:t,...r},{facet:n,facetAnchor:i,fx:a,fy:s,[e]:o,channels:l,transform:u,initializer:f}){return{...r,facet:n,facetAnchor:i,fx:a,fy:s,[e]:o,channels:{...t,...l},transform:u,initializer:Kbt(e,f)}}function Kbt(e,t){return t==null?t:function(r,n,{x:i,y:a,px:s,py:o,...l},...u){const{channels:{x:f,y:h,...p}={},...m}=t.call(this,r,n,{...l,x:s,y:o},...u);return{channels:{...p,...f&&{px:f,...e==="x"&&{x:f}},...h&&{py:h,...e==="y"&&{y:h}}},...m}}}function Ade(e,t,r){const{color:n="currentColor",opacity:i=.2,ruleStroke:a=n,ruleStrokeOpacity:s=i,ruleStrokeWidth:o}=r;return{...CPe(e,t,r),stroke:a,strokeOpacity:s,strokeWidth:o}}function Ode(e,t,r){const{color:n="currentColor",textFill:i=n,textFillOpacity:a,textStroke:s="var(--plot-background)",textStrokeOpacity:o,textStrokeWidth:l=5}=r;return{...CPe(e,t,Zbt(e,r)),fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,strokeWidth:l}}function Zbt(e,t){return bw(t,(r,n,i)=>{var a;return{channels:{text:{value:(a=Y9(i,e))==null?void 0:a.value}}}})}cg.prototype.plot=function({marks:e=[],...t}={}){return bbt({...t,marks:[...e,this]})};var lB,Ide;function Ybt(){if(Ide)return lB;Ide=1;function e(t,r,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(t[s],s,t))return s;return-1}return lB=e,lB}var uB,Mde;function Xbt(){if(Mde)return uB;Mde=1;function e(t){return t!==t}return uB=e,uB}var cB,kde;function Jbt(){if(kde)return cB;kde=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return cB=e,cB}var fB,Dde;function Qbt(){if(Dde)return fB;Dde=1;var e=Ybt(),t=Xbt(),r=Jbt();function n(i,a,s){return a===a?r(i,a,s):e(i,t,s)}return fB=n,fB}var dB,Fde;function e_t(){if(Fde)return dB;Fde=1;var e=Qbt();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return dB=t,dB}var hB,Lde;function t_t(){if(Lde)return hB;Lde=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return hB=e,hB}var pB,Nde;function r_t(){if(Nde)return pB;Nde=1;function e(){}return pB=e,pB}var mB,$de;function n_t(){if($de)return mB;$de=1;var e=mpe(),t=r_t(),r=eM(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return mB=i,mB}var gB,zde;function i_t(){if(zde)return gB;zde=1;var e=ape(),t=e_t(),r=t_t(),n=ope(),i=n_t(),a=eM(),s=200;function o(l,u,f){var h=-1,p=t,m=l.length,v=!0,w=[],x=w;if(f)v=!1,p=r;else if(m>=s){var T=u?null:i(l);if(T)return a(T);v=!1,p=n,x=new e}else x=u?[]:w;e:for(;++h<m;){var A=l[h],P=u?u(A):A;if(A=f||A!==0?A:0,v&&P===P){for(var S=x.length;S--;)if(x[S]===P)continue e;u&&x.push(P),w.push(A)}else p(x,P,f)||(x!==w&&x.push(P),w.push(A))}return w}return gB=o,gB}var vB,Bde;function a_t(){if(Bde)return vB;Bde=1;var e=i_t();function t(r){return r&&r.length?e(r):[]}return vB=t,vB}var o_t=a_t();const GSt=pl(o_t);var yB={},G1={},Mg={},jde;function PPe(){if(jde)return Mg;jde=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.FrameContextConsumer=Mg.FrameContextProvider=Mg.useFrame=Mg.FrameContext=void 0;var e=vn(),t=r(e);function r(l){return l&&l.__esModule?l:{default:l}}var n=void 0,i=void 0;typeof document<"u"&&(n=document),typeof window<"u"&&(i=window);var a=Mg.FrameContext=t.default.createContext({document:n,window:i});Mg.useFrame=function(){return t.default.useContext(a)};var s=a.Provider,o=a.Consumer;return Mg.FrameContextProvider=s,Mg.FrameContextConsumer=o,Mg}var pA={},Ude;function s_t(){if(Ude)return pA;Ude=1,Object.defineProperty(pA,"__esModule",{value:!0});var e=function(){function u(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&u(f.prototype,h),p&&u(f,p),f}}(),t=vn();i(t);var r=yM(),n=i(r);function i(u){return u&&u.__esModule?u:{default:u}}function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function s(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:u}function o(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(u,f):u.__proto__=f)}var l=function(u){o(f,u);function f(){return a(this,f),s(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return e(f,[{key:"componentDidMount",value:function(){this.props.contentDidMount()}},{key:"componentDidUpdate",value:function(){this.props.contentDidUpdate()}},{key:"render",value:function(){return t.Children.only(this.props.children)}}]),f}(t.Component);return l.propTypes={children:n.default.element.isRequired,contentDidMount:n.default.func.isRequired,contentDidUpdate:n.default.func.isRequired},pA.default=l,pA}var qde;function l_t(){if(qde)return G1;qde=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.Frame=void 0;var e=Object.assign||function(x){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&(x[P]=A[P])}return x},t=function(){function x(T,A){for(var P=0;P<A.length;P++){var S=A[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,A,P){return A&&x(T.prototype,A),P&&x(T,P),T}}(),r=vn(),n=h(r),i=gU(),a=h(i),s=yM(),o=h(s),l=PPe(),u=s_t(),f=h(u);function h(x){return x&&x.__esModule?x:{default:x}}function p(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function m(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function v(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var w=G1.Frame=function(x){v(T,x);function T(A,P){p(this,T);var S=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,P));return S.setRef=function(E){S.nodeRef.current=E;var _=S.props.forwardedRef;typeof _=="function"?_(E):_&&(_.current=E)},S.handleLoad=function(){clearInterval(S.loadCheck),S.state.iframeLoaded||S.setState({iframeLoaded:!0})},S.loadCheck=function(){return setInterval(function(){S.handleLoad()},500)},S._isMounted=!1,S.nodeRef=n.default.createRef(),S.state={iframeLoaded:!1},S}return t(T,[{key:"componentDidMount",value:function(){this._isMounted=!0;var P=this.getDoc();P&&this.nodeRef.current.contentWindow.addEventListener("DOMContentLoaded",this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.nodeRef.current.removeEventListener("DOMContentLoaded",this.handleLoad)}},{key:"getDoc",value:function(){return this.nodeRef.current?this.nodeRef.current.contentDocument:null}},{key:"getMountTarget",value:function(){var P=this.getDoc();return this.props.mountTarget?P.querySelector(this.props.mountTarget):P.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var P=this.getDoc();if(!P)return null;var S=this.props.contentDidMount,E=this.props.contentDidUpdate,_=P.defaultView||P.parentView,R=n.default.createElement(f.default,{contentDidMount:S,contentDidUpdate:E},n.default.createElement(l.FrameContextProvider,{value:{document:P,window:_}},n.default.createElement("div",{className:"frame-content"},this.props.children))),O=this.getMountTarget();return O?[a.default.createPortal(this.props.head,this.getDoc().head),a.default.createPortal(R,O)]:null}},{key:"render",value:function(){var P=e({},this.props,{srcDoc:this.props.initialContent,children:void 0});return delete P.head,delete P.initialContent,delete P.mountTarget,delete P.contentDidMount,delete P.contentDidUpdate,delete P.forwardedRef,n.default.createElement("iframe",e({},P,{ref:this.setRef,onLoad:this.handleLoad}),this.state.iframeLoaded&&this.renderFrameContents())}}]),T}(r.Component);return w.propTypes={style:o.default.object,head:o.default.node,initialContent:o.default.string,mountTarget:o.default.string,contentDidMount:o.default.func,contentDidUpdate:o.default.func,children:o.default.oneOfType([o.default.element,o.default.arrayOf(o.default.element)])},w.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},G1.default=n.default.forwardRef(function(x,T){return n.default.createElement(w,e({},x,{forwardedRef:T}))}),G1}var Hde;function u_t(){return Hde||(Hde=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=l_t();Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(t).default}});var r=PPe();Object.defineProperty(e,"FrameContext",{enumerable:!0,get:function(){return r.FrameContext}}),Object.defineProperty(e,"FrameContextConsumer",{enumerable:!0,get:function(){return r.FrameContextConsumer}}),Object.defineProperty(e,"useFrame",{enumerable:!0,get:function(){return r.useFrame}});function n(i){return i&&i.__esModule?i:{default:i}}}(yB)),yB}var c_t=u_t();const KSt=pl(c_t);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oU(){return oU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oU.apply(this,arguments)}var Wde;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wde||(Wde={}));function o0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vde(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function TPe(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var Gde;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gde||(Gde={}));function f_t(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function d_t(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?TPe(e):e;return{pathname:r?r.startsWith("/")?r:h_t(r,t):t,search:m_t(n),hash:g_t(i)}}function h_t(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function bB(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p_t(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function RPe(e,t){let r=p_t(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function APe(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=TPe(e):(i=oU({},e),o0(!i.pathname||!i.pathname.includes("?"),bB("?","pathname","search",i)),o0(!i.pathname||!i.pathname.includes("#"),bB("#","pathname","hash",i)),o0(!i.search||!i.search.includes("#"),bB("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=d_t(i,o),u=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const OPe=e=>e.join("/").replace(/\/\/+/g,"/"),m_t=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g_t=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,IPe=["post","put","patch","delete"];new Set(IPe);const v_t=["get",...IPe];new Set(v_t);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sU(){return sU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sU.apply(this,arguments)}const MPe=ne.createContext(null),CT=ne.createContext(null),kPe=ne.createContext(null),mD=ne.createContext({outlet:null,matches:[],isDataRoute:!1});function y_t(e,t){let{relative:r}=t===void 0?{}:t;WG()||o0(!1);let{basename:n,navigator:i}=ne.useContext(CT),{hash:a,pathname:s,search:o}=FPe(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:OPe([n,s])),i.createHref({pathname:l,search:o,hash:a})}function WG(){return ne.useContext(kPe)!=null}function VG(){return WG()||o0(!1),ne.useContext(kPe).location}function DPe(e){ne.useContext(CT).static||ne.useLayoutEffect(e)}function b_t(){let{isDataRoute:e}=ne.useContext(mD);return e?E_t():__t()}function __t(){WG()||o0(!1);let e=ne.useContext(MPe),{basename:t,future:r,navigator:n}=ne.useContext(CT),{matches:i}=ne.useContext(mD),{pathname:a}=VG(),s=JSON.stringify(RPe(i,r.v7_relativeSplatPath)),o=ne.useRef(!1);return DPe(()=>{o.current=!0}),ne.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=APe(u,JSON.parse(s),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:OPe([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,s,a,e])}function FPe(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=ne.useContext(CT),{matches:i}=ne.useContext(mD),{pathname:a}=VG(),s=JSON.stringify(RPe(i,n.v7_relativeSplatPath));return ne.useMemo(()=>APe(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}var LPe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(LPe||{}),NPe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(NPe||{});function w_t(e){let t=ne.useContext(MPe);return t||o0(!1),t}function x_t(e){let t=ne.useContext(mD);return t||o0(!1),t}function S_t(e){let t=x_t(),r=t.matches[t.matches.length-1];return r.route.id||o0(!1),r.route.id}function E_t(){let{router:e}=w_t(LPe.UseNavigateStable),t=S_t(NPe.UseNavigateStable),r=ne.useRef(!1);return DPe(()=>{r.current=!0}),ne.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,sU({fromRouteId:t},a)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lU(){return lU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lU.apply(this,arguments)}function C_t(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function P_t(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T_t(e,t){return e.button===0&&(!t||t==="_self")&&!P_t(e)}const R_t=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A_t="6";try{window.__reactRouterVersion=A_t}catch{}const O_t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZSt=ne.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:f,viewTransition:h}=t,p=C_t(t,R_t),{basename:m}=ne.useContext(CT),v,w=!1;if(typeof u=="string"&&I_t.test(u)&&(v=u,O_t))try{let P=new URL(window.location.href),S=u.startsWith("//")?new URL(P.protocol+u):new URL(u),E=f_t(S.pathname,m);S.origin===P.origin&&E!=null?u=E+S.search+S.hash:w=!0}catch{}let x=y_t(u,{relative:i}),T=M_t(u,{replace:s,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:h});function A(P){n&&n(P),P.defaultPrevented||T(P)}return ne.createElement("a",lU({},p,{href:v||x,onClick:w||a?n:A,ref:r,target:l}))});var Kde;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kde||(Kde={}));var Zde;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zde||(Zde={}));function M_t(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=b_t(),u=VG(),f=FPe(e,{relative:s});return ne.useCallback(h=>{if(T_t(h,r)){h.preventDefault();let p=n!==void 0?n:Vde(u)===Vde(f);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,f,n,i,r,e,a,s,o])}function k_t({title:e,titleId:t,...r},n){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?ne.createElement("title",{id:t},e):null,ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const YSt=ne.forwardRef(k_t);function D_t({title:e,titleId:t,...r},n){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?ne.createElement("title",{id:t},e):null,ne.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const XSt=ne.forwardRef(D_t);function F_t({title:e,titleId:t,...r},n){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?ne.createElement("title",{id:t},e):null,ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const JSt=ne.forwardRef(F_t);var _B,Yde;function gD(){if(Yde)return _B;Yde=1;function e(){}return _B=e,_B}var wB,Xde;function PT(){if(Xde)return wB;Xde=1;var e=_q(),t=gD(),r=4294967295;function n(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=r,this.__views__=[]}return n.prototype=e(t.prototype),n.prototype.constructor=n,wB=n,wB}var xB,Jde;function TT(){if(Jde)return xB;Jde=1;var e=_q(),t=gD();function r(n,i){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=void 0}return r.prototype=e(t.prototype),r.prototype.constructor=r,xB=r,xB}var SB,Qde;function L_t(){if(Qde)return SB;Qde=1;var e=lg();function t(r,n){for(var i=-1,a=n.length,s=Array(a),o=r==null;++i<a;)s[i]=o?void 0:e(r,n[i]);return s}return SB=t,SB}var EB,ehe;function N_t(){if(ehe)return EB;ehe=1;var e=ww(),t=rM(),r=qh(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return EB=i,EB}var CB,the;function $_t(){if(the)return CB;the=1;var e=tM(),t=N_t();function r(n,i,a,s,o){var l=-1,u=n.length;for(a||(a=t),o||(o=[]);++l<u;){var f=n[l];i>0&&a(f)?i>1?r(f,i-1,a,s,o):e(o,f):s||(o[o.length]=f)}return o}return CB=r,CB}var PB,rhe;function z_t(){if(rhe)return PB;rhe=1;var e=$_t();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return PB=t,PB}var TB,nhe;function B_t(){if(nhe)return TB;nhe=1;var e=z_t(),t=Xge(),r=Jge();function n(i){return r(t(i,void 0,e),i+"")}return TB=n,TB}var RB,ihe;function GG(){if(ihe)return RB;ihe=1;function e(t,r){return r(t)}return RB=e,RB}var AB,ahe;function j_t(){if(ahe)return AB;ahe=1;var e=PT(),t=TT(),r=L_t(),n=B_t(),i=uP(),a=GG(),s=n(function(o){var l=o.length,u=l?o[0]:0,f=this.__wrapped__,h=function(p){return r(p,o)};return l>1||this.__actions__.length||!(f instanceof e)||!i(u)?this.thru(h):(f=f.slice(u,+u+(l?1:0)),f.__actions__.push({func:a,args:[h],thisArg:void 0}),new t(f,this.__chain__).thru(function(p){return l&&!p.length&&p.push(void 0),p}))});return AB=s,AB}var OB,ohe;function $Pe(){if(ohe)return OB;ohe=1;var e=PT(),t=TT(),r=vM();function n(i){if(i instanceof e)return i.clone();var a=new t(i.__wrapped__,i.__chain__);return a.__actions__=r(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}return OB=n,OB}var IB,she;function zPe(){if(she)return IB;she=1;var e=PT(),t=TT(),r=gD(),n=qh(),i=ov(),a=$Pe(),s=Object.prototype,o=s.hasOwnProperty;function l(u){if(i(u)&&!n(u)&&!(u instanceof e)){if(u instanceof t)return u;if(o.call(u,"__wrapped__"))return a(u)}return new t(u)}return l.prototype=r.prototype,l.prototype.constructor=l,IB=l,IB}var MB,lhe;function BPe(){if(lhe)return MB;lhe=1;var e=zPe();function t(r){var n=e(r);return n.__chain__=!0,n}return MB=t,MB}var kB,uhe;function U_t(){if(uhe)return kB;uhe=1;var e=TT();function t(){return new e(this.value(),this.__chain__)}return kB=t,kB}var DB,che;function q_t(){if(che)return DB;che=1;function e(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n}return DB=e,DB}var FB,fhe;function H_t(){if(fhe)return FB;fhe=1;function e(t){return t.split("")}return FB=e,FB}var LB,dhe;function W_t(){if(dhe)return LB;dhe=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+i+a+"]");function l(u){return o.test(u)}return LB=l,LB}var NB,hhe;function V_t(){if(hhe)return NB;hhe=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",s="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",v=u+"?",w="["+a+"]?",x="(?:"+m+"(?:"+[f,h,p].join("|")+")"+w+v+")*",T=w+v+x,A="(?:"+[f+o+"?",o,h,p,s].join("|")+")",P=RegExp(l+"(?="+l+")|"+A+T,"g");function S(E){return E.match(P)||[]}return NB=S,NB}var $B,phe;function G_t(){if(phe)return $B;phe=1;var e=H_t(),t=W_t(),r=V_t();function n(i){return t(i)?r(i):e(i)}return $B=n,$B}var zB,mhe;function K_t(){if(mhe)return zB;mhe=1;var e=EU();function t(r,n){return e(n,function(i){return r[i]})}return zB=t,zB}var BB,ghe;function Z_t(){if(ghe)return BB;ghe=1;var e=K_t(),t=cS();function r(n){return n==null?[]:e(n,t(n))}return BB=r,BB}var jB,vhe;function Y_t(){if(vhe)return jB;vhe=1;var e=ww(),t=vM(),r=cP(),n=Ew(),i=tge(),a=q_t(),s=upe(),o=eM(),l=G_t(),u=Z_t(),f="[object Map]",h="[object Set]",p=e?e.iterator:void 0;function m(v){if(!v)return[];if(n(v))return i(v)?l(v):t(v);if(p&&v[p])return a(v[p]());var w=r(v),x=w==f?s:w==h?o:u;return x(v)}return jB=m,jB}var UB,yhe;function X_t(){if(yhe)return UB;yhe=1;var e=Y_t();function t(){this.__values__===void 0&&(this.__values__=e(this.value()));var r=this.__index__>=this.__values__.length,n=r?void 0:this.__values__[this.__index__++];return{done:r,value:n}}return UB=t,UB}var qB,bhe;function J_t(){if(bhe)return qB;bhe=1;var e=gD(),t=$Pe();function r(n){for(var i,a=this;a instanceof e;){var s=t(a);s.__index__=0,s.__values__=void 0,i?o.__wrapped__=s:i=s;var o=s;a=a.__wrapped__}return o.__wrapped__=n,i}return qB=r,qB}var HB,_he;function Q_t(){if(_he)return HB;_he=1;var e=Array.prototype,t=e.reverse;function r(n){return n==null?n:t.call(n)}return HB=r,HB}var WB,whe;function ewt(){if(whe)return WB;whe=1;var e=PT(),t=TT(),r=Q_t(),n=GG();function i(){var a=this.__wrapped__;if(a instanceof e){var s=a;return this.__actions__.length&&(s=new e(this)),s=s.reverse(),s.__actions__.push({func:n,args:[r],thisArg:void 0}),new t(s,this.__chain__)}return this.thru(r)}return WB=i,WB}var VB,xhe;function twt(){if(xhe)return VB;xhe=1;function e(t,r){return r(t),t}return VB=e,VB}var GB,She;function rwt(){if(She)return GB;She=1;function e(){return this}return GB=e,GB}var KB,Ehe;function nwt(){if(Ehe)return KB;Ehe=1;function e(t,r,n,i){var a=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++a]);++a<s;)n=r(n,t[a],a,t);return n}return KB=e,KB}var ZB,Che;function iwt(){if(Che)return ZB;Che=1;var e=PT(),t=tM(),r=nwt();function n(i,a){var s=i;return s instanceof e&&(s=s.value()),r(a,function(o,l){return l.func.apply(l.thisArg,t([o],l.args))},s)}return ZB=n,ZB}var YB,Phe;function KG(){if(Phe)return YB;Phe=1;var e=iwt();function t(){return e(this.__wrapped__,this.__actions__)}return YB=t,YB}var XB,The;function awt(){return The||(The=1,XB=KG()),XB}var JB,Rhe;function owt(){return Rhe||(Rhe=1,JB=KG()),JB}var QB,Ahe;function swt(){if(Ahe)return QB;Ahe=1;var e=BPe();function t(){return e(this)}return QB=t,QB}var ej,Ohe;function lwt(){return Ohe||(Ohe=1,ej={at:j_t(),chain:BPe(),commit:U_t(),lodash:zPe(),next:X_t(),plant:J_t(),reverse:ewt(),tap:twt(),thru:GG(),toIterator:rwt(),toJSON:awt(),value:KG(),valueOf:owt(),wrapperChain:swt()}),ej}lwt();const uwt=e=>typeof e=="boolean"||e instanceof Boolean,cwt=e=>typeof e=="number"||e instanceof Number,fwt=e=>typeof e=="bigint"||e instanceof BigInt,jPe=e=>!!e&&e instanceof Date,dwt=e=>typeof e=="string"||e instanceof String,hwt=e=>Array.isArray(e),pwt=e=>typeof e=="object"&&e!==null,UPe=e=>!!e&&e instanceof Object&&typeof e=="function";function HI(e,t){return t===void 0&&(t=!1),!e||t?`"${e}"`:e}function mwt(e,t,r){return r?JSON.stringify(e):t?`"${e}"`:e}function qPe(e){let{field:t,value:r,data:n,lastElement:i,openBracket:a,closeBracket:s,level:o,style:l,shouldExpandNode:u,clickToExpandNode:f,outerRef:h,beforeExpandChange:p}=e;const m=ne.useRef(!1),[v,w]=ne.useState(()=>u(o,r,t)),x=ne.useRef(null);ne.useEffect(()=>{m.current?w(u(o,r,t)):m.current=!0},[u]);const T=ne.useId();if(n.length===0)return gwt({field:t,openBracket:a,closeBracket:s,lastElement:i,style:l});const A=v?l.collapseIcon:l.expandIcon,P=v?l.ariaLables.collapseJson:l.ariaLables.expandJson,S=o+1,E=n.length-1,_=F=>{v!==F&&(!p||p({level:o,value:r,field:t,newExpandValue:F}))&&w(F)},R=F=>{if(F.key==="ArrowRight"||F.key==="ArrowLeft")F.preventDefault(),_(F.key==="ArrowRight");else if(F.key==="ArrowUp"||F.key==="ArrowDown"){F.preventDefault();const $=F.key==="ArrowUp"?-1:1;if(!h.current)return;const z=h.current.querySelectorAll("[role=button]");let q=-1;for(let V=0;V<z.length;V++)if(z[V].tabIndex===0){q=V;break}if(q<0)return;const Z=(q+$+z.length)%z.length;z[q].tabIndex=-1,z[Z].tabIndex=0,z[Z].focus()}},O=()=>{var F;_(!v);const $=x.current;if(!$)return;const z=(F=h.current)===null||F===void 0?void 0:F.querySelector('[role=button][tabindex="0"]');z&&(z.tabIndex=-1),$.tabIndex=0,$.focus()};return ne.createElement("div",{className:l.basicChildStyle,role:"treeitem","aria-expanded":v,"aria-selected":void 0},ne.createElement("span",{className:A,onClick:O,onKeyDown:R,role:"button","aria-label":P,"aria-expanded":v,"aria-controls":v?T:void 0,ref:x,tabIndex:o===0?0:-1}),(t||t==="")&&(f?ne.createElement("span",{className:l.clickableLabel,onClick:O,onKeyDown:R},HI(t,l.quotesForFieldNames),":"):ne.createElement("span",{className:l.label},HI(t,l.quotesForFieldNames),":")),ne.createElement("span",{className:l.punctuation},a),v?ne.createElement("ul",{id:T,role:"group",className:l.childFieldsContainer},n.map((F,$)=>ne.createElement(HPe,{key:F[0]||$,field:F[0],value:F[1],style:l,lastElement:$===E,level:S,shouldExpandNode:u,clickToExpandNode:f,outerRef:h}))):ne.createElement("span",{className:l.collapsedContent,onClick:O,onKeyDown:R}),ne.createElement("span",{className:l.punctuation},s),!i&&ne.createElement("span",{className:l.punctuation},","))}function gwt(e){let{field:t,openBracket:r,closeBracket:n,lastElement:i,style:a}=e;return ne.createElement("div",{className:a.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&ne.createElement("span",{className:a.label},HI(t,a.quotesForFieldNames),":"),ne.createElement("span",{className:a.punctuation},r),ne.createElement("span",{className:a.punctuation},n),!i&&ne.createElement("span",{className:a.punctuation},","))}function vwt(e){let{field:t,value:r,style:n,lastElement:i,shouldExpandNode:a,clickToExpandNode:s,level:o,outerRef:l,beforeExpandChange:u}=e;return qPe({field:t,value:r,lastElement:i||!1,level:o,openBracket:"{",closeBracket:"}",style:n,shouldExpandNode:a,clickToExpandNode:s,data:Object.keys(r).map(f=>[f,r[f]]),outerRef:l,beforeExpandChange:u})}function ywt(e){let{field:t,value:r,style:n,lastElement:i,level:a,shouldExpandNode:s,clickToExpandNode:o,outerRef:l,beforeExpandChange:u}=e;return qPe({field:t,value:r,lastElement:i||!1,level:a,openBracket:"[",closeBracket:"]",style:n,shouldExpandNode:s,clickToExpandNode:o,data:r.map(f=>[void 0,f]),outerRef:l,beforeExpandChange:u})}function bwt(e){let{field:t,value:r,style:n,lastElement:i}=e,a,s=n.otherValue;return r===null?(a="null",s=n.nullValue):r===void 0?(a="undefined",s=n.undefinedValue):dwt(r)?(a=mwt(r,!n.noQuotesForStringValues,n.stringifyStringValues),s=n.stringValue):uwt(r)?(a=r?"true":"false",s=n.booleanValue):cwt(r)?(a=r.toString(),s=n.numberValue):fwt(r)?(a=`${r.toString()}n`,s=n.numberValue):jPe(r)?a=r.toISOString():UPe(r)?a="function() { }":a=r.toString(),ne.createElement("div",{className:n.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&ne.createElement("span",{className:n.label},HI(t,n.quotesForFieldNames),":"),ne.createElement("span",{className:s},a),!i&&ne.createElement("span",{className:n.punctuation},","))}function HPe(e){const t=e.value;return hwt(t)?ne.createElement(ywt,Object.assign({},e)):pwt(t)&&!jPe(t)&&!UPe(t)?ne.createElement(vwt,Object.assign({},e)):ne.createElement(bwt,Object.assign({},e))}var Ih={"container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","child-fields-container":"_1BXBN","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti"};const _wt={collapseJson:"collapse JSON",expandJson:"expand JSON"},Ihe={container:Ih["container-light"],basicChildStyle:Ih["basic-element-style"],childFieldsContainer:Ih["child-fields-container"],label:Ih["label-light"],clickableLabel:Ih["clickable-label-light"],nullValue:Ih["value-null-light"],undefinedValue:Ih["value-undefined-light"],stringValue:Ih["value-string-light"],booleanValue:Ih["value-boolean-light"],numberValue:Ih["value-number-light"],otherValue:Ih["value-other-light"],punctuation:Ih["punctuation-light"],collapseIcon:Ih["collapse-icon-light"],expandIcon:Ih["expand-icon-light"],collapsedContent:Ih["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1,ariaLables:_wt,stringifyStringValues:!1},wwt=()=>!0,QSt=e=>{let{data:t,style:r=Ihe,shouldExpandNode:n=wwt,clickToExpandNode:i=!1,beforeExpandChange:a,...s}=e;const o=ne.useRef(null);return ne.createElement("div",Object.assign({"aria-label":"JSON view"},s,{className:r.container,ref:o,role:"tree"}),ne.createElement(HPe,{value:t,style:{...Ihe,...r},lastElement:!0,level:0,shouldExpandNode:n,clickToExpandNode:i,outerRef:o,beforeExpandChange:a}))};var xwt=wq();const eEt=pl(xwt);var tj,Mhe;function Swt(){if(Mhe)return tj;Mhe=1;var e=yq(),t=CU(),r=uP(),n=ym(),i=lP();function a(s,o,l,u){if(!n(s))return s;o=t(o,s);for(var f=-1,h=o.length,p=h-1,m=s;m!=null&&++f<h;){var v=i(o[f]),w=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(f!=p){var x=m[v];w=u?u(x,v,m):void 0,w===void 0&&(w=n(x)?x:r(o[f+1])?[]:{})}e(m,v,w),m=m[v]}return s}return tj=a,tj}var rj,khe;function Ewt(){if(khe)return rj;khe=1;var e=Swt();function t(r,n,i){return r==null?r:e(r,n,i)}return rj=t,rj}var Cwt=Ewt();const tEt=pl(Cwt);var UA={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.5.0/LICENSE.txt
 */var Pwt=UA.exports,Dhe;function Twt(){return Dhe||(Dhe=1,function(e,t){(function(r,n){e.exports=n()})(Pwt,function(){var r={},n={};function i(s,o,l){if(n[s]=l,s==="index"){var u="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",f={};return n.shared(f),n.index(r,f),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([u],{type:"text/javascript"}))),r}}i("shared",["exports"],function(s){function o(b,d,y,I){return new(y||(y=Promise))(function(N,H){function G(ce){try{ae(I.next(ce))}catch(Se){H(Se)}}function X(ce){try{ae(I.throw(ce))}catch(Se){H(Se)}}function ae(ce){var Se;ce.done?N(ce.value):(Se=ce.value,Se instanceof y?Se:new y(function(Pe){Pe(Se)})).then(G,X)}ae((I=I.apply(b,d||[])).next())})}function l(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var u,f;function h(){if(f)return u;function b(d,y){this.x=d,this.y=y}return f=1,u=b,b.prototype={clone:function(){return new b(this.x,this.y)},add:function(d){return this.clone()._add(d)},sub:function(d){return this.clone()._sub(d)},multByPoint:function(d){return this.clone()._multByPoint(d)},divByPoint:function(d){return this.clone()._divByPoint(d)},mult:function(d){return this.clone()._mult(d)},div:function(d){return this.clone()._div(d)},rotate:function(d){return this.clone()._rotate(d)},rotateAround:function(d,y){return this.clone()._rotateAround(d,y)},matMult:function(d){return this.clone()._matMult(d)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(d){return this.x===d.x&&this.y===d.y},dist:function(d){return Math.sqrt(this.distSqr(d))},distSqr:function(d){var y=d.x-this.x,I=d.y-this.y;return y*y+I*I},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(d){return Math.atan2(this.y-d.y,this.x-d.x)},angleWith:function(d){return this.angleWithSep(d.x,d.y)},angleWithSep:function(d,y){return Math.atan2(this.x*y-this.y*d,this.x*d+this.y*y)},_matMult:function(d){var y=d[2]*this.x+d[3]*this.y;return this.x=d[0]*this.x+d[1]*this.y,this.y=y,this},_add:function(d){return this.x+=d.x,this.y+=d.y,this},_sub:function(d){return this.x-=d.x,this.y-=d.y,this},_mult:function(d){return this.x*=d,this.y*=d,this},_div:function(d){return this.x/=d,this.y/=d,this},_multByPoint:function(d){return this.x*=d.x,this.y*=d.y,this},_divByPoint:function(d){return this.x/=d.x,this.y/=d.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var d=this.y;return this.y=this.x,this.x=-d,this},_rotate:function(d){var y=Math.cos(d),I=Math.sin(d),N=I*this.x+y*this.y;return this.x=y*this.x-I*this.y,this.y=N,this},_rotateAround:function(d,y){var I=Math.cos(d),N=Math.sin(d),H=y.y+N*(this.x-y.x)+I*(this.y-y.y);return this.x=y.x+I*(this.x-y.x)-N*(this.y-y.y),this.y=H,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(d){return d instanceof b?d:Array.isArray(d)?new b(d[0],d[1]):d},u}typeof SuppressedError=="function"&&SuppressedError;var p,m,v=l(h()),w=function(){if(m)return p;function b(d,y,I,N){this.cx=3*d,this.bx=3*(I-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*y,this.by=3*(N-y)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=y,this.p2x=I,this.p2y=N}return m=1,p=b,b.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,y){if(y===void 0&&(y=1e-6),d<0)return 0;if(d>1)return 1;for(var I=d,N=0;N<8;N++){var H=this.sampleCurveX(I)-d;if(Math.abs(H)<y)return I;var G=this.sampleCurveDerivativeX(I);if(Math.abs(G)<1e-6)break;I-=H/G}var X=0,ae=1;for(I=d,N=0;N<20&&(H=this.sampleCurveX(I),!(Math.abs(H-d)<y));N++)d>H?X=I:ae=I,I=.5*(ae-X)+X;return I},solve:function(d,y){return this.sampleCurveY(this.solveCurveX(d,y))}},p}(),x=l(w);let T,A;function P(){return T==null&&(T=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),T}function S(){if(A==null&&(A=!1,P())){const d=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(d){for(let I=0;I<5*5;I++){const N=4*I;d.fillStyle=`rgb(${N},${N+1},${N+2})`,d.fillRect(I%5,Math.floor(I/5),1,1)}const y=d.getImageData(0,0,5,5).data;for(let I=0;I<5*5*4;I++)if(I%4!=3&&y[I]!==I){A=!0;break}}}return A||!1}var E=1e-6,_=typeof Float32Array<"u"?Float32Array:Array;function R(){var b=new _(9);return _!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[5]=0,b[6]=0,b[7]=0),b[0]=1,b[4]=1,b[8]=1,b}function O(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function F(){var b=new _(3);return _!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0),b}function $(b){return Math.hypot(b[0],b[1],b[2])}function z(b,d,y){var I=new _(3);return I[0]=b,I[1]=d,I[2]=y,I}Math.hypot||(Math.hypot=function(){for(var b=0,d=arguments.length;d--;)b+=arguments[d]*arguments[d];return Math.sqrt(b)});var q,Z=$;function V(b,d,y){var I=d[0],N=d[1],H=d[2],G=d[3];return b[0]=y[0]*I+y[4]*N+y[8]*H+y[12]*G,b[1]=y[1]*I+y[5]*N+y[9]*H+y[13]*G,b[2]=y[2]*I+y[6]*N+y[10]*H+y[14]*G,b[3]=y[3]*I+y[7]*N+y[11]*H+y[15]*G,b}function J(){var b=new _(4);return _!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0),b[3]=1,b}function fe(){var b=new _(2);return _!=Float32Array&&(b[0]=0,b[1]=0),b}function ue(b,d){var y=new _(2);return y[0]=b,y[1]=d,y}F(),q=new _(4),_!=Float32Array&&(q[0]=0,q[1]=0,q[2]=0,q[3]=0),F(),z(1,0,0),z(0,1,0),J(),J(),R(),fe();const pe=8192;function ve(b,d,y){return d*(pe/(b.tileSize*Math.pow(2,y-b.tileID.overscaledZ)))}function le(b,d){return(b%d+d)%d}function se(b,d,y){return b*(1-y)+d*y}function ge(b){if(b<=0)return 0;if(b>=1)return 1;const d=b*b,y=d*b;return 4*(b<.5?y:3*(b-d)+y-.75)}function _e(b,d,y,I){const N=new x(b,d,y,I);return H=>N.solve(H)}const ke=_e(.25,.1,.25,1);function Ge(b,d,y){return Math.min(y,Math.max(d,b))}function ct(b,d,y){const I=y-d,N=((b-d)%I+I)%I+d;return N===d?y:N}function $e(b,...d){for(const y of d)for(const I in y)b[I]=y[I];return b}let we=1;function Ee(b,d,y){const I={};for(const N in b)I[N]=d.call(this,b[N],N,b);return I}function Re(b,d,y){const I={};for(const N in b)d.call(this,b[N],N,b)&&(I[N]=b[N]);return I}function ft(b){return Array.isArray(b)?b.map(ft):typeof b=="object"&&b?Ee(b,ft):b}const qe={};function dt(b){qe[b]||(typeof console<"u"&&console.warn(b),qe[b]=!0)}function he(b,d,y){return(y.y-b.y)*(d.x-b.x)>(d.y-b.y)*(y.x-b.x)}function ut(b){return typeof WorkerGlobalScope<"u"&&b!==void 0&&b instanceof WorkerGlobalScope}let xt=null;function je(b){return typeof ImageBitmap<"u"&&b instanceof ImageBitmap}const rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ze(b,d,y,I,N){return o(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const H=new VideoFrame(b,{timestamp:0});try{const G=H==null?void 0:H.format;if(!G||!G.startsWith("BGR")&&!G.startsWith("RGB"))throw new Error(`Unrecognized format ${G}`);const X=G.startsWith("BGR"),ae=new Uint8ClampedArray(I*N*4);if(yield H.copyTo(ae,function(ce,Se,Pe,Be,He){const Xe=4*Math.max(1,0),st=(Math.max(0,Pe)-Pe)*Be*4+Xe,wt=4*Be,Mt=Math.max(0,Se),lr=Math.max(0,Pe);return{rect:{x:Mt,y:lr,width:Math.min(ce.width,Se+Be)-Mt,height:Math.min(ce.height,Pe+He)-lr},layout:[{offset:st,stride:wt}]}}(b,d,y,I,N)),X)for(let ce=0;ce<ae.length;ce+=4){const Se=ae[ce];ae[ce]=ae[ce+2],ae[ce+2]=Se}return ae}finally{H.close()}})}let yt,Vt;function At(b,d,y,I){return b.addEventListener(d,y,I),{unsubscribe:()=>{b.removeEventListener(d,y,I)}}}function hr(b){return b*Math.PI/180}function Sr(b){return b/Math.PI*180}const fr={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Dt={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},dr="AbortError";function Nr(){return new Error(dr)}const gr={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function wr(b){return gr.REGISTERED_PROTOCOLS[b.substring(0,b.indexOf("://"))]}const Fr="global-dispatcher";class _n extends Error{constructor(d,y,I,N){super(`AJAXError: ${y} (${d}): ${I}`),this.status=d,this.statusText=y,this.url=I,this.body=N}}const nn=()=>ut(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ot=function(b,d){if(/:\/\//.test(b.url)&&!/^https?:|^file:/.test(b.url)){const I=wr(b.url);if(I)return I(b,d);if(ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:b,targetMapId:Fr},d)}if(!(/^file:/.test(y=b.url)||/^file:/.test(nn())&&!/^\w+:/.test(y))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(I,N){return o(this,void 0,void 0,function*(){const H=new Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,cache:I.cache,referrer:nn(),signal:N.signal});let G,X;I.type!=="json"||H.headers.has("Accept")||H.headers.set("Accept","application/json");try{G=yield fetch(H)}catch(ce){throw new _n(0,ce.message,I.url,new Blob)}if(!G.ok){const ce=yield G.blob();throw new _n(G.status,G.statusText,I.url,ce)}X=I.type==="arrayBuffer"||I.type==="image"?G.arrayBuffer():I.type==="json"?G.json():G.text();const ae=yield X;if(N.signal.aborted)throw Nr();return{data:ae,cacheControl:G.headers.get("Cache-Control"),expires:G.headers.get("Expires")}})}(b,d);if(ut(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:b,mustQueue:!0,targetMapId:Fr},d)}var y;return function(I,N){return new Promise((H,G)=>{var X;const ae=new XMLHttpRequest;ae.open(I.method||"GET",I.url,!0),I.type!=="arrayBuffer"&&I.type!=="image"||(ae.responseType="arraybuffer");for(const ce in I.headers)ae.setRequestHeader(ce,I.headers[ce]);I.type==="json"&&(ae.responseType="text",!((X=I.headers)===null||X===void 0)&&X.Accept||ae.setRequestHeader("Accept","application/json")),ae.withCredentials=I.credentials==="include",ae.onerror=()=>{G(new Error(ae.statusText))},ae.onload=()=>{if(!N.signal.aborted)if((ae.status>=200&&ae.status<300||ae.status===0)&&ae.response!==null){let ce=ae.response;if(I.type==="json")try{ce=JSON.parse(ae.response)}catch(Se){return void G(Se)}H({data:ce,cacheControl:ae.getResponseHeader("Cache-Control"),expires:ae.getResponseHeader("Expires")})}else{const ce=new Blob([ae.response],{type:ae.getResponseHeader("Content-Type")});G(new _n(ae.status,ae.statusText,I.url,ce))}},N.signal.addEventListener("abort",()=>{ae.abort(),G(Nr())}),ae.send(I.body)})}(b,d)};function Je(b){if(!b||b.indexOf("://")<=0||b.indexOf("data:image/")===0||b.indexOf("blob:")===0)return!0;const d=new URL(b),y=window.location;return d.protocol===y.protocol&&d.host===y.host}function Me(b,d,y){y[b]&&y[b].indexOf(d)!==-1||(y[b]=y[b]||[],y[b].push(d))}function Le(b,d,y){if(y&&y[b]){const I=y[b].indexOf(d);I!==-1&&y[b].splice(I,1)}}class Ye{constructor(d,y={}){$e(this,y),this.type=d}}class gt extends Ye{constructor(d,y={}){super("error",$e({error:d},y))}}class kt{on(d,y){return this._listeners=this._listeners||{},Me(d,y,this._listeners),{unsubscribe:()=>{this.off(d,y)}}}off(d,y){return Le(d,y,this._listeners),Le(d,y,this._oneTimeListeners),this}once(d,y){return y?(this._oneTimeListeners=this._oneTimeListeners||{},Me(d,y,this._oneTimeListeners),this):new Promise(I=>this.once(d,I))}fire(d,y){typeof d=="string"&&(d=new Ye(d,y||{}));const I=d.type;if(this.listens(I)){d.target=this;const N=this._listeners&&this._listeners[I]?this._listeners[I].slice():[];for(const X of N)X.call(this,d);const H=this._oneTimeListeners&&this._oneTimeListeners[I]?this._oneTimeListeners[I].slice():[];for(const X of H)Le(I,X,this._oneTimeListeners),X.call(this,d);const G=this._eventedParent;G&&($e(d,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),G.fire(d))}else d instanceof gt&&console.error(d.error);return this}listens(d){return this._listeners&&this._listeners[d]&&this._listeners[d].length>0||this._oneTimeListeners&&this._oneTimeListeners[d]&&this._oneTimeListeners[d].length>0||this._eventedParent&&this._eventedParent.listens(d)}setEventedParent(d,y){return this._eventedParent=d,this._eventedParentData=y,this}}var at={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Ft=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Tt(b,d){const y={};for(const I in b)I!=="ref"&&(y[I]=b[I]);return Ft.forEach(I=>{I in d&&(y[I]=d[I])}),y}function ir(b,d){if(Array.isArray(b)){if(!Array.isArray(d)||b.length!==d.length)return!1;for(let y=0;y<b.length;y++)if(!ir(b[y],d[y]))return!1;return!0}if(typeof b=="object"&&b!==null&&d!==null){if(typeof d!="object"||Object.keys(b).length!==Object.keys(d).length)return!1;for(const y in b)if(!ir(b[y],d[y]))return!1;return!0}return b===d}function or(b,d){b.push(d)}function ar(b,d,y){or(y,{command:"addSource",args:[b,d[b]]})}function zr(b,d,y){or(d,{command:"removeSource",args:[b]}),y[b]=!0}function mt(b,d,y,I){zr(b,y,I),ar(b,d,y)}function It(b,d,y){let I;for(I in b[y])if(Object.prototype.hasOwnProperty.call(b[y],I)&&I!=="data"&&!ir(b[y][I],d[y][I]))return!1;for(I in d[y])if(Object.prototype.hasOwnProperty.call(d[y],I)&&I!=="data"&&!ir(b[y][I],d[y][I]))return!1;return!0}function Kt(b,d,y,I,N,H){b=b||{},d=d||{};for(const G in b)Object.prototype.hasOwnProperty.call(b,G)&&(ir(b[G],d[G])||y.push({command:H,args:[I,G,d[G],N]}));for(const G in d)Object.prototype.hasOwnProperty.call(d,G)&&!Object.prototype.hasOwnProperty.call(b,G)&&(ir(b[G],d[G])||y.push({command:H,args:[I,G,d[G],N]}))}function br(b){return b.id}function Rr(b,d){return b[d.id]=d,b}class jt{constructor(d,y,I,N){this.message=(d?`${d}: `:"")+I,N&&(this.identifier=N),y!=null&&y.__line__&&(this.line=y.__line__)}}function Yt(b,...d){for(const y of d)for(const I in y)b[I]=y[I];return b}class Jt extends Error{constructor(d,y){super(y),this.message=y,this.key=d}}class rr{constructor(d,y=[]){this.parent=d,this.bindings={};for(const[I,N]of y)this.bindings[I]=N}concat(d){return new rr(this,d)}get(d){if(this.bindings[d])return this.bindings[d];if(this.parent)return this.parent.get(d);throw new Error(`${d} not found in scope.`)}has(d){return!!this.bindings[d]||!!this.parent&&this.parent.has(d)}}const vr={kind:"null"},Lt={kind:"number"},Ir={kind:"string"},fn={kind:"boolean"},Fn={kind:"color"},ui={kind:"projectionDefinition"},yi={kind:"object"},Wn={kind:"value"},mi={kind:"collator"},ya={kind:"formatted"},Ka={kind:"padding"},Ua={kind:"colorArray"},Ji={kind:"numberArray"},So={kind:"resolvedImage"},ci={kind:"variableAnchorOffsetCollection"};function Ia(b,d){return{kind:"array",itemType:b,N:d}}function Ti(b){if(b.kind==="array"){const d=Ti(b.itemType);return typeof b.N=="number"?`array<${d}, ${b.N}>`:b.itemType.kind==="value"?"array":`array<${d}>`}return b.kind}const Ko=[vr,Lt,Ir,fn,Fn,ui,ya,yi,Ia(Wn),Ka,Ji,Ua,So,ci];function wi(b,d){if(d.kind==="error")return null;if(b.kind==="array"){if(d.kind==="array"&&(d.N===0&&d.itemType.kind==="value"||!wi(b.itemType,d.itemType))&&(typeof b.N!="number"||b.N===d.N))return null}else{if(b.kind===d.kind)return null;if(b.kind==="value"){for(const y of Ko)if(!wi(y,d))return null}}return`Expected ${Ti(b)} but found ${Ti(d)} instead.`}function lo(b,d){return d.some(y=>y.kind===b.kind)}function co(b,d){return d.some(y=>y==="null"?b===null:y==="array"?Array.isArray(b):y==="object"?b&&!Array.isArray(b)&&typeof b=="object":y===typeof b)}function bi(b,d){return b.kind==="array"&&d.kind==="array"?b.itemType.kind===d.itemType.kind&&typeof b.N=="number":b.kind===d.kind}const Ri=.96422,sa=.82521,qa=4/29,os=6/29,Eo=3*os*os,Ns=os*os*os,Zo=Math.PI/180,ml=180/Math.PI;function Au(b){return(b%=360)<0&&(b+=360),b}function Vl([b,d,y,I]){let N,H;const G=wc((.2225045*(b=gl(b))+.7168786*(d=gl(d))+.0606169*(y=gl(y)))/1);b===d&&d===y?N=H=G:(N=wc((.4360747*b+.3850649*d+.1430804*y)/Ri),H=wc((.0139322*b+.0971045*d+.7141733*y)/sa));const X=116*G-16;return[X<0?0:X,500*(N-G),200*(G-H),I]}function gl(b){return b<=.04045?b/12.92:Math.pow((b+.055)/1.055,2.4)}function wc(b){return b>Ns?Math.pow(b,1/3):b/Eo+qa}function Gl([b,d,y,I]){let N=(b+16)/116,H=isNaN(d)?N:N+d/500,G=isNaN(y)?N:N-y/200;return N=1*Rl(N),H=Ri*Rl(H),G=sa*Rl(G),[ko(3.1338561*H-1.6168667*N-.4906146*G),ko(-.9787684*H+1.9161415*N+.033454*G),ko(.0719453*H-.2289914*N+1.4052427*G),I]}function ko(b){return(b=b<=.00304?12.92*b:1.055*Math.pow(b,1/2.4)-.055)<0?0:b>1?1:b}function Rl(b){return b>os?b*b*b:Eo*(b-qa)}const uo=Object.hasOwn||function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};function Al(b,d){return uo(b,d)?b[d]:void 0}function Ol(b){return parseInt(b.padEnd(2,b),16)/255}function fa(b,d){return Co(d?b/100:b,0,1)}function Co(b,d,y){return Math.min(Math.max(d,b),y)}function Bi(b){return!b.some(Number.isNaN)}const to={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Yo(b,d,y){return b+y*(d-b)}function du(b,d,y){return b.map((I,N)=>Yo(I,d[N],y))}class Ei{constructor(d,y,I,N=1,H=!0){this.r=d,this.g=y,this.b=I,this.a=N,H||(this.r*=N,this.g*=N,this.b*=N,N||this.overwriteGetter("rgb",[d,y,I,N]))}static parse(d){if(d instanceof Ei)return d;if(typeof d!="string")return;const y=function(I){if((I=I.toLowerCase().trim())==="transparent")return[0,0,0,0];const N=Al(to,I);if(N){const[G,X,ae]=N;return[G/255,X/255,ae/255,1]}if(I.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(I)){const G=I.length<6?1:2;let X=1;return[Ol(I.slice(X,X+=G)),Ol(I.slice(X,X+=G)),Ol(I.slice(X,X+=G)),Ol(I.slice(X,X+G)||"ff")]}if(I.startsWith("rgb")){const G=I.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(G){const[X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr]=G,qt=[Se||" ",He||" ",wt].join("");if(qt==="  "||qt==="  /"||qt===",,"||qt===",,,"){const Ue=[ce,Be,st].join(""),bt=Ue==="%%%"?100:Ue===""?255:0;if(bt){const Gt=[Co(+ae/bt,0,1),Co(+Pe/bt,0,1),Co(+Xe/bt,0,1),Mt?fa(+Mt,lr):1];if(Bi(Gt))return Gt}}return}}const H=I.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(H){const[G,X,ae,ce,Se,Pe,Be,He,Xe]=H,st=[ae||" ",Se||" ",Be].join("");if(st==="  "||st==="  /"||st===",,"||st===",,,"){const wt=[+X,Co(+ce,0,100),Co(+Pe,0,100),He?fa(+He,Xe):1];if(Bi(wt))return function([Mt,lr,qt,Ue]){function bt(Gt){const Ur=(Gt+Mt/30)%12,mn=lr*Math.min(qt,1-qt);return qt-mn*Math.max(-1,Math.min(Ur-3,9-Ur,1))}return Mt=Au(Mt),lr/=100,qt/=100,[bt(0),bt(8),bt(4),Ue]}(wt)}}}(d);return y?new Ei(...y,!1):void 0}get rgb(){const{r:d,g:y,b:I,a:N}=this,H=N||1/0;return this.overwriteGetter("rgb",[d/H,y/H,I/H,N])}get hcl(){return this.overwriteGetter("hcl",function(d){const[y,I,N,H]=Vl(d),G=Math.sqrt(I*I+N*N);return[Math.round(1e4*G)?Au(Math.atan2(N,I)*ml):NaN,G,y,H]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Vl(this.rgb))}overwriteGetter(d,y){return Object.defineProperty(this,d,{value:y}),y}toString(){const[d,y,I,N]=this.rgb;return`rgba(${[d,y,I].map(H=>Math.round(255*H)).join(",")},${N})`}static interpolate(d,y,I,N="rgb"){switch(N){case"rgb":{const[H,G,X,ae]=du(d.rgb,y.rgb,I);return new Ei(H,G,X,ae,!1)}case"hcl":{const[H,G,X,ae]=d.hcl,[ce,Se,Pe,Be]=y.hcl;let He,Xe;if(isNaN(H)||isNaN(ce))isNaN(H)?isNaN(ce)?He=NaN:(He=ce,X!==1&&X!==0||(Xe=Se)):(He=H,Pe!==1&&Pe!==0||(Xe=G));else{let qt=ce-H;ce>H&&qt>180?qt-=360:ce<H&&H-ce>180&&(qt+=360),He=H+I*qt}const[st,wt,Mt,lr]=function([qt,Ue,bt,Gt]){return qt=isNaN(qt)?0:qt*Zo,Gl([bt,Math.cos(qt)*Ue,Math.sin(qt)*Ue,Gt])}([He,Xe??Yo(G,Se,I),Yo(X,Pe,I),Yo(ae,Be,I)]);return new Ei(st,wt,Mt,lr,!1)}case"lab":{const[H,G,X,ae]=Gl(du(d.lab,y.lab,I));return new Ei(H,G,X,ae,!1)}}}}Ei.black=new Ei(0,0,0,1),Ei.white=new Ei(1,1,1,1),Ei.transparent=new Ei(0,0,0,0),Ei.red=new Ei(1,0,0,1);class Ou{constructor(d,y,I){this.sensitivity=d?y?"variant":"case":y?"accent":"base",this.locale=I,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(d,y){return this.collator.compare(d,y)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const hu=["bottom","center","top"];class Qs{constructor(d,y,I,N,H,G){this.text=d,this.image=y,this.scale=I,this.fontStack=N,this.textColor=H,this.verticalAlign=G}}class Ma{constructor(d){this.sections=d}static fromString(d){return new Ma([new Qs(d,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(d=>d.text.length!==0||d.image&&d.image.name.length!==0)}static factory(d){return d instanceof Ma?d:Ma.fromString(d)}toString(){return this.sections.length===0?"":this.sections.map(d=>d.text).join("")}}class Po{constructor(d){this.values=d.slice()}static parse(d){if(d instanceof Po)return d;if(typeof d=="number")return new Po([d,d,d,d]);if(Array.isArray(d)&&!(d.length<1||d.length>4)){for(const y of d)if(typeof y!="number")return;switch(d.length){case 1:d=[d[0],d[0],d[0],d[0]];break;case 2:d=[d[0],d[1],d[0],d[1]];break;case 3:d=[d[0],d[1],d[2],d[1]]}return new Po(d)}}toString(){return JSON.stringify(this.values)}static interpolate(d,y,I){return new Po(du(d.values,y.values,I))}}class Ha{constructor(d){this.values=d.slice()}static parse(d){if(d instanceof Ha)return d;if(typeof d=="number")return new Ha([d]);if(Array.isArray(d)){for(const y of d)if(typeof y!="number")return;return new Ha(d)}}toString(){return JSON.stringify(this.values)}static interpolate(d,y,I){return new Ha(du(d.values,y.values,I))}}class ss{constructor(d){this.values=d.slice()}static parse(d){if(d instanceof ss)return d;if(typeof d=="string"){const I=Ei.parse(d);return I?new ss([I]):void 0}if(!Array.isArray(d))return;const y=[];for(const I of d){if(typeof I!="string")return;const N=Ei.parse(I);if(!N)return;y.push(N)}return new ss(y)}toString(){return JSON.stringify(this.values)}static interpolate(d,y,I,N="rgb"){const H=[];if(d.values.length!=y.values.length)throw new Error(`colorArray: Arrays have mismatched length (${d.values.length} vs. ${y.values.length}), cannot interpolate.`);for(let G=0;G<d.values.length;G++)H.push(Ei.interpolate(d.values[G],y.values[G],I,N));return new ss(H)}}class Ca extends Error{constructor(d){super(d),this.name="RuntimeError"}toJSON(){return this.message}}const nf=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Xo{constructor(d){this.values=d.slice()}static parse(d){if(d instanceof Xo)return d;if(Array.isArray(d)&&!(d.length<1)&&d.length%2==0){for(let y=0;y<d.length;y+=2){const I=d[y],N=d[y+1];if(typeof I!="string"||!nf.has(I)||!Array.isArray(N)||N.length!==2||typeof N[0]!="number"||typeof N[1]!="number")return}return new Xo(d)}}toString(){return JSON.stringify(this.values)}static interpolate(d,y,I){const N=d.values,H=y.values;if(N.length!==H.length)throw new Ca(`Cannot interpolate values of different length. from: ${d.toString()}, to: ${y.toString()}`);const G=[];for(let X=0;X<N.length;X+=2){if(N[X]!==H[X])throw new Ca(`Cannot interpolate values containing mismatched anchors. from[${X}]: ${N[X]}, to[${X}]: ${H[X]}`);G.push(N[X]);const[ae,ce]=N[X+1],[Se,Pe]=H[X+1];G.push([Yo(ae,Se,I),Yo(ce,Pe,I)])}return new Xo(G)}}class ms{constructor(d){this.name=d.name,this.available=d.available}toString(){return this.name}static fromString(d){return d?new ms({name:d,available:!1}):null}}class ba{constructor(d,y,I){this.from=d,this.to=y,this.transition=I}static interpolate(d,y,I){return new ba(d,y,I)}static parse(d){return d instanceof ba?d:Array.isArray(d)&&d.length===3&&typeof d[0]=="string"&&typeof d[1]=="string"&&typeof d[2]=="number"?new ba(d[0],d[1],d[2]):typeof d=="object"&&typeof d.from=="string"&&typeof d.to=="string"&&typeof d.transition=="number"?new ba(d.from,d.to,d.transition):typeof d=="string"?new ba(d,d,1):void 0}}function _t(b,d,y,I){return typeof b=="number"&&b>=0&&b<=255&&typeof d=="number"&&d>=0&&d<=255&&typeof y=="number"&&y>=0&&y<=255?I===void 0||typeof I=="number"&&I>=0&&I<=1?null:`Invalid rgba value [${[b,d,y,I].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof I=="number"?[b,d,y,I]:[b,d,y]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Nt(b){if(b===null||typeof b=="string"||typeof b=="boolean"||typeof b=="number"||b instanceof ba||b instanceof Ei||b instanceof Ou||b instanceof Ma||b instanceof Po||b instanceof Ha||b instanceof ss||b instanceof Xo||b instanceof ms)return!0;if(Array.isArray(b)){for(const d of b)if(!Nt(d))return!1;return!0}if(typeof b=="object"){for(const d in b)if(!Nt(b[d]))return!1;return!0}return!1}function Ar(b){if(b===null)return vr;if(typeof b=="string")return Ir;if(typeof b=="boolean")return fn;if(typeof b=="number")return Lt;if(b instanceof Ei)return Fn;if(b instanceof ba)return ui;if(b instanceof Ou)return mi;if(b instanceof Ma)return ya;if(b instanceof Po)return Ka;if(b instanceof Ha)return Ji;if(b instanceof ss)return Ua;if(b instanceof Xo)return ci;if(b instanceof ms)return So;if(Array.isArray(b)){const d=b.length;let y;for(const I of b){const N=Ar(I);if(y){if(y===N)continue;y=Wn;break}y=N}return Ia(y||Wn,d)}return yi}function Zt(b){const d=typeof b;return b===null?"":d==="string"||d==="number"||d==="boolean"?String(b):b instanceof Ei||b instanceof ba||b instanceof Ma||b instanceof Po||b instanceof Ha||b instanceof ss||b instanceof Xo||b instanceof ms?b.toString():JSON.stringify(b)}class pr{constructor(d,y){this.type=d,this.value=y}static parse(d,y){if(d.length!==2)return y.error(`'literal' expression requires exactly one argument, but found ${d.length-1} instead.`);if(!Nt(d[1]))return y.error("invalid value");const I=d[1];let N=Ar(I);const H=y.expectedType;return N.kind!=="array"||N.N!==0||!H||H.kind!=="array"||typeof H.N=="number"&&H.N!==0||(N=H),new pr(N,I)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Kr={string:Ir,number:Lt,boolean:fn,object:yi};class rn{constructor(d,y){this.type=d,this.args=y}static parse(d,y){if(d.length<2)return y.error("Expected at least one argument.");let I,N=1;const H=d[0];if(H==="array"){let X,ae;if(d.length>2){const ce=d[1];if(typeof ce!="string"||!(ce in Kr)||ce==="object")return y.error('The item type argument of "array" must be one of string, number, boolean',1);X=Kr[ce],N++}else X=Wn;if(d.length>3){if(d[2]!==null&&(typeof d[2]!="number"||d[2]<0||d[2]!==Math.floor(d[2])))return y.error('The length argument to "array" must be a positive integer literal',2);ae=d[2],N++}I=Ia(X,ae)}else{if(!Kr[H])throw new Error(`Types doesn't contain name = ${H}`);I=Kr[H]}const G=[];for(;N<d.length;N++){const X=y.parse(d[N],N,Wn);if(!X)return null;G.push(X)}return new rn(I,G)}evaluate(d){for(let y=0;y<this.args.length;y++){const I=this.args[y].evaluate(d);if(!wi(this.type,Ar(I)))return I;if(y===this.args.length-1)throw new Ca(`Expected value to be of type ${Ti(this.type)}, but found ${Ti(Ar(I))} instead.`)}throw new Error}eachChild(d){this.args.forEach(d)}outputDefined(){return this.args.every(d=>d.outputDefined())}}const ri={"to-boolean":fn,"to-color":Fn,"to-number":Lt,"to-string":Ir};class Sn{constructor(d,y){this.type=d,this.args=y}static parse(d,y){if(d.length<2)return y.error("Expected at least one argument.");const I=d[0];if(!ri[I])throw new Error(`Can't parse ${I} as it is not part of the known types`);if((I==="to-boolean"||I==="to-string")&&d.length!==2)return y.error("Expected one argument.");const N=ri[I],H=[];for(let G=1;G<d.length;G++){const X=y.parse(d[G],G,Wn);if(!X)return null;H.push(X)}return new Sn(N,H)}evaluate(d){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(d);case"color":{let y,I;for(const N of this.args){if(y=N.evaluate(d),I=null,y instanceof Ei)return y;if(typeof y=="string"){const H=d.parseColor(y);if(H)return H}else if(Array.isArray(y)&&(I=y.length<3||y.length>4?`Invalid rgba value ${JSON.stringify(y)}: expected an array containing either three or four numeric values.`:_t(y[0],y[1],y[2],y[3]),!I))return new Ei(y[0]/255,y[1]/255,y[2]/255,y[3])}throw new Ca(I||`Could not parse color from value '${typeof y=="string"?y:JSON.stringify(y)}'`)}case"padding":{let y;for(const I of this.args){y=I.evaluate(d);const N=Po.parse(y);if(N)return N}throw new Ca(`Could not parse padding from value '${typeof y=="string"?y:JSON.stringify(y)}'`)}case"numberArray":{let y;for(const I of this.args){y=I.evaluate(d);const N=Ha.parse(y);if(N)return N}throw new Ca(`Could not parse numberArray from value '${typeof y=="string"?y:JSON.stringify(y)}'`)}case"colorArray":{let y;for(const I of this.args){y=I.evaluate(d);const N=ss.parse(y);if(N)return N}throw new Ca(`Could not parse colorArray from value '${typeof y=="string"?y:JSON.stringify(y)}'`)}case"variableAnchorOffsetCollection":{let y;for(const I of this.args){y=I.evaluate(d);const N=Xo.parse(y);if(N)return N}throw new Ca(`Could not parse variableAnchorOffsetCollection from value '${typeof y=="string"?y:JSON.stringify(y)}'`)}case"number":{let y=null;for(const I of this.args){if(y=I.evaluate(d),y===null)return 0;const N=Number(y);if(!isNaN(N))return N}throw new Ca(`Could not convert ${JSON.stringify(y)} to number.`)}case"formatted":return Ma.fromString(Zt(this.args[0].evaluate(d)));case"resolvedImage":return ms.fromString(Zt(this.args[0].evaluate(d)));case"projectionDefinition":return this.args[0].evaluate(d);default:return Zt(this.args[0].evaluate(d))}}eachChild(d){this.args.forEach(d)}outputDefined(){return this.args.every(d=>d.outputDefined())}}const Ln=["Unknown","Point","LineString","Polygon"];class An{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ln[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(d){let y=this._parseColorCache.get(d);return y||(y=Ei.parse(d),this._parseColorCache.set(d,y)),y}}class Un{constructor(d,y,I=[],N,H=new rr,G=[]){this.registry=d,this.path=I,this.key=I.map(X=>`[${X}]`).join(""),this.scope=H,this.errors=G,this.expectedType=N,this._isConstant=y}parse(d,y,I,N,H={}){return y?this.concat(y,I,N)._parse(d,H):this._parse(d,H)}_parse(d,y){function I(N,H,G){return G==="assert"?new rn(H,[N]):G==="coerce"?new Sn(H,[N]):N}if(d!==null&&typeof d!="string"&&typeof d!="boolean"&&typeof d!="number"||(d=["literal",d]),Array.isArray(d)){if(d.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const N=d[0];if(typeof N!="string")return this.error(`Expression name must be a string, but found ${typeof N} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const H=this.registry[N];if(H){let G=H.parse(d,this);if(!G)return null;if(this.expectedType){const X=this.expectedType,ae=G.type;if(X.kind!=="string"&&X.kind!=="number"&&X.kind!=="boolean"&&X.kind!=="object"&&X.kind!=="array"||ae.kind!=="value"){if(X.kind==="projectionDefinition"&&["string","array"].includes(ae.kind)||["color","formatted","resolvedImage"].includes(X.kind)&&["value","string"].includes(ae.kind)||["padding","numberArray"].includes(X.kind)&&["value","number","array"].includes(ae.kind)||X.kind==="colorArray"&&["value","string","array"].includes(ae.kind)||X.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(ae.kind))G=I(G,X,y.typeAnnotation||"coerce");else if(this.checkSubtype(X,ae))return null}else G=I(G,X,y.typeAnnotation||"assert")}if(!(G instanceof pr)&&G.type.kind!=="resolvedImage"&&this._isConstant(G)){const X=new An;try{G=new pr(G.type,G.evaluate(X))}catch(ae){return this.error(ae.message),null}}return G}return this.error(`Unknown expression "${N}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(d===void 0?"'undefined' value invalid. Use null instead.":typeof d=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof d} instead.`)}concat(d,y,I){const N=typeof d=="number"?this.path.concat(d):this.path,H=I?this.scope.concat(I):this.scope;return new Un(this.registry,this._isConstant,N,y||null,H,this.errors)}error(d,...y){const I=`${this.key}${y.map(N=>`[${N}]`).join("")}`;this.errors.push(new Jt(I,d))}checkSubtype(d,y){const I=wi(d,y);return I&&this.error(I),I}}class fi{constructor(d,y){this.type=y.type,this.bindings=[].concat(d),this.result=y}evaluate(d){return this.result.evaluate(d)}eachChild(d){for(const y of this.bindings)d(y[1]);d(this.result)}static parse(d,y){if(d.length<4)return y.error(`Expected at least 3 arguments, but found ${d.length-1} instead.`);const I=[];for(let H=1;H<d.length-1;H+=2){const G=d[H];if(typeof G!="string")return y.error(`Expected string, but found ${typeof G} instead.`,H);if(/[^a-zA-Z0-9_]/.test(G))return y.error("Variable names must contain only alphanumeric characters or '_'.",H);const X=y.parse(d[H+1],H+1);if(!X)return null;I.push([G,X])}const N=y.parse(d[d.length-1],d.length-1,y.expectedType,I);return N?new fi(I,N):null}outputDefined(){return this.result.outputDefined()}}class de{constructor(d,y){this.type=y.type,this.name=d,this.boundExpression=y}static parse(d,y){if(d.length!==2||typeof d[1]!="string")return y.error("'var' expression requires exactly one string literal argument.");const I=d[1];return y.scope.has(I)?new de(I,y.scope.get(I)):y.error(`Unknown variable "${I}". Make sure "${I}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(d){return this.boundExpression.evaluate(d)}eachChild(){}outputDefined(){return!1}}class Ie{constructor(d,y,I){this.type=d,this.index=y,this.input=I}static parse(d,y){if(d.length!==3)return y.error(`Expected 2 arguments, but found ${d.length-1} instead.`);const I=y.parse(d[1],1,Lt),N=y.parse(d[2],2,Ia(y.expectedType||Wn));return I&&N?new Ie(N.type.itemType,I,N):null}evaluate(d){const y=this.index.evaluate(d),I=this.input.evaluate(d);if(y<0)throw new Ca(`Array index out of bounds: ${y} < 0.`);if(y>=I.length)throw new Ca(`Array index out of bounds: ${y} > ${I.length-1}.`);if(y!==Math.floor(y))throw new Ca(`Array index must be an integer, but found ${y} instead.`);return I[y]}eachChild(d){d(this.index),d(this.input)}outputDefined(){return!1}}class Ke{constructor(d,y){this.type=fn,this.needle=d,this.haystack=y}static parse(d,y){if(d.length!==3)return y.error(`Expected 2 arguments, but found ${d.length-1} instead.`);const I=y.parse(d[1],1,Wn),N=y.parse(d[2],2,Wn);return I&&N?lo(I.type,[fn,Ir,Lt,vr,Wn])?new Ke(I,N):y.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ti(I.type)} instead`):null}evaluate(d){const y=this.needle.evaluate(d),I=this.haystack.evaluate(d);if(!I)return!1;if(!co(y,["boolean","string","number","null"]))throw new Ca(`Expected first argument to be of type boolean, string, number or null, but found ${Ti(Ar(y))} instead.`);if(!co(I,["string","array"]))throw new Ca(`Expected second argument to be of type array or string, but found ${Ti(Ar(I))} instead.`);return I.indexOf(y)>=0}eachChild(d){d(this.needle),d(this.haystack)}outputDefined(){return!0}}class et{constructor(d,y,I){this.type=Lt,this.needle=d,this.haystack=y,this.fromIndex=I}static parse(d,y){if(d.length<=2||d.length>=5)return y.error(`Expected 3 or 4 arguments, but found ${d.length-1} instead.`);const I=y.parse(d[1],1,Wn),N=y.parse(d[2],2,Wn);if(!I||!N)return null;if(!lo(I.type,[fn,Ir,Lt,vr,Wn]))return y.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ti(I.type)} instead`);if(d.length===4){const H=y.parse(d[3],3,Lt);return H?new et(I,N,H):null}return new et(I,N)}evaluate(d){const y=this.needle.evaluate(d),I=this.haystack.evaluate(d);if(!co(y,["boolean","string","number","null"]))throw new Ca(`Expected first argument to be of type boolean, string, number or null, but found ${Ti(Ar(y))} instead.`);let N;if(this.fromIndex&&(N=this.fromIndex.evaluate(d)),co(I,["string"])){const H=I.indexOf(y,N);return H===-1?-1:[...I.slice(0,H)].length}if(co(I,["array"]))return I.indexOf(y,N);throw new Ca(`Expected second argument to be of type array or string, but found ${Ti(Ar(I))} instead.`)}eachChild(d){d(this.needle),d(this.haystack),this.fromIndex&&d(this.fromIndex)}outputDefined(){return!1}}class St{constructor(d,y,I,N,H,G){this.inputType=d,this.type=y,this.input=I,this.cases=N,this.outputs=H,this.otherwise=G}static parse(d,y){if(d.length<5)return y.error(`Expected at least 4 arguments, but found only ${d.length-1}.`);if(d.length%2!=1)return y.error("Expected an even number of arguments.");let I,N;y.expectedType&&y.expectedType.kind!=="value"&&(N=y.expectedType);const H={},G=[];for(let ce=2;ce<d.length-1;ce+=2){let Se=d[ce];const Pe=d[ce+1];Array.isArray(Se)||(Se=[Se]);const Be=y.concat(ce);if(Se.length===0)return Be.error("Expected at least one branch label.");for(const Xe of Se){if(typeof Xe!="number"&&typeof Xe!="string")return Be.error("Branch labels must be numbers or strings.");if(typeof Xe=="number"&&Math.abs(Xe)>Number.MAX_SAFE_INTEGER)return Be.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Xe=="number"&&Math.floor(Xe)!==Xe)return Be.error("Numeric branch labels must be integer values.");if(I){if(Be.checkSubtype(I,Ar(Xe)))return null}else I=Ar(Xe);if(H[String(Xe)]!==void 0)return Be.error("Branch labels must be unique.");H[String(Xe)]=G.length}const He=y.parse(Pe,ce,N);if(!He)return null;N=N||He.type,G.push(He)}const X=y.parse(d[1],1,Wn);if(!X)return null;const ae=y.parse(d[d.length-1],d.length-1,N);return ae?X.type.kind!=="value"&&y.concat(1).checkSubtype(I,X.type)?null:new St(I,N,X,H,G,ae):null}evaluate(d){const y=this.input.evaluate(d);return(Ar(y)===this.inputType&&this.outputs[this.cases[y]]||this.otherwise).evaluate(d)}eachChild(d){d(this.input),this.outputs.forEach(d),d(this.otherwise)}outputDefined(){return this.outputs.every(d=>d.outputDefined())&&this.otherwise.outputDefined()}}class vt{constructor(d,y,I){this.type=d,this.branches=y,this.otherwise=I}static parse(d,y){if(d.length<4)return y.error(`Expected at least 3 arguments, but found only ${d.length-1}.`);if(d.length%2!=0)return y.error("Expected an odd number of arguments.");let I;y.expectedType&&y.expectedType.kind!=="value"&&(I=y.expectedType);const N=[];for(let G=1;G<d.length-1;G+=2){const X=y.parse(d[G],G,fn);if(!X)return null;const ae=y.parse(d[G+1],G+1,I);if(!ae)return null;N.push([X,ae]),I=I||ae.type}const H=y.parse(d[d.length-1],d.length-1,I);if(!H)return null;if(!I)throw new Error("Can't infer output type");return new vt(I,N,H)}evaluate(d){for(const[y,I]of this.branches)if(y.evaluate(d))return I.evaluate(d);return this.otherwise.evaluate(d)}eachChild(d){for(const[y,I]of this.branches)d(y),d(I);d(this.otherwise)}outputDefined(){return this.branches.every(([d,y])=>y.outputDefined())&&this.otherwise.outputDefined()}}class Ot{constructor(d,y,I,N){this.type=d,this.input=y,this.beginIndex=I,this.endIndex=N}static parse(d,y){if(d.length<=2||d.length>=5)return y.error(`Expected 3 or 4 arguments, but found ${d.length-1} instead.`);const I=y.parse(d[1],1,Wn),N=y.parse(d[2],2,Lt);if(!I||!N)return null;if(!lo(I.type,[Ia(Wn),Ir,Wn]))return y.error(`Expected first argument to be of type array or string, but found ${Ti(I.type)} instead`);if(d.length===4){const H=y.parse(d[3],3,Lt);return H?new Ot(I.type,I,N,H):null}return new Ot(I.type,I,N)}evaluate(d){const y=this.input.evaluate(d),I=this.beginIndex.evaluate(d);let N;if(this.endIndex&&(N=this.endIndex.evaluate(d)),co(y,["string"]))return[...y].slice(I,N).join("");if(co(y,["array"]))return y.slice(I,N);throw new Ca(`Expected first argument to be of type array or string, but found ${Ti(Ar(y))} instead.`)}eachChild(d){d(this.input),d(this.beginIndex),this.endIndex&&d(this.endIndex)}outputDefined(){return!1}}function Pr(b,d){const y=b.length-1;let I,N,H=0,G=y,X=0;for(;H<=G;)if(X=Math.floor((H+G)/2),I=b[X],N=b[X+1],I<=d){if(X===y||d<N)return X;H=X+1}else{if(!(I>d))throw new Ca("Input is not a number.");G=X-1}return 0}class Tr{constructor(d,y,I){this.type=d,this.input=y,this.labels=[],this.outputs=[];for(const[N,H]of I)this.labels.push(N),this.outputs.push(H)}static parse(d,y){if(d.length-1<4)return y.error(`Expected at least 4 arguments, but found only ${d.length-1}.`);if((d.length-1)%2!=0)return y.error("Expected an even number of arguments.");const I=y.parse(d[1],1,Lt);if(!I)return null;const N=[];let H=null;y.expectedType&&y.expectedType.kind!=="value"&&(H=y.expectedType);for(let G=1;G<d.length;G+=2){const X=G===1?-1/0:d[G],ae=d[G+1],ce=G,Se=G+1;if(typeof X!="number")return y.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ce);if(N.length&&N[N.length-1][0]>=X)return y.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ce);const Pe=y.parse(ae,Se,H);if(!Pe)return null;H=H||Pe.type,N.push([X,Pe])}return new Tr(H,I,N)}evaluate(d){const y=this.labels,I=this.outputs;if(y.length===1)return I[0].evaluate(d);const N=this.input.evaluate(d);if(N<=y[0])return I[0].evaluate(d);const H=y.length;return N>=y[H-1]?I[H-1].evaluate(d):I[Pr(y,N)].evaluate(d)}eachChild(d){d(this.input);for(const y of this.outputs)d(y)}outputDefined(){return this.outputs.every(d=>d.outputDefined())}}function Mr(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var bn,sn,Pn=function(){if(sn)return bn;function b(d,y,I,N){this.cx=3*d,this.bx=3*(I-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*y,this.by=3*(N-y)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=y,this.p2x=I,this.p2y=N}return sn=1,bn=b,b.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,y){if(y===void 0&&(y=1e-6),d<0)return 0;if(d>1)return 1;for(var I=d,N=0;N<8;N++){var H=this.sampleCurveX(I)-d;if(Math.abs(H)<y)return I;var G=this.sampleCurveDerivativeX(I);if(Math.abs(G)<1e-6)break;I-=H/G}var X=0,ae=1;for(I=d,N=0;N<20&&(H=this.sampleCurveX(I),!(Math.abs(H-d)<y));N++)d>H?X=I:ae=I,I=.5*(ae-X)+X;return I},solve:function(d,y){return this.sampleCurveY(this.solveCurveX(d,y))}},bn}(),un=Mr(Pn);class gn{constructor(d,y,I,N,H){this.type=d,this.operator=y,this.interpolation=I,this.input=N,this.labels=[],this.outputs=[];for(const[G,X]of H)this.labels.push(G),this.outputs.push(X)}static interpolationFactor(d,y,I,N){let H=0;if(d.name==="exponential")H=Cn(y,d.base,I,N);else if(d.name==="linear")H=Cn(y,1,I,N);else if(d.name==="cubic-bezier"){const G=d.controlPoints;H=new un(G[0],G[1],G[2],G[3]).solve(Cn(y,1,I,N))}return H}static parse(d,y){let[I,N,H,...G]=d;if(!Array.isArray(N)||N.length===0)return y.error("Expected an interpolation type expression.",1);if(N[0]==="linear")N={name:"linear"};else if(N[0]==="exponential"){const ce=N[1];if(typeof ce!="number")return y.error("Exponential interpolation requires a numeric base.",1,1);N={name:"exponential",base:ce}}else{if(N[0]!=="cubic-bezier")return y.error(`Unknown interpolation type ${String(N[0])}`,1,0);{const ce=N.slice(1);if(ce.length!==4||ce.some(Se=>typeof Se!="number"||Se<0||Se>1))return y.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);N={name:"cubic-bezier",controlPoints:ce}}}if(d.length-1<4)return y.error(`Expected at least 4 arguments, but found only ${d.length-1}.`);if((d.length-1)%2!=0)return y.error("Expected an even number of arguments.");if(H=y.parse(H,2,Lt),!H)return null;const X=[];let ae=null;I!=="interpolate-hcl"&&I!=="interpolate-lab"||y.expectedType==Ua?y.expectedType&&y.expectedType.kind!=="value"&&(ae=y.expectedType):ae=Fn;for(let ce=0;ce<G.length;ce+=2){const Se=G[ce],Pe=G[ce+1],Be=ce+3,He=ce+4;if(typeof Se!="number")return y.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Be);if(X.length&&X[X.length-1][0]>=Se)return y.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Be);const Xe=y.parse(Pe,He,ae);if(!Xe)return null;ae=ae||Xe.type,X.push([Se,Xe])}return bi(ae,Lt)||bi(ae,ui)||bi(ae,Fn)||bi(ae,Ka)||bi(ae,Ji)||bi(ae,Ua)||bi(ae,ci)||bi(ae,Ia(Lt))?new gn(ae,I,N,H,X):y.error(`Type ${Ti(ae)} is not interpolatable.`)}evaluate(d){const y=this.labels,I=this.outputs;if(y.length===1)return I[0].evaluate(d);const N=this.input.evaluate(d);if(N<=y[0])return I[0].evaluate(d);const H=y.length;if(N>=y[H-1])return I[H-1].evaluate(d);const G=Pr(y,N),X=gn.interpolationFactor(this.interpolation,N,y[G],y[G+1]),ae=I[G].evaluate(d),ce=I[G+1].evaluate(d);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Yo(ae,ce,X);case"color":return Ei.interpolate(ae,ce,X);case"padding":return Po.interpolate(ae,ce,X);case"colorArray":return ss.interpolate(ae,ce,X);case"numberArray":return Ha.interpolate(ae,ce,X);case"variableAnchorOffsetCollection":return Xo.interpolate(ae,ce,X);case"array":return du(ae,ce,X);case"projectionDefinition":return ba.interpolate(ae,ce,X)}case"interpolate-hcl":switch(this.type.kind){case"color":return Ei.interpolate(ae,ce,X,"hcl");case"colorArray":return ss.interpolate(ae,ce,X,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Ei.interpolate(ae,ce,X,"lab");case"colorArray":return ss.interpolate(ae,ce,X,"lab")}}}eachChild(d){d(this.input);for(const y of this.outputs)d(y)}outputDefined(){return this.outputs.every(d=>d.outputDefined())}}function Cn(b,d,y,I){const N=I-y,H=b-y;return N===0?0:d===1?H/N:(Math.pow(d,H)-1)/(Math.pow(d,N)-1)}const Zn={color:Ei.interpolate,number:Yo,padding:Po.interpolate,numberArray:Ha.interpolate,colorArray:ss.interpolate,variableAnchorOffsetCollection:Xo.interpolate,array:du};class hi{constructor(d,y){this.type=d,this.args=y}static parse(d,y){if(d.length<2)return y.error("Expected at least one argument.");let I=null;const N=y.expectedType;N&&N.kind!=="value"&&(I=N);const H=[];for(const X of d.slice(1)){const ae=y.parse(X,1+H.length,I,void 0,{typeAnnotation:"omit"});if(!ae)return null;I=I||ae.type,H.push(ae)}if(!I)throw new Error("No output type");const G=N&&H.some(X=>wi(N,X.type));return new hi(G?Wn:I,H)}evaluate(d){let y,I=null,N=0;for(const H of this.args)if(N++,I=H.evaluate(d),I&&I instanceof ms&&!I.available&&(y||(y=I.name),I=null,N===this.args.length&&(I=y)),I!==null)break;return I}eachChild(d){this.args.forEach(d)}outputDefined(){return this.args.every(d=>d.outputDefined())}}function ji(b,d){return b==="=="||b==="!="?d.kind==="boolean"||d.kind==="string"||d.kind==="number"||d.kind==="null"||d.kind==="value":d.kind==="string"||d.kind==="number"||d.kind==="value"}function ii(b,d,y,I){return I.compare(d,y)===0}function Bn(b,d,y){const I=b!=="=="&&b!=="!=";return class WPe{constructor(H,G,X){this.type=fn,this.lhs=H,this.rhs=G,this.collator=X,this.hasUntypedArgument=H.type.kind==="value"||G.type.kind==="value"}static parse(H,G){if(H.length!==3&&H.length!==4)return G.error("Expected two or three arguments.");const X=H[0];let ae=G.parse(H[1],1,Wn);if(!ae)return null;if(!ji(X,ae.type))return G.concat(1).error(`"${X}" comparisons are not supported for type '${Ti(ae.type)}'.`);let ce=G.parse(H[2],2,Wn);if(!ce)return null;if(!ji(X,ce.type))return G.concat(2).error(`"${X}" comparisons are not supported for type '${Ti(ce.type)}'.`);if(ae.type.kind!==ce.type.kind&&ae.type.kind!=="value"&&ce.type.kind!=="value")return G.error(`Cannot compare types '${Ti(ae.type)}' and '${Ti(ce.type)}'.`);I&&(ae.type.kind==="value"&&ce.type.kind!=="value"?ae=new rn(ce.type,[ae]):ae.type.kind!=="value"&&ce.type.kind==="value"&&(ce=new rn(ae.type,[ce])));let Se=null;if(H.length===4){if(ae.type.kind!=="string"&&ce.type.kind!=="string"&&ae.type.kind!=="value"&&ce.type.kind!=="value")return G.error("Cannot use collator to compare non-string types.");if(Se=G.parse(H[3],3,mi),!Se)return null}return new WPe(ae,ce,Se)}evaluate(H){const G=this.lhs.evaluate(H),X=this.rhs.evaluate(H);if(I&&this.hasUntypedArgument){const ae=Ar(G),ce=Ar(X);if(ae.kind!==ce.kind||ae.kind!=="string"&&ae.kind!=="number")throw new Ca(`Expected arguments for "${b}" to be (string, string) or (number, number), but found (${ae.kind}, ${ce.kind}) instead.`)}if(this.collator&&!I&&this.hasUntypedArgument){const ae=Ar(G),ce=Ar(X);if(ae.kind!=="string"||ce.kind!=="string")return d(H,G,X)}return this.collator?y(H,G,X,this.collator.evaluate(H)):d(H,G,X)}eachChild(H){H(this.lhs),H(this.rhs),this.collator&&H(this.collator)}outputDefined(){return!0}}}const ni=Bn("==",function(b,d,y){return d===y},ii),ai=Bn("!=",function(b,d,y){return d!==y},function(b,d,y,I){return!ii(0,d,y,I)}),$i=Bn("<",function(b,d,y){return d<y},function(b,d,y,I){return I.compare(d,y)<0}),_a=Bn(">",function(b,d,y){return d>y},function(b,d,y,I){return I.compare(d,y)>0}),Ai=Bn("<=",function(b,d,y){return d<=y},function(b,d,y,I){return I.compare(d,y)<=0}),Zi=Bn(">=",function(b,d,y){return d>=y},function(b,d,y,I){return I.compare(d,y)>=0});class ma{constructor(d,y,I){this.type=mi,this.locale=I,this.caseSensitive=d,this.diacriticSensitive=y}static parse(d,y){if(d.length!==2)return y.error("Expected one argument.");const I=d[1];if(typeof I!="object"||Array.isArray(I))return y.error("Collator options argument must be an object.");const N=y.parse(I["case-sensitive"]!==void 0&&I["case-sensitive"],1,fn);if(!N)return null;const H=y.parse(I["diacritic-sensitive"]!==void 0&&I["diacritic-sensitive"],1,fn);if(!H)return null;let G=null;return I.locale&&(G=y.parse(I.locale,1,Ir),!G)?null:new ma(N,H,G)}evaluate(d){return new Ou(this.caseSensitive.evaluate(d),this.diacriticSensitive.evaluate(d),this.locale?this.locale.evaluate(d):null)}eachChild(d){d(this.caseSensitive),d(this.diacriticSensitive),this.locale&&d(this.locale)}outputDefined(){return!1}}class Hi{constructor(d,y,I,N,H){this.type=Ir,this.number=d,this.locale=y,this.currency=I,this.minFractionDigits=N,this.maxFractionDigits=H}static parse(d,y){if(d.length!==3)return y.error("Expected two arguments.");const I=y.parse(d[1],1,Lt);if(!I)return null;const N=d[2];if(typeof N!="object"||Array.isArray(N))return y.error("NumberFormat options argument must be an object.");let H=null;if(N.locale&&(H=y.parse(N.locale,1,Ir),!H))return null;let G=null;if(N.currency&&(G=y.parse(N.currency,1,Ir),!G))return null;let X=null;if(N["min-fraction-digits"]&&(X=y.parse(N["min-fraction-digits"],1,Lt),!X))return null;let ae=null;return N["max-fraction-digits"]&&(ae=y.parse(N["max-fraction-digits"],1,Lt),!ae)?null:new Hi(I,H,G,X,ae)}evaluate(d){return new Intl.NumberFormat(this.locale?this.locale.evaluate(d):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(d):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(d):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(d):void 0}).format(this.number.evaluate(d))}eachChild(d){d(this.number),this.locale&&d(this.locale),this.currency&&d(this.currency),this.minFractionDigits&&d(this.minFractionDigits),this.maxFractionDigits&&d(this.maxFractionDigits)}outputDefined(){return!1}}class Pa{constructor(d){this.type=ya,this.sections=d}static parse(d,y){if(d.length<2)return y.error("Expected at least one argument.");const I=d[1];if(!Array.isArray(I)&&typeof I=="object")return y.error("First argument must be an image or text section.");const N=[];let H=!1;for(let G=1;G<=d.length-1;++G){const X=d[G];if(H&&typeof X=="object"&&!Array.isArray(X)){H=!1;let ae=null;if(X["font-scale"]&&(ae=y.parse(X["font-scale"],1,Lt),!ae))return null;let ce=null;if(X["text-font"]&&(ce=y.parse(X["text-font"],1,Ia(Ir)),!ce))return null;let Se=null;if(X["text-color"]&&(Se=y.parse(X["text-color"],1,Fn),!Se))return null;let Pe=null;if(X["vertical-align"]){if(typeof X["vertical-align"]=="string"&&!hu.includes(X["vertical-align"]))return y.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${X["vertical-align"]}' instead.`);if(Pe=y.parse(X["vertical-align"],1,Ir),!Pe)return null}const Be=N[N.length-1];Be.scale=ae,Be.font=ce,Be.textColor=Se,Be.verticalAlign=Pe}else{const ae=y.parse(d[G],1,Wn);if(!ae)return null;const ce=ae.type.kind;if(ce!=="string"&&ce!=="value"&&ce!=="null"&&ce!=="resolvedImage")return y.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");H=!0,N.push({content:ae,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Pa(N)}evaluate(d){return new Ma(this.sections.map(y=>{const I=y.content.evaluate(d);return Ar(I)===So?new Qs("",I,null,null,null,y.verticalAlign?y.verticalAlign.evaluate(d):null):new Qs(Zt(I),null,y.scale?y.scale.evaluate(d):null,y.font?y.font.evaluate(d).join(","):null,y.textColor?y.textColor.evaluate(d):null,y.verticalAlign?y.verticalAlign.evaluate(d):null)}))}eachChild(d){for(const y of this.sections)d(y.content),y.scale&&d(y.scale),y.font&&d(y.font),y.textColor&&d(y.textColor),y.verticalAlign&&d(y.verticalAlign)}outputDefined(){return!1}}class ha{constructor(d){this.type=So,this.input=d}static parse(d,y){if(d.length!==2)return y.error("Expected two arguments.");const I=y.parse(d[1],1,Ir);return I?new ha(I):y.error("No image name provided.")}evaluate(d){const y=this.input.evaluate(d),I=ms.fromString(y);return I&&d.availableImages&&(I.available=d.availableImages.indexOf(y)>-1),I}eachChild(d){d(this.input)}outputDefined(){return!1}}class ka{constructor(d){this.type=Lt,this.input=d}static parse(d,y){if(d.length!==2)return y.error(`Expected 1 argument, but found ${d.length-1} instead.`);const I=y.parse(d[1],1);return I?I.type.kind!=="array"&&I.type.kind!=="string"&&I.type.kind!=="value"?y.error(`Expected argument of type string or array, but found ${Ti(I.type)} instead.`):new ka(I):null}evaluate(d){const y=this.input.evaluate(d);if(typeof y=="string")return[...y].length;if(Array.isArray(y))return y.length;throw new Ca(`Expected value to be of type string or array, but found ${Ti(Ar(y))} instead.`)}eachChild(d){d(this.input)}outputDefined(){return!1}}const pi=8192;function Ta(b,d){const y=(180+b[0])/360,I=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+b[1]*Math.PI/360)))/360,N=Math.pow(2,d.z);return[Math.round(y*N*pi),Math.round(I*N*pi)]}function Jo(b,d){const y=Math.pow(2,d.z);return[(N=(b[0]/pi+d.x)/y,360*N-180),(I=(b[1]/pi+d.y)/y,360/Math.PI*Math.atan(Math.exp((180-360*I)*Math.PI/180))-90)];var I,N}function gs(b,d){b[0]=Math.min(b[0],d[0]),b[1]=Math.min(b[1],d[1]),b[2]=Math.max(b[2],d[0]),b[3]=Math.max(b[3],d[1])}function Ii(b,d){return!(b[0]<=d[0]||b[2]>=d[2]||b[1]<=d[1]||b[3]>=d[3])}function Qo(b,d,y){const I=b[0]-d[0],N=b[1]-d[1],H=b[0]-y[0],G=b[1]-y[1];return I*G-H*N==0&&I*H<=0&&N*G<=0}function vs(b,d,y,I){return(N=[I[0]-y[0],I[1]-y[1]])[0]*(H=[d[0]-b[0],d[1]-b[1]])[1]-N[1]*H[0]!=0&&!(!xc(b,d,y,I)||!xc(y,I,b,d));var N,H}function qs(b,d,y){for(const I of y)for(let N=0;N<I.length-1;++N)if(vs(b,d,I[N],I[N+1]))return!0;return!1}function Uo(b,d,y=!1){let I=!1;for(const X of d)for(let ae=0;ae<X.length-1;ae++){if(Qo(b,X[ae],X[ae+1]))return y;(H=X[ae])[1]>(N=b)[1]!=(G=X[ae+1])[1]>N[1]&&N[0]<(G[0]-H[0])*(N[1]-H[1])/(G[1]-H[1])+H[0]&&(I=!I)}var N,H,G;return I}function qc(b,d){for(const y of d)if(Uo(b,y))return!0;return!1}function ec(b,d){for(const y of b)if(!Uo(y,d))return!1;for(let y=0;y<b.length-1;++y)if(qs(b[y],b[y+1],d))return!1;return!0}function Kl(b,d){for(const y of d)if(ec(b,y))return!0;return!1}function xc(b,d,y,I){const N=I[0]-y[0],H=I[1]-y[1],G=(b[0]-y[0])*H-N*(b[1]-y[1]),X=(d[0]-y[0])*H-N*(d[1]-y[1]);return G>0&&X<0||G<0&&X>0}function el(b,d,y){const I=[];for(let N=0;N<b.length;N++){const H=[];for(let G=0;G<b[N].length;G++){const X=Ta(b[N][G],y);gs(d,X),H.push(X)}I.push(H)}return I}function af(b,d,y){const I=[];for(let N=0;N<b.length;N++){const H=el(b[N],d,y);I.push(H)}return I}function nh(b,d,y,I){if(b[0]<y[0]||b[0]>y[2]){const N=.5*I;let H=b[0]-y[0]>N?-I:y[0]-b[0]>N?I:0;H===0&&(H=b[0]-y[2]>N?-I:y[2]-b[0]>N?I:0),b[0]+=H}gs(d,b)}function Gh(b,d,y,I){const N=Math.pow(2,I.z)*pi,H=[I.x*pi,I.y*pi],G=[];for(const X of b)for(const ae of X){const ce=[ae.x+H[0],ae.y+H[1]];nh(ce,d,y,N),G.push(ce)}return G}function Sf(b,d,y,I){const N=Math.pow(2,I.z)*pi,H=[I.x*pi,I.y*pi],G=[];for(const ae of b){const ce=[];for(const Se of ae){const Pe=[Se.x+H[0],Se.y+H[1]];gs(d,Pe),ce.push(Pe)}G.push(ce)}if(d[2]-d[0]<=N/2){(X=d)[0]=X[1]=1/0,X[2]=X[3]=-1/0;for(const ae of G)for(const ce of ae)nh(ce,d,y,N)}var X;return G}class tc{constructor(d,y){this.type=fn,this.geojson=d,this.geometries=y}static parse(d,y){if(d.length!==2)return y.error(`'within' expression requires exactly one argument, but found ${d.length-1} instead.`);if(Nt(d[1])){const I=d[1];if(I.type==="FeatureCollection"){const N=[];for(const H of I.features){const{type:G,coordinates:X}=H.geometry;G==="Polygon"&&N.push(X),G==="MultiPolygon"&&N.push(...X)}if(N.length)return new tc(I,{type:"MultiPolygon",coordinates:N})}else if(I.type==="Feature"){const N=I.geometry.type;if(N==="Polygon"||N==="MultiPolygon")return new tc(I,I.geometry)}else if(I.type==="Polygon"||I.type==="MultiPolygon")return new tc(I,I)}return y.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(d){if(d.geometry()!=null&&d.canonicalID()!=null){if(d.geometryType()==="Point")return function(y,I){const N=[1/0,1/0,-1/0,-1/0],H=[1/0,1/0,-1/0,-1/0],G=y.canonicalID();if(I.type==="Polygon"){const X=el(I.coordinates,H,G),ae=Gh(y.geometry(),N,H,G);if(!Ii(N,H))return!1;for(const ce of ae)if(!Uo(ce,X))return!1}if(I.type==="MultiPolygon"){const X=af(I.coordinates,H,G),ae=Gh(y.geometry(),N,H,G);if(!Ii(N,H))return!1;for(const ce of ae)if(!qc(ce,X))return!1}return!0}(d,this.geometries);if(d.geometryType()==="LineString")return function(y,I){const N=[1/0,1/0,-1/0,-1/0],H=[1/0,1/0,-1/0,-1/0],G=y.canonicalID();if(I.type==="Polygon"){const X=el(I.coordinates,H,G),ae=Sf(y.geometry(),N,H,G);if(!Ii(N,H))return!1;for(const ce of ae)if(!ec(ce,X))return!1}if(I.type==="MultiPolygon"){const X=af(I.coordinates,H,G),ae=Sf(y.geometry(),N,H,G);if(!Ii(N,H))return!1;for(const ce of ae)if(!Kl(ce,X))return!1}return!0}(d,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Kh=class{constructor(b=[],d=(y,I)=>y<I?-1:y>I?1:0){if(this.data=b,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(b){this.data.push(b),this._up(this.length++)}pop(){if(this.length===0)return;const b=this.data[0],d=this.data.pop();return--this.length>0&&(this.data[0]=d,this._down(0)),b}peek(){return this.data[0]}_up(b){const{data:d,compare:y}=this,I=d[b];for(;b>0;){const N=b-1>>1,H=d[N];if(y(I,H)>=0)break;d[b]=H,b=N}d[b]=I}_down(b){const{data:d,compare:y}=this,I=this.length>>1,N=d[b];for(;b<I;){let H=1+(b<<1);const G=H+1;if(G<this.length&&y(d[G],d[H])<0&&(H=G),y(d[H],N)>=0)break;d[b]=d[H],b=H}d[b]=N}};function Ef(b,d,y=0,I=b.length-1,N=Pp){for(;I>y;){if(I-y>600){const ae=I-y+1,ce=d-y+1,Se=Math.log(ae),Pe=.5*Math.exp(2*Se/3),Be=.5*Math.sqrt(Se*Pe*(ae-Pe)/ae)*(ce-ae/2<0?-1:1);Ef(b,d,Math.max(y,Math.floor(d-ce*Pe/ae+Be)),Math.min(I,Math.floor(d+(ae-ce)*Pe/ae+Be)),N)}const H=b[d];let G=y,X=I;for(Sc(b,y,d),N(b[I],H)>0&&Sc(b,y,I);G<X;){for(Sc(b,G,X),G++,X--;N(b[G],H)<0;)G++;for(;N(b[X],H)>0;)X--}N(b[y],H)===0?Sc(b,y,X):(X++,Sc(b,X,I)),X<=d&&(y=X+1),d<=X&&(I=X-1)}}function Sc(b,d,y){const I=b[d];b[d]=b[y],b[y]=I}function Pp(b,d){return b<d?-1:b>d?1:0}function Il(b,d){if(b.length<=1)return[b];const y=[];let I,N;for(const H of b){const G=Tp(H);G!==0&&(H.area=Math.abs(G),N===void 0&&(N=G<0),N===G<0?(I&&y.push(I),I=[H]):I.push(H))}if(I&&y.push(I),d>1)for(let H=0;H<y.length;H++)y[H].length<=d||(Ef(y[H],d,1,y[H].length-1,Iu),y[H]=y[H].slice(0,d));return y}function Iu(b,d){return d.area-b.area}function Tp(b){let d=0;for(let y,I,N=0,H=b.length,G=H-1;N<H;G=N++)y=b[N],I=b[G],d+=(I.x-y.x)*(y.y+I.y);return d}const vl=1/298.257223563,To=vl*(2-vl),Rp=Math.PI/180;class Hc{constructor(d){const y=6378.137*Rp*1e3,I=Math.cos(d*Rp),N=1/(1-To*(1-I*I)),H=Math.sqrt(N);this.kx=y*H*I,this.ky=y*H*N*(1-To)}distance(d,y){const I=this.wrap(d[0]-y[0])*this.kx,N=(d[1]-y[1])*this.ky;return Math.sqrt(I*I+N*N)}pointOnLine(d,y){let I,N,H,G,X=1/0;for(let ae=0;ae<d.length-1;ae++){let ce=d[ae][0],Se=d[ae][1],Pe=this.wrap(d[ae+1][0]-ce)*this.kx,Be=(d[ae+1][1]-Se)*this.ky,He=0;Pe===0&&Be===0||(He=(this.wrap(y[0]-ce)*this.kx*Pe+(y[1]-Se)*this.ky*Be)/(Pe*Pe+Be*Be),He>1?(ce=d[ae+1][0],Se=d[ae+1][1]):He>0&&(ce+=Pe/this.kx*He,Se+=Be/this.ky*He)),Pe=this.wrap(y[0]-ce)*this.kx,Be=(y[1]-Se)*this.ky;const Xe=Pe*Pe+Be*Be;Xe<X&&(X=Xe,I=ce,N=Se,H=ae,G=He)}return{point:[I,N],index:H,t:Math.max(0,Math.min(1,G))}}wrap(d){for(;d<-180;)d+=360;for(;d>180;)d-=360;return d}}function wm(b,d){return d[0]-b[0]}function la(b){return b[1]-b[0]+1}function Hn(b,d){return b[1]>=b[0]&&b[1]<d}function Wc(b,d){if(b[0]>b[1])return[null,null];const y=la(b);if(d){if(y===2)return[b,null];const N=Math.floor(y/2);return[[b[0],b[0]+N],[b[0]+N,b[1]]]}if(y===1)return[b,null];const I=Math.floor(y/2)-1;return[[b[0],b[0]+I],[b[0]+I+1,b[1]]]}function ih(b,d){if(!Hn(d,b.length))return[1/0,1/0,-1/0,-1/0];const y=[1/0,1/0,-1/0,-1/0];for(let I=d[0];I<=d[1];++I)gs(y,b[I]);return y}function ah(b){const d=[1/0,1/0,-1/0,-1/0];for(const y of b)for(const I of y)gs(d,I);return d}function fg(b){return b[0]!==-1/0&&b[1]!==-1/0&&b[2]!==1/0&&b[3]!==1/0}function dg(b,d,y){if(!fg(b)||!fg(d))return NaN;let I=0,N=0;return b[2]<d[0]&&(I=d[0]-b[2]),b[0]>d[2]&&(I=b[0]-d[2]),b[1]>d[3]&&(N=b[1]-d[3]),b[3]<d[1]&&(N=d[1]-b[3]),y.distance([0,0],[I,N])}function oh(b,d,y){const I=y.pointOnLine(d,b);return y.distance(b,I.point)}function Id(b,d,y,I,N){const H=Math.min(oh(b,[y,I],N),oh(d,[y,I],N)),G=Math.min(oh(y,[b,d],N),oh(I,[b,d],N));return Math.min(H,G)}function Cr(b,d,y,I,N){if(!Hn(d,b.length)||!Hn(I,y.length))return 1/0;let H=1/0;for(let G=d[0];G<d[1];++G){const X=b[G],ae=b[G+1];for(let ce=I[0];ce<I[1];++ce){const Se=y[ce],Pe=y[ce+1];if(vs(X,ae,Se,Pe))return 0;H=Math.min(H,Id(X,ae,Se,Pe,N))}}return H}function dn(b,d,y,I,N){if(!Hn(d,b.length)||!Hn(I,y.length))return NaN;let H=1/0;for(let G=d[0];G<=d[1];++G)for(let X=I[0];X<=I[1];++X)if(H=Math.min(H,N.distance(b[G],y[X])),H===0)return H;return H}function Zr(b,d,y){if(Uo(b,d,!0))return 0;let I=1/0;for(const N of d){const H=N[0],G=N[N.length-1];if(H!==G&&(I=Math.min(I,oh(b,[G,H],y)),I===0))return I;const X=y.pointOnLine(N,b);if(I=Math.min(I,y.distance(b,X.point)),I===0)return I}return I}function li(b,d,y,I){if(!Hn(d,b.length))return NaN;for(let H=d[0];H<=d[1];++H)if(Uo(b[H],y,!0))return 0;let N=1/0;for(let H=d[0];H<d[1];++H){const G=b[H],X=b[H+1];for(const ae of y)for(let ce=0,Se=ae.length,Pe=Se-1;ce<Se;Pe=ce++){const Be=ae[Pe],He=ae[ce];if(vs(G,X,Be,He))return 0;N=Math.min(N,Id(G,X,Be,He,I))}}return N}function ua(b,d){for(const y of b)for(const I of y)if(Uo(I,d,!0))return!0;return!1}function fo(b,d,y,I=1/0){const N=ah(b),H=ah(d);if(I!==1/0&&dg(N,H,y)>=I)return I;if(Ii(N,H)){if(ua(b,d))return 0}else if(ua(d,b))return 0;let G=1/0;for(const X of b)for(let ae=0,ce=X.length,Se=ce-1;ae<ce;Se=ae++){const Pe=X[Se],Be=X[ae];for(const He of d)for(let Xe=0,st=He.length,wt=st-1;Xe<st;wt=Xe++){const Mt=He[wt],lr=He[Xe];if(vs(Pe,Be,Mt,lr))return 0;G=Math.min(G,Id(Pe,Be,Mt,lr,y))}}return G}function As(b,d,y,I,N,H){if(!H)return;const G=dg(ih(I,H),N,y);G<d&&b.push([G,H,[0,0]])}function yo(b,d,y,I,N,H,G){if(!H||!G)return;const X=dg(ih(I,H),ih(N,G),y);X<d&&b.push([X,H,G])}function Ui(b,d,y,I,N=1/0){let H=Math.min(I.distance(b[0],y[0][0]),N);if(H===0)return H;const G=new Kh([[0,[0,b.length-1],[0,0]]],wm),X=ah(y);for(;G.length>0;){const ae=G.pop();if(ae[0]>=H)continue;const ce=ae[1],Se=d?50:100;if(la(ce)<=Se){if(!Hn(ce,b.length))return NaN;if(d){const Pe=li(b,ce,y,I);if(isNaN(Pe)||Pe===0)return Pe;H=Math.min(H,Pe)}else for(let Pe=ce[0];Pe<=ce[1];++Pe){const Be=Zr(b[Pe],y,I);if(H=Math.min(H,Be),H===0)return 0}}else{const Pe=Wc(ce,d);As(G,H,I,b,X,Pe[0]),As(G,H,I,b,X,Pe[1])}}return H}function yl(b,d,y,I,N,H=1/0){let G=Math.min(H,N.distance(b[0],y[0]));if(G===0)return G;const X=new Kh([[0,[0,b.length-1],[0,y.length-1]]],wm);for(;X.length>0;){const ae=X.pop();if(ae[0]>=G)continue;const ce=ae[1],Se=ae[2],Pe=d?50:100,Be=I?50:100;if(la(ce)<=Pe&&la(Se)<=Be){if(!Hn(ce,b.length)&&Hn(Se,y.length))return NaN;let He;if(d&&I)He=Cr(b,ce,y,Se,N),G=Math.min(G,He);else if(d&&!I){const Xe=b.slice(ce[0],ce[1]+1);for(let st=Se[0];st<=Se[1];++st)if(He=oh(y[st],Xe,N),G=Math.min(G,He),G===0)return G}else if(!d&&I){const Xe=y.slice(Se[0],Se[1]+1);for(let st=ce[0];st<=ce[1];++st)if(He=oh(b[st],Xe,N),G=Math.min(G,He),G===0)return G}else He=dn(b,ce,y,Se,N),G=Math.min(G,He)}else{const He=Wc(ce,d),Xe=Wc(Se,I);yo(X,G,N,b,y,He[0],Xe[0]),yo(X,G,N,b,y,He[0],Xe[1]),yo(X,G,N,b,y,He[1],Xe[0]),yo(X,G,N,b,y,He[1],Xe[1])}}return G}function Mu(b){return b.type==="MultiPolygon"?b.coordinates.map(d=>({type:"Polygon",coordinates:d})):b.type==="MultiLineString"?b.coordinates.map(d=>({type:"LineString",coordinates:d})):b.type==="MultiPoint"?b.coordinates.map(d=>({type:"Point",coordinates:d})):[b]}class ku{constructor(d,y){this.type=Lt,this.geojson=d,this.geometries=y}static parse(d,y){if(d.length!==2)return y.error(`'distance' expression requires exactly one argument, but found ${d.length-1} instead.`);if(Nt(d[1])){const I=d[1];if(I.type==="FeatureCollection")return new ku(I,I.features.map(N=>Mu(N.geometry)).flat());if(I.type==="Feature")return new ku(I,Mu(I.geometry));if("type"in I&&"coordinates"in I)return new ku(I,Mu(I))}return y.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(d){if(d.geometry()!=null&&d.canonicalID()!=null){if(d.geometryType()==="Point")return function(y,I){const N=y.geometry(),H=N.flat().map(ae=>Jo([ae.x,ae.y],y.canonical));if(N.length===0)return NaN;const G=new Hc(H[0][1]);let X=1/0;for(const ae of I){switch(ae.type){case"Point":X=Math.min(X,yl(H,!1,[ae.coordinates],!1,G,X));break;case"LineString":X=Math.min(X,yl(H,!1,ae.coordinates,!0,G,X));break;case"Polygon":X=Math.min(X,Ui(H,!1,ae.coordinates,G,X))}if(X===0)return X}return X}(d,this.geometries);if(d.geometryType()==="LineString")return function(y,I){const N=y.geometry(),H=N.flat().map(ae=>Jo([ae.x,ae.y],y.canonical));if(N.length===0)return NaN;const G=new Hc(H[0][1]);let X=1/0;for(const ae of I){switch(ae.type){case"Point":X=Math.min(X,yl(H,!0,[ae.coordinates],!1,G,X));break;case"LineString":X=Math.min(X,yl(H,!0,ae.coordinates,!0,G,X));break;case"Polygon":X=Math.min(X,Ui(H,!0,ae.coordinates,G,X))}if(X===0)return X}return X}(d,this.geometries);if(d.geometryType()==="Polygon")return function(y,I){const N=y.geometry();if(N.length===0||N[0].length===0)return NaN;const H=Il(N,0).map(ae=>ae.map(ce=>ce.map(Se=>Jo([Se.x,Se.y],y.canonical)))),G=new Hc(H[0][0][0][1]);let X=1/0;for(const ae of I)for(const ce of H){switch(ae.type){case"Point":X=Math.min(X,Ui([ae.coordinates],!1,ce,G,X));break;case"LineString":X=Math.min(X,Ui(ae.coordinates,!0,ce,G,X));break;case"Polygon":X=Math.min(X,fo(ce,ae.coordinates,G,X))}if(X===0)return X}return X}(d,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class sh{constructor(d){this.type=Wn,this.key=d}static parse(d,y){if(d.length!==2)return y.error(`Expected 1 argument, but found ${d.length-1} instead.`);const I=d[1];return I==null?y.error("Global state property must be defined."):typeof I!="string"?y.error(`Global state property must be string, but found ${typeof d[1]} instead.`):new sh(I)}evaluate(d){var y;const I=(y=d.globals)===null||y===void 0?void 0:y.globalState;return I&&Object.keys(I).length!==0?Al(I,this.key):null}eachChild(){}outputDefined(){return!1}}const Du={"==":ni,"!=":ai,">":_a,"<":$i,">=":Zi,"<=":Ai,array:rn,at:Ie,boolean:rn,case:vt,coalesce:hi,collator:ma,format:Pa,image:ha,in:Ke,"index-of":et,interpolate:gn,"interpolate-hcl":gn,"interpolate-lab":gn,length:ka,let:fi,literal:pr,match:St,number:rn,"number-format":Hi,object:rn,slice:Ot,step:Tr,string:rn,"to-boolean":Sn,"to-color":Sn,"to-number":Sn,"to-string":Sn,var:de,within:tc,distance:ku,"global-state":sh};class Ml{constructor(d,y,I,N){this.name=d,this.type=y,this._evaluate=I,this.args=N}evaluate(d){return this._evaluate(d,this.args)}eachChild(d){this.args.forEach(d)}outputDefined(){return!1}static parse(d,y){const I=d[0],N=Ml.definitions[I];if(!N)return y.error(`Unknown expression "${I}". If you wanted a literal array, use ["literal", [...]].`,0);const H=Array.isArray(N)?N[0]:N.type,G=Array.isArray(N)?[[N[1],N[2]]]:N.overloads,X=G.filter(([ce])=>!Array.isArray(ce)||ce.length===d.length-1);let ae=null;for(const[ce,Se]of X){ae=new Un(y.registry,rd,y.path,null,y.scope);const Pe=[];let Be=!1;for(let He=1;He<d.length;He++){const Xe=d[He],st=Array.isArray(ce)?ce[He-1]:ce.type,wt=ae.parse(Xe,1+Pe.length,st);if(!wt){Be=!0;break}Pe.push(wt)}if(!Be)if(Array.isArray(ce)&&ce.length!==Pe.length)ae.error(`Expected ${ce.length} arguments, but found ${Pe.length} instead.`);else{for(let He=0;He<Pe.length;He++){const Xe=Array.isArray(ce)?ce[He]:ce.type,st=Pe[He];ae.concat(He+1).checkSubtype(Xe,st.type)}if(ae.errors.length===0)return new Ml(I,H,Se,Pe)}}if(X.length===1)y.errors.push(...ae.errors);else{const ce=(X.length?X:G).map(([Pe])=>{return Be=Pe,Array.isArray(Be)?`(${Be.map(Ti).join(", ")})`:`(${Ti(Be.type)}...)`;var Be}).join(" | "),Se=[];for(let Pe=1;Pe<d.length;Pe++){const Be=y.parse(d[Pe],1+Se.length);if(!Be)return null;Se.push(Ti(Be.type))}y.error(`Expected arguments of type ${ce}, but found (${Se.join(", ")}) instead.`)}return null}static register(d,y){Ml.definitions=y;for(const I in y)d[I]=Ml}}function lh(b,[d,y,I,N]){d=d.evaluate(b),y=y.evaluate(b),I=I.evaluate(b);const H=N?N.evaluate(b):1,G=_t(d,y,I,H);if(G)throw new Ca(G);return new Ei(d/255,y/255,I/255,H,!1)}function Za(b,d){return b in d}function Md(b,d){const y=d[b];return y===void 0?null:y}function Cf(b){return{type:b}}function rd(b){if(b instanceof de)return rd(b.boundExpression);if(b instanceof Ml&&b.name==="error"||b instanceof ma||b instanceof tc||b instanceof ku||b instanceof sh)return!1;const d=b instanceof Sn||b instanceof rn;let y=!0;return b.eachChild(I=>{y=d?y&&rd(I):y&&I instanceof pr}),!!y&&nd(b)&&Ap(b,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function nd(b){if(b instanceof Ml&&(b.name==="get"&&b.args.length===1||b.name==="feature-state"||b.name==="has"&&b.args.length===1||b.name==="properties"||b.name==="geometry-type"||b.name==="id"||/^filter-/.test(b.name))||b instanceof tc||b instanceof ku)return!1;let d=!0;return b.eachChild(y=>{d&&!nd(y)&&(d=!1)}),d}function Zh(b){if(b instanceof Ml&&b.name==="feature-state")return!1;let d=!0;return b.eachChild(y=>{d&&!Zh(y)&&(d=!1)}),d}function Ap(b,d){if(b instanceof Ml&&d.indexOf(b.name)>=0)return!1;let y=!0;return b.eachChild(I=>{y&&!Ap(I,d)&&(y=!1)}),y}function id(b){return{result:"success",value:b}}function Zl(b){return{result:"error",value:b}}function Pf(b){return b["property-type"]==="data-driven"||b["property-type"]==="cross-faded-data-driven"}function xm(b){return!!b.expression&&b.expression.parameters.indexOf("zoom")>-1}function rc(b){return!!b.expression&&b.expression.interpolated}function ga(b){return b instanceof Number?"number":b instanceof String?"string":b instanceof Boolean?"boolean":Array.isArray(b)?"array":b===null?"null":typeof b}function kd(b){return typeof b=="object"&&b!==null&&!Array.isArray(b)&&Ar(b)===yi}function Fu(b){return b}function Sm(b,d){const y=b.stops&&typeof b.stops[0][0]=="object",I=y||!(y||b.property!==void 0),N=b.type||(rc(d)?"exponential":"interval"),H=function(Se){switch(Se.type){case"color":return Ei.parse;case"padding":return Po.parse;case"numberArray":return Ha.parse;case"colorArray":return ss.parse;default:return null}}(d);if(H&&((b=Yt({},b)).stops&&(b.stops=b.stops.map(Se=>[Se[0],H(Se[1])])),b.default=H(b.default?b.default:d.default)),b.colorSpace&&(G=b.colorSpace)!=="rgb"&&G!=="hcl"&&G!=="lab")throw new Error(`Unknown color space: "${b.colorSpace}"`);var G;const X=function(Se){switch(Se){case"exponential":return Em;case"interval":return Tf;case"categorical":return Yl;case"identity":return ls;default:throw new Error(`Unknown function type "${Se}"`)}}(N);let ae,ce;if(N==="categorical"){ae=Object.create(null);for(const Se of b.stops)ae[Se[0]]=Se[1];ce=typeof b.stops[0][0]}if(y){const Se={},Pe=[];for(let Xe=0;Xe<b.stops.length;Xe++){const st=b.stops[Xe],wt=st[0].zoom;Se[wt]===void 0&&(Se[wt]={zoom:wt,type:b.type,property:b.property,default:b.default,stops:[]},Pe.push(wt)),Se[wt].stops.push([st[0].value,st[1]])}const Be=[];for(const Xe of Pe)Be.push([Se[Xe].zoom,Sm(Se[Xe],d)]);const He={name:"linear"};return{kind:"composite",interpolationType:He,interpolationFactor:gn.interpolationFactor.bind(void 0,He),zoomStops:Be.map(Xe=>Xe[0]),evaluate:({zoom:Xe},st)=>Em({stops:Be,base:b.base},d,Xe).evaluate(Xe,st)}}if(I){const Se=N==="exponential"?{name:"exponential",base:b.base!==void 0?b.base:1}:null;return{kind:"camera",interpolationType:Se,interpolationFactor:gn.interpolationFactor.bind(void 0,Se),zoomStops:b.stops.map(Pe=>Pe[0]),evaluate:({zoom:Pe})=>X(b,d,Pe,ae,ce)}}return{kind:"source",evaluate(Se,Pe){const Be=Pe&&Pe.properties?Pe.properties[b.property]:void 0;return Be===void 0?Ec(b.default,d.default):X(b,d,Be,ae,ce)}}}function Ec(b,d,y){return b!==void 0?b:d!==void 0?d:y!==void 0?y:void 0}function Yl(b,d,y,I,N){return Ec(typeof y===N?I[y]:void 0,b.default,d.default)}function Tf(b,d,y){if(ga(y)!=="number")return Ec(b.default,d.default);const I=b.stops.length;if(I===1||y<=b.stops[0][0])return b.stops[0][1];if(y>=b.stops[I-1][0])return b.stops[I-1][1];const N=Pr(b.stops.map(H=>H[0]),y);return b.stops[N][1]}function Em(b,d,y){const I=b.base!==void 0?b.base:1;if(ga(y)!=="number")return Ec(b.default,d.default);const N=b.stops.length;if(N===1||y<=b.stops[0][0])return b.stops[0][1];if(y>=b.stops[N-1][0])return b.stops[N-1][1];const H=Pr(b.stops.map(Se=>Se[0]),y),G=function(Se,Pe,Be,He){const Xe=He-Be,st=Se-Be;return Xe===0?0:Pe===1?st/Xe:(Math.pow(Pe,st)-1)/(Math.pow(Pe,Xe)-1)}(y,I,b.stops[H][0],b.stops[H+1][0]),X=b.stops[H][1],ae=b.stops[H+1][1],ce=Zn[d.type]||Fu;return typeof X.evaluate=="function"?{evaluate(...Se){const Pe=X.evaluate.apply(void 0,Se),Be=ae.evaluate.apply(void 0,Se);if(Pe!==void 0&&Be!==void 0)return ce(Pe,Be,G,b.colorSpace)}}:ce(X,ae,G,b.colorSpace)}function ls(b,d,y){switch(d.type){case"color":y=Ei.parse(y);break;case"formatted":y=Ma.fromString(y.toString());break;case"resolvedImage":y=ms.fromString(y.toString());break;case"padding":y=Po.parse(y);break;case"colorArray":y=ss.parse(y);break;case"numberArray":y=Ha.parse(y);break;default:ga(y)===d.type||d.type==="enum"&&d.values[y]||(y=void 0)}return Ec(y,b.default,d.default)}Ml.register(Du,{error:[{kind:"error"},[Ir],(b,[d])=>{throw new Ca(d.evaluate(b))}],typeof:[Ir,[Wn],(b,[d])=>Ti(Ar(d.evaluate(b)))],"to-rgba":[Ia(Lt,4),[Fn],(b,[d])=>{const[y,I,N,H]=d.evaluate(b).rgb;return[255*y,255*I,255*N,H]}],rgb:[Fn,[Lt,Lt,Lt],lh],rgba:[Fn,[Lt,Lt,Lt,Lt],lh],has:{type:fn,overloads:[[[Ir],(b,[d])=>Za(d.evaluate(b),b.properties())],[[Ir,yi],(b,[d,y])=>Za(d.evaluate(b),y.evaluate(b))]]},get:{type:Wn,overloads:[[[Ir],(b,[d])=>Md(d.evaluate(b),b.properties())],[[Ir,yi],(b,[d,y])=>Md(d.evaluate(b),y.evaluate(b))]]},"feature-state":[Wn,[Ir],(b,[d])=>Md(d.evaluate(b),b.featureState||{})],properties:[yi,[],b=>b.properties()],"geometry-type":[Ir,[],b=>b.geometryType()],id:[Wn,[],b=>b.id()],zoom:[Lt,[],b=>b.globals.zoom],"heatmap-density":[Lt,[],b=>b.globals.heatmapDensity||0],"line-progress":[Lt,[],b=>b.globals.lineProgress||0],accumulated:[Wn,[],b=>b.globals.accumulated===void 0?null:b.globals.accumulated],"+":[Lt,Cf(Lt),(b,d)=>{let y=0;for(const I of d)y+=I.evaluate(b);return y}],"*":[Lt,Cf(Lt),(b,d)=>{let y=1;for(const I of d)y*=I.evaluate(b);return y}],"-":{type:Lt,overloads:[[[Lt,Lt],(b,[d,y])=>d.evaluate(b)-y.evaluate(b)],[[Lt],(b,[d])=>-d.evaluate(b)]]},"/":[Lt,[Lt,Lt],(b,[d,y])=>d.evaluate(b)/y.evaluate(b)],"%":[Lt,[Lt,Lt],(b,[d,y])=>d.evaluate(b)%y.evaluate(b)],ln2:[Lt,[],()=>Math.LN2],pi:[Lt,[],()=>Math.PI],e:[Lt,[],()=>Math.E],"^":[Lt,[Lt,Lt],(b,[d,y])=>Math.pow(d.evaluate(b),y.evaluate(b))],sqrt:[Lt,[Lt],(b,[d])=>Math.sqrt(d.evaluate(b))],log10:[Lt,[Lt],(b,[d])=>Math.log(d.evaluate(b))/Math.LN10],ln:[Lt,[Lt],(b,[d])=>Math.log(d.evaluate(b))],log2:[Lt,[Lt],(b,[d])=>Math.log(d.evaluate(b))/Math.LN2],sin:[Lt,[Lt],(b,[d])=>Math.sin(d.evaluate(b))],cos:[Lt,[Lt],(b,[d])=>Math.cos(d.evaluate(b))],tan:[Lt,[Lt],(b,[d])=>Math.tan(d.evaluate(b))],asin:[Lt,[Lt],(b,[d])=>Math.asin(d.evaluate(b))],acos:[Lt,[Lt],(b,[d])=>Math.acos(d.evaluate(b))],atan:[Lt,[Lt],(b,[d])=>Math.atan(d.evaluate(b))],min:[Lt,Cf(Lt),(b,d)=>Math.min(...d.map(y=>y.evaluate(b)))],max:[Lt,Cf(Lt),(b,d)=>Math.max(...d.map(y=>y.evaluate(b)))],abs:[Lt,[Lt],(b,[d])=>Math.abs(d.evaluate(b))],round:[Lt,[Lt],(b,[d])=>{const y=d.evaluate(b);return y<0?-Math.round(-y):Math.round(y)}],floor:[Lt,[Lt],(b,[d])=>Math.floor(d.evaluate(b))],ceil:[Lt,[Lt],(b,[d])=>Math.ceil(d.evaluate(b))],"filter-==":[fn,[Ir,Wn],(b,[d,y])=>b.properties()[d.value]===y.value],"filter-id-==":[fn,[Wn],(b,[d])=>b.id()===d.value],"filter-type-==":[fn,[Ir],(b,[d])=>b.geometryType()===d.value],"filter-<":[fn,[Ir,Wn],(b,[d,y])=>{const I=b.properties()[d.value],N=y.value;return typeof I==typeof N&&I<N}],"filter-id-<":[fn,[Wn],(b,[d])=>{const y=b.id(),I=d.value;return typeof y==typeof I&&y<I}],"filter->":[fn,[Ir,Wn],(b,[d,y])=>{const I=b.properties()[d.value],N=y.value;return typeof I==typeof N&&I>N}],"filter-id->":[fn,[Wn],(b,[d])=>{const y=b.id(),I=d.value;return typeof y==typeof I&&y>I}],"filter-<=":[fn,[Ir,Wn],(b,[d,y])=>{const I=b.properties()[d.value],N=y.value;return typeof I==typeof N&&I<=N}],"filter-id-<=":[fn,[Wn],(b,[d])=>{const y=b.id(),I=d.value;return typeof y==typeof I&&y<=I}],"filter->=":[fn,[Ir,Wn],(b,[d,y])=>{const I=b.properties()[d.value],N=y.value;return typeof I==typeof N&&I>=N}],"filter-id->=":[fn,[Wn],(b,[d])=>{const y=b.id(),I=d.value;return typeof y==typeof I&&y>=I}],"filter-has":[fn,[Wn],(b,[d])=>d.value in b.properties()],"filter-has-id":[fn,[],b=>b.id()!==null&&b.id()!==void 0],"filter-type-in":[fn,[Ia(Ir)],(b,[d])=>d.value.indexOf(b.geometryType())>=0],"filter-id-in":[fn,[Ia(Wn)],(b,[d])=>d.value.indexOf(b.id())>=0],"filter-in-small":[fn,[Ir,Ia(Wn)],(b,[d,y])=>y.value.indexOf(b.properties()[d.value])>=0],"filter-in-large":[fn,[Ir,Ia(Wn)],(b,[d,y])=>function(I,N,H,G){for(;H<=G;){const X=H+G>>1;if(N[X]===I)return!0;N[X]>I?G=X-1:H=X+1}return!1}(b.properties()[d.value],y.value,0,y.value.length-1)],all:{type:fn,overloads:[[[fn,fn],(b,[d,y])=>d.evaluate(b)&&y.evaluate(b)],[Cf(fn),(b,d)=>{for(const y of d)if(!y.evaluate(b))return!1;return!0}]]},any:{type:fn,overloads:[[[fn,fn],(b,[d,y])=>d.evaluate(b)||y.evaluate(b)],[Cf(fn),(b,d)=>{for(const y of d)if(y.evaluate(b))return!0;return!1}]]},"!":[fn,[fn],(b,[d])=>!d.evaluate(b)],"is-supported-script":[fn,[Ir],(b,[d])=>{const y=b.globals&&b.globals.isSupportedScript;return!y||y(d.evaluate(b))}],upcase:[Ir,[Ir],(b,[d])=>d.evaluate(b).toUpperCase()],downcase:[Ir,[Ir],(b,[d])=>d.evaluate(b).toLowerCase()],concat:[Ir,Cf(Wn),(b,d)=>d.map(y=>Zt(y.evaluate(b))).join("")],"resolved-locale":[Ir,[mi],(b,[d])=>d.evaluate(b).resolvedLocale()]});class Yh{constructor(d,y){this.expression=d,this._warningHistory={},this._evaluator=new An,this._defaultValue=y?function(I){if(I.type==="color"&&kd(I.default))return new Ei(0,0,0,0);switch(I.type){case"color":return Ei.parse(I.default)||null;case"padding":return Po.parse(I.default)||null;case"numberArray":return Ha.parse(I.default)||null;case"colorArray":return ss.parse(I.default)||null;case"variableAnchorOffsetCollection":return Xo.parse(I.default)||null;case"projectionDefinition":return ba.parse(I.default)||null;default:return I.default===void 0?null:I.default}}(y):null,this._enumValues=y&&y.type==="enum"?y.values:null}evaluateWithoutErrorHandling(d,y,I,N,H,G){return this._evaluator.globals=d,this._evaluator.feature=y,this._evaluator.featureState=I,this._evaluator.canonical=N,this._evaluator.availableImages=H||null,this._evaluator.formattedSection=G,this.expression.evaluate(this._evaluator)}evaluate(d,y,I,N,H,G){this._evaluator.globals=d,this._evaluator.feature=y||null,this._evaluator.featureState=I||null,this._evaluator.canonical=N,this._evaluator.availableImages=H||null,this._evaluator.formattedSection=G||null;try{const X=this.expression.evaluate(this._evaluator);if(X==null||typeof X=="number"&&X!=X)return this._defaultValue;if(this._enumValues&&!(X in this._enumValues))throw new Ca(`Expected value to be one of ${Object.keys(this._enumValues).map(ae=>JSON.stringify(ae)).join(", ")}, but found ${JSON.stringify(X)} instead.`);return X}catch(X){return this._warningHistory[X.message]||(this._warningHistory[X.message]=!0,typeof console<"u"&&console.warn(X.message)),this._defaultValue}}}function of(b){return Array.isArray(b)&&b.length>0&&typeof b[0]=="string"&&b[0]in Du}function sf(b,d){const y=new Un(Du,rd,[],d?function(N){const H={color:Fn,string:Ir,number:Lt,enum:Ir,boolean:fn,formatted:ya,padding:Ka,numberArray:Ji,colorArray:Ua,projectionDefinition:ui,resolvedImage:So,variableAnchorOffsetCollection:ci};return N.type==="array"?Ia(H[N.value]||Wn,N.length):H[N.type]}(d):void 0),I=y.parse(b,void 0,void 0,void 0,d&&d.type==="string"?{typeAnnotation:"coerce"}:void 0);return I?id(new Yh(I,d)):Zl(y.errors)}class Xh{constructor(d,y){this.kind=d,this._styleExpression=y,this.isStateDependent=d!=="constant"&&!Zh(y.expression)}evaluateWithoutErrorHandling(d,y,I,N,H,G){return this._styleExpression.evaluateWithoutErrorHandling(d,y,I,N,H,G)}evaluate(d,y,I,N,H,G){return this._styleExpression.evaluate(d,y,I,N,H,G)}}class Jh{constructor(d,y,I,N){this.kind=d,this.zoomStops=I,this._styleExpression=y,this.isStateDependent=d!=="camera"&&!Zh(y.expression),this.interpolationType=N}evaluateWithoutErrorHandling(d,y,I,N,H,G){return this._styleExpression.evaluateWithoutErrorHandling(d,y,I,N,H,G)}evaluate(d,y,I,N,H,G){return this._styleExpression.evaluate(d,y,I,N,H,G)}interpolationFactor(d,y,I){return this.interpolationType?gn.interpolationFactor(this.interpolationType,d,y,I):0}}function Dd(b,d){const y=sf(b,d);if(y.result==="error")return y;const I=y.value.expression,N=nd(I);if(!N&&!Pf(d))return Zl([new Jt("","data expressions not supported")]);const H=Ap(I,["zoom"]);if(!H&&!xm(d))return Zl([new Jt("","zoom expressions not supported")]);const G=lf(I);return G||H?G instanceof Jt?Zl([G]):G instanceof gn&&!rc(d)?Zl([new Jt("",'"interpolate" expressions cannot be used with this property')]):id(G?new Jh(N?"camera":"composite",y.value,G.labels,G instanceof gn?G.interpolation:void 0):new Xh(N?"constant":"source",y.value)):Zl([new Jt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Fd{constructor(d,y){this._parameters=d,this._specification=y,Yt(this,Sm(this._parameters,this._specification))}static deserialize(d){return new Fd(d._parameters,d._specification)}static serialize(d){return{_parameters:d._parameters,_specification:d._specification}}}function lf(b){let d=null;if(b instanceof fi)d=lf(b.result);else if(b instanceof hi){for(const y of b.args)if(d=lf(y),d)break}else(b instanceof Tr||b instanceof gn)&&b.input instanceof Ml&&b.input.name==="zoom"&&(d=b);return d instanceof Jt||b.eachChild(y=>{const I=lf(y);I instanceof Jt?d=I:!d&&I?d=new Jt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):d&&I&&d!==I&&(d=new Jt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),d}function Ss(b){if(b===!0||b===!1)return!0;if(!Array.isArray(b)||b.length===0)return!1;switch(b[0]){case"has":return b.length>=2&&b[1]!=="$id"&&b[1]!=="$type";case"in":return b.length>=3&&(typeof b[1]!="string"||Array.isArray(b[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return b.length!==3||Array.isArray(b[1])||Array.isArray(b[2]);case"any":case"all":for(const d of b.slice(1))if(!Ss(d)&&typeof d!="boolean")return!1;return!0;default:return!0}}const tl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ad(b){if(b==null)return{filter:()=>!0,needGeometry:!1};Ss(b)||(b=Cc(b));const d=sf(b,tl);if(d.result==="error")throw new Error(d.value.map(y=>`${y.key}: ${y.message}`).join(", "));return{filter:(y,I,N)=>d.value.evaluate(y,I,{},N),needGeometry:ep(b)}}function Qh(b,d){return b<d?-1:b>d?1:0}function ep(b){if(!Array.isArray(b))return!1;if(b[0]==="within"||b[0]==="distance")return!0;for(let d=1;d<b.length;d++)if(ep(b[d]))return!0;return!1}function Cc(b){if(!b)return!0;const d=b[0];return b.length<=1?d!=="any":d==="=="?$s(b[1],b[2],"=="):d==="!="?Pc($s(b[1],b[2],"==")):d==="<"||d===">"||d==="<="||d===">="?$s(b[1],b[2],d):d==="any"?(y=b.slice(1),["any"].concat(y.map(Cc))):d==="all"?["all"].concat(b.slice(1).map(Cc)):d==="none"?["all"].concat(b.slice(1).map(Cc).map(Pc)):d==="in"?od(b[1],b.slice(2)):d==="!in"?Pc(od(b[1],b.slice(2))):d==="has"?uh(b[1]):d!=="!has"||Pc(uh(b[1]));var y}function $s(b,d,y){switch(b){case"$type":return[`filter-type-${y}`,d];case"$id":return[`filter-id-${y}`,d];default:return[`filter-${y}`,b,d]}}function od(b,d){if(d.length===0)return!1;switch(b){case"$type":return["filter-type-in",["literal",d]];case"$id":return["filter-id-in",["literal",d]];default:return d.length>200&&!d.some(y=>typeof y!=typeof d[0])?["filter-in-large",b,["literal",d.sort(Qh)]]:["filter-in-small",b,["literal",d]]}}function uh(b){switch(b){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",b]}}function Pc(b){return["!",b]}function sd(b){const d=typeof b;if(d==="number"||d==="boolean"||d==="string"||b==null)return JSON.stringify(b);if(Array.isArray(b)){let N="[";for(const H of b)N+=`${sd(H)},`;return`${N}]`}const y=Object.keys(b).sort();let I="{";for(let N=0;N<y.length;N++)I+=`${JSON.stringify(y[N])}:${sd(b[y[N]])},`;return`${I}}`}function ch(b){let d="";for(const y of Ft)d+=`/${sd(b[y])}`;return d}function Rf(b){const d=b.value;return d?[new jt(b.key,d,"constants have been deprecated as of v8")]:[]}function qo(b){return b instanceof Number||b instanceof String||b instanceof Boolean?b.valueOf():b}function uf(b){if(Array.isArray(b))return b.map(uf);if(b instanceof Object&&!(b instanceof Number||b instanceof String||b instanceof Boolean)){const d={};for(const y in b)d[y]=uf(b[y]);return d}return qo(b)}function rl(b){const d=b.key,y=b.value,I=b.valueSpec||{},N=b.objectElementValidators||{},H=b.style,G=b.styleSpec,X=b.validateSpec;let ae=[];const ce=ga(y);if(ce!=="object")return[new jt(d,y,`object expected, ${ce} found`)];for(const Se in y){const Pe=Se.split(".")[0],Be=Al(I,Pe)||I["*"];let He;if(Al(N,Pe))He=N[Pe];else if(Al(I,Pe))He=X;else if(N["*"])He=N["*"];else{if(!I["*"]){ae.push(new jt(d,y[Se],`unknown property "${Se}"`));continue}He=X}ae=ae.concat(He({key:(d&&`${d}.`)+Se,value:y[Se],valueSpec:Be,style:H,styleSpec:G,object:y,objectKey:Se,validateSpec:X},y))}for(const Se in I)N[Se]||I[Se].required&&I[Se].default===void 0&&y[Se]===void 0&&ae.push(new jt(d,y,`missing required property "${Se}"`));return ae}function fh(b){const d=b.value,y=b.valueSpec,I=b.style,N=b.styleSpec,H=b.key,G=b.arrayElementValidator||b.validateSpec;if(ga(d)!=="array")return[new jt(H,d,`array expected, ${ga(d)} found`)];if(y.length&&d.length!==y.length)return[new jt(H,d,`array length ${y.length} expected, length ${d.length} found`)];if(y["min-length"]&&d.length<y["min-length"])return[new jt(H,d,`array length at least ${y["min-length"]} expected, length ${d.length} found`)];let X={type:y.value,values:y.values};N.$version<7&&(X.function=y.function),ga(y.value)==="object"&&(X=y.value);let ae=[];for(let ce=0;ce<d.length;ce++)ae=ae.concat(G({array:d,arrayIndex:ce,value:d[ce],valueSpec:X,validateSpec:b.validateSpec,style:I,styleSpec:N,key:`${H}[${ce}]`}));return ae}function Vc(b){const d=b.key,y=b.value,I=b.valueSpec;let N=ga(y);return N==="number"&&y!=y&&(N="NaN"),N!=="number"?[new jt(d,y,`number expected, ${N} found`)]:"minimum"in I&&y<I.minimum?[new jt(d,y,`${y} is less than the minimum value ${I.minimum}`)]:"maximum"in I&&y>I.maximum?[new jt(d,y,`${y} is greater than the maximum value ${I.maximum}`)]:[]}function Lu(b){const d=b.valueSpec,y=qo(b.value.type);let I,N,H,G={};const X=y!=="categorical"&&b.value.property===void 0,ae=!X,ce=ga(b.value.stops)==="array"&&ga(b.value.stops[0])==="array"&&ga(b.value.stops[0][0])==="object",Se=rl({key:b.key,value:b.value,valueSpec:b.styleSpec.function,validateSpec:b.validateSpec,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{stops:function(He){if(y==="identity")return[new jt(He.key,He.value,'identity function may not have a "stops" property')];let Xe=[];const st=He.value;return Xe=Xe.concat(fh({key:He.key,value:st,valueSpec:He.valueSpec,validateSpec:He.validateSpec,style:He.style,styleSpec:He.styleSpec,arrayElementValidator:Pe})),ga(st)==="array"&&st.length===0&&Xe.push(new jt(He.key,st,"array must have at least one stop")),Xe},default:function(He){return He.validateSpec({key:He.key,value:He.value,valueSpec:d,validateSpec:He.validateSpec,style:He.style,styleSpec:He.styleSpec})}}});return y==="identity"&&X&&Se.push(new jt(b.key,b.value,'missing required property "property"')),y==="identity"||b.value.stops||Se.push(new jt(b.key,b.value,'missing required property "stops"')),y==="exponential"&&b.valueSpec.expression&&!rc(b.valueSpec)&&Se.push(new jt(b.key,b.value,"exponential functions not supported")),b.styleSpec.$version>=8&&(ae&&!Pf(b.valueSpec)?Se.push(new jt(b.key,b.value,"property functions not supported")):X&&!xm(b.valueSpec)&&Se.push(new jt(b.key,b.value,"zoom functions not supported"))),y!=="categorical"&&!ce||b.value.property!==void 0||Se.push(new jt(b.key,b.value,'"property" property is required')),Se;function Pe(He){let Xe=[];const st=He.value,wt=He.key;if(ga(st)!=="array")return[new jt(wt,st,`array expected, ${ga(st)} found`)];if(st.length!==2)return[new jt(wt,st,`array length 2 expected, length ${st.length} found`)];if(ce){if(ga(st[0])!=="object")return[new jt(wt,st,`object expected, ${ga(st[0])} found`)];if(st[0].zoom===void 0)return[new jt(wt,st,"object stop key must have zoom")];if(st[0].value===void 0)return[new jt(wt,st,"object stop key must have value")];if(H&&H>qo(st[0].zoom))return[new jt(wt,st[0].zoom,"stop zoom values must appear in ascending order")];qo(st[0].zoom)!==H&&(H=qo(st[0].zoom),N=void 0,G={}),Xe=Xe.concat(rl({key:`${wt}[0]`,value:st[0],valueSpec:{zoom:{}},validateSpec:He.validateSpec,style:He.style,styleSpec:He.styleSpec,objectElementValidators:{zoom:Vc,value:Be}}))}else Xe=Xe.concat(Be({key:`${wt}[0]`,value:st[0],validateSpec:He.validateSpec,style:He.style,styleSpec:He.styleSpec},st));return of(uf(st[1]))?Xe.concat([new jt(`${wt}[1]`,st[1],"expressions are not allowed in function stops.")]):Xe.concat(He.validateSpec({key:`${wt}[1]`,value:st[1],valueSpec:d,validateSpec:He.validateSpec,style:He.style,styleSpec:He.styleSpec}))}function Be(He,Xe){const st=ga(He.value),wt=qo(He.value),Mt=He.value!==null?He.value:Xe;if(I){if(st!==I)return[new jt(He.key,Mt,`${st} stop domain type must match previous stop domain type ${I}`)]}else I=st;if(st!=="number"&&st!=="string"&&st!=="boolean")return[new jt(He.key,Mt,"stop domain value must be a number, string, or boolean")];if(st!=="number"&&y!=="categorical"){let lr=`number expected, ${st} found`;return Pf(d)&&y===void 0&&(lr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new jt(He.key,Mt,lr)]}return y!=="categorical"||st!=="number"||isFinite(wt)&&Math.floor(wt)===wt?y!=="categorical"&&st==="number"&&N!==void 0&&wt<N?[new jt(He.key,Mt,"stop domain values must appear in ascending order")]:(N=wt,y==="categorical"&&wt in G?[new jt(He.key,Mt,"stop domain values must be unique")]:(G[wt]=!0,[])):[new jt(He.key,Mt,`integer expected, found ${wt}`)]}}function kl(b){const d=(b.expressionContext==="property"?Dd:sf)(uf(b.value),b.valueSpec);if(d.result==="error")return d.value.map(I=>new jt(`${b.key}${I.key}`,b.value,I.message));const y=d.value.expression||d.value._styleExpression.expression;if(b.expressionContext==="property"&&b.propertyKey==="text-font"&&!y.outputDefined())return[new jt(b.key,b.value,`Invalid data expression for "${b.propertyKey}". Output values must be contained as literals within the expression.`)];if(b.expressionContext==="property"&&b.propertyType==="layout"&&!Zh(y))return[new jt(b.key,b.value,'"feature-state" data expressions are not supported with layout properties.')];if(b.expressionContext==="filter"&&!Zh(y))return[new jt(b.key,b.value,'"feature-state" data expressions are not supported with filters.')];if(b.expressionContext&&b.expressionContext.indexOf("cluster")===0){if(!Ap(y,["zoom","feature-state"]))return[new jt(b.key,b.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(b.expressionContext==="cluster-initial"&&!nd(y))return[new jt(b.key,b.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Nu(b){const d=b.key,y=b.value,I=ga(y);return I!=="string"?[new jt(d,y,`color expected, ${I} found`)]:Ei.parse(String(y))?[]:[new jt(d,y,`color expected, "${y}" found`)]}function Ld(b){const d=b.key,y=b.value,I=b.valueSpec,N=[];return Array.isArray(I.values)?I.values.indexOf(qo(y))===-1&&N.push(new jt(d,y,`expected one of [${I.values.join(", ")}], ${JSON.stringify(y)} found`)):Object.keys(I.values).indexOf(qo(y))===-1&&N.push(new jt(d,y,`expected one of [${Object.keys(I.values).join(", ")}], ${JSON.stringify(y)} found`)),N}function pt(b){return Ss(uf(b.value))?kl(Yt({},b,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Af(b)}function Af(b){const d=b.value,y=b.key;if(ga(d)!=="array")return[new jt(y,d,`array expected, ${ga(d)} found`)];const I=b.styleSpec;let N,H=[];if(d.length<1)return[new jt(y,d,"filter array must have at least 1 element")];switch(H=H.concat(Ld({key:`${y}[0]`,value:d[0],valueSpec:I.filter_operator,style:b.style,styleSpec:b.styleSpec})),qo(d[0])){case"<":case"<=":case">":case">=":d.length>=2&&qo(d[1])==="$type"&&H.push(new jt(y,d,`"$type" cannot be use with operator "${d[0]}"`));case"==":case"!=":d.length!==3&&H.push(new jt(y,d,`filter array for operator "${d[0]}" must have 3 elements`));case"in":case"!in":d.length>=2&&(N=ga(d[1]),N!=="string"&&H.push(new jt(`${y}[1]`,d[1],`string expected, ${N} found`)));for(let G=2;G<d.length;G++)N=ga(d[G]),qo(d[1])==="$type"?H=H.concat(Ld({key:`${y}[${G}]`,value:d[G],valueSpec:I.geometry_type,style:b.style,styleSpec:b.styleSpec})):N!=="string"&&N!=="number"&&N!=="boolean"&&H.push(new jt(`${y}[${G}]`,d[G],`string, number, or boolean expected, ${N} found`));break;case"any":case"all":case"none":for(let G=1;G<d.length;G++)H=H.concat(Af({key:`${y}[${G}]`,value:d[G],style:b.style,styleSpec:b.styleSpec}));break;case"has":case"!has":N=ga(d[1]),d.length!==2?H.push(new jt(y,d,`filter array for "${d[0]}" operator must have 2 elements`)):N!=="string"&&H.push(new jt(`${y}[1]`,d[1],`string expected, ${N} found`))}return H}function nc(b,d){const y=b.key,I=b.validateSpec,N=b.style,H=b.styleSpec,G=b.value,X=b.objectKey,ae=H[`${d}_${b.layerType}`];if(!ae)return[];const ce=X.match(/^(.*)-transition$/);if(d==="paint"&&ce&&ae[ce[1]]&&ae[ce[1]].transition)return I({key:y,value:G,valueSpec:H.transition,style:N,styleSpec:H});const Se=b.valueSpec||ae[X];if(!Se)return[new jt(y,G,`unknown property "${X}"`)];let Pe;if(ga(G)==="string"&&Pf(Se)&&!Se.tokens&&(Pe=/^{([^}]+)}$/.exec(G)))return[new jt(y,G,`"${X}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Pe[1])} }\`.`)];const Be=[];return b.layerType==="symbol"&&(X==="text-field"&&N&&!N.glyphs&&Be.push(new jt(y,G,'use of "text-field" requires a style "glyphs" property')),X==="text-font"&&kd(uf(G))&&qo(G.type)==="identity"&&Be.push(new jt(y,G,'"text-font" does not support identity functions'))),Be.concat(I({key:b.key,value:G,valueSpec:Se,style:N,styleSpec:H,expressionContext:"property",propertyType:d,propertyKey:X}))}function Xl(b){return nc(b,"paint")}function ea(b){return nc(b,"layout")}function ld(b){let d=[];const y=b.value,I=b.key,N=b.style,H=b.styleSpec;if(ga(y)!=="object")return[new jt(I,y,`object expected, ${ga(y)} found`)];y.type||y.ref||d.push(new jt(I,y,'either "type" or "ref" is required'));let G=qo(y.type);const X=qo(y.ref);if(y.id){const ae=qo(y.id);for(let ce=0;ce<b.arrayIndex;ce++){const Se=N.layers[ce];qo(Se.id)===ae&&d.push(new jt(I,y.id,`duplicate layer id "${y.id}", previously used at line ${Se.id.__line__}`))}}if("ref"in y){let ae;["type","source","source-layer","filter","layout"].forEach(ce=>{ce in y&&d.push(new jt(I,y[ce],`"${ce}" is prohibited for ref layers`))}),N.layers.forEach(ce=>{qo(ce.id)===X&&(ae=ce)}),ae?ae.ref?d.push(new jt(I,y.ref,"ref cannot reference another ref layer")):G=qo(ae.type):d.push(new jt(I,y.ref,`ref layer "${X}" not found`))}else if(G!=="background")if(y.source){const ae=N.sources&&N.sources[y.source],ce=ae&&qo(ae.type);ae?ce==="vector"&&G==="raster"?d.push(new jt(I,y.source,`layer "${y.id}" requires a raster source`)):ce!=="raster-dem"&&G==="hillshade"?d.push(new jt(I,y.source,`layer "${y.id}" requires a raster-dem source`)):ce==="raster"&&G!=="raster"?d.push(new jt(I,y.source,`layer "${y.id}" requires a vector source`)):ce!=="vector"||y["source-layer"]?ce==="raster-dem"&&G!=="hillshade"?d.push(new jt(I,y.source,"raster-dem source can only be used with layer type 'hillshade'.")):G!=="line"||!y.paint||!y.paint["line-gradient"]||ce==="geojson"&&ae.lineMetrics||d.push(new jt(I,y,`layer "${y.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):d.push(new jt(I,y,`layer "${y.id}" must specify a "source-layer"`)):d.push(new jt(I,y.source,`source "${y.source}" not found`))}else d.push(new jt(I,y,'missing required property "source"'));return d=d.concat(rl({key:I,value:y,valueSpec:H.layer,style:b.style,styleSpec:b.styleSpec,validateSpec:b.validateSpec,objectElementValidators:{"*":()=>[],type:()=>b.validateSpec({key:`${I}.type`,value:y.type,valueSpec:H.layer.type,style:b.style,styleSpec:b.styleSpec,validateSpec:b.validateSpec,object:y,objectKey:"type"}),filter:pt,layout:ae=>rl({layer:y,key:ae.key,value:ae.value,style:ae.style,styleSpec:ae.styleSpec,validateSpec:ae.validateSpec,objectElementValidators:{"*":ce=>ea(Yt({layerType:G},ce))}}),paint:ae=>rl({layer:y,key:ae.key,value:ae.value,style:ae.style,styleSpec:ae.styleSpec,validateSpec:ae.validateSpec,objectElementValidators:{"*":ce=>Xl(Yt({layerType:G},ce))}})}})),d}function Os(b){const d=b.value,y=b.key,I=ga(d);return I!=="string"?[new jt(y,d,`string expected, ${I} found`)]:[]}const cf={promoteId:function({key:b,value:d}){if(ga(d)==="string")return Os({key:b,value:d});{const y=[];for(const I in d)y.push(...Os({key:`${b}.${I}`,value:d[I]}));return y}}};function pu(b){const d=b.value,y=b.key,I=b.styleSpec,N=b.style,H=b.validateSpec;if(!d.type)return[new jt(y,d,'"type" is required')];const G=qo(d.type);let X;switch(G){case"vector":case"raster":return X=rl({key:y,value:d,valueSpec:I[`source_${G.replace("-","_")}`],style:b.style,styleSpec:I,objectElementValidators:cf,validateSpec:H}),X;case"raster-dem":return X=function(ae){var ce;const Se=(ce=ae.sourceName)!==null&&ce!==void 0?ce:"",Pe=ae.value,Be=ae.styleSpec,He=Be.source_raster_dem,Xe=ae.style;let st=[];const wt=ga(Pe);if(Pe===void 0)return st;if(wt!=="object")return st.push(new jt("source_raster_dem",Pe,`object expected, ${wt} found`)),st;const Mt=qo(Pe.encoding)==="custom",lr=["redFactor","greenFactor","blueFactor","baseShift"],qt=ae.value.encoding?`"${ae.value.encoding}"`:"Default";for(const Ue in Pe)!Mt&&lr.includes(Ue)?st.push(new jt(Ue,Pe[Ue],`In "${Se}": "${Ue}" is only valid when "encoding" is set to "custom". ${qt} encoding found`)):He[Ue]?st=st.concat(ae.validateSpec({key:Ue,value:Pe[Ue],valueSpec:He[Ue],validateSpec:ae.validateSpec,style:Xe,styleSpec:Be})):st.push(new jt(Ue,Pe[Ue],`unknown property "${Ue}"`));return st}({sourceName:y,value:d,style:b.style,styleSpec:I,validateSpec:H}),X;case"geojson":if(X=rl({key:y,value:d,valueSpec:I.source_geojson,style:N,styleSpec:I,validateSpec:H,objectElementValidators:cf}),d.cluster)for(const ae in d.clusterProperties){const[ce,Se]=d.clusterProperties[ae],Pe=typeof ce=="string"?[ce,["accumulated"],["get",ae]]:ce;X.push(...kl({key:`${y}.${ae}.map`,value:Se,expressionContext:"cluster-map"})),X.push(...kl({key:`${y}.${ae}.reduce`,value:Pe,expressionContext:"cluster-reduce"}))}return X;case"video":return rl({key:y,value:d,valueSpec:I.source_video,style:N,validateSpec:H,styleSpec:I});case"image":return rl({key:y,value:d,valueSpec:I.source_image,style:N,validateSpec:H,styleSpec:I});case"canvas":return[new jt(y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ld({key:`${y}.type`,value:d.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function us(b){const d=b.value,y=b.styleSpec,I=y.light,N=b.style;let H=[];const G=ga(d);if(d===void 0)return H;if(G!=="object")return H=H.concat([new jt("light",d,`object expected, ${G} found`)]),H;for(const X in d){const ae=X.match(/^(.*)-transition$/);H=H.concat(ae&&I[ae[1]]&&I[ae[1]].transition?b.validateSpec({key:X,value:d[X],valueSpec:y.transition,validateSpec:b.validateSpec,style:N,styleSpec:y}):I[X]?b.validateSpec({key:X,value:d[X],valueSpec:I[X],validateSpec:b.validateSpec,style:N,styleSpec:y}):[new jt(X,d[X],`unknown property "${X}"`)])}return H}function Do(b){const d=b.value,y=b.styleSpec,I=y.sky,N=b.style,H=ga(d);if(d===void 0)return[];if(H!=="object")return[new jt("sky",d,`object expected, ${H} found`)];let G=[];for(const X in d)G=G.concat(I[X]?b.validateSpec({key:X,value:d[X],valueSpec:I[X],style:N,styleSpec:y}):[new jt(X,d[X],`unknown property "${X}"`)]);return G}function ic(b){const d=b.value,y=b.styleSpec,I=y.terrain,N=b.style;let H=[];const G=ga(d);if(d===void 0)return H;if(G!=="object")return H=H.concat([new jt("terrain",d,`object expected, ${G} found`)]),H;for(const X in d)H=H.concat(I[X]?b.validateSpec({key:X,value:d[X],valueSpec:I[X],validateSpec:b.validateSpec,style:N,styleSpec:y}):[new jt(X,d[X],`unknown property "${X}"`)]);return H}function Dl(b){let d=[];const y=b.value,I=b.key;if(Array.isArray(y)){const N=[],H=[];for(const G in y)y[G].id&&N.includes(y[G].id)&&d.push(new jt(I,y,`all the sprites' ids must be unique, but ${y[G].id} is duplicated`)),N.push(y[G].id),y[G].url&&H.includes(y[G].url)&&d.push(new jt(I,y,`all the sprites' URLs must be unique, but ${y[G].url} is duplicated`)),H.push(y[G].url),d=d.concat(rl({key:`${I}[${G}]`,value:y[G],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:b.validateSpec}));return d}return Os({key:I,value:y})}function Jl(b){return d=b.value,d&&d.constructor===Object?[]:[new jt(b.key,b.value,`object expected, ${ga(b.value)} found`)];var d}const Fl={"*":()=>[],array:fh,boolean:function(b){const d=b.value,y=b.key,I=ga(d);return I!=="boolean"?[new jt(y,d,`boolean expected, ${I} found`)]:[]},number:Vc,color:Nu,constants:Rf,enum:Ld,filter:pt,function:Lu,layer:ld,object:rl,source:pu,light:us,sky:Do,terrain:ic,projection:function(b){const d=b.value,y=b.styleSpec,I=y.projection,N=b.style,H=ga(d);if(d===void 0)return[];if(H!=="object")return[new jt("projection",d,`object expected, ${H} found`)];let G=[];for(const X in d)G=G.concat(I[X]?b.validateSpec({key:X,value:d[X],valueSpec:I[X],style:N,styleSpec:y}):[new jt(X,d[X],`unknown property "${X}"`)]);return G},projectionDefinition:function(b){const d=b.key;let y=b.value;y=y instanceof String?y.valueOf():y;const I=ga(y);return I!=="array"||function(N){return Array.isArray(N)&&N.length===3&&typeof N[0]=="string"&&typeof N[1]=="string"&&typeof N[2]=="number"}(y)||function(N){return!!["interpolate","step","literal"].includes(N[0])}(y)?["array","string"].includes(I)?[]:[new jt(d,y,`projection expected, invalid type "${I}" found`)]:[new jt(d,y,`projection expected, invalid array ${JSON.stringify(y)} found`)]},string:Os,formatted:function(b){return Os(b).length===0?[]:kl(b)},resolvedImage:function(b){return Os(b).length===0?[]:kl(b)},padding:function(b){const d=b.key,y=b.value;if(ga(y)==="array"){if(y.length<1||y.length>4)return[new jt(d,y,`padding requires 1 to 4 values; ${y.length} values found`)];const I={type:"number"};let N=[];for(let H=0;H<y.length;H++)N=N.concat(b.validateSpec({key:`${d}[${H}]`,value:y[H],validateSpec:b.validateSpec,valueSpec:I}));return N}return Vc({key:d,value:y,valueSpec:{}})},numberArray:function(b){const d=b.key,y=b.value;if(ga(y)==="array"){const I={type:"number"};if(y.length<1)return[new jt(d,y,"array length at least 1 expected, length 0 found")];let N=[];for(let H=0;H<y.length;H++)N=N.concat(b.validateSpec({key:`${d}[${H}]`,value:y[H],validateSpec:b.validateSpec,valueSpec:I}));return N}return Vc({key:d,value:y,valueSpec:{}})},colorArray:function(b){const d=b.key,y=b.value;if(ga(y)==="array"){if(y.length<1)return[new jt(d,y,"array length at least 1 expected, length 0 found")];let I=[];for(let N=0;N<y.length;N++)I=I.concat(Nu({key:`${d}[${N}]`,value:y[N]}));return I}return Nu({key:d,value:y})},variableAnchorOffsetCollection:function(b){const d=b.key,y=b.value,I=ga(y),N=b.styleSpec;if(I!=="array"||y.length<1||y.length%2!=0)return[new jt(d,y,"variableAnchorOffsetCollection requires a non-empty array of even length")];let H=[];for(let G=0;G<y.length;G+=2)H=H.concat(Ld({key:`${d}[${G}]`,value:y[G],valueSpec:N.layout_symbol["text-anchor"]})),H=H.concat(fh({key:`${d}[${G+1}]`,value:y[G+1],valueSpec:{length:2,value:"number"},validateSpec:b.validateSpec,style:b.style,styleSpec:N}));return H},sprite:Dl,state:Jl};function ac(b){const d=b.value,y=b.valueSpec,I=b.styleSpec;return b.validateSpec=ac,y.expression&&kd(qo(d))?Lu(b):y.expression&&of(uf(d))?kl(b):y.type&&Fl[y.type]?Fl[y.type](b):rl(Yt({},b,{valueSpec:y.type?I[y.type]:y}))}function Hs(b){const d=b.value,y=b.key,I=Os(b);return I.length||(d.indexOf("{fontstack}")===-1&&I.push(new jt(y,d,'"glyphs" url must include a "{fontstack}" token')),d.indexOf("{range}")===-1&&I.push(new jt(y,d,'"glyphs" url must include a "{range}" token'))),I}function Es(b,d=at){let y=[];return y=y.concat(ac({key:"",value:b,valueSpec:d.$root,styleSpec:d,style:b,validateSpec:ac,objectElementValidators:{glyphs:Hs,"*":()=>[]}})),b.constants&&(y=y.concat(Rf({key:"constants",value:b.constants}))),ff(y)}function Gc(b){return function(d){return b({...d,validateSpec:ac})}}function ff(b){return[].concat(b).sort((d,y)=>d.line-y.line)}function Cs(b){return function(...d){return ff(b.apply(this,d))}}Es.source=Cs(Gc(pu)),Es.sprite=Cs(Gc(Dl)),Es.glyphs=Cs(Gc(Hs)),Es.light=Cs(Gc(us)),Es.sky=Cs(Gc(Do)),Es.terrain=Cs(Gc(ic)),Es.state=Cs(Gc(Jl)),Es.layer=Cs(Gc(ld)),Es.filter=Cs(Gc(pt)),Es.paintProperty=Cs(Gc(Xl)),Es.layoutProperty=Cs(Gc(ea));const dh=Es,oc=dh.light,Cm=dh.sky,Op=dh.paintProperty,Ip=dh.layoutProperty;function ud(b,d){let y=!1;if(d&&d.length)for(const I of d)b.fire(new gt(new Error(I.message))),y=!0;return y}class mu{constructor(d,y,I){const N=this.cells=[];if(d instanceof ArrayBuffer){this.arrayBuffer=d;const G=new Int32Array(this.arrayBuffer);d=G[0],this.d=(y=G[1])+2*(I=G[2]);for(let ae=0;ae<this.d*this.d;ae++){const ce=G[3+ae],Se=G[3+ae+1];N.push(ce===Se?null:G.subarray(ce,Se))}const X=G[3+N.length+1];this.keys=G.subarray(G[3+N.length],X),this.bboxes=G.subarray(X),this.insert=this._insertReadonly}else{this.d=y+2*I;for(let G=0;G<this.d*this.d;G++)N.push([]);this.keys=[],this.bboxes=[]}this.n=y,this.extent=d,this.padding=I,this.scale=y/d,this.uid=0;const H=I/y*d;this.min=-H,this.max=d+H}insert(d,y,I,N,H){this._forEachCell(y,I,N,H,this._insertCell,this.uid++,void 0,void 0),this.keys.push(d),this.bboxes.push(y),this.bboxes.push(I),this.bboxes.push(N),this.bboxes.push(H)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(d,y,I,N,H,G){this.cells[H].push(G)}query(d,y,I,N,H){const G=this.min,X=this.max;if(d<=G&&y<=G&&X<=I&&X<=N&&!H)return Array.prototype.slice.call(this.keys);{const ae=[];return this._forEachCell(d,y,I,N,this._queryCell,ae,{},H),ae}}_queryCell(d,y,I,N,H,G,X,ae){const ce=this.cells[H];if(ce!==null){const Se=this.keys,Pe=this.bboxes;for(let Be=0;Be<ce.length;Be++){const He=ce[Be];if(X[He]===void 0){const Xe=4*He;(ae?ae(Pe[Xe+0],Pe[Xe+1],Pe[Xe+2],Pe[Xe+3]):d<=Pe[Xe+2]&&y<=Pe[Xe+3]&&I>=Pe[Xe+0]&&N>=Pe[Xe+1])?(X[He]=!0,G.push(Se[He])):X[He]=!1}}}}_forEachCell(d,y,I,N,H,G,X,ae){const ce=this._convertToCellCoord(d),Se=this._convertToCellCoord(y),Pe=this._convertToCellCoord(I),Be=this._convertToCellCoord(N);for(let He=ce;He<=Pe;He++)for(let Xe=Se;Xe<=Be;Xe++){const st=this.d*Xe+He;if((!ae||ae(this._convertFromCellCoord(He),this._convertFromCellCoord(Xe),this._convertFromCellCoord(He+1),this._convertFromCellCoord(Xe+1)))&&H.call(this,d,y,I,N,st,G,X,ae))return}}_convertFromCellCoord(d){return(d-this.padding)/this.scale}_convertToCellCoord(d){return Math.max(0,Math.min(this.d-1,Math.floor(d*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const d=this.cells,y=3+this.cells.length+1+1;let I=0;for(let G=0;G<this.cells.length;G++)I+=this.cells[G].length;const N=new Int32Array(y+I+this.keys.length+this.bboxes.length);N[0]=this.extent,N[1]=this.n,N[2]=this.padding;let H=y;for(let G=0;G<d.length;G++){const X=d[G];N[3+G]=H,N.set(X,H),H+=X.length}return N[3+d.length]=H,N.set(this.keys,H),H+=this.keys.length,N[3+d.length+1]=H,N.set(this.bboxes,H),H+=this.bboxes.length,N.buffer}static serialize(d,y){const I=d.toArrayBuffer();return y&&y.push(I),{buffer:I}}static deserialize(d){return new mu(d.buffer)}}const gu={};function qn(b,d,y={}){if(gu[b])throw new Error(`${b} is already registered.`);Object.defineProperty(d,"_classRegistryKey",{value:b,writeable:!1}),gu[b]={klass:d,omit:y.omit||[],shallow:y.shallow||[]}}qn("Object",Object),qn("TransferableGridIndex",mu),qn("Color",Ei),qn("Error",Error),qn("AJAXError",_n),qn("ResolvedImage",ms),qn("StylePropertyFunction",Fd),qn("StyleExpression",Yh,{omit:["_evaluator"]}),qn("ZoomDependentExpression",Jh),qn("ZoomConstantExpression",Xh),qn("CompoundExpression",Ml,{omit:["_evaluate"]});for(const b in Du)Du[b]._classRegistryKey||qn(`Expression_${b}`,Du[b]);function hh(b){return b&&typeof ArrayBuffer<"u"&&(b instanceof ArrayBuffer||b.constructor&&b.constructor.name==="ArrayBuffer")}function Nd(b){return b.$name||b.constructor._classRegistryKey}function Tc(b){return!function(d){if(d===null||typeof d!="object")return!1;const y=Nd(d);return!(!y||y==="Object")}(b)&&(b==null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||b instanceof Boolean||b instanceof Number||b instanceof String||b instanceof Date||b instanceof RegExp||b instanceof Blob||b instanceof Error||hh(b)||je(b)||ArrayBuffer.isView(b)||b instanceof ImageData)}function Ql(b,d){if(Tc(b))return(hh(b)||je(b))&&d&&d.push(b),ArrayBuffer.isView(b)&&d&&d.push(b.buffer),b instanceof ImageData&&d&&d.push(b.data.buffer),b;if(Array.isArray(b)){const H=[];for(const G of b)H.push(Ql(G,d));return H}if(typeof b!="object")throw new Error("can't serialize object of type "+typeof b);const y=Nd(b);if(!y)throw new Error(`can't serialize object of unregistered class ${b.constructor.name}`);if(!gu[y])throw new Error(`${y} is not registered.`);const{klass:I}=gu[y],N=I.serialize?I.serialize(b,d):{};if(I.serialize){if(d&&N===d[d.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const H in b){if(!b.hasOwnProperty(H)||gu[y].omit.indexOf(H)>=0)continue;const G=b[H];N[H]=gu[y].shallow.indexOf(H)>=0?G:Ql(G,d)}b instanceof Error&&(N.message=b.message)}if(N.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(N.$name=y),N}function Kc(b){if(Tc(b))return b;if(Array.isArray(b))return b.map(Kc);if(typeof b!="object")throw new Error("can't deserialize object of type "+typeof b);const d=Nd(b)||"Object";if(!gu[d])throw new Error(`can't deserialize unregistered class ${d}`);const{klass:y}=gu[d];if(!y)throw new Error(`can't deserialize unregistered class ${d}`);if(y.deserialize)return y.deserialize(b);const I=Object.create(y.prototype);for(const N of Object.keys(b)){if(N==="$name")continue;const H=b[N];I[N]=gu[d].shallow.indexOf(N)>=0?H:Kc(H)}return I}class Zc{constructor(){this.first=!0}update(d,y){const I=Math.floor(d);return this.first?(this.first=!1,this.lastIntegerZoom=I,this.lastIntegerZoomTime=0,this.lastZoom=d,this.lastFloorZoom=I,!0):(this.lastFloorZoom>I?(this.lastIntegerZoom=I+1,this.lastIntegerZoomTime=y):this.lastFloorZoom<I&&(this.lastIntegerZoom=I,this.lastIntegerZoomTime=y),d!==this.lastZoom&&(this.lastZoom=d,this.lastFloorZoom=I,!0))}}const ta={"Latin-1 Supplement":b=>b>=128&&b<=255,"Hangul Jamo":b=>b>=4352&&b<=4607,Khmer:b=>b>=6016&&b<=6143,"General Punctuation":b=>b>=8192&&b<=8303,"Letterlike Symbols":b=>b>=8448&&b<=8527,"Number Forms":b=>b>=8528&&b<=8591,"Miscellaneous Technical":b=>b>=8960&&b<=9215,"Control Pictures":b=>b>=9216&&b<=9279,"Optical Character Recognition":b=>b>=9280&&b<=9311,"Enclosed Alphanumerics":b=>b>=9312&&b<=9471,"Geometric Shapes":b=>b>=9632&&b<=9727,"Miscellaneous Symbols":b=>b>=9728&&b<=9983,"Miscellaneous Symbols and Arrows":b=>b>=11008&&b<=11263,"Ideographic Description Characters":b=>b>=12272&&b<=12287,"CJK Symbols and Punctuation":b=>b>=12288&&b<=12351,Hiragana:b=>b>=12352&&b<=12447,Katakana:b=>b>=12448&&b<=12543,Kanbun:b=>b>=12688&&b<=12703,"CJK Strokes":b=>b>=12736&&b<=12783,"Enclosed CJK Letters and Months":b=>b>=12800&&b<=13055,"CJK Compatibility":b=>b>=13056&&b<=13311,"Yijing Hexagram Symbols":b=>b>=19904&&b<=19967,"CJK Unified Ideographs":b=>b>=19968&&b<=40959,"Hangul Syllables":b=>b>=44032&&b<=55215,"Private Use Area":b=>b>=57344&&b<=63743,"Vertical Forms":b=>b>=65040&&b<=65055,"CJK Compatibility Forms":b=>b>=65072&&b<=65103,"Small Form Variants":b=>b>=65104&&b<=65135,"Halfwidth and Fullwidth Forms":b=>b>=65280&&b<=65519};function Of(b){for(const d of b)if(Fo(d.charCodeAt(0)))return!0;return!1}function hg(b){for(const d of b)if(!Ll(d.charCodeAt(0)))return!1;return!0}function $d(b){const d=b.map(y=>{try{return new RegExp(`\\p{sc=${y}}`,"u").source}catch{return null}}).filter(y=>y);return new RegExp(d.join("|"),"u")}const If=$d(["Arab","Dupl","Mong","Ougr","Syrc"]);function Ll(b){return!If.test(String.fromCodePoint(b))}const eu=$d(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Fo(b){return!(b!==746&&b!==747&&(b<4352||!(ta["CJK Compatibility Forms"](b)&&!(b>=65097&&b<=65103)||ta["CJK Compatibility"](b)||ta["CJK Strokes"](b)||!(!ta["CJK Symbols and Punctuation"](b)||b>=12296&&b<=12305||b>=12308&&b<=12319||b===12336)||ta["Enclosed CJK Letters and Months"](b)||ta["Ideographic Description Characters"](b)||ta.Kanbun(b)||ta.Katakana(b)&&b!==12540||!(!ta["Halfwidth and Fullwidth Forms"](b)||b===65288||b===65289||b===65293||b>=65306&&b<=65310||b===65339||b===65341||b===65343||b>=65371&&b<=65503||b===65507||b>=65512&&b<=65519)||!(!ta["Small Form Variants"](b)||b>=65112&&b<=65118||b>=65123&&b<=65126)||ta["Vertical Forms"](b)||ta["Yijing Hexagram Symbols"](b)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(b))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(b))||eu.test(String.fromCodePoint(b)))))}function vu(b){return!(Fo(b)||function(d){return!!(ta["Latin-1 Supplement"](d)&&(d===167||d===169||d===174||d===177||d===188||d===189||d===190||d===215||d===247)||ta["General Punctuation"](d)&&(d===8214||d===8224||d===8225||d===8240||d===8241||d===8251||d===8252||d===8258||d===8263||d===8264||d===8265||d===8273)||ta["Letterlike Symbols"](d)||ta["Number Forms"](d)||ta["Miscellaneous Technical"](d)&&(d>=8960&&d<=8967||d>=8972&&d<=8991||d>=8996&&d<=9e3||d===9003||d>=9085&&d<=9114||d>=9150&&d<=9165||d===9167||d>=9169&&d<=9179||d>=9186&&d<=9215)||ta["Control Pictures"](d)&&d!==9251||ta["Optical Character Recognition"](d)||ta["Enclosed Alphanumerics"](d)||ta["Geometric Shapes"](d)||ta["Miscellaneous Symbols"](d)&&!(d>=9754&&d<=9759)||ta["Miscellaneous Symbols and Arrows"](d)&&(d>=11026&&d<=11055||d>=11088&&d<=11097||d>=11192&&d<=11243)||ta["CJK Symbols and Punctuation"](d)||ta.Katakana(d)||ta["Private Use Area"](d)||ta["CJK Compatibility Forms"](d)||ta["Small Form Variants"](d)||ta["Halfwidth and Fullwidth Forms"](d)||d===8734||d===8756||d===8757||d>=9984&&d<=10087||d>=10102&&d<=10131||d===65532||d===65533)}(b))}const Rc=$d(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function cd(b){return Rc.test(String.fromCodePoint(b))}function Mf(b,d){return!(!d&&cd(b)||b>=2304&&b<=3583||b>=3840&&b<=4255||ta.Khmer(b))}function sc(b){for(const d of b)if(cd(d.charCodeAt(0)))return!0;return!1}const kf=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(b){this.pluginStatus=b.pluginStatus,this.pluginURL=b.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(b){if(kf.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=b.applyArabicShaping,this.processBidirectionalText=b.processBidirectionalText,this.processStyledBidirectionalText=b.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(b,d){return o(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(b.pluginStatus!=="loading")return this.setState(b),b;const y=b.pluginURL,I=new Promise(H=>{this.loadScriptResolve=H});d(y);const N=new Promise(H=>setTimeout(()=>H(),this.TIMEOUT));if(yield Promise.race([I,N]),this.isParsed()){const H={pluginStatus:"loaded",pluginURL:y};return this.setState(H),H}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${y}`)})}};class Ro{constructor(d,y){this.zoom=d,y?(this.now=y.now,this.fadeDuration=y.fadeDuration,this.zoomHistory=y.zoomHistory,this.transition=y.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Zc,this.transition={})}isSupportedScript(d){return function(y,I){for(const N of y)if(!Mf(N.charCodeAt(0),I))return!1;return!0}(d,kf.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const d=this.zoom,y=d-Math.floor(d),I=this.crossFadingFactor();return d>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:y+(1-y)*I}:{fromScale:.5,toScale:1,t:1-(1-I)*y}}}class fd{constructor(d,y){this.property=d,this.value=y,this.expression=function(I,N){if(kd(I))return new Fd(I,N);if(of(I)){const H=Dd(I,N);if(H.result==="error")throw new Error(H.value.map(G=>`${G.key}: ${G.message}`).join(", "));return H.value}{let H=I;return N.type==="color"&&typeof I=="string"?H=Ei.parse(I):N.type!=="padding"||typeof I!="number"&&!Array.isArray(I)?N.type!=="numberArray"||typeof I!="number"&&!Array.isArray(I)?N.type!=="colorArray"||typeof I!="string"&&!Array.isArray(I)?N.type==="variableAnchorOffsetCollection"&&Array.isArray(I)?H=Xo.parse(I):N.type==="projectionDefinition"&&typeof I=="string"&&(H=ba.parse(I)):H=ss.parse(I):H=Ha.parse(I):H=Po.parse(I),{kind:"constant",evaluate:()=>H}}}(y===void 0?d.specification.default:y,d.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(d,y,I){return this.property.possiblyEvaluate(this,d,y,I)}}class Ac{constructor(d){this.property=d,this.value=new fd(d,void 0)}transitioned(d,y){return new pg(this.property,this.value,y,$e({},d.transition,this.transition),d.now)}untransitioned(){return new pg(this.property,this.value,null,{},0)}}class df{constructor(d){this._properties=d,this._values=Object.create(d.defaultTransitionablePropertyValues)}getValue(d){return ft(this._values[d].value.value)}setValue(d,y){Object.prototype.hasOwnProperty.call(this._values,d)||(this._values[d]=new Ac(this._values[d].property)),this._values[d].value=new fd(this._values[d].property,y===null?void 0:ft(y))}getTransition(d){return ft(this._values[d].transition)}setTransition(d,y){Object.prototype.hasOwnProperty.call(this._values,d)||(this._values[d]=new Ac(this._values[d].property)),this._values[d].transition=ft(y)||void 0}serialize(){const d={};for(const y of Object.keys(this._values)){const I=this.getValue(y);I!==void 0&&(d[y]=I);const N=this.getTransition(y);N!==void 0&&(d[`${y}-transition`]=N)}return d}transitioned(d,y){const I=new zd(this._properties);for(const N of Object.keys(this._values))I._values[N]=this._values[N].transitioned(d,y._values[N]);return I}untransitioned(){const d=new zd(this._properties);for(const y of Object.keys(this._values))d._values[y]=this._values[y].untransitioned();return d}}class pg{constructor(d,y,I,N,H){this.property=d,this.value=y,this.begin=H+N.delay||0,this.end=this.begin+N.duration||0,d.specification.transition&&(N.delay||N.duration)&&(this.prior=I)}possiblyEvaluate(d,y,I){const N=d.now||0,H=this.value.possiblyEvaluate(d,y,I),G=this.prior;if(G){if(N>this.end)return this.prior=null,H;if(this.value.isDataDriven())return this.prior=null,H;if(N<this.begin)return G.possiblyEvaluate(d,y,I);{const X=(N-this.begin)/(this.end-this.begin);return this.property.interpolate(G.possiblyEvaluate(d,y,I),H,ge(X))}}return H}}class zd{constructor(d){this._properties=d,this._values=Object.create(d.defaultTransitioningPropertyValues)}possiblyEvaluate(d,y,I){const N=new ph(this._properties);for(const H of Object.keys(this._values))N._values[H]=this._values[H].possiblyEvaluate(d,y,I);return N}hasTransition(){for(const d of Object.keys(this._values))if(this._values[d].prior)return!0;return!1}}class Df{constructor(d){this._properties=d,this._values=Object.create(d.defaultPropertyValues)}hasValue(d){return this._values[d].value!==void 0}getValue(d){return ft(this._values[d].value)}setValue(d,y){this._values[d]=new fd(this._values[d].property,y===null?void 0:ft(y))}serialize(){const d={};for(const y of Object.keys(this._values)){const I=this.getValue(y);I!==void 0&&(d[y]=I)}return d}possiblyEvaluate(d,y,I){const N=new ph(this._properties);for(const H of Object.keys(this._values))N._values[H]=this._values[H].possiblyEvaluate(d,y,I);return N}}class Nl{constructor(d,y,I){this.property=d,this.value=y,this.parameters=I}isConstant(){return this.value.kind==="constant"}constantOr(d){return this.value.kind==="constant"?this.value.value:d}evaluate(d,y,I,N){return this.property.evaluate(this.value,this.parameters,d,y,I,N)}}class ph{constructor(d){this._properties=d,this._values=Object.create(d.defaultPossiblyEvaluatedValues)}get(d){return this._values[d]}}class Gn{constructor(d){this.specification=d}possiblyEvaluate(d,y){if(d.isDataDriven())throw new Error("Value should not be data driven");return d.expression.evaluate(y)}interpolate(d,y,I){const N=Zn[this.specification.type];return N?N(d,y,I):d}}class Di{constructor(d,y){this.specification=d,this.overrides=y}possiblyEvaluate(d,y,I,N){return new Nl(this,d.expression.kind==="constant"||d.expression.kind==="camera"?{kind:"constant",value:d.expression.evaluate(y,null,{},I,N)}:d.expression,y)}interpolate(d,y,I){if(d.value.kind!=="constant"||y.value.kind!=="constant")return d;if(d.value.value===void 0||y.value.value===void 0)return new Nl(this,{kind:"constant",value:void 0},d.parameters);const N=Zn[this.specification.type];if(N){const H=N(d.value.value,y.value.value,I);return new Nl(this,{kind:"constant",value:H},d.parameters)}return d}evaluate(d,y,I,N,H,G){return d.kind==="constant"?d.value:d.evaluate(y,I,N,H,G)}}class dd extends Di{possiblyEvaluate(d,y,I,N){if(d.value===void 0)return new Nl(this,{kind:"constant",value:void 0},y);if(d.expression.kind==="constant"){const H=d.expression.evaluate(y,null,{},I,N),G=d.property.specification.type==="resolvedImage"&&typeof H!="string"?H.name:H,X=this._calculate(G,G,G,y);return new Nl(this,{kind:"constant",value:X},y)}if(d.expression.kind==="camera"){const H=this._calculate(d.expression.evaluate({zoom:y.zoom-1}),d.expression.evaluate({zoom:y.zoom}),d.expression.evaluate({zoom:y.zoom+1}),y);return new Nl(this,{kind:"constant",value:H},y)}return new Nl(this,d.expression,y)}evaluate(d,y,I,N,H,G){if(d.kind==="source"){const X=d.evaluate(y,I,N,H,G);return this._calculate(X,X,X,y)}return d.kind==="composite"?this._calculate(d.evaluate({zoom:Math.floor(y.zoom)-1},I,N),d.evaluate({zoom:Math.floor(y.zoom)},I,N),d.evaluate({zoom:Math.floor(y.zoom)+1},I,N),y):d.value}_calculate(d,y,I,N){return N.zoom>N.zoomHistory.lastIntegerZoom?{from:d,to:y}:{from:I,to:y}}interpolate(d){return d}}class yu{constructor(d){this.specification=d}possiblyEvaluate(d,y,I,N){if(d.value!==void 0){if(d.expression.kind==="constant"){const H=d.expression.evaluate(y,null,{},I,N);return this._calculate(H,H,H,y)}return this._calculate(d.expression.evaluate(new Ro(Math.floor(y.zoom-1),y)),d.expression.evaluate(new Ro(Math.floor(y.zoom),y)),d.expression.evaluate(new Ro(Math.floor(y.zoom+1),y)),y)}}_calculate(d,y,I,N){return N.zoom>N.zoomHistory.lastIntegerZoom?{from:d,to:y}:{from:I,to:y}}interpolate(d){return d}}class bl{constructor(d){this.specification=d}possiblyEvaluate(d,y,I,N){return!!d.expression.evaluate(y,null,{},I,N)}interpolate(){return!1}}class ys{constructor(d){this.properties=d,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const y in d){const I=d[y];I.specification.overridable&&this.overridableProperties.push(y);const N=this.defaultPropertyValues[y]=new fd(I,void 0),H=this.defaultTransitionablePropertyValues[y]=new Ac(I);this.defaultTransitioningPropertyValues[y]=H.untransitioned(),this.defaultPossiblyEvaluatedValues[y]=N.possiblyEvaluate({})}}}qn("DataDrivenProperty",Di),qn("DataConstantProperty",Gn),qn("CrossFadedDataDrivenProperty",dd),qn("CrossFadedProperty",yu),qn("ColorRampProperty",bl);const Yc="-transition";class $u extends kt{constructor(d,y){if(super(),this.id=d.id,this.type=d.type,this._featureFilter={filter:()=>!0,needGeometry:!1},d.type!=="custom"&&(this.metadata=d.metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,d.type!=="background"&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),y.layout&&(this._unevaluatedLayout=new Df(y.layout)),y.paint)){this._transitionablePaint=new df(y.paint);for(const I in d.paint)this.setPaintProperty(I,d.paint[I],{validate:!1});for(const I in d.layout)this.setLayoutProperty(I,d.layout[I],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ph(y.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(d){return d==="visibility"?this.visibility:this._unevaluatedLayout.getValue(d)}setLayoutProperty(d,y,I={}){y!=null&&this._validate(Ip,`layers.${this.id}.layout.${d}`,d,y,I)||(d!=="visibility"?this._unevaluatedLayout.setValue(d,y):this.visibility=y)}getPaintProperty(d){return d.endsWith(Yc)?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)}setPaintProperty(d,y,I={}){if(y!=null&&this._validate(Op,`layers.${this.id}.paint.${d}`,d,y,I))return!1;if(d.endsWith(Yc))return this._transitionablePaint.setTransition(d.slice(0,-11),y||void 0),!1;{const N=this._transitionablePaint._values[d],H=N.property.specification["property-type"]==="cross-faded-data-driven",G=N.value.isDataDriven(),X=N.value;this._transitionablePaint.setValue(d,y),this._handleSpecialPaintPropertyUpdate(d);const ae=this._transitionablePaint._values[d].value;return ae.isDataDriven()||G||H||this._handleOverridablePaintPropertyUpdate(d,X,ae)}}_handleSpecialPaintPropertyUpdate(d){}_handleOverridablePaintPropertyUpdate(d,y,I){return!1}isHidden(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||this.visibility==="none"}updateTransitions(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(d,y){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,y)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,y)}serialize(){const d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),Re(d,(y,I)=>!(y===void 0||I==="layout"&&!Object.keys(y).length||I==="paint"&&!Object.keys(y).length))}_validate(d,y,I,N,H={}){return(!H||H.validate!==!1)&&ud(this,d.call(dh,{key:y,layerType:this.type,objectKey:I,value:N,styleSpec:at,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const d in this.paint._values){const y=this.paint.get(d);if(y instanceof Nl&&Pf(y.property.specification)&&(y.value.kind==="source"||y.value.kind==="composite")&&y.value.isStateDependent)return!0}return!1}}const $l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class zu{constructor(d,y){this._structArray=d,this._pos1=y*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ro{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(d,y){return d._trim(),y&&(d.isTransferred=!0,y.push(d.arrayBuffer)),{length:d.length,arrayBuffer:d.arrayBuffer}}static deserialize(d){const y=Object.create(this.prototype);return y.arrayBuffer=d.arrayBuffer,y.length=d.length,y.capacity=d.arrayBuffer.byteLength/y.bytesPerElement,y._refreshViews(),y}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(d){this.reserve(d),this.length=d}reserve(d){if(d>this.capacity){this.capacity=Math.max(d,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const y=this.uint8;this._refreshViews(),y&&this.uint8.set(y)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function bo(b,d=1){let y=0,I=0;return{members:b.map(N=>{const H=$l[N.type].BYTES_PER_ELEMENT,G=y=hd(y,Math.max(d,H)),X=N.components||1;return I=Math.max(I,H),y+=H*X,{name:N.name,type:N.type,components:X,offset:G}}),size:hd(y,Math.max(I,d)),alignment:d}}function hd(b,d){return Math.ceil(b/d)*d}class pd extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y){const I=this.length;return this.resize(I+1),this.emplace(I,d,y)}emplace(d,y,I){const N=2*d;return this.int16[N+0]=y,this.int16[N+1]=I,d}}pd.prototype.bytesPerElement=4,qn("StructArrayLayout2i4",pd);class Oc extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I){const N=this.length;return this.resize(N+1),this.emplace(N,d,y,I)}emplace(d,y,I,N){const H=3*d;return this.int16[H+0]=y,this.int16[H+1]=I,this.int16[H+2]=N,d}}Oc.prototype.bytesPerElement=6,qn("StructArrayLayout3i6",Oc);class zl extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N){const H=this.length;return this.resize(H+1),this.emplace(H,d,y,I,N)}emplace(d,y,I,N,H){const G=4*d;return this.int16[G+0]=y,this.int16[G+1]=I,this.int16[G+2]=N,this.int16[G+3]=H,d}}zl.prototype.bytesPerElement=8,qn("StructArrayLayout4i8",zl);class tp extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G){const X=this.length;return this.resize(X+1),this.emplace(X,d,y,I,N,H,G)}emplace(d,y,I,N,H,G,X){const ae=6*d;return this.int16[ae+0]=y,this.int16[ae+1]=I,this.int16[ae+2]=N,this.int16[ae+3]=H,this.int16[ae+4]=G,this.int16[ae+5]=X,d}}tp.prototype.bytesPerElement=12,qn("StructArrayLayout2i4i12",tp);class Pm extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G){const X=this.length;return this.resize(X+1),this.emplace(X,d,y,I,N,H,G)}emplace(d,y,I,N,H,G,X){const ae=4*d,ce=8*d;return this.int16[ae+0]=y,this.int16[ae+1]=I,this.uint8[ce+4]=N,this.uint8[ce+5]=H,this.uint8[ce+6]=G,this.uint8[ce+7]=X,d}}Pm.prototype.bytesPerElement=8,qn("StructArrayLayout2i4ub8",Pm);class Ws extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y){const I=this.length;return this.resize(I+1),this.emplace(I,d,y)}emplace(d,y,I){const N=2*d;return this.float32[N+0]=y,this.float32[N+1]=I,d}}Ws.prototype.bytesPerElement=8,qn("StructArrayLayout2f8",Ws);class lc extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G,X,ae,ce,Se){const Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,d,y,I,N,H,G,X,ae,ce,Se)}emplace(d,y,I,N,H,G,X,ae,ce,Se,Pe){const Be=10*d;return this.uint16[Be+0]=y,this.uint16[Be+1]=I,this.uint16[Be+2]=N,this.uint16[Be+3]=H,this.uint16[Be+4]=G,this.uint16[Be+5]=X,this.uint16[Be+6]=ae,this.uint16[Be+7]=ce,this.uint16[Be+8]=Se,this.uint16[Be+9]=Pe,d}}lc.prototype.bytesPerElement=20,qn("StructArrayLayout10ui20",lc);class B extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be){const He=this.length;return this.resize(He+1),this.emplace(He,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be)}emplace(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He){const Xe=12*d;return this.int16[Xe+0]=y,this.int16[Xe+1]=I,this.int16[Xe+2]=N,this.int16[Xe+3]=H,this.uint16[Xe+4]=G,this.uint16[Xe+5]=X,this.uint16[Xe+6]=ae,this.uint16[Xe+7]=ce,this.int16[Xe+8]=Se,this.int16[Xe+9]=Pe,this.int16[Xe+10]=Be,this.int16[Xe+11]=He,d}}B.prototype.bytesPerElement=24,qn("StructArrayLayout4i4ui4i24",B);class c extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y,I){const N=this.length;return this.resize(N+1),this.emplace(N,d,y,I)}emplace(d,y,I,N){const H=3*d;return this.float32[H+0]=y,this.float32[H+1]=I,this.float32[H+2]=N,d}}c.prototype.bytesPerElement=12,qn("StructArrayLayout3f12",c);class g extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(d){const y=this.length;return this.resize(y+1),this.emplace(y,d)}emplace(d,y){return this.uint32[1*d+0]=y,d}}g.prototype.bytesPerElement=4,qn("StructArrayLayout1ul4",g);class M extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G,X,ae,ce){const Se=this.length;return this.resize(Se+1),this.emplace(Se,d,y,I,N,H,G,X,ae,ce)}emplace(d,y,I,N,H,G,X,ae,ce,Se){const Pe=10*d,Be=5*d;return this.int16[Pe+0]=y,this.int16[Pe+1]=I,this.int16[Pe+2]=N,this.int16[Pe+3]=H,this.int16[Pe+4]=G,this.int16[Pe+5]=X,this.uint32[Be+3]=ae,this.uint16[Pe+8]=ce,this.uint16[Pe+9]=Se,d}}M.prototype.bytesPerElement=20,qn("StructArrayLayout6i1ul2ui20",M);class L extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G){const X=this.length;return this.resize(X+1),this.emplace(X,d,y,I,N,H,G)}emplace(d,y,I,N,H,G,X){const ae=6*d;return this.int16[ae+0]=y,this.int16[ae+1]=I,this.int16[ae+2]=N,this.int16[ae+3]=H,this.int16[ae+4]=G,this.int16[ae+5]=X,d}}L.prototype.bytesPerElement=12,qn("StructArrayLayout2i2i2i12",L);class j extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H){const G=this.length;return this.resize(G+1),this.emplace(G,d,y,I,N,H)}emplace(d,y,I,N,H,G){const X=4*d,ae=8*d;return this.float32[X+0]=y,this.float32[X+1]=I,this.float32[X+2]=N,this.int16[ae+6]=H,this.int16[ae+7]=G,d}}j.prototype.bytesPerElement=16,qn("StructArrayLayout2f1f2i16",j);class Y extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G){const X=this.length;return this.resize(X+1),this.emplace(X,d,y,I,N,H,G)}emplace(d,y,I,N,H,G,X){const ae=16*d,ce=4*d,Se=8*d;return this.uint8[ae+0]=y,this.uint8[ae+1]=I,this.float32[ce+1]=N,this.float32[ce+2]=H,this.int16[Se+6]=G,this.int16[Se+7]=X,d}}Y.prototype.bytesPerElement=16,qn("StructArrayLayout2ub2f2i16",Y);class te extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y,I){const N=this.length;return this.resize(N+1),this.emplace(N,d,y,I)}emplace(d,y,I,N){const H=3*d;return this.uint16[H+0]=y,this.uint16[H+1]=I,this.uint16[H+2]=N,d}}te.prototype.bytesPerElement=6,qn("StructArrayLayout3ui6",te);class oe extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt){const lr=this.length;return this.resize(lr+1),this.emplace(lr,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt)}emplace(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr){const qt=24*d,Ue=12*d,bt=48*d;return this.int16[qt+0]=y,this.int16[qt+1]=I,this.uint16[qt+2]=N,this.uint16[qt+3]=H,this.uint32[Ue+2]=G,this.uint32[Ue+3]=X,this.uint32[Ue+4]=ae,this.uint16[qt+10]=ce,this.uint16[qt+11]=Se,this.uint16[qt+12]=Pe,this.float32[Ue+7]=Be,this.float32[Ue+8]=He,this.uint8[bt+36]=Xe,this.uint8[bt+37]=st,this.uint8[bt+38]=wt,this.uint32[Ue+10]=Mt,this.int16[qt+22]=lr,d}}oe.prototype.bytesPerElement=48,qn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",oe);class be extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr,qt,Ue,bt,Gt,Ur,mn,Yr,an,On,yn){const Tn=this.length;return this.resize(Tn+1),this.emplace(Tn,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr,qt,Ue,bt,Gt,Ur,mn,Yr,an,On,yn)}emplace(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr,qt,Ue,bt,Gt,Ur,mn,Yr,an,On,yn,Tn){const cn=32*d,vi=16*d;return this.int16[cn+0]=y,this.int16[cn+1]=I,this.int16[cn+2]=N,this.int16[cn+3]=H,this.int16[cn+4]=G,this.int16[cn+5]=X,this.int16[cn+6]=ae,this.int16[cn+7]=ce,this.uint16[cn+8]=Se,this.uint16[cn+9]=Pe,this.uint16[cn+10]=Be,this.uint16[cn+11]=He,this.uint16[cn+12]=Xe,this.uint16[cn+13]=st,this.uint16[cn+14]=wt,this.uint16[cn+15]=Mt,this.uint16[cn+16]=lr,this.uint16[cn+17]=qt,this.uint16[cn+18]=Ue,this.uint16[cn+19]=bt,this.uint16[cn+20]=Gt,this.uint16[cn+21]=Ur,this.uint16[cn+22]=mn,this.uint32[vi+12]=Yr,this.float32[vi+13]=an,this.float32[vi+14]=On,this.uint16[cn+30]=yn,this.uint16[cn+31]=Tn,d}}be.prototype.bytesPerElement=64,qn("StructArrayLayout8i15ui1ul2f2ui64",be);class Ce extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d){const y=this.length;return this.resize(y+1),this.emplace(y,d)}emplace(d,y){return this.float32[1*d+0]=y,d}}Ce.prototype.bytesPerElement=4,qn("StructArrayLayout1f4",Ce);class Fe extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y,I){const N=this.length;return this.resize(N+1),this.emplace(N,d,y,I)}emplace(d,y,I,N){const H=3*d;return this.uint16[6*d+0]=y,this.float32[H+1]=I,this.float32[H+2]=N,d}}Fe.prototype.bytesPerElement=12,qn("StructArrayLayout1ui2f12",Fe);class De extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y,I){const N=this.length;return this.resize(N+1),this.emplace(N,d,y,I)}emplace(d,y,I,N){const H=4*d;return this.uint32[2*d+0]=y,this.uint16[H+2]=I,this.uint16[H+3]=N,d}}De.prototype.bytesPerElement=8,qn("StructArrayLayout1ul2ui8",De);class We extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d,y){const I=this.length;return this.resize(I+1),this.emplace(I,d,y)}emplace(d,y,I){const N=2*d;return this.uint16[N+0]=y,this.uint16[N+1]=I,d}}We.prototype.bytesPerElement=4,qn("StructArrayLayout2ui4",We);class nt extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(d){const y=this.length;return this.resize(y+1),this.emplace(y,d)}emplace(d,y){return this.uint16[1*d+0]=y,d}}nt.prototype.bytesPerElement=2,qn("StructArrayLayout1ui2",nt);class Pt extends ro{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(d,y,I,N){const H=this.length;return this.resize(H+1),this.emplace(H,d,y,I,N)}emplace(d,y,I,N,H){const G=4*d;return this.float32[G+0]=y,this.float32[G+1]=I,this.float32[G+2]=N,this.float32[G+3]=H,d}}Pt.prototype.bytesPerElement=16,qn("StructArrayLayout4f16",Pt);class Ct extends zu{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new v(this.anchorPointX,this.anchorPointY)}}Ct.prototype.size=20;class Rt extends M{get(d){return new Ct(this,d)}}qn("CollisionBoxArray",Rt);class Bt extends zu{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(d){this._structArray.uint8[this._pos1+37]=d}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(d){this._structArray.uint8[this._pos1+38]=d}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(d){this._structArray.uint32[this._pos4+10]=d}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Bt.prototype.size=48;class Ht extends oe{get(d){return new Bt(this,d)}}qn("PlacedSymbolArray",Ht);class $t extends zu{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(d){this._structArray.uint32[this._pos4+12]=d}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}$t.prototype.size=64;class Wt extends be{get(d){return new $t(this,d)}}qn("SymbolInstanceArray",Wt);class tr extends Ce{getoffsetX(d){return this.float32[1*d+0]}}qn("GlyphOffsetArray",tr);class nr extends Oc{getx(d){return this.int16[3*d+0]}gety(d){return this.int16[3*d+1]}gettileUnitDistanceFromAnchor(d){return this.int16[3*d+2]}}qn("SymbolLineVertexArray",nr);class kr extends zu{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}kr.prototype.size=12;class Qr extends Fe{get(d){return new kr(this,d)}}qn("TextAnchorOffsetArray",Qr);class _r extends zu{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}_r.prototype.size=8;class $r extends De{get(d){return new _r(this,d)}}qn("FeatureIndexArray",$r);class Jr extends pd{}class Dn extends pd{}class In extends pd{}class hn extends tp{}class Jn extends Pm{}class Mi extends Ws{}class Ra extends lc{}class Ao extends B{}class ho extends c{}class es extends g{}class cs extends L{}class Da extends Y{}class Aa extends te{}class Is extends We{}const nl=bo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Vs}=nl;class Fa{constructor(d=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=d}prepareSegment(d,y,I,N){const H=this.segments[this.segments.length-1];return d>Fa.MAX_VERTEX_ARRAY_LENGTH&&dt(`Max vertices per segment is ${Fa.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${d}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Fa.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!H||H.vertexLength+d>Fa.MAX_VERTEX_ARRAY_LENGTH||H.sortKey!==N?this.createNewSegment(y,I,N):H}createNewSegment(d,y,I){const N={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0,vaos:{}};return I!==void 0&&(N.sortKey=I),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(N),N}getOrCreateLatestSegment(d,y,I){return this.prepareSegment(0,d,y,I)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const d of this.segments)for(const y in d.vaos)d.vaos[y].destroy()}static simpleSegment(d,y,I,N){return new Fa([{vertexOffset:d,primitiveOffset:y,vertexLength:I,primitiveLength:N,vaos:{},sortKey:0}])}}function tu(b,d){return 256*(b=Ge(Math.floor(b),0,255))+Ge(Math.floor(d),0,255)}Fa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,qn("SegmentVector",Fa);const Bu=bo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ic,Ff,Gs,Mc={exports:{}},Bl={exports:{}},bu={exports:{}},Lf=function(){if(Gs)return Mc.exports;Gs=1;var b=(Ic||(Ic=1,Bl.exports=function(y,I){var N,H,G,X,ae,ce,Se,Pe;for(H=y.length-(N=3&y.length),G=I,ae=3432918353,ce=461845907,Pe=0;Pe<H;)Se=255&y.charCodeAt(Pe)|(255&y.charCodeAt(++Pe))<<8|(255&y.charCodeAt(++Pe))<<16|(255&y.charCodeAt(++Pe))<<24,++Pe,G=27492+(65535&(X=5*(65535&(G=(G^=Se=(65535&(Se=(Se=(65535&Se)*ae+(((Se>>>16)*ae&65535)<<16)&4294967295)<<15|Se>>>17))*ce+(((Se>>>16)*ce&65535)<<16)&4294967295)<<13|G>>>19))+((5*(G>>>16)&65535)<<16)&4294967295))+((58964+(X>>>16)&65535)<<16);switch(Se=0,N){case 3:Se^=(255&y.charCodeAt(Pe+2))<<16;case 2:Se^=(255&y.charCodeAt(Pe+1))<<8;case 1:G^=Se=(65535&(Se=(Se=(65535&(Se^=255&y.charCodeAt(Pe)))*ae+(((Se>>>16)*ae&65535)<<16)&4294967295)<<15|Se>>>17))*ce+(((Se>>>16)*ce&65535)<<16)&4294967295}return G^=y.length,G=2246822507*(65535&(G^=G>>>16))+((2246822507*(G>>>16)&65535)<<16)&4294967295,G=3266489909*(65535&(G^=G>>>13))+((3266489909*(G>>>16)&65535)<<16)&4294967295,(G^=G>>>16)>>>0}),Bl.exports),d=(Ff||(Ff=1,bu.exports=function(y,I){for(var N,H=y.length,G=I^H,X=0;H>=4;)N=1540483477*(65535&(N=255&y.charCodeAt(X)|(255&y.charCodeAt(++X))<<8|(255&y.charCodeAt(++X))<<16|(255&y.charCodeAt(++X))<<24))+((1540483477*(N>>>16)&65535)<<16),G=1540483477*(65535&G)+((1540483477*(G>>>16)&65535)<<16)^(N=1540483477*(65535&(N^=N>>>24))+((1540483477*(N>>>16)&65535)<<16)),H-=4,++X;switch(H){case 3:G^=(255&y.charCodeAt(X+2))<<16;case 2:G^=(255&y.charCodeAt(X+1))<<8;case 1:G=1540483477*(65535&(G^=255&y.charCodeAt(X)))+((1540483477*(G>>>16)&65535)<<16)}return G=1540483477*(65535&(G^=G>>>13))+((1540483477*(G>>>16)&65535)<<16),(G^=G>>>15)>>>0}),bu.exports);return Mc.exports=b,Mc.exports.murmur3=b,Mc.exports.murmur2=d,Mc.exports}(),kc=l(Lf);class md{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(d,y,I,N){this.ids.push(Ks(d)),this.positions.push(y,I,N)}getPositions(d){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const y=Ks(d);let I=0,N=this.ids.length-1;for(;I<N;){const G=I+N>>1;this.ids[G]>=y?N=G:I=G+1}const H=[];for(;this.ids[I]===y;)H.push({index:this.positions[3*I],start:this.positions[3*I+1],end:this.positions[3*I+2]}),I++;return H}static serialize(d,y){const I=new Float64Array(d.ids),N=new Uint32Array(d.positions);return Zs(I,N,0,I.length-1),y&&y.push(I.buffer,N.buffer),{ids:I,positions:N}}static deserialize(d){const y=new md;return y.ids=d.ids,y.positions=d.positions,y.indexed=!0,y}}function Ks(b){const d=+b;return!isNaN(d)&&d<=Number.MAX_SAFE_INTEGER?d:kc(String(b))}function Zs(b,d,y,I){for(;y<I;){const N=b[y+I>>1];let H=y-1,G=I+1;for(;;){do H++;while(b[H]<N);do G--;while(b[G]>N);if(H>=G)break;_u(b,H,G),_u(d,3*H,3*G),_u(d,3*H+1,3*G+1),_u(d,3*H+2,3*G+2)}G-y<I-G?(Zs(b,d,y,G),y=G+1):(Zs(b,d,G+1,I),I=G)}}function _u(b,d,y){const I=b[d];b[d]=b[y],b[y]=I}qn("FeaturePositionMap",md);class _o{constructor(d,y){this.gl=d.gl,this.location=y}}class Tm extends _o{constructor(d,y){super(d,y),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class Mp extends _o{constructor(d,y){super(d,y),this.current=[0,0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))}}class rp extends _o{constructor(d,y){super(d,y),this.current=Ei.transparent}set(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))}}const ju=new Float32Array(16);function uc(b){return[tu(255*b.r,255*b.g),tu(255*b.b,255*b.a)]}class gd{constructor(d,y,I){this.value=d,this.uniformNames=y.map(N=>`u_${N}`),this.type=I}setUniform(d,y,I){d.set(I.constantOr(this.value))}getBinding(d,y,I){return this.type==="color"?new rp(d,y):new Tm(d,y)}}class Xc{constructor(d,y){this.uniformNames=y.map(I=>`u_${I}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(d,y){this.pixelRatioFrom=y.pixelRatio,this.pixelRatioTo=d.pixelRatio,this.patternFrom=y.tlbr,this.patternTo=d.tlbr}setUniform(d,y,I,N){const H=N==="u_pattern_to"?this.patternTo:N==="u_pattern_from"?this.patternFrom:N==="u_pixel_ratio_to"?this.pixelRatioTo:N==="u_pixel_ratio_from"?this.pixelRatioFrom:null;H&&d.set(H)}getBinding(d,y,I){return I.substr(0,9)==="u_pattern"?new Mp(d,y):new Tm(d,y)}}class Dc{constructor(d,y,I,N){this.expression=d,this.type=I,this.maxValue=0,this.paintVertexAttributes=y.map(H=>({name:`a_${H}`,type:"Float32",components:I==="color"?2:1,offset:0})),this.paintVertexArray=new N}populatePaintArray(d,y,I,N,H){const G=this.paintVertexArray.length,X=this.expression.evaluate(new Ro(0),y,{},N,[],H);this.paintVertexArray.resize(d),this._setPaintValue(G,d,X)}updatePaintArray(d,y,I,N){const H=this.expression.evaluate({zoom:0},I,N);this._setPaintValue(d,y,H)}_setPaintValue(d,y,I){if(this.type==="color"){const N=uc(I);for(let H=d;H<y;H++)this.paintVertexArray.emplace(H,N[0],N[1])}else{for(let N=d;N<y;N++)this.paintVertexArray.emplace(N,I);this.maxValue=Math.max(this.maxValue,Math.abs(I))}}upload(d){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=d.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ru{constructor(d,y,I,N,H,G){this.expression=d,this.uniformNames=y.map(X=>`u_${X}_t`),this.type=I,this.useIntegerZoom=N,this.zoom=H,this.maxValue=0,this.paintVertexAttributes=y.map(X=>({name:`a_${X}`,type:"Float32",components:I==="color"?4:2,offset:0})),this.paintVertexArray=new G}populatePaintArray(d,y,I,N,H){const G=this.expression.evaluate(new Ro(this.zoom),y,{},N,[],H),X=this.expression.evaluate(new Ro(this.zoom+1),y,{},N,[],H),ae=this.paintVertexArray.length;this.paintVertexArray.resize(d),this._setPaintValue(ae,d,G,X)}updatePaintArray(d,y,I,N){const H=this.expression.evaluate({zoom:this.zoom},I,N),G=this.expression.evaluate({zoom:this.zoom+1},I,N);this._setPaintValue(d,y,H,G)}_setPaintValue(d,y,I,N){if(this.type==="color"){const H=uc(I),G=uc(N);for(let X=d;X<y;X++)this.paintVertexArray.emplace(X,H[0],H[1],G[0],G[1])}else{for(let H=d;H<y;H++)this.paintVertexArray.emplace(H,I,N);this.maxValue=Math.max(this.maxValue,Math.abs(I),Math.abs(N))}}upload(d){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=d.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(d,y){const I=this.useIntegerZoom?Math.floor(y.zoom):y.zoom,N=Ge(this.expression.interpolationFactor(I,this.zoom,this.zoom+1),0,1);d.set(N)}getBinding(d,y,I){return new Tm(d,y)}}class il{constructor(d,y,I,N,H,G){this.expression=d,this.type=y,this.useIntegerZoom=I,this.zoom=N,this.layerId=G,this.zoomInPaintVertexArray=new H,this.zoomOutPaintVertexArray=new H}populatePaintArray(d,y,I){const N=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(d),this.zoomOutPaintVertexArray.resize(d),this._setPaintValues(N,d,y.patterns&&y.patterns[this.layerId],I)}updatePaintArray(d,y,I,N,H){this._setPaintValues(d,y,I.patterns&&I.patterns[this.layerId],H)}_setPaintValues(d,y,I,N){if(!N||!I)return;const{min:H,mid:G,max:X}=I,ae=N[H],ce=N[G],Se=N[X];if(ae&&ce&&Se)for(let Pe=d;Pe<y;Pe++)this.zoomInPaintVertexArray.emplace(Pe,ce.tl[0],ce.tl[1],ce.br[0],ce.br[1],ae.tl[0],ae.tl[1],ae.br[0],ae.br[1],ce.pixelRatio,ae.pixelRatio),this.zoomOutPaintVertexArray.emplace(Pe,ce.tl[0],ce.tl[1],ce.br[0],ce.br[1],Se.tl[0],Se.tl[1],Se.br[0],Se.br[1],ce.pixelRatio,Se.pixelRatio)}upload(d){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=d.createVertexBuffer(this.zoomInPaintVertexArray,Bu.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=d.createVertexBuffer(this.zoomOutPaintVertexArray,Bu.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class mh{constructor(d,y,I){this.binders={},this._buffers=[];const N=[];for(const H in d.paint._values){if(!I(H))continue;const G=d.paint.get(H);if(!(G instanceof Nl&&Pf(G.property.specification)))continue;const X=Q(H,d.type),ae=G.value,ce=G.property.specification.type,Se=G.property.useIntegerZoom,Pe=G.property.specification["property-type"],Be=Pe==="cross-faded"||Pe==="cross-faded-data-driven";if(ae.kind==="constant")this.binders[H]=Be?new Xc(ae.value,X):new gd(ae.value,X,ce),N.push(`/u_${H}`);else if(ae.kind==="source"||Be){const He=ie(H,ce,"source");this.binders[H]=Be?new il(ae,ce,Se,y,He,d.id):new Dc(ae,X,ce,He),N.push(`/a_${H}`)}else{const He=ie(H,ce,"composite");this.binders[H]=new ru(ae,X,ce,Se,y,He),N.push(`/z_${H}`)}}this.cacheKey=N.sort().join("")}getMaxValue(d){const y=this.binders[d];return y instanceof Dc||y instanceof ru?y.maxValue:0}populatePaintArrays(d,y,I,N,H){for(const G in this.binders){const X=this.binders[G];(X instanceof Dc||X instanceof ru||X instanceof il)&&X.populatePaintArray(d,y,I,N,H)}}setConstantPatternPositions(d,y){for(const I in this.binders){const N=this.binders[I];N instanceof Xc&&N.setConstantPatternPositions(d,y)}}updatePaintArrays(d,y,I,N,H){let G=!1;for(const X in d){const ae=y.getPositions(X);for(const ce of ae){const Se=I.feature(ce.index);for(const Pe in this.binders){const Be=this.binders[Pe];if((Be instanceof Dc||Be instanceof ru||Be instanceof il)&&Be.expression.isStateDependent===!0){const He=N.paint.get(Pe);Be.expression=He.value,Be.updatePaintArray(ce.start,ce.end,Se,d[X],H),G=!0}}}}return G}defines(){const d=[];for(const y in this.binders){const I=this.binders[y];(I instanceof gd||I instanceof Xc)&&d.push(...I.uniformNames.map(N=>`#define HAS_UNIFORM_${N}`))}return d}getBinderAttributes(){const d=[];for(const y in this.binders){const I=this.binders[y];if(I instanceof Dc||I instanceof ru)for(let N=0;N<I.paintVertexAttributes.length;N++)d.push(I.paintVertexAttributes[N].name);else if(I instanceof il)for(let N=0;N<Bu.members.length;N++)d.push(Bu.members[N].name)}return d}getBinderUniforms(){const d=[];for(const y in this.binders){const I=this.binders[y];if(I instanceof gd||I instanceof Xc||I instanceof ru)for(const N of I.uniformNames)d.push(N)}return d}getPaintVertexBuffers(){return this._buffers}getUniforms(d,y){const I=[];for(const N in this.binders){const H=this.binders[N];if(H instanceof gd||H instanceof Xc||H instanceof ru){for(const G of H.uniformNames)if(y[G]){const X=H.getBinding(d,y[G],G);I.push({name:G,property:N,binding:X})}}}return I}setUniforms(d,y,I,N){for(const{name:H,property:G,binding:X}of y)this.binders[G].setUniform(X,N,I.get(G),H)}updatePaintBuffers(d){this._buffers=[];for(const y in this.binders){const I=this.binders[y];if(d&&I instanceof il){const N=d.fromScale===2?I.zoomInPaintVertexBuffer:I.zoomOutPaintVertexBuffer;N&&this._buffers.push(N)}else(I instanceof Dc||I instanceof ru)&&I.paintVertexBuffer&&this._buffers.push(I.paintVertexBuffer)}}upload(d){for(const y in this.binders){const I=this.binders[y];(I instanceof Dc||I instanceof ru||I instanceof il)&&I.upload(d)}this.updatePaintBuffers()}destroy(){for(const d in this.binders){const y=this.binders[d];(y instanceof Dc||y instanceof ru||y instanceof il)&&y.destroy()}}}class K{constructor(d,y,I=()=>!0){this.programConfigurations={};for(const N of d)this.programConfigurations[N.id]=new mh(N,y,I);this.needsUpload=!1,this._featureMap=new md,this._bufferOffset=0}populatePaintArrays(d,y,I,N,H,G){for(const X in this.programConfigurations)this.programConfigurations[X].populatePaintArrays(d,y,N,H,G);y.id!==void 0&&this._featureMap.add(y.id,I,this._bufferOffset,d),this._bufferOffset=d,this.needsUpload=!0}updatePaintArrays(d,y,I,N){for(const H of I)this.needsUpload=this.programConfigurations[H.id].updatePaintArrays(d,this._featureMap,y,H,N)||this.needsUpload}get(d){return this.programConfigurations[d]}upload(d){if(this.needsUpload){for(const y in this.programConfigurations)this.programConfigurations[y].upload(d);this.needsUpload=!1}}destroy(){for(const d in this.programConfigurations)this.programConfigurations[d].destroy()}}function Q(b,d){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[b]||[b.replace(`${d}-`,"").replace(/-/g,"_")]}function ie(b,d,y){const I={color:{source:Ws,composite:Pt},number:{source:Ce,composite:Ws}},N=function(H){return{"line-pattern":{source:Ra,composite:Ra},"fill-pattern":{source:Ra,composite:Ra},"fill-extrusion-pattern":{source:Ra,composite:Ra}}[H]}(b);return N&&N[y]||I[d][y]}qn("ConstantBinder",gd),qn("CrossFadedConstantBinder",Xc),qn("SourceExpressionBinder",Dc),qn("CrossFadedCompositeBinder",il),qn("CompositeExpressionBinder",ru),qn("ProgramConfiguration",mh,{omit:["_buffers"]}),qn("ProgramConfigurationSet",K);const xe=Math.pow(2,14)-1,ye=-xe-1;function Oe(b){const d=pe/b.extent,y=b.loadGeometry();for(let I=0;I<y.length;I++){const N=y[I];for(let H=0;H<N.length;H++){const G=N[H],X=Math.round(G.x*d),ae=Math.round(G.y*d);G.x=Ge(X,ye,xe),G.y=Ge(ae,ye,xe),(X<G.x||X>G.x+1||ae<G.y||ae>G.y+1)&&dt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return y}function Ne(b,d){return{type:b.type,id:b.id,properties:b.properties,geometry:d?Oe(b):[]}}const Qe=-32768;function Ve(b,d,y,I,N){b.emplaceBack(Qe+8*d+I,Qe+8*y+N)}class ht{constructor(d){this.zoom=d.zoom,this.overscaling=d.overscaling,this.layers=d.layers,this.layerIds=this.layers.map(y=>y.id),this.index=d.index,this.hasPattern=!1,this.layoutVertexArray=new Dn,this.indexArray=new Aa,this.segments=new Fa,this.programConfigurations=new K(d.layers,d.zoom),this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(d,y,I){const N=this.layers[0],H=[];let G=null,X=!1,ae=N.type==="heatmap";if(N.type==="circle"){const Se=N;G=Se.layout.get("circle-sort-key"),X=!G.isConstant(),ae=ae||Se.paint.get("circle-pitch-alignment")==="map"}const ce=ae?y.subdivisionGranularity.circle:1;for(const{feature:Se,id:Pe,index:Be,sourceLayerIndex:He}of d){const Xe=this.layers[0]._featureFilter.needGeometry,st=Ne(Se,Xe);if(!this.layers[0]._featureFilter.filter(new Ro(this.zoom),st,I))continue;const wt=X?G.evaluate(st,{},I):void 0,Mt={id:Pe,properties:Se.properties,type:Se.type,sourceLayerIndex:He,index:Be,geometry:Xe?st.geometry:Oe(Se),patterns:{},sortKey:wt};H.push(Mt)}X&&H.sort((Se,Pe)=>Se.sortKey-Pe.sortKey);for(const Se of H){const{geometry:Pe,index:Be,sourceLayerIndex:He}=Se,Xe=d[Be].feature;this.addFeature(Se,Pe,Be,I,ce),y.featureIndex.insert(Xe,Pe,Be,He,this.index)}}update(d,y,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(d,y,this.stateDependentLayers,I)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(d){this.uploaded||(this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,Vs),this.indexBuffer=d.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(d),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(d,y,I,N,H=1){let G;switch(H){case 1:G=[0,7];break;case 3:G=[0,2,5,7];break;case 5:G=[0,1,3,4,6,7];break;case 7:G=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${H}; valid values are 1, 3, 5, 7.`)}const X=G.length;for(const ae of y)for(const ce of ae){const Se=ce.x,Pe=ce.y;if(Se<0||Se>=pe||Pe<0||Pe>=pe)continue;const Be=this.segments.prepareSegment(X*X,this.layoutVertexArray,this.indexArray,d.sortKey),He=Be.vertexLength;for(let Xe=0;Xe<X;Xe++)for(let st=0;st<X;st++)Ve(this.layoutVertexArray,Se,Pe,G[st],G[Xe]);for(let Xe=0;Xe<X-1;Xe++)for(let st=0;st<X-1;st++){const wt=He+Xe*X+st,Mt=He+(Xe+1)*X+st;this.indexArray.emplaceBack(wt,Mt+1,wt+1),this.indexArray.emplaceBack(wt,Mt,Mt+1)}Be.vertexLength+=X*X,Be.primitiveLength+=(X-1)*(X-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,d,I,{},N)}}function zt(b,d){for(let y=0;y<b.length;y++)if(on(d,b[y]))return!0;for(let y=0;y<d.length;y++)if(on(b,d[y]))return!0;return!!Er(b,d)}function er(b,d,y){return!!on(b,d)||!!Br(d,b,y)}function ur(b,d){if(b.length===1)return pn(d,b[0]);for(let y=0;y<d.length;y++){const I=d[y];for(let N=0;N<I.length;N++)if(on(b,I[N]))return!0}for(let y=0;y<b.length;y++)if(pn(d,b[y]))return!0;for(let y=0;y<d.length;y++)if(Er(b,d[y]))return!0;return!1}function Xt(b,d,y){if(b.length>1){if(Er(b,d))return!0;for(let I=0;I<d.length;I++)if(Br(d[I],b,y))return!0}for(let I=0;I<b.length;I++)if(Br(b[I],d,y))return!0;return!1}function Er(b,d){if(b.length===0||d.length===0)return!1;for(let y=0;y<b.length-1;y++){const I=b[y],N=b[y+1];for(let H=0;H<d.length-1;H++)if(Or(I,N,d[H],d[H+1]))return!0}return!1}function Or(b,d,y,I){return he(b,y,I)!==he(d,y,I)&&he(b,d,y)!==he(b,d,I)}function Br(b,d,y){const I=y*y;if(d.length===1)return b.distSqr(d[0])<I;for(let N=1;N<d.length;N++)if(Xr(b,d[N-1],d[N])<I)return!0;return!1}function Xr(b,d,y){const I=d.distSqr(y);if(I===0)return b.distSqr(d);const N=((b.x-d.x)*(y.x-d.x)+(b.y-d.y)*(y.y-d.y))/I;return b.distSqr(N<0?d:N>1?y:y.sub(d)._mult(N)._add(d))}function pn(b,d){for(let y=0;y<b.length;y++)if(on(b[y],d))return!0;return!1}function on(b,d){let y=!1;for(let I=0,N=b.length-1;I<b.length;N=I++){const H=b[I],G=b[N];H.y>d.y!=G.y>d.y&&d.x<(G.x-H.x)*(d.y-H.y)/(G.y-H.y)+H.x&&(y=!y)}return y}function oi(b,d,y){const I=y[0],N=y[2];if(b.x<I.x&&d.x<I.x||b.x>N.x&&d.x>N.x||b.y<I.y&&d.y<I.y||b.y>N.y&&d.y>N.y)return!1;const H=he(b,d,y[0]);return H!==he(b,d,y[1])||H!==he(b,d,y[2])||H!==he(b,d,y[3])}function en(b,d,y){const I=d.paint.get(b).value;return I.kind==="constant"?I.value:y.programConfigurations.get(d.id).getMaxValue(b)}function xr(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}function Kn(b,d,y,I,N){if(!d[0]&&!d[1])return b;const H=v.convert(d)._mult(N);y==="viewport"&&H._rotate(-I);const G=[];for(let X=0;X<b.length;X++)G.push(b[X].sub(H));return G}let Nn,ei;qn("CircleBucket",ht,{omit:["layers"]});var Vi={get paint(){return ei=ei||new ys({"circle-radius":new Di(at.paint_circle["circle-radius"]),"circle-color":new Di(at.paint_circle["circle-color"]),"circle-blur":new Di(at.paint_circle["circle-blur"]),"circle-opacity":new Di(at.paint_circle["circle-opacity"]),"circle-translate":new Gn(at.paint_circle["circle-translate"]),"circle-translate-anchor":new Gn(at.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Gn(at.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Gn(at.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Di(at.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Di(at.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Di(at.paint_circle["circle-stroke-opacity"])})},get layout(){return Nn=Nn||new ys({"circle-sort-key":new Di(at.layout_circle["circle-sort-key"])})}};class ja extends $u{constructor(d){super(d,Vi)}createBucket(d){return new ht(d)}queryRadius(d){const y=d;return en("circle-radius",this,y)+en("circle-stroke-width",this,y)+xr(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:d,feature:y,featureState:I,geometry:N,transform:H,pixelsToTileUnits:G,unwrappedTileID:X,getElevation:ae}){const ce=Kn(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-H.bearingInRadians,G),Se=this.paint.get("circle-radius").evaluate(y,I)+this.paint.get("circle-stroke-width").evaluate(y,I),Pe=this.paint.get("circle-pitch-alignment")==="map",Be=Pe?ce:function(Xe,st,wt,Mt){return Xe.map(lr=>al(lr,st,wt,Mt))}(ce,H,X,ae),He=Pe?Se*G:Se;for(const Xe of N)for(const st of Xe){const wt=Pe?st:al(st,H,X,ae);let Mt=He;const lr=H.projectTileCoordinates(st.x,st.y,X,ae).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Mt*=lr/H.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Mt*=H.cameraToCenterDistance/lr),er(Be,wt,Mt))return!0}return!1}}function al(b,d,y,I){const N=d.projectTileCoordinates(b.x,b.y,y,I).point;return new v((.5*N.x+.5)*d.width,(.5*-N.y+.5)*d.height)}class Wa extends ht{}let po;qn("HeatmapBucket",Wa,{omit:["layers"]});var bs={get paint(){return po=po||new ys({"heatmap-radius":new Di(at.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Di(at.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Gn(at.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bl(at.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Gn(at.paint_heatmap["heatmap-opacity"])})}};function Qn(b,{width:d,height:y},I,N){if(N){if(N instanceof Uint8ClampedArray)N=new Uint8Array(N.buffer);else if(N.length!==d*y*I)throw new RangeError(`mismatched image size. expected: ${N.length} but got: ${d*y*I}`)}else N=new Uint8Array(d*y*I);return b.width=d,b.height=y,b.data=N,b}function Uu(b,{width:d,height:y},I){if(d===b.width&&y===b.height)return;const N=Qn({},{width:d,height:y},I);qu(b,N,{x:0,y:0},{x:0,y:0},{width:Math.min(b.width,d),height:Math.min(b.height,y)},I),b.width=d,b.height=y,b.data=N.data}function qu(b,d,y,I,N,H){if(N.width===0||N.height===0)return d;if(N.width>b.width||N.height>b.height||y.x>b.width-N.width||y.y>b.height-N.height)throw new RangeError("out of range source coordinates for image copy");if(N.width>d.width||N.height>d.height||I.x>d.width-N.width||I.y>d.height-N.height)throw new RangeError("out of range destination coordinates for image copy");const G=b.data,X=d.data;if(G===X)throw new Error("srcData equals dstData, so image is already copied");for(let ae=0;ae<N.height;ae++){const ce=((y.y+ae)*b.width+y.x)*H,Se=((I.y+ae)*d.width+I.x)*H;for(let Pe=0;Pe<N.width*H;Pe++)X[Se+Pe]=G[ce+Pe]}return d}class zs{constructor(d,y){Qn(this,d,1,y)}resize(d){Uu(this,d,1)}clone(){return new zs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(d,y,I,N,H){qu(d,y,I,N,H,1)}}class Ho{constructor(d,y){Qn(this,d,4,y)}resize(d){Uu(this,d,4)}replace(d,y){y?this.data.set(d):this.data=d instanceof Uint8ClampedArray?new Uint8Array(d.buffer):d}clone(){return new Ho({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(d,y,I,N,H){qu(d,y,I,N,H,4)}}function ol(b){const d={},y=b.resolution||256,I=b.clips?b.clips.length:1,N=b.image||new Ho({width:y,height:I});if(Math.log(y)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${y}`);const H=(G,X,ae)=>{d[b.evaluationKey]=ae;const ce=b.expression.evaluate(d);N.data[G+X+0]=Math.floor(255*ce.r/ce.a),N.data[G+X+1]=Math.floor(255*ce.g/ce.a),N.data[G+X+2]=Math.floor(255*ce.b/ce.a),N.data[G+X+3]=Math.floor(255*ce.a)};if(b.clips)for(let G=0,X=0;G<I;++G,X+=4*y)for(let ae=0,ce=0;ae<y;ae++,ce+=4){const Se=ae/(y-1),{start:Pe,end:Be}=b.clips[G];H(X,ce,Pe*(1-Se)+Be*Se)}else for(let G=0,X=0;G<y;G++,X+=4)H(0,X,G/(y-1));return N}qn("AlphaImage",zs),qn("RGBAImage",Ho);const np="big-fb";class Ps extends $u{createBucket(d){return new Wa(d)}constructor(d){super(d,bs),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(d){d==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ol({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(np)&&this.heatmapFbos.delete(np)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Bd;var mg={get paint(){return Bd=Bd||new ys({"hillshade-illumination-direction":new Gn(at.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Gn(at.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Gn(at.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Gn(at.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Gn(at.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Gn(at.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Gn(at.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Gn(at.paint_hillshade["hillshade-method"])})}};class gh extends $u{constructor(d){super(d,mg),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let d=this.paint.get("hillshade-illumination-direction").values,y=this.paint.get("hillshade-illumination-altitude").values,I=this.paint.get("hillshade-highlight-color").values,N=this.paint.get("hillshade-shadow-color").values;const H=Math.max(d.length,y.length,I.length,N.length);d=d.concat(Array(H-d.length).fill(d.at(-1))),y=y.concat(Array(H-y.length).fill(y.at(-1))),I=I.concat(Array(H-I.length).fill(I.at(-1))),N=N.concat(Array(H-N.length).fill(N.at(-1)));const G=y.map(hr);return{directionRadians:d.map(hr),altitudeRadians:G,shadowColor:N,highlightColor:I}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const gg=bo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Hu}=gg;function wy(b,d,y){const I=y.patternDependencies;let N=!1;for(const H of d){const G=H.paint.get(`${b}-pattern`);G.isConstant()||(N=!0);const X=G.constantOr(null);X&&(N=!0,I[X.to]=!0,I[X.from]=!0)}return N}function Wu(b,d,y,I,N){const H=N.patternDependencies;for(const G of d){const X=G.paint.get(`${b}-pattern`).value;if(X.kind!=="constant"){let ae=X.evaluate({zoom:I-1},y,{},N.availableImages),ce=X.evaluate({zoom:I},y,{},N.availableImages),Se=X.evaluate({zoom:I+1},y,{},N.availableImages);ae=ae&&ae.name?ae.name:ae,ce=ce&&ce.name?ce.name:ce,Se=Se&&Se.name?Se.name:Se,H[ae]=!0,H[ce]=!0,H[Se]=!0,y.patterns[G.id]={min:ae,mid:ce,max:Se}}}return y}function jd(b,d,y,I,N){let H;if(N===function(G,X,ae,ce){let Se=0;for(let Pe=X,Be=ae-ce;Pe<ae;Pe+=ce)Se+=(G[Be]-G[Pe])*(G[Pe+1]+G[Be+1]),Be=Pe;return Se}(b,d,y,I)>0)for(let G=d;G<y;G+=I)H=_g(G/I|0,b[G],b[G+1],H);else for(let G=y-I;G>=d;G-=I)H=_g(G/I|0,b[G],b[G+1],H);return H&&No(H,H.next)&&(cc(H),H=H.next),H}function Lo(b,d){if(!b)return b;d||(d=b);let y,I=b;do if(y=!1,I.steiner||!No(I,I.next)&&wo(I.prev,I,I.next)!==0)I=I.next;else{if(cc(I),I=d=I.prev,I===I.next)break;y=!0}while(y||I!==d);return d}function nu(b,d,y,I,N,H,G){if(!b)return;!G&&H&&function(ae,ce,Se,Pe){let Be=ae;do Be.z===0&&(Be.z=Am(Be.x,Be.y,ce,Se,Pe)),Be.prevZ=Be.prev,Be.nextZ=Be.next,Be=Be.next;while(Be!==ae);Be.prevZ.nextZ=null,Be.prevZ=null,function(He){let Xe,st=1;do{let wt,Mt=He;He=null;let lr=null;for(Xe=0;Mt;){Xe++;let qt=Mt,Ue=0;for(let Gt=0;Gt<st&&(Ue++,qt=qt.nextZ,qt);Gt++);let bt=st;for(;Ue>0||bt>0&&qt;)Ue!==0&&(bt===0||!qt||Mt.z<=qt.z)?(wt=Mt,Mt=Mt.nextZ,Ue--):(wt=qt,qt=qt.nextZ,bt--),lr?lr.nextZ=wt:He=wt,wt.prevZ=lr,lr=wt;Mt=qt}lr.nextZ=null,st*=2}while(Xe>1)}(Be)}(b,I,N,H);let X=b;for(;b.prev!==b.next;){const ae=b.prev,ce=b.next;if(H?Rm(b,I,N,H):di(b))d.push(ae.i,b.i,ce.i),cc(b),b=ce.next,X=ce.next;else if((b=ce)===X){G?G===1?nu(b=vg(Lo(b),d),d,y,I,N,H,2):G===2&&xy(b,d,y,I,N,H):nu(Lo(b),d,y,I,N,H,1);break}}}function di(b){const d=b.prev,y=b,I=b.next;if(wo(d,y,I)>=0)return!1;const N=d.x,H=y.x,G=I.x,X=d.y,ae=y.y,ce=I.y,Se=Math.min(N,H,G),Pe=Math.min(X,ae,ce),Be=Math.max(N,H,G),He=Math.max(X,ae,ce);let Xe=I.next;for(;Xe!==d;){if(Xe.x>=Se&&Xe.x<=Be&&Xe.y>=Pe&&Xe.y<=He&&Dp(N,X,H,ae,G,ce,Xe.x,Xe.y)&&wo(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.next}return!0}function Rm(b,d,y,I){const N=b.prev,H=b,G=b.next;if(wo(N,H,G)>=0)return!1;const X=N.x,ae=H.x,ce=G.x,Se=N.y,Pe=H.y,Be=G.y,He=Math.min(X,ae,ce),Xe=Math.min(Se,Pe,Be),st=Math.max(X,ae,ce),wt=Math.max(Se,Pe,Be),Mt=Am(He,Xe,d,y,I),lr=Am(st,wt,d,y,I);let qt=b.prevZ,Ue=b.nextZ;for(;qt&&qt.z>=Mt&&Ue&&Ue.z<=lr;){if(qt.x>=He&&qt.x<=st&&qt.y>=Xe&&qt.y<=wt&&qt!==N&&qt!==G&&Dp(X,Se,ae,Pe,ce,Be,qt.x,qt.y)&&wo(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,Ue.x>=He&&Ue.x<=st&&Ue.y>=Xe&&Ue.y<=wt&&Ue!==N&&Ue!==G&&Dp(X,Se,ae,Pe,ce,Be,Ue.x,Ue.y)&&wo(Ue.prev,Ue,Ue.next)>=0))return!1;Ue=Ue.nextZ}for(;qt&&qt.z>=Mt;){if(qt.x>=He&&qt.x<=st&&qt.y>=Xe&&qt.y<=wt&&qt!==N&&qt!==G&&Dp(X,Se,ae,Pe,ce,Be,qt.x,qt.y)&&wo(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;Ue&&Ue.z<=lr;){if(Ue.x>=He&&Ue.x<=st&&Ue.y>=Xe&&Ue.y<=wt&&Ue!==N&&Ue!==G&&Dp(X,Se,ae,Pe,ce,Be,Ue.x,Ue.y)&&wo(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.nextZ}return!0}function vg(b,d){let y=b;do{const I=y.prev,N=y.next.next;!No(I,N)&&hf(I,y,y.next,N)&&Vu(I,N)&&Vu(N,I)&&(d.push(I.i,y.i,N.i),cc(y),cc(y.next),y=b=N),y=y.next}while(y!==b);return Lo(y)}function xy(b,d,y,I,N,H){let G=b;do{let X=G.next.next;for(;X!==G.prev;){if(G.i!==X.i&&bg(G,X)){let ae=Lc(G,X);return G=Lo(G,G.next),ae=Lo(ae,ae.next),nu(G,d,y,I,N,H,0),void nu(ae,d,y,I,N,H,0)}X=X.next}G=G.next}while(G!==b)}function Kb(b,d){let y=b.x-d.x;return y===0&&(y=b.y-d.y,y===0)&&(y=(b.next.y-b.y)/(b.next.x-b.x)-(d.next.y-d.y)/(d.next.x-d.x)),y}function vh(b,d){const y=function(N,H){let G=H;const X=N.x,ae=N.y;let ce,Se=-1/0;if(No(N,G))return G;do{if(No(N,G.next))return G.next;if(ae<=G.y&&ae>=G.next.y&&G.next.y!==G.y){const st=G.x+(ae-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(st<=X&&st>Se&&(Se=st,ce=G.x<G.next.x?G:G.next,st===X))return ce}G=G.next}while(G!==H);if(!ce)return null;const Pe=ce,Be=ce.x,He=ce.y;let Xe=1/0;G=ce;do{if(X>=G.x&&G.x>=Be&&X!==G.x&&kp(ae<He?X:Se,ae,Be,He,ae<He?Se:X,ae,G.x,G.y)){const st=Math.abs(ae-G.y)/(X-G.x);Vu(G,N)&&(st<Xe||st===Xe&&(G.x>ce.x||G.x===ce.x&&yg(ce,G)))&&(ce=G,Xe=st)}G=G.next}while(G!==Pe);return ce}(b,d);if(!y)return d;const I=Lc(y,b);return Lo(I,I.next),Lo(y,y.next)}function yg(b,d){return wo(b.prev,b,d.prev)<0&&wo(d.next,b,b.next)<0}function Am(b,d,y,I,N){return(b=1431655765&((b=858993459&((b=252645135&((b=16711935&((b=(b-y)*N|0)|b<<8))|b<<4))|b<<2))|b<<1))|(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-I)*N|0)|d<<8))|d<<4))|d<<2))|d<<1))<<1}function ip(b){let d=b,y=b;do(d.x<y.x||d.x===y.x&&d.y<y.y)&&(y=d),d=d.next;while(d!==b);return y}function kp(b,d,y,I,N,H,G,X){return(N-G)*(d-X)>=(b-G)*(H-X)&&(b-G)*(I-X)>=(y-G)*(d-X)&&(y-G)*(H-X)>=(N-G)*(I-X)}function Dp(b,d,y,I,N,H,G,X){return!(b===G&&d===X)&&kp(b,d,y,I,N,H,G,X)}function bg(b,d){return b.next.i!==d.i&&b.prev.i!==d.i&&!function(y,I){let N=y;do{if(N.i!==y.i&&N.next.i!==y.i&&N.i!==I.i&&N.next.i!==I.i&&hf(N,N.next,y,I))return!0;N=N.next}while(N!==y);return!1}(b,d)&&(Vu(b,d)&&Vu(d,b)&&function(y,I){let N=y,H=!1;const G=(y.x+I.x)/2,X=(y.y+I.y)/2;do N.y>X!=N.next.y>X&&N.next.y!==N.y&&G<(N.next.x-N.x)*(X-N.y)/(N.next.y-N.y)+N.x&&(H=!H),N=N.next;while(N!==y);return H}(b,d)&&(wo(b.prev,b,d.prev)||wo(b,d.prev,d))||No(b,d)&&wo(b.prev,b,b.next)>0&&wo(d.prev,d,d.next)>0)}function wo(b,d,y){return(d.y-b.y)*(y.x-d.x)-(d.x-b.x)*(y.y-d.y)}function No(b,d){return b.x===d.x&&b.y===d.y}function hf(b,d,y,I){const N=Om(wo(b,d,y)),H=Om(wo(b,d,I)),G=Om(wo(y,I,b)),X=Om(wo(y,I,d));return N!==H&&G!==X||!(N!==0||!Fc(b,y,d))||!(H!==0||!Fc(b,I,d))||!(G!==0||!Fc(y,b,I))||!(X!==0||!Fc(y,d,I))}function Fc(b,d,y){return d.x<=Math.max(b.x,y.x)&&d.x>=Math.min(b.x,y.x)&&d.y<=Math.max(b.y,y.y)&&d.y>=Math.min(b.y,y.y)}function Om(b){return b>0?1:b<0?-1:0}function Vu(b,d){return wo(b.prev,b,b.next)<0?wo(b,d,b.next)>=0&&wo(b,b.prev,d)>=0:wo(b,d,b.prev)<0||wo(b,b.next,d)<0}function Lc(b,d){const y=Im(b.i,b.x,b.y),I=Im(d.i,d.x,d.y),N=b.next,H=d.prev;return b.next=d,d.prev=b,y.next=N,N.prev=y,I.next=y,y.prev=I,H.next=I,I.prev=H,I}function _g(b,d,y,I){const N=Im(b,d,y);return I?(N.next=I.next,N.prev=I,I.next.prev=N,I.next=N):(N.prev=N,N.next=N),N}function cc(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function Im(b,d,y){return{i:b,x:d,y,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class yh{constructor(d,y){if(y>d)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=d,this._minGranularity=y}getGranularityForZoomLevel(d){return Math.max(Math.floor(this._baseZoomGranularity/(1<<d)),this._minGranularity,1)}}class Gu{constructor(d){this.fill=d.fill,this.line=d.line,this.tile=d.tile,this.stencil=d.stencil,this.circle=d.circle}}Gu.noSubdivision=new Gu({fill:new yh(0,0),line:new yh(0,0),tile:new yh(0,0),stencil:new yh(0,0),circle:1}),qn("SubdivisionGranularityExpression",yh),qn("SubdivisionGranularitySetting",Gu);const Jc=-32768,ap=32767;class S0{constructor(d,y){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=d,this._granularityCellSize=pe/d,this._canonical=y}_getKey(d,y){return(d+=32768)<<16|(y+=32768)<<0}_vertexToIndex(d,y){if(d<-32768||y<-32768||d>32767||y>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const I=0|Math.round(d),N=0|Math.round(y),H=this._getKey(I,N);if(this._vertexDictionary.has(H))return this._vertexDictionary.get(H);const G=this._vertexBuffer.length/2;return this._vertexDictionary.set(H,G),this._vertexBuffer.push(I,N),G}_subdivideTrianglesScanline(d){if(this._granularity<2)return function(N,H){const G=[];for(let X=0;X<H.length;X+=3){const ae=H[X],ce=H[X+1],Se=H[X+2],Pe=N[2*ae],Be=N[2*ae+1];(N[2*ce]-Pe)*(N[2*Se+1]-Be)-(N[2*ce+1]-Be)*(N[2*Se]-Pe)>0?(G.push(ae),G.push(Se),G.push(ce)):(G.push(ae),G.push(ce),G.push(Se))}return G}(this._vertexBuffer,d);const y=[],I=d.length;for(let N=0;N<I;N+=3){const H=[d[N+0],d[N+1],d[N+2]],G=[this._vertexBuffer[2*d[N+0]+0],this._vertexBuffer[2*d[N+0]+1],this._vertexBuffer[2*d[N+1]+0],this._vertexBuffer[2*d[N+1]+1],this._vertexBuffer[2*d[N+2]+0],this._vertexBuffer[2*d[N+2]+1]];let X=1/0,ae=1/0,ce=-1/0,Se=-1/0;for(let st=0;st<3;st++){const wt=G[2*st],Mt=G[2*st+1];X=Math.min(X,wt),ce=Math.max(ce,wt),ae=Math.min(ae,Mt),Se=Math.max(Se,Mt)}if(X===ce||ae===Se)continue;const Pe=Math.floor(X/this._granularityCellSize),Be=Math.ceil(ce/this._granularityCellSize),He=Math.floor(ae/this._granularityCellSize),Xe=Math.ceil(Se/this._granularityCellSize);if(Pe!==Be||He!==Xe)for(let st=He;st<Xe;st++){const wt=this._scanlineGenerateVertexRingForCellRow(st,G,H);pf(this._vertexBuffer,wt,y)}else y.push(...H)}return y}_scanlineGenerateVertexRingForCellRow(d,y,I){const N=d*this._granularityCellSize,H=N+this._granularityCellSize,G=[];for(let X=0;X<3;X++){const ae=y[2*X],ce=y[2*X+1],Se=y[2*(X+1)%6],Pe=y[(2*(X+1)+1)%6],Be=y[2*(X+2)%6],He=y[(2*(X+2)+1)%6],Xe=Se-ae,st=Pe-ce,wt=Xe===0,Mt=st===0,lr=(N-ce)/st,qt=(H-ce)/st,Ue=Math.min(lr,qt),bt=Math.max(lr,qt);if(!Mt&&(Ue>=1||bt<=0)||Mt&&(ce<N||ce>H)){Pe>=N&&Pe<=H&&G.push(I[(X+1)%3]);continue}!Mt&&Ue>0&&G.push(this._vertexToIndex(ae+Xe*Ue,ce+st*Ue));const Gt=ae+Xe*Math.max(Ue,0),Ur=ae+Xe*Math.min(bt,1);wt||this._generateIntraEdgeVertices(G,ae,ce,Se,Pe,Gt,Ur),!Mt&&bt<1&&G.push(this._vertexToIndex(ae+Xe*bt,ce+st*bt)),(Mt||Pe>=N&&Pe<=H)&&G.push(I[(X+1)%3]),!Mt&&(Pe<=N||Pe>=H)&&this._generateInterEdgeVertices(G,ae,ce,Se,Pe,Be,He,Ur,N,H)}return G}_generateIntraEdgeVertices(d,y,I,N,H,G,X){const ae=N-y,ce=H-I,Se=ce===0,Pe=Se?Math.min(y,N):Math.min(G,X),Be=Se?Math.max(y,N):Math.max(G,X),He=Math.floor(Pe/this._granularityCellSize)+1,Xe=Math.ceil(Be/this._granularityCellSize)-1;if(Se?y<N:G<X)for(let st=He;st<=Xe;st++){const wt=st*this._granularityCellSize;d.push(this._vertexToIndex(wt,I+ce*(wt-y)/ae))}else for(let st=Xe;st>=He;st--){const wt=st*this._granularityCellSize;d.push(this._vertexToIndex(wt,I+ce*(wt-y)/ae))}}_generateInterEdgeVertices(d,y,I,N,H,G,X,ae,ce,Se){const Pe=H-I,Be=G-N,He=X-H,Xe=(ce-H)/He,st=(Se-H)/He,wt=Math.min(Xe,st),Mt=Math.max(Xe,st),lr=N+Be*wt;let qt=Math.floor(Math.min(lr,ae)/this._granularityCellSize)+1,Ue=Math.ceil(Math.max(lr,ae)/this._granularityCellSize)-1,bt=ae<lr;const Gt=He===0;if(Gt&&(X===ce||X===Se))return;if(Gt||wt>=1||Mt<=0){const mn=I-X,Yr=G+(y-G)*Math.min((ce-X)/mn,(Se-X)/mn);qt=Math.floor(Math.min(Yr,ae)/this._granularityCellSize)+1,Ue=Math.ceil(Math.max(Yr,ae)/this._granularityCellSize)-1,bt=ae<Yr}const Ur=Pe>0?Se:ce;if(bt)for(let mn=qt;mn<=Ue;mn++)d.push(this._vertexToIndex(mn*this._granularityCellSize,Ur));else for(let mn=Ue;mn>=qt;mn--)d.push(this._vertexToIndex(mn*this._granularityCellSize,Ur))}_generateOutline(d){const y=[];for(const I of d){const N=bh(I,this._granularity,!0),H=this._pointArrayToIndices(N),G=[];for(let X=1;X<H.length;X++)G.push(H[X-1]),G.push(H[X]);y.push(G)}return y}_handlePoles(d){let y=!1,I=!1;this._canonical&&(this._canonical.y===0&&(y=!0),this._canonical.y===(1<<this._canonical.z)-1&&(I=!0)),(y||I)&&this._fillPoles(d,y,I)}_ensureNoPoleVertices(){const d=this._vertexBuffer;for(let y=0;y<d.length;y+=2){const I=d[y+1];I===Jc&&(d[y+1]=-32767),I===ap&&(d[y+1]=32766)}}_generatePoleQuad(d,y,I,N,H,G){N>H!=(G===Jc)?(d.push(y),d.push(I),d.push(this._vertexToIndex(N,G)),d.push(I),d.push(this._vertexToIndex(H,G)),d.push(this._vertexToIndex(N,G))):(d.push(I),d.push(y),d.push(this._vertexToIndex(N,G)),d.push(this._vertexToIndex(H,G)),d.push(I),d.push(this._vertexToIndex(N,G)))}_fillPoles(d,y,I){const N=this._vertexBuffer,H=pe,G=d.length;for(let X=2;X<G;X+=3){const ae=d[X-2],ce=d[X-1],Se=d[X],Pe=N[2*ae],Be=N[2*ae+1],He=N[2*ce],Xe=N[2*ce+1],st=N[2*Se],wt=N[2*Se+1];y&&(Be===0&&Xe===0&&this._generatePoleQuad(d,ae,ce,Pe,He,Jc),Xe===0&&wt===0&&this._generatePoleQuad(d,ce,Se,He,st,Jc),wt===0&&Be===0&&this._generatePoleQuad(d,Se,ae,st,Pe,Jc)),I&&(Be===H&&Xe===H&&this._generatePoleQuad(d,ae,ce,Pe,He,ap),Xe===H&&wt===H&&this._generatePoleQuad(d,ce,Se,He,st,ap),wt===H&&Be===H&&this._generatePoleQuad(d,Se,ae,st,Pe,ap))}}_initializeVertices(d){for(let y=0;y<d.length;y+=2)this._vertexToIndex(d[y],d[y+1])}subdividePolygonInternal(d,y){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:I,holeIndices:N}=function(X){const ae=[],ce=[];for(const Se of X)if(Se.length!==0){Se!==X[0]&&ae.push(ce.length/2);for(let Pe=0;Pe<Se.length;Pe++)ce.push(Se[Pe].x),ce.push(Se[Pe].y)}return{flattened:ce,holeIndices:ae}}(d);let H;this._initializeVertices(I);try{const X=function(ce,Se,Pe=2){const Be=Se&&Se.length,He=Be?Se[0]*Pe:ce.length;let Xe=jd(ce,0,He,Pe,!0);const st=[];if(!Xe||Xe.next===Xe.prev)return st;let wt,Mt,lr;if(Be&&(Xe=function(qt,Ue,bt,Gt){const Ur=[];for(let mn=0,Yr=Ue.length;mn<Yr;mn++){const an=jd(qt,Ue[mn]*Gt,mn<Yr-1?Ue[mn+1]*Gt:qt.length,Gt,!1);an===an.next&&(an.steiner=!0),Ur.push(ip(an))}Ur.sort(Kb);for(let mn=0;mn<Ur.length;mn++)bt=vh(Ur[mn],bt);return bt}(ce,Se,Xe,Pe)),ce.length>80*Pe){wt=1/0,Mt=1/0;let qt=-1/0,Ue=-1/0;for(let bt=Pe;bt<He;bt+=Pe){const Gt=ce[bt],Ur=ce[bt+1];Gt<wt&&(wt=Gt),Ur<Mt&&(Mt=Ur),Gt>qt&&(qt=Gt),Ur>Ue&&(Ue=Ur)}lr=Math.max(qt-wt,Ue-Mt),lr=lr!==0?32767/lr:0}return nu(Xe,st,Pe,wt,Mt,lr,0),st}(I,N),ae=this._convertIndices(I,X);H=this._subdivideTrianglesScanline(ae)}catch(X){console.error(X)}let G=[];return y&&(G=this._generateOutline(d)),this._ensureNoPoleVertices(),this._handlePoles(H),{verticesFlattened:this._vertexBuffer,indicesTriangles:H,indicesLineList:G}}_convertIndices(d,y){const I=[];for(let N=0;N<y.length;N++)I.push(this._vertexToIndex(d[2*y[N]],d[2*y[N]+1]));return I}_pointArrayToIndices(d){const y=[];for(let I=0;I<d.length;I++){const N=d[I];y.push(this._vertexToIndex(N.x,N.y))}return y}}function Mm(b,d,y,I=!0){return new S0(y,d).subdividePolygonInternal(b,I)}function bh(b,d,y=!1){if(!b||b.length<1)return[];if(b.length<2)return[];const I=b[0],N=b[b.length-1],H=y&&(I.x!==N.x||I.y!==N.y);if(d<2)return H?[...b,b[0]]:[...b];const G=Math.floor(pe/d),X=[];X.push(new v(b[0].x,b[0].y));const ae=b.length,ce=H?ae:ae-1;for(let Se=0;Se<ce;Se++){const Pe=b[Se],Be=Se<ae-1?b[Se+1]:b[0],He=Pe.x,Xe=Pe.y,st=Be.x,wt=Be.y,Mt=He!==st,lr=Xe!==wt;if(!Mt&&!lr)continue;const qt=st-He,Ue=wt-Xe,bt=Math.abs(qt),Gt=Math.abs(Ue);let Ur=He,mn=Xe;for(;;){const an=qt>0?(Math.floor(Ur/G)+1)*G:(Math.ceil(Ur/G)-1)*G,On=Ue>0?(Math.floor(mn/G)+1)*G:(Math.ceil(mn/G)-1)*G,yn=Math.abs(Ur-an),Tn=Math.abs(mn-On),cn=Math.abs(Ur-st),vi=Math.abs(mn-wt),Wi=Mt?yn/bt:Number.POSITIVE_INFINITY,zi=lr?Tn/Gt:Number.POSITIVE_INFINITY;if((cn<=yn||!Mt)&&(vi<=Tn||!lr))break;if(Wi<zi&&Mt||!lr){Ur=an,mn+=Ue*Wi;const Ci=new v(Ur,Math.round(mn));X[X.length-1].x===Ci.x&&X[X.length-1].y===Ci.y||X.push(Ci)}else{Ur+=qt*zi,mn=On;const Ci=new v(Math.round(Ur),mn);X[X.length-1].x===Ci.x&&X[X.length-1].y===Ci.y||X.push(Ci)}}const Yr=new v(st,wt);X[X.length-1].x===Yr.x&&X[X.length-1].y===Yr.y||X.push(Yr)}return X}function pf(b,d,y){if(d.length===0)throw new Error("Subdivision vertex ring is empty.");let I=0,N=b[2*d[0]];for(let ae=1;ae<d.length;ae++){const ce=b[2*d[ae]];ce<N&&(N=ce,I=ae)}const H=d.length;let G=I,X=(G+1)%H;for(;;){const ae=G-1>=0?G-1:H-1,ce=(X+1)%H,Se=b[2*d[ae]],Pe=b[2*d[ce]],Be=b[2*d[G]],He=b[2*d[G]+1],Xe=b[2*d[X]+1];let st=!1;if(Se<Pe)st=!0;else if(Se>Pe)st=!1;else{const wt=Xe-He,Mt=-(b[2*d[X]]-Be),lr=He<Xe?1:-1;((Se-Be)*wt+(b[2*d[ae]+1]-He)*Mt)*lr>((Pe-Be)*wt+(b[2*d[ce]+1]-He)*Mt)*lr&&(st=!0)}if(st){const wt=d[ae],Mt=d[G],lr=d[X];wt!==Mt&&wt!==lr&&Mt!==lr&&y.push(lr,Mt,wt),G--,G<0&&(G=H-1)}else{const wt=d[ce],Mt=d[G],lr=d[X];wt!==Mt&&wt!==lr&&Mt!==lr&&y.push(lr,Mt,wt),X++,X>=H&&(X=0)}if(ae===ce)break}}function Ya(b,d,y,I,N,H,G,X,ae){const ce=N.length/2,Se=G&&X&&ae;if(ce<Fa.MAX_VERTEX_ARRAY_LENGTH){const Pe=d.prepareSegment(ce,y,I),Be=Pe.vertexLength;for(let st=0;st<H.length;st+=3)I.emplaceBack(Be+H[st],Be+H[st+1],Be+H[st+2]);let He,Xe;Pe.vertexLength+=ce,Pe.primitiveLength+=H.length/3,Se&&(Xe=G.prepareSegment(ce,y,X),He=Xe.vertexLength,Xe.vertexLength+=ce);for(let st=0;st<N.length;st+=2)b(N[st],N[st+1]);if(Se)for(let st=0;st<ae.length;st++){const wt=ae[st];for(let Mt=1;Mt<wt.length;Mt+=2)X.emplaceBack(He+wt[Mt-1],He+wt[Mt]);Xe.primitiveLength+=wt.length/2}}else(function(Pe,Be,He,Xe,st,wt){const Mt=[];for(let Gt=0;Gt<Xe.length/2;Gt++)Mt.push(-1);const lr={count:0};let qt=0,Ue=Pe.getOrCreateLatestSegment(Be,He),bt=Ue.vertexLength;for(let Gt=2;Gt<st.length;Gt+=3){const Ur=st[Gt-2],mn=st[Gt-1],Yr=st[Gt];let an=Mt[Ur]<qt,On=Mt[mn]<qt,yn=Mt[Yr]<qt;Ue.vertexLength+((an?1:0)+(On?1:0)+(yn?1:0))>Fa.MAX_VERTEX_ARRAY_LENGTH&&(Ue=Pe.createNewSegment(Be,He),qt=lr.count,an=!0,On=!0,yn=!0,bt=0);const Tn=Ms(Mt,Xe,wt,lr,Ur,an,Ue),cn=Ms(Mt,Xe,wt,lr,mn,On,Ue),vi=Ms(Mt,Xe,wt,lr,Yr,yn,Ue);He.emplaceBack(bt+Tn-qt,bt+cn-qt,bt+vi-qt),Ue.primitiveLength++}})(d,y,I,N,H,b),Se&&function(Pe,Be,He,Xe,st,wt){const Mt=[];for(let Gt=0;Gt<Xe.length/2;Gt++)Mt.push(-1);const lr={count:0};let qt=0,Ue=Pe.getOrCreateLatestSegment(Be,He),bt=Ue.vertexLength;for(let Gt=0;Gt<st.length;Gt++){const Ur=st[Gt];for(let mn=1;mn<st[Gt].length;mn+=2){const Yr=Ur[mn-1],an=Ur[mn];let On=Mt[Yr]<qt,yn=Mt[an]<qt;Ue.vertexLength+((On?1:0)+(yn?1:0))>Fa.MAX_VERTEX_ARRAY_LENGTH&&(Ue=Pe.createNewSegment(Be,He),qt=lr.count,On=!0,yn=!0,bt=0);const Tn=Ms(Mt,Xe,wt,lr,Yr,On,Ue),cn=Ms(Mt,Xe,wt,lr,an,yn,Ue);He.emplaceBack(bt+Tn-qt,bt+cn-qt),Ue.primitiveLength++}}}(G,y,X,N,ae,b),d.forceNewSegmentOnNextPrepare(),G==null||G.forceNewSegmentOnNextPrepare()}function Ms(b,d,y,I,N,H,G){if(H){const X=I.count;return y(d[2*N],d[2*N+1]),b[N]=I.count,I.count++,G.vertexLength++,X}return b[N]}class sl{constructor(d){this.zoom=d.zoom,this.overscaling=d.overscaling,this.layers=d.layers,this.layerIds=this.layers.map(y=>y.id),this.index=d.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new In,this.indexArray=new Aa,this.indexArray2=new Is,this.programConfigurations=new K(d.layers,d.zoom),this.segments=new Fa,this.segments2=new Fa,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(d,y,I){this.hasPattern=wy("fill",this.layers,y);const N=this.layers[0].layout.get("fill-sort-key"),H=!N.isConstant(),G=[];for(const{feature:X,id:ae,index:ce,sourceLayerIndex:Se}of d){const Pe=this.layers[0]._featureFilter.needGeometry,Be=Ne(X,Pe);if(!this.layers[0]._featureFilter.filter(new Ro(this.zoom),Be,I))continue;const He=H?N.evaluate(Be,{},I,y.availableImages):void 0,Xe={id:ae,properties:X.properties,type:X.type,sourceLayerIndex:Se,index:ce,geometry:Pe?Be.geometry:Oe(X),patterns:{},sortKey:He};G.push(Xe)}H&&G.sort((X,ae)=>X.sortKey-ae.sortKey);for(const X of G){const{geometry:ae,index:ce,sourceLayerIndex:Se}=X;if(this.hasPattern){const Pe=Wu("fill",this.layers,X,this.zoom,y);this.patternFeatures.push(Pe)}else this.addFeature(X,ae,ce,I,{},y.subdivisionGranularity);y.featureIndex.insert(d[ce].feature,ae,ce,Se,this.index)}}update(d,y,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(d,y,this.stateDependentLayers,I)}addFeatures(d,y,I){for(const N of this.patternFeatures)this.addFeature(N,N.geometry,N.index,y,I,d.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(d){this.uploaded||(this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,Hu),this.indexBuffer=d.createIndexBuffer(this.indexArray),this.indexBuffer2=d.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(d),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(d,y,I,N,H,G){for(const X of Il(y,500)){const ae=Mm(X,N,G.fill.getGranularityForZoomLevel(N.z)),ce=this.layoutVertexArray;Ya((Se,Pe)=>{ce.emplaceBack(Se,Pe)},this.segments,this.layoutVertexArray,this.indexArray,ae.verticesFlattened,ae.indicesTriangles,this.segments2,this.indexArray2,ae.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,d,I,H,N)}}let wu,sr;qn("FillBucket",sl,{omit:["layers","patternFeatures"]});var Dr={get paint(){return sr=sr||new ys({"fill-antialias":new Gn(at.paint_fill["fill-antialias"]),"fill-opacity":new Di(at.paint_fill["fill-opacity"]),"fill-color":new Di(at.paint_fill["fill-color"]),"fill-outline-color":new Di(at.paint_fill["fill-outline-color"]),"fill-translate":new Gn(at.paint_fill["fill-translate"]),"fill-translate-anchor":new Gn(at.paint_fill["fill-translate-anchor"]),"fill-pattern":new dd(at.paint_fill["fill-pattern"])})},get layout(){return wu=wu||new ys({"fill-sort-key":new Di(at.layout_fill["fill-sort-key"])})}};class Gr extends $u{constructor(d){super(d,Dr)}recalculate(d,y){super.recalculate(d,y);const I=this.paint._values["fill-outline-color"];I.value.kind==="constant"&&I.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(d){return new sl(d)}queryRadius(){return xr(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:d,geometry:y,transform:I,pixelsToTileUnits:N}){return ur(Kn(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-I.bearingInRadians,N),y)}isTileClipped(){return!0}}const $n=bo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ti=bo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:qi}=$n;var Qi,xi,Si,Gi,ra,Fi,wa,$o={};function _s(){if(xi)return Qi;xi=1;var b=h();function d(N,H,G,X,ae){this.properties={},this.extent=G,this.type=0,this._pbf=N,this._geometry=-1,this._keys=X,this._values=ae,N.readFields(y,this,H)}function y(N,H,G){N==1?H.id=G.readVarint():N==2?function(X,ae){for(var ce=X.readVarint()+X.pos;X.pos<ce;){var Se=ae._keys[X.readVarint()],Pe=ae._values[X.readVarint()];ae.properties[Se]=Pe}}(G,H):N==3?H.type=G.readVarint():N==4&&(H._geometry=G.pos)}function I(N){for(var H,G,X=0,ae=0,ce=N.length,Se=ce-1;ae<ce;Se=ae++)X+=((G=N[Se]).x-(H=N[ae]).x)*(H.y+G.y);return X}return Qi=d,d.types=["Unknown","Point","LineString","Polygon"],d.prototype.loadGeometry=function(){var N=this._pbf;N.pos=this._geometry;for(var H,G=N.readVarint()+N.pos,X=1,ae=0,ce=0,Se=0,Pe=[];N.pos<G;){if(ae<=0){var Be=N.readVarint();X=7&Be,ae=Be>>3}if(ae--,X===1||X===2)ce+=N.readSVarint(),Se+=N.readSVarint(),X===1&&(H&&Pe.push(H),H=[]),H.push(new b(ce,Se));else{if(X!==7)throw new Error("unknown command "+X);H&&H.push(H[0].clone())}}return H&&Pe.push(H),Pe},d.prototype.bbox=function(){var N=this._pbf;N.pos=this._geometry;for(var H=N.readVarint()+N.pos,G=1,X=0,ae=0,ce=0,Se=1/0,Pe=-1/0,Be=1/0,He=-1/0;N.pos<H;){if(X<=0){var Xe=N.readVarint();G=7&Xe,X=Xe>>3}if(X--,G===1||G===2)(ae+=N.readSVarint())<Se&&(Se=ae),ae>Pe&&(Pe=ae),(ce+=N.readSVarint())<Be&&(Be=ce),ce>He&&(He=ce);else if(G!==7)throw new Error("unknown command "+G)}return[Se,Be,Pe,He]},d.prototype.toGeoJSON=function(N,H,G){var X,ae,ce=this.extent*Math.pow(2,G),Se=this.extent*N,Pe=this.extent*H,Be=this.loadGeometry(),He=d.types[this.type];function Xe(Mt){for(var lr=0;lr<Mt.length;lr++){var qt=Mt[lr];Mt[lr]=[360*(qt.x+Se)/ce-180,360/Math.PI*Math.atan(Math.exp((180-360*(qt.y+Pe)/ce)*Math.PI/180))-90]}}switch(this.type){case 1:var st=[];for(X=0;X<Be.length;X++)st[X]=Be[X][0];Xe(Be=st);break;case 2:for(X=0;X<Be.length;X++)Xe(Be[X]);break;case 3:for(Be=function(Mt){var lr=Mt.length;if(lr<=1)return[Mt];for(var qt,Ue,bt=[],Gt=0;Gt<lr;Gt++){var Ur=I(Mt[Gt]);Ur!==0&&(Ue===void 0&&(Ue=Ur<0),Ue===Ur<0?(qt&&bt.push(qt),qt=[Mt[Gt]]):qt.push(Mt[Gt]))}return qt&&bt.push(qt),bt}(Be),X=0;X<Be.length;X++)for(ae=0;ae<Be[X].length;ae++)Xe(Be[X][ae])}Be.length===1?Be=Be[0]:He="Multi"+He;var wt={type:"Feature",geometry:{type:He,coordinates:Be},properties:this.properties};return"id"in this&&(wt.id=this.id),wt},Qi}function jl(){if(Gi)return Si;Gi=1;var b=_s();function d(I,N){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(y,this,N),this.length=this._features.length}function y(I,N,H){I===15?N.version=H.readVarint():I===1?N.name=H.readString():I===5?N.extent=H.readVarint():I===2?N._features.push(H.pos):I===3?N._keys.push(H.readString()):I===4&&N._values.push(function(G){for(var X=null,ae=G.readVarint()+G.pos;G.pos<ae;){var ce=G.readVarint()>>3;X=ce===1?G.readString():ce===2?G.readFloat():ce===3?G.readDouble():ce===4?G.readVarint64():ce===5?G.readVarint():ce===6?G.readSVarint():ce===7?G.readBoolean():null}return X}(H))}return Si=d,d.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var N=this._pbf.readVarint()+this._pbf.pos;return new b(this._pbf,N,this.extent,this._keys,this._values)},Si}function _l(){return wa||(wa=1,$o.VectorTile=function(){if(Fi)return ra;Fi=1;var b=jl();function d(y,I,N){if(y===3){var H=new b(N,N.readVarint()+N.pos);H.length&&(I[H.name]=H)}}return ra=function(y,I){this.layers=y.readFields(d,{},I)},ra}(),$o.VectorTileFeature=_s(),$o.VectorTileLayer=jl()),$o}var oa=l(_l());const _h=oa.VectorTileFeature.types,vd=Math.pow(2,13);function Nf(b,d,y,I,N,H,G,X){b.emplaceBack(d,y,2*Math.floor(I*vd)+G,N*vd*2,H*vd*2,Math.round(X))}class xu{constructor(d){this.zoom=d.zoom,this.overscaling=d.overscaling,this.layers=d.layers,this.layerIds=this.layers.map(y=>y.id),this.index=d.index,this.hasPattern=!1,this.layoutVertexArray=new hn,this.centroidVertexArray=new Jr,this.indexArray=new Aa,this.programConfigurations=new K(d.layers,d.zoom),this.segments=new Fa,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(d,y,I){this.features=[],this.hasPattern=wy("fill-extrusion",this.layers,y);for(const{feature:N,id:H,index:G,sourceLayerIndex:X}of d){const ae=this.layers[0]._featureFilter.needGeometry,ce=Ne(N,ae);if(!this.layers[0]._featureFilter.filter(new Ro(this.zoom),ce,I))continue;const Se={id:H,sourceLayerIndex:X,index:G,geometry:ae?ce.geometry:Oe(N),properties:N.properties,type:N.type,patterns:{}};this.hasPattern?this.features.push(Wu("fill-extrusion",this.layers,Se,this.zoom,y)):this.addFeature(Se,Se.geometry,G,I,{},y.subdivisionGranularity),y.featureIndex.insert(N,Se.geometry,G,X,this.index,!0)}}addFeatures(d,y,I){for(const N of this.features){const{geometry:H}=N;this.addFeature(N,H,N.index,y,I,d.subdivisionGranularity)}}update(d,y,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(d,y,this.stateDependentLayers,I)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(d){this.uploaded||(this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,qi),this.centroidVertexBuffer=d.createVertexBuffer(this.centroidVertexArray,ti.members,!0),this.indexBuffer=d.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(d),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(d,y,I,N,H,G){for(const X of Il(y,500)){const ae={x:0,y:0,sampleCount:0},ce=this.layoutVertexArray.length;this.processPolygon(ae,N,d,X,G);const Se=this.layoutVertexArray.length-ce,Pe=Math.floor(ae.x/ae.sampleCount),Be=Math.floor(ae.y/ae.sampleCount);for(let He=0;He<Se;He++)this.centroidVertexArray.emplaceBack(Pe,Be)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,d,I,H,N)}processPolygon(d,y,I,N,H){if(N.length<1||Qc(N[0]))return;for(const Pe of N)Pe.length!==0&&iu(d,Pe);const G={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},X=H.fill.getGranularityForZoomLevel(y.z),ae=_h[I.type]==="Polygon";for(const Pe of N){if(Pe.length===0||Qc(Pe))continue;const Be=bh(Pe,X,ae);this._generateSideFaces(Be,G)}if(!ae)return;const ce=Mm(N,y,X,!1),Se=this.layoutVertexArray;Ya((Pe,Be)=>{Nf(Se,Pe,Be,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,ce.verticesFlattened,ce.indicesTriangles)}_generateSideFaces(d,y){let I=0;for(let N=1;N<d.length;N++){const H=d[N],G=d[N-1];if($f(H,G))continue;y.segment.vertexLength+4>Fa.MAX_VERTEX_ARRAY_LENGTH&&(y.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const X=H.sub(G)._perp()._unit(),ae=G.dist(H);I+ae>32768&&(I=0),Nf(this.layoutVertexArray,H.x,H.y,X.x,X.y,0,0,I),Nf(this.layoutVertexArray,H.x,H.y,X.x,X.y,0,1,I),I+=ae,Nf(this.layoutVertexArray,G.x,G.y,X.x,X.y,0,0,I),Nf(this.layoutVertexArray,G.x,G.y,X.x,X.y,0,1,I);const ce=y.segment.vertexLength;this.indexArray.emplaceBack(ce,ce+2,ce+1),this.indexArray.emplaceBack(ce+1,ce+2,ce+3),y.segment.vertexLength+=4,y.segment.primitiveLength+=2}}}function iu(b,d){for(let y=0;y<d.length;y++){const I=d[y];y===d.length-1&&d[0].x===I.x&&d[0].y===I.y||(b.x+=I.x,b.y+=I.y,b.sampleCount++)}}function $f(b,d){return b.x===d.x&&(b.x<0||b.x>pe)||b.y===d.y&&(b.y<0||b.y>pe)}function Qc(b){return b.every(d=>d.x<0)||b.every(d=>d.x>pe)||b.every(d=>d.y<0)||b.every(d=>d.y>pe)}let wl;qn("FillExtrusionBucket",xu,{omit:["layers","features"]});var Fp={get paint(){return wl=wl||new ys({"fill-extrusion-opacity":new Gn(at["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Di(at["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Gn(at["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Gn(at["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new dd(at["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Di(at["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Di(at["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Gn(at["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Wo extends $u{constructor(d){super(d,Fp)}createBucket(d){return new xu(d)}queryRadius(){return xr(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:d,feature:y,featureState:I,geometry:N,transform:H,pixelsToTileUnits:G,pixelPosMatrix:X}){const ae=Kn(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-H.bearingInRadians,G),ce=this.paint.get("fill-extrusion-height").evaluate(y,I),Se=this.paint.get("fill-extrusion-base").evaluate(y,I),Pe=function(He,Xe,st){const wt=[];for(const Mt of He){const lr=[Mt.x,Mt.y,0,1];V(lr,lr,Xe),wt.push(new v(lr[0]/lr[3],lr[1]/lr[3]))}return wt}(ae,X),Be=function(He,Xe,st,wt){const Mt=[],lr=[],qt=wt[8]*Xe,Ue=wt[9]*Xe,bt=wt[10]*Xe,Gt=wt[11]*Xe,Ur=wt[8]*st,mn=wt[9]*st,Yr=wt[10]*st,an=wt[11]*st;for(const On of He){const yn=[],Tn=[];for(const cn of On){const vi=cn.x,Wi=cn.y,zi=wt[0]*vi+wt[4]*Wi+wt[12],Ci=wt[1]*vi+wt[5]*Wi+wt[13],Va=wt[2]*vi+wt[6]*Wi+wt[14],cl=wt[3]*vi+wt[7]*Wi+wt[15],Ku=Va+bt,tf=cl+Gt,Eh=zi+Ur,wd=Ci+mn,$c=Va+Yr,fl=cl+an,hc=new v((zi+qt)/tf,(Ci+Ue)/tf);hc.z=Ku/tf,yn.push(hc);const zc=new v(Eh/fl,wd/fl);zc.z=$c/fl,Tn.push(zc)}Mt.push(yn),lr.push(Tn)}return[Mt,lr]}(N,Se,ce,X);return function(He,Xe,st){let wt=1/0;ur(st,Xe)&&(wt=wh(st,Xe[0]));for(let Mt=0;Mt<Xe.length;Mt++){const lr=Xe[Mt],qt=He[Mt];for(let Ue=0;Ue<lr.length-1;Ue++){const bt=lr[Ue],Gt=[bt,lr[Ue+1],qt[Ue+1],qt[Ue],bt];zt(st,Gt)&&(wt=Math.min(wt,wh(st,Gt)))}}return wt!==1/0&&wt}(Be[0],Be[1],Pe)}}function Su(b,d){return b.x*d.x+b.y*d.y}function wh(b,d){if(b.length===1){let y=0;const I=d[y++];let N;for(;!N||I.equals(N);)if(N=d[y++],!N)return 1/0;for(;y<d.length;y++){const H=d[y],G=b[0],X=N.sub(I),ae=H.sub(I),ce=G.sub(I),Se=Su(X,X),Pe=Su(X,ae),Be=Su(ae,ae),He=Su(ce,X),Xe=Su(ce,ae),st=Se*Be-Pe*Pe,wt=(Be*He-Pe*Xe)/st,Mt=(Se*Xe-Pe*He)/st,lr=I.z*(1-wt-Mt)+N.z*wt+H.z*Mt;if(isFinite(lr))return lr}return 1/0}{let y=1/0;for(const I of d)y=Math.min(y,I.z);return y}}const yd=bo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:vv}=yd,ll=bo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:zf}=ll,yv=oa.VectorTileFeature.types,Lp=Math.cos(Math.PI/180*37.5),Zb=Math.pow(2,14)/.5;class E0{constructor(d){this.zoom=d.zoom,this.overscaling=d.overscaling,this.layers=d.layers,this.layerIds=this.layers.map(y=>y.id),this.index=d.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(y=>{this.gradients[y.id]={}}),this.layoutVertexArray=new Jn,this.layoutVertexArray2=new Mi,this.indexArray=new Aa,this.programConfigurations=new K(d.layers,d.zoom),this.segments=new Fa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(d,y,I){this.hasPattern=wy("line",this.layers,y);const N=this.layers[0].layout.get("line-sort-key"),H=!N.isConstant(),G=[];for(const{feature:X,id:ae,index:ce,sourceLayerIndex:Se}of d){const Pe=this.layers[0]._featureFilter.needGeometry,Be=Ne(X,Pe);if(!this.layers[0]._featureFilter.filter(new Ro(this.zoom),Be,I))continue;const He=H?N.evaluate(Be,{},I):void 0,Xe={id:ae,properties:X.properties,type:X.type,sourceLayerIndex:Se,index:ce,geometry:Pe?Be.geometry:Oe(X),patterns:{},sortKey:He};G.push(Xe)}H&&G.sort((X,ae)=>X.sortKey-ae.sortKey);for(const X of G){const{geometry:ae,index:ce,sourceLayerIndex:Se}=X;if(this.hasPattern){const Pe=Wu("line",this.layers,X,this.zoom,y);this.patternFeatures.push(Pe)}else this.addFeature(X,ae,ce,I,{},y.subdivisionGranularity);y.featureIndex.insert(d[ce].feature,ae,ce,Se,this.index)}}update(d,y,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(d,y,this.stateDependentLayers,I)}addFeatures(d,y,I){for(const N of this.patternFeatures)this.addFeature(N,N.geometry,N.index,y,I,d.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(d){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=d.createVertexBuffer(this.layoutVertexArray2,zf)),this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,vv),this.indexBuffer=d.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(d),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(d){if(d.properties&&Object.prototype.hasOwnProperty.call(d.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(d.properties,"mapbox_clip_end"))return{start:+d.properties.mapbox_clip_start,end:+d.properties.mapbox_clip_end}}addFeature(d,y,I,N,H,G){const X=this.layers[0].layout,ae=X.get("line-join").evaluate(d,{}),ce=X.get("line-cap"),Se=X.get("line-miter-limit"),Pe=X.get("line-round-limit");this.lineClips=this.lineFeatureClips(d);for(const Be of y)this.addLine(Be,d,ae,ce,Se,Pe,N,G);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,d,I,H,N)}addLine(d,y,I,N,H,G,X,ae){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,d=bh(d,X?ae.line.getGranularityForZoomLevel(X.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let qt=0;qt<d.length-1;qt++)this.totalDistance+=d[qt].dist(d[qt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ce=yv[y.type]==="Polygon";let Se=d.length;for(;Se>=2&&d[Se-1].equals(d[Se-2]);)Se--;let Pe=0;for(;Pe<Se-1&&d[Pe].equals(d[Pe+1]);)Pe++;if(Se<(ce?3:2))return;I==="bevel"&&(H=1.05);const Be=this.overscaling<=16?15*pe/(512*this.overscaling):0,He=this.segments.prepareSegment(10*Se,this.layoutVertexArray,this.indexArray);let Xe,st,wt,Mt,lr;this.e1=this.e2=-1,ce&&(Xe=d[Se-2],lr=d[Pe].sub(Xe)._unit()._perp());for(let qt=Pe;qt<Se;qt++){if(wt=qt===Se-1?ce?d[Pe+1]:void 0:d[qt+1],wt&&d[qt].equals(wt))continue;lr&&(Mt=lr),Xe&&(st=Xe),Xe=d[qt],lr=wt?wt.sub(Xe)._unit()._perp():Mt,Mt=Mt||lr;let Ue=Mt.add(lr);Ue.x===0&&Ue.y===0||Ue._unit();const bt=Mt.x*lr.x+Mt.y*lr.y,Gt=Ue.x*lr.x+Ue.y*lr.y,Ur=Gt!==0?1/Gt:1/0,mn=2*Math.sqrt(2-2*Gt),Yr=Gt<Lp&&st&&wt,an=Mt.x*lr.y-Mt.y*lr.x>0;if(Yr&&qt>Pe){const Tn=Xe.dist(st);if(Tn>2*Be){const cn=Xe.sub(Xe.sub(st)._mult(Be/Tn)._round());this.updateDistance(st,cn),this.addCurrentVertex(cn,Mt,0,0,He),st=cn}}const On=st&&wt;let yn=On?I:ce?"butt":N;if(On&&yn==="round"&&(Ur<G?yn="miter":Ur<=2&&(yn="fakeround")),yn==="miter"&&Ur>H&&(yn="bevel"),yn==="bevel"&&(Ur>2&&(yn="flipbevel"),Ur<H&&(yn="miter")),st&&this.updateDistance(st,Xe),yn==="miter")Ue._mult(Ur),this.addCurrentVertex(Xe,Ue,0,0,He);else if(yn==="flipbevel"){if(Ur>100)Ue=lr.mult(-1);else{const Tn=Ur*Mt.add(lr).mag()/Mt.sub(lr).mag();Ue._perp()._mult(Tn*(an?-1:1))}this.addCurrentVertex(Xe,Ue,0,0,He),this.addCurrentVertex(Xe,Ue.mult(-1),0,0,He)}else if(yn==="bevel"||yn==="fakeround"){const Tn=-Math.sqrt(Ur*Ur-1),cn=an?Tn:0,vi=an?0:Tn;if(st&&this.addCurrentVertex(Xe,Mt,cn,vi,He),yn==="fakeround"){const Wi=Math.round(180*mn/Math.PI/20);for(let zi=1;zi<Wi;zi++){let Ci=zi/Wi;if(Ci!==.5){const cl=Ci-.5;Ci+=Ci*cl*(Ci-1)*((1.0904+bt*(bt*(3.55645-1.43519*bt)-3.2452))*cl*cl+(.848013+bt*(.215638*bt-1.06021)))}const Va=lr.sub(Mt)._mult(Ci)._add(Mt)._unit()._mult(an?-1:1);this.addHalfVertex(Xe,Va.x,Va.y,!1,an,0,He)}}wt&&this.addCurrentVertex(Xe,lr,-cn,-vi,He)}else if(yn==="butt")this.addCurrentVertex(Xe,Ue,0,0,He);else if(yn==="square"){const Tn=st?1:-1;this.addCurrentVertex(Xe,Ue,Tn,Tn,He)}else yn==="round"&&(st&&(this.addCurrentVertex(Xe,Mt,0,0,He),this.addCurrentVertex(Xe,Mt,1,1,He,!0)),wt&&(this.addCurrentVertex(Xe,lr,-1,-1,He,!0),this.addCurrentVertex(Xe,lr,0,0,He)));if(Yr&&qt<Se-1){const Tn=Xe.dist(wt);if(Tn>2*Be){const cn=Xe.add(wt.sub(Xe)._mult(Be/Tn)._round());this.updateDistance(Xe,cn),this.addCurrentVertex(cn,lr,0,0,He),Xe=cn}}}}addCurrentVertex(d,y,I,N,H,G=!1){const X=y.y*N-y.x,ae=-y.y-y.x*N;this.addHalfVertex(d,y.x+y.y*I,y.y-y.x*I,G,!1,I,H),this.addHalfVertex(d,X,ae,G,!0,-N,H),this.distance>Zb/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(d,y,I,N,H,G))}addHalfVertex({x:d,y},I,N,H,G,X,ae){const ce=.5*(this.lineClips?this.scaledDistance*(Zb-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((d<<1)+(H?1:0),(y<<1)+(G?1:0),Math.round(63*I)+128,Math.round(63*N)+128,1+(X===0?0:X<0?-1:1)|(63&ce)<<2,ce>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Se=ae.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,Se,this.e2),ae.primitiveLength++),G?this.e2=Se:this.e1=Se}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(d,y){this.distance+=d.dist(y),this.updateScaledDistance()}}let C0,Sy;qn("LineBucket",E0,{omit:["layers","patternFeatures"]});var r1={get paint(){return Sy=Sy||new ys({"line-opacity":new Di(at.paint_line["line-opacity"]),"line-color":new Di(at.paint_line["line-color"]),"line-translate":new Gn(at.paint_line["line-translate"]),"line-translate-anchor":new Gn(at.paint_line["line-translate-anchor"]),"line-width":new Di(at.paint_line["line-width"]),"line-gap-width":new Di(at.paint_line["line-gap-width"]),"line-offset":new Di(at.paint_line["line-offset"]),"line-blur":new Di(at.paint_line["line-blur"]),"line-dasharray":new yu(at.paint_line["line-dasharray"]),"line-pattern":new dd(at.paint_line["line-pattern"]),"line-gradient":new bl(at.paint_line["line-gradient"])})},get layout(){return C0=C0||new ys({"line-cap":new Gn(at.layout_line["line-cap"]),"line-join":new Di(at.layout_line["line-join"]),"line-miter-limit":new Gn(at.layout_line["line-miter-limit"]),"line-round-limit":new Gn(at.layout_line["line-round-limit"]),"line-sort-key":new Di(at.layout_line["line-sort-key"])})}};class eE extends Di{possiblyEvaluate(d,y){return y=new Ro(Math.floor(y.zoom),{now:y.now,fadeDuration:y.fadeDuration,zoomHistory:y.zoomHistory,transition:y.transition}),super.possiblyEvaluate(d,y)}evaluate(d,y,I,N){return y=$e({},y,{zoom:Math.floor(y.zoom)}),super.evaluate(d,y,I,N)}}let Ey;class n1 extends $u{constructor(d){super(d,r1),this.gradientVersion=0,Ey||(Ey=new eE(r1.paint.properties["line-width"].specification),Ey.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(d){if(d==="line-gradient"){const y=this.gradientExpression();this.stepInterpolant=!!function(I){return I._styleExpression!==void 0}(y)&&y._styleExpression.expression instanceof Tr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(d,y){super.recalculate(d,y),this.paint._values["line-floorwidth"]=Ey.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)}createBucket(d){return new E0(d)}queryRadius(d){const y=d,I=km(en("line-width",this,y),en("line-gap-width",this,y)),N=en("line-offset",this,y);return I/2+Math.abs(N)+xr(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:d,feature:y,featureState:I,geometry:N,transform:H,pixelsToTileUnits:G}){const X=Kn(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-H.bearingInRadians,G),ae=G/2*km(this.paint.get("line-width").evaluate(y,I),this.paint.get("line-gap-width").evaluate(y,I)),ce=this.paint.get("line-offset").evaluate(y,I);return ce&&(N=function(Se,Pe){const Be=[];for(let He=0;He<Se.length;He++){const Xe=Se[He],st=[];for(let wt=0;wt<Xe.length;wt++){const Mt=Xe[wt-1],lr=Xe[wt],qt=Xe[wt+1],Ue=wt===0?new v(0,0):lr.sub(Mt)._unit()._perp(),bt=wt===Xe.length-1?new v(0,0):qt.sub(lr)._unit()._perp(),Gt=Ue._add(bt)._unit(),Ur=Gt.x*bt.x+Gt.y*bt.y;Ur!==0&&Gt._mult(1/Ur),st.push(Gt._mult(Pe)._add(lr))}Be.push(st)}return Be}(N,ce*G)),function(Se,Pe,Be){for(let He=0;He<Pe.length;He++){const Xe=Pe[He];if(Se.length>=3){for(let st=0;st<Xe.length;st++)if(on(Se,Xe[st]))return!0}if(Xt(Se,Xe,Be))return!0}return!1}(X,N,ae)}isTileClipped(){return!0}}function km(b,d){return d>0?d+2*b:b}const tE=bo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bv=bo([{name:"a_projected_pos",components:3,type:"Float32"}],4);bo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const P0=bo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);bo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ul=bo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),rE=bo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function i1(b,d,y){return b.sections.forEach(I=>{I.text=function(N,H,G){const X=H.layout.get("text-transform").evaluate(G,{});return X==="uppercase"?N=N.toLocaleUpperCase():X==="lowercase"&&(N=N.toLocaleLowerCase()),kf.applyArabicShaping&&(N=kf.applyArabicShaping(N)),N}(I.text,d,y)}),b}bo([{name:"triangle",components:3,type:"Uint16"}]),bo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),bo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),bo([{type:"Float32",name:"offsetX"}]),bo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),bo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Cy={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var a1,T0,Yb,au=24,Bf={};function R0(){return a1||(a1=1,Bf.read=function(b,d,y,I,N){var H,G,X=8*N-I-1,ae=(1<<X)-1,ce=ae>>1,Se=-7,Pe=y?N-1:0,Be=y?-1:1,He=b[d+Pe];for(Pe+=Be,H=He&(1<<-Se)-1,He>>=-Se,Se+=X;Se>0;H=256*H+b[d+Pe],Pe+=Be,Se-=8);for(G=H&(1<<-Se)-1,H>>=-Se,Se+=I;Se>0;G=256*G+b[d+Pe],Pe+=Be,Se-=8);if(H===0)H=1-ce;else{if(H===ae)return G?NaN:1/0*(He?-1:1);G+=Math.pow(2,I),H-=ce}return(He?-1:1)*G*Math.pow(2,H-I)},Bf.write=function(b,d,y,I,N,H){var G,X,ae,ce=8*H-N-1,Se=(1<<ce)-1,Pe=Se>>1,Be=N===23?Math.pow(2,-24)-Math.pow(2,-77):0,He=I?0:H-1,Xe=I?1:-1,st=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(X=isNaN(d)?1:0,G=Se):(G=Math.floor(Math.log(d)/Math.LN2),d*(ae=Math.pow(2,-G))<1&&(G--,ae*=2),(d+=G+Pe>=1?Be/ae:Be*Math.pow(2,1-Pe))*ae>=2&&(G++,ae/=2),G+Pe>=Se?(X=0,G=Se):G+Pe>=1?(X=(d*ae-1)*Math.pow(2,N),G+=Pe):(X=d*Math.pow(2,Pe-1)*Math.pow(2,N),G=0));N>=8;b[y+He]=255&X,He+=Xe,X/=256,N-=8);for(G=G<<N|X,ce+=N;ce>0;b[y+He]=255&G,He+=Xe,G/=256,ce-=8);b[y+He-Xe]|=128*st}),Bf}function o1(){if(Yb)return T0;Yb=1,T0=d;var b=R0();function d(Ue){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ue)?Ue:new Uint8Array(Ue||0),this.pos=0,this.type=0,this.length=this.buf.length}d.Varint=0,d.Fixed64=1,d.Bytes=2,d.Fixed32=5;var y=4294967296,I=1/y,N=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function H(Ue){return Ue.type===d.Bytes?Ue.readVarint()+Ue.pos:Ue.pos+1}function G(Ue,bt,Gt){return Gt?4294967296*bt+(Ue>>>0):4294967296*(bt>>>0)+(Ue>>>0)}function X(Ue,bt,Gt){var Ur=bt<=16383?1:bt<=2097151?2:bt<=268435455?3:Math.floor(Math.log(bt)/(7*Math.LN2));Gt.realloc(Ur);for(var mn=Gt.pos-1;mn>=Ue;mn--)Gt.buf[mn+Ur]=Gt.buf[mn]}function ae(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeVarint(Ue[Gt])}function ce(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeSVarint(Ue[Gt])}function Se(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeFloat(Ue[Gt])}function Pe(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeDouble(Ue[Gt])}function Be(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeBoolean(Ue[Gt])}function He(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeFixed32(Ue[Gt])}function Xe(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeSFixed32(Ue[Gt])}function st(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeFixed64(Ue[Gt])}function wt(Ue,bt){for(var Gt=0;Gt<Ue.length;Gt++)bt.writeSFixed64(Ue[Gt])}function Mt(Ue,bt){return(Ue[bt]|Ue[bt+1]<<8|Ue[bt+2]<<16)+16777216*Ue[bt+3]}function lr(Ue,bt,Gt){Ue[Gt]=bt,Ue[Gt+1]=bt>>>8,Ue[Gt+2]=bt>>>16,Ue[Gt+3]=bt>>>24}function qt(Ue,bt){return(Ue[bt]|Ue[bt+1]<<8|Ue[bt+2]<<16)+(Ue[bt+3]<<24)}return d.prototype={destroy:function(){this.buf=null},readFields:function(Ue,bt,Gt){for(Gt=Gt||this.length;this.pos<Gt;){var Ur=this.readVarint(),mn=Ur>>3,Yr=this.pos;this.type=7&Ur,Ue(mn,bt,this),this.pos===Yr&&this.skip(Ur)}return bt},readMessage:function(Ue,bt){return this.readFields(Ue,bt,this.readVarint()+this.pos)},readFixed32:function(){var Ue=Mt(this.buf,this.pos);return this.pos+=4,Ue},readSFixed32:function(){var Ue=qt(this.buf,this.pos);return this.pos+=4,Ue},readFixed64:function(){var Ue=Mt(this.buf,this.pos)+Mt(this.buf,this.pos+4)*y;return this.pos+=8,Ue},readSFixed64:function(){var Ue=Mt(this.buf,this.pos)+qt(this.buf,this.pos+4)*y;return this.pos+=8,Ue},readFloat:function(){var Ue=b.read(this.buf,this.pos,!0,23,4);return this.pos+=4,Ue},readDouble:function(){var Ue=b.read(this.buf,this.pos,!0,52,8);return this.pos+=8,Ue},readVarint:function(Ue){var bt,Gt,Ur=this.buf;return bt=127&(Gt=Ur[this.pos++]),Gt<128?bt:(bt|=(127&(Gt=Ur[this.pos++]))<<7,Gt<128?bt:(bt|=(127&(Gt=Ur[this.pos++]))<<14,Gt<128?bt:(bt|=(127&(Gt=Ur[this.pos++]))<<21,Gt<128?bt:function(mn,Yr,an){var On,yn,Tn=an.buf;if(On=(112&(yn=Tn[an.pos++]))>>4,yn<128||(On|=(127&(yn=Tn[an.pos++]))<<3,yn<128)||(On|=(127&(yn=Tn[an.pos++]))<<10,yn<128)||(On|=(127&(yn=Tn[an.pos++]))<<17,yn<128)||(On|=(127&(yn=Tn[an.pos++]))<<24,yn<128)||(On|=(1&(yn=Tn[an.pos++]))<<31,yn<128))return G(mn,On,Yr);throw new Error("Expected varint not more than 10 bytes")}(bt|=(15&(Gt=Ur[this.pos]))<<28,Ue,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ue=this.readVarint();return Ue%2==1?(Ue+1)/-2:Ue/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var Ue=this.readVarint()+this.pos,bt=this.pos;return this.pos=Ue,Ue-bt>=12&&N?function(Gt,Ur,mn){return N.decode(Gt.subarray(Ur,mn))}(this.buf,bt,Ue):function(Gt,Ur,mn){for(var Yr="",an=Ur;an<mn;){var On,yn,Tn,cn=Gt[an],vi=null,Wi=cn>239?4:cn>223?3:cn>191?2:1;if(an+Wi>mn)break;Wi===1?cn<128&&(vi=cn):Wi===2?(192&(On=Gt[an+1]))==128&&(vi=(31&cn)<<6|63&On)<=127&&(vi=null):Wi===3?(yn=Gt[an+2],(192&(On=Gt[an+1]))==128&&(192&yn)==128&&((vi=(15&cn)<<12|(63&On)<<6|63&yn)<=2047||vi>=55296&&vi<=57343)&&(vi=null)):Wi===4&&(yn=Gt[an+2],Tn=Gt[an+3],(192&(On=Gt[an+1]))==128&&(192&yn)==128&&(192&Tn)==128&&((vi=(15&cn)<<18|(63&On)<<12|(63&yn)<<6|63&Tn)<=65535||vi>=1114112)&&(vi=null)),vi===null?(vi=65533,Wi=1):vi>65535&&(vi-=65536,Yr+=String.fromCharCode(vi>>>10&1023|55296),vi=56320|1023&vi),Yr+=String.fromCharCode(vi),an+=Wi}return Yr}(this.buf,bt,Ue)},readBytes:function(){var Ue=this.readVarint()+this.pos,bt=this.buf.subarray(this.pos,Ue);return this.pos=Ue,bt},readPackedVarint:function(Ue,bt){if(this.type!==d.Bytes)return Ue.push(this.readVarint(bt));var Gt=H(this);for(Ue=Ue||[];this.pos<Gt;)Ue.push(this.readVarint(bt));return Ue},readPackedSVarint:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readSVarint());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readSVarint());return Ue},readPackedBoolean:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readBoolean());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readBoolean());return Ue},readPackedFloat:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readFloat());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readFloat());return Ue},readPackedDouble:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readDouble());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readDouble());return Ue},readPackedFixed32:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readFixed32());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readFixed32());return Ue},readPackedSFixed32:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readSFixed32());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readSFixed32());return Ue},readPackedFixed64:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readFixed64());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readFixed64());return Ue},readPackedSFixed64:function(Ue){if(this.type!==d.Bytes)return Ue.push(this.readSFixed64());var bt=H(this);for(Ue=Ue||[];this.pos<bt;)Ue.push(this.readSFixed64());return Ue},skip:function(Ue){var bt=7&Ue;if(bt===d.Varint)for(;this.buf[this.pos++]>127;);else if(bt===d.Bytes)this.pos=this.readVarint()+this.pos;else if(bt===d.Fixed32)this.pos+=4;else{if(bt!==d.Fixed64)throw new Error("Unimplemented type: "+bt);this.pos+=8}},writeTag:function(Ue,bt){this.writeVarint(Ue<<3|bt)},realloc:function(Ue){for(var bt=this.length||16;bt<this.pos+Ue;)bt*=2;if(bt!==this.length){var Gt=new Uint8Array(bt);Gt.set(this.buf),this.buf=Gt,this.length=bt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ue){this.realloc(4),lr(this.buf,Ue,this.pos),this.pos+=4},writeSFixed32:function(Ue){this.realloc(4),lr(this.buf,Ue,this.pos),this.pos+=4},writeFixed64:function(Ue){this.realloc(8),lr(this.buf,-1&Ue,this.pos),lr(this.buf,Math.floor(Ue*I),this.pos+4),this.pos+=8},writeSFixed64:function(Ue){this.realloc(8),lr(this.buf,-1&Ue,this.pos),lr(this.buf,Math.floor(Ue*I),this.pos+4),this.pos+=8},writeVarint:function(Ue){(Ue=+Ue||0)>268435455||Ue<0?function(bt,Gt){var Ur,mn;if(bt>=0?(Ur=bt%4294967296|0,mn=bt/4294967296|0):(mn=~(-bt/4294967296),4294967295^(Ur=~(-bt%4294967296))?Ur=Ur+1|0:(Ur=0,mn=mn+1|0)),bt>=18446744073709552e3||bt<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Gt.realloc(10),function(Yr,an,On){On.buf[On.pos++]=127&Yr|128,Yr>>>=7,On.buf[On.pos++]=127&Yr|128,Yr>>>=7,On.buf[On.pos++]=127&Yr|128,Yr>>>=7,On.buf[On.pos++]=127&Yr|128,On.buf[On.pos]=127&(Yr>>>=7)}(Ur,0,Gt),function(Yr,an){var On=(7&Yr)<<4;an.buf[an.pos++]|=On|((Yr>>>=3)?128:0),Yr&&(an.buf[an.pos++]=127&Yr|((Yr>>>=7)?128:0),Yr&&(an.buf[an.pos++]=127&Yr|((Yr>>>=7)?128:0),Yr&&(an.buf[an.pos++]=127&Yr|((Yr>>>=7)?128:0),Yr&&(an.buf[an.pos++]=127&Yr|((Yr>>>=7)?128:0),Yr&&(an.buf[an.pos++]=127&Yr)))))}(mn,Gt)}(Ue,this):(this.realloc(4),this.buf[this.pos++]=127&Ue|(Ue>127?128:0),Ue<=127||(this.buf[this.pos++]=127&(Ue>>>=7)|(Ue>127?128:0),Ue<=127||(this.buf[this.pos++]=127&(Ue>>>=7)|(Ue>127?128:0),Ue<=127||(this.buf[this.pos++]=Ue>>>7&127))))},writeSVarint:function(Ue){this.writeVarint(Ue<0?2*-Ue-1:2*Ue)},writeBoolean:function(Ue){this.writeVarint(!!Ue)},writeString:function(Ue){Ue=String(Ue),this.realloc(4*Ue.length),this.pos++;var bt=this.pos;this.pos=function(Ur,mn,Yr){for(var an,On,yn=0;yn<mn.length;yn++){if((an=mn.charCodeAt(yn))>55295&&an<57344){if(!On){an>56319||yn+1===mn.length?(Ur[Yr++]=239,Ur[Yr++]=191,Ur[Yr++]=189):On=an;continue}if(an<56320){Ur[Yr++]=239,Ur[Yr++]=191,Ur[Yr++]=189,On=an;continue}an=On-55296<<10|an-56320|65536,On=null}else On&&(Ur[Yr++]=239,Ur[Yr++]=191,Ur[Yr++]=189,On=null);an<128?Ur[Yr++]=an:(an<2048?Ur[Yr++]=an>>6|192:(an<65536?Ur[Yr++]=an>>12|224:(Ur[Yr++]=an>>18|240,Ur[Yr++]=an>>12&63|128),Ur[Yr++]=an>>6&63|128),Ur[Yr++]=63&an|128)}return Yr}(this.buf,Ue,this.pos);var Gt=this.pos-bt;Gt>=128&&X(bt,Gt,this),this.pos=bt-1,this.writeVarint(Gt),this.pos+=Gt},writeFloat:function(Ue){this.realloc(4),b.write(this.buf,Ue,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ue){this.realloc(8),b.write(this.buf,Ue,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ue){var bt=Ue.length;this.writeVarint(bt),this.realloc(bt);for(var Gt=0;Gt<bt;Gt++)this.buf[this.pos++]=Ue[Gt]},writeRawMessage:function(Ue,bt){this.pos++;var Gt=this.pos;Ue(bt,this);var Ur=this.pos-Gt;Ur>=128&&X(Gt,Ur,this),this.pos=Gt-1,this.writeVarint(Ur),this.pos+=Ur},writeMessage:function(Ue,bt,Gt){this.writeTag(Ue,d.Bytes),this.writeRawMessage(bt,Gt)},writePackedVarint:function(Ue,bt){bt.length&&this.writeMessage(Ue,ae,bt)},writePackedSVarint:function(Ue,bt){bt.length&&this.writeMessage(Ue,ce,bt)},writePackedBoolean:function(Ue,bt){bt.length&&this.writeMessage(Ue,Be,bt)},writePackedFloat:function(Ue,bt){bt.length&&this.writeMessage(Ue,Se,bt)},writePackedDouble:function(Ue,bt){bt.length&&this.writeMessage(Ue,Pe,bt)},writePackedFixed32:function(Ue,bt){bt.length&&this.writeMessage(Ue,He,bt)},writePackedSFixed32:function(Ue,bt){bt.length&&this.writeMessage(Ue,Xe,bt)},writePackedFixed64:function(Ue,bt){bt.length&&this.writeMessage(Ue,st,bt)},writePackedSFixed64:function(Ue,bt){bt.length&&this.writeMessage(Ue,wt,bt)},writeBytesField:function(Ue,bt){this.writeTag(Ue,d.Bytes),this.writeBytes(bt)},writeFixed32Field:function(Ue,bt){this.writeTag(Ue,d.Fixed32),this.writeFixed32(bt)},writeSFixed32Field:function(Ue,bt){this.writeTag(Ue,d.Fixed32),this.writeSFixed32(bt)},writeFixed64Field:function(Ue,bt){this.writeTag(Ue,d.Fixed64),this.writeFixed64(bt)},writeSFixed64Field:function(Ue,bt){this.writeTag(Ue,d.Fixed64),this.writeSFixed64(bt)},writeVarintField:function(Ue,bt){this.writeTag(Ue,d.Varint),this.writeVarint(bt)},writeSVarintField:function(Ue,bt){this.writeTag(Ue,d.Varint),this.writeSVarint(bt)},writeStringField:function(Ue,bt){this.writeTag(Ue,d.Bytes),this.writeString(bt)},writeFloatField:function(Ue,bt){this.writeTag(Ue,d.Fixed32),this.writeFloat(bt)},writeDoubleField:function(Ue,bt){this.writeTag(Ue,d.Fixed64),this.writeDouble(bt)},writeBooleanField:function(Ue,bt){this.writeVarintField(Ue,!!bt)}},T0}var bd=l(o1());const _v=3;function wg(b,d,y){b===1&&y.readMessage(A0,d)}function A0(b,d,y){if(b===3){const{id:I,bitmap:N,width:H,height:G,left:X,top:ae,advance:ce}=y.readMessage(Xb,{});d.push({id:I,bitmap:new zs({width:H+2*_v,height:G+2*_v},N),metrics:{width:H,height:G,left:X,top:ae,advance:ce}})}}function Xb(b,d,y){b===1?d.id=y.readVarint():b===2?d.bitmap=y.readBytes():b===3?d.width=y.readVarint():b===4?d.height=y.readVarint():b===5?d.left=y.readSVarint():b===6?d.top=y.readSVarint():b===7&&(d.advance=y.readVarint())}const Jb=_v;function s1(b){let d=0,y=0;for(const G of b)d+=G.w*G.h,y=Math.max(y,G.w);b.sort((G,X)=>X.h-G.h);const I=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(d/.95)),y),h:1/0}];let N=0,H=0;for(const G of b)for(let X=I.length-1;X>=0;X--){const ae=I[X];if(!(G.w>ae.w||G.h>ae.h)){if(G.x=ae.x,G.y=ae.y,H=Math.max(H,G.y+G.h),N=Math.max(N,G.x+G.w),G.w===ae.w&&G.h===ae.h){const ce=I.pop();X<I.length&&(I[X]=ce)}else G.h===ae.h?(ae.x+=G.w,ae.w-=G.w):G.w===ae.w?(ae.y+=G.h,ae.h-=G.h):(I.push({x:ae.x+G.w,y:ae.y,w:ae.w-G.w,h:G.h}),ae.y+=G.h,ae.h-=G.h);break}}return{w:N,h:H,fill:d/(N*H)||0}}const Nc=1;class Qb{constructor(d,{pixelRatio:y,version:I,stretchX:N,stretchY:H,content:G,textFitWidth:X,textFitHeight:ae}){this.paddedRect=d,this.pixelRatio=y,this.stretchX=N,this.stretchY=H,this.content=G,this.version=I,this.textFitWidth=X,this.textFitHeight=ae}get tl(){return[this.paddedRect.x+Nc,this.paddedRect.y+Nc]}get br(){return[this.paddedRect.x+this.paddedRect.w-Nc,this.paddedRect.y+this.paddedRect.h-Nc]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Nc)/this.pixelRatio,(this.paddedRect.h-2*Nc)/this.pixelRatio]}}class e_{constructor(d,y){const I={},N={};this.haveRenderCallbacks=[];const H=[];this.addImages(d,I,H),this.addImages(y,N,H);const{w:G,h:X}=s1(H),ae=new Ho({width:G||1,height:X||1});for(const ce in d){const Se=d[ce],Pe=I[ce].paddedRect;Ho.copy(Se.data,ae,{x:0,y:0},{x:Pe.x+Nc,y:Pe.y+Nc},Se.data)}for(const ce in y){const Se=y[ce],Pe=N[ce].paddedRect,Be=Pe.x+Nc,He=Pe.y+Nc,Xe=Se.data.width,st=Se.data.height;Ho.copy(Se.data,ae,{x:0,y:0},{x:Be,y:He},Se.data),Ho.copy(Se.data,ae,{x:0,y:st-1},{x:Be,y:He-1},{width:Xe,height:1}),Ho.copy(Se.data,ae,{x:0,y:0},{x:Be,y:He+st},{width:Xe,height:1}),Ho.copy(Se.data,ae,{x:Xe-1,y:0},{x:Be-1,y:He},{width:1,height:st}),Ho.copy(Se.data,ae,{x:0,y:0},{x:Be+Xe,y:He},{width:1,height:st})}this.image=ae,this.iconPositions=I,this.patternPositions=N}addImages(d,y,I){for(const N in d){const H=d[N],G={x:0,y:0,w:H.data.width+2*Nc,h:H.data.height+2*Nc};I.push(G),y[N]=new Qb(G,H),H.hasRenderCallback&&this.haveRenderCallbacks.push(N)}}patchUpdatedImages(d,y){d.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const I in d.updatedImages)this.patchUpdatedImage(this.iconPositions[I],d.getImage(I),y),this.patchUpdatedImage(this.patternPositions[I],d.getImage(I),y)}patchUpdatedImage(d,y,I){if(!d||!y||d.version===y.version)return;d.version=y.version;const[N,H]=d.tl;I.update(y.data,void 0,{x:N,y:H})}}var Np;qn("ImagePosition",Qb),qn("ImageAtlas",e_),s.al=void 0,(Np=s.al||(s.al={}))[Np.none=0]="none",Np[Np.horizontal=1]="horizontal",Np[Np.vertical=2]="vertical",Np[Np.horizontalOnly=3]="horizontalOnly";const xg=-17;class Dm{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(d,y,I){const N=new Dm;return N.scale=d||1,N.fontStack=y,N.verticalAlign=I||"bottom",N}static forImage(d,y){const I=new Dm;return I.imageName=d,I.verticalAlign=y||"bottom",I}}class Sg{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(d,y){const I=new Sg;for(let N=0;N<d.sections.length;N++){const H=d.sections[N];H.image?I.addImageSection(H):I.addTextSection(H,y)}return I}length(){return this.text.length}getSection(d){return this.sections[this.sectionIndex[d]]}getSectionIndex(d){return this.sectionIndex[d]}getCharCode(d){return this.text.charCodeAt(d)}verticalizePunctuation(){this.text=function(d){let y="";for(let I=0;I<d.length;I++){const N=d.charCodeAt(I+1)||null,H=d.charCodeAt(I-1)||null;y+=N&&vu(N)&&!Cy[d[I+1]]||H&&vu(H)&&!Cy[d[I-1]]||!Cy[d[I]]?d[I]:Cy[d[I]]}return y}(this.text)}trim(){let d=0;for(let I=0;I<this.text.length&&O0[this.text.charCodeAt(I)];I++)d++;let y=this.text.length;for(let I=this.text.length-1;I>=0&&I>=d&&O0[this.text.charCodeAt(I)];I--)y--;this.text=this.text.substring(d,y),this.sectionIndex=this.sectionIndex.slice(d,y)}substring(d,y){const I=new Sg;return I.text=this.text.substring(d,y),I.sectionIndex=this.sectionIndex.slice(d,y),I.sections=this.sections,I}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((d,y)=>Math.max(d,this.sections[y].scale),0)}getMaxImageSize(d){let y=0,I=0;for(let N=0;N<this.length();N++){const H=this.getSection(N);if(H.imageName){const G=d[H.imageName];if(!G)continue;const X=G.displaySize;y=Math.max(y,X[0]),I=Math.max(I,X[1])}}return{maxImageWidth:y,maxImageHeight:I}}addTextSection(d,y){this.text+=d.text,this.sections.push(Dm.forText(d.scale,d.fontStack||y,d.verticalAlign));const I=this.sections.length-1;for(let N=0;N<d.text.length;++N)this.sectionIndex.push(I)}addImageSection(d){const y=d.image?d.image.name:"";if(y.length===0)return void dt("Can't add FormattedSection with an empty image.");const I=this.getNextImageSectionCharCode();I?(this.text+=String.fromCharCode(I),this.sections.push(Dm.forImage(y,d.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):dt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function wv(b,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe){const st=Sg.fromFeature(b,N);let wt;Pe===s.al.vertical&&st.verticalizePunctuation();const{processBidirectionalText:Mt,processStyledBidirectionalText:lr}=kf;if(Mt&&st.sections.length===1){wt=[];const bt=Mt(st.toString(),$p(st,ce,H,d,I,He));for(const Gt of bt){const Ur=new Sg;Ur.text=Gt,Ur.sections=st.sections;for(let mn=0;mn<Gt.length;mn++)Ur.sectionIndex.push(0);wt.push(Ur)}}else if(lr){wt=[];const bt=lr(st.text,st.sectionIndex,$p(st,ce,H,d,I,He));for(const Gt of bt){const Ur=new Sg;Ur.text=Gt[0],Ur.sectionIndex=Gt[1],Ur.sections=st.sections,wt.push(Ur)}}else wt=function(bt,Gt){const Ur=[],mn=bt.text;let Yr=0;for(const an of Gt)Ur.push(bt.substring(Yr,an)),Yr=an;return Yr<mn.length&&Ur.push(bt.substring(Yr,mn.length)),Ur}(st,$p(st,ce,H,d,I,He));const qt=[],Ue={positionedLines:qt,text:st.toString(),top:Se[1],bottom:Se[1],left:Se[0],right:Se[0],writingMode:Pe,iconsInText:!1,verticalizable:!1};return function(bt,Gt,Ur,mn,Yr,an,On,yn,Tn,cn,vi,Wi){let zi=0,Ci=0,Va=0,cl=0;const Ku=yn==="right"?1:yn==="left"?0:.5,tf=au/Wi;let Eh=0;for(const fl of Yr){fl.trim();const hc=fl.getMaxScale(),zc={positionedGlyphs:[],lineOffset:0};bt.positionedLines[Eh]=zc;const Bc=zc.positionedGlyphs;let jf=0;if(!fl.length()){Ci+=an,++Eh;continue}const Ch=Py(mn,fl,tf);for(let xd=0;xd<fl.length();xd++){const Zu=fl.getSection(xd),mc=fl.getSectionIndex(xd),gc=fl.getCharCode(xd),Eu=D0(Tn,vi,gc);let Bs;if(Zu.imageName){if(bt.iconsInText=!0,Zu.scale=Zu.scale*tf,Bs=k(Zu,Eu,hc,Ch,mn),!Bs)continue;jf=Math.max(jf,Bs.imageOffset)}else if(Bs=C(Zu,gc,Eu,Ch,Gt,Ur),!Bs)continue;const{rect:Up,metrics:B0,baselineOffset:qp}=Bs;Bc.push({glyph:gc,imageName:Zu.imageName,x:zi,y:Ci+qp+xg,vertical:Eu,scale:Zu.scale,fontStack:Zu.fontStack,sectionIndex:mc,metrics:B0,rect:Up}),Eu?(bt.verticalizable=!0,zi+=(Zu.imageName?B0.advance:au)*Zu.scale+cn):zi+=B0.advance*Zu.scale+cn}Bc.length!==0&&(Va=Math.max(zi-cn,Va),W(Bc,0,Bc.length-1,Ku)),zi=0,zc.lineOffset=Math.max(jf,(hc-1)*au);const pc=an*hc+jf;Ci+=pc,cl=Math.max(pc,cl),++Eh}const{horizontalAlign:wd,verticalAlign:$c}=r_(On);(function(fl,hc,zc,Bc,jf,Ch,pc,xd,Zu){const mc=(hc-zc)*jf;let gc=0;gc=Ch!==pc?-xd*Bc-xg:-Bc*Zu*pc+.5*pc;for(const Eu of fl)for(const Bs of Eu.positionedGlyphs)Bs.x+=mc,Bs.y+=gc})(bt.positionedLines,Ku,wd,$c,Va,cl,an,Ci,Yr.length),bt.top+=-$c*Ci,bt.bottom=bt.top+Ci,bt.left+=-wd*Va,bt.right=bt.left+Va}(Ue,d,y,I,wt,G,X,ae,Pe,ce,Be,Xe),!function(bt){for(const Gt of bt)if(Gt.positionedGlyphs.length!==0)return!1;return!0}(qt)&&Ue}const O0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},l1={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},I0={40:!0};function xv(b,d,y,I,N,H){if(d.imageName){const G=I[d.imageName];return G?G.displaySize[0]*d.scale*au/H+N:0}{const G=y[d.fontStack],X=G&&G[b];return X?X.metrics.advance*d.scale+N:0}}function M0(b,d,y,I){const N=Math.pow(b-d,2);return I?b<d?N/2:2*N:N+Math.abs(y)*y}function k0(b,d,y){let I=0;return b===10&&(I-=1e4),y&&(I+=150),b!==40&&b!==65288||(I+=50),d!==41&&d!==65289||(I+=50),I}function t_(b,d,y,I,N,H){let G=null,X=M0(d,y,N,H);for(const ae of I){const ce=M0(d-ae.x,y,N,H)+ae.badness;ce<=X&&(G=ae,X=ce)}return{index:b,x:d,priorBreak:G,badness:X}}function u1(b){return b?u1(b.priorBreak).concat(b.index):[]}function $p(b,d,y,I,N,H){if(!b)return[];const G=[],X=function(Pe,Be,He,Xe,st,wt){let Mt=0;for(let lr=0;lr<Pe.length();lr++){const qt=Pe.getSection(lr);Mt+=xv(Pe.getCharCode(lr),qt,Xe,st,Be,wt)}return Mt/Math.max(1,Math.ceil(Mt/He))}(b,d,y,I,N,H),ae=b.text.indexOf("​")>=0;let ce=0;for(let Pe=0;Pe<b.length();Pe++){const Be=b.getSection(Pe),He=b.getCharCode(Pe);if(O0[He]||(ce+=xv(He,Be,I,N,d,H)),Pe<b.length()-1){const Xe=!((Se=He)<11904)&&(!!ta["CJK Compatibility Forms"](Se)||!!ta["CJK Compatibility"](Se)||!!ta["CJK Strokes"](Se)||!!ta["CJK Symbols and Punctuation"](Se)||!!ta["Enclosed CJK Letters and Months"](Se)||!!ta["Halfwidth and Fullwidth Forms"](Se)||!!ta["Ideographic Description Characters"](Se)||!!ta["Vertical Forms"](Se)||eu.test(String.fromCodePoint(Se)));(l1[He]||Xe||Be.imageName||Pe!==b.length()-2&&I0[b.getCharCode(Pe+1)])&&G.push(t_(Pe+1,ce,X,G,k0(He,b.getCharCode(Pe+1),Xe&&ae),!1))}}var Se;return u1(t_(b.length(),ce,X,G,0,!0))}function r_(b){let d=.5,y=.5;switch(b){case"right":case"top-right":case"bottom-right":d=1;break;case"left":case"top-left":case"bottom-left":d=0}switch(b){case"bottom":case"bottom-right":case"bottom-left":y=1;break;case"top":case"top-right":case"top-left":y=0}return{horizontalAlign:d,verticalAlign:y}}function Py(b,d,y){const I=d.getMaxScale()*au,{maxImageWidth:N,maxImageHeight:H}=d.getMaxImageSize(b),G=Math.max(I,H*y);return{verticalLineContentWidth:Math.max(I,N*y),horizontalLineContentHeight:G}}function c1(b){switch(b){case"top":return 0;case"center":return .5;default:return 1}}function D0(b,d,y){return!(b===s.al.horizontal||!d&&!Fo(y)||d&&(O0[y]||(I=y,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(I)))));var I}function C(b,d,y,I,N,H){const G=H[b.fontStack],X=function(ce,Se,Pe,Be){if(ce&&ce.rect)return ce;const He=Se[Pe.fontStack],Xe=He&&He[Be];return Xe?{rect:null,metrics:Xe.metrics}:null}(G&&G[d],N,b,d);if(X===null)return null;let ae;if(y)ae=I.verticalLineContentWidth-b.scale*au;else{const ce=c1(b.verticalAlign);ae=(I.horizontalLineContentHeight-b.scale*au)*ce}return{rect:X.rect,metrics:X.metrics,baselineOffset:ae}}function k(b,d,y,I,N){const H=N[b.imageName];if(!H)return null;const G=H.paddedRect,X=H.displaySize,ae={width:X[0],height:X[1],left:Nc,top:-3,advance:d?X[1]:X[0]};let ce;if(d)ce=I.verticalLineContentWidth-X[1]*b.scale;else{const Se=c1(b.verticalAlign);ce=(I.horizontalLineContentHeight-X[1]*b.scale)*Se}return{rect:G,metrics:ae,baselineOffset:ce,imageOffset:(d?X[0]:X[1])*b.scale-au*y}}function W(b,d,y,I){if(I===0)return;const N=b[y],H=(b[y].x+N.metrics.advance*N.scale)*I;for(let G=d;G<=y;G++)b[G].x-=H}function ee(b,d,y){const{horizontalAlign:I,verticalAlign:N}=r_(y),H=d[0]-b.displaySize[0]*I,G=d[1]-b.displaySize[1]*N;return{image:b,top:G,bottom:G+b.displaySize[1],left:H,right:H+b.displaySize[0]}}function me(b){var d,y;let I=b.left,N=b.top,H=b.right-I,G=b.bottom-N;const X=(d=b.image.textFitWidth)!==null&&d!==void 0?d:"stretchOrShrink",ae=(y=b.image.textFitHeight)!==null&&y!==void 0?y:"stretchOrShrink",ce=(b.image.content[2]-b.image.content[0])/(b.image.content[3]-b.image.content[1]);if(ae==="proportional"){if(X==="stretchOnly"&&H/G<ce||X==="proportional"){const Se=Math.ceil(G*ce);I*=Se/H,H=Se}}else if(X==="proportional"&&ae==="stretchOnly"&&ce!==0&&H/G>ce){const Se=Math.ceil(H/ce);N*=Se/G,G=Se}return{x1:I,y1:N,x2:I+H,y2:N+G}}function Te(b,d,y,I,N,H){const G=b.image;let X;if(G.content){const wt=G.content,Mt=G.pixelRatio||1;X=[wt[0]/Mt,wt[1]/Mt,G.displaySize[0]-wt[2]/Mt,G.displaySize[1]-wt[3]/Mt]}const ae=d.left*H,ce=d.right*H;let Se,Pe,Be,He;y==="width"||y==="both"?(He=N[0]+ae-I[3],Pe=N[0]+ce+I[1]):(He=N[0]+(ae+ce-G.displaySize[0])/2,Pe=He+G.displaySize[0]);const Xe=d.top*H,st=d.bottom*H;return y==="height"||y==="both"?(Se=N[1]+Xe-I[0],Be=N[1]+st+I[2]):(Se=N[1]+(Xe+st-G.displaySize[1])/2,Be=Se+G.displaySize[1]),{image:G,top:Se,right:Pe,bottom:Be,left:He,collisionPadding:X}}const lt=255,Ut=128,cr=lt*Ut;function tn(b,d){const{expression:y}=d;if(y.kind==="constant")return{kind:"constant",layoutSize:y.evaluate(new Ro(b+1))};if(y.kind==="source")return{kind:"source"};{const{zoomStops:I,interpolationType:N}=y;let H=0;for(;H<I.length&&I[H]<=b;)H++;H=Math.max(0,H-1);let G=H;for(;G<I.length&&I[G]<b+1;)G++;G=Math.min(I.length-1,G);const X=I[H],ae=I[G];return y.kind==="composite"?{kind:"composite",minZoom:X,maxZoom:ae,interpolationType:N}:{kind:"camera",minZoom:X,maxZoom:ae,minSize:y.evaluate(new Ro(X)),maxSize:y.evaluate(new Ro(ae)),interpolationType:N}}}function Mn(b,d,y){let I="never";const N=b.get(d);return N?I=N:b.get(y)&&(I="always"),I}const jn=oa.VectorTileFeature.types,kn=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function gi(b,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be){const He=X?Math.min(cr,Math.round(X[0])):0,Xe=X?Math.min(cr,Math.round(X[1])):0;b.emplaceBack(d,y,Math.round(32*I),Math.round(32*N),H,G,(He<<1)+(ae?1:0),Xe,16*ce,16*Se,256*Pe,256*Be)}function Oi(b,d,y){b.emplaceBack(d.x,d.y,y),b.emplaceBack(d.x,d.y,y),b.emplaceBack(d.x,d.y,y),b.emplaceBack(d.x,d.y,y)}function Li(b){for(const d of b.sections)if(sc(d.text))return!0;return!1}class xl{constructor(d){this.layoutVertexArray=new Ao,this.indexArray=new Aa,this.programConfigurations=d,this.segments=new Fa,this.dynamicLayoutVertexArray=new ho,this.opacityVertexArray=new es,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ht}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(d,y,I,N){this.isEmpty()||(I&&(this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,tE.members),this.indexBuffer=d.createIndexBuffer(this.indexArray,y),this.dynamicLayoutVertexBuffer=d.createVertexBuffer(this.dynamicLayoutVertexArray,bv.members,!0),this.opacityVertexBuffer=d.createVertexBuffer(this.opacityVertexArray,kn,!0),this.opacityVertexBuffer.itemSize=1),(I||N)&&this.programConfigurations.upload(d))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}qn("SymbolBuffers",xl);class jr{constructor(d,y,I){this.layoutVertexArray=new d,this.layoutAttributes=y,this.indexArray=new I,this.segments=new Fa,this.collisionVertexArray=new Da}upload(d){this.layoutVertexBuffer=d.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=d.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=d.createVertexBuffer(this.collisionVertexArray,P0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}qn("CollisionBuffers",jr);class yr{constructor(d){this.collisionBoxArray=d.collisionBoxArray,this.zoom=d.zoom,this.overscaling=d.overscaling,this.layers=d.layers,this.layerIds=this.layers.map(G=>G.id),this.index=d.index,this.pixelRatio=d.pixelRatio,this.sourceLayerIndex=d.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const y=this.layers[0]._unevaluatedLayout._values;this.textSizeData=tn(this.zoom,y["text-size"]),this.iconSizeData=tn(this.zoom,y["icon-size"]);const I=this.layers[0].layout,N=I.get("symbol-sort-key"),H=I.get("symbol-z-order");this.canOverlap=Mn(I,"text-overlap","text-allow-overlap")!=="never"||Mn(I,"icon-overlap","icon-allow-overlap")!=="never"||I.get("text-ignore-placement")||I.get("icon-ignore-placement"),this.sortFeaturesByKey=H!=="viewport-y"&&!N.isConstant(),this.sortFeaturesByY=(H==="viewport-y"||H==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,I.get("symbol-placement")==="point"&&(this.writingModes=I.get("text-writing-mode").map(G=>s.al[G])),this.stateDependentLayerIds=this.layers.filter(G=>G.isStateDependent()).map(G=>G.id),this.sourceID=d.sourceID}createArrays(){this.text=new xl(new K(this.layers,this.zoom,d=>/^text/.test(d))),this.icon=new xl(new K(this.layers,this.zoom,d=>/^icon/.test(d))),this.glyphOffsetArray=new tr,this.lineVertexArray=new nr,this.symbolInstances=new Wt,this.textAnchorOffsets=new Qr}calculateGlyphDependencies(d,y,I,N,H){for(let G=0;G<d.length;G++)if(y[d.charCodeAt(G)]=!0,(I||N)&&H){const X=Cy[d.charAt(G)];X&&(y[X.charCodeAt(0)]=!0)}}populate(d,y,I){const N=this.layers[0],H=N.layout,G=H.get("text-font"),X=H.get("text-field"),ae=H.get("icon-image"),ce=(X.value.kind!=="constant"||X.value.value instanceof Ma&&!X.value.value.isEmpty()||X.value.value.toString().length>0)&&(G.value.kind!=="constant"||G.value.value.length>0),Se=ae.value.kind!=="constant"||!!ae.value.value||Object.keys(ae.parameters).length>0,Pe=H.get("symbol-sort-key");if(this.features=[],!ce&&!Se)return;const Be=y.iconDependencies,He=y.glyphDependencies,Xe=y.availableImages,st=new Ro(this.zoom);for(const{feature:wt,id:Mt,index:lr,sourceLayerIndex:qt}of d){const Ue=N._featureFilter.needGeometry,bt=Ne(wt,Ue);if(!N._featureFilter.filter(st,bt,I))continue;let Gt,Ur;if(Ue||(bt.geometry=Oe(wt)),ce){const Yr=N.getValueAndResolveTokens("text-field",bt,I,Xe),an=Ma.factory(Yr),On=this.hasRTLText=this.hasRTLText||Li(an);(!On||kf.getRTLTextPluginStatus()==="unavailable"||On&&kf.isParsed())&&(Gt=i1(an,N,bt))}if(Se){const Yr=N.getValueAndResolveTokens("icon-image",bt,I,Xe);Ur=Yr instanceof ms?Yr:ms.fromString(Yr)}if(!Gt&&!Ur)continue;const mn=this.sortFeaturesByKey?Pe.evaluate(bt,{},I):void 0;if(this.features.push({id:Mt,text:Gt,icon:Ur,index:lr,sourceLayerIndex:qt,geometry:bt.geometry,properties:wt.properties,type:jn[wt.type],sortKey:mn}),Ur&&(Be[Ur.name]=!0),Gt){const Yr=G.evaluate(bt,{},I).join(","),an=H.get("text-rotation-alignment")!=="viewport"&&H.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(s.al.vertical)>=0;for(const On of Gt.sections)if(On.image)Be[On.image.name]=!0;else{const yn=Of(Gt.toString()),Tn=On.fontStack||Yr,cn=He[Tn]=He[Tn]||{};this.calculateGlyphDependencies(On.text,cn,an,this.allowVerticalPlacement,yn)}}}H.get("symbol-placement")==="line"&&(this.features=function(wt){const Mt={},lr={},qt=[];let Ue=0;function bt(Yr){qt.push(wt[Yr]),Ue++}function Gt(Yr,an,On){const yn=lr[Yr];return delete lr[Yr],lr[an]=yn,qt[yn].geometry[0].pop(),qt[yn].geometry[0]=qt[yn].geometry[0].concat(On[0]),yn}function Ur(Yr,an,On){const yn=Mt[an];return delete Mt[an],Mt[Yr]=yn,qt[yn].geometry[0].shift(),qt[yn].geometry[0]=On[0].concat(qt[yn].geometry[0]),yn}function mn(Yr,an,On){const yn=On?an[0][an[0].length-1]:an[0][0];return`${Yr}:${yn.x}:${yn.y}`}for(let Yr=0;Yr<wt.length;Yr++){const an=wt[Yr],On=an.geometry,yn=an.text?an.text.toString():null;if(!yn){bt(Yr);continue}const Tn=mn(yn,On),cn=mn(yn,On,!0);if(Tn in lr&&cn in Mt&&lr[Tn]!==Mt[cn]){const vi=Ur(Tn,cn,On),Wi=Gt(Tn,cn,qt[vi].geometry);delete Mt[Tn],delete lr[cn],lr[mn(yn,qt[Wi].geometry,!0)]=Wi,qt[vi].geometry=null}else Tn in lr?Gt(Tn,cn,On):cn in Mt?Ur(Tn,cn,On):(bt(Yr),Mt[Tn]=Ue-1,lr[cn]=Ue-1)}return qt.filter(Yr=>Yr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((wt,Mt)=>wt.sortKey-Mt.sortKey)}update(d,y,I){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(d,y,this.layers,I),this.icon.programConfigurations.updatePaintArrays(d,y,this.layers,I))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(d){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(d),this.iconCollisionBox.upload(d)),this.text.upload(d,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(d,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(d,y){const I=this.lineVertexArray.length;if(d.segment!==void 0){let N=d.dist(y[d.segment+1]),H=d.dist(y[d.segment]);const G={};for(let X=d.segment+1;X<y.length;X++)G[X]={x:y[X].x,y:y[X].y,tileUnitDistanceFromAnchor:N},X<y.length-1&&(N+=y[X+1].dist(y[X]));for(let X=d.segment||0;X>=0;X--)G[X]={x:y[X].x,y:y[X].y,tileUnitDistanceFromAnchor:H},X>0&&(H+=y[X-1].dist(y[X]));for(let X=0;X<y.length;X++){const ae=G[X];this.lineVertexArray.emplaceBack(ae.x,ae.y,ae.tileUnitDistanceFromAnchor)}}return{lineStartIndex:I,lineLength:this.lineVertexArray.length-I}}addSymbols(d,y,I,N,H,G,X,ae,ce,Se,Pe,Be){const He=d.indexArray,Xe=d.layoutVertexArray,st=d.segments.prepareSegment(4*y.length,Xe,He,this.canOverlap?G.sortKey:void 0),wt=this.glyphOffsetArray.length,Mt=st.vertexLength,lr=this.allowVerticalPlacement&&X===s.al.vertical?Math.PI/2:0,qt=G.text&&G.text.sections;for(let Ue=0;Ue<y.length;Ue++){const{tl:bt,tr:Gt,bl:Ur,br:mn,tex:Yr,pixelOffsetTL:an,pixelOffsetBR:On,minFontScaleX:yn,minFontScaleY:Tn,glyphOffset:cn,isSDF:vi,sectionIndex:Wi}=y[Ue],zi=st.vertexLength,Ci=cn[1];gi(Xe,ae.x,ae.y,bt.x,Ci+bt.y,Yr.x,Yr.y,I,vi,an.x,an.y,yn,Tn),gi(Xe,ae.x,ae.y,Gt.x,Ci+Gt.y,Yr.x+Yr.w,Yr.y,I,vi,On.x,an.y,yn,Tn),gi(Xe,ae.x,ae.y,Ur.x,Ci+Ur.y,Yr.x,Yr.y+Yr.h,I,vi,an.x,On.y,yn,Tn),gi(Xe,ae.x,ae.y,mn.x,Ci+mn.y,Yr.x+Yr.w,Yr.y+Yr.h,I,vi,On.x,On.y,yn,Tn),Oi(d.dynamicLayoutVertexArray,ae,lr),He.emplaceBack(zi,zi+2,zi+1),He.emplaceBack(zi+1,zi+2,zi+3),st.vertexLength+=4,st.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(cn[0]),Ue!==y.length-1&&Wi===y[Ue+1].sectionIndex||d.programConfigurations.populatePaintArrays(Xe.length,G,G.index,{},Be,qt&&qt[Wi])}d.placedSymbolArray.emplaceBack(ae.x,ae.y,wt,this.glyphOffsetArray.length-wt,Mt,ce,Se,ae.segment,I?I[0]:0,I?I[1]:0,N[0],N[1],X,0,!1,0,Pe)}_addCollisionDebugVertex(d,y,I,N,H,G){return y.emplaceBack(0,0),d.emplaceBack(I.x,I.y,N,H,Math.round(G.x),Math.round(G.y))}addCollisionDebugVertices(d,y,I,N,H,G,X){const ae=H.segments.prepareSegment(4,H.layoutVertexArray,H.indexArray),ce=ae.vertexLength,Se=H.layoutVertexArray,Pe=H.collisionVertexArray,Be=X.anchorX,He=X.anchorY;this._addCollisionDebugVertex(Se,Pe,G,Be,He,new v(d,y)),this._addCollisionDebugVertex(Se,Pe,G,Be,He,new v(I,y)),this._addCollisionDebugVertex(Se,Pe,G,Be,He,new v(I,N)),this._addCollisionDebugVertex(Se,Pe,G,Be,He,new v(d,N)),ae.vertexLength+=4;const Xe=H.indexArray;Xe.emplaceBack(ce,ce+1),Xe.emplaceBack(ce+1,ce+2),Xe.emplaceBack(ce+2,ce+3),Xe.emplaceBack(ce+3,ce),ae.primitiveLength+=4}addDebugCollisionBoxes(d,y,I,N){for(let H=d;H<y;H++){const G=this.collisionBoxArray.get(H);this.addCollisionDebugVertices(G.x1,G.y1,G.x2,G.y2,N?this.textCollisionBox:this.iconCollisionBox,G.anchorPoint,I)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new jr(cs,ul.members,Is),this.iconCollisionBox=new jr(cs,ul.members,Is);for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.addDebugCollisionBoxes(y.textBoxStartIndex,y.textBoxEndIndex,y,!0),this.addDebugCollisionBoxes(y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y,!0),this.addDebugCollisionBoxes(y.iconBoxStartIndex,y.iconBoxEndIndex,y,!1),this.addDebugCollisionBoxes(y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex,y,!1)}}_deserializeCollisionBoxesForSymbol(d,y,I,N,H,G,X,ae,ce){const Se={};for(let Pe=y;Pe<I;Pe++){const Be=d.get(Pe);Se.textBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Se.textFeatureIndex=Be.featureIndex;break}for(let Pe=N;Pe<H;Pe++){const Be=d.get(Pe);Se.verticalTextBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Se.verticalTextFeatureIndex=Be.featureIndex;break}for(let Pe=G;Pe<X;Pe++){const Be=d.get(Pe);Se.iconBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Se.iconFeatureIndex=Be.featureIndex;break}for(let Pe=ae;Pe<ce;Pe++){const Be=d.get(Pe);Se.verticalIconBox={x1:Be.x1,y1:Be.y1,x2:Be.x2,y2:Be.y2,anchorPointX:Be.anchorPointX,anchorPointY:Be.anchorPointY},Se.verticalIconFeatureIndex=Be.featureIndex;break}return Se}deserializeCollisionBoxes(d){this.collisionArrays=[];for(let y=0;y<this.symbolInstances.length;y++){const I=this.symbolInstances.get(y);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(d,I.textBoxStartIndex,I.textBoxEndIndex,I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I.iconBoxStartIndex,I.iconBoxEndIndex,I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(d,y){const I=d.placedSymbolArray.get(y),N=I.vertexStartIndex+4*I.numGlyphs;for(let H=I.vertexStartIndex;H<N;H+=4)d.indexArray.emplaceBack(H,H+2,H+1),d.indexArray.emplaceBack(H+1,H+2,H+3)}getSortedSymbolIndexes(d){if(this.sortedAngle===d&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const y=Math.sin(d),I=Math.cos(d),N=[],H=[],G=[];for(let X=0;X<this.symbolInstances.length;++X){G.push(X);const ae=this.symbolInstances.get(X);N.push(0|Math.round(y*ae.anchorX+I*ae.anchorY)),H.push(ae.featureIndex)}return G.sort((X,ae)=>N[X]-N[ae]||H[ae]-H[X]),G}addToSortKeyRanges(d,y){const I=this.sortKeyRanges[this.sortKeyRanges.length-1];I&&I.sortKey===y?I.symbolInstanceEnd=d+1:this.sortKeyRanges.push({sortKey:y,symbolInstanceStart:d,symbolInstanceEnd:d+1})}sortFeatures(d){if(this.sortFeaturesByY&&this.sortedAngle!==d&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(d),this.sortedAngle=d,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const y of this.symbolInstanceIndexes){const I=this.symbolInstances.get(y);this.featureSortOrder.push(I.featureIndex),[I.rightJustifiedTextSymbolIndex,I.centerJustifiedTextSymbolIndex,I.leftJustifiedTextSymbolIndex].forEach((N,H,G)=>{N>=0&&G.indexOf(N)===H&&this.addIndicesForPlacedSymbol(this.text,N)}),I.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,I.verticalPlacedTextSymbolIndex),I.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.placedIconSymbolIndex),I.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Hr,Vn;qn("SymbolBucket",yr,{omit:["layers","collisionBoxArray","features","compareText"]}),yr.MAX_GLYPHS=65535,yr.addDynamicAttributes=Oi;var Ni={get paint(){return Vn=Vn||new ys({"icon-opacity":new Di(at.paint_symbol["icon-opacity"]),"icon-color":new Di(at.paint_symbol["icon-color"]),"icon-halo-color":new Di(at.paint_symbol["icon-halo-color"]),"icon-halo-width":new Di(at.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Di(at.paint_symbol["icon-halo-blur"]),"icon-translate":new Gn(at.paint_symbol["icon-translate"]),"icon-translate-anchor":new Gn(at.paint_symbol["icon-translate-anchor"]),"text-opacity":new Di(at.paint_symbol["text-opacity"]),"text-color":new Di(at.paint_symbol["text-color"],{runtimeType:Fn,getOverride:b=>b.textColor,hasOverride:b=>!!b.textColor}),"text-halo-color":new Di(at.paint_symbol["text-halo-color"]),"text-halo-width":new Di(at.paint_symbol["text-halo-width"]),"text-halo-blur":new Di(at.paint_symbol["text-halo-blur"]),"text-translate":new Gn(at.paint_symbol["text-translate"]),"text-translate-anchor":new Gn(at.paint_symbol["text-translate-anchor"])})},get layout(){return Hr=Hr||new ys({"symbol-placement":new Gn(at.layout_symbol["symbol-placement"]),"symbol-spacing":new Gn(at.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Gn(at.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Di(at.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Gn(at.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Gn(at.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Gn(at.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Gn(at.layout_symbol["icon-ignore-placement"]),"icon-optional":new Gn(at.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Gn(at.layout_symbol["icon-rotation-alignment"]),"icon-size":new Di(at.layout_symbol["icon-size"]),"icon-text-fit":new Gn(at.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Gn(at.layout_symbol["icon-text-fit-padding"]),"icon-image":new Di(at.layout_symbol["icon-image"]),"icon-rotate":new Di(at.layout_symbol["icon-rotate"]),"icon-padding":new Di(at.layout_symbol["icon-padding"]),"icon-keep-upright":new Gn(at.layout_symbol["icon-keep-upright"]),"icon-offset":new Di(at.layout_symbol["icon-offset"]),"icon-anchor":new Di(at.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Gn(at.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Gn(at.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Gn(at.layout_symbol["text-rotation-alignment"]),"text-field":new Di(at.layout_symbol["text-field"]),"text-font":new Di(at.layout_symbol["text-font"]),"text-size":new Di(at.layout_symbol["text-size"]),"text-max-width":new Di(at.layout_symbol["text-max-width"]),"text-line-height":new Gn(at.layout_symbol["text-line-height"]),"text-letter-spacing":new Di(at.layout_symbol["text-letter-spacing"]),"text-justify":new Di(at.layout_symbol["text-justify"]),"text-radial-offset":new Di(at.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Gn(at.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Di(at.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Di(at.layout_symbol["text-anchor"]),"text-max-angle":new Gn(at.layout_symbol["text-max-angle"]),"text-writing-mode":new Gn(at.layout_symbol["text-writing-mode"]),"text-rotate":new Di(at.layout_symbol["text-rotate"]),"text-padding":new Gn(at.layout_symbol["text-padding"]),"text-keep-upright":new Gn(at.layout_symbol["text-keep-upright"]),"text-transform":new Di(at.layout_symbol["text-transform"]),"text-offset":new Di(at.layout_symbol["text-offset"]),"text-allow-overlap":new Gn(at.layout_symbol["text-allow-overlap"]),"text-overlap":new Gn(at.layout_symbol["text-overlap"]),"text-ignore-placement":new Gn(at.layout_symbol["text-ignore-placement"]),"text-optional":new Gn(at.layout_symbol["text-optional"])})}};class na{constructor(d){if(d.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=d.property.overrides?d.property.overrides.runtimeType:vr,this.defaultValue=d}evaluate(d){if(d.formattedSection){const y=this.defaultValue.property.overrides;if(y&&y.hasOverride(d.formattedSection))return y.getOverride(d.formattedSection)}return d.feature&&d.featureState?this.defaultValue.evaluate(d.feature,d.featureState):this.defaultValue.property.specification.default}eachChild(d){this.defaultValue.isConstant()||d(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}qn("FormatSectionOverride",na,{omit:["defaultValue"]});class Ki extends $u{constructor(d){super(d,Ni)}recalculate(d,y){if(super.recalculate(d,y),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const I=this.layout.get("text-writing-mode");if(I){const N=[];for(const H of I)N.indexOf(H)<0&&N.push(H);this.layout._values["text-writing-mode"]=N}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(d,y,I,N){const H=this.layout.get(d).evaluate(y,{},I,N),G=this._unevaluatedLayout._values[d];return G.isDataDriven()||of(G.value)||!H?H:function(X,ae){return ae.replace(/{([^{}]+)}/g,(ce,Se)=>X&&Se in X?String(X[Se]):"")}(y.properties,H)}createBucket(d){return new yr(d)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const d of Ni.paint.overridableProperties){if(!Ki.hasPaintOverride(this.layout,d))continue;const y=this.paint.get(d),I=new na(y),N=new Yh(I,y.property.specification);let H=null;H=y.value.kind==="constant"||y.value.kind==="source"?new Xh("source",N):new Jh("composite",N,y.value.zoomStops),this.paint._values[d]=new Nl(y.property,H,y.parameters)}}_handleOverridablePaintPropertyUpdate(d,y,I){return!(!this.layout||y.isDataDriven()||I.isDataDriven())&&Ki.hasPaintOverride(this.layout,d)}static hasPaintOverride(d,y){const I=d.get("text-field"),N=Ni.paint.properties[y];let H=!1;const G=X=>{for(const ae of X)if(N.overrides&&N.overrides.hasOverride(ae))return void(H=!0)};if(I.value.kind==="constant"&&I.value.value instanceof Ma)G(I.value.value.sections);else if(I.value.kind==="source"){const X=ce=>{H||(ce instanceof pr&&Ar(ce.value)===ya?G(ce.value.sections):ce instanceof Pa?G(ce.sections):ce.eachChild(X))},ae=I.value;ae._styleExpression&&X(ae._styleExpression.expression)}return H}}let da;var fc={get paint(){return da=da||new ys({"background-color":new Gn(at.paint_background["background-color"]),"background-pattern":new yu(at.paint_background["background-pattern"]),"background-opacity":new Gn(at.paint_background["background-opacity"])})}};class Vo extends $u{constructor(d){super(d,fc)}}let zp;var nE={get paint(){return zp=zp||new ys({"raster-opacity":new Gn(at.paint_raster["raster-opacity"]),"raster-hue-rotate":new Gn(at.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Gn(at.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Gn(at.paint_raster["raster-brightness-max"]),"raster-saturation":new Gn(at.paint_raster["raster-saturation"]),"raster-contrast":new Gn(at.paint_raster["raster-contrast"]),"raster-resampling":new Gn(at.paint_raster["raster-resampling"]),"raster-fade-duration":new Gn(at.paint_raster["raster-fade-duration"])})}};class vD extends $u{constructor(d){super(d,nE)}}class yD extends $u{constructor(d){super(d,{}),this.onAdd=y=>{this.implementation.onAdd&&this.implementation.onAdd(y,y.painter.context.gl)},this.onRemove=y=>{this.implementation.onRemove&&this.implementation.onRemove(y,y.painter.context.gl)},this.implementation=d}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class bD{constructor(d){this._methodToThrottle=d,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const _D={once:!0},iE=63710088e-1;class Sv{constructor(d,y){if(isNaN(d)||isNaN(y))throw new Error(`Invalid LngLat object: (${d}, ${y})`);if(this.lng=+d,this.lat=+y,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Sv(ct(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(d){const y=Math.PI/180,I=this.lat*y,N=d.lat*y,H=Math.sin(I)*Math.sin(N)+Math.cos(I)*Math.cos(N)*Math.cos((d.lng-this.lng)*y);return iE*Math.acos(Math.min(H,1))}static convert(d){if(d instanceof Sv)return d;if(Array.isArray(d)&&(d.length===2||d.length===3))return new Sv(Number(d[0]),Number(d[1]));if(!Array.isArray(d)&&typeof d=="object"&&d!==null)return new Sv(Number("lng"in d?d.lng:d.lon),Number(d.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const OT=2*Math.PI*iE;function IT(b){return OT*Math.cos(b*Math.PI/180)}function op(b){return(180+b)/360}function MT(b){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+b*Math.PI/360)))/360}function kT(b,d){return b/IT(d)}function Eg(b){return 360/Math.PI*Math.atan(Math.exp((180-360*b)*Math.PI/180))-90}function za(b,d){return b*IT(Eg(d))}class n_{constructor(d,y,I=0){this.x=+d,this.y=+y,this.z=+I}static fromLngLat(d,y=0){const I=Sv.convert(d);return new n_(op(I.lng),MT(I.lat),kT(y,I.lat))}toLngLat(){return new Sv(360*this.x-180,Eg(this.y))}toAltitude(){return za(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/OT*(d=Eg(this.y),1/Math.cos(d*Math.PI/180));var d}}function _d(b,d,y){var I=2*Math.PI*6378137/256/Math.pow(2,y);return[b*I-2*Math.PI*6378137/2,d*I-2*Math.PI*6378137/2]}class ou{constructor(d,y,I){if(!function(N,H,G){return!(N<0||N>25||G<0||G>=Math.pow(2,N)||H<0||H>=Math.pow(2,N))}(d,y,I))throw new Error(`x=${y}, y=${I}, z=${d} outside of bounds. 0<=x<${Math.pow(2,d)}, 0<=y<${Math.pow(2,d)} 0<=z<=25 `);this.z=d,this.x=y,this.y=I,this.key=F0(0,d,d,y,I)}equals(d){return this.z===d.z&&this.x===d.x&&this.y===d.y}url(d,y,I){const N=(G=this.y,X=this.z,ae=_d(256*(H=this.x),256*(G=Math.pow(2,X)-G-1),X),ce=_d(256*(H+1),256*(G+1),X),ae[0]+","+ae[1]+","+ce[0]+","+ce[1]);var H,G,X,ae,ce;const Se=function(Pe,Be,He){let Xe,st="";for(let wt=Pe;wt>0;wt--)Xe=1<<wt-1,st+=(Be&Xe?1:0)+(He&Xe?2:0);return st}(this.z,this.x,this.y);return d[(this.x+this.y)%d.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(I==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,y>1?"@2x":"").replace(/{quadkey}/g,Se).replace(/{bbox-epsg-3857}/g,N)}isChildOf(d){const y=this.z-d.z;return y>0&&d.x===this.x>>y&&d.y===this.y>>y}getTilePoint(d){const y=Math.pow(2,this.z);return new v((d.x*y-this.x)*pe,(d.y*y-this.y)*pe)}toString(){return`${this.z}/${this.x}/${this.y}`}}class DT{constructor(d,y){this.wrap=d,this.canonical=y,this.key=F0(d,y.z,y.z,y.x,y.y)}}class dc{constructor(d,y,I,N,H){if(this.terrainRttPosMatrix32f=null,d<I)throw new Error(`overscaledZ should be >= z; overscaledZ = ${d}; z = ${I}`);this.overscaledZ=d,this.wrap=y,this.canonical=new ou(I,+N,+H),this.key=F0(y,d,I,N,H)}clone(){return new dc(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(d){return this.overscaledZ===d.overscaledZ&&this.wrap===d.wrap&&this.canonical.equals(d.canonical)}scaledTo(d){if(d>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${d}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-d;return d>this.canonical.z?new dc(d,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new dc(d,this.wrap,d,this.canonical.x>>y,this.canonical.y>>y)}calculateScaledKey(d,y){if(d>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${d}; overscaledZ = ${this.overscaledZ}`);const I=this.canonical.z-d;return d>this.canonical.z?F0(this.wrap*+y,d,this.canonical.z,this.canonical.x,this.canonical.y):F0(this.wrap*+y,d,d,this.canonical.x>>I,this.canonical.y>>I)}isChildOf(d){if(d.wrap!==this.wrap)return!1;const y=this.canonical.z-d.canonical.z;return d.overscaledZ===0||d.overscaledZ<this.overscaledZ&&d.canonical.x===this.canonical.x>>y&&d.canonical.y===this.canonical.y>>y}children(d){if(this.overscaledZ>=d)return[new dc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const y=this.canonical.z+1,I=2*this.canonical.x,N=2*this.canonical.y;return[new dc(y,this.wrap,y,I,N),new dc(y,this.wrap,y,I+1,N),new dc(y,this.wrap,y,I,N+1),new dc(y,this.wrap,y,I+1,N+1)]}isLessThan(d){return this.wrap<d.wrap||!(this.wrap>d.wrap)&&(this.overscaledZ<d.overscaledZ||!(this.overscaledZ>d.overscaledZ)&&(this.canonical.x<d.canonical.x||!(this.canonical.x>d.canonical.x)&&this.canonical.y<d.canonical.y))}wrapped(){return new dc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(d){return new dc(this.overscaledZ,d,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new DT(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(d){return this.canonical.getTilePoint(new n_(d.x-this.wrap,d.y))}}function F0(b,d,y,I,N){(b*=2)<0&&(b=-1*b-1);const H=1<<y;return(H*H*b+H*N+I).toString(36)+y.toString(36)+d.toString(36)}qn("CanonicalTileID",ou),qn("OverscaledTileID",dc,{omit:["terrainRttPosMatrix32f"]});class FT{constructor(d,y,I,N=1,H=1,G=1,X=0){if(this.uid=d,y.height!==y.width)throw new RangeError("DEM tiles must be square");if(I&&!["mapbox","terrarium","custom"].includes(I))return void dt(`"${I}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=y.height;const ae=this.dim=y.height-2;switch(this.data=new Uint32Array(y.data.buffer),I){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=N,this.greenFactor=H,this.blueFactor=G,this.baseShift=X;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ce=0;ce<ae;ce++)this.data[this._idx(-1,ce)]=this.data[this._idx(0,ce)],this.data[this._idx(ae,ce)]=this.data[this._idx(ae-1,ce)],this.data[this._idx(ce,-1)]=this.data[this._idx(ce,0)],this.data[this._idx(ce,ae)]=this.data[this._idx(ce,ae-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ae,-1)]=this.data[this._idx(ae-1,0)],this.data[this._idx(-1,ae)]=this.data[this._idx(0,ae-1)],this.data[this._idx(ae,ae)]=this.data[this._idx(ae-1,ae-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ce=0;ce<ae;ce++)for(let Se=0;Se<ae;Se++){const Pe=this.get(ce,Se);Pe>this.max&&(this.max=Pe),Pe<this.min&&(this.min=Pe)}}get(d,y){const I=new Uint8Array(this.data.buffer),N=4*this._idx(d,y);return this.unpack(I[N],I[N+1],I[N+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(d,y){if(d<-1||d>=this.dim+1||y<-1||y>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(y+1)*this.stride+(d+1)}unpack(d,y,I){return d*this.redFactor+y*this.greenFactor+I*this.blueFactor-this.baseShift}getPixels(){return new Ho({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(d,y,I){if(this.dim!==d.dim)throw new Error("dem dimension mismatch");let N=y*this.dim,H=y*this.dim+this.dim,G=I*this.dim,X=I*this.dim+this.dim;switch(y){case-1:N=H-1;break;case 1:H=N+1}switch(I){case-1:G=X-1;break;case 1:X=G+1}const ae=-y*this.dim,ce=-I*this.dim;for(let Se=G;Se<X;Se++)for(let Pe=N;Pe<H;Pe++)this.data[this._idx(Pe,Se)]=d.data[this._idx(Pe+ae,Se+ce)]}}qn("DEMData",FT);class LT{constructor(d){this._stringToNumber={},this._numberToString=[];for(let y=0;y<d.length;y++){const I=d[y];this._stringToNumber[I]=y,this._numberToString[y]=I}}encode(d){return this._stringToNumber[d]}decode(d){if(d>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${d} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[d]}}class NT{constructor(d,y,I,N,H){this.type="Feature",this._vectorTileFeature=d,d._z=y,d._x=I,d._y=N,this.properties=d.properties,this.id=H}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(d){this._geometry=d}toJSON(){const d={geometry:this.geometry};for(const y in this)y!=="_geometry"&&y!=="_vectorTileFeature"&&(d[y]=this[y]);return d}}class $T{constructor(d,y){this.tileID=d,this.x=d.canonical.x,this.y=d.canonical.y,this.z=d.canonical.z,this.grid=new mu(pe,16,0),this.grid3D=new mu(pe,16,0),this.featureIndexArray=new $r,this.promoteId=y}insert(d,y,I,N,H,G){const X=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(I,N,H);const ae=G?this.grid3D:this.grid;for(let ce=0;ce<y.length;ce++){const Se=y[ce],Pe=[1/0,1/0,-1/0,-1/0];for(let Be=0;Be<Se.length;Be++){const He=Se[Be];Pe[0]=Math.min(Pe[0],He.x),Pe[1]=Math.min(Pe[1],He.y),Pe[2]=Math.max(Pe[2],He.x),Pe[3]=Math.max(Pe[3],He.y)}Pe[0]<pe&&Pe[1]<pe&&Pe[2]>=0&&Pe[3]>=0&&ae.insert(X,Pe[0],Pe[1],Pe[2],Pe[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new oa.VectorTile(new bd(this.rawTileData)).layers,this.sourceLayerCoder=new LT(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(d,y,I,N){this.loadVTLayers();const H=d.params,G=pe/d.tileSize/d.scale,X=ad(H.filter),ae=d.queryGeometry,ce=d.queryPadding*G,Se=zT(ae),Pe=this.grid.query(Se.minX-ce,Se.minY-ce,Se.maxX+ce,Se.maxY+ce),Be=zT(d.cameraQueryGeometry),He=this.grid3D.query(Be.minX-ce,Be.minY-ce,Be.maxX+ce,Be.maxY+ce,(wt,Mt,lr,qt)=>function(Ue,bt,Gt,Ur,mn){for(const an of Ue)if(bt<=an.x&&Gt<=an.y&&Ur>=an.x&&mn>=an.y)return!0;const Yr=[new v(bt,Gt),new v(bt,mn),new v(Ur,mn),new v(Ur,Gt)];if(Ue.length>2){for(const an of Yr)if(on(Ue,an))return!0}for(let an=0;an<Ue.length-1;an++)if(oi(Ue[an],Ue[an+1],Yr))return!0;return!1}(d.cameraQueryGeometry,wt-ce,Mt-ce,lr+ce,qt+ce));for(const wt of He)Pe.push(wt);Pe.sort(Cg);const Xe={};let st;for(let wt=0;wt<Pe.length;wt++){const Mt=Pe[wt];if(Mt===st)continue;st=Mt;const lr=this.featureIndexArray.get(Mt);let qt=null;this.loadMatchingFeature(Xe,lr.bucketIndex,lr.sourceLayerIndex,lr.featureIndex,X,H.layers,H.availableImages,y,I,N,(Ue,bt,Gt)=>(qt||(qt=Oe(Ue)),bt.queryIntersectsFeature({queryGeometry:ae,feature:Ue,featureState:Gt,geometry:qt,zoom:this.z,transform:d.transform,pixelsToTileUnits:G,pixelPosMatrix:d.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:d.getElevation})))}return Xe}loadMatchingFeature(d,y,I,N,H,G,X,ae,ce,Se,Pe){const Be=this.bucketLayerIDs[y];if(G&&!Be.some(wt=>G.has(wt)))return;const He=this.sourceLayerCoder.decode(I),Xe=this.vtLayers[He].feature(N);if(H.needGeometry){const wt=Ne(Xe,!0);if(!H.filter(new Ro(this.tileID.overscaledZ),wt,this.tileID.canonical))return}else if(!H.filter(new Ro(this.tileID.overscaledZ),Xe))return;const st=this.getId(Xe,He);for(let wt=0;wt<Be.length;wt++){const Mt=Be[wt];if(G&&!G.has(Mt))continue;const lr=ae[Mt];if(!lr)continue;let qt={};st&&Se&&(qt=Se.getState(lr.sourceLayer||"_geojsonTileLayer",st));const Ue=$e({},ce[Mt]);Ue.paint=f1(Ue.paint,lr.paint,Xe,qt,X),Ue.layout=f1(Ue.layout,lr.layout,Xe,qt,X);const bt=!Pe||Pe(Xe,lr,qt);if(!bt)continue;const Gt=new NT(Xe,this.z,this.x,this.y,st);Gt.layer=Ue;let Ur=d[Mt];Ur===void 0&&(Ur=d[Mt]=[]),Ur.push({featureIndex:N,feature:Gt,intersectionZ:bt})}}lookupSymbolFeatures(d,y,I,N,H,G,X,ae){const ce={};this.loadVTLayers();const Se=ad(H);for(const Pe of d)this.loadMatchingFeature(ce,I,N,Pe,Se,G,X,ae,y);return ce}hasLayer(d){for(const y of this.bucketLayerIDs)for(const I of y)if(d===I)return!0;return!1}getId(d,y){var I;let N=d.id;return this.promoteId&&(N=d.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[y]],typeof N=="boolean"&&(N=Number(N)),N===void 0&&(!((I=d.properties)===null||I===void 0)&&I.cluster)&&this.promoteId&&(N=Number(d.properties.cluster_id))),N}}function f1(b,d,y,I,N){return Ee(b,(H,G)=>{const X=d instanceof ph?d.get(G):null;return X&&X.evaluate?X.evaluate(y,I,N):X})}function zT(b){let d=1/0,y=1/0,I=-1/0,N=-1/0;for(const H of b)d=Math.min(d,H.x),y=Math.min(y,H.y),I=Math.max(I,H.x),N=Math.max(N,H.y);return{minX:d,minY:y,maxX:I,maxY:N}}function Cg(b,d){return d-b}function aE(b,d,y,I,N){const H=[];for(let G=0;G<b.length;G++){const X=b[G];let ae;for(let ce=0;ce<X.length-1;ce++){let Se=X[ce],Pe=X[ce+1];Se.x<d&&Pe.x<d||(Se.x<d?Se=new v(d,Se.y+(d-Se.x)/(Pe.x-Se.x)*(Pe.y-Se.y))._round():Pe.x<d&&(Pe=new v(d,Se.y+(d-Se.x)/(Pe.x-Se.x)*(Pe.y-Se.y))._round()),Se.y<y&&Pe.y<y||(Se.y<y?Se=new v(Se.x+(y-Se.y)/(Pe.y-Se.y)*(Pe.x-Se.x),y)._round():Pe.y<y&&(Pe=new v(Se.x+(y-Se.y)/(Pe.y-Se.y)*(Pe.x-Se.x),y)._round()),Se.x>=I&&Pe.x>=I||(Se.x>=I?Se=new v(I,Se.y+(I-Se.x)/(Pe.x-Se.x)*(Pe.y-Se.y))._round():Pe.x>=I&&(Pe=new v(I,Se.y+(I-Se.x)/(Pe.x-Se.x)*(Pe.y-Se.y))._round()),Se.y>=N&&Pe.y>=N||(Se.y>=N?Se=new v(Se.x+(N-Se.y)/(Pe.y-Se.y)*(Pe.x-Se.x),N)._round():Pe.y>=N&&(Pe=new v(Se.x+(N-Se.y)/(Pe.y-Se.y)*(Pe.x-Se.x),N)._round()),ae&&Se.equals(ae[ae.length-1])||(ae=[Se],H.push(ae)),ae.push(Pe)))))}}return H}qn("FeatureIndex",$T,{omit:["rawTileData","sourceLayerCoder"]});class Bp extends v{constructor(d,y,I,N){super(d,y),this.angle=I,N!==void 0&&(this.segment=N)}clone(){return new Bp(this.x,this.y,this.angle,this.segment)}}function Ul(b,d,y,I,N){if(d.segment===void 0||y===0)return!0;let H=d,G=d.segment+1,X=0;for(;X>-y/2;){if(G--,G<0)return!1;X-=b[G].dist(H),H=b[G]}X+=b[G].dist(b[G+1]),G++;const ae=[];let ce=0;for(;X<y/2;){const Se=b[G],Pe=b[G+1];if(!Pe)return!1;let Be=b[G-1].angleTo(Se)-Se.angleTo(Pe);for(Be=Math.abs((Be+3*Math.PI)%(2*Math.PI)-Math.PI),ae.push({distance:X,angleDelta:Be}),ce+=Be;X-ae[0].distance>I;)ce-=ae.shift().angleDelta;if(ce>N)return!1;G++,X+=Se.dist(Pe)}return!0}function su(b){let d=0;for(let y=0;y<b.length-1;y++)d+=b[y].dist(b[y+1]);return d}function oE(b,d,y){return b?.6*d*y:0}function BT(b,d){return Math.max(b?b.right-b.left:0,d?d.right-d.left:0)}function wD(b,d,y,I,N,H){const G=oE(y,N,H),X=BT(y,I)*H;let ae=0;const ce=su(b)/2;for(let Se=0;Se<b.length-1;Se++){const Pe=b[Se],Be=b[Se+1],He=Pe.dist(Be);if(ae+He>ce){const Xe=(ce-ae)/He,st=Zn.number(Pe.x,Be.x,Xe),wt=Zn.number(Pe.y,Be.y,Xe),Mt=new Bp(st,wt,Be.angleTo(Pe),Se);return Mt._round(),!G||Ul(b,Mt,X,G,d)?Mt:void 0}ae+=He}}function xD(b,d,y,I,N,H,G,X,ae){const ce=oE(I,H,G),Se=BT(I,N),Pe=Se*G,Be=b[0].x===0||b[0].x===ae||b[0].y===0||b[0].y===ae;return d-Pe<d/4&&(d=Pe+d/4),jT(b,Be?d/2*X%d:(Se/2+2*H)*G*X%d,d,ce,y,Pe,Be,!1,ae)}function jT(b,d,y,I,N,H,G,X,ae){const ce=H/2,Se=su(b);let Pe=0,Be=d-y,He=[];for(let Xe=0;Xe<b.length-1;Xe++){const st=b[Xe],wt=b[Xe+1],Mt=st.dist(wt),lr=wt.angleTo(st);for(;Be+y<Pe+Mt;){Be+=y;const qt=(Be-Pe)/Mt,Ue=Zn.number(st.x,wt.x,qt),bt=Zn.number(st.y,wt.y,qt);if(Ue>=0&&Ue<ae&&bt>=0&&bt<ae&&Be-ce>=0&&Be+ce<=Se){const Gt=new Bp(Ue,bt,lr,Xe);Gt._round(),I&&!Ul(b,Gt,H,I,N)||He.push(Gt)}}Pe+=Mt}return X||He.length||G||(He=jT(b,Pe/2,y,I,N,H,G,!0,ae)),He}qn("Anchor",Bp);const i_=Nc;function UT(b,d,y,I){const N=[],H=b.image,G=H.pixelRatio,X=H.paddedRect.w-2*i_,ae=H.paddedRect.h-2*i_;let ce={x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};const Se=H.stretchX||[[0,X]],Pe=H.stretchY||[[0,ae]],Be=(cn,vi)=>cn+vi[1]-vi[0],He=Se.reduce(Be,0),Xe=Pe.reduce(Be,0),st=X-He,wt=ae-Xe;let Mt=0,lr=He,qt=0,Ue=Xe,bt=0,Gt=st,Ur=0,mn=wt;if(H.content&&I){const cn=H.content,vi=cn[2]-cn[0],Wi=cn[3]-cn[1];(H.textFitWidth||H.textFitHeight)&&(ce=me(b)),Mt=a_(Se,0,cn[0]),qt=a_(Pe,0,cn[1]),lr=a_(Se,cn[0],cn[2]),Ue=a_(Pe,cn[1],cn[3]),bt=cn[0]-Mt,Ur=cn[1]-qt,Gt=vi-lr,mn=Wi-Ue}const Yr=ce.x1,an=ce.y1,On=ce.x2-Yr,yn=ce.y2-an,Tn=(cn,vi,Wi,zi)=>{const Ci=N0(cn.stretch-Mt,lr,On,Yr),Va=d1(cn.fixed-bt,Gt,cn.stretch,He),cl=N0(vi.stretch-qt,Ue,yn,an),Ku=d1(vi.fixed-Ur,mn,vi.stretch,Xe),tf=N0(Wi.stretch-Mt,lr,On,Yr),Eh=d1(Wi.fixed-bt,Gt,Wi.stretch,He),wd=N0(zi.stretch-qt,Ue,yn,an),$c=d1(zi.fixed-Ur,mn,zi.stretch,Xe),fl=new v(Ci,cl),hc=new v(tf,cl),zc=new v(tf,wd),Bc=new v(Ci,wd),jf=new v(Va/G,Ku/G),Ch=new v(Eh/G,$c/G),pc=d*Math.PI/180;if(pc){const mc=Math.sin(pc),gc=Math.cos(pc),Eu=[gc,-mc,mc,gc];fl._matMult(Eu),hc._matMult(Eu),Bc._matMult(Eu),zc._matMult(Eu)}const xd=cn.stretch+cn.fixed,Zu=vi.stretch+vi.fixed;return{tl:fl,tr:hc,bl:Bc,br:zc,tex:{x:H.paddedRect.x+i_+xd,y:H.paddedRect.y+i_+Zu,w:Wi.stretch+Wi.fixed-xd,h:zi.stretch+zi.fixed-Zu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:jf,pixelOffsetBR:Ch,minFontScaleX:Gt/G/On,minFontScaleY:mn/G/yn,isSDF:y}};if(I&&(H.stretchX||H.stretchY)){const cn=L0(Se,st,He),vi=L0(Pe,wt,Xe);for(let Wi=0;Wi<cn.length-1;Wi++){const zi=cn[Wi],Ci=cn[Wi+1];for(let Va=0;Va<vi.length-1;Va++)N.push(Tn(zi,vi[Va],Ci,vi[Va+1]))}}else N.push(Tn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:X+1},{fixed:0,stretch:ae+1}));return N}function a_(b,d,y){let I=0;for(const N of b)I+=Math.max(d,Math.min(y,N[1]))-Math.max(d,Math.min(y,N[0]));return I}function L0(b,d,y){const I=[{fixed:-1,stretch:0}];for(const[N,H]of b){const G=I[I.length-1];I.push({fixed:N-G.stretch,stretch:G.stretch}),I.push({fixed:N-G.stretch,stretch:G.stretch+(H-N)})}return I.push({fixed:d+i_,stretch:y}),I}function N0(b,d,y,I){return b/d*y+I}function d1(b,d,y,I){return b-d*y/I}class o_{constructor(d,y,I,N,H,G,X,ae,ce,Se){var Pe;if(this.boxStartIndex=d.length,ce){let Be=G.top,He=G.bottom;const Xe=G.collisionPadding;Xe&&(Be-=Xe[1],He+=Xe[3]);let st=He-Be;st>0&&(st=Math.max(10,st),this.circleDiameter=st)}else{const Be=!((Pe=G.image)===null||Pe===void 0)&&Pe.content&&(G.image.textFitWidth||G.image.textFitHeight)?me(G):{x1:G.left,y1:G.top,x2:G.right,y2:G.bottom};Be.y1=Be.y1*X-ae[0],Be.y2=Be.y2*X+ae[2],Be.x1=Be.x1*X-ae[3],Be.x2=Be.x2*X+ae[1];const He=G.collisionPadding;if(He&&(Be.x1-=He[0]*X,Be.y1-=He[1]*X,Be.x2+=He[2]*X,Be.y2+=He[3]*X),Se){const Xe=new v(Be.x1,Be.y1),st=new v(Be.x2,Be.y1),wt=new v(Be.x1,Be.y2),Mt=new v(Be.x2,Be.y2),lr=Se*Math.PI/180;Xe._rotate(lr),st._rotate(lr),wt._rotate(lr),Mt._rotate(lr),Be.x1=Math.min(Xe.x,st.x,wt.x,Mt.x),Be.x2=Math.max(Xe.x,st.x,wt.x,Mt.x),Be.y1=Math.min(Xe.y,st.y,wt.y,Mt.y),Be.y2=Math.max(Xe.y,st.y,wt.y,Mt.y)}d.emplaceBack(y.x,y.y,Be.x1,Be.y1,Be.x2,Be.y2,I,N,H)}this.boxEndIndex=d.length}}class h1{constructor(d=[],y=(I,N)=>I<N?-1:I>N?1:0){if(this.data=d,this.length=this.data.length,this.compare=y,this.length>0)for(let I=(this.length>>1)-1;I>=0;I--)this._down(I)}push(d){this.data.push(d),this._up(this.length++)}pop(){if(this.length===0)return;const d=this.data[0],y=this.data.pop();return--this.length>0&&(this.data[0]=y,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:y,compare:I}=this,N=y[d];for(;d>0;){const H=d-1>>1,G=y[H];if(I(N,G)>=0)break;y[d]=G,d=H}y[d]=N}_down(d){const{data:y,compare:I}=this,N=this.length>>1,H=y[d];for(;d<N;){let G=1+(d<<1);const X=G+1;if(X<this.length&&I(y[X],y[G])<0&&(G=X),I(y[G],H)>=0)break;y[d]=y[G],d=G}y[d]=H}}function xh(b,d=1,y=!1){let I=1/0,N=1/0,H=-1/0,G=-1/0;const X=b[0];for(let He=0;He<X.length;He++){const Xe=X[He];(!He||Xe.x<I)&&(I=Xe.x),(!He||Xe.y<N)&&(N=Xe.y),(!He||Xe.x>H)&&(H=Xe.x),(!He||Xe.y>G)&&(G=Xe.y)}const ae=Math.min(H-I,G-N);let ce=ae/2;const Se=new h1([],$0);if(ae===0)return new v(I,N);for(let He=I;He<H;He+=ae)for(let Xe=N;Xe<G;Xe+=ae)Se.push(new z0(He+ce,Xe+ce,ce,b));let Pe=function(He){let Xe=0,st=0,wt=0;const Mt=He[0];for(let lr=0,qt=Mt.length,Ue=qt-1;lr<qt;Ue=lr++){const bt=Mt[lr],Gt=Mt[Ue],Ur=bt.x*Gt.y-Gt.x*bt.y;st+=(bt.x+Gt.x)*Ur,wt+=(bt.y+Gt.y)*Ur,Xe+=3*Ur}return new z0(st/Xe,wt/Xe,0,He)}(b),Be=Se.length;for(;Se.length;){const He=Se.pop();(He.d>Pe.d||!Pe.d)&&(Pe=He,y&&console.log("found best %d after %d probes",Math.round(1e4*He.d)/1e4,Be)),He.max-Pe.d<=d||(ce=He.h/2,Se.push(new z0(He.p.x-ce,He.p.y-ce,ce,b)),Se.push(new z0(He.p.x+ce,He.p.y-ce,ce,b)),Se.push(new z0(He.p.x-ce,He.p.y+ce,ce,b)),Se.push(new z0(He.p.x+ce,He.p.y+ce,ce,b)),Be+=4)}return y&&(console.log(`num probes: ${Be}`),console.log(`best distance: ${Pe.d}`)),Pe.p}function $0(b,d){return d.max-b.max}function z0(b,d,y,I){this.p=new v(b,d),this.h=y,this.d=function(N,H){let G=!1,X=1/0;for(let ae=0;ae<H.length;ae++){const ce=H[ae];for(let Se=0,Pe=ce.length,Be=Pe-1;Se<Pe;Be=Se++){const He=ce[Se],Xe=ce[Be];He.y>N.y!=Xe.y>N.y&&N.x<(Xe.x-He.x)*(N.y-He.y)/(Xe.y-He.y)+He.x&&(G=!G),X=Math.min(X,Xr(N,He,Xe))}}return(G?1:-1)*Math.sqrt(X)}(this.p,I),this.max=this.d+this.h*Math.SQRT2}var ef;s.aB=void 0,(ef=s.aB||(s.aB={}))[ef.center=1]="center",ef[ef.left=2]="left",ef[ef.right=3]="right",ef[ef.top=4]="top",ef[ef.bottom=5]="bottom",ef[ef["top-left"]=6]="top-left",ef[ef["top-right"]=7]="top-right",ef[ef["bottom-left"]=8]="bottom-left",ef[ef["bottom-right"]=9]="bottom-right";const Ev=7,sE=Number.POSITIVE_INFINITY;function qT(b,d){return d[1]!==sE?function(y,I,N){let H=0,G=0;switch(I=Math.abs(I),N=Math.abs(N),y){case"top-right":case"top-left":case"top":G=N-Ev;break;case"bottom-right":case"bottom-left":case"bottom":G=-N+Ev}switch(y){case"top-right":case"bottom-right":case"right":H=-I;break;case"top-left":case"bottom-left":case"left":H=I}return[H,G]}(b,d[0],d[1]):function(y,I){let N=0,H=0;I<0&&(I=0);const G=I/Math.SQRT2;switch(y){case"top-right":case"top-left":H=G-Ev;break;case"bottom-right":case"bottom-left":H=-G+Ev;break;case"bottom":H=-I+Ev;break;case"top":H=I-Ev}switch(y){case"top-right":case"bottom-right":N=-G;break;case"top-left":case"bottom-left":N=G;break;case"left":N=I;break;case"right":N=-I}return[N,H]}(b,d[0])}function lE(b,d,y){var I;const N=b.layout,H=(I=N.get("text-variable-anchor-offset"))===null||I===void 0?void 0:I.evaluate(d,{},y);if(H){const X=H.values,ae=[];for(let ce=0;ce<X.length;ce+=2){const Se=ae[ce]=X[ce],Pe=X[ce+1].map(Be=>Be*au);Se.startsWith("top")?Pe[1]-=Ev:Se.startsWith("bottom")&&(Pe[1]+=Ev),ae[ce+1]=Pe}return new Xo(ae)}const G=N.get("text-variable-anchor");if(G){let X;X=b._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[N.get("text-radial-offset").evaluate(d,{},y)*au,sE]:N.get("text-offset").evaluate(d,{},y).map(ce=>ce*au);const ae=[];for(const ce of G)ae.push(ce,qT(ce,X));return new Xo(ae)}return null}function jp(b){switch(b){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Xa(b,d,y,I,N,H,G,X,ae,ce,Se,Pe){let Be=H.textMaxSize.evaluate(d,{});Be===void 0&&(Be=G);const He=b.layers[0].layout,Xe=He.get("icon-offset").evaluate(d,{},Se),st=Sh(y.horizontal),wt=G/24,Mt=b.tilePixelRatio*wt,lr=b.tilePixelRatio*Be/24,qt=b.tilePixelRatio*X,Ue=b.tilePixelRatio*He.get("symbol-spacing"),bt=He.get("text-padding")*b.tilePixelRatio,Gt=function(Wi,zi,Ci,Va=1){const cl=Wi.get("icon-padding").evaluate(zi,{},Ci),Ku=cl&&cl.values;return[Ku[0]*Va,Ku[1]*Va,Ku[2]*Va,Ku[3]*Va]}(He,d,Se,b.tilePixelRatio),Ur=He.get("text-max-angle")/180*Math.PI,mn=He.get("text-rotation-alignment")!=="viewport"&&He.get("symbol-placement")!=="point",Yr=He.get("icon-rotation-alignment")==="map"&&He.get("symbol-placement")!=="point",an=He.get("symbol-placement"),On=Ue/2,yn=He.get("icon-text-fit");let Tn;I&&yn!=="none"&&(b.allowVerticalPlacement&&y.vertical&&(Tn=Te(I,y.vertical,yn,He.get("icon-text-fit-padding"),Xe,wt)),st&&(I=Te(I,st,yn,He.get("icon-text-fit-padding"),Xe,wt)));const cn=Se?Pe.line.getGranularityForZoomLevel(Se.z):1,vi=(Wi,zi)=>{zi.x<0||zi.x>=pe||zi.y<0||zi.y>=pe||function(Ci,Va,cl,Ku,tf,Eh,wd,$c,fl,hc,zc,Bc,jf,Ch,pc,xd,Zu,mc,gc,Eu,Bs,Up,B0,qp,ED){const j0=Ci.addToLineVertexArray(Va,cl);let Ty,U0,Pv,Ry,vE=0,GT=0,KT=0,ZT=0,l_=-1,yE=-1;const Pg={};let YT=kc("");if(Ci.allowVerticalPlacement&&Ku.vertical){const mf=$c.layout.get("text-rotate").evaluate(Bs,{},qp)+90;Pv=new o_(fl,Va,hc,zc,Bc,Ku.vertical,jf,Ch,pc,mf),wd&&(Ry=new o_(fl,Va,hc,zc,Bc,wd,Zu,mc,pc,mf))}if(tf){const mf=$c.layout.get("icon-rotate").evaluate(Bs,{}),Ph=$c.layout.get("icon-text-fit")!=="none",Tg=UT(tf,mf,B0,Ph),Th=wd?UT(wd,mf,B0,Ph):void 0;U0=new o_(fl,Va,hc,zc,Bc,tf,Zu,mc,!1,mf),vE=4*Tg.length;const Ay=Ci.iconSizeData;let Fm=null;Ay.kind==="source"?(Fm=[Ut*$c.layout.get("icon-size").evaluate(Bs,{})],Fm[0]>cr&&dt(`${Ci.layerIds[0]}: Value for "icon-size" is >= ${lt}. Reduce your "icon-size".`)):Ay.kind==="composite"&&(Fm=[Ut*Up.compositeIconSizes[0].evaluate(Bs,{},qp),Ut*Up.compositeIconSizes[1].evaluate(Bs,{},qp)],(Fm[0]>cr||Fm[1]>cr)&&dt(`${Ci.layerIds[0]}: Value for "icon-size" is >= ${lt}. Reduce your "icon-size".`)),Ci.addSymbols(Ci.icon,Tg,Fm,Eu,gc,Bs,s.al.none,Va,j0.lineStartIndex,j0.lineLength,-1,qp),l_=Ci.icon.placedSymbolArray.length-1,Th&&(GT=4*Th.length,Ci.addSymbols(Ci.icon,Th,Fm,Eu,gc,Bs,s.al.vertical,Va,j0.lineStartIndex,j0.lineLength,-1,qp),yE=Ci.icon.placedSymbolArray.length-1)}const Sd=Object.keys(Ku.horizontal);for(const mf of Sd){const Ph=Ku.horizontal[mf];if(!Ty){YT=kc(Ph.text);const Th=$c.layout.get("text-rotate").evaluate(Bs,{},qp);Ty=new o_(fl,Va,hc,zc,Bc,Ph,jf,Ch,pc,Th)}const Tg=Ph.positionedLines.length===1;if(KT+=uE(Ci,Va,Ph,Eh,$c,pc,Bs,xd,j0,Ku.vertical?s.al.horizontal:s.al.horizontalOnly,Tg?Sd:[mf],Pg,l_,Up,qp),Tg)break}Ku.vertical&&(ZT+=uE(Ci,Va,Ku.vertical,Eh,$c,pc,Bs,xd,j0,s.al.vertical,["vertical"],Pg,yE,Up,qp));const bE=Ty?Ty.boxStartIndex:Ci.collisionBoxArray.length,CD=Ty?Ty.boxEndIndex:Ci.collisionBoxArray.length,PD=Pv?Pv.boxStartIndex:Ci.collisionBoxArray.length,TD=Pv?Pv.boxEndIndex:Ci.collisionBoxArray.length,RD=U0?U0.boxStartIndex:Ci.collisionBoxArray.length,_E=U0?U0.boxEndIndex:Ci.collisionBoxArray.length,AD=Ry?Ry.boxStartIndex:Ci.collisionBoxArray.length,wE=Ry?Ry.boxEndIndex:Ci.collisionBoxArray.length;let Hp=-1;const m1=(mf,Ph)=>mf&&mf.circleDiameter?Math.max(mf.circleDiameter,Ph):Ph;Hp=m1(Ty,Hp),Hp=m1(Pv,Hp),Hp=m1(U0,Hp),Hp=m1(Ry,Hp);const XT=Hp>-1?1:0;XT&&(Hp*=ED/au),Ci.glyphOffsetArray.length>=yr.MAX_GLYPHS&&dt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bs.sortKey!==void 0&&Ci.addToSortKeyRanges(Ci.symbolInstances.length,Bs.sortKey);const OD=lE($c,Bs,qp),[JT,ID]=function(mf,Ph){const Tg=mf.length,Th=Ph==null?void 0:Ph.values;if((Th==null?void 0:Th.length)>0)for(let Ay=0;Ay<Th.length;Ay+=2){const Fm=Th[Ay+1];mf.emplaceBack(s.aB[Th[Ay]],Fm[0],Fm[1])}return[Tg,mf.length]}(Ci.textAnchorOffsets,OD);Ci.symbolInstances.emplaceBack(Va.x,Va.y,Pg.right>=0?Pg.right:-1,Pg.center>=0?Pg.center:-1,Pg.left>=0?Pg.left:-1,Pg.vertical||-1,l_,yE,YT,bE,CD,PD,TD,RD,_E,AD,wE,hc,KT,ZT,vE,GT,XT,0,jf,Hp,JT,ID)}(b,zi,Wi,y,I,N,Tn,b.layers[0],b.collisionBoxArray,d.index,d.sourceLayerIndex,b.index,Mt,[bt,bt,bt,bt],mn,ae,qt,Gt,Yr,Xe,d,H,ce,Se,G)};if(an==="line")for(const Wi of aE(d.geometry,0,0,pe,pe)){const zi=bh(Wi,cn),Ci=xD(zi,Ue,Ur,y.vertical||st,I,24,lr,b.overscaling,pe);for(const Va of Ci)st&&HT(b,st.text,On,Va)||vi(zi,Va)}else if(an==="line-center"){for(const Wi of d.geometry)if(Wi.length>1){const zi=bh(Wi,cn),Ci=wD(zi,Ur,y.vertical||st,I,24,lr);Ci&&vi(zi,Ci)}}else if(d.type==="Polygon")for(const Wi of Il(d.geometry,0)){const zi=xh(Wi,16);vi(bh(Wi[0],cn,!0),new Bp(zi.x,zi.y,0))}else if(d.type==="LineString")for(const Wi of d.geometry){const zi=bh(Wi,cn);vi(zi,new Bp(zi[0].x,zi[0].y,0))}else if(d.type==="Point")for(const Wi of d.geometry)for(const zi of Wi)vi([zi],new Bp(zi.x,zi.y,0))}function uE(b,d,y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe){const st=function(lr,qt,Ue,bt,Gt,Ur,mn,Yr){const an=bt.layout.get("text-rotate").evaluate(Ur,{})*Math.PI/180,On=[];for(const yn of qt.positionedLines)for(const Tn of yn.positionedGlyphs){if(!Tn.rect)continue;const cn=Tn.rect||{};let vi=Jb+1,Wi=!0,zi=1,Ci=0;const Va=(Gt||Yr)&&Tn.vertical,cl=Tn.metrics.advance*Tn.scale/2;if(Yr&&qt.verticalizable&&(Ci=yn.lineOffset/2-(Tn.imageName?-(au-Tn.metrics.width*Tn.scale)/2:(Tn.scale-1)*au)),Tn.imageName){const mc=mn[Tn.imageName];Wi=mc.sdf,zi=mc.pixelRatio,vi=Nc/zi}const Ku=Gt?[Tn.x+cl,Tn.y]:[0,0];let tf=Gt?[0,0]:[Tn.x+cl+Ue[0],Tn.y+Ue[1]-Ci],Eh=[0,0];Va&&(Eh=tf,tf=[0,0]);const wd=Tn.metrics.isDoubleResolution?2:1,$c=(Tn.metrics.left-vi)*Tn.scale-cl+tf[0],fl=(-Tn.metrics.top-vi)*Tn.scale+tf[1],hc=$c+cn.w/wd*Tn.scale/zi,zc=fl+cn.h/wd*Tn.scale/zi,Bc=new v($c,fl),jf=new v(hc,fl),Ch=new v($c,zc),pc=new v(hc,zc);if(Va){const mc=new v(-cl,cl-xg),gc=-Math.PI/2,Eu=au/2-cl,Bs=new v(5-xg-Eu,-(Tn.imageName?Eu:0)),Up=new v(...Eh);Bc._rotateAround(gc,mc)._add(Bs)._add(Up),jf._rotateAround(gc,mc)._add(Bs)._add(Up),Ch._rotateAround(gc,mc)._add(Bs)._add(Up),pc._rotateAround(gc,mc)._add(Bs)._add(Up)}if(an){const mc=Math.sin(an),gc=Math.cos(an),Eu=[gc,-mc,mc,gc];Bc._matMult(Eu),jf._matMult(Eu),Ch._matMult(Eu),pc._matMult(Eu)}const xd=new v(0,0),Zu=new v(0,0);On.push({tl:Bc,tr:jf,bl:Ch,br:pc,tex:cn,writingMode:qt.writingMode,glyphOffset:Ku,sectionIndex:Tn.sectionIndex,isSDF:Wi,pixelOffsetTL:xd,pixelOffsetBR:Zu,minFontScaleX:0,minFontScaleY:0})}return On}(0,y,X,N,H,G,I,b.allowVerticalPlacement),wt=b.textSizeData;let Mt=null;wt.kind==="source"?(Mt=[Ut*N.layout.get("text-size").evaluate(G,{})],Mt[0]>cr&&dt(`${b.layerIds[0]}: Value for "text-size" is >= ${lt}. Reduce your "text-size".`)):wt.kind==="composite"&&(Mt=[Ut*He.compositeTextSizes[0].evaluate(G,{},Xe),Ut*He.compositeTextSizes[1].evaluate(G,{},Xe)],(Mt[0]>cr||Mt[1]>cr)&&dt(`${b.layerIds[0]}: Value for "text-size" is >= ${lt}. Reduce your "text-size".`)),b.addSymbols(b.text,st,Mt,X,H,G,ce,d,ae.lineStartIndex,ae.lineLength,Be,Xe);for(const lr of Se)Pe[lr]=b.text.placedSymbolArray.length-1;return 4*st.length}function Sh(b){for(const d in b)return b[d];return null}function HT(b,d,y,I){const N=b.compareText;if(d in N){const H=N[d];for(let G=H.length-1;G>=0;G--)if(I.dist(H[G])<y)return!0}else N[d]=[];return N[d].push(I),!1}const WT=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class fs{static from(d){if(!(d instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[y,I]=new Uint8Array(d,0,2);if(y!==219)throw new Error("Data does not appear to be in a KDBush format.");const N=I>>4;if(N!==1)throw new Error(`Got v${N} data when expected v1.`);const H=WT[15&I];if(!H)throw new Error("Unrecognized array type.");const[G]=new Uint16Array(d,2,1),[X]=new Uint32Array(d,4,1);return new fs(X,G,H,d)}constructor(d,y=64,I=Float64Array,N){if(isNaN(d)||d<0)throw new Error(`Unpexpected numItems value: ${d}.`);this.numItems=+d,this.nodeSize=Math.min(Math.max(+y,2),65535),this.ArrayType=I,this.IndexArrayType=d<65536?Uint16Array:Uint32Array;const H=WT.indexOf(this.ArrayType),G=2*d*this.ArrayType.BYTES_PER_ELEMENT,X=d*this.IndexArrayType.BYTES_PER_ELEMENT,ae=(8-X%8)%8;if(H<0)throw new Error(`Unexpected typed array class: ${I}.`);N&&N instanceof ArrayBuffer?(this.data=N,this.ids=new this.IndexArrayType(this.data,8,d),this.coords=new this.ArrayType(this.data,8+X+ae,2*d),this._pos=2*d,this._finished=!0):(this.data=new ArrayBuffer(8+G+X+ae),this.ids=new this.IndexArrayType(this.data,8,d),this.coords=new this.ArrayType(this.data,8+X+ae,2*d),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+H]),new Uint16Array(this.data,2,1)[0]=y,new Uint32Array(this.data,4,1)[0]=d)}add(d,y){const I=this._pos>>1;return this.ids[I]=I,this.coords[this._pos++]=d,this.coords[this._pos++]=y,I}finish(){const d=this._pos>>1;if(d!==this.numItems)throw new Error(`Added ${d} items when expected ${this.numItems}.`);return cE(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(d,y,I,N){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:H,coords:G,nodeSize:X}=this,ae=[0,H.length-1,0],ce=[];for(;ae.length;){const Se=ae.pop()||0,Pe=ae.pop()||0,Be=ae.pop()||0;if(Pe-Be<=X){for(let wt=Be;wt<=Pe;wt++){const Mt=G[2*wt],lr=G[2*wt+1];Mt>=d&&Mt<=I&&lr>=y&&lr<=N&&ce.push(H[wt])}continue}const He=Be+Pe>>1,Xe=G[2*He],st=G[2*He+1];Xe>=d&&Xe<=I&&st>=y&&st<=N&&ce.push(H[He]),(Se===0?d<=Xe:y<=st)&&(ae.push(Be),ae.push(He-1),ae.push(1-Se)),(Se===0?I>=Xe:N>=st)&&(ae.push(He+1),ae.push(Pe),ae.push(1-Se))}return ce}within(d,y,I){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:N,coords:H,nodeSize:G}=this,X=[0,N.length-1,0],ae=[],ce=I*I;for(;X.length;){const Se=X.pop()||0,Pe=X.pop()||0,Be=X.pop()||0;if(Pe-Be<=G){for(let wt=Be;wt<=Pe;wt++)VT(H[2*wt],H[2*wt+1],d,y)<=ce&&ae.push(N[wt]);continue}const He=Be+Pe>>1,Xe=H[2*He],st=H[2*He+1];VT(Xe,st,d,y)<=ce&&ae.push(N[He]),(Se===0?d-I<=Xe:y-I<=st)&&(X.push(Be),X.push(He-1),X.push(1-Se)),(Se===0?d+I>=Xe:y+I>=st)&&(X.push(He+1),X.push(Pe),X.push(1-Se))}return ae}}function cE(b,d,y,I,N,H){if(N-I<=y)return;const G=I+N>>1;fE(b,d,G,I,N,H),cE(b,d,y,I,G-1,1-H),cE(b,d,y,G+1,N,1-H)}function fE(b,d,y,I,N,H){for(;N>I;){if(N-I>600){const ce=N-I+1,Se=y-I+1,Pe=Math.log(ce),Be=.5*Math.exp(2*Pe/3),He=.5*Math.sqrt(Pe*Be*(ce-Be)/ce)*(Se-ce/2<0?-1:1);fE(b,d,y,Math.max(I,Math.floor(y-Se*Be/ce+He)),Math.min(N,Math.floor(y+(ce-Se)*Be/ce+He)),H)}const G=d[2*y+H];let X=I,ae=N;for(Cv(b,d,I,y),d[2*N+H]>G&&Cv(b,d,I,N);X<ae;){for(Cv(b,d,X,ae),X++,ae--;d[2*X+H]<G;)X++;for(;d[2*ae+H]>G;)ae--}d[2*I+H]===G?Cv(b,d,I,ae):(ae++,Cv(b,d,ae,N)),ae<=y&&(I=ae+1),y<=ae&&(N=ae-1)}}function Cv(b,d,y,I){dE(b,y,I),dE(d,2*y,2*I),dE(d,2*y+1,2*I+1)}function dE(b,d,y){const I=b[d];b[d]=b[y],b[y]=I}function VT(b,d,y,I){const N=b-y,H=d-I;return N*N+H*H}var hE;s.co=void 0,(hE=s.co||(s.co={})).create="create",hE.load="load",hE.fullLoad="fullLoad";let p1=null,s_=[];const pE=1e3/60,mE="loadTime",gE="fullLoadTime",SD={mark(b){performance.mark(b)},frame(b){const d=b;p1!=null&&s_.push(d-p1),p1=d},clearMetrics(){p1=null,s_=[],performance.clearMeasures(mE),performance.clearMeasures(gE);for(const b in s.co)performance.clearMarks(s.co[b])},getPerformanceMetrics(){performance.measure(mE,s.co.create,s.co.load),performance.measure(gE,s.co.create,s.co.fullLoad);const b=performance.getEntriesByName(mE)[0].duration,d=performance.getEntriesByName(gE)[0].duration,y=s_.length,I=1/(s_.reduce((H,G)=>H+G,0)/y/1e3),N=s_.filter(H=>H>pE).reduce((H,G)=>H+(G-pE)/pE,0);return{loadTime:b,fullLoadTime:d,fps:I,percentDroppedFrames:N/(y+N)*100,totalFrames:y}}};s.$=n_,s.A=_,s.B=Zn,s.C=Ro,s.D=Gn,s.E=kt,s.F=Cm,s.G=function(b){if(xt==null){const d=b.navigator?b.navigator.userAgent:null;xt=!!b.safari||!(!d||!(/\b(iPad|iPhone|iPod)\b/.test(d)||d.match("Safari")&&!d.match("Chrome")))}return xt},s.H=class{constructor(b,d){this.target=b,this.mapId=d,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new bD(()=>this.process()),this.subscription=At(this.target,"message",y=>this.receive(y),!1),this.globalScope=ut(self)?b:window}registerMessageHandler(b,d){this.messageHandlers[b]=d}sendAsync(b,d){return new Promise((y,I)=>{const N=Math.round(1e18*Math.random()).toString(36).substring(0,10),H=d?At(d.signal,"abort",()=>{H==null||H.unsubscribe(),delete this.resolveRejects[N];const ae={id:N,type:"<cancel>",origin:location.origin,targetMapId:b.targetMapId,sourceMapId:this.mapId};this.target.postMessage(ae)},_D):null;this.resolveRejects[N]={resolve:ae=>{H==null||H.unsubscribe(),y(ae)},reject:ae=>{H==null||H.unsubscribe(),I(ae)}};const G=[],X=Object.assign(Object.assign({},b),{id:N,sourceMapId:this.mapId,origin:location.origin,data:Ql(b.data,G)});this.target.postMessage(X,{transfer:G})})}receive(b){const d=b.data,y=d.id;if(!(d.origin!=="file://"&&location.origin!=="file://"&&d.origin!=="resource://android"&&location.origin!=="resource://android"&&d.origin!==location.origin||d.targetMapId&&this.mapId!==d.targetMapId)){if(d.type==="<cancel>"){delete this.tasks[y];const I=this.abortControllers[y];return delete this.abortControllers[y],void(I&&I.abort())}if(ut(self)||d.mustQueue)return this.tasks[y]=d,this.taskQueue.push(y),void this.invoker.trigger();this.processTask(y,d)}}process(){if(this.taskQueue.length===0)return;const b=this.taskQueue.shift(),d=this.tasks[b];delete this.tasks[b],this.taskQueue.length>0&&this.invoker.trigger(),d&&this.processTask(b,d)}processTask(b,d){return o(this,void 0,void 0,function*(){if(d.type==="<response>"){const N=this.resolveRejects[b];return delete this.resolveRejects[b],N?void(d.error?N.reject(Kc(d.error)):N.resolve(Kc(d.data))):void 0}if(!this.messageHandlers[d.type])return void this.completeTask(b,new Error(`Could not find a registered handler for ${d.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const y=Kc(d.data),I=new AbortController;this.abortControllers[b]=I;try{const N=yield this.messageHandlers[d.type](d.sourceMapId,y,I);this.completeTask(b,null,N)}catch(N){this.completeTask(b,N)}})}completeTask(b,d,y){const I=[];delete this.abortControllers[b];const N={id:b,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:d?Ql(d):null,data:Ql(y,I)};this.target.postMessage(N,{transfer:I})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},s.I=Qb,s.J=Fr,s.K=function(){var b=new _(16);return _!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},s.L=function(b,d,y){var I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st=y[0],wt=y[1],Mt=y[2];return d===b?(b[12]=d[0]*st+d[4]*wt+d[8]*Mt+d[12],b[13]=d[1]*st+d[5]*wt+d[9]*Mt+d[13],b[14]=d[2]*st+d[6]*wt+d[10]*Mt+d[14],b[15]=d[3]*st+d[7]*wt+d[11]*Mt+d[15]):(N=d[1],H=d[2],G=d[3],X=d[4],ae=d[5],ce=d[6],Se=d[7],Pe=d[8],Be=d[9],He=d[10],Xe=d[11],b[0]=I=d[0],b[1]=N,b[2]=H,b[3]=G,b[4]=X,b[5]=ae,b[6]=ce,b[7]=Se,b[8]=Pe,b[9]=Be,b[10]=He,b[11]=Xe,b[12]=I*st+X*wt+Pe*Mt+d[12],b[13]=N*st+ae*wt+Be*Mt+d[13],b[14]=H*st+ce*wt+He*Mt+d[14],b[15]=G*st+Se*wt+Xe*Mt+d[15]),b},s.M=function(b,d,y){var I=y[0],N=y[1],H=y[2];return b[0]=d[0]*I,b[1]=d[1]*I,b[2]=d[2]*I,b[3]=d[3]*I,b[4]=d[4]*N,b[5]=d[5]*N,b[6]=d[6]*N,b[7]=d[7]*N,b[8]=d[8]*H,b[9]=d[9]*H,b[10]=d[10]*H,b[11]=d[11]*H,b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15],b},s.N=function(b,d,y){var I=d[0],N=d[1],H=d[2],G=d[3],X=d[4],ae=d[5],ce=d[6],Se=d[7],Pe=d[8],Be=d[9],He=d[10],Xe=d[11],st=d[12],wt=d[13],Mt=d[14],lr=d[15],qt=y[0],Ue=y[1],bt=y[2],Gt=y[3];return b[0]=qt*I+Ue*X+bt*Pe+Gt*st,b[1]=qt*N+Ue*ae+bt*Be+Gt*wt,b[2]=qt*H+Ue*ce+bt*He+Gt*Mt,b[3]=qt*G+Ue*Se+bt*Xe+Gt*lr,b[4]=(qt=y[4])*I+(Ue=y[5])*X+(bt=y[6])*Pe+(Gt=y[7])*st,b[5]=qt*N+Ue*ae+bt*Be+Gt*wt,b[6]=qt*H+Ue*ce+bt*He+Gt*Mt,b[7]=qt*G+Ue*Se+bt*Xe+Gt*lr,b[8]=(qt=y[8])*I+(Ue=y[9])*X+(bt=y[10])*Pe+(Gt=y[11])*st,b[9]=qt*N+Ue*ae+bt*Be+Gt*wt,b[10]=qt*H+Ue*ce+bt*He+Gt*Mt,b[11]=qt*G+Ue*Se+bt*Xe+Gt*lr,b[12]=(qt=y[12])*I+(Ue=y[13])*X+(bt=y[14])*Pe+(Gt=y[15])*st,b[13]=qt*N+Ue*ae+bt*Be+Gt*wt,b[14]=qt*H+Ue*ce+bt*He+Gt*Mt,b[15]=qt*G+Ue*Se+bt*Xe+Gt*lr,b},s.O=function(b,d){const y={};for(let I=0;I<d.length;I++){const N=d[I];N in b&&(y[N]=b[N])}return y},s.P=v,s.Q=Sv,s.R=Ho,s.S=MT,s.T=df,s.U=op,s.V=P,s.W=S,s.X=Ze,s.Y=dc,s.Z=pe,s._=o,s.a=gr,s.a$=function(b,d,y){var I=Math.sin(y),N=Math.cos(y),H=d[4],G=d[5],X=d[6],ae=d[7],ce=d[8],Se=d[9],Pe=d[10],Be=d[11];return d!==b&&(b[0]=d[0],b[1]=d[1],b[2]=d[2],b[3]=d[3],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]),b[4]=H*N+ce*I,b[5]=G*N+Se*I,b[6]=X*N+Pe*I,b[7]=ae*N+Be*I,b[8]=ce*N-H*I,b[9]=Se*N-G*I,b[10]=Pe*N-X*I,b[11]=Be*N-ae*I,b},s.a0=25,s.a1=ou,s.a2=b=>{const d=window.document.createElement("video");return d.muted=!0,new Promise(y=>{d.onloadstart=()=>{y(d)};for(const I of b){const N=window.document.createElement("source");Je(I)||(d.crossOrigin="Anonymous"),N.src=I,d.appendChild(N)}})},s.a3=jt,s.a4=function(){return we++},s.a5=Rt,s.a6=yr,s.a7=ad,s.a8=Ne,s.a9=NT,s.aA=function(b,d,y,I,N=!1){if(!y[0]&&!y[1])return[0,0];const H=N?I==="map"?-b.bearingInRadians:0:I==="viewport"?b.bearingInRadians:0;if(H){const G=Math.sin(H),X=Math.cos(H);y=[y[0]*X-y[1]*G,y[0]*G+y[1]*X]}return[N?y[0]:ve(d,y[0],b.zoom),N?y[1]:ve(d,y[1],b.zoom)]},s.aC=Mn,s.aD=jp,s.aE=r_,s.aF=fs,s.aG=bo,s.aH=Gu,s.aI=Jr,s.aJ=Fa,s.aK=Aa,s.aL=ct,s.aM=Sr,s.aN=za,s.aO=function(b,d,y){return b[0]=d[0]*y,b[1]=d[1]*y,b[2]=d[2]*y,b},s.aP=function(b,d,y){return b[0]=d[0]+y[0],b[1]=d[1]+y[1],b[2]=d[2]+y[2],b},s.aQ=function(b){var d=new _(3);return d[0]=b[0],d[1]=b[1],d[2]=b[2],d},s.aR=function(b,d,y){return b[0]=d[0]*y[0],b[1]=d[1]*y[1],b[2]=d[2]*y[2],b[3]=d[3]*y[3],b},s.aS=function(b,d,y){return b[0]=d[0]-y[0],b[1]=d[1]-y[1],b[2]=d[2]-y[2],b},s.aT=function(b,d){var y=d[0],I=d[1],N=d[2],H=y*y+I*I+N*N;return H>0&&(H=1/Math.sqrt(H)),b[0]=d[0]*H,b[1]=d[1]*H,b[2]=d[2]*H,b},s.aU=function(b,d,y){var I=d[0],N=d[1],H=d[2],G=y[0],X=y[1],ae=y[2];return b[0]=N*ae-H*X,b[1]=H*G-I*ae,b[2]=I*X-N*G,b},s.aV=function(b,d){return b[0]*d[0]+b[1]*d[1]+b[2]*d[2]},s.aW=DT,s.aX=F0,s.aY=function(b,d,y,I,N){var H,G=1/Math.tan(d/2);return b[0]=G/y,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=G,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,N!=null&&N!==1/0?(b[10]=(N+I)*(H=1/(I-N)),b[14]=2*N*I*H):(b[10]=-1,b[14]=-2*I),b},s.aZ=function(b){var d=new _(16);return d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3],d[4]=b[4],d[5]=b[5],d[6]=b[6],d[7]=b[7],d[8]=b[8],d[9]=b[9],d[10]=b[10],d[11]=b[11],d[12]=b[12],d[13]=b[13],d[14]=b[14],d[15]=b[15],d},s.a_=function(b,d,y){var I=Math.sin(y),N=Math.cos(y),H=d[0],G=d[1],X=d[2],ae=d[3],ce=d[4],Se=d[5],Pe=d[6],Be=d[7];return d!==b&&(b[8]=d[8],b[9]=d[9],b[10]=d[10],b[11]=d[11],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]),b[0]=H*N+ce*I,b[1]=G*N+Se*I,b[2]=X*N+Pe*I,b[3]=ae*N+Be*I,b[4]=ce*N-H*I,b[5]=Se*N-G*I,b[6]=Pe*N-X*I,b[7]=Be*N-ae*I,b},s.aa=function(b){const d={};if(b.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(y,I,N,H)=>{const G=N||H;return d[I]=!G||G.toLowerCase(),""}),d["max-age"]){const y=parseInt(d["max-age"],10);isNaN(y)?delete d["max-age"]:d["max-age"]=y}return d},s.ab=hr,s.ac=function(b){return Math.pow(2,b)},s.ad=O,s.ae=Ge,s.af=85.051129,s.ag=kT,s.ah=function(b){return Math.log(b)/Math.LN2},s.ai=function(b){var d=b[0],y=b[1];return d*d+y*y},s.aj=function(b,d){const y=[];for(const I in b)I in d||y.push(I);return y},s.ak=function(b,d){let y=0,I=0;if(b.kind==="constant")I=b.layoutSize;else if(b.kind!=="source"){const{interpolationType:N,minZoom:H,maxZoom:G}=b,X=N?Ge(gn.interpolationFactor(N,d,H,G),0,1):0;b.kind==="camera"?I=Zn.number(b.minSize,b.maxSize,X):y=X}return{uSizeT:y,uSize:I}},s.am=function(b,{uSize:d,uSizeT:y},{lowerSize:I,upperSize:N}){return b.kind==="source"?I/Ut:b.kind==="composite"?Zn.number(I/Ut,N/Ut,y):d},s.an=function(b,d){var y=d[0],I=d[1],N=d[2],H=d[3],G=d[4],X=d[5],ae=d[6],ce=d[7],Se=d[8],Pe=d[9],Be=d[10],He=d[11],Xe=d[12],st=d[13],wt=d[14],Mt=d[15],lr=y*X-I*G,qt=y*ae-N*G,Ue=y*ce-H*G,bt=I*ae-N*X,Gt=I*ce-H*X,Ur=N*ce-H*ae,mn=Se*st-Pe*Xe,Yr=Se*wt-Be*Xe,an=Se*Mt-He*Xe,On=Pe*wt-Be*st,yn=Pe*Mt-He*st,Tn=Be*Mt-He*wt,cn=lr*Tn-qt*yn+Ue*On+bt*an-Gt*Yr+Ur*mn;return cn?(b[0]=(X*Tn-ae*yn+ce*On)*(cn=1/cn),b[1]=(N*yn-I*Tn-H*On)*cn,b[2]=(st*Ur-wt*Gt+Mt*bt)*cn,b[3]=(Be*Gt-Pe*Ur-He*bt)*cn,b[4]=(ae*an-G*Tn-ce*Yr)*cn,b[5]=(y*Tn-N*an+H*Yr)*cn,b[6]=(wt*Ue-Xe*Ur-Mt*qt)*cn,b[7]=(Se*Ur-Be*Ue+He*qt)*cn,b[8]=(G*yn-X*an+ce*mn)*cn,b[9]=(I*an-y*yn-H*mn)*cn,b[10]=(Xe*Gt-st*Ue+Mt*lr)*cn,b[11]=(Pe*Ue-Se*Gt-He*lr)*cn,b[12]=(X*Yr-G*On-ae*mn)*cn,b[13]=(y*On-I*Yr+N*mn)*cn,b[14]=(st*qt-Xe*bt-wt*lr)*cn,b[15]=(Se*bt-Pe*qt+Be*lr)*cn,b):null},s.ao=fe,s.ap=function(b){return Math.hypot(b[0],b[1])},s.aq=function(b){return b[0]=0,b[1]=0,b},s.ar=function(b,d,y){return b[0]=d[0]*y,b[1]=d[1]*y,b},s.as=Oi,s.at=V,s.au=function(b,d,y,I){const N=d.y-b.y,H=d.x-b.x,G=I.y-y.y,X=I.x-y.x,ae=G*H-X*N;if(ae===0)return null;const ce=(X*(b.y-y.y)-G*(b.x-y.x))/ae;return new v(b.x+ce*H,b.y+ce*N)},s.av=aE,s.aw=zt,s.ax=function(b){let d=1/0,y=1/0,I=-1/0,N=-1/0;for(const H of b)d=Math.min(d,H.x),y=Math.min(y,H.y),I=Math.max(I,H.x),N=Math.max(N,H.y);return[d,y,I,N]},s.ay=au,s.az=ve,s.b=je,s.b$=class extends nt{},s.b0=function(){const b=new Float32Array(16);return O(b),b},s.b1=function(){const b=new Float64Array(16);return O(b),b},s.b2=function(){return new Float64Array(16)},s.b3=function(b,d,y){const I=new Float64Array(4);return function(N,H,G,X){var ae=.5*Math.PI/180;H*=ae,G*=ae,X*=ae;var ce=Math.sin(H),Se=Math.cos(H),Pe=Math.sin(G),Be=Math.cos(G),He=Math.sin(X),Xe=Math.cos(X);N[0]=ce*Be*Xe-Se*Pe*He,N[1]=Se*Pe*Xe+ce*Be*He,N[2]=Se*Be*He-ce*Pe*Xe,N[3]=Se*Be*Xe+ce*Pe*He}(I,b,d-90,y),I},s.b4=function(b,d,y,I){var N,H,G,X,ae,ce=d[0],Se=d[1],Pe=d[2],Be=d[3],He=y[0],Xe=y[1],st=y[2],wt=y[3];return(H=ce*He+Se*Xe+Pe*st+Be*wt)<0&&(H=-H,He=-He,Xe=-Xe,st=-st,wt=-wt),1-H>E?(N=Math.acos(H),G=Math.sin(N),X=Math.sin((1-I)*N)/G,ae=Math.sin(I*N)/G):(X=1-I,ae=I),b[0]=X*ce+ae*He,b[1]=X*Se+ae*Xe,b[2]=X*Pe+ae*st,b[3]=X*Be+ae*wt,b},s.b5=function(b){const d=new Float64Array(9);var y,I,N,H,G,X,ae,ce,Se,Pe,Be,He,Xe,st,wt,Mt,lr,qt;Pe=(N=(I=b)[0])*(ae=N+N),Be=(H=I[1])*ae,Xe=(G=I[2])*ae,st=G*(ce=H+H),Mt=(X=I[3])*ae,lr=X*ce,qt=X*(Se=G+G),(y=d)[0]=1-(He=H*ce)-(wt=G*Se),y[3]=Be-qt,y[6]=Xe+lr,y[1]=Be+qt,y[4]=1-Pe-wt,y[7]=st-Mt,y[2]=Xe-lr,y[5]=st+Mt,y[8]=1-Pe-He;const Ue=Sr(-Math.asin(Ge(d[2],-1,1)));let bt,Gt;return Math.hypot(d[5],d[8])<.001?(bt=0,Gt=-Sr(Math.atan2(d[3],d[4]))):(bt=Sr(d[5]===0&&d[8]===0?0:Math.atan2(d[5],d[8])),Gt=Sr(d[1]===0&&d[0]===0?0:Math.atan2(d[1],d[0]))),{roll:bt,pitch:Ue+90,bearing:Gt}},s.b6=function(b,d){return b.roll==d.roll&&b.pitch==d.pitch&&b.bearing==d.bearing},s.b7=Ei,s.b8=Tm,s.b9=Jc,s.bA=function(b){if(b.type==="custom")return new yD(b);switch(b.type){case"background":return new Vo(b);case"circle":return new ja(b);case"fill":return new Gr(b);case"fill-extrusion":return new Wo(b);case"heatmap":return new Ps(b);case"hillshade":return new gh(b);case"line":return new n1(b);case"raster":return new vD(b);case"symbol":return new Ki(b)}},s.bB=ft,s.bC=function(b,d){if(!b)return[{command:"setStyle",args:[d]}];let y=[];try{if(!ir(b.version,d.version))return[{command:"setStyle",args:[d]}];ir(b.center,d.center)||y.push({command:"setCenter",args:[d.center]}),ir(b.state,d.state)||y.push({command:"setGlobalState",args:[d.state]}),ir(b.centerAltitude,d.centerAltitude)||y.push({command:"setCenterAltitude",args:[d.centerAltitude]}),ir(b.zoom,d.zoom)||y.push({command:"setZoom",args:[d.zoom]}),ir(b.bearing,d.bearing)||y.push({command:"setBearing",args:[d.bearing]}),ir(b.pitch,d.pitch)||y.push({command:"setPitch",args:[d.pitch]}),ir(b.roll,d.roll)||y.push({command:"setRoll",args:[d.roll]}),ir(b.sprite,d.sprite)||y.push({command:"setSprite",args:[d.sprite]}),ir(b.glyphs,d.glyphs)||y.push({command:"setGlyphs",args:[d.glyphs]}),ir(b.transition,d.transition)||y.push({command:"setTransition",args:[d.transition]}),ir(b.light,d.light)||y.push({command:"setLight",args:[d.light]}),ir(b.terrain,d.terrain)||y.push({command:"setTerrain",args:[d.terrain]}),ir(b.sky,d.sky)||y.push({command:"setSky",args:[d.sky]}),ir(b.projection,d.projection)||y.push({command:"setProjection",args:[d.projection]});const I={},N=[];(function(G,X,ae,ce){let Se;for(Se in X=X||{},G=G||{})Object.prototype.hasOwnProperty.call(G,Se)&&(Object.prototype.hasOwnProperty.call(X,Se)||zr(Se,ae,ce));for(Se in X)Object.prototype.hasOwnProperty.call(X,Se)&&(Object.prototype.hasOwnProperty.call(G,Se)?ir(G[Se],X[Se])||(G[Se].type==="geojson"&&X[Se].type==="geojson"&&It(G,X,Se)?or(ae,{command:"setGeoJSONSourceData",args:[Se,X[Se].data]}):mt(Se,X,ae,ce)):ar(Se,X,ae))})(b.sources,d.sources,N,I);const H=[];b.layers&&b.layers.forEach(G=>{"source"in G&&I[G.source]?y.push({command:"removeLayer",args:[G.id]}):H.push(G)}),y=y.concat(N),function(G,X,ae){X=X||[];const ce=(G=G||[]).map(br),Se=X.map(br),Pe=G.reduce(Rr,{}),Be=X.reduce(Rr,{}),He=ce.slice(),Xe=Object.create(null);let st,wt,Mt,lr,qt;for(let Ue=0,bt=0;Ue<ce.length;Ue++)st=ce[Ue],Object.prototype.hasOwnProperty.call(Be,st)?bt++:(or(ae,{command:"removeLayer",args:[st]}),He.splice(He.indexOf(st,bt),1));for(let Ue=0,bt=0;Ue<Se.length;Ue++)st=Se[Se.length-1-Ue],He[He.length-1-Ue]!==st&&(Object.prototype.hasOwnProperty.call(Pe,st)?(or(ae,{command:"removeLayer",args:[st]}),He.splice(He.lastIndexOf(st,He.length-bt),1)):bt++,lr=He[He.length-Ue],or(ae,{command:"addLayer",args:[Be[st],lr]}),He.splice(He.length-Ue,0,st),Xe[st]=!0);for(let Ue=0;Ue<Se.length;Ue++)if(st=Se[Ue],wt=Pe[st],Mt=Be[st],!Xe[st]&&!ir(wt,Mt))if(ir(wt.source,Mt.source)&&ir(wt["source-layer"],Mt["source-layer"])&&ir(wt.type,Mt.type)){for(qt in Kt(wt.layout,Mt.layout,ae,st,null,"setLayoutProperty"),Kt(wt.paint,Mt.paint,ae,st,null,"setPaintProperty"),ir(wt.filter,Mt.filter)||or(ae,{command:"setFilter",args:[st,Mt.filter]}),ir(wt.minzoom,Mt.minzoom)&&ir(wt.maxzoom,Mt.maxzoom)||or(ae,{command:"setLayerZoomRange",args:[st,Mt.minzoom,Mt.maxzoom]}),wt)Object.prototype.hasOwnProperty.call(wt,qt)&&qt!=="layout"&&qt!=="paint"&&qt!=="filter"&&qt!=="metadata"&&qt!=="minzoom"&&qt!=="maxzoom"&&(qt.indexOf("paint.")===0?Kt(wt[qt],Mt[qt],ae,st,qt.slice(6),"setPaintProperty"):ir(wt[qt],Mt[qt])||or(ae,{command:"setLayerProperty",args:[st,qt,Mt[qt]]}));for(qt in Mt)Object.prototype.hasOwnProperty.call(Mt,qt)&&!Object.prototype.hasOwnProperty.call(wt,qt)&&qt!=="layout"&&qt!=="paint"&&qt!=="filter"&&qt!=="metadata"&&qt!=="minzoom"&&qt!=="maxzoom"&&(qt.indexOf("paint.")===0?Kt(wt[qt],Mt[qt],ae,st,qt.slice(6),"setPaintProperty"):ir(wt[qt],Mt[qt])||or(ae,{command:"setLayerProperty",args:[st,qt,Mt[qt]]}))}else or(ae,{command:"removeLayer",args:[st]}),lr=He[He.lastIndexOf(st)+1],or(ae,{command:"addLayer",args:[Mt,lr]})}(H,d.layers,y)}catch(I){console.warn("Unable to compute style diff:",I),y=[{command:"setStyle",args:[d]}]}return y},s.bD=function(b){const d=[],y=b.id;return y===void 0&&d.push({message:`layers.${y}: missing required property "id"`}),b.render===void 0&&d.push({message:`layers.${y}: missing required method "render"`}),b.renderingMode&&b.renderingMode!=="2d"&&b.renderingMode!=="3d"&&d.push({message:`layers.${y}: property "renderingMode" must be either "2d" or "3d"`}),d},s.bE=function b(d,y){if(Array.isArray(d)){if(!Array.isArray(y)||d.length!==y.length)return!1;for(let I=0;I<d.length;I++)if(!b(d[I],y[I]))return!1;return!0}if(typeof d=="object"&&d!==null&&y!==null){if(typeof y!="object"||Object.keys(d).length!==Object.keys(y).length)return!1;for(const I in d)if(!b(d[I],y[I]))return!1;return!0}return d===y},s.bF=Ee,s.bG=Re,s.bH=class extends _o{constructor(b,d){super(b,d),this.current=0}set(b){this.current!==b&&(this.current=b,this.gl.uniform1i(this.location,b))}},s.bI=rp,s.bJ=class extends _o{constructor(b,d){super(b,d),this.current=ju}set(b){if(b[12]!==this.current[12]||b[0]!==this.current[0])return this.current=b,void this.gl.uniformMatrix4fv(this.location,!1,b);for(let d=1;d<16;d++)if(b[d]!==this.current[d]){this.current=b,this.gl.uniformMatrix4fv(this.location,!1,b);break}}},s.bK=Mp,s.bL=class extends _o{constructor(b,d){super(b,d),this.current=[0,0,0]}set(b){b[0]===this.current[0]&&b[1]===this.current[1]&&b[2]===this.current[2]||(this.current=b,this.gl.uniform3f(this.location,b[0],b[1],b[2]))}},s.bM=class extends _o{constructor(b,d){super(b,d),this.current=[0,0]}set(b){b[0]===this.current[0]&&b[1]===this.current[1]||(this.current=b,this.gl.uniform2f(this.location,b[0],b[1]))}},s.bN=R,s.bO=function(b,d){var y=Math.sin(d),I=Math.cos(d);return b[0]=I,b[1]=y,b[2]=0,b[3]=-y,b[4]=I,b[5]=0,b[6]=0,b[7]=0,b[8]=1,b},s.bP=function(b,d,y){var I=d[0],N=d[1],H=d[2];return b[0]=I*y[0]+N*y[3]+H*y[6],b[1]=I*y[1]+N*y[4]+H*y[7],b[2]=I*y[2]+N*y[5]+H*y[8],b},s.bQ=function(b,d,y,I,N,H,G){var X=1/(d-y),ae=1/(I-N),ce=1/(H-G);return b[0]=-2*X,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*ae,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*ce,b[11]=0,b[12]=(d+y)*X,b[13]=(N+I)*ae,b[14]=(G+H)*ce,b[15]=1,b},s.bR=class extends _o{constructor(b,d){super(b,d),this.current=new Array}set(b){if(b!=this.current){this.current=b;const d=new Float32Array(4*b.length);for(let y=0;y<b.length;y++)d[4*y]=b[y].r,d[4*y+1]=b[y].g,d[4*y+2]=b[y].b,d[4*y+3]=b[y].a;this.gl.uniform4fv(this.location,d)}}},s.bS=class extends _o{constructor(b,d){super(b,d),this.current=new Array}set(b){if(b!=this.current){this.current=b;const d=new Float32Array(b);this.gl.uniform1fv(this.location,d)}}},s.bT=class extends j{},s.bU=rE,s.bV=class extends te{},s.bW=np,s.bX=function(b){return b<=1?1:Math.pow(2,Math.ceil(Math.log(b)/Math.LN2))},s.bY=ol,s.bZ=function(b,d,y){var I=d[0],N=d[1],H=d[2],G=y[3]*I+y[7]*N+y[11]*H+y[15];return b[0]=(y[0]*I+y[4]*N+y[8]*H+y[12])/(G=G||1),b[1]=(y[1]*I+y[5]*N+y[9]*H+y[13])/G,b[2]=(y[2]*I+y[6]*N+y[10]*H+y[14])/G,b},s.b_=class extends zl{},s.ba=ap,s.bb=yh,s.bc=se,s.bd=ge,s.be=ba,s.bf=function(b,d,y,I,N){return se(I,N,Ge((b-d)/(y-d),0,1))},s.bg=le,s.bh=function(){return new Float64Array(3)},s.bi=function(b,d,y,I){return b[0]=d[0]+y[0]*I,b[1]=d[1]+y[1]*I,b[2]=d[2]+y[2]*I,b},s.bj=Z,s.bk=function(){return new Float64Array(4)},s.bl=function(b,d,y,I){var N=[],H=[];return N[0]=d[0]-y[0],N[1]=d[1]-y[1],N[2]=d[2]-y[2],H[0]=N[0]*Math.cos(I)-N[1]*Math.sin(I),H[1]=N[0]*Math.sin(I)+N[1]*Math.cos(I),H[2]=N[2],b[0]=H[0]+y[0],b[1]=H[1]+y[1],b[2]=H[2]+y[2],b},s.bm=function(b,d,y,I){var N=[],H=[];return N[0]=d[0]-y[0],N[1]=d[1]-y[1],N[2]=d[2]-y[2],H[0]=N[0],H[1]=N[1]*Math.cos(I)-N[2]*Math.sin(I),H[2]=N[1]*Math.sin(I)+N[2]*Math.cos(I),b[0]=H[0]+y[0],b[1]=H[1]+y[1],b[2]=H[2]+y[2],b},s.bn=function(b,d,y,I){var N=[],H=[];return N[0]=d[0]-y[0],N[1]=d[1]-y[1],N[2]=d[2]-y[2],H[0]=N[2]*Math.sin(I)+N[0]*Math.cos(I),H[1]=N[1],H[2]=N[2]*Math.cos(I)-N[0]*Math.sin(I),b[0]=H[0]+y[0],b[1]=H[1]+y[1],b[2]=H[2]+y[2],b},s.bo=$,s.bp=function(b,d,y){var I=Math.sin(y),N=Math.cos(y),H=d[0],G=d[1],X=d[2],ae=d[3],ce=d[8],Se=d[9],Pe=d[10],Be=d[11];return d!==b&&(b[4]=d[4],b[5]=d[5],b[6]=d[6],b[7]=d[7],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]),b[0]=H*N-ce*I,b[1]=G*N-Se*I,b[2]=X*N-Pe*I,b[3]=ae*N-Be*I,b[8]=H*I+ce*N,b[9]=G*I+Se*N,b[10]=X*I+Pe*N,b[11]=ae*I+Be*N,b},s.bq=function(b,d){const y=le(b,360),I=le(d,360),N=I-y,H=I>y?N-360:N+360;return Math.abs(N)<Math.abs(H)?N:H},s.br=function(b){return b[0]=0,b[1]=0,b[2]=0,b},s.bs=function(b,d,y,I){const N=Math.sqrt(b*b+d*d),H=Math.sqrt(y*y+I*I);b/=N,d/=N,y/=H,I/=H;const G=Math.acos(b*y+d*I);return-d*y+b*I>0?G:-G},s.bt=function(b,d){return b[0]*d[0]+b[1]*d[1]+b[2]*d[2]+b[3]},s.bu=iE,s.bv=function(b,d){const y=le(b,2*Math.PI),I=le(d,2*Math.PI);return Math.min(Math.abs(y-I),Math.abs(y-I+2*Math.PI),Math.abs(y-I-2*Math.PI))},s.bw=function(){const b={},d=at.$version;for(const y in at.$root){const I=at.$root[y];if(I.required){let N=null;N=y==="version"?d:I.type==="array"?[]:{},N!=null&&(b[y]=N)}}return b},s.bx=Zc,s.by=nn,s.bz=function(b){b=b.slice();const d=Object.create(null);for(let y=0;y<b.length;y++)d[b[y].id]=b[y];for(let y=0;y<b.length;y++)"ref"in b[y]&&(b[y]=Tt(b[y],d[b[y].ref]));return b},s.c=Nr,s.c0=function(b,d){return b[0]===d[0]&&b[1]===d[1]&&b[2]===d[2]&&b[3]===d[3]&&b[4]===d[4]&&b[5]===d[5]&&b[6]===d[6]&&b[7]===d[7]&&b[8]===d[8]&&b[9]===d[9]&&b[10]===d[10]&&b[11]===d[11]&&b[12]===d[12]&&b[13]===d[13]&&b[14]===d[14]&&b[15]===d[15]},s.c1=function(b,d){var y=b[0],I=b[1],N=b[2],H=b[3],G=b[4],X=b[5],ae=b[6],ce=b[7],Se=b[8],Pe=b[9],Be=b[10],He=b[11],Xe=b[12],st=b[13],wt=b[14],Mt=b[15],lr=d[0],qt=d[1],Ue=d[2],bt=d[3],Gt=d[4],Ur=d[5],mn=d[6],Yr=d[7],an=d[8],On=d[9],yn=d[10],Tn=d[11],cn=d[12],vi=d[13],Wi=d[14],zi=d[15];return Math.abs(y-lr)<=E*Math.max(1,Math.abs(y),Math.abs(lr))&&Math.abs(I-qt)<=E*Math.max(1,Math.abs(I),Math.abs(qt))&&Math.abs(N-Ue)<=E*Math.max(1,Math.abs(N),Math.abs(Ue))&&Math.abs(H-bt)<=E*Math.max(1,Math.abs(H),Math.abs(bt))&&Math.abs(G-Gt)<=E*Math.max(1,Math.abs(G),Math.abs(Gt))&&Math.abs(X-Ur)<=E*Math.max(1,Math.abs(X),Math.abs(Ur))&&Math.abs(ae-mn)<=E*Math.max(1,Math.abs(ae),Math.abs(mn))&&Math.abs(ce-Yr)<=E*Math.max(1,Math.abs(ce),Math.abs(Yr))&&Math.abs(Se-an)<=E*Math.max(1,Math.abs(Se),Math.abs(an))&&Math.abs(Pe-On)<=E*Math.max(1,Math.abs(Pe),Math.abs(On))&&Math.abs(Be-yn)<=E*Math.max(1,Math.abs(Be),Math.abs(yn))&&Math.abs(He-Tn)<=E*Math.max(1,Math.abs(He),Math.abs(Tn))&&Math.abs(Xe-cn)<=E*Math.max(1,Math.abs(Xe),Math.abs(cn))&&Math.abs(st-vi)<=E*Math.max(1,Math.abs(st),Math.abs(vi))&&Math.abs(wt-Wi)<=E*Math.max(1,Math.abs(wt),Math.abs(Wi))&&Math.abs(Mt-zi)<=E*Math.max(1,Math.abs(Mt),Math.abs(zi))},s.c2=function(b,d){return b[0]=d[0],b[1]=d[1],b[2]=d[2],b[3]=d[3],b[4]=d[4],b[5]=d[5],b[6]=d[6],b[7]=d[7],b[8]=d[8],b[9]=d[9],b[10]=d[10],b[11]=d[11],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15],b},s.c3=b=>b.type==="symbol",s.c4=b=>b.type==="circle",s.c5=b=>b.type==="heatmap",s.c6=b=>b.type==="line",s.c7=b=>b.type==="fill",s.c8=b=>b.type==="fill-extrusion",s.c9=b=>b.type==="hillshade",s.cA=sl,s.cB=xu,s.cC=oa,s.cD=bd,s.cE=class{constructor(b){this._marks={start:[b.url,"start"].join("#"),end:[b.url,"end"].join("#"),measure:b.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let b=performance.getEntriesByName(this._marks.measure);return b.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),b=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),b}},s.cF=function(b,d,y,I,N){return o(this,void 0,void 0,function*(){if(S())try{return yield Ze(b,d,y,I,N)}catch{}return function(H,G,X,ae,ce){const Se=H.width,Pe=H.height;yt&&Vt||(yt=new OffscreenCanvas(Se,Pe),Vt=yt.getContext("2d",{willReadFrequently:!0})),yt.width=Se,yt.height=Pe,Vt.drawImage(H,0,0,Se,Pe);const Be=Vt.getImageData(G,X,ae,ce);return Vt.clearRect(0,0,Se,Pe),Be.data}(b,d,y,I,N)})},s.cG=FT,s.cH=l,s.cI=h,s.cJ=_l,s.cK=o1,s.cL=sf,s.cM=kf,s.ca=b=>b.type==="raster",s.cb=b=>b.type==="background",s.cc=b=>b.type==="custom",s.cd=_e,s.ce=function(b,d,y){const I=ue(d.x-y.x,d.y-y.y),N=ue(b.x-y.x,b.y-y.y);var H,G;return Sr(Math.atan2(I[0]*N[1]-I[1]*N[0],(H=I)[0]*(G=N)[0]+H[1]*G[1]))},s.cf=ke,s.cg=function(b,d){return Dt[d]&&(b instanceof MouseEvent||b instanceof WheelEvent)},s.ch=function(b,d){return fr[d]&&"touches"in b},s.ci=function(b){return fr[b]||Dt[b]},s.cj=function(b,d,y){var I=d[0],N=d[1];return b[0]=y[0]*I+y[4]*N+y[12],b[1]=y[1]*I+y[5]*N+y[13],b},s.ck=function(b,d){const{x:y,y:I}=n_.fromLngLat(d);return!(b<0||b>25||I<0||I>=1||y<0||y>=1)},s.cl=function(b,d){return b[0]=d[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=d[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=d[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},s.cm=class extends Oc{},s.cn=SD,s.cp=function(b){return b.message===dr},s.cq=_n,s.cr=function(b,d){gr.REGISTERED_PROTOCOLS[b]=d},s.cs=function(b){delete gr.REGISTERED_PROTOCOLS[b]},s.ct=function(b,d){const y={};for(let N=0;N<b.length;N++){const H=d&&d[b[N].id]||ch(b[N]);d&&(d[b[N].id]=H);let G=y[H];G||(G=y[H]=[]),G.push(b[N])}const I=[];for(const N in y)I.push(y[N]);return I},s.cu=qn,s.cv=LT,s.cw=$T,s.cx=e_,s.cy=function(b){b.bucket.createArrays(),b.bucket.tilePixelRatio=pe/(512*b.bucket.overscaling),b.bucket.compareText={},b.bucket.iconsNeedLinear=!1;const d=b.bucket.layers[0],y=d.layout,I=d._unevaluatedLayout._values,N={layoutIconSize:I["icon-size"].possiblyEvaluate(new Ro(b.bucket.zoom+1),b.canonical),layoutTextSize:I["text-size"].possiblyEvaluate(new Ro(b.bucket.zoom+1),b.canonical),textMaxSize:I["text-size"].possiblyEvaluate(new Ro(18))};if(b.bucket.textSizeData.kind==="composite"){const{minZoom:ce,maxZoom:Se}=b.bucket.textSizeData;N.compositeTextSizes=[I["text-size"].possiblyEvaluate(new Ro(ce),b.canonical),I["text-size"].possiblyEvaluate(new Ro(Se),b.canonical)]}if(b.bucket.iconSizeData.kind==="composite"){const{minZoom:ce,maxZoom:Se}=b.bucket.iconSizeData;N.compositeIconSizes=[I["icon-size"].possiblyEvaluate(new Ro(ce),b.canonical),I["icon-size"].possiblyEvaluate(new Ro(Se),b.canonical)]}const H=y.get("text-line-height")*au,G=y.get("text-rotation-alignment")!=="viewport"&&y.get("symbol-placement")!=="point",X=y.get("text-keep-upright"),ae=y.get("text-size");for(const ce of b.bucket.features){const Se=y.get("text-font").evaluate(ce,{},b.canonical).join(","),Pe=ae.evaluate(ce,{},b.canonical),Be=N.layoutTextSize.evaluate(ce,{},b.canonical),He=N.layoutIconSize.evaluate(ce,{},b.canonical),Xe={horizontal:{},vertical:void 0},st=ce.text;let wt,Mt=[0,0];if(st){const Ue=st.toString(),bt=y.get("text-letter-spacing").evaluate(ce,{},b.canonical)*au,Gt=hg(Ue)?bt:0,Ur=y.get("text-anchor").evaluate(ce,{},b.canonical),mn=lE(d,ce,b.canonical);if(!mn){const yn=y.get("text-radial-offset").evaluate(ce,{},b.canonical);Mt=yn?qT(Ur,[yn*au,sE]):y.get("text-offset").evaluate(ce,{},b.canonical).map(Tn=>Tn*au)}let Yr=G?"center":y.get("text-justify").evaluate(ce,{},b.canonical);const an=y.get("symbol-placement")==="point"?y.get("text-max-width").evaluate(ce,{},b.canonical)*au:1/0,On=()=>{b.bucket.allowVerticalPlacement&&Of(Ue)&&(Xe.vertical=wv(st,b.glyphMap,b.glyphPositions,b.imagePositions,Se,an,H,Ur,"left",Gt,Mt,s.al.vertical,!0,Be,Pe))};if(!G&&mn){const yn=new Set;if(Yr==="auto")for(let cn=0;cn<mn.values.length;cn+=2)yn.add(jp(mn.values[cn]));else yn.add(Yr);let Tn=!1;for(const cn of yn)if(!Xe.horizontal[cn])if(Tn)Xe.horizontal[cn]=Xe.horizontal[0];else{const vi=wv(st,b.glyphMap,b.glyphPositions,b.imagePositions,Se,an,H,"center",cn,Gt,Mt,s.al.horizontal,!1,Be,Pe);vi&&(Xe.horizontal[cn]=vi,Tn=vi.positionedLines.length===1)}On()}else{Yr==="auto"&&(Yr=jp(Ur));const yn=wv(st,b.glyphMap,b.glyphPositions,b.imagePositions,Se,an,H,Ur,Yr,Gt,Mt,s.al.horizontal,!1,Be,Pe);yn&&(Xe.horizontal[Yr]=yn),On(),Of(Ue)&&G&&X&&(Xe.vertical=wv(st,b.glyphMap,b.glyphPositions,b.imagePositions,Se,an,H,Ur,Yr,Gt,Mt,s.al.vertical,!1,Be,Pe))}}let lr=!1;if(ce.icon&&ce.icon.name){const Ue=b.imageMap[ce.icon.name];Ue&&(wt=ee(b.imagePositions[ce.icon.name],y.get("icon-offset").evaluate(ce,{},b.canonical),y.get("icon-anchor").evaluate(ce,{},b.canonical)),lr=!!Ue.sdf,b.bucket.sdfIcons===void 0?b.bucket.sdfIcons=lr:b.bucket.sdfIcons!==lr&&dt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ue.pixelRatio!==b.bucket.pixelRatio||y.get("icon-rotate").constantOr(1)!==0)&&(b.bucket.iconsNeedLinear=!0))}const qt=Sh(Xe.horizontal)||Xe.vertical;b.bucket.iconsInText=!!qt&&qt.iconsInText,(qt||wt)&&Xa(b.bucket,ce,Xe,wt,b.imageMap,N,Be,He,Mt,lr,b.canonical,b.subdivisionGranularity)}b.showCollisionBoxes&&b.bucket.generateCollisionDebugBuffers()},s.cz=E0,s.d=Je,s.e=$e,s.f=b=>o(void 0,void 0,void 0,function*(){if(b.byteLength===0)return createImageBitmap(new ImageData(1,1));const d=new Blob([new Uint8Array(b)],{type:"image/png"});try{return createImageBitmap(d)}catch(y){throw new Error(`Could not load image because of ${y.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),s.g=wr,s.h=b=>new Promise((d,y)=>{const I=new Image;I.onload=()=>{d(I),URL.revokeObjectURL(I.src),I.onload=null,window.requestAnimationFrame(()=>{I.src=rt})},I.onerror=()=>y(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const N=new Blob([new Uint8Array(b)],{type:"image/png"});I.src=b.byteLength?URL.createObjectURL(N):rt}),s.i=ut,s.j=(b,d)=>ot($e(b,{type:"json"}),d),s.k=gt,s.l=Ye,s.m=ot,s.n=(b,d)=>ot($e(b,{type:"arrayBuffer"}),d),s.o=function(b){return new bd(b).readFields(wg,[])},s.p=s1,s.q=zs,s.r=ys,s.s=At,s.t=oc,s.u=ta,s.v=at,s.w=dt,s.x=ud,s.y=dh,s.z=function([b,d,y]){return d+=90,d*=Math.PI/180,y*=Math.PI/180,{x:b*Math.cos(d)*Math.sin(y),y:b*Math.sin(d)*Math.sin(y),z:b*Math.cos(y)}}}),i("worker",["./shared"],function(s){class o{constructor(Me){this.keyCache={},Me&&this.replace(Me)}replace(Me){this._layerConfigs={},this._layers={},this.update(Me,[])}update(Me,Le){for(const gt of Me){this._layerConfigs[gt.id]=gt;const kt=this._layers[gt.id]=s.bA(gt);kt._featureFilter=s.a7(kt.filter),this.keyCache[gt.id]&&delete this.keyCache[gt.id]}for(const gt of Le)delete this.keyCache[gt],delete this._layerConfigs[gt],delete this._layers[gt];this.familiesBySource={};const Ye=s.ct(Object.values(this._layerConfigs),this.keyCache);for(const gt of Ye){const kt=gt.map(ar=>this._layers[ar.id]),at=kt[0];if(at.visibility==="none")continue;const Ft=at.source||"";let Tt=this.familiesBySource[Ft];Tt||(Tt=this.familiesBySource[Ft]={});const ir=at.sourceLayer||"_geojsonTileLayer";let or=Tt[ir];or||(or=Tt[ir]=[]),or.push(kt)}}}class l{constructor(Me){const Le={},Ye=[];for(const Ft in Me){const Tt=Me[Ft],ir=Le[Ft]={};for(const or in Tt){const ar=Tt[+or];if(!ar||ar.bitmap.width===0||ar.bitmap.height===0)continue;const zr={x:0,y:0,w:ar.bitmap.width+2,h:ar.bitmap.height+2};Ye.push(zr),ir[or]={rect:zr,metrics:ar.metrics}}}const{w:gt,h:kt}=s.p(Ye),at=new s.q({width:gt||1,height:kt||1});for(const Ft in Me){const Tt=Me[Ft];for(const ir in Tt){const or=Tt[+ir];if(!or||or.bitmap.width===0||or.bitmap.height===0)continue;const ar=Le[Ft][ir].rect;s.q.copy(or.bitmap,at,{x:0,y:0},{x:ar.x+1,y:ar.y+1},or.bitmap)}}this.image=at,this.positions=Le}}s.cu("GlyphAtlas",l);class u{constructor(Me){this.tileID=new s.Y(Me.tileID.overscaledZ,Me.tileID.wrap,Me.tileID.canonical.z,Me.tileID.canonical.x,Me.tileID.canonical.y),this.uid=Me.uid,this.zoom=Me.zoom,this.pixelRatio=Me.pixelRatio,this.tileSize=Me.tileSize,this.source=Me.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Me.showCollisionBoxes,this.collectResourceTiming=!!Me.collectResourceTiming,this.returnDependencies=!!Me.returnDependencies,this.promoteId=Me.promoteId,this.inFlightDependencies=[]}parse(Me,Le,Ye,gt,kt){return s._(this,void 0,void 0,function*(){this.status="parsing",this.data=Me,this.collisionBoxArray=new s.a5;const at=new s.cv(Object.keys(Me.layers).sort()),Ft=new s.cw(this.tileID,this.promoteId);Ft.bucketLayerIDs=[];const Tt={},ir={featureIndex:Ft,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ye,subdivisionGranularity:kt},or=Le.familiesBySource[this.source];for(const vr in or){const Lt=Me.layers[vr];if(!Lt)continue;Lt.version===1&&s.w(`Vector tile source "${this.source}" layer "${vr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ir=at.encode(vr),fn=[];for(let Fn=0;Fn<Lt.length;Fn++){const ui=Lt.feature(Fn),yi=Ft.getId(ui,vr);fn.push({feature:ui,id:yi,index:Fn,sourceLayerIndex:Ir})}for(const Fn of or[vr]){const ui=Fn[0];ui.source!==this.source&&s.w(`layer.source = ${ui.source} does not equal this.source = ${this.source}`),ui.minzoom&&this.zoom<Math.floor(ui.minzoom)||ui.maxzoom&&this.zoom>=ui.maxzoom||ui.visibility!=="none"&&(f(Fn,this.zoom,Ye),(Tt[ui.id]=ui.createBucket({index:Ft.bucketLayerIDs.length,layers:Fn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ir,sourceID:this.source})).populate(fn,ir,this.tileID.canonical),Ft.bucketLayerIDs.push(Fn.map(yi=>yi.id)))}}const ar=s.bF(ir.glyphDependencies,vr=>Object.keys(vr).map(Number));this.inFlightDependencies.forEach(vr=>vr==null?void 0:vr.abort()),this.inFlightDependencies=[];let zr=Promise.resolve({});if(Object.keys(ar).length){const vr=new AbortController;this.inFlightDependencies.push(vr),zr=gt.sendAsync({type:"GG",data:{stacks:ar,source:this.source,tileID:this.tileID,type:"glyphs"}},vr)}const mt=Object.keys(ir.iconDependencies);let It=Promise.resolve({});if(mt.length){const vr=new AbortController;this.inFlightDependencies.push(vr),It=gt.sendAsync({type:"GI",data:{icons:mt,source:this.source,tileID:this.tileID,type:"icons"}},vr)}const Kt=Object.keys(ir.patternDependencies);let br=Promise.resolve({});if(Kt.length){const vr=new AbortController;this.inFlightDependencies.push(vr),br=gt.sendAsync({type:"GI",data:{icons:Kt,source:this.source,tileID:this.tileID,type:"patterns"}},vr)}const[Rr,jt,Yt]=yield Promise.all([zr,It,br]),Jt=new l(Rr),rr=new s.cx(jt,Yt);for(const vr in Tt){const Lt=Tt[vr];Lt instanceof s.a6?(f(Lt.layers,this.zoom,Ye),s.cy({bucket:Lt,glyphMap:Rr,glyphPositions:Jt.positions,imageMap:jt,imagePositions:rr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:ir.subdivisionGranularity})):Lt.hasPattern&&(Lt instanceof s.cz||Lt instanceof s.cA||Lt instanceof s.cB)&&(f(Lt.layers,this.zoom,Ye),Lt.addFeatures(ir,this.tileID.canonical,rr.patternPositions))}return this.status="done",{buckets:Object.values(Tt).filter(vr=>!vr.isEmpty()),featureIndex:Ft,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Jt.image,imageAtlas:rr,glyphMap:this.returnDependencies?Rr:null,iconMap:this.returnDependencies?jt:null,glyphPositions:this.returnDependencies?Jt.positions:null}})}}function f(Je,Me,Le){const Ye=new s.C(Me);for(const gt of Je)gt.recalculate(Ye,Le)}class h{constructor(Me,Le,Ye){this.actor=Me,this.layerIndex=Le,this.availableImages=Ye,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(Me,Le){return s._(this,void 0,void 0,function*(){const Ye=yield s.n(Me.request,Le);try{return{vectorTile:new s.cC.VectorTile(new s.cD(Ye.data)),rawData:Ye.data,cacheControl:Ye.cacheControl,expires:Ye.expires}}catch(gt){const kt=new Uint8Array(Ye.data);let at=`Unable to parse the tile at ${Me.request.url}, `;throw at+=kt[0]===31&&kt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${gt.message}`,new Error(at)}})}loadTile(Me){return s._(this,void 0,void 0,function*(){const Le=Me.uid,Ye=!!(Me&&Me.request&&Me.request.collectResourceTiming)&&new s.cE(Me.request),gt=new u(Me);this.loading[Le]=gt;const kt=new AbortController;gt.abort=kt;try{const at=yield this.loadVectorTile(Me,kt);if(delete this.loading[Le],!at)return null;const Ft=at.rawData,Tt={};at.expires&&(Tt.expires=at.expires),at.cacheControl&&(Tt.cacheControl=at.cacheControl);const ir={};if(Ye){const ar=Ye.finish();ar&&(ir.resourceTiming=JSON.parse(JSON.stringify(ar)))}gt.vectorTile=at.vectorTile;const or=gt.parse(at.vectorTile,this.layerIndex,this.availableImages,this.actor,Me.subdivisionGranularity);this.loaded[Le]=gt,this.fetching[Le]={rawTileData:Ft,cacheControl:Tt,resourceTiming:ir};try{const ar=yield or;return s.e({rawTileData:Ft.slice(0)},ar,Tt,ir)}finally{delete this.fetching[Le]}}catch(at){throw delete this.loading[Le],gt.status="done",this.loaded[Le]=gt,at}})}reloadTile(Me){return s._(this,void 0,void 0,function*(){const Le=Me.uid;if(!this.loaded||!this.loaded[Le])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ye=this.loaded[Le];if(Ye.showCollisionBoxes=Me.showCollisionBoxes,Ye.status==="parsing"){const gt=yield Ye.parse(Ye.vectorTile,this.layerIndex,this.availableImages,this.actor,Me.subdivisionGranularity);let kt;if(this.fetching[Le]){const{rawTileData:at,cacheControl:Ft,resourceTiming:Tt}=this.fetching[Le];delete this.fetching[Le],kt=s.e({rawTileData:at.slice(0)},gt,Ft,Tt)}else kt=gt;return kt}if(Ye.status==="done"&&Ye.vectorTile)return Ye.parse(Ye.vectorTile,this.layerIndex,this.availableImages,this.actor,Me.subdivisionGranularity)})}abortTile(Me){return s._(this,void 0,void 0,function*(){const Le=this.loading,Ye=Me.uid;Le&&Le[Ye]&&Le[Ye].abort&&(Le[Ye].abort.abort(),delete Le[Ye])})}removeTile(Me){return s._(this,void 0,void 0,function*(){this.loaded&&this.loaded[Me.uid]&&delete this.loaded[Me.uid]})}}class p{constructor(){this.loaded={}}loadTile(Me){return s._(this,void 0,void 0,function*(){const{uid:Le,encoding:Ye,rawImageData:gt,redFactor:kt,greenFactor:at,blueFactor:Ft,baseShift:Tt}=Me,ir=gt.width+2,or=gt.height+2,ar=s.b(gt)?new s.R({width:ir,height:or},yield s.cF(gt,-1,-1,ir,or)):gt,zr=new s.cG(Le,ar,Ye,kt,at,Ft,Tt);return this.loaded=this.loaded||{},this.loaded[Le]=zr,zr})}removeTile(Me){const Le=this.loaded,Ye=Me.uid;Le&&Le[Ye]&&delete Le[Ye]}}var m,v,w=function(){if(v)return m;function Je(Le,Ye){if(Le.length!==0){Me(Le[0],Ye);for(var gt=1;gt<Le.length;gt++)Me(Le[gt],!Ye)}}function Me(Le,Ye){for(var gt=0,kt=0,at=0,Ft=Le.length,Tt=Ft-1;at<Ft;Tt=at++){var ir=(Le[at][0]-Le[Tt][0])*(Le[Tt][1]+Le[at][1]),or=gt+ir;kt+=Math.abs(gt)>=Math.abs(ir)?gt-or+ir:ir-or+gt,gt=or}gt+kt>=0!=!!Ye&&Le.reverse()}return v=1,m=function Le(Ye,gt){var kt,at=Ye&&Ye.type;if(at==="FeatureCollection")for(kt=0;kt<Ye.features.length;kt++)Le(Ye.features[kt],gt);else if(at==="GeometryCollection")for(kt=0;kt<Ye.geometries.length;kt++)Le(Ye.geometries[kt],gt);else if(at==="Feature")Le(Ye.geometry,gt);else if(at==="Polygon")Je(Ye.coordinates,gt);else if(at==="MultiPolygon")for(kt=0;kt<Ye.coordinates.length;kt++)Je(Ye.coordinates[kt],gt);return Ye}}(),x=s.cH(w);const T=s.cC.VectorTileFeature.prototype.toGeoJSON;class A{constructor(Me){this._feature=Me,this.extent=s.Z,this.type=Me.type,this.properties=Me.tags,"id"in Me&&!isNaN(Me.id)&&(this.id=parseInt(Me.id,10))}loadGeometry(){if(this._feature.type===1){const Me=[];for(const Le of this._feature.geometry)Me.push([new s.P(Le[0],Le[1])]);return Me}{const Me=[];for(const Le of this._feature.geometry){const Ye=[];for(const gt of Le)Ye.push(new s.P(gt[0],gt[1]));Me.push(Ye)}return Me}}toGeoJSON(Me,Le,Ye){return T.call(this,Me,Le,Ye)}}class P{constructor(Me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.Z,this.length=Me.length,this._features=Me}feature(Me){return new A(this._features[Me])}}var S,E,_,R={exports:{}},O=function(){if(_)return R.exports;_=1;var Je=s.cK(),Me=function(){if(E)return S;E=1;var or=s.cI(),ar=s.cJ().VectorTileFeature;function zr(It,Kt){this.options=Kt||{},this.features=It,this.length=It.length}function mt(It,Kt){this.id=typeof It.id=="number"?It.id:void 0,this.type=It.type,this.rawGeometry=It.type===1?[It.geometry]:It.geometry,this.properties=It.tags,this.extent=Kt||4096}return S=zr,zr.prototype.feature=function(It){return new mt(this.features[It],this.options.extent)},mt.prototype.loadGeometry=function(){var It=this.rawGeometry;this.geometry=[];for(var Kt=0;Kt<It.length;Kt++){for(var br=It[Kt],Rr=[],jt=0;jt<br.length;jt++)Rr.push(new or(br[jt][0],br[jt][1]));this.geometry.push(Rr)}return this.geometry},mt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var It=this.geometry,Kt=1/0,br=-1/0,Rr=1/0,jt=-1/0,Yt=0;Yt<It.length;Yt++)for(var Jt=It[Yt],rr=0;rr<Jt.length;rr++){var vr=Jt[rr];Kt=Math.min(Kt,vr.x),br=Math.max(br,vr.x),Rr=Math.min(Rr,vr.y),jt=Math.max(jt,vr.y)}return[Kt,Rr,br,jt]},mt.prototype.toGeoJSON=ar.prototype.toGeoJSON,S}();function Le(or){var ar=new Je;return function(zr,mt){for(var It in zr.layers)mt.writeMessage(3,Ye,zr.layers[It])}(or,ar),ar.finish()}function Ye(or,ar){var zr;ar.writeVarintField(15,or.version||1),ar.writeStringField(1,or.name||""),ar.writeVarintField(5,or.extent||4096);var mt={keys:[],values:[],keycache:{},valuecache:{}};for(zr=0;zr<or.length;zr++)mt.feature=or.feature(zr),ar.writeMessage(2,gt,mt);var It=mt.keys;for(zr=0;zr<It.length;zr++)ar.writeStringField(3,It[zr]);var Kt=mt.values;for(zr=0;zr<Kt.length;zr++)ar.writeMessage(4,ir,Kt[zr])}function gt(or,ar){var zr=or.feature;zr.id!==void 0&&ar.writeVarintField(1,zr.id),ar.writeMessage(2,kt,or),ar.writeVarintField(3,zr.type),ar.writeMessage(4,Tt,zr)}function kt(or,ar){var zr=or.feature,mt=or.keys,It=or.values,Kt=or.keycache,br=or.valuecache;for(var Rr in zr.properties){var jt=zr.properties[Rr],Yt=Kt[Rr];if(jt!==null){Yt===void 0&&(mt.push(Rr),Kt[Rr]=Yt=mt.length-1),ar.writeVarint(Yt);var Jt=typeof jt;Jt!=="string"&&Jt!=="boolean"&&Jt!=="number"&&(jt=JSON.stringify(jt));var rr=Jt+":"+jt,vr=br[rr];vr===void 0&&(It.push(jt),br[rr]=vr=It.length-1),ar.writeVarint(vr)}}}function at(or,ar){return(ar<<3)+(7&or)}function Ft(or){return or<<1^or>>31}function Tt(or,ar){for(var zr=or.loadGeometry(),mt=or.type,It=0,Kt=0,br=zr.length,Rr=0;Rr<br;Rr++){var jt=zr[Rr],Yt=1;mt===1&&(Yt=jt.length),ar.writeVarint(at(1,Yt));for(var Jt=mt===3?jt.length-1:jt.length,rr=0;rr<Jt;rr++){rr===1&&mt!==1&&ar.writeVarint(at(2,Jt-1));var vr=jt[rr].x-It,Lt=jt[rr].y-Kt;ar.writeVarint(Ft(vr)),ar.writeVarint(Ft(Lt)),It+=vr,Kt+=Lt}mt===3&&ar.writeVarint(at(7,1))}}function ir(or,ar){var zr=typeof or;zr==="string"?ar.writeStringField(1,or):zr==="boolean"?ar.writeBooleanField(7,or):zr==="number"&&(or%1!=0?ar.writeDoubleField(3,or):or<0?ar.writeSVarintField(6,or):ar.writeVarintField(5,or))}return R.exports=Le,R.exports.fromVectorTileJs=Le,R.exports.fromGeojsonVt=function(or,ar){ar=ar||{};var zr={};for(var mt in or)zr[mt]=new Me(or[mt].features,ar),zr[mt].name=mt,zr[mt].version=ar.version,zr[mt].extent=ar.extent;return Le({layers:zr})},R.exports.GeoJSONWrapper=Me,R.exports}(),F=s.cH(O);const $={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Je=>Je},z=Math.fround||(q=new Float32Array(1),Je=>(q[0]=+Je,q[0]));var q;const Z=3,V=5,J=6;class fe{constructor(Me){this.options=Object.assign(Object.create($),Me),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Me){const{log:Le,minZoom:Ye,maxZoom:gt}=this.options;Le&&console.time("total time");const kt=`prepare ${Me.length} points`;Le&&console.time(kt),this.points=Me;const at=[];for(let Tt=0;Tt<Me.length;Tt++){const ir=Me[Tt];if(!ir.geometry)continue;const[or,ar]=ir.geometry.coordinates,zr=z(ve(or)),mt=z(le(ar));at.push(zr,mt,1/0,Tt,-1,1),this.options.reduce&&at.push(0)}let Ft=this.trees[gt+1]=this._createTree(at);Le&&console.timeEnd(kt);for(let Tt=gt;Tt>=Ye;Tt--){const ir=+Date.now();Ft=this.trees[Tt]=this._createTree(this._cluster(Ft,Tt)),Le&&console.log("z%d: %d clusters in %dms",Tt,Ft.numItems,+Date.now()-ir)}return Le&&console.timeEnd("total time"),this}getClusters(Me,Le){let Ye=((Me[0]+180)%360+360)%360-180;const gt=Math.max(-90,Math.min(90,Me[1]));let kt=Me[2]===180?180:((Me[2]+180)%360+360)%360-180;const at=Math.max(-90,Math.min(90,Me[3]));if(Me[2]-Me[0]>=360)Ye=-180,kt=180;else if(Ye>kt){const ar=this.getClusters([Ye,gt,180,at],Le),zr=this.getClusters([-180,gt,kt,at],Le);return ar.concat(zr)}const Ft=this.trees[this._limitZoom(Le)],Tt=Ft.range(ve(Ye),le(at),ve(kt),le(gt)),ir=Ft.data,or=[];for(const ar of Tt){const zr=this.stride*ar;or.push(ir[zr+V]>1?ue(ir,zr,this.clusterProps):this.points[ir[zr+Z]])}return or}getChildren(Me){const Le=this._getOriginId(Me),Ye=this._getOriginZoom(Me),gt="No cluster with the specified id.",kt=this.trees[Ye];if(!kt)throw new Error(gt);const at=kt.data;if(Le*this.stride>=at.length)throw new Error(gt);const Ft=this.options.radius/(this.options.extent*Math.pow(2,Ye-1)),Tt=kt.within(at[Le*this.stride],at[Le*this.stride+1],Ft),ir=[];for(const or of Tt){const ar=or*this.stride;at[ar+4]===Me&&ir.push(at[ar+V]>1?ue(at,ar,this.clusterProps):this.points[at[ar+Z]])}if(ir.length===0)throw new Error(gt);return ir}getLeaves(Me,Le,Ye){const gt=[];return this._appendLeaves(gt,Me,Le=Le||10,Ye=Ye||0,0),gt}getTile(Me,Le,Ye){const gt=this.trees[this._limitZoom(Me)],kt=Math.pow(2,Me),{extent:at,radius:Ft}=this.options,Tt=Ft/at,ir=(Ye-Tt)/kt,or=(Ye+1+Tt)/kt,ar={features:[]};return this._addTileFeatures(gt.range((Le-Tt)/kt,ir,(Le+1+Tt)/kt,or),gt.data,Le,Ye,kt,ar),Le===0&&this._addTileFeatures(gt.range(1-Tt/kt,ir,1,or),gt.data,kt,Ye,kt,ar),Le===kt-1&&this._addTileFeatures(gt.range(0,ir,Tt/kt,or),gt.data,-1,Ye,kt,ar),ar.features.length?ar:null}getClusterExpansionZoom(Me){let Le=this._getOriginZoom(Me)-1;for(;Le<=this.options.maxZoom;){const Ye=this.getChildren(Me);if(Le++,Ye.length!==1)break;Me=Ye[0].properties.cluster_id}return Le}_appendLeaves(Me,Le,Ye,gt,kt){const at=this.getChildren(Le);for(const Ft of at){const Tt=Ft.properties;if(Tt&&Tt.cluster?kt+Tt.point_count<=gt?kt+=Tt.point_count:kt=this._appendLeaves(Me,Tt.cluster_id,Ye,gt,kt):kt<gt?kt++:Me.push(Ft),Me.length===Ye)break}return kt}_createTree(Me){const Le=new s.aF(Me.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ye=0;Ye<Me.length;Ye+=this.stride)Le.add(Me[Ye],Me[Ye+1]);return Le.finish(),Le.data=Me,Le}_addTileFeatures(Me,Le,Ye,gt,kt,at){for(const Ft of Me){const Tt=Ft*this.stride,ir=Le[Tt+V]>1;let or,ar,zr;if(ir)or=pe(Le,Tt,this.clusterProps),ar=Le[Tt],zr=Le[Tt+1];else{const Kt=this.points[Le[Tt+Z]];or=Kt.properties;const[br,Rr]=Kt.geometry.coordinates;ar=ve(br),zr=le(Rr)}const mt={type:1,geometry:[[Math.round(this.options.extent*(ar*kt-Ye)),Math.round(this.options.extent*(zr*kt-gt))]],tags:or};let It;It=ir||this.options.generateId?Le[Tt+Z]:this.points[Le[Tt+Z]].id,It!==void 0&&(mt.id=It),at.features.push(mt)}}_limitZoom(Me){return Math.max(this.options.minZoom,Math.min(Math.floor(+Me),this.options.maxZoom+1))}_cluster(Me,Le){const{radius:Ye,extent:gt,reduce:kt,minPoints:at}=this.options,Ft=Ye/(gt*Math.pow(2,Le)),Tt=Me.data,ir=[],or=this.stride;for(let ar=0;ar<Tt.length;ar+=or){if(Tt[ar+2]<=Le)continue;Tt[ar+2]=Le;const zr=Tt[ar],mt=Tt[ar+1],It=Me.within(Tt[ar],Tt[ar+1],Ft),Kt=Tt[ar+V];let br=Kt;for(const Rr of It){const jt=Rr*or;Tt[jt+2]>Le&&(br+=Tt[jt+V])}if(br>Kt&&br>=at){let Rr,jt=zr*Kt,Yt=mt*Kt,Jt=-1;const rr=((ar/or|0)<<5)+(Le+1)+this.points.length;for(const vr of It){const Lt=vr*or;if(Tt[Lt+2]<=Le)continue;Tt[Lt+2]=Le;const Ir=Tt[Lt+V];jt+=Tt[Lt]*Ir,Yt+=Tt[Lt+1]*Ir,Tt[Lt+4]=rr,kt&&(Rr||(Rr=this._map(Tt,ar,!0),Jt=this.clusterProps.length,this.clusterProps.push(Rr)),kt(Rr,this._map(Tt,Lt)))}Tt[ar+4]=rr,ir.push(jt/br,Yt/br,1/0,rr,-1,br),kt&&ir.push(Jt)}else{for(let Rr=0;Rr<or;Rr++)ir.push(Tt[ar+Rr]);if(br>1)for(const Rr of It){const jt=Rr*or;if(!(Tt[jt+2]<=Le)){Tt[jt+2]=Le;for(let Yt=0;Yt<or;Yt++)ir.push(Tt[jt+Yt])}}}}return ir}_getOriginId(Me){return Me-this.points.length>>5}_getOriginZoom(Me){return(Me-this.points.length)%32}_map(Me,Le,Ye){if(Me[Le+V]>1){const at=this.clusterProps[Me[Le+J]];return Ye?Object.assign({},at):at}const gt=this.points[Me[Le+Z]].properties,kt=this.options.map(gt);return Ye&&kt===gt?Object.assign({},kt):kt}}function ue(Je,Me,Le){return{type:"Feature",id:Je[Me+Z],properties:pe(Je,Me,Le),geometry:{type:"Point",coordinates:[(Ye=Je[Me],360*(Ye-.5)),se(Je[Me+1])]}};var Ye}function pe(Je,Me,Le){const Ye=Je[Me+V],gt=Ye>=1e4?`${Math.round(Ye/1e3)}k`:Ye>=1e3?Math.round(Ye/100)/10+"k":Ye,kt=Je[Me+J],at=kt===-1?{}:Object.assign({},Le[kt]);return Object.assign(at,{cluster:!0,cluster_id:Je[Me+Z],point_count:Ye,point_count_abbreviated:gt})}function ve(Je){return Je/360+.5}function le(Je){const Me=Math.sin(Je*Math.PI/180),Le=.5-.25*Math.log((1+Me)/(1-Me))/Math.PI;return Le<0?0:Le>1?1:Le}function se(Je){const Me=(180-360*Je)*Math.PI/180;return 360*Math.atan(Math.exp(Me))/Math.PI-90}function ge(Je,Me,Le,Ye){let gt=Ye;const kt=Me+(Le-Me>>1);let at,Ft=Le-Me;const Tt=Je[Me],ir=Je[Me+1],or=Je[Le],ar=Je[Le+1];for(let zr=Me+3;zr<Le;zr+=3){const mt=_e(Je[zr],Je[zr+1],Tt,ir,or,ar);if(mt>gt)at=zr,gt=mt;else if(mt===gt){const It=Math.abs(zr-kt);It<Ft&&(at=zr,Ft=It)}}gt>Ye&&(at-Me>3&&ge(Je,Me,at,Ye),Je[at+2]=gt,Le-at>3&&ge(Je,at,Le,Ye))}function _e(Je,Me,Le,Ye,gt,kt){let at=gt-Le,Ft=kt-Ye;if(at!==0||Ft!==0){const Tt=((Je-Le)*at+(Me-Ye)*Ft)/(at*at+Ft*Ft);Tt>1?(Le=gt,Ye=kt):Tt>0&&(Le+=at*Tt,Ye+=Ft*Tt)}return at=Je-Le,Ft=Me-Ye,at*at+Ft*Ft}function ke(Je,Me,Le,Ye){const gt={id:Je??null,type:Me,geometry:Le,tags:Ye,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")Ge(gt,Le);else if(Me==="Polygon")Ge(gt,Le[0]);else if(Me==="MultiLineString")for(const kt of Le)Ge(gt,kt);else if(Me==="MultiPolygon")for(const kt of Le)Ge(gt,kt[0]);return gt}function Ge(Je,Me){for(let Le=0;Le<Me.length;Le+=3)Je.minX=Math.min(Je.minX,Me[Le]),Je.minY=Math.min(Je.minY,Me[Le+1]),Je.maxX=Math.max(Je.maxX,Me[Le]),Je.maxY=Math.max(Je.maxY,Me[Le+1])}function ct(Je,Me,Le,Ye){if(!Me.geometry)return;const gt=Me.geometry.coordinates;if(gt&&gt.length===0)return;const kt=Me.geometry.type,at=Math.pow(Le.tolerance/((1<<Le.maxZoom)*Le.extent),2);let Ft=[],Tt=Me.id;if(Le.promoteId?Tt=Me.properties[Le.promoteId]:Le.generateId&&(Tt=Ye||0),kt==="Point")$e(gt,Ft);else if(kt==="MultiPoint")for(const ir of gt)$e(ir,Ft);else if(kt==="LineString")we(gt,Ft,at,!1);else if(kt==="MultiLineString"){if(Le.lineMetrics){for(const ir of gt)Ft=[],we(ir,Ft,at,!1),Je.push(ke(Tt,"LineString",Ft,Me.properties));return}Ee(gt,Ft,at,!1)}else if(kt==="Polygon")Ee(gt,Ft,at,!0);else{if(kt!=="MultiPolygon"){if(kt==="GeometryCollection"){for(const ir of Me.geometry.geometries)ct(Je,{id:Tt,geometry:ir,properties:Me.properties},Le,Ye);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const ir of gt){const or=[];Ee(ir,or,at,!0),Ft.push(or)}}Je.push(ke(Tt,kt,Ft,Me.properties))}function $e(Je,Me){Me.push(Re(Je[0]),ft(Je[1]),0)}function we(Je,Me,Le,Ye){let gt,kt,at=0;for(let Tt=0;Tt<Je.length;Tt++){const ir=Re(Je[Tt][0]),or=ft(Je[Tt][1]);Me.push(ir,or,0),Tt>0&&(at+=Ye?(gt*or-ir*kt)/2:Math.sqrt(Math.pow(ir-gt,2)+Math.pow(or-kt,2))),gt=ir,kt=or}const Ft=Me.length-3;Me[2]=1,ge(Me,0,Ft,Le),Me[Ft+2]=1,Me.size=Math.abs(at),Me.start=0,Me.end=Me.size}function Ee(Je,Me,Le,Ye){for(let gt=0;gt<Je.length;gt++){const kt=[];we(Je[gt],kt,Le,Ye),Me.push(kt)}}function Re(Je){return Je/360+.5}function ft(Je){const Me=Math.sin(Je*Math.PI/180),Le=.5-.25*Math.log((1+Me)/(1-Me))/Math.PI;return Le<0?0:Le>1?1:Le}function qe(Je,Me,Le,Ye,gt,kt,at,Ft){if(Ye/=Me,kt>=(Le/=Me)&&at<Ye)return Je;if(at<Le||kt>=Ye)return null;const Tt=[];for(const ir of Je){const or=ir.geometry;let ar=ir.type;const zr=gt===0?ir.minX:ir.minY,mt=gt===0?ir.maxX:ir.maxY;if(zr>=Le&&mt<Ye){Tt.push(ir);continue}if(mt<Le||zr>=Ye)continue;let It=[];if(ar==="Point"||ar==="MultiPoint")dt(or,It,Le,Ye,gt);else if(ar==="LineString")he(or,It,Le,Ye,gt,!1,Ft.lineMetrics);else if(ar==="MultiLineString")xt(or,It,Le,Ye,gt,!1);else if(ar==="Polygon")xt(or,It,Le,Ye,gt,!0);else if(ar==="MultiPolygon")for(const Kt of or){const br=[];xt(Kt,br,Le,Ye,gt,!0),br.length&&It.push(br)}if(It.length){if(Ft.lineMetrics&&ar==="LineString"){for(const Kt of It)Tt.push(ke(ir.id,ar,Kt,ir.tags));continue}ar!=="LineString"&&ar!=="MultiLineString"||(It.length===1?(ar="LineString",It=It[0]):ar="MultiLineString"),ar!=="Point"&&ar!=="MultiPoint"||(ar=It.length===3?"Point":"MultiPoint"),Tt.push(ke(ir.id,ar,It,ir.tags))}}return Tt.length?Tt:null}function dt(Je,Me,Le,Ye,gt){for(let kt=0;kt<Je.length;kt+=3){const at=Je[kt+gt];at>=Le&&at<=Ye&&je(Me,Je[kt],Je[kt+1],Je[kt+2])}}function he(Je,Me,Le,Ye,gt,kt,at){let Ft=ut(Je);const Tt=gt===0?rt:Ze;let ir,or,ar=Je.start;for(let br=0;br<Je.length-3;br+=3){const Rr=Je[br],jt=Je[br+1],Yt=Je[br+2],Jt=Je[br+3],rr=Je[br+4],vr=gt===0?Rr:jt,Lt=gt===0?Jt:rr;let Ir=!1;at&&(ir=Math.sqrt(Math.pow(Rr-Jt,2)+Math.pow(jt-rr,2))),vr<Le?Lt>Le&&(or=Tt(Ft,Rr,jt,Jt,rr,Le),at&&(Ft.start=ar+ir*or)):vr>Ye?Lt<Ye&&(or=Tt(Ft,Rr,jt,Jt,rr,Ye),at&&(Ft.start=ar+ir*or)):je(Ft,Rr,jt,Yt),Lt<Le&&vr>=Le&&(or=Tt(Ft,Rr,jt,Jt,rr,Le),Ir=!0),Lt>Ye&&vr<=Ye&&(or=Tt(Ft,Rr,jt,Jt,rr,Ye),Ir=!0),!kt&&Ir&&(at&&(Ft.end=ar+ir*or),Me.push(Ft),Ft=ut(Je)),at&&(ar+=ir)}let zr=Je.length-3;const mt=Je[zr],It=Je[zr+1],Kt=gt===0?mt:It;Kt>=Le&&Kt<=Ye&&je(Ft,mt,It,Je[zr+2]),zr=Ft.length-3,kt&&zr>=3&&(Ft[zr]!==Ft[0]||Ft[zr+1]!==Ft[1])&&je(Ft,Ft[0],Ft[1],Ft[2]),Ft.length&&Me.push(Ft)}function ut(Je){const Me=[];return Me.size=Je.size,Me.start=Je.start,Me.end=Je.end,Me}function xt(Je,Me,Le,Ye,gt,kt){for(const at of Je)he(at,Me,Le,Ye,gt,kt,!1)}function je(Je,Me,Le,Ye){Je.push(Me,Le,Ye)}function rt(Je,Me,Le,Ye,gt,kt){const at=(kt-Me)/(Ye-Me);return je(Je,kt,Le+(gt-Le)*at,1),at}function Ze(Je,Me,Le,Ye,gt,kt){const at=(kt-Le)/(gt-Le);return je(Je,Me+(Ye-Me)*at,kt,1),at}function yt(Je,Me){const Le=[];for(let Ye=0;Ye<Je.length;Ye++){const gt=Je[Ye],kt=gt.type;let at;if(kt==="Point"||kt==="MultiPoint"||kt==="LineString")at=Vt(gt.geometry,Me);else if(kt==="MultiLineString"||kt==="Polygon"){at=[];for(const Ft of gt.geometry)at.push(Vt(Ft,Me))}else if(kt==="MultiPolygon"){at=[];for(const Ft of gt.geometry){const Tt=[];for(const ir of Ft)Tt.push(Vt(ir,Me));at.push(Tt)}}Le.push(ke(gt.id,kt,at,gt.tags))}return Le}function Vt(Je,Me){const Le=[];Le.size=Je.size,Je.start!==void 0&&(Le.start=Je.start,Le.end=Je.end);for(let Ye=0;Ye<Je.length;Ye+=3)Le.push(Je[Ye]+Me,Je[Ye+1],Je[Ye+2]);return Le}function At(Je,Me){if(Je.transformed)return Je;const Le=1<<Je.z,Ye=Je.x,gt=Je.y;for(const kt of Je.features){const at=kt.geometry,Ft=kt.type;if(kt.geometry=[],Ft===1)for(let Tt=0;Tt<at.length;Tt+=2)kt.geometry.push(hr(at[Tt],at[Tt+1],Me,Le,Ye,gt));else for(let Tt=0;Tt<at.length;Tt++){const ir=[];for(let or=0;or<at[Tt].length;or+=2)ir.push(hr(at[Tt][or],at[Tt][or+1],Me,Le,Ye,gt));kt.geometry.push(ir)}}return Je.transformed=!0,Je}function hr(Je,Me,Le,Ye,gt,kt){return[Math.round(Le*(Je*Ye-gt)),Math.round(Le*(Me*Ye-kt))]}function Sr(Je,Me,Le,Ye,gt){const kt=Me===gt.maxZoom?0:gt.tolerance/((1<<Me)*gt.extent),at={features:[],numPoints:0,numSimplified:0,numFeatures:Je.length,source:null,x:Le,y:Ye,z:Me,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ft of Je)fr(at,Ft,kt,gt);return at}function fr(Je,Me,Le,Ye){const gt=Me.geometry,kt=Me.type,at=[];if(Je.minX=Math.min(Je.minX,Me.minX),Je.minY=Math.min(Je.minY,Me.minY),Je.maxX=Math.max(Je.maxX,Me.maxX),Je.maxY=Math.max(Je.maxY,Me.maxY),kt==="Point"||kt==="MultiPoint")for(let Ft=0;Ft<gt.length;Ft+=3)at.push(gt[Ft],gt[Ft+1]),Je.numPoints++,Je.numSimplified++;else if(kt==="LineString")Dt(at,gt,Je,Le,!1,!1);else if(kt==="MultiLineString"||kt==="Polygon")for(let Ft=0;Ft<gt.length;Ft++)Dt(at,gt[Ft],Je,Le,kt==="Polygon",Ft===0);else if(kt==="MultiPolygon")for(let Ft=0;Ft<gt.length;Ft++){const Tt=gt[Ft];for(let ir=0;ir<Tt.length;ir++)Dt(at,Tt[ir],Je,Le,!0,ir===0)}if(at.length){let Ft=Me.tags||null;if(kt==="LineString"&&Ye.lineMetrics){Ft={};for(const ir in Me.tags)Ft[ir]=Me.tags[ir];Ft.mapbox_clip_start=gt.start/gt.size,Ft.mapbox_clip_end=gt.end/gt.size}const Tt={geometry:at,type:kt==="Polygon"||kt==="MultiPolygon"?3:kt==="LineString"||kt==="MultiLineString"?2:1,tags:Ft};Me.id!==null&&(Tt.id=Me.id),Je.features.push(Tt)}}function Dt(Je,Me,Le,Ye,gt,kt){const at=Ye*Ye;if(Ye>0&&Me.size<(gt?at:Ye))return void(Le.numPoints+=Me.length/3);const Ft=[];for(let Tt=0;Tt<Me.length;Tt+=3)(Ye===0||Me[Tt+2]>at)&&(Le.numSimplified++,Ft.push(Me[Tt],Me[Tt+1])),Le.numPoints++;gt&&function(Tt,ir){let or=0;for(let ar=0,zr=Tt.length,mt=zr-2;ar<zr;mt=ar,ar+=2)or+=(Tt[ar]-Tt[mt])*(Tt[ar+1]+Tt[mt+1]);if(or>0===ir)for(let ar=0,zr=Tt.length;ar<zr/2;ar+=2){const mt=Tt[ar],It=Tt[ar+1];Tt[ar]=Tt[zr-2-ar],Tt[ar+1]=Tt[zr-1-ar],Tt[zr-2-ar]=mt,Tt[zr-1-ar]=It}}(Ft,kt),Je.push(Ft)}const dr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Nr{constructor(Me,Le){const Ye=(Le=this.options=function(kt,at){for(const Ft in at)kt[Ft]=at[Ft];return kt}(Object.create(dr),Le)).debug;if(Ye&&console.time("preprocess data"),Le.maxZoom<0||Le.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Le.promoteId&&Le.generateId)throw new Error("promoteId and generateId cannot be used together.");let gt=function(kt,at){const Ft=[];if(kt.type==="FeatureCollection")for(let Tt=0;Tt<kt.features.length;Tt++)ct(Ft,kt.features[Tt],at,Tt);else ct(Ft,kt.type==="Feature"?kt:{geometry:kt},at);return Ft}(Me,Le);this.tiles={},this.tileCoords=[],Ye&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Le.indexMaxZoom,Le.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),gt=function(kt,at){const Ft=at.buffer/at.extent;let Tt=kt;const ir=qe(kt,1,-1-Ft,Ft,0,-1,2,at),or=qe(kt,1,1-Ft,2+Ft,0,-1,2,at);return(ir||or)&&(Tt=qe(kt,1,-Ft,1+Ft,0,-1,2,at)||[],ir&&(Tt=yt(ir,1).concat(Tt)),or&&(Tt=Tt.concat(yt(or,-1)))),Tt}(gt,Le),gt.length&&this.splitTile(gt,0,0,0),Ye&&(gt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Me,Le,Ye,gt,kt,at,Ft){const Tt=[Me,Le,Ye,gt],ir=this.options,or=ir.debug;for(;Tt.length;){gt=Tt.pop(),Ye=Tt.pop(),Le=Tt.pop(),Me=Tt.pop();const ar=1<<Le,zr=gr(Le,Ye,gt);let mt=this.tiles[zr];if(!mt&&(or>1&&console.time("creation"),mt=this.tiles[zr]=Sr(Me,Le,Ye,gt,ir),this.tileCoords.push({z:Le,x:Ye,y:gt}),or)){or>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Le,Ye,gt,mt.numFeatures,mt.numPoints,mt.numSimplified),console.timeEnd("creation"));const Ir=`z${Le}`;this.stats[Ir]=(this.stats[Ir]||0)+1,this.total++}if(mt.source=Me,kt==null){if(Le===ir.indexMaxZoom||mt.numPoints<=ir.indexMaxPoints)continue}else{if(Le===ir.maxZoom||Le===kt)continue;if(kt!=null){const Ir=kt-Le;if(Ye!==at>>Ir||gt!==Ft>>Ir)continue}}if(mt.source=null,Me.length===0)continue;or>1&&console.time("clipping");const It=.5*ir.buffer/ir.extent,Kt=.5-It,br=.5+It,Rr=1+It;let jt=null,Yt=null,Jt=null,rr=null,vr=qe(Me,ar,Ye-It,Ye+br,0,mt.minX,mt.maxX,ir),Lt=qe(Me,ar,Ye+Kt,Ye+Rr,0,mt.minX,mt.maxX,ir);Me=null,vr&&(jt=qe(vr,ar,gt-It,gt+br,1,mt.minY,mt.maxY,ir),Yt=qe(vr,ar,gt+Kt,gt+Rr,1,mt.minY,mt.maxY,ir),vr=null),Lt&&(Jt=qe(Lt,ar,gt-It,gt+br,1,mt.minY,mt.maxY,ir),rr=qe(Lt,ar,gt+Kt,gt+Rr,1,mt.minY,mt.maxY,ir),Lt=null),or>1&&console.timeEnd("clipping"),Tt.push(jt||[],Le+1,2*Ye,2*gt),Tt.push(Yt||[],Le+1,2*Ye,2*gt+1),Tt.push(Jt||[],Le+1,2*Ye+1,2*gt),Tt.push(rr||[],Le+1,2*Ye+1,2*gt+1)}}getTile(Me,Le,Ye){Me=+Me,Le=+Le,Ye=+Ye;const gt=this.options,{extent:kt,debug:at}=gt;if(Me<0||Me>24)return null;const Ft=1<<Me,Tt=gr(Me,Le=Le+Ft&Ft-1,Ye);if(this.tiles[Tt])return At(this.tiles[Tt],kt);at>1&&console.log("drilling down to z%d-%d-%d",Me,Le,Ye);let ir,or=Me,ar=Le,zr=Ye;for(;!ir&&or>0;)or--,ar>>=1,zr>>=1,ir=this.tiles[gr(or,ar,zr)];return ir&&ir.source?(at>1&&(console.log("found parent tile z%d-%d-%d",or,ar,zr),console.time("drilling down")),this.splitTile(ir.source,or,ar,zr,Me,Le,Ye),at>1&&console.timeEnd("drilling down"),this.tiles[Tt]?At(this.tiles[Tt],kt):null):null}}function gr(Je,Me,Le){return 32*((1<<Je)*Le+Me)+Je}function wr(Je,Me){return Me?Je.properties[Me]:Je.id}function Fr(Je,Me){if(Je==null)return!0;if(Je.type==="Feature")return wr(Je,Me)!=null;if(Je.type==="FeatureCollection"){const Le=new Set;for(const Ye of Je.features){const gt=wr(Ye,Me);if(gt==null||Le.has(gt))return!1;Le.add(gt)}return!0}return!1}function _n(Je,Me){const Le=new Map;if(Je!=null)if(Je.type==="Feature")Le.set(wr(Je,Me),Je);else for(const Ye of Je.features)Le.set(wr(Ye,Me),Ye);return Le}class nn extends h{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(Me,Le){return s._(this,void 0,void 0,function*(){const Ye=Me.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const gt=this._geoJSONIndex.getTile(Ye.z,Ye.x,Ye.y);if(!gt)return null;const kt=new P(gt.features);let at=F(kt);return at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),{vectorTile:kt,rawData:at.buffer}})}loadData(Me){return s._(this,void 0,void 0,function*(){var Le;(Le=this._pendingRequest)===null||Le===void 0||Le.abort();const Ye=!!(Me&&Me.request&&Me.request.collectResourceTiming)&&new s.cE(Me.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(Me,this._pendingRequest),this._geoJSONIndex=Me.cluster?new fe(function({superclusterOptions:at,clusterProperties:Ft}){if(!Ft||!at)return at;const Tt={},ir={},or={accumulated:null,zoom:0},ar={properties:null},zr=Object.keys(Ft);for(const mt of zr){const[It,Kt]=Ft[mt],br=s.cL(Kt),Rr=s.cL(typeof It=="string"?[It,["accumulated"],["get",mt]]:It);Tt[mt]=br.value,ir[mt]=Rr.value}return at.map=mt=>{ar.properties=mt;const It={};for(const Kt of zr)It[Kt]=Tt[Kt].evaluate(or,ar);return It},at.reduce=(mt,It)=>{ar.properties=It;for(const Kt of zr)or.accumulated=mt[Kt],mt[Kt]=ir[Kt].evaluate(or,ar)},at}(Me)).load((yield this._pendingData).features):(gt=yield this._pendingData,new Nr(gt,Me.geojsonVtOptions)),this.loaded={};const kt={};if(Ye){const at=Ye.finish();at&&(kt.resourceTiming={},kt.resourceTiming[Me.source]=JSON.parse(JSON.stringify(at)))}return kt}catch(kt){if(delete this._pendingRequest,s.cp(kt))return{abandoned:!0};throw kt}var gt})}getData(){return s._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(Me){const Le=this.loaded;return Le&&Le[Me.uid]?super.reloadTile(Me):this.loadTile(Me)}loadAndProcessGeoJSON(Me,Le){return s._(this,void 0,void 0,function*(){let Ye=yield this.loadGeoJSON(Me,Le);if(delete this._pendingRequest,typeof Ye!="object")throw new Error(`Input data given to '${Me.source}' is not a valid GeoJSON object.`);if(x(Ye,!0),Me.filter){const gt=s.cL(Me.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(gt.result==="error")throw new Error(gt.value.map(at=>`${at.key}: ${at.message}`).join(", "));Ye={type:"FeatureCollection",features:Ye.features.filter(at=>gt.value.evaluate({zoom:0},at))}}return Ye})}loadGeoJSON(Me,Le){return s._(this,void 0,void 0,function*(){const{promoteId:Ye}=Me;if(Me.request){const gt=yield s.j(Me.request,Le);return this._dataUpdateable=Fr(gt.data,Ye)?_n(gt.data,Ye):void 0,gt.data}if(typeof Me.data=="string")try{const gt=JSON.parse(Me.data);return this._dataUpdateable=Fr(gt,Ye)?_n(gt,Ye):void 0,gt}catch{throw new Error(`Input data given to '${Me.source}' is not a valid GeoJSON object.`)}if(!Me.dataDiff)throw new Error(`Input data given to '${Me.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Me.source}`);return function(gt,kt,at){var Ft,Tt,ir,or;if(kt.removeAll&&gt.clear(),kt.remove)for(const ar of kt.remove)gt.delete(ar);if(kt.add)for(const ar of kt.add){const zr=wr(ar,at);zr!=null&&gt.set(zr,ar)}if(kt.update)for(const ar of kt.update){let zr=gt.get(ar.id);if(zr==null)continue;const mt=!ar.removeAllProperties&&(((Ft=ar.removeProperties)===null||Ft===void 0?void 0:Ft.length)>0||((Tt=ar.addOrUpdateProperties)===null||Tt===void 0?void 0:Tt.length)>0);if((ar.newGeometry||ar.removeAllProperties||mt)&&(zr=Object.assign({},zr),gt.set(ar.id,zr),mt&&(zr.properties=Object.assign({},zr.properties))),ar.newGeometry&&(zr.geometry=ar.newGeometry),ar.removeAllProperties)zr.properties={};else if(((ir=ar.removeProperties)===null||ir===void 0?void 0:ir.length)>0)for(const It of ar.removeProperties)Object.prototype.hasOwnProperty.call(zr.properties,It)&&delete zr.properties[It];if(((or=ar.addOrUpdateProperties)===null||or===void 0?void 0:or.length)>0)for(const{key:It,value:Kt}of ar.addOrUpdateProperties)zr.properties[It]=Kt}}(this._dataUpdateable,Me.dataDiff,Ye),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(Me){return s._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(Me){return this._geoJSONIndex.getClusterExpansionZoom(Me.clusterId)}getClusterChildren(Me){return this._geoJSONIndex.getChildren(Me.clusterId)}getClusterLeaves(Me){return this._geoJSONIndex.getLeaves(Me.clusterId,Me.limit,Me.offset)}}class ot{constructor(Me){this.self=Me,this.actor=new s.H(Me),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Le,Ye)=>{if(this.externalWorkerSourceTypes[Le])throw new Error(`Worker source with name "${Le}" already registered.`);this.externalWorkerSourceTypes[Le]=Ye},this.self.addProtocol=s.cr,this.self.removeProtocol=s.cs,this.self.registerRTLTextPlugin=Le=>{s.cM.setMethods(Le)},this.actor.registerMessageHandler("LDT",(Le,Ye)=>this._getDEMWorkerSource(Le,Ye.source).loadTile(Ye)),this.actor.registerMessageHandler("RDT",(Le,Ye)=>s._(this,void 0,void 0,function*(){this._getDEMWorkerSource(Le,Ye.source).removeTile(Ye)})),this.actor.registerMessageHandler("GCEZ",(Le,Ye)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Le,Ye.type,Ye.source).getClusterExpansionZoom(Ye)})),this.actor.registerMessageHandler("GCC",(Le,Ye)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Le,Ye.type,Ye.source).getClusterChildren(Ye)})),this.actor.registerMessageHandler("GCL",(Le,Ye)=>s._(this,void 0,void 0,function*(){return this._getWorkerSource(Le,Ye.type,Ye.source).getClusterLeaves(Ye)})),this.actor.registerMessageHandler("LD",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).loadData(Ye)),this.actor.registerMessageHandler("GD",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).getData()),this.actor.registerMessageHandler("LT",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).loadTile(Ye)),this.actor.registerMessageHandler("RT",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).reloadTile(Ye)),this.actor.registerMessageHandler("AT",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).abortTile(Ye)),this.actor.registerMessageHandler("RMT",(Le,Ye)=>this._getWorkerSource(Le,Ye.type,Ye.source).removeTile(Ye)),this.actor.registerMessageHandler("RS",(Le,Ye)=>s._(this,void 0,void 0,function*(){if(!this.workerSources[Le]||!this.workerSources[Le][Ye.type]||!this.workerSources[Le][Ye.type][Ye.source])return;const gt=this.workerSources[Le][Ye.type][Ye.source];delete this.workerSources[Le][Ye.type][Ye.source],gt.removeSource!==void 0&&gt.removeSource(Ye)})),this.actor.registerMessageHandler("RM",Le=>s._(this,void 0,void 0,function*(){delete this.layerIndexes[Le],delete this.availableImages[Le],delete this.workerSources[Le],delete this.demWorkerSources[Le]})),this.actor.registerMessageHandler("SR",(Le,Ye)=>s._(this,void 0,void 0,function*(){this.referrer=Ye})),this.actor.registerMessageHandler("SRPS",(Le,Ye)=>this._syncRTLPluginState(Le,Ye)),this.actor.registerMessageHandler("IS",(Le,Ye)=>s._(this,void 0,void 0,function*(){this.self.importScripts(Ye)})),this.actor.registerMessageHandler("SI",(Le,Ye)=>this._setImages(Le,Ye)),this.actor.registerMessageHandler("UL",(Le,Ye)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(Le).update(Ye.layers,Ye.removedIds)})),this.actor.registerMessageHandler("SL",(Le,Ye)=>s._(this,void 0,void 0,function*(){this._getLayerIndex(Le).replace(Ye)}))}_setImages(Me,Le){return s._(this,void 0,void 0,function*(){this.availableImages[Me]=Le;for(const Ye in this.workerSources[Me]){const gt=this.workerSources[Me][Ye];for(const kt in gt)gt[kt].availableImages=Le}})}_syncRTLPluginState(Me,Le){return s._(this,void 0,void 0,function*(){return yield s.cM.syncState(Le,this.self.importScripts)})}_getAvailableImages(Me){let Le=this.availableImages[Me];return Le||(Le=[]),Le}_getLayerIndex(Me){let Le=this.layerIndexes[Me];return Le||(Le=this.layerIndexes[Me]=new o),Le}_getWorkerSource(Me,Le,Ye){if(this.workerSources[Me]||(this.workerSources[Me]={}),this.workerSources[Me][Le]||(this.workerSources[Me][Le]={}),!this.workerSources[Me][Le][Ye]){const gt={sendAsync:(kt,at)=>(kt.targetMapId=Me,this.actor.sendAsync(kt,at))};switch(Le){case"vector":this.workerSources[Me][Le][Ye]=new h(gt,this._getLayerIndex(Me),this._getAvailableImages(Me));break;case"geojson":this.workerSources[Me][Le][Ye]=new nn(gt,this._getLayerIndex(Me),this._getAvailableImages(Me));break;default:this.workerSources[Me][Le][Ye]=new this.externalWorkerSourceTypes[Le](gt,this._getLayerIndex(Me),this._getAvailableImages(Me))}}return this.workerSources[Me][Le][Ye]}_getDEMWorkerSource(Me,Le){return this.demWorkerSources[Me]||(this.demWorkerSources[Me]={}),this.demWorkerSources[Me][Le]||(this.demWorkerSources[Me][Le]=new p),this.demWorkerSources[Me][Le]}}return s.i(self)&&(self.worker=new ot(self)),ot}),i("index",["exports","./shared"],function(s,o){var l="5.5.0";function u(){var B=new o.A(4);return o.A!=Float32Array&&(B[1]=0,B[2]=0),B[0]=1,B[3]=1,B}let f,h;const p={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(B,c,g){const M=requestAnimationFrame(j=>{L(),c(j)}),{unsubscribe:L}=o.s(B.signal,"abort",()=>{L(),cancelAnimationFrame(M),g(o.c())},!1)},frameAsync(B){return new Promise((c,g)=>{this.frame(B,c,g)})},getImageData(B,c=0){return this.getImageCanvasContext(B).getImageData(-c,-c,B.width+2*c,B.height+2*c)},getImageCanvasContext(B){const c=window.document.createElement("canvas"),g=c.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return c.width=B.width,c.height=B.height,g.drawImage(B,0,0,B.width,B.height),g},resolveURL:B=>(f||(f=document.createElement("a")),f.href=B,f.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(h==null&&(h=matchMedia("(prefers-reduced-motion: reduce)")),h.matches)}};class m{static testProp(c){if(!m.docStyle)return c[0];for(let g=0;g<c.length;g++)if(c[g]in m.docStyle)return c[g];return c[0]}static create(c,g,M){const L=window.document.createElement(c);return g!==void 0&&(L.className=g),M&&M.appendChild(L),L}static createNS(c,g){return window.document.createElementNS(c,g)}static disableDrag(){m.docStyle&&m.selectProp&&(m.userSelect=m.docStyle[m.selectProp],m.docStyle[m.selectProp]="none")}static enableDrag(){m.docStyle&&m.selectProp&&(m.docStyle[m.selectProp]=m.userSelect)}static setTransform(c,g){c.style[m.transformProp]=g}static addEventListener(c,g,M,L={}){c.addEventListener(g,M,"passive"in L?L:L.capture)}static removeEventListener(c,g,M,L={}){c.removeEventListener(g,M,"passive"in L?L:L.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",m.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",m.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",m.suppressClickInternal,!0)},0)}static getScale(c){const g=c.getBoundingClientRect();return{x:g.width/c.offsetWidth||1,y:g.height/c.offsetHeight||1,boundingClientRect:g}}static getPoint(c,g,M){const L=g.boundingClientRect;return new o.P((M.clientX-L.left)/g.x-c.clientLeft,(M.clientY-L.top)/g.y-c.clientTop)}static mousePos(c,g){const M=m.getScale(c);return m.getPoint(c,M,g)}static touchPos(c,g){const M=[],L=m.getScale(c);for(let j=0;j<g.length;j++)M.push(m.getPoint(c,L,g[j]));return M}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}static sanitize(c){const g=new DOMParser().parseFromString(c,"text/html").body||document.createElement("body"),M=g.querySelectorAll("script");for(const L of M)L.remove();return m.clean(g),g.innerHTML}static isPossiblyDangerous(c,g){const M=g.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(c)||!M.includes("javascript:")&&!M.includes("data:"))||!!c.startsWith("on")||void 0}static clean(c){const g=c.children;for(const M of g)m.removeAttributes(M),m.clean(M)}static removeAttributes(c){for(const{name:g,value:M}of c.attributes)m.isPossiblyDangerous(g,M)&&c.removeAttribute(g)}}m.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,m.selectProp=m.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),m.transformProp=m.testProp(["transform","WebkitTransform"]);const v={supported:!1,testSupport:function(B){!T&&x&&(A?P(B):w=B)}};let w,x,T=!1,A=!1;function P(B){const c=B.createTexture();B.bindTexture(B.TEXTURE_2D,c);try{if(B.texImage2D(B.TEXTURE_2D,0,B.RGBA,B.RGBA,B.UNSIGNED_BYTE,x),B.isContextLost())return;v.supported=!0}catch{}B.deleteTexture(c),T=!0}var S;typeof document<"u"&&(x=document.createElement("img"),x.onload=()=>{w&&P(w),w=null,A=!0},x.onerror=()=>{T=!0,w=null},x.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(B){let c,g,M,L;B.resetRequestQueue=()=>{c=[],g=0,M=0,L={}},B.addThrottleControl=oe=>{const be=M++;return L[be]=oe,be},B.removeThrottleControl=oe=>{delete L[oe],Y()},B.getImage=(oe,be,Ce=!0)=>new Promise((Fe,De)=>{v.supported&&(oe.headers||(oe.headers={}),oe.headers.accept="image/webp,*/*"),o.e(oe,{type:"image"}),c.push({abortController:be,requestParameters:oe,supportImageRefresh:Ce,state:"queued",onError:We=>{De(We)},onSuccess:We=>{Fe(We)}}),Y()});const j=oe=>o._(this,void 0,void 0,function*(){oe.state="running";const{requestParameters:be,supportImageRefresh:Ce,onError:Fe,onSuccess:De,abortController:We}=oe,nt=Ce===!1&&!o.i(self)&&!o.g(be.url)&&(!be.headers||Object.keys(be.headers).reduce((Rt,Bt)=>Rt&&Bt==="accept",!0));g++;const Pt=nt?te(be,We):o.m(be,We);try{const Rt=yield Pt;delete oe.abortController,oe.state="completed",Rt.data instanceof HTMLImageElement||o.b(Rt.data)?De(Rt):Rt.data&&De({data:yield(Ct=Rt.data,typeof createImageBitmap=="function"?o.f(Ct):o.h(Ct)),cacheControl:Rt.cacheControl,expires:Rt.expires})}catch(Rt){delete oe.abortController,Fe(Rt)}finally{g--,Y()}var Ct}),Y=()=>{const oe=(()=>{for(const be of Object.keys(L))if(L[be]())return!0;return!1})()?o.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let be=g;be<oe&&c.length>0;be++){const Ce=c.shift();Ce.abortController.signal.aborted?be--:j(Ce)}},te=(oe,be)=>new Promise((Ce,Fe)=>{const De=new Image,We=oe.url,nt=oe.credentials;nt&&nt==="include"?De.crossOrigin="use-credentials":(nt&&nt==="same-origin"||!o.d(We))&&(De.crossOrigin="anonymous"),be.signal.addEventListener("abort",()=>{De.src="",Fe(o.c())}),De.fetchPriority="high",De.onload=()=>{De.onerror=De.onload=null,Ce({data:De})},De.onerror=()=>{De.onerror=De.onload=null,be.signal.aborted||Fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},De.src=We})}(S||(S={})),S.resetRequestQueue();class E{constructor(c){this._transformRequestFn=c}transformRequest(c,g){return this._transformRequestFn&&this._transformRequestFn(c,g)||{url:c}}setTransformRequest(c){this._transformRequestFn=c}}function _(B){const c=[];if(typeof B=="string")c.push({id:"default",url:B});else if(B&&B.length>0){const g=[];for(const{id:M,url:L}of B){const j=`${M}${L}`;g.indexOf(j)===-1&&(g.push(j),c.push({id:M,url:L}))}}return c}function R(B,c,g){try{const M=new URL(B);return M.pathname+=`${c}${g}`,M.toString()}catch{throw new Error(`Invalid sprite URL "${B}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class O{constructor(c,g,M,L){this.context=c,this.format=M,this.texture=c.gl.createTexture(),this.update(g,L)}update(c,g,M){const{width:L,height:j}=c,Y=!(this.size&&this.size[0]===L&&this.size[1]===j||M),{context:te}=this,{gl:oe}=te;if(this.useMipmap=!!(g&&g.useMipmap),oe.bindTexture(oe.TEXTURE_2D,this.texture),te.pixelStoreUnpackFlipY.set(!1),te.pixelStoreUnpack.set(1),te.pixelStoreUnpackPremultiplyAlpha.set(this.format===oe.RGBA&&(!g||g.premultiply!==!1)),Y)this.size=[L,j],c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||o.b(c)?oe.texImage2D(oe.TEXTURE_2D,0,this.format,this.format,oe.UNSIGNED_BYTE,c):oe.texImage2D(oe.TEXTURE_2D,0,this.format,L,j,0,this.format,oe.UNSIGNED_BYTE,c.data);else{const{x:be,y:Ce}=M||{x:0,y:0};c instanceof HTMLImageElement||c instanceof HTMLCanvasElement||c instanceof HTMLVideoElement||c instanceof ImageData||o.b(c)?oe.texSubImage2D(oe.TEXTURE_2D,0,be,Ce,oe.RGBA,oe.UNSIGNED_BYTE,c):oe.texSubImage2D(oe.TEXTURE_2D,0,be,Ce,L,j,oe.RGBA,oe.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&oe.generateMipmap(oe.TEXTURE_2D),te.pixelStoreUnpackFlipY.setDefault(),te.pixelStoreUnpack.setDefault(),te.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(c,g,M){const{context:L}=this,{gl:j}=L;j.bindTexture(j.TEXTURE_2D,this.texture),M!==j.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(M=j.LINEAR),c!==this.filter&&(j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,c),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,M||c),this.filter=c),g!==this.wrap&&(j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,g),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,g),this.wrap=g)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}function F(B){const{userImage:c}=B;return!!(c&&c.render&&c.render())&&(B.data.replace(new Uint8Array(c.data.buffer)),!0)}class $ extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:g,promiseResolve:M}of this.requestors)M(this._getImagesForIds(g));this.requestors=[]}}getImage(c){const g=this.images[c];if(g&&!g.data&&g.spriteData){const M=g.spriteData;g.data=new o.R({width:M.width,height:M.height},M.context.getImageData(M.x,M.y,M.width,M.height).data),g.spriteData=null}return g}addImage(c,g){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,g)&&(this.images[c]=g)}_validate(c,g){let M=!0;const L=g.data||g.spriteData;return this._validateStretch(g.stretchX,L&&L.width)||(this.fire(new o.k(new Error(`Image "${c}" has invalid "stretchX" value`))),M=!1),this._validateStretch(g.stretchY,L&&L.height)||(this.fire(new o.k(new Error(`Image "${c}" has invalid "stretchY" value`))),M=!1),this._validateContent(g.content,g)||(this.fire(new o.k(new Error(`Image "${c}" has invalid "content" value`))),M=!1),M}_validateStretch(c,g){if(!c)return!0;let M=0;for(const L of c){if(L[0]<M||L[1]<L[0]||g<L[1])return!1;M=L[1]}return!0}_validateContent(c,g){if(!c)return!0;if(c.length!==4)return!1;const M=g.spriteData,L=M&&M.width||g.data.width,j=M&&M.height||g.data.height;return!(c[0]<0||L<c[0]||c[1]<0||j<c[1]||c[2]<0||L<c[2]||c[3]<0||j<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,g,M=!0){const L=this.getImage(c);if(M&&(L.data.width!==g.data.width||L.data.height!==g.data.height))throw new Error(`size mismatch between old image (${L.data.width}x${L.data.height}) and new image (${g.data.width}x${g.data.height}).`);g.version=L.version+1,this.images[c]=g,this.updatedImages[c]=!0}removeImage(c){const g=this.images[c];delete this.images[c],delete this.patterns[c],g.userImage&&g.userImage.onRemove&&g.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c){return new Promise((g,M)=>{let L=!0;if(!this.isLoaded())for(const j of c)this.images[j]||(L=!1);this.isLoaded()||L?g(this._getImagesForIds(c)):this.requestors.push({ids:c,promiseResolve:g})})}_getImagesForIds(c){const g={};for(const M of c){let L=this.getImage(M);L||(this.fire(new o.l("styleimagemissing",{id:M})),L=this.getImage(M)),L?g[M]={data:L.data.clone(),pixelRatio:L.pixelRatio,sdf:L.sdf,version:L.version,stretchX:L.stretchX,stretchY:L.stretchY,content:L.content,textFitWidth:L.textFitWidth,textFitHeight:L.textFitHeight,hasRenderCallback:!!(L.userImage&&L.userImage.render)}:o.w(`Image "${M}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return g}getPixelSize(){const{width:c,height:g}=this.atlasImage;return{width:c,height:g}}getPattern(c){const g=this.patterns[c],M=this.getImage(c);if(!M)return null;if(g&&g.position.version===M.version)return g.position;if(g)g.position.version=M.version;else{const L={w:M.data.width+2,h:M.data.height+2,x:0,y:0},j=new o.I(L,M);this.patterns[c]={bin:L,position:j}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const g=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new O(c,this.atlasImage,g.RGBA),this.atlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const j in this.patterns)c.push(this.patterns[j].bin);const{w:g,h:M}=o.p(c),L=this.atlasImage;L.resize({width:g||1,height:M||1});for(const j in this.patterns){const{bin:Y}=this.patterns[j],te=Y.x+1,oe=Y.y+1,be=this.getImage(j).data,Ce=be.width,Fe=be.height;o.R.copy(be,L,{x:0,y:0},{x:te,y:oe},{width:Ce,height:Fe}),o.R.copy(be,L,{x:0,y:Fe-1},{x:te,y:oe-1},{width:Ce,height:1}),o.R.copy(be,L,{x:0,y:0},{x:te,y:oe+Fe},{width:Ce,height:1}),o.R.copy(be,L,{x:Ce-1,y:0},{x:te-1,y:oe},{width:1,height:Fe}),o.R.copy(be,L,{x:0,y:0},{x:te+Ce,y:oe},{width:1,height:Fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const g of c){if(this.callbackDispatchedThisFrame[g])continue;this.callbackDispatchedThisFrame[g]=!0;const M=this.getImage(g);M||o.w(`Image with ID: "${g}" was not found`),F(M)&&this.updateImage(g,M)}}}const z=1e20;function q(B,c,g,M,L,j,Y,te,oe){for(let be=c;be<c+M;be++)Z(B,g*j+be,j,L,Y,te,oe);for(let be=g;be<g+L;be++)Z(B,be*j+c,1,M,Y,te,oe)}function Z(B,c,g,M,L,j,Y){j[0]=0,Y[0]=-1e20,Y[1]=z,L[0]=B[c];for(let te=1,oe=0,be=0;te<M;te++){L[te]=B[c+te*g];const Ce=te*te;do{const Fe=j[oe];be=(L[te]-L[Fe]+Ce-Fe*Fe)/(te-Fe)/2}while(be<=Y[oe]&&--oe>-1);oe++,j[oe]=te,Y[oe]=be,Y[oe+1]=z}for(let te=0,oe=0;te<M;te++){for(;Y[oe+1]<te;)oe++;const be=j[oe],Ce=te-be;B[c+te*g]=L[be]+Ce*Ce}}class V{constructor(c,g){this.requestManager=c,this.localIdeographFontFamily=g,this.entries={}}setURL(c){this.url=c}getGlyphs(c){return o._(this,void 0,void 0,function*(){const g=[];for(const j in c)for(const Y of c[j])g.push(this._getAndCacheGlyphsPromise(j,Y));const M=yield Promise.all(g),L={};for(const{stack:j,id:Y,glyph:te}of M)L[j]||(L[j]={}),L[j][Y]=te&&{id:te.id,bitmap:te.bitmap.clone(),metrics:te.metrics};return L})}_getAndCacheGlyphsPromise(c,g){return o._(this,void 0,void 0,function*(){let M=this.entries[c];M||(M=this.entries[c]={glyphs:{},requests:{},ranges:{}});let L=M.glyphs[g];if(L!==void 0)return{stack:c,id:g,glyph:L};if(L=this._tinySDF(M,c,g),L)return M.glyphs[g]=L,{stack:c,id:g,glyph:L};const j=Math.floor(g/256);if(256*j>65535)throw new Error("glyphs > 65535 not supported");if(M.ranges[j])return{stack:c,id:g,glyph:L};if(!this.url)throw new Error("glyphsUrl is not set");if(!M.requests[j]){const te=V.loadGlyphRange(c,j,this.url,this.requestManager);M.requests[j]=te}const Y=yield M.requests[j];for(const te in Y)this._doesCharSupportLocalGlyph(+te)||(M.glyphs[+te]=Y[+te]);return M.ranges[j]=!0,{stack:c,id:g,glyph:Y[g]||null}})}_doesCharSupportLocalGlyph(c){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(c))||o.u["CJK Unified Ideographs"](c)||o.u["Hangul Syllables"](c)||o.u.Hiragana(c)||o.u.Katakana(c)||o.u["CJK Symbols and Punctuation"](c)||o.u["Halfwidth and Fullwidth Forms"](c))}_tinySDF(c,g,M){const L=this.localIdeographFontFamily;if(!L||!this._doesCharSupportLocalGlyph(M))return;let j=c.tinySDF;if(!j){let te="400";/bold/i.test(g)?te="900":/medium/i.test(g)?te="500":/light/i.test(g)&&(te="200"),j=c.tinySDF=new V.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:L,fontWeight:te})}const Y=j.draw(String.fromCharCode(M));return{id:M,bitmap:new o.q({width:Y.width||60,height:Y.height||60},Y.data),metrics:{width:Y.glyphWidth/2||24,height:Y.glyphHeight/2||24,left:Y.glyphLeft/2+.5||0,top:Y.glyphTop/2-27.5||-8,advance:Y.glyphAdvance/2||24,isDoubleResolution:!0}}}}V.loadGlyphRange=function(B,c,g,M){return o._(this,void 0,void 0,function*(){const L=256*c,j=L+255,Y=M.transformRequest(g.replace("{fontstack}",B).replace("{range}",`${L}-${j}`),"Glyphs"),te=yield o.n(Y,new AbortController);if(!te||!te.data)throw new Error(`Could not load glyph range. range: ${c}, ${L}-${j}`);const oe={};for(const be of o.o(te.data))oe[be.id]=be;return oe})},V.TinySDF=class{constructor({fontSize:B=24,buffer:c=3,radius:g=8,cutoff:M=.25,fontFamily:L="sans-serif",fontWeight:j="normal",fontStyle:Y="normal"}={}){this.buffer=c,this.cutoff=M,this.radius=g;const te=this.size=B+4*c,oe=this._createCanvas(te),be=this.ctx=oe.getContext("2d",{willReadFrequently:!0});be.font=`${Y} ${j} ${B}px ${L}`,be.textBaseline="alphabetic",be.textAlign="left",be.fillStyle="black",this.gridOuter=new Float64Array(te*te),this.gridInner=new Float64Array(te*te),this.f=new Float64Array(te),this.z=new Float64Array(te+1),this.v=new Uint16Array(te)}_createCanvas(B){const c=document.createElement("canvas");return c.width=c.height=B,c}draw(B){const{width:c,actualBoundingBoxAscent:g,actualBoundingBoxDescent:M,actualBoundingBoxLeft:L,actualBoundingBoxRight:j}=this.ctx.measureText(B),Y=Math.ceil(g),te=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(j-L))),oe=Math.min(this.size-this.buffer,Y+Math.ceil(M)),be=te+2*this.buffer,Ce=oe+2*this.buffer,Fe=Math.max(be*Ce,0),De=new Uint8ClampedArray(Fe),We={data:De,width:be,height:Ce,glyphWidth:te,glyphHeight:oe,glyphTop:Y,glyphLeft:0,glyphAdvance:c};if(te===0||oe===0)return We;const{ctx:nt,buffer:Pt,gridInner:Ct,gridOuter:Rt}=this;nt.clearRect(Pt,Pt,te,oe),nt.fillText(B,Pt,Pt+Y);const Bt=nt.getImageData(Pt,Pt,te,oe);Rt.fill(z,0,Fe),Ct.fill(0,0,Fe);for(let Ht=0;Ht<oe;Ht++)for(let $t=0;$t<te;$t++){const Wt=Bt.data[4*(Ht*te+$t)+3]/255;if(Wt===0)continue;const tr=(Ht+Pt)*be+$t+Pt;if(Wt===1)Rt[tr]=0,Ct[tr]=z;else{const nr=.5-Wt;Rt[tr]=nr>0?nr*nr:0,Ct[tr]=nr<0?nr*nr:0}}q(Rt,0,0,be,Ce,be,this.f,this.v,this.z),q(Ct,Pt,Pt,te,oe,be,this.f,this.v,this.z);for(let Ht=0;Ht<Fe;Ht++){const $t=Math.sqrt(Rt[Ht])-Math.sqrt(Ct[Ht]);De[Ht]=Math.round(255-255*($t/this.radius+this.cutoff))}return We}};class J{constructor(){this.specification=o.v.light.position}possiblyEvaluate(c,g){return o.z(c.expression.evaluate(g))}interpolate(c,g,M){return{x:o.B.number(c.x,g.x,M),y:o.B.number(c.y,g.y,M),z:o.B.number(c.z,g.z,M)}}}let fe;class ue extends o.E{constructor(c){super(),fe=fe||new o.r({anchor:new o.D(o.v.light.anchor),position:new J,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(fe),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,g={}){if(!this._validate(o.t,c,g))for(const M in c){const L=c[M];M.endsWith("-transition")?this._transitionable.setTransition(M.slice(0,-11),L):this._transitionable.setValue(M,L)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,g,M){return(!M||M.validate!==!1)&&o.x(this,c.call(o.y,{value:g,style:{glyphs:!0,sprite:!0},styleSpec:o.v}))}}const pe=new o.r({"sky-color":new o.D(o.v.sky["sky-color"]),"horizon-color":new o.D(o.v.sky["horizon-color"]),"fog-color":new o.D(o.v.sky["fog-color"]),"fog-ground-blend":new o.D(o.v.sky["fog-ground-blend"]),"horizon-fog-blend":new o.D(o.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new o.D(o.v.sky["sky-horizon-blend"]),"atmosphere-blend":new o.D(o.v.sky["atmosphere-blend"])});class ve extends o.E{constructor(c){super(),this._transitionable=new o.T(pe),this.setSky(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0))}setSky(c,g={}){if(!this._validate(o.F,c,g)){c||(c={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const M in c){const L=c[M];M.endsWith("-transition")?this._transitionable.setTransition(M.slice(0,-11),L):this._transitionable.setValue(M,L)}}}getSky(){return this._transitionable.serialize()}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,g,M={}){return(M==null?void 0:M.validate)!==!1&&o.x(this,c.call(o.y,o.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}calculateFogBlendOpacity(c){return c<60?0:c<70?(c-60)/10:1}}class le{constructor(c,g){this.width=c,this.height=g,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,g){const M=c.join(",")+String(g);return this.dashEntry[M]||(this.dashEntry[M]=this.addDash(c,g)),this.dashEntry[M]}getDashRanges(c,g,M){const L=[];let j=c.length%2==1?-c[c.length-1]*M:0,Y=c[0]*M,te=!0;L.push({left:j,right:Y,isDash:te,zeroLength:c[0]===0});let oe=c[0];for(let be=1;be<c.length;be++){te=!te;const Ce=c[be];j=oe*M,oe+=Ce,Y=oe*M,L.push({left:j,right:Y,isDash:te,zeroLength:Ce===0})}return L}addRoundDash(c,g,M){const L=g/2;for(let j=-M;j<=M;j++){const Y=this.width*(this.nextRow+M+j);let te=0,oe=c[te];for(let be=0;be<this.width;be++){be/oe.right>1&&(oe=c[++te]);const Ce=Math.abs(be-oe.left),Fe=Math.abs(be-oe.right),De=Math.min(Ce,Fe);let We;const nt=j/M*(L+1);if(oe.isDash){const Pt=L-Math.abs(nt);We=Math.sqrt(De*De+Pt*Pt)}else We=L-Math.sqrt(De*De+nt*nt);this.data[Y+be]=Math.max(0,Math.min(255,We+128))}}}addRegularDash(c){for(let te=c.length-1;te>=0;--te){const oe=c[te],be=c[te+1];oe.zeroLength?c.splice(te,1):be&&be.isDash===oe.isDash&&(be.left=oe.left,c.splice(te,1))}const g=c[0],M=c[c.length-1];g.isDash===M.isDash&&(g.left=M.left-this.width,M.right=g.right+this.width);const L=this.width*this.nextRow;let j=0,Y=c[j];for(let te=0;te<this.width;te++){te/Y.right>1&&(Y=c[++j]);const oe=Math.abs(te-Y.left),be=Math.abs(te-Y.right),Ce=Math.min(oe,be);this.data[L+te]=Math.max(0,Math.min(255,(Y.isDash?Ce:-Ce)+128))}}addDash(c,g){const M=g?7:0,L=2*M+1;if(this.nextRow+L>this.height)return o.w("LineAtlas out of space"),null;let j=0;for(let te=0;te<c.length;te++)j+=c[te];if(j!==0){const te=this.width/j,oe=this.getDashRanges(c,this.width,te);g?this.addRoundDash(oe,te,M):this.addRegularDash(oe)}const Y={y:(this.nextRow+M+.5)/this.height,height:2*M/this.height,width:j};return this.nextRow+=L,this.dirty=!0,Y}bind(c){const g=c.gl;this.texture?(g.bindTexture(g.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,g.texSubImage2D(g.TEXTURE_2D,0,0,0,this.width,this.height,g.ALPHA,g.UNSIGNED_BYTE,this.data))):(this.texture=g.createTexture(),g.bindTexture(g.TEXTURE_2D,this.texture),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,this.width,this.height,0,g.ALPHA,g.UNSIGNED_BYTE,this.data))}}const se="maplibre_preloaded_worker_pool";class ge{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<ge.workerCount;)this.workers.push(new Worker(o.a.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(g=>{g.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[se]}numActive(){return Object.keys(this.active).length}}const _e=Math.floor(p.hardwareConcurrency/2);let ke,Ge;function ct(){return ke||(ke=new ge),ke}ge.workerCount=o.G(globalThis)?Math.max(Math.min(_e,3),1):1;class $e{constructor(c,g){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=g;const M=this.workerPool.acquire(g);for(let L=0;L<M.length;L++){const j=new o.H(M[L],g);j.name=`Worker ${L}`,this.actors.push(j)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,g){const M=[];for(const L of this.actors)M.push(L.sendAsync({type:c,data:g}));return Promise.all(M)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach(g=>{g.remove()}),this.actors=[],c&&this.workerPool.release(this.id)}registerMessageHandler(c,g){for(const M of this.actors)M.registerMessageHandler(c,g)}}function we(){return Ge||(Ge=new $e(ct(),o.J),Ge.registerMessageHandler("GR",(B,c,g)=>o.m(c,g))),Ge}function Ee(B,c){const g=o.K();return o.L(g,g,[1,1,0]),o.M(g,g,[.5*B.width,.5*B.height,1]),B.calculatePosMatrix?o.N(g,g,B.calculatePosMatrix(c.toUnwrapped())):g}function Re(B,c,g,M,L,j,Y){var te;const oe=function(De,We,nt){if(De)for(const Pt of De){const Ct=We[Pt];if(Ct&&Ct.source===nt&&Ct.type==="fill-extrusion")return!0}else for(const Pt in We){const Ct=We[Pt];if(Ct.source===nt&&Ct.type==="fill-extrusion")return!0}return!1}((te=L==null?void 0:L.layers)!==null&&te!==void 0?te:null,c,B.id),be=j.maxPitchScaleFactor(),Ce=B.tilesIn(M,be,oe);Ce.sort(ft);const Fe=[];for(const De of Ce)Fe.push({wrappedTileID:De.tileID.wrapped().key,queryResults:De.tile.queryRenderedFeatures(c,g,B._state,De.queryGeometry,De.cameraQueryGeometry,De.scale,L,j,be,Ee(B.transform,De.tileID),Y?(We,nt)=>Y(De.tileID,We,nt):void 0)});return function(De,We){for(const nt in De)for(const Pt of De[nt])qe(Pt,We);return De}(function(De){const We={},nt={};for(const Pt of De){const Ct=Pt.queryResults,Rt=Pt.wrappedTileID,Bt=nt[Rt]=nt[Rt]||{};for(const Ht in Ct){const $t=Ct[Ht],Wt=Bt[Ht]=Bt[Ht]||{},tr=We[Ht]=We[Ht]||[];for(const nr of $t)Wt[nr.featureIndex]||(Wt[nr.featureIndex]=!0,tr.push(nr))}}return We}(Fe),B)}function ft(B,c){const g=B.tileID,M=c.tileID;return g.overscaledZ-M.overscaledZ||g.canonical.y-M.canonical.y||g.wrap-M.wrap||g.canonical.x-M.canonical.x}function qe(B,c){const g=B.feature,M=c.getFeatureState(g.layer["source-layer"],g.id);g.source=g.layer.source,g.layer["source-layer"]&&(g.sourceLayer=g.layer["source-layer"]),g.state=M}function dt(B,c,g){return o._(this,void 0,void 0,function*(){let M=B;if(B.url?M=(yield o.j(c.transformRequest(B.url,"Source"),g)).data:yield p.frameAsync(g),!M)return null;const L=o.O(o.e(M,B),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in M&&M.vector_layers&&(L.vectorLayerIds=M.vector_layers.map(j=>j.id)),L})}class he{constructor(c,g){c&&(g?this.setSouthWest(c).setNorthEast(g):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof o.Q?new o.Q(c.lng,c.lat):o.Q.convert(c),this}setSouthWest(c){return this._sw=c instanceof o.Q?new o.Q(c.lng,c.lat):o.Q.convert(c),this}extend(c){const g=this._sw,M=this._ne;let L,j;if(c instanceof o.Q)L=c,j=c;else{if(!(c instanceof he))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(he.convert(c)):this.extend(o.Q.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(o.Q.convert(c)):this;if(L=c._sw,j=c._ne,!L||!j)return this}return g||M?(g.lng=Math.min(L.lng,g.lng),g.lat=Math.min(L.lat,g.lat),M.lng=Math.max(j.lng,M.lng),M.lat=Math.max(j.lat,M.lat)):(this._sw=new o.Q(L.lng,L.lat),this._ne=new o.Q(j.lng,j.lat)),this}getCenter(){return new o.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.Q(this.getWest(),this.getNorth())}getSouthEast(){return new o.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:g,lat:M}=o.Q.convert(c);let L=this._sw.lng<=g&&g<=this._ne.lng;return this._sw.lng>this._ne.lng&&(L=this._sw.lng>=g&&g>=this._ne.lng),this._sw.lat<=M&&M<=this._ne.lat&&L}static convert(c){return c instanceof he?c:c&&new he(c)}static fromLngLat(c,g=0){const M=360*g/40075017,L=M/Math.cos(Math.PI/180*c.lat);return new he(new o.Q(c.lng-L,c.lat-M),new o.Q(c.lng+L,c.lat+M))}adjustAntiMeridian(){const c=new o.Q(this._sw.lng,this._sw.lat),g=new o.Q(this._ne.lng,this._ne.lat);return new he(c,c.lng>g.lng?new o.Q(g.lng+360,g.lat):g)}}class ut{constructor(c,g,M){this.bounds=he.convert(this.validateBounds(c)),this.minzoom=g||0,this.maxzoom=M||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const g=Math.pow(2,c.z),M=Math.floor(o.U(this.bounds.getWest())*g),L=Math.floor(o.S(this.bounds.getNorth())*g),j=Math.ceil(o.U(this.bounds.getEast())*g),Y=Math.ceil(o.S(this.bounds.getSouth())*g);return c.x>=M&&c.x<j&&c.y>=L&&c.y<Y}}class xt extends o.E{constructor(c,g,M,L){if(super(),this.id=c,this.dispatcher=M,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.O(g,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},g),this._collectResourceTiming=g.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(L)}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const c=yield dt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),c&&(o.e(this,c),c.bounds&&(this.tileBounds=new ut(c.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})))}catch(c){this._tileJSONRequest=null,this.fire(new o.k(c))}})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.abort(),c(),this.load()}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return o.e({},this._options)}loadTile(c){return o._(this,void 0,void 0,function*(){const g=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),M={request:this.map._requestManager.transformRequest(g,"Tile"),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};M.request.collectResourceTiming=this._collectResourceTiming;let L="RT";if(c.actor&&c.state!=="expired"){if(c.state==="loading")return new Promise((j,Y)=>{c.reloadPromise={resolve:j,reject:Y}})}else c.actor=this.dispatcher.getActor(),L="LT";c.abortController=new AbortController;try{const j=yield c.actor.sendAsync({type:L,data:M},c.abortController);if(delete c.abortController,c.aborted)return;this._afterTileLoadWorkerResponse(c,j)}catch(j){if(delete c.abortController,c.aborted)return;if(j&&j.status!==404)throw j;this._afterTileLoadWorkerResponse(c,null)}})}_afterTileLoadWorkerResponse(c,g){if(g&&g.resourceTiming&&(c.resourceTiming=g.resourceTiming),g&&this.map._refreshExpiredTiles&&c.setExpiryData(g),c.loadVectorData(g,this.map.painter),c.reloadPromise){const M=c.reloadPromise;c.reloadPromise=null,this.loadTile(c).then(M.resolve).catch(M.reject)}}abortTile(c){return o._(this,void 0,void 0,function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.actor&&(yield c.actor.sendAsync({type:"AT",data:{uid:c.uid,type:this.type,source:this.id}}))})}unloadTile(c){return o._(this,void 0,void 0,function*(){c.unloadVectorData(),c.actor&&(yield c.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class je extends o.E{constructor(c,g,M,L){super(),this.id=c,this.dispatcher=M,this.setEventedParent(L),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},g),o.e(this,o.O(g,["url","scheme","tileSize"]))}load(){return o._(this,arguments,void 0,function*(c=!1){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const g=yield dt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,g&&(o.e(this,g),g.bounds&&(this.tileBounds=new ut(g.bounds,this.minzoom,this.maxzoom)),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:c})))}catch(g){this._tileJSONRequest=null,this.fire(new o.k(g))}})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),c(),this.load(!0)}setTiles(c){return this.setSourceProperty(()=>{this._options.tiles=c}),this}setUrl(c){return this.setSourceProperty(()=>{this.url=c,this._options.url=c}),this}serialize(){return o.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c){return o._(this,void 0,void 0,function*(){const g=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.abortController=new AbortController;try{const M=yield S.getImage(this.map._requestManager.transformRequest(g,"Tile"),c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(M&&M.data){this.map._refreshExpiredTiles&&(M.cacheControl||M.expires)&&c.setExpiryData({cacheControl:M.cacheControl,expires:M.expires});const L=this.map.painter.context,j=L.gl,Y=M.data;c.texture=this.map.painter.getTileTexture(Y.width),c.texture?c.texture.update(Y,{useMipmap:!0}):(c.texture=new O(L,Y,j.RGBA,{useMipmap:!0}),c.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST)),c.state="loaded"}}catch(M){if(delete c.abortController,c.aborted)c.state="unloaded";else if(M)throw c.state="errored",M}})}abortTile(c){return o._(this,void 0,void 0,function*(){c.abortController&&(c.abortController.abort(),delete c.abortController)})}unloadTile(c){return o._(this,void 0,void 0,function*(){c.texture&&this.map.painter.saveTileTexture(c.texture)})}hasTransition(){return!1}}class rt extends je{constructor(c,g,M,L){super(c,g,M,L),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},g),this.encoding=g.encoding||"mapbox",this.redFactor=g.redFactor,this.greenFactor=g.greenFactor,this.blueFactor=g.blueFactor,this.baseShift=g.baseShift}loadTile(c){return o._(this,void 0,void 0,function*(){const g=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),M=this.map._requestManager.transformRequest(g,"Tile");c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.abortController=new AbortController;try{const L=yield S.getImage(M,c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(L&&L.data){const j=L.data;this.map._refreshExpiredTiles&&(L.cacheControl||L.expires)&&c.setExpiryData({cacheControl:L.cacheControl,expires:L.expires});const Y=o.b(j)&&o.V()?j:yield this.readImageNow(j),te={type:this.type,uid:c.uid,source:this.id,rawImageData:Y,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!c.actor||c.state==="expired"){c.actor=this.dispatcher.getActor();const oe=yield c.actor.sendAsync({type:"LDT",data:te});c.dem=oe,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded"}}}catch(L){if(delete c.abortController,c.aborted)c.state="unloaded";else if(L)throw c.state="errored",L}})}readImageNow(c){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.W()){const g=c.width+2,M=c.height+2;try{return new o.R({width:g,height:M},yield o.X(c,-1,-1,g,M))}catch{}}return p.getImageData(c,1)})}_getNeighboringTiles(c){const g=c.canonical,M=Math.pow(2,g.z),L=(g.x-1+M)%M,j=g.x===0?c.wrap-1:c.wrap,Y=(g.x+1+M)%M,te=g.x+1===M?c.wrap+1:c.wrap,oe={};return oe[new o.Y(c.overscaledZ,j,g.z,L,g.y).key]={backfilled:!1},oe[new o.Y(c.overscaledZ,te,g.z,Y,g.y).key]={backfilled:!1},g.y>0&&(oe[new o.Y(c.overscaledZ,j,g.z,L,g.y-1).key]={backfilled:!1},oe[new o.Y(c.overscaledZ,c.wrap,g.z,g.x,g.y-1).key]={backfilled:!1},oe[new o.Y(c.overscaledZ,te,g.z,Y,g.y-1).key]={backfilled:!1}),g.y+1<M&&(oe[new o.Y(c.overscaledZ,j,g.z,L,g.y+1).key]={backfilled:!1},oe[new o.Y(c.overscaledZ,c.wrap,g.z,g.x,g.y+1).key]={backfilled:!1},oe[new o.Y(c.overscaledZ,te,g.z,Y,g.y+1).key]={backfilled:!1}),oe}unloadTile(c){return o._(this,void 0,void 0,function*(){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&(yield c.actor.sendAsync({type:"RDT",data:{type:this.type,uid:c.uid,source:this.id}}))})}}class Ze extends o.E{constructor(c,g,M,L){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=M.getActor(),this.setEventedParent(L),this._data=g.data,this._options=o.e({},g),this._collectResourceTiming=g.collectResourceTiming,g.maxzoom!==void 0&&(this.maxzoom=g.maxzoom),g.type&&(this.type=g.type),g.attribution&&(this.attribution=g.attribution),this.promoteId=g.promoteId,g.clusterMaxZoom!==void 0&&this.maxzoom<=g.clusterMaxZoom&&o.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${g.clusterMaxZoom}".`),this.workerOptions=o.e({source:this.id,cluster:g.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(g.buffer!==void 0?g.buffer:128),tolerance:this._pixelsToTileUnits(g.tolerance!==void 0?g.tolerance:.375),extent:o.Z,maxZoom:this.maxzoom,lineMetrics:g.lineMetrics||!1,generateId:g.generateId||!1},superclusterOptions:{maxZoom:g.clusterMaxZoom!==void 0?g.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,g.clusterMinPoints||2),extent:o.Z,radius:this._pixelsToTileUnits(g.clusterRadius||50),log:!1,generateId:g.generateId||!1},clusterProperties:g.clusterProperties,filter:g.filter},g.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(c){return c*(o.Z/this.tileSize)}load(){return o._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(c){this.map=c,this.load()}setData(c){return this._data=c,this._updateWorkerData(),this}updateData(c){return this._updateWorkerData(c),this}getData(){return o._(this,void 0,void 0,function*(){const c=o.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:c})})}getCoordinatesFromGeometry(c){return c.type==="GeometryCollection"?c.geometries.map(g=>g.coordinates).flat(1/0):c.coordinates.flat(1/0)}getBounds(){return o._(this,void 0,void 0,function*(){const c=new he,g=yield this.getData();let M;switch(g.type){case"FeatureCollection":M=g.features.map(L=>this.getCoordinatesFromGeometry(L.geometry)).flat(1/0);break;case"Feature":M=this.getCoordinatesFromGeometry(g.geometry);break;default:M=this.getCoordinatesFromGeometry(g)}if(M.length==0)return c;for(let L=0;L<M.length-1;L+=2)c.extend([M[L],M[L+1]]);return c})}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c&&(c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(c.clusterRadius)),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=c.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(c){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:c,source:this.id}})}getClusterChildren(c){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:c,source:this.id}})}getClusterLeaves(c,g,M){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:c,limit:g,offset:M}})}_updateWorkerData(c){return o._(this,void 0,void 0,function*(){const g=o.e({type:this.type},this.workerOptions);c?g.dataDiff=c:typeof this._data=="string"?(g.request=this.map._requestManager.transformRequest(p.resolveURL(this._data),"Source"),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.l("dataloading",{dataType:"source"}));try{const M=yield this.actor.sendAsync({type:"LD",data:g});if(this._pendingLoads--,this._removed||M.abandoned)return void this.fire(new o.l("dataabort",{dataType:"source"}));let L=null;M.resourceTiming&&M.resourceTiming[this.id]&&(L=M.resourceTiming[this.id].slice(0));const j={dataType:"source"};this._collectResourceTiming&&L&&L.length>0&&o.e(j,{resourceTiming:L}),this.fire(new o.l("data",Object.assign(Object.assign({},j),{sourceDataType:"metadata"}))),this.fire(new o.l("data",Object.assign(Object.assign({},j),{sourceDataType:"content"})))}catch(M){if(this._pendingLoads--,this._removed)return void this.fire(new o.l("dataabort",{dataType:"source"}));this.fire(new o.k(M))}})}loaded(){return this._pendingLoads===0}loadTile(c){return o._(this,void 0,void 0,function*(){const g=c.actor?"RT":"LT";c.actor=this.actor;const M={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};c.abortController=new AbortController;const L=yield this.actor.sendAsync({type:g,data:M},c.abortController);delete c.abortController,c.unloadVectorData(),c.aborted||c.loadVectorData(L,this.map.painter,g==="RT")})}abortTile(c){return o._(this,void 0,void 0,function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.aborted=!0})}unloadTile(c){return o._(this,void 0,void 0,function*(){c.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return o.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class yt extends o.E{constructor(c,g,M,L){super(),this.flippedWindingOrder=!1,this.id=c,this.dispatcher=M,this.coordinates=g.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(L),this.options=g}load(c){return o._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new o.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const g=yield S.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,g&&g.data&&(this.image=g.data,c&&(this.coordinates=c),this._finishLoading())}catch(g){this._request=null,this._loaded=!0,this.fire(new o.k(g))}})}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=c.url,this.load(c.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(c){this.coordinates=c;const g=c.map(o.$.fromLngLat);var M;return this.tileID=function(L){let j=1/0,Y=1/0,te=-1/0,oe=-1/0;for(const De of L)j=Math.min(j,De.x),Y=Math.min(Y,De.y),te=Math.max(te,De.x),oe=Math.max(oe,De.y);const be=Math.max(te-j,oe-Y),Ce=Math.max(0,Math.floor(-Math.log(be)/Math.LN2)),Fe=Math.pow(2,Ce);return new o.a1(Ce,Math.floor((j+te)/2*Fe),Math.floor((Y+oe)/2*Fe))}(g),this.terrainTileRanges=this._getOverlappingTileRanges(g),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=g.map(L=>this.tileID.getTilePoint(L)._round()),this.flippedWindingOrder=((M=this.tileCoords)[1].x-M[0].x)*(M[2].y-M[0].y)-(M[1].y-M[0].y)*(M[2].x-M[0].x)<0,this.fire(new o.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,g=c.gl;this.texture||(this.texture=new O(c,this.image,g.RGBA),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE));let M=!1;for(const L in this.tiles){const j=this.tiles[L];j.state!=="loaded"&&(j.state="loaded",j.texture=this.texture,M=!0)}M&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(c){return o._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={}):c.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(c){let g=1/0,M=1/0,L=-1/0,j=-1/0;for(const te of c)g=Math.min(g,te.x),M=Math.min(M,te.y),L=Math.max(L,te.x),j=Math.max(j,te.y);const Y={};for(let te=0;te<=o.a0;te++){const oe=Math.pow(2,te),be=Math.floor(g*oe),Ce=Math.floor(M*oe),Fe=Math.floor(L*oe),De=Math.floor(j*oe);Y[te]={minTileX:be,minTileY:Ce,maxTileX:Fe,maxTileY:De}}return Y}}class Vt extends yt{constructor(c,g,M,L){super(c,g,M,L),this.roundZoom=!0,this.type="video",this.options=g}load(){return o._(this,void 0,void 0,function*(){this._loaded=!1;const c=this.options;this.urls=[];for(const g of c.urls)this.urls.push(this.map._requestManager.transformRequest(g,"Source").url);try{const g=yield o.a2(this.urls);if(this._loaded=!0,!g)return;this.video=g,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(g){this.fire(new o.k(g))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const g=this.video.seekable;c<g.start(0)||c>g.end(0)?this.fire(new o.k(new o.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${g.start(0)} and ${g.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const c=this.map.painter.context,g=c.gl;this.texture?this.video.paused||(this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.texSubImage2D(g.TEXTURE_2D,0,0,0,g.RGBA,g.UNSIGNED_BYTE,this.video)):(this.texture=new O(c,this.video,g.RGBA),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE));let M=!1;for(const L in this.tiles){const j=this.tiles[L];j.state!=="loaded"&&(j.state="loaded",j.texture=this.texture,M=!0)}M&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class At extends yt{constructor(c,g,M,L){super(c,g,M,L),g.coordinates?Array.isArray(g.coordinates)&&g.coordinates.length===4&&!g.coordinates.some(j=>!Array.isArray(j)||j.length!==2||j.some(Y=>typeof Y!="number"))||this.fire(new o.k(new o.a3(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.k(new o.a3(`sources.${c}`,null,'missing required property "coordinates"'))),g.animate&&typeof g.animate!="boolean"&&this.fire(new o.k(new o.a3(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),g.canvas?typeof g.canvas=="string"||g.canvas instanceof HTMLCanvasElement||this.fire(new o.k(new o.a3(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.k(new o.a3(`sources.${c}`,null,'missing required property "canvas"'))),this.options=g,this.animate=g.animate===void 0||g.animate}load(){return o._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const g=this.map.painter.context,M=g.gl;this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new O(g,this.canvas,M.RGBA,{premultiply:!0});let L=!1;for(const j in this.tiles){const Y=this.tiles[j];Y.state!=="loaded"&&(Y.state="loaded",Y.texture=this.texture,L=!0)}L&&this.fire(new o.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const hr={},Sr=B=>{switch(B){case"geojson":return Ze;case"image":return yt;case"raster":return je;case"raster-dem":return rt;case"vector":return xt;case"video":return Vt;case"canvas":return At}return hr[B]},fr="RTLPluginLoaded";class Dt extends o.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=we()}_syncState(c){return this.status=c,this.dispatcher.broadcast("SRPS",{pluginStatus:c,pluginURL:this.url}).catch(g=>{throw this.status="error",g})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(c){return o._(this,arguments,void 0,function*(g,M=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=p.resolveURL(g),!this.url)throw new Error(`requested url ${g} is invalid`);if(this.status==="unavailable"){if(!M)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return o._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new o.l(fr))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let dr=null;function Nr(){return dr||(dr=new Dt),dr}class gr{constructor(c,g){this.timeAdded=0,this.fadeEndTime=0,this.tileID=c,this.uid=o.a4(),this.uses=0,this.tileSize=g,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const g=c+this.timeAdded;g<this.fadeEndTime||(this.fadeEndTime=g)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,g,M){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(L,j){const Y={};if(!j)return Y;for(const te of L){const oe=te.layerIds.map(be=>j.getLayer(be)).filter(Boolean);if(oe.length!==0){te.layers=oe,te.stateDependentLayerIds&&(te.stateDependentLayers=te.stateDependentLayerIds.map(be=>oe.filter(Ce=>Ce.id===be)[0]));for(const be of oe)Y[be.id]=te}}return Y}(c.buckets,g==null?void 0:g.style),this.hasSymbolBuckets=!1;for(const L in this.buckets){const j=this.buckets[L];if(j instanceof o.a6){if(this.hasSymbolBuckets=!0,!M)break;j.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const L in this.buckets){const j=this.buckets[L];if(j instanceof o.a6&&j.hasRTLText){this.hasRTLText=!0,Nr().lazyLoad();break}}this.queryPadding=0;for(const L in this.buckets){const j=this.buckets[L];this.queryPadding=Math.max(this.queryPadding,g.style.getLayer(L).queryRadius(j))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage)}else this.collisionBoxArray=new o.a5}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const M in this.buckets){const L=this.buckets[M];L.uploadPending()&&L.upload(c)}const g=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new O(c,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new O(c,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,g,M,L,j,Y,te,oe,be,Ce,Fe){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:L,cameraQueryGeometry:j,scale:Y,tileSize:this.tileSize,pixelPosMatrix:Ce,transform:oe,params:te,queryPadding:this.queryPadding*be,getElevation:Fe},c,g,M):{}}querySourceFeatures(c,g){const M=this.latestFeatureIndex;if(!M||!M.rawTileData)return;const L=M.loadVTLayers(),j=g&&g.sourceLayer?g.sourceLayer:"",Y=L._geojsonTileLayer||L[j];if(!Y)return;const te=o.a7(g&&g.filter),{z:oe,x:be,y:Ce}=this.tileID.canonical,Fe={z:oe,x:be,y:Ce};for(let De=0;De<Y.length;De++){const We=Y.feature(De);if(te.needGeometry){const Ct=o.a8(We,!0);if(!te.filter(new o.C(this.tileID.overscaledZ),Ct,this.tileID.canonical))continue}else if(!te.filter(new o.C(this.tileID.overscaledZ),We))continue;const nt=M.getId(We,j),Pt=new o.a9(We,oe,be,Ce,nt);Pt.tile=Fe,c.push(Pt)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const g=this.expirationTime;if(c.cacheControl){const M=o.aa(c.cacheControl);M["max-age"]&&(this.expirationTime=Date.now()+1e3*M["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const M=Date.now();let L=!1;if(this.expirationTime>M)L=!1;else if(g)if(this.expirationTime<g)L=!0;else{const j=this.expirationTime-g;j?this.expirationTime=M+Math.max(j,3e4):L=!0}else L=!0;L?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,g){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const M=this.latestFeatureIndex.loadVTLayers();for(const L in this.buckets){if(!g.style.hasLayer(L))continue;const j=this.buckets[L],Y=j.layers[0].sourceLayer||"_geojsonTileLayer",te=M[Y],oe=c[Y];if(!te||!oe||Object.keys(oe).length===0)continue;j.update(oe,te,this.imageAtlas&&this.imageAtlas.patternPositions||{});const be=g&&g.style&&g.style.getLayer(L);be&&(this.queryPadding=Math.max(this.queryPadding,be.queryRadius(j)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<p.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=p.now()+c}setDependencies(c,g){const M={};for(const L of g)M[L]=!0;this.dependencies[c]=M}hasDependency(c,g){for(const M of c){const L=this.dependencies[M];if(L){for(const j of g)if(L[j])return!0}}return!1}}class wr{constructor(c,g){this.max=c,this.onRemove=g,this.reset()}reset(){for(const c in this.data)for(const g of this.data[c])g.timeout&&clearTimeout(g.timeout),this.onRemove(g.value);return this.data={},this.order=[],this}add(c,g,M){const L=c.wrapped().key;this.data[L]===void 0&&(this.data[L]=[]);const j={value:g,timeout:void 0};if(M!==void 0&&(j.timeout=setTimeout(()=>{this.remove(c,j)},M)),this.data[L].push(j),this.order.push(L),this.order.length>this.max){const Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const g=this.data[c].shift();return g.timeout&&clearTimeout(g.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),g.value}getByKey(c){const g=this.data[c];return g?g[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,g){if(!this.has(c))return this;const M=c.wrapped().key,L=g===void 0?0:this.data[M].indexOf(g),j=this.data[M][L];return this.data[M].splice(L,1),j.timeout&&clearTimeout(j.timeout),this.data[M].length===0&&delete this.data[M],this.onRemove(j.value),this.order.splice(this.order.indexOf(M),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}filter(c){const g=[];for(const M in this.data)for(const L of this.data[M])c(L.value)||g.push(L);for(const M of g)this.remove(M.value.tileID,M)}}class Fr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,g,M){const L=String(g);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][L]=this.stateChanges[c][L]||{},o.e(this.stateChanges[c][L],M),this.deletedStates[c]===null){this.deletedStates[c]={};for(const j in this.state[c])j!==L&&(this.deletedStates[c][j]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][L]===null){this.deletedStates[c][L]={};for(const j in this.state[c][L])M[j]||(this.deletedStates[c][L][j]=null)}else for(const j in M)this.deletedStates[c]&&this.deletedStates[c][L]&&this.deletedStates[c][L][j]===null&&delete this.deletedStates[c][L][j]}removeFeatureState(c,g,M){if(this.deletedStates[c]===null)return;const L=String(g);if(this.deletedStates[c]=this.deletedStates[c]||{},M&&g!==void 0)this.deletedStates[c][L]!==null&&(this.deletedStates[c][L]=this.deletedStates[c][L]||{},this.deletedStates[c][L][M]=null);else if(g!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][L])for(M in this.deletedStates[c][L]={},this.stateChanges[c][L])this.deletedStates[c][L][M]=null;else this.deletedStates[c][L]=null;else this.deletedStates[c]=null}getState(c,g){const M=String(g),L=o.e({},(this.state[c]||{})[M],(this.stateChanges[c]||{})[M]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const j=this.deletedStates[c][g];if(j===null)return{};for(const Y in j)delete L[Y]}return L}initializeTileState(c,g){c.setFeatureState(this.state,g)}coalesceChanges(c,g){const M={};for(const L in this.stateChanges){this.state[L]=this.state[L]||{};const j={};for(const Y in this.stateChanges[L])this.state[L][Y]||(this.state[L][Y]={}),o.e(this.state[L][Y],this.stateChanges[L][Y]),j[Y]=this.state[L][Y];M[L]=j}for(const L in this.deletedStates){this.state[L]=this.state[L]||{};const j={};if(this.deletedStates[L]===null)for(const Y in this.state[L])j[Y]={},this.state[L][Y]={};else for(const Y in this.deletedStates[L]){if(this.deletedStates[L][Y]===null)this.state[L][Y]={};else for(const te of Object.keys(this.deletedStates[L][Y]))delete this.state[L][Y][te];j[Y]=this.state[L][Y]}M[L]=M[L]||{},o.e(M[L],j)}if(this.stateChanges={},this.deletedStates={},Object.keys(M).length!==0)for(const L in c)c[L].setFeatureState(M,g)}}const _n=89.25;function nn(B,c){const g=o.ae(c.lat,-85.051129,o.af);return new o.P(o.U(c.lng)*B,o.S(g)*B)}function ot(B,c){return new o.$(c.x/B,c.y/B).toLngLat()}function Je(B){return B.cameraToCenterDistance*Math.min(.85*Math.tan(o.ab(90-B.pitch)),Math.tan(o.ab(_n-B.pitch)))}function Me(B,c){const g=B.canonical,M=c/o.ac(g.z),L=g.x+Math.pow(2,g.z)*B.wrap,j=o.ad(new Float64Array(16));return o.L(j,j,[L*M,g.y*M,0]),o.M(j,j,[M/o.Z,M/o.Z,1]),j}function Le(B,c,g,M,L){const j=o.$.fromLngLat(B,c),Y=L*o.ag(1,B.lat),te=Y*Math.cos(o.ab(g)),oe=Math.sqrt(Y*Y-te*te),be=oe*Math.sin(o.ab(-M)),Ce=oe*Math.cos(o.ab(-M));return new o.$(j.x+be,j.y+Ce,j.z+te)}function Ye(B,c,g){const M=c.intersectsFrustum(B);if(!g)return M;const L=c.intersectsPlane(g);return M===0||L===0?0:M===2&&L===2?2:1}function gt(B,c,g){let M=0;const L=(g-c)/10;for(let j=0;j<10;j++)M+=L*Math.pow(Math.cos(c+(j+.5)/10*(g-c)),B);return M}function kt(B,c){return function(g,M,L,j,Y){const te=2*((B-1)/o.ah(Math.cos(o.ab(_n-Y))/Math.cos(o.ab(_n)))-1),oe=Math.acos(L/j),be=2*gt(te-1,0,o.ab(Y/2)),Ce=Math.min(o.ab(_n),oe+o.ab(Y/2)),Fe=gt(te-1,Math.min(Ce,oe-o.ab(Y/2)),Ce),De=Math.atan(M/L),We=Math.hypot(M,L);let nt=g;return nt+=o.ah(j/We/Math.max(.5,Math.cos(o.ab(Y/2)))),nt+=te*o.ah(Math.cos(De))/2,nt-=o.ah(Math.max(1,Fe/be/c))/2,nt}}const at=kt(9.314,3);function Ft(B,c){const g=(c.roundZoom?Math.round:Math.floor)(B.zoom+o.ah(B.tileSize/c.tileSize));return Math.max(0,g)}function Tt(B,c){const g=B.getCameraFrustum(),M=B.getClippingPlane(),L=B.screenPointToMercatorCoordinate(B.getCameraPoint()),j=o.$.fromLngLat(B.center,B.elevation);L.z=j.z+Math.cos(B.pitchInRadians)*B.cameraToCenterDistance/B.worldSize;const Y=B.getCoveringTilesDetailsProvider(),te=Y.allowVariableZoom(B,c),oe=Ft(B,c),be=c.minzoom||0,Ce=c.maxzoom!==void 0?c.maxzoom:B.maxZoom,Fe=Math.min(Math.max(0,oe),Ce),De=Math.pow(2,Fe),We=[De*L.x,De*L.y,0],nt=[De*j.x,De*j.y,0],Pt=Math.hypot(j.x-L.x,j.y-L.y),Ct=Math.abs(j.z-L.z),Rt=Math.hypot(Pt,Ct),Bt=Wt=>({zoom:0,x:0,y:0,wrap:Wt,fullyVisible:!1}),Ht=[],$t=[];if(B.renderWorldCopies&&Y.allowWorldCopies())for(let Wt=1;Wt<=3;Wt++)Ht.push(Bt(-Wt)),Ht.push(Bt(Wt));for(Ht.push(Bt(0));Ht.length>0;){const Wt=Ht.pop(),tr=Wt.x,nr=Wt.y;let kr=Wt.fullyVisible;const Qr={x:tr,y:nr,z:Wt.zoom},_r=Y.getTileAABB(Qr,Wt.wrap,B.elevation,c);if(!kr){const In=Ye(g,_r,M);if(In===0)continue;kr=In===2}const $r=Y.distanceToTile2d(L.x,L.y,Qr,_r);let Jr=oe;te&&(Jr=(c.calculateTileZoom||at)(B.zoom+o.ah(B.tileSize/c.tileSize),$r,Ct,Rt,B.fov)),Jr=(c.roundZoom?Math.round:Math.floor)(Jr),Jr=Math.max(0,Jr);const Dn=Math.min(Jr,Ce);if(Wt.wrap=Y.getWrap(j,Qr,Wt.wrap),Wt.zoom>=Dn){if(Wt.zoom<be)continue;const In=Fe-Wt.zoom,hn=We[0]-.5-(tr<<In),Jn=We[1]-.5-(nr<<In),Mi=c.reparseOverscaled?Math.max(Wt.zoom,Jr):Wt.zoom;$t.push({tileID:new o.Y(Wt.zoom===Ce?Mi:Wt.zoom,Wt.wrap,Wt.zoom,tr,nr),distanceSq:o.ai([nt[0]-.5-tr,nt[1]-.5-nr]),tileDistanceToCamera:Math.sqrt(hn*hn+Jn*Jn)})}else for(let In=0;In<4;In++)Ht.push({zoom:Wt.zoom+1,x:(tr<<1)+In%2,y:(nr<<1)+(In>>1),wrap:Wt.wrap,fullyVisible:kr})}return $t.sort((Wt,tr)=>Wt.distanceSq-tr.distanceSq).map(Wt=>Wt.tileID)}class ir extends o.E{constructor(c,g,M){super(),this.id=c,this.dispatcher=M,this.on("data",L=>this._dataHandler(L)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((L,j,Y,te)=>{const oe=new(Sr(j.type))(L,j,Y,te);if(oe.id!==L)throw new Error(`Expected Source id to be ${L} instead of ${oe.id}`);return oe})(c,g,M,this),this._tiles={},this._cache=new wr(0,L=>this._unloadTile(L)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Fr,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c in this._tiles){const g=this._tiles[c];if(g.state!=="loaded"&&g.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,g,M){return o._(this,void 0,void 0,function*(){try{yield this._source.loadTile(c),this._tileLoaded(c,g,M)}catch(L){c.state="errored",L.status!==404?this._source.fire(new o.k(L,{tile:c})):this.update(this.transform,this.terrain)}})}_unloadTile(c){this._source.unloadTile&&this._source.unloadTile(c)}_abortTile(c){this._source.abortTile&&this._source.abortTile(c),this._source.fire(new o.l("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const g in this._tiles){const M=this._tiles[g];M.upload(c),M.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(c=>c.tileID).sort(or).map(c=>c.key)}getRenderableIds(c){const g=[];for(const M in this._tiles)this._isIdRenderable(M,c)&&g.push(this._tiles[M]);return c?g.sort((M,L)=>{const j=M.tileID,Y=L.tileID,te=new o.P(j.canonical.x,j.canonical.y)._rotate(-this.transform.bearingInRadians),oe=new o.P(Y.canonical.x,Y.canonical.y)._rotate(-this.transform.bearingInRadians);return j.overscaledZ-Y.overscaledZ||oe.y-te.y||oe.x-te.x}).map(M=>M.tileID.key):g.map(M=>M.tileID).sort(or).map(M=>M.key)}hasRenderableParent(c){const g=this.findLoadedParent(c,0);return!!g&&this._isIdRenderable(g.tileID.key)}_isIdRenderable(c,g){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(g||!this._tiles[c].holdingForFade())}reload(c){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const g in this._tiles)(c||this._tiles[g].state!=="errored")&&this._reloadTile(g,"reloading")}}_reloadTile(c,g){return o._(this,void 0,void 0,function*(){const M=this._tiles[c];M&&(M.state!=="loading"&&(M.state=g),yield this._loadTile(M,c,g))})}_tileLoaded(c,g,M){c.timeAdded=p.now(),M==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(g,c),this.getSource().type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new o.l("data",{dataType:"source",tile:c,coord:c.tileID}))}_backfillDEM(c){const g=this.getRenderableIds();for(let L=0;L<g.length;L++){const j=g[L];if(c.neighboringTiles&&c.neighboringTiles[j]){const Y=this.getTileByID(j);M(c,Y),M(Y,c)}}function M(L,j){L.needsHillshadePrepare=!0,L.needsTerrainPrepare=!0;let Y=j.tileID.canonical.x-L.tileID.canonical.x;const te=j.tileID.canonical.y-L.tileID.canonical.y,oe=Math.pow(2,L.tileID.canonical.z),be=j.tileID.key;Y===0&&te===0||Math.abs(te)>1||(Math.abs(Y)>1&&(Math.abs(Y+oe)===1?Y+=oe:Math.abs(Y-oe)===1&&(Y-=oe)),j.dem&&L.dem&&(L.dem.backfillBorder(j.dem,Y,te),L.neighboringTiles&&L.neighboringTiles[be]&&(L.neighboringTiles[be].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,g,M,L){for(const j in this._tiles){let Y=this._tiles[j];if(L[j]||!Y.hasData()||Y.tileID.overscaledZ<=g||Y.tileID.overscaledZ>M)continue;let te=Y.tileID;for(;Y&&Y.tileID.overscaledZ>g+1;){const be=Y.tileID.scaledTo(Y.tileID.overscaledZ-1);Y=this._tiles[be.key],Y&&Y.hasData()&&(te=be)}let oe=te;for(;oe.overscaledZ>g;)if(oe=oe.scaledTo(oe.overscaledZ-1),c[oe.key]||c[oe.canonical.key]){L[te.key]=te;break}}}findLoadedParent(c,g){if(c.key in this._loadedParentTiles){const M=this._loadedParentTiles[c.key];return M&&M.tileID.overscaledZ>=g?M:null}for(let M=c.overscaledZ-1;M>=g;M--){const L=c.scaledTo(M),j=this._getLoadedTile(L);if(j)return j}}findLoadedSibling(c){return this._getLoadedTile(c)}_getLoadedTile(c){const g=this._tiles[c.key];return g&&g.hasData()?g:this._cache.getByKey(c.wrapped().key)}updateCacheSize(c){const g=Math.ceil(c.width/this._source.tileSize)+1,M=Math.ceil(c.height/this._source.tileSize)+1,L=Math.floor(g*M*(this._maxTileCacheZoomLevels===null?o.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),j=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,L):L;this._cache.setMaxSize(j)}handleWrapJump(c){const g=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,g){const M={};for(const L in this._tiles){const j=this._tiles[L];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+g),M[j.tileID.key]=j}this._tiles=M;for(const L in this._timers)clearTimeout(this._timers[L]),delete this._timers[L];for(const L in this._tiles)this._setTileReloadTimer(L,this._tiles[L])}}_updateCoveredAndRetainedTiles(c,g,M,L,j,Y){const te={},oe={},be=Object.keys(c),Ce=p.now();for(const Fe of be){const De=c[Fe],We=this._tiles[Fe];if(!We||We.fadeEndTime!==0&&We.fadeEndTime<=Ce)continue;const nt=this.findLoadedParent(De,g),Pt=this.findLoadedSibling(De),Ct=nt||Pt||null;Ct&&(this._addTile(Ct.tileID),te[Ct.tileID.key]=Ct.tileID),oe[Fe]=De}this._retainLoadedChildren(oe,L,M,c);for(const Fe in te)c[Fe]||(this._coveredTiles[Fe]=!0,c[Fe]=te[Fe]);if(Y){const Fe={},De={};for(const We of j)this._tiles[We.key].hasData()?Fe[We.key]=We:De[We.key]=We;for(const We in De){const nt=De[We].children(this._source.maxzoom);this._tiles[nt[0].key]&&this._tiles[nt[1].key]&&this._tiles[nt[2].key]&&this._tiles[nt[3].key]&&(Fe[nt[0].key]=c[nt[0].key]=nt[0],Fe[nt[1].key]=c[nt[1].key]=nt[1],Fe[nt[2].key]=c[nt[2].key]=nt[2],Fe[nt[3].key]=c[nt[3].key]=nt[3],delete De[We])}for(const We in De){const nt=De[We],Pt=this.findLoadedParent(nt,this._source.minzoom),Ct=this.findLoadedSibling(nt),Rt=Pt||Ct||null;if(Rt){Fe[Rt.tileID.key]=c[Rt.tileID.key]=Rt.tileID;for(const Bt in Fe)Fe[Bt].isChildOf(Rt.tileID)&&delete Fe[Bt]}}for(const We in this._tiles)Fe[We]||(this._coveredTiles[We]=!0)}}update(c,g){if(!this._sourceLoaded||this._paused)return;let M;this.transform=c,this.terrain=g,this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?M=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Ce=>new o.Y(Ce.canonical.z,Ce.wrap,Ce.canonical.z,Ce.canonical.x,Ce.canonical.y)):(M=Tt(c,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:g,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(M=M.filter(Ce=>this._source.hasTile(Ce)))):M=[];const L=Ft(c,this._source),j=Math.max(L-ir.maxOverzooming,this._source.minzoom),Y=Math.max(L+ir.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Ce={};for(const Fe of M)if(Fe.canonical.z>this._source.minzoom){const De=Fe.scaledTo(Fe.canonical.z-1);Ce[De.key]=De;const We=Fe.scaledTo(Math.max(this._source.minzoom,Math.min(Fe.canonical.z,5)));Ce[We.key]=We}M=M.concat(Object.values(Ce))}const te=M.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,te&&this.fire(new o.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const oe=this._updateRetainedTiles(M,L);ar(this._source.type)&&this._updateCoveredAndRetainedTiles(oe,j,Y,L,M,g);for(const Ce in oe)this._tiles[Ce].clearFadeHold();const be=o.aj(this._tiles,oe);for(const Ce of be){const Fe=this._tiles[Ce];Fe.hasSymbolBuckets&&!Fe.holdingForFade()?Fe.setHoldDuration(this.map._fadeDuration):Fe.hasSymbolBuckets&&!Fe.symbolFadeFinished()||this._removeTile(Ce)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(c)}_updateRetainedTiles(c,g){var M;const L={},j={},Y=Math.max(g-ir.maxOverzooming,this._source.minzoom),te=Math.max(g+ir.maxUnderzooming,this._source.minzoom),oe={};for(const be of c){const Ce=this._addTile(be);L[be.key]=be,Ce.hasData()||g<this._source.maxzoom&&(oe[be.key]=be)}this._retainLoadedChildren(oe,g,te,L);for(const be of c){let Ce=this._tiles[be.key];if(Ce.hasData())continue;if(g+1>this._source.maxzoom){const De=be.children(this._source.maxzoom)[0],We=this.getTile(De);if(We&&We.hasData()){L[De.key]=De;continue}}else{const De=be.children(this._source.maxzoom);if(L[De[0].key]&&L[De[1].key]&&L[De[2].key]&&L[De[3].key])continue}let Fe=Ce.wasRequested();for(let De=be.overscaledZ-1;De>=Y;--De){const We=be.scaledTo(De);if(j[We.key])break;if(j[We.key]=!0,Ce=this.getTile(We),!Ce&&Fe&&(Ce=this._addTile(We)),Ce){const nt=Ce.hasData();if((nt||!(!((M=this.map)===null||M===void 0)&&M.cancelPendingTileRequestsWhileZooming)||Fe)&&(L[We.key]=We),Fe=Ce.wasRequested(),nt)break}}}return L}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const g=[];let M,L=this._tiles[c].tileID;for(;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){M=this._loadedParentTiles[L.key];break}g.push(L.key);const j=L.scaledTo(L.overscaledZ-1);if(M=this._getLoadedTile(j),M)break;L=j}for(const j of g)this._loadedParentTiles[j]=M}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const c in this._tiles){const g=this._tiles[c].tileID,M=this._getLoadedTile(g);this._loadedSiblingTiles[g.key]=M}}_addTile(c){let g=this._tiles[c.key];if(g)return g;g=this._cache.getAndRemove(c),g&&(this._setTileReloadTimer(c.key,g),g.tileID=c,this._state.initializeTileState(g,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,g)));const M=g;return g||(g=new gr(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(g,c.key,g.state)),g.uses++,this._tiles[c.key]=g,M||this._source.fire(new o.l("dataloading",{tile:g,coord:g.tileID,dataType:"source"})),g}_setTileReloadTimer(c,g){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const M=g.getExpiryTimeout();M&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},M))}refreshTiles(c){for(const g in this._tiles)this._isIdRenderable(g)&&c.some(M=>M.equals(this._tiles[g].tileID.canonical))&&this._reloadTile(g,"expired")}_removeTile(c){const g=this._tiles[c];g&&(g.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),g.uses>0||(g.hasData()&&g.state!=="reloading"?this._cache.add(g.tileID,g,g.getExpiryTimeout()):(g.aborted=!0,this._abortTile(g),this._unloadTile(g))))}_dataHandler(c){const g=c.sourceDataType;c.dataType==="source"&&g==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&c.dataType==="source"&&g==="content"&&(this.reload(c.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(c);this._cache.reset()}tilesIn(c,g,M){const L=[],j=this.transform;if(!j)return L;const Y=M?j.getCameraQueryGeometry(c):c,te=c.map(nt=>j.screenPointToMercatorCoordinate(nt,this.terrain)),oe=Y.map(nt=>j.screenPointToMercatorCoordinate(nt,this.terrain)),be=this.getIds();let Ce=1/0,Fe=1/0,De=-1/0,We=-1/0;for(const nt of oe)Ce=Math.min(Ce,nt.x),Fe=Math.min(Fe,nt.y),De=Math.max(De,nt.x),We=Math.max(We,nt.y);for(let nt=0;nt<be.length;nt++){const Pt=this._tiles[be[nt]];if(Pt.holdingForFade())continue;const Ct=j.getCoveringTilesDetailsProvider().allowWorldCopies()?Pt.tileID:Pt.tileID.unwrapTo(0),Rt=Math.pow(2,j.zoom-Pt.tileID.overscaledZ),Bt=g*Pt.queryPadding*o.Z/Pt.tileSize/Rt,Ht=[Ct.getTilePoint(new o.$(Ce,Fe)),Ct.getTilePoint(new o.$(De,We))];if(Ht[0].x-Bt<o.Z&&Ht[0].y-Bt<o.Z&&Ht[1].x+Bt>=0&&Ht[1].y+Bt>=0){const $t=te.map(tr=>Ct.getTilePoint(tr)),Wt=oe.map(tr=>Ct.getTilePoint(tr));L.push({tile:Pt,tileID:Ct,queryGeometry:$t,cameraQueryGeometry:Wt,scale:Rt})}}return L}getVisibleCoordinates(c){const g=this.getRenderableIds(c).map(M=>this._tiles[M].tileID);return this.transform&&this.transform.populateCache(g),g}hasTransition(){if(this._source.hasTransition())return!0;if(ar(this._source.type)){const c=p.now();for(const g in this._tiles)if(this._tiles[g].fadeEndTime>=c)return!0}return!1}setFeatureState(c,g,M){this._state.updateState(c=c||"_geojsonTileLayer",g,M)}removeFeatureState(c,g,M){this._state.removeFeatureState(c=c||"_geojsonTileLayer",g,M)}getFeatureState(c,g){return this._state.getState(c=c||"_geojsonTileLayer",g)}setDependencies(c,g,M){const L=this._tiles[c];L&&L.setDependencies(g,M)}reloadTilesForDependencies(c,g){for(const M in this._tiles)this._tiles[M].hasDependency(c,g)&&this._reloadTile(M,"reloading");this._cache.filter(M=>!M.hasDependency(c,g))}}function or(B,c){const g=Math.abs(2*B.wrap)-+(B.wrap<0),M=Math.abs(2*c.wrap)-+(c.wrap<0);return B.overscaledZ-c.overscaledZ||M-g||c.canonical.y-B.canonical.y||c.canonical.x-B.canonical.x}function ar(B){return B==="raster"||B==="image"||B==="video"}ir.maxOverzooming=10,ir.maxUnderzooming=3;class zr{constructor(c,g){this.reset(c,g)}reset(c,g){this.points=c||[],this._distances=[0];for(let M=1;M<this.points.length;M++)this._distances[M]=this._distances[M-1]+this.points[M].dist(this.points[M-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(g||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=o.ae(c,0,1);let g=1,M=this._distances[g];const L=c*this.paddedLength+this.padding;for(;M<L&&g<this._distances.length;)M=this._distances[++g];const j=g-1,Y=this._distances[j],te=M-Y,oe=te>0?(L-Y)/te:0;return this.points[j].mult(1-oe).add(this.points[g].mult(oe))}}function mt(B,c){let g=!0;return B==="always"||B!=="never"&&c!=="never"||(g=!1),g}class It{constructor(c,g,M){const L=this.boxCells=[],j=this.circleCells=[];this.xCellCount=Math.ceil(c/M),this.yCellCount=Math.ceil(g/M);for(let Y=0;Y<this.xCellCount*this.yCellCount;Y++)L.push([]),j.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=g,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/g,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,g,M,L,j){this._forEachCell(g,M,L,j,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(g),this.bboxes.push(M),this.bboxes.push(L),this.bboxes.push(j)}insertCircle(c,g,M,L){this._forEachCell(g-L,M-L,g+L,M+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(g),this.circles.push(M),this.circles.push(L)}_insertBoxCell(c,g,M,L,j,Y){this.boxCells[j].push(Y)}_insertCircleCell(c,g,M,L,j,Y){this.circleCells[j].push(Y)}_query(c,g,M,L,j,Y,te){if(M<0||c>this.width||L<0||g>this.height)return[];const oe=[];if(c<=0&&g<=0&&this.width<=M&&this.height<=L){if(j)return[{key:null,x1:c,y1:g,x2:M,y2:L}];for(let be=0;be<this.boxKeys.length;be++)oe.push({key:this.boxKeys[be],x1:this.bboxes[4*be],y1:this.bboxes[4*be+1],x2:this.bboxes[4*be+2],y2:this.bboxes[4*be+3]});for(let be=0;be<this.circleKeys.length;be++){const Ce=this.circles[3*be],Fe=this.circles[3*be+1],De=this.circles[3*be+2];oe.push({key:this.circleKeys[be],x1:Ce-De,y1:Fe-De,x2:Ce+De,y2:Fe+De})}}else this._forEachCell(c,g,M,L,this._queryCell,oe,{hitTest:j,overlapMode:Y,seenUids:{box:{},circle:{}}},te);return oe}query(c,g,M,L){return this._query(c,g,M,L,!1,null)}hitTest(c,g,M,L,j,Y){return this._query(c,g,M,L,!0,j,Y).length>0}hitTestCircle(c,g,M,L,j){const Y=c-M,te=c+M,oe=g-M,be=g+M;if(te<0||Y>this.width||be<0||oe>this.height)return!1;const Ce=[];return this._forEachCell(Y,oe,te,be,this._queryCellCircle,Ce,{hitTest:!0,overlapMode:L,circle:{x:c,y:g,radius:M},seenUids:{box:{},circle:{}}},j),Ce.length>0}_queryCell(c,g,M,L,j,Y,te,oe){const{seenUids:be,hitTest:Ce,overlapMode:Fe}=te,De=this.boxCells[j];if(De!==null){const nt=this.bboxes;for(const Pt of De)if(!be.box[Pt]){be.box[Pt]=!0;const Ct=4*Pt,Rt=this.boxKeys[Pt];if(c<=nt[Ct+2]&&g<=nt[Ct+3]&&M>=nt[Ct+0]&&L>=nt[Ct+1]&&(!oe||oe(Rt))&&(!Ce||!mt(Fe,Rt.overlapMode))&&(Y.push({key:Rt,x1:nt[Ct],y1:nt[Ct+1],x2:nt[Ct+2],y2:nt[Ct+3]}),Ce))return!0}}const We=this.circleCells[j];if(We!==null){const nt=this.circles;for(const Pt of We)if(!be.circle[Pt]){be.circle[Pt]=!0;const Ct=3*Pt,Rt=this.circleKeys[Pt];if(this._circleAndRectCollide(nt[Ct],nt[Ct+1],nt[Ct+2],c,g,M,L)&&(!oe||oe(Rt))&&(!Ce||!mt(Fe,Rt.overlapMode))){const Bt=nt[Ct],Ht=nt[Ct+1],$t=nt[Ct+2];if(Y.push({key:Rt,x1:Bt-$t,y1:Ht-$t,x2:Bt+$t,y2:Ht+$t}),Ce)return!0}}}return!1}_queryCellCircle(c,g,M,L,j,Y,te,oe){const{circle:be,seenUids:Ce,overlapMode:Fe}=te,De=this.boxCells[j];if(De!==null){const nt=this.bboxes;for(const Pt of De)if(!Ce.box[Pt]){Ce.box[Pt]=!0;const Ct=4*Pt,Rt=this.boxKeys[Pt];if(this._circleAndRectCollide(be.x,be.y,be.radius,nt[Ct+0],nt[Ct+1],nt[Ct+2],nt[Ct+3])&&(!oe||oe(Rt))&&!mt(Fe,Rt.overlapMode))return Y.push(!0),!0}}const We=this.circleCells[j];if(We!==null){const nt=this.circles;for(const Pt of We)if(!Ce.circle[Pt]){Ce.circle[Pt]=!0;const Ct=3*Pt,Rt=this.circleKeys[Pt];if(this._circlesCollide(nt[Ct],nt[Ct+1],nt[Ct+2],be.x,be.y,be.radius)&&(!oe||oe(Rt))&&!mt(Fe,Rt.overlapMode))return Y.push(!0),!0}}}_forEachCell(c,g,M,L,j,Y,te,oe){const be=this._convertToXCellCoord(c),Ce=this._convertToYCellCoord(g),Fe=this._convertToXCellCoord(M),De=this._convertToYCellCoord(L);for(let We=be;We<=Fe;We++)for(let nt=Ce;nt<=De;nt++)if(j.call(this,c,g,M,L,this.xCellCount*nt+We,Y,te,oe))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,g,M,L,j,Y){const te=L-c,oe=j-g,be=M+Y;return be*be>te*te+oe*oe}_circleAndRectCollide(c,g,M,L,j,Y,te){const oe=(Y-L)/2,be=Math.abs(c-(L+oe));if(be>oe+M)return!1;const Ce=(te-j)/2,Fe=Math.abs(g-(j+Ce));if(Fe>Ce+M)return!1;if(be<=oe||Fe<=Ce)return!0;const De=be-oe,We=Fe-Ce;return De*De+We*We<=M*M}}function Kt(B,c,g){const M=o.K();if(!B){const{vecSouth:Fe,vecEast:De}=Rr(c),We=u();We[0]=De[0],We[1]=De[1],We[2]=Fe[0],We[3]=Fe[1],L=We,(Ce=(Y=(j=We)[0])*(be=j[3])-(oe=j[2])*(te=j[1]))&&(L[0]=be*(Ce=1/Ce),L[1]=-te*Ce,L[2]=-oe*Ce,L[3]=Y*Ce),M[0]=We[0],M[1]=We[1],M[4]=We[2],M[5]=We[3]}var L,j,Y,te,oe,be,Ce;return o.M(M,M,[1/g,1/g,1]),M}function br(B,c,g,M){if(B){const L=o.K();if(!c){const{vecSouth:j,vecEast:Y}=Rr(g);L[0]=Y[0],L[1]=Y[1],L[4]=j[0],L[5]=j[1]}return o.M(L,L,[M,M,1]),L}return g.pixelsToClipSpaceMatrix}function Rr(B){const c=Math.cos(B.rollInRadians),g=Math.sin(B.rollInRadians),M=Math.cos(B.pitchInRadians),L=Math.cos(B.bearingInRadians),j=Math.sin(B.bearingInRadians),Y=o.ao();Y[0]=-L*M*g-j*c,Y[1]=-j*M*g+L*c;const te=o.ap(Y);te<1e-9?o.aq(Y):o.ar(Y,Y,1/te);const oe=o.ao();oe[0]=L*M*c-j*g,oe[1]=j*M*c+L*g;const be=o.ap(oe);return be<1e-9?o.aq(oe):o.ar(oe,oe,1/be),{vecEast:oe,vecSouth:Y}}function jt(B,c,g,M){let L;M?(L=[B,c,M(B,c),1],o.at(L,L,g)):(L=[B,c,0,1],So(L,L,g));const j=L[3];return{point:new o.P(L[0]/j,L[1]/j),signedDistanceFromCamera:j,isOccluded:!1}}function Yt(B,c){return .5+B/c*.5}function Jt(B,c){return B.x>=-c[0]&&B.x<=c[0]&&B.y>=-c[1]&&B.y<=c[1]}function rr(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,De){const We=g?B.textSizeData:B.iconSizeData,nt=o.ak(We,c.transform.zoom),Pt=[256/c.width*2+1,256/c.height*2+1],Ct=g?B.text.dynamicLayoutVertexArray:B.icon.dynamicLayoutVertexArray;Ct.clear();const Rt=B.lineVertexArray,Bt=g?B.text.placedSymbolArray:B.icon.placedSymbolArray,Ht=c.transform.width/c.transform.height;let $t=!1;for(let Wt=0;Wt<Bt.length;Wt++){const tr=Bt.get(Wt);if(tr.hidden||tr.writingMode===o.al.vertical&&!$t){Ji(tr.numGlyphs,Ct);continue}$t=!1;const nr=new o.P(tr.anchorX,tr.anchorY),kr={getElevation:De,pitchedLabelPlaneMatrix:M,lineVertexArray:Rt,pitchWithMap:j,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:c.transform,tileAnchorPoint:nr,unwrappedTileID:oe,width:be,height:Ce,translation:Fe},Qr=Wn(tr.anchorX,tr.anchorY,kr);if(!Jt(Qr.point,Pt)){Ji(tr.numGlyphs,Ct);continue}const _r=Yt(c.transform.cameraToCenterDistance,Qr.signedDistanceFromCamera),$r=o.am(We,nt,tr),Jr=j?$r*c.transform.getPitchedTextCorrection(tr.anchorX,tr.anchorY,oe)/_r:$r*_r,Dn=Ir({projectionContext:kr,pitchedLabelPlaneMatrixInverse:L,symbol:tr,fontSize:Jr,flip:!1,keepUpright:Y,glyphOffsetArray:B.glyphOffsetArray,dynamicLayoutVertexArray:Ct,aspectRatio:Ht,rotateToLine:te});$t=Dn.useVertical,(Dn.notEnoughRoom||$t||Dn.needsFlipping&&Ir({projectionContext:kr,pitchedLabelPlaneMatrixInverse:L,symbol:tr,fontSize:Jr,flip:!0,keepUpright:Y,glyphOffsetArray:B.glyphOffsetArray,dynamicLayoutVertexArray:Ct,aspectRatio:Ht,rotateToLine:te}).notEnoughRoom)&&Ji(tr.numGlyphs,Ct)}g?B.text.dynamicLayoutVertexBuffer.updateData(Ct):B.icon.dynamicLayoutVertexBuffer.updateData(Ct)}function vr(B,c,g,M,L,j,Y,te){const oe=j.glyphStartIndex+j.numGlyphs,be=j.lineStartIndex,Ce=j.lineStartIndex+j.lineLength,Fe=c.getoffsetX(j.glyphStartIndex),De=c.getoffsetX(oe-1),We=Ka(B*Fe,g,M,L,j.segment,be,Ce,te,Y);if(!We)return null;const nt=Ka(B*De,g,M,L,j.segment,be,Ce,te,Y);return nt?te.projectionCache.anyProjectionOccluded?null:{first:We,last:nt}:null}function Lt(B,c,g,M){return B===o.al.horizontal&&Math.abs(g.y-c.y)>Math.abs(g.x-c.x)*M?{useVertical:!0}:(B===o.al.vertical?c.y<g.y:c.x>g.x)?{needsFlipping:!0}:null}function Ir(B){const{projectionContext:c,pitchedLabelPlaneMatrixInverse:g,symbol:M,fontSize:L,flip:j,keepUpright:Y,glyphOffsetArray:te,dynamicLayoutVertexArray:oe,aspectRatio:be,rotateToLine:Ce}=B,Fe=L/24,De=M.lineOffsetX*Fe,We=M.lineOffsetY*Fe;let nt;if(M.numGlyphs>1){const Pt=M.glyphStartIndex+M.numGlyphs,Ct=M.lineStartIndex,Rt=M.lineStartIndex+M.lineLength,Bt=vr(Fe,te,De,We,j,M,Ce,c);if(!Bt)return{notEnoughRoom:!0};const Ht=yi(Bt.first.point.x,Bt.first.point.y,c,g),$t=yi(Bt.last.point.x,Bt.last.point.y,c,g);if(Y&&!j){const Wt=Lt(M.writingMode,Ht,$t,be);if(Wt)return Wt}nt=[Bt.first];for(let Wt=M.glyphStartIndex+1;Wt<Pt-1;Wt++)nt.push(Ka(Fe*te.getoffsetX(Wt),De,We,j,M.segment,Ct,Rt,c,Ce));nt.push(Bt.last)}else{if(Y&&!j){const Ct=ui(c.tileAnchorPoint.x,c.tileAnchorPoint.y,c).point,Rt=M.lineStartIndex+M.segment+1,Bt=new o.P(c.lineVertexArray.getx(Rt),c.lineVertexArray.gety(Rt)),Ht=ui(Bt.x,Bt.y,c),$t=Ht.signedDistanceFromCamera>0?Ht.point:fn(c.tileAnchorPoint,Bt,Ct,1,c),Wt=yi(Ct.x,Ct.y,c,g),tr=yi($t.x,$t.y,c,g),nr=Lt(M.writingMode,Wt,tr,be);if(nr)return nr}const Pt=Ka(Fe*te.getoffsetX(M.glyphStartIndex),De,We,j,M.segment,M.lineStartIndex,M.lineStartIndex+M.lineLength,c,Ce);if(!Pt||c.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};nt=[Pt]}for(const Pt of nt)o.as(oe,Pt.point,Pt.angle);return{}}function fn(B,c,g,M,L){const j=B.add(B.sub(c)._unit()),Y=ui(j.x,j.y,L).point,te=g.sub(Y);return g.add(te._mult(M/te.mag()))}function Fn(B,c,g){const M=c.projectionCache;if(M.projections[B])return M.projections[B];const L=new o.P(c.lineVertexArray.getx(B),c.lineVertexArray.gety(B)),j=ui(L.x,L.y,c);if(j.signedDistanceFromCamera>0)return M.projections[B]=j.point,M.anyProjectionOccluded=M.anyProjectionOccluded||j.isOccluded,j.point;const Y=B-g.direction;return fn(g.distanceFromAnchor===0?c.tileAnchorPoint:new o.P(c.lineVertexArray.getx(Y),c.lineVertexArray.gety(Y)),L,g.previousVertex,g.absOffsetX-g.distanceFromAnchor+1,c)}function ui(B,c,g){const M=B+g.translation[0],L=c+g.translation[1];let j;return g.pitchWithMap?(j=jt(M,L,g.pitchedLabelPlaneMatrix,g.getElevation),j.isOccluded=!1):(j=g.transform.projectTileCoordinates(M,L,g.unwrappedTileID,g.getElevation),j.point.x=(.5*j.point.x+.5)*g.width,j.point.y=(.5*-j.point.y+.5)*g.height),j}function yi(B,c,g,M){if(g.pitchWithMap){const L=[B,c,0,1];return o.at(L,L,M),g.transform.projectTileCoordinates(L[0]/L[3],L[1]/L[3],g.unwrappedTileID,g.getElevation).point}return{x:B/g.width*2-1,y:c/g.height*2-1}}function Wn(B,c,g){return g.transform.projectTileCoordinates(B,c,g.unwrappedTileID,g.getElevation)}function mi(B,c,g){return B._unit()._perp()._mult(c*g)}function ya(B,c,g,M,L,j,Y,te,oe){if(te.projectionCache.offsets[B])return te.projectionCache.offsets[B];const be=g.add(c);if(B+oe.direction<M||B+oe.direction>=L)return te.projectionCache.offsets[B]=be,be;const Ce=Fn(B+oe.direction,te,oe),Fe=mi(Ce.sub(g),Y,oe.direction),De=g.add(Fe),We=Ce.add(Fe);return te.projectionCache.offsets[B]=o.au(j,be,De,We)||be,te.projectionCache.offsets[B]}function Ka(B,c,g,M,L,j,Y,te,oe){const be=M?B-c:B+c;let Ce=be>0?1:-1,Fe=0;M&&(Ce*=-1,Fe=Math.PI),Ce<0&&(Fe+=Math.PI);let De,We=Ce>0?j+L:j+L+1;te.projectionCache.cachedAnchorPoint?De=te.projectionCache.cachedAnchorPoint:(De=ui(te.tileAnchorPoint.x,te.tileAnchorPoint.y,te).point,te.projectionCache.cachedAnchorPoint=De);let nt,Pt,Ct=De,Rt=De,Bt=0,Ht=0;const $t=Math.abs(be),Wt=[];let tr;for(;Bt+Ht<=$t;){if(We+=Ce,We<j||We>=Y)return null;Bt+=Ht,Rt=Ct,Pt=nt;const Qr={absOffsetX:$t,direction:Ce,distanceFromAnchor:Bt,previousVertex:Rt};if(Ct=Fn(We,te,Qr),g===0)Wt.push(Rt),tr=Ct.sub(Rt);else{let _r;const $r=Ct.sub(Rt);_r=$r.mag()===0?mi(Fn(We+Ce,te,Qr).sub(Ct),g,Ce):mi($r,g,Ce),Pt||(Pt=Rt.add(_r)),nt=ya(We,_r,Ct,j,Y,Pt,g,te,Qr),Wt.push(Pt),tr=nt.sub(Pt)}Ht=tr.mag()}const nr=tr._mult(($t-Bt)/Ht)._add(Pt||Rt),kr=Fe+Math.atan2(Ct.y-Rt.y,Ct.x-Rt.x);return Wt.push(nr),{point:nr,angle:oe?kr:0,path:Wt}}const Ua=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ji(B,c){for(let g=0;g<B;g++){const M=c.length;c.resize(M+4),c.float32.set(Ua,3*M)}}function So(B,c,g){const M=c[0],L=c[1];return B[0]=g[0]*M+g[4]*L+g[12],B[1]=g[1]*M+g[5]*L+g[13],B[3]=g[3]*M+g[7]*L+g[15],B}const ci=100;class Ia{constructor(c,g=new It(c.width+200,c.height+200,25),M=new It(c.width+200,c.height+200,25)){this.transform=c,this.grid=g,this.ignoredGrid=M,this.pitchFactor=Math.cos(c.pitch*Math.PI/180)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+ci,this.screenBottomBoundary=c.height+ci,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,g,M,L,j,Y,te,oe,be,Ce,Fe,De){const We=this.projectAndGetPerspectiveRatio(c.anchorPointX+oe[0],c.anchorPointY+oe[1],j,Ce,De),nt=M*We.perspectiveRatio;let Pt;if(Y||te)Pt=this._projectCollisionBox(c,nt,L,j,Y,te,oe,We,Ce,Fe,De);else{const tr=We.x+(Fe?Fe.x*nt:0),nr=We.y+(Fe?Fe.y*nt:0);Pt={allPointsOccluded:!1,box:[tr+c.x1*nt,nr+c.y1*nt,tr+c.x2*nt,nr+c.y2*nt]}}const[Ct,Rt,Bt,Ht]=Pt.box,$t=Y?Pt.allPointsOccluded:We.isOccluded;let Wt=$t;return Wt||(Wt=We.perspectiveRatio<this.perspectiveRatioCutoff),Wt||(Wt=!this.isInsideGrid(Ct,Rt,Bt,Ht)),Wt||g!=="always"&&this.grid.hitTest(Ct,Rt,Bt,Ht,g,be)?{box:[Ct,Rt,Bt,Ht],placeable:!1,offscreen:!1,occluded:$t}:{box:[Ct,Rt,Bt,Ht],placeable:!0,offscreen:this.isOffscreen(Ct,Rt,Bt,Ht),occluded:$t}}placeCollisionCircles(c,g,M,L,j,Y,te,oe,be,Ce,Fe,De,We,nt){const Pt=[],Ct=new o.P(g.anchorX,g.anchorY),Rt=this.getPerspectiveRatio(Ct.x,Ct.y,Y,nt),Bt=(be?j*this.transform.getPitchedTextCorrection(g.anchorX,g.anchorY,Y)/Rt:j*Rt)/o.ay,Ht={getElevation:nt,pitchedLabelPlaneMatrix:te,lineVertexArray:M,pitchWithMap:be,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Ct,unwrappedTileID:Y,width:this.transform.width,height:this.transform.height,translation:We},$t=vr(Bt,L,g.lineOffsetX*Bt,g.lineOffsetY*Bt,!1,g,!1,Ht);let Wt=!1,tr=!1,nr=!0;if($t){const kr=.5*Fe*Rt+De,Qr=new o.P(-100,-100),_r=new o.P(this.screenRightBoundary,this.screenBottomBoundary),$r=new zr,Jr=$t.first,Dn=$t.last;let In=[];for(let Mi=Jr.path.length-1;Mi>=1;Mi--)In.push(Jr.path[Mi]);for(let Mi=1;Mi<Dn.path.length;Mi++)In.push(Dn.path[Mi]);const hn=2.5*kr;if(be){const Mi=this.projectPathToScreenSpace(In,Ht);In=Mi.some(Ra=>Ra.signedDistanceFromCamera<=0)?[]:Mi.map(Ra=>Ra.point)}let Jn=[];if(In.length>0){const Mi=In[0].clone(),Ra=In[0].clone();for(let Ao=1;Ao<In.length;Ao++)Mi.x=Math.min(Mi.x,In[Ao].x),Mi.y=Math.min(Mi.y,In[Ao].y),Ra.x=Math.max(Ra.x,In[Ao].x),Ra.y=Math.max(Ra.y,In[Ao].y);Jn=Mi.x>=Qr.x&&Ra.x<=_r.x&&Mi.y>=Qr.y&&Ra.y<=_r.y?[In]:Ra.x<Qr.x||Mi.x>_r.x||Ra.y<Qr.y||Mi.y>_r.y?[]:o.av([In],Qr.x,Qr.y,_r.x,_r.y)}for(const Mi of Jn){$r.reset(Mi,.25*kr);let Ra=0;Ra=$r.length<=.5*kr?1:Math.ceil($r.paddedLength/hn)+1;for(let Ao=0;Ao<Ra;Ao++){const ho=Ao/Math.max(Ra-1,1),es=$r.lerp(ho),cs=es.x+ci,Da=es.y+ci;Pt.push(cs,Da,kr,0);const Aa=cs-kr,Is=Da-kr,nl=cs+kr,Vs=Da+kr;if(nr=nr&&this.isOffscreen(Aa,Is,nl,Vs),tr=tr||this.isInsideGrid(Aa,Is,nl,Vs),c!=="always"&&this.grid.hitTestCircle(cs,Da,kr,c,Ce)&&(Wt=!0,!oe))return{circles:[],offscreen:!1,collisionDetected:Wt}}}}return{circles:!oe&&Wt||!tr||Rt<this.perspectiveRatioCutoff?[]:Pt,offscreen:nr,collisionDetected:Wt}}projectPathToScreenSpace(c,g){const M=function(L,j){const Y=o.K();return o.an(Y,j.pitchedLabelPlaneMatrix),L.map(te=>{const oe=jt(te.x,te.y,Y,j.getElevation),be=j.transform.projectTileCoordinates(oe.point.x,oe.point.y,j.unwrappedTileID,j.getElevation);return be.point.x=(.5*be.point.x+.5)*j.width,be.point.y=(.5*-be.point.y+.5)*j.height,be})}(c,g);return function(L){let j=0,Y=0,te=0,oe=0;for(let be=0;be<L.length;be++)L[be].isOccluded?(te=be+1,oe=0):(oe++,oe>Y&&(Y=oe,j=te));return L.slice(j,j+Y)}(M)}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const g=[];let M=1/0,L=1/0,j=-1/0,Y=-1/0;for(const Ce of c){const Fe=new o.P(Ce.x+ci,Ce.y+ci);M=Math.min(M,Fe.x),L=Math.min(L,Fe.y),j=Math.max(j,Fe.x),Y=Math.max(Y,Fe.y),g.push(Fe)}const te=this.grid.query(M,L,j,Y).concat(this.ignoredGrid.query(M,L,j,Y)),oe={},be={};for(const Ce of te){const Fe=Ce.key;if(oe[Fe.bucketInstanceId]===void 0&&(oe[Fe.bucketInstanceId]={}),oe[Fe.bucketInstanceId][Fe.featureIndex])continue;const De=[new o.P(Ce.x1,Ce.y1),new o.P(Ce.x2,Ce.y1),new o.P(Ce.x2,Ce.y2),new o.P(Ce.x1,Ce.y2)];o.aw(g,De)&&(oe[Fe.bucketInstanceId][Fe.featureIndex]=!0,be[Fe.bucketInstanceId]===void 0&&(be[Fe.bucketInstanceId]=[]),be[Fe.bucketInstanceId].push(Fe.featureIndex))}return be}insertCollisionBox(c,g,M,L,j,Y){(M?this.ignoredGrid:this.grid).insert({bucketInstanceId:L,featureIndex:j,collisionGroupID:Y,overlapMode:g},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,g,M,L,j,Y){const te=M?this.ignoredGrid:this.grid,oe={bucketInstanceId:L,featureIndex:j,collisionGroupID:Y,overlapMode:g};for(let be=0;be<c.length;be+=4)te.insertCircle(oe,c[be],c[be+1],c[be+2])}projectAndGetPerspectiveRatio(c,g,M,L,j){if(j){let Y;L?(Y=[c,g,L(c,g),1],o.at(Y,Y,j)):(Y=[c,g,0,1],So(Y,Y,j));const te=Y[3];return{x:(Y[0]/te+1)/2*this.transform.width+ci,y:(-Y[1]/te+1)/2*this.transform.height+ci,perspectiveRatio:.5+this.transform.cameraToCenterDistance/te*.5,isOccluded:!1,signedDistanceFromCamera:te}}{const Y=this.transform.projectTileCoordinates(c,g,M,L);return{x:(Y.point.x+1)/2*this.transform.width+ci,y:(1-Y.point.y)/2*this.transform.height+ci,perspectiveRatio:.5+this.transform.cameraToCenterDistance/Y.signedDistanceFromCamera*.5,isOccluded:Y.isOccluded,signedDistanceFromCamera:Y.signedDistanceFromCamera}}}getPerspectiveRatio(c,g,M,L){const j=this.transform.projectTileCoordinates(c,g,M,L);return .5+this.transform.cameraToCenterDistance/j.signedDistanceFromCamera*.5}isOffscreen(c,g,M,L){return M<ci||c>=this.screenRightBoundary||L<ci||g>this.screenBottomBoundary}isInsideGrid(c,g,M,L){return M>=0&&c<this.gridRightBoundary&&L>=0&&g<this.gridBottomBoundary}getViewportMatrix(){const c=o.ad([]);return o.L(c,c,[-100,-100,0]),c}_projectCollisionBox(c,g,M,L,j,Y,te,oe,be,Ce,Fe){let De=1,We=0,nt=0,Pt=1;const Ct=c.anchorPointX+te[0],Rt=c.anchorPointY+te[1];if(Y&&!j){const In=this.projectAndGetPerspectiveRatio(Ct+1,Rt,L,be,Fe),hn=In.x-oe.x,Jn=Math.atan((In.y-oe.y)/hn)+(hn<0?Math.PI:0),Mi=Math.sin(Jn),Ra=Math.cos(Jn);De=Ra,We=Mi,nt=-Mi,Pt=Ra}else if(!Y&&j){const In=Rr(this.transform);De=In.vecEast[0],We=In.vecEast[1],nt=In.vecSouth[0],Pt=In.vecSouth[1]}let Bt=oe.x,Ht=oe.y,$t=g;j&&(Bt=Ct,Ht=Rt,$t=Math.pow(2,-(this.transform.zoom-M.overscaledZ)),$t*=this.transform.getPitchedTextCorrection(Ct,Rt,L),Ce||($t*=o.ae(.5+oe.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),Ce&&(Bt+=De*Ce.x*$t+nt*Ce.y*$t,Ht+=We*Ce.x*$t+Pt*Ce.y*$t);const Wt=c.x1*$t,tr=c.x2*$t,nr=(Wt+tr)/2,kr=c.y1*$t,Qr=c.y2*$t,_r=(kr+Qr)/2,$r=[{offsetX:Wt,offsetY:kr},{offsetX:nr,offsetY:kr},{offsetX:tr,offsetY:kr},{offsetX:tr,offsetY:_r},{offsetX:tr,offsetY:Qr},{offsetX:nr,offsetY:Qr},{offsetX:Wt,offsetY:Qr},{offsetX:Wt,offsetY:_r}];let Jr=[];for(const{offsetX:In,offsetY:hn}of $r)Jr.push(new o.P(Bt+De*In+nt*hn,Ht+We*In+Pt*hn));let Dn=!1;if(j){const In=Jr.map(hn=>this.projectAndGetPerspectiveRatio(hn.x,hn.y,L,be,Fe));Dn=In.some(hn=>!hn.isOccluded),Jr=In.map(hn=>new o.P(hn.x,hn.y))}else Dn=!0;return{box:o.ax(Jr),allPointsOccluded:!Dn}}}class Ti{constructor(c,g,M,L){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?g:-g))):L&&M?1:0,this.placed=M}isHidden(){return this.opacity===0&&!this.placed}}class Ko{constructor(c,g,M,L,j){this.text=new Ti(c?c.text:null,g,M,j),this.icon=new Ti(c?c.icon:null,g,L,j)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class wi{constructor(c,g,M){this.text=c,this.icon=g,this.skipFade=M}}class lo{constructor(c,g,M,L,j){this.bucketInstanceId=c,this.featureIndex=g,this.sourceLayerIndex=M,this.bucketIndex=L,this.tileID=j}}class co{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const g=++this.maxGroupID;this.collisionGroups[c]={ID:g,predicate:M=>M.collisionGroupID===g}}return this.collisionGroups[c]}}function bi(B,c,g,M,L){const{horizontalAlign:j,verticalAlign:Y}=o.aE(B);return new o.P(-(j-.5)*c+M[0]*L,-(Y-.5)*g+M[1]*L)}class Ri{constructor(c,g,M,L,j){this.transform=c.clone(),this.terrain=g,this.collisionIndex=new Ia(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=M,this.retainedQueryData={},this.collisionGroups=new co(L),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=j,j&&(j.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(c){const g=this.terrain;return g?(M,L)=>g.getElevation(c,M,L):null}getBucketParts(c,g,M,L){const j=M.getBucket(g),Y=M.latestFeatureIndex;if(!j||!Y||g.id!==j.layerIds[0])return;const te=M.collisionBoxArray,oe=j.layers[0].layout,be=j.layers[0].paint,Ce=Math.pow(2,this.transform.zoom-M.tileID.overscaledZ),Fe=M.tileSize/o.Z,De=M.tileID.toUnwrapped(),We=oe.get("text-rotation-alignment")==="map",nt=o.az(M,1,this.transform.zoom),Pt=o.aA(this.collisionIndex.transform,M,be.get("text-translate"),be.get("text-translate-anchor")),Ct=o.aA(this.collisionIndex.transform,M,be.get("icon-translate"),be.get("icon-translate-anchor")),Rt=Kt(We,this.transform,nt);this.retainedQueryData[j.bucketInstanceId]=new lo(j.bucketInstanceId,Y,j.sourceLayerIndex,j.index,M.tileID);const Bt={bucket:j,layout:oe,translationText:Pt,translationIcon:Ct,unwrappedTileID:De,pitchedLabelPlaneMatrix:Rt,scale:Ce,textPixelRatio:Fe,holdingForFade:M.holdingForFade(),collisionBoxArray:te,partiallyEvaluatedTextSize:o.ak(j.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(j.sourceID)};if(L)for(const Ht of j.sortKeyRanges){const{sortKey:$t,symbolInstanceStart:Wt,symbolInstanceEnd:tr}=Ht;c.push({sortKey:$t,symbolInstanceStart:Wt,symbolInstanceEnd:tr,parameters:Bt})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:j.symbolInstances.length,parameters:Bt})}attemptAnchorPlacement(c,g,M,L,j,Y,te,oe,be,Ce,Fe,De,We,nt,Pt,Ct,Rt,Bt,Ht,$t){const Wt=o.aB[c.textAnchor],tr=[c.textOffset0,c.textOffset1],nr=bi(Wt,M,L,tr,j),kr=this.collisionIndex.placeCollisionBox(g,De,oe,be,Ce,te,Y,Ct,Fe.predicate,Ht,nr,$t);if((!Bt||this.collisionIndex.placeCollisionBox(Bt,De,oe,be,Ce,te,Y,Rt,Fe.predicate,Ht,nr,$t).placeable)&&kr.placeable){let Qr;if(this.prevPlacement&&this.prevPlacement.variableOffsets[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID].text&&(Qr=this.prevPlacement.variableOffsets[We.crossTileID].anchor),We.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[We.crossTileID]={textOffset:tr,width:M,height:L,anchor:Wt,textBoxScale:j,prevAnchor:Qr},this.markUsedJustification(nt,Wt,We,Pt),nt.allowVerticalPlacement&&(this.markUsedOrientation(nt,Pt,We),this.placedOrientations[We.crossTileID]=Pt),{shift:nr,placedGlyphBoxes:kr}}}placeLayerBucketPart(c,g,M){const{bucket:L,layout:j,translationText:Y,translationIcon:te,unwrappedTileID:oe,pitchedLabelPlaneMatrix:be,textPixelRatio:Ce,holdingForFade:Fe,collisionBoxArray:De,partiallyEvaluatedTextSize:We,collisionGroup:nt}=c.parameters,Pt=j.get("text-optional"),Ct=j.get("icon-optional"),Rt=o.aC(j,"text-overlap","text-allow-overlap"),Bt=Rt==="always",Ht=o.aC(j,"icon-overlap","icon-allow-overlap"),$t=Ht==="always",Wt=j.get("text-rotation-alignment")==="map",tr=j.get("text-pitch-alignment")==="map",nr=j.get("icon-text-fit")!=="none",kr=j.get("symbol-z-order")==="viewport-y",Qr=Bt&&($t||!L.hasIconData()||Ct),_r=$t&&(Bt||!L.hasTextData()||Pt);!L.collisionArrays&&De&&L.deserializeCollisionBoxes(De);const $r=this.retainedQueryData[L.bucketInstanceId].tileID,Jr=this._getTerrainElevationFunc($r),Dn=this.transform.getFastPathSimpleProjectionMatrix($r),In=(hn,Jn,Mi)=>{var Ra,Ao;if(g[hn.crossTileID])return;if(Fe)return void(this.placements[hn.crossTileID]=new wi(!1,!1,!1));let ho=!1,es=!1,cs=!0,Da=null,Aa={box:null,placeable:!1,offscreen:null,occluded:!1},Is={placeable:!1},nl=null,Vs=null,Fa=null,tu=0,Bu=0,Ic=0;Jn.textFeatureIndex?tu=Jn.textFeatureIndex:hn.useRuntimeCollisionCircles&&(tu=hn.featureIndex),Jn.verticalTextFeatureIndex&&(Bu=Jn.verticalTextFeatureIndex);const Ff=Jn.textBox;if(Ff){const bu=Ks=>{let Zs=o.al.horizontal;if(L.allowVerticalPlacement&&!Ks&&this.prevPlacement){const _u=this.prevPlacement.placedOrientations[hn.crossTileID];_u&&(this.placedOrientations[hn.crossTileID]=_u,Zs=_u,this.markUsedOrientation(L,Zs,hn))}return Zs},Lf=(Ks,Zs)=>{if(L.allowVerticalPlacement&&hn.numVerticalGlyphVertices>0&&Jn.verticalTextBox){for(const _u of L.writingModes)if(_u===o.al.vertical?(Aa=Zs(),Is=Aa):Aa=Ks(),Aa&&Aa.placeable)break}else Aa=Ks()},kc=hn.textAnchorOffsetStartIndex,md=hn.textAnchorOffsetEndIndex;if(md===kc){const Ks=(Zs,_u)=>{const _o=this.collisionIndex.placeCollisionBox(Zs,Rt,Ce,$r,oe,tr,Wt,Y,nt.predicate,Jr,void 0,Dn);return _o&&_o.placeable&&(this.markUsedOrientation(L,_u,hn),this.placedOrientations[hn.crossTileID]=_u),_o};Lf(()=>Ks(Ff,o.al.horizontal),()=>{const Zs=Jn.verticalTextBox;return L.allowVerticalPlacement&&hn.numVerticalGlyphVertices>0&&Zs?Ks(Zs,o.al.vertical):{box:null,offscreen:null}}),bu(Aa&&Aa.placeable)}else{let Ks=o.aB[(Ao=(Ra=this.prevPlacement)===null||Ra===void 0?void 0:Ra.variableOffsets[hn.crossTileID])===null||Ao===void 0?void 0:Ao.anchor];const Zs=(_o,Tm,Mp)=>{const rp=_o.x2-_o.x1,ju=_o.y2-_o.y1,uc=hn.textBoxScale,gd=nr&&Ht==="never"?Tm:null;let Xc=null,Dc=Rt==="never"?1:2,ru="never";Ks&&Dc++;for(let il=0;il<Dc;il++){for(let mh=kc;mh<md;mh++){const K=L.textAnchorOffsets.get(mh);if(Ks&&K.textAnchor!==Ks)continue;const Q=this.attemptAnchorPlacement(K,_o,rp,ju,uc,Wt,tr,Ce,$r,oe,nt,ru,hn,L,Mp,Y,te,gd,Jr);if(Q&&(Xc=Q.placedGlyphBoxes,Xc&&Xc.placeable))return ho=!0,Da=Q.shift,Xc}Ks?Ks=null:ru=Rt}return M&&!Xc&&(Xc={box:this.collisionIndex.placeCollisionBox(Ff,"always",Ce,$r,oe,tr,Wt,Y,nt.predicate,Jr,void 0,Dn).box,offscreen:!1,placeable:!1,occluded:!1}),Xc};Lf(()=>Zs(Ff,Jn.iconBox,o.al.horizontal),()=>{const _o=Jn.verticalTextBox;return L.allowVerticalPlacement&&(!Aa||!Aa.placeable)&&hn.numVerticalGlyphVertices>0&&_o?Zs(_o,Jn.verticalIconBox,o.al.vertical):{box:null,occluded:!0,offscreen:null}}),Aa&&(ho=Aa.placeable,cs=Aa.offscreen);const _u=bu(Aa&&Aa.placeable);if(!ho&&this.prevPlacement){const _o=this.prevPlacement.variableOffsets[hn.crossTileID];_o&&(this.variableOffsets[hn.crossTileID]=_o,this.markUsedJustification(L,_o.anchor,hn,_u))}}}if(nl=Aa,ho=nl&&nl.placeable,cs=nl&&nl.offscreen,hn.useRuntimeCollisionCircles){const bu=L.text.placedSymbolArray.get(hn.centerJustifiedTextSymbolIndex),Lf=o.am(L.textSizeData,We,bu),kc=j.get("text-padding");Vs=this.collisionIndex.placeCollisionCircles(Rt,bu,L.lineVertexArray,L.glyphOffsetArray,Lf,oe,be,M,tr,nt.predicate,hn.collisionCircleDiameter,kc,Y,Jr),Vs.circles.length&&Vs.collisionDetected&&!M&&o.w("Collisions detected, but collision boxes are not shown"),ho=Bt||Vs.circles.length>0&&!Vs.collisionDetected,cs=cs&&Vs.offscreen}if(Jn.iconFeatureIndex&&(Ic=Jn.iconFeatureIndex),Jn.iconBox){const bu=Lf=>this.collisionIndex.placeCollisionBox(Lf,Ht,Ce,$r,oe,tr,Wt,te,nt.predicate,Jr,nr&&Da?Da:void 0,Dn);Is&&Is.placeable&&Jn.verticalIconBox?(Fa=bu(Jn.verticalIconBox),es=Fa.placeable):(Fa=bu(Jn.iconBox),es=Fa.placeable),cs=cs&&Fa.offscreen}const Gs=Pt||hn.numHorizontalGlyphVertices===0&&hn.numVerticalGlyphVertices===0,Mc=Ct||hn.numIconVertices===0;Gs||Mc?Mc?Gs||(es=es&&ho):ho=es&&ho:es=ho=es&&ho;const Bl=es&&Fa.placeable;if(ho&&nl.placeable&&this.collisionIndex.insertCollisionBox(nl.box,Rt,j.get("text-ignore-placement"),L.bucketInstanceId,Is&&Is.placeable&&Bu?Bu:tu,nt.ID),Bl&&this.collisionIndex.insertCollisionBox(Fa.box,Ht,j.get("icon-ignore-placement"),L.bucketInstanceId,Ic,nt.ID),Vs&&ho&&this.collisionIndex.insertCollisionCircles(Vs.circles,Rt,j.get("text-ignore-placement"),L.bucketInstanceId,tu,nt.ID),M&&this.storeCollisionData(L.bucketInstanceId,Mi,Jn,nl,Fa,Vs),hn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(L.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[hn.crossTileID]=new wi((ho||Qr)&&!(nl!=null&&nl.occluded),(es||_r)&&!(Fa!=null&&Fa.occluded),cs||L.justReloaded),g[hn.crossTileID]=!0};if(kr){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const hn=L.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Jn=hn.length-1;Jn>=0;--Jn){const Mi=hn[Jn];In(L.symbolInstances.get(Mi),L.collisionArrays[Mi],Mi)}}else for(let hn=c.symbolInstanceStart;hn<c.symbolInstanceEnd;hn++)In(L.symbolInstances.get(hn),L.collisionArrays[hn],hn);L.justReloaded=!1}storeCollisionData(c,g,M,L,j,Y){if(M.textBox||M.iconBox){let te,oe;this.collisionBoxArrays.has(c)?te=this.collisionBoxArrays.get(c):(te=new Map,this.collisionBoxArrays.set(c,te)),te.has(g)?oe=te.get(g):(oe={text:null,icon:null},te.set(g,oe)),M.textBox&&(oe.text=L.box),M.iconBox&&(oe.icon=j.box)}if(Y){let te=this.collisionCircleArrays[c];te===void 0&&(te=this.collisionCircleArrays[c]=[]);for(let oe=0;oe<Y.circles.length;oe+=4)te.push(Y.circles[oe+0]-ci),te.push(Y.circles[oe+1]-ci),te.push(Y.circles[oe+2]),te.push(Y.collisionDetected?1:0)}}markUsedJustification(c,g,M,L){let j;j=L===o.al.vertical?M.verticalPlacedTextSymbolIndex:{left:M.leftJustifiedTextSymbolIndex,center:M.centerJustifiedTextSymbolIndex,right:M.rightJustifiedTextSymbolIndex}[o.aD(g)];const Y=[M.leftJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.rightJustifiedTextSymbolIndex,M.verticalPlacedTextSymbolIndex];for(const te of Y)te>=0&&(c.text.placedSymbolArray.get(te).crossTileID=j>=0&&te!==j?0:M.crossTileID)}markUsedOrientation(c,g,M){const L=g===o.al.horizontal||g===o.al.horizontalOnly?g:0,j=g===o.al.vertical?g:0,Y=[M.leftJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.rightJustifiedTextSymbolIndex];for(const te of Y)c.text.placedSymbolArray.get(te).placedOrientation=L;M.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(M.verticalPlacedTextSymbolIndex).placedOrientation=j)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const g=this.prevPlacement;let M=!1;this.prevZoomAdjustment=g?g.zoomAdjustment(this.transform.zoom):0;const L=g?g.symbolFadeChange(c):1,j=g?g.opacities:{},Y=g?g.variableOffsets:{},te=g?g.placedOrientations:{};for(const oe in this.placements){const be=this.placements[oe],Ce=j[oe];Ce?(this.opacities[oe]=new Ko(Ce,L,be.text,be.icon),M=M||be.text!==Ce.text.placed||be.icon!==Ce.icon.placed):(this.opacities[oe]=new Ko(null,L,be.text,be.icon,be.skipFade),M=M||be.text||be.icon)}for(const oe in j){const be=j[oe];if(!this.opacities[oe]){const Ce=new Ko(be,L,!1,!1);Ce.isHidden()||(this.opacities[oe]=Ce,M=M||be.text.placed||be.icon.placed)}}for(const oe in Y)this.variableOffsets[oe]||!this.opacities[oe]||this.opacities[oe].isHidden()||(this.variableOffsets[oe]=Y[oe]);for(const oe in te)this.placedOrientations[oe]||!this.opacities[oe]||this.opacities[oe].isHidden()||(this.placedOrientations[oe]=te[oe]);if(g&&g.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");M?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=g?g.lastPlacementChangeTime:c)}updateLayerOpacities(c,g){const M={};for(const L of g){const j=L.getBucket(c);j&&L.latestFeatureIndex&&c.id===j.layerIds[0]&&this.updateBucketOpacities(j,L.tileID,M,L.collisionBoxArray)}}updateBucketOpacities(c,g,M,L){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const j=c.layers[0],Y=j.layout,te=new Ko(null,0,!1,!1,!0),oe=Y.get("text-allow-overlap"),be=Y.get("icon-allow-overlap"),Ce=j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Fe=Y.get("text-rotation-alignment")==="map",De=Y.get("text-pitch-alignment")==="map",We=Y.get("icon-text-fit")!=="none",nt=new Ko(null,0,oe&&(be||!c.hasIconData()||Y.get("icon-optional")),be&&(oe||!c.hasTextData()||Y.get("text-optional")),!0);!c.collisionArrays&&L&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(L);const Pt=(Rt,Bt,Ht)=>{for(let $t=0;$t<Bt/4;$t++)Rt.opacityVertexArray.emplaceBack(Ht);Rt.hasVisibleVertices=Rt.hasVisibleVertices||Ht!==gl},Ct=this.collisionBoxArrays.get(c.bucketInstanceId);for(let Rt=0;Rt<c.symbolInstances.length;Rt++){const Bt=c.symbolInstances.get(Rt),{numHorizontalGlyphVertices:Ht,numVerticalGlyphVertices:$t,crossTileID:Wt}=Bt;let tr=this.opacities[Wt];M[Wt]?tr=te:tr||(tr=nt,this.opacities[Wt]=tr),M[Wt]=!0;const nr=Bt.numIconVertices>0,kr=this.placedOrientations[Bt.crossTileID],Qr=kr===o.al.vertical,_r=kr===o.al.horizontal||kr===o.al.horizontalOnly;if(Ht>0||$t>0){const Jr=Vl(tr.text);Pt(c.text,Ht,Qr?gl:Jr),Pt(c.text,$t,_r?gl:Jr);const Dn=tr.text.isHidden();[Bt.rightJustifiedTextSymbolIndex,Bt.centerJustifiedTextSymbolIndex,Bt.leftJustifiedTextSymbolIndex].forEach(Jn=>{Jn>=0&&(c.text.placedSymbolArray.get(Jn).hidden=Dn||Qr?1:0)}),Bt.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(Bt.verticalPlacedTextSymbolIndex).hidden=Dn||_r?1:0);const In=this.variableOffsets[Bt.crossTileID];In&&this.markUsedJustification(c,In.anchor,Bt,kr);const hn=this.placedOrientations[Bt.crossTileID];hn&&(this.markUsedJustification(c,"left",Bt,hn),this.markUsedOrientation(c,hn,Bt))}if(nr){const Jr=Vl(tr.icon),Dn=!(We&&Bt.verticalPlacedIconSymbolIndex&&Qr);Bt.placedIconSymbolIndex>=0&&(Pt(c.icon,Bt.numIconVertices,Dn?Jr:gl),c.icon.placedSymbolArray.get(Bt.placedIconSymbolIndex).hidden=tr.icon.isHidden()),Bt.verticalPlacedIconSymbolIndex>=0&&(Pt(c.icon,Bt.numVerticalIconVertices,Dn?gl:Jr),c.icon.placedSymbolArray.get(Bt.verticalPlacedIconSymbolIndex).hidden=tr.icon.isHidden())}const $r=Ct&&Ct.has(Rt)?Ct.get(Rt):{text:null,icon:null};if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Jr=c.collisionArrays[Rt];if(Jr){let Dn=new o.P(0,0);if(Jr.textBox||Jr.verticalTextBox){let In=!0;if(Ce){const hn=this.variableOffsets[Wt];hn?(Dn=bi(hn.anchor,hn.width,hn.height,hn.textOffset,hn.textBoxScale),Fe&&Dn._rotate(De?-this.transform.bearingInRadians:this.transform.bearingInRadians)):In=!1}if(Jr.textBox||Jr.verticalTextBox){let hn;Jr.textBox&&(hn=Qr),Jr.verticalTextBox&&(hn=_r),sa(c.textCollisionBox.collisionVertexArray,tr.text.placed,!In||hn,$r.text,Dn.x,Dn.y)}}if(Jr.iconBox||Jr.verticalIconBox){const In=!!(!_r&&Jr.verticalIconBox);let hn;Jr.iconBox&&(hn=In),Jr.verticalIconBox&&(hn=!In),sa(c.iconCollisionBox.collisionVertexArray,tr.icon.placed,hn,$r.icon,We?Dn.x:0,We?Dn.y:0)}}}}if(c.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);c.bucketInstanceId in this.collisionCircleArrays&&(c.collisionCircleArray=this.collisionCircleArrays[c.bucketInstanceId],delete this.collisionCircleArrays[c.bucketInstanceId])}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,g){const M=this.zoomAtLastRecencyCheck===g?1-this.zoomAdjustment(g):1;return this.zoomAtLastRecencyCheck=g,this.commitTime+this.fadeDuration*M>c}setStale(){this.stale=!0}}function sa(B,c,g,M,L,j){M&&M.length!==0||(M=[0,0,0,0]);const Y=M[0]-ci,te=M[1]-ci,oe=M[2]-ci,be=M[3]-ci;B.emplaceBack(c?1:0,g?1:0,L||0,j||0,Y,te),B.emplaceBack(c?1:0,g?1:0,L||0,j||0,oe,te),B.emplaceBack(c?1:0,g?1:0,L||0,j||0,oe,be),B.emplaceBack(c?1:0,g?1:0,L||0,j||0,Y,be)}const qa=Math.pow(2,25),os=Math.pow(2,24),Eo=Math.pow(2,17),Ns=Math.pow(2,16),Zo=Math.pow(2,9),ml=Math.pow(2,8),Au=Math.pow(2,1);function Vl(B){if(B.opacity===0&&!B.placed)return 0;if(B.opacity===1&&B.placed)return 4294967295;const c=B.placed?1:0,g=Math.floor(127*B.opacity);return g*qa+c*os+g*Eo+c*Ns+g*Zo+c*ml+g*Au+c}const gl=0;class wc{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,g,M,L,j){const Y=this._bucketParts;for(;this._currentTileIndex<c.length;)if(g.getBucketParts(Y,L,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,j())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Y.sort((te,oe)=>te.sortKey-oe.sortKey));this._currentPartIndex<Y.length;)if(g.placeLayerBucketPart(Y[this._currentPartIndex],this._seenCrossTileIDs,M),this._currentPartIndex++,j())return!0;return!1}}class Gl{constructor(c,g,M,L,j,Y,te,oe){this.placement=new Ri(c,g,Y,te,oe),this._currentPlacementIndex=M.length-1,this._forceFullPlacement=L,this._showCollisionBoxes=j,this._done=!1}isDone(){return this._done}continuePlacement(c,g,M){const L=p.now(),j=()=>!this._forceFullPlacement&&p.now()-L>2;for(;this._currentPlacementIndex>=0;){const Y=g[c[this._currentPlacementIndex]],te=this.placement.collisionIndex.transform.zoom;if(Y.type==="symbol"&&(!Y.minzoom||Y.minzoom<=te)&&(!Y.maxzoom||Y.maxzoom>te)){if(this._inProgressLayer||(this._inProgressLayer=new wc(Y)),this._inProgressLayer.continuePlacement(M[Y.source],this.placement,this._showCollisionBoxes,Y,j))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const ko=512/o.Z/2;class Rl{constructor(c,g,M){this.tileID=c,this.bucketInstanceId=M,this._symbolsByKey={};const L=new Map;for(let j=0;j<g.length;j++){const Y=g.get(j),te=Y.key,oe=L.get(te);oe?oe.push(Y):L.set(te,[Y])}for(const[j,Y]of L){const te={positions:Y.map(oe=>({x:Math.floor(oe.anchorX*ko),y:Math.floor(oe.anchorY*ko)})),crossTileIDs:Y.map(oe=>oe.crossTileID)};if(te.positions.length>128){const oe=new o.aF(te.positions.length,16,Uint16Array);for(const{x:be,y:Ce}of te.positions)oe.add(be,Ce);oe.finish(),delete te.positions,te.index=oe}this._symbolsByKey[j]=te}}getScaledCoordinates(c,g){const{x:M,y:L,z:j}=this.tileID.canonical,{x:Y,y:te,z:oe}=g.canonical,be=ko/Math.pow(2,oe-j),Ce=(te*o.Z+c.anchorY)*be,Fe=L*o.Z*ko;return{x:Math.floor((Y*o.Z+c.anchorX)*be-M*o.Z*ko),y:Math.floor(Ce-Fe)}}findMatches(c,g,M){const L=this.tileID.canonical.z<g.canonical.z?1:Math.pow(2,this.tileID.canonical.z-g.canonical.z);for(let j=0;j<c.length;j++){const Y=c.get(j);if(Y.crossTileID)continue;const te=this._symbolsByKey[Y.key];if(!te)continue;const oe=this.getScaledCoordinates(Y,g);if(te.index){const be=te.index.range(oe.x-L,oe.y-L,oe.x+L,oe.y+L).sort();for(const Ce of be){const Fe=te.crossTileIDs[Ce];if(!M[Fe]){M[Fe]=!0,Y.crossTileID=Fe;break}}}else if(te.positions)for(let be=0;be<te.positions.length;be++){const Ce=te.positions[be],Fe=te.crossTileIDs[be];if(Math.abs(Ce.x-oe.x)<=L&&Math.abs(Ce.y-oe.y)<=L&&!M[Fe]){M[Fe]=!0,Y.crossTileID=Fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:c})=>c)}}class uo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Al{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const g=Math.round((c-this.lng)/360);if(g!==0)for(const M in this.indexes){const L=this.indexes[M],j={};for(const Y in L){const te=L[Y];te.tileID=te.tileID.unwrapTo(te.tileID.wrap+g),j[te.tileID.key]=te}this.indexes[M]=j}this.lng=c}addBucket(c,g,M){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===g.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let j=0;j<g.symbolInstances.length;j++)g.symbolInstances.get(j).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const L=this.usedCrossTileIDs[c.overscaledZ];for(const j in this.indexes){const Y=this.indexes[j];if(Number(j)>c.overscaledZ)for(const te in Y){const oe=Y[te];oe.tileID.isChildOf(c)&&oe.findMatches(g.symbolInstances,c,L)}else{const te=Y[c.scaledTo(Number(j)).key];te&&te.findMatches(g.symbolInstances,c,L)}}for(let j=0;j<g.symbolInstances.length;j++){const Y=g.symbolInstances.get(j);Y.crossTileID||(Y.crossTileID=M.generate(),L[Y.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Rl(c,g.symbolInstances,g.bucketInstanceId),!0}removeBucketCrossTileIDs(c,g){for(const M of g.getCrossTileIDsLists())for(const L of M)delete this.usedCrossTileIDs[c][L]}removeStaleBuckets(c){let g=!1;for(const M in this.indexes){const L=this.indexes[M];for(const j in L)c[L[j].bucketInstanceId]||(this.removeBucketCrossTileIDs(M,L[j]),delete L[j],g=!0)}return g}}class Ol{constructor(){this.layerIndexes={},this.crossTileIDs=new uo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,g,M){let L=this.layerIndexes[c.id];L===void 0&&(L=this.layerIndexes[c.id]=new Al);let j=!1;const Y={};L.handleWrapJump(M);for(const te of g){const oe=te.getBucket(c);oe&&c.id===oe.layerIds[0]&&(oe.bucketInstanceId||(oe.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(te.tileID,oe,this.crossTileIDs)&&(j=!0),Y[oe.bucketInstanceId]=!0)}return L.removeStaleBuckets(Y)&&(j=!0),j}pruneUnusedLayers(c){const g={};c.forEach(M=>{g[M]=!0});for(const M in this.layerIndexes)g[M]||delete this.layerIndexes[M]}}var fa="void main() {fragColor=vec4(1.0);}";const Co={prelude:Bi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Bi("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Bi("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Bi(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Bi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Bi(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Bi(fa,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Bi(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Bi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Bi("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Bi("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Bi("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Bi(fa,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Bi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Bi(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Bi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Bi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Bi(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Bi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Bi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Bi(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Bi(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Bi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Bi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Bi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Bi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Bi(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Bi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Bi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Bi("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Bi("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Bi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Bi("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Bi(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Bi("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Bi(B,c){const g=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,M=c.match(/in ([\w]+) ([\w]+)/g),L=B.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),j=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Y=j?j.concat(L):L,te={};return{fragmentSource:B=B.replace(g,(oe,be,Ce,Fe,De)=>(te[De]=!0,be==="define"?`
#ifndef HAS_UNIFORM_u_${De}
in ${Ce} ${Fe} ${De};
#else
uniform ${Ce} ${Fe} u_${De};
#endif
`:`
#ifdef HAS_UNIFORM_u_${De}
    ${Ce} ${Fe} ${De} = u_${De};
#endif
`)),vertexSource:c=c.replace(g,(oe,be,Ce,Fe,De)=>{const We=Fe==="float"?"vec2":"vec4",nt=De.match(/color/)?"color":We;return te[De]?be==="define"?`
#ifndef HAS_UNIFORM_u_${De}
uniform lowp float u_${De}_t;
in ${Ce} ${We} a_${De};
out ${Ce} ${Fe} ${De};
#else
uniform ${Ce} ${Fe} u_${De};
#endif
`:nt==="vec4"?`
#ifndef HAS_UNIFORM_u_${De}
    ${De} = a_${De};
#else
    ${Ce} ${Fe} ${De} = u_${De};
#endif
`:`
#ifndef HAS_UNIFORM_u_${De}
    ${De} = unpack_mix_${nt}(a_${De}, u_${De}_t);
#else
    ${Ce} ${Fe} ${De} = u_${De};
#endif
`:be==="define"?`
#ifndef HAS_UNIFORM_u_${De}
uniform lowp float u_${De}_t;
in ${Ce} ${We} a_${De};
#else
uniform ${Ce} ${Fe} u_${De};
#endif
`:nt==="vec4"?`
#ifndef HAS_UNIFORM_u_${De}
    ${Ce} ${Fe} ${De} = a_${De};
#else
    ${Ce} ${Fe} ${De} = u_${De};
#endif
`:`
#ifndef HAS_UNIFORM_u_${De}
    ${Ce} ${Fe} ${De} = unpack_mix_${nt}(a_${De}, u_${De}_t);
#else
    ${Ce} ${Fe} ${De} = u_${De};
#endif
`}),staticAttributes:M,staticUniforms:Y}}class to{constructor(c,g,M){this.vertexBuffer=c,this.indexBuffer=g,this.segments=M}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Yo=o.aG([{name:"a_pos",type:"Int16",components:2}]);const du="#define PROJECTION_MERCATOR",Ei="mercator";class Ou{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Ei}get shaderDefine(){return du}get shaderPreludeCode(){return Co.projectionMercator}get vertexShaderPreludeCode(){return Co.projectionMercator.vertexSource}get subdivisionGranularity(){return o.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(c){}getMeshFromTileID(c,g,M,L,j){if(this._cachedMesh)return this._cachedMesh;const Y=new o.aI;Y.emplaceBack(0,0),Y.emplaceBack(o.Z,0),Y.emplaceBack(0,o.Z),Y.emplaceBack(o.Z,o.Z);const te=c.createVertexBuffer(Y,Yo.members),oe=o.aJ.simpleSegment(0,0,4,2),be=new o.aK;be.emplaceBack(1,0,2),be.emplaceBack(1,2,3);const Ce=c.createIndexBuffer(be);return this._cachedMesh=new to(te,Ce,oe),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(c){}}class hu{constructor(c=0,g=0,M=0,L=0){if(isNaN(c)||c<0||isNaN(g)||g<0||isNaN(M)||M<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=g,this.left=M,this.right=L}interpolate(c,g,M){return g.top!=null&&c.top!=null&&(this.top=o.B.number(c.top,g.top,M)),g.bottom!=null&&c.bottom!=null&&(this.bottom=o.B.number(c.bottom,g.bottom,M)),g.left!=null&&c.left!=null&&(this.left=o.B.number(c.left,g.left,M)),g.right!=null&&c.right!=null&&(this.right=o.B.number(c.right,g.right,M)),this}getCenter(c,g){const M=o.ae((this.left+c-this.right)/2,0,c),L=o.ae((this.top+g-this.bottom)/2,0,g);return new o.P(M,L)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new hu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Qs(B,c){if(!B.renderWorldCopies||B.lngRange)return;const g=c.lng-B.center.lng;c.lng+=g>180?-360:g<-180?360:0}function Ma(B){return Math.max(0,Math.floor(B))}class Po{constructor(c,g,M,L,j,Y){this._callbacks=c,this._tileSize=512,this._renderWorldCopies=Y===void 0||!!Y,this._minZoom=g||0,this._maxZoom=M||22,this._minPitch=L??0,this._maxPitch=j??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new o.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Ma(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new hu,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(c,g,M){this._latRange=c.latRange,this._lngRange=c.lngRange,this._width=c.width,this._height=c.height,this._center=c.center,this._elevation=c.elevation,this._minElevationForCurrentTile=c.minElevationForCurrentTile,this._zoom=c.zoom,this._tileZoom=Ma(this._zoom),this._scale=o.ac(this._zoom),this._bearingInRadians=c.bearingInRadians,this._fovInRadians=c.fovInRadians,this._pitchInRadians=c.pitchInRadians,this._rollInRadians=c.rollInRadians,this._unmodified=c.unmodified,this._edgeInsets=new hu(c.padding.top,c.padding.bottom,c.padding.left,c.padding.right),this._minZoom=c.minZoom,this._maxZoom=c.maxZoom,this._minPitch=c.minPitch,this._maxPitch=c.maxPitch,this._renderWorldCopies=c.renderWorldCopies,this._cameraToCenterDistance=c.cameraToCenterDistance,this._nearZ=c.nearZ,this._farZ=c.farZ,this._autoCalculateNearFarZ=!M&&c.autoCalculateNearFarZ,g&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(c){this._minElevationForCurrentTile=c}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(c){this._minZoom!==c&&(this._minZoom=c,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(c){this._minPitch!==c&&(this._minPitch=c,this.setPitch(Math.max(this.pitch,c)))}get maxPitch(){return this._maxPitch}setMaxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.setPitch(Math.min(this.pitch,c)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(c){const g=o.aL(c,-180,180)*Math.PI/180;var M,L,j,Y,te,oe,be,Ce,Fe;this._bearingInRadians!==g&&(this._unmodified=!1,this._bearingInRadians=g,this._calcMatrices(),this._rotationMatrix=u(),M=this._rotationMatrix,j=-this._bearingInRadians,Y=(L=this._rotationMatrix)[0],te=L[1],oe=L[2],be=L[3],Ce=Math.sin(j),Fe=Math.cos(j),M[0]=Y*Fe+oe*Ce,M[1]=te*Fe+be*Ce,M[2]=Y*-Ce+oe*Fe,M[3]=te*-Ce+be*Fe)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(c){const g=o.ae(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==g&&(this._unmodified=!1,this._pitchInRadians=g,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(c){const g=c/180*Math.PI;this._rollInRadians!==g&&(this._unmodified=!1,this._rollInRadians=g,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return o.aM(this._fovInRadians)}setFov(c){c=o.ae(c,.1,150),this.fov!==c&&(this._unmodified=!1,this._fovInRadians=o.ab(c),this._calcMatrices())}get zoom(){return this._zoom}setZoom(c){const g=this.getConstrained(this._center,c).zoom;this._zoom!==g&&(this._unmodified=!1,this._zoom=g,this._tileZoom=Math.max(0,Math.floor(g)),this._scale=o.ac(g),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(c){c!==this._elevation&&(this._elevation=c,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(c,g){this._autoCalculateNearFarZ=!1,this._nearZ=c,this._farZ=g,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,g,M){this._unmodified=!1,this._edgeInsets.interpolate(c,g,M),this._constrain(),this._calcMatrices()}resize(c,g,M=!0){this._width=c,this._height=g,M&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new he([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(c){c?(this._lngRange=[c.getWest(),c.getEast()],this._latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,o.af])}getConstrained(c,g){return this._callbacks.getConstrained(c,g)}getCameraQueryGeometry(c,g){if(g.length===1)return[g[0],c];{let M=c.x,L=c.y,j=c.x,Y=c.y;for(const te of g)M=Math.min(M,te.x),L=Math.min(L,te.y),j=Math.max(j,te.x),Y=Math.max(Y,te.y);return[new o.P(M,L),new o.P(j,L),new o.P(j,Y),new o.P(M,Y),new o.P(M,L)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const c=this._unmodified,{center:g,zoom:M}=this.getConstrained(this.center,this.zoom);this.setCenter(g),this.setZoom(M),this._unmodified=c,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let c=o.ad(new Float64Array(16));o.M(c,c,[this._width/2,-this._height/2,1]),o.L(c,c,[1,-1,0]),this._clipSpaceToPixelsMatrix=c,c=o.ad(new Float64Array(16)),o.M(c,c,[1,-1,1]),o.L(c,c,[-1,-1,0]),o.M(c,c,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=c,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(c,g,M,L){const j=M!==void 0?M:this.bearing,Y=L=L!==void 0?L:this.pitch,te=o.$.fromLngLat(c,g),oe=-Math.cos(o.ab(Y)),be=Math.sin(o.ab(Y)),Ce=be*Math.sin(o.ab(j)),Fe=-be*Math.cos(o.ab(j));let De=this.elevation;const We=g-De;let nt;oe*We>=0||Math.abs(oe)<.1?(nt=1e4,De=g+nt*oe):nt=-We/oe;let Pt,Ct,Rt=o.aN(1,te.y),Bt=0;do{if(Bt+=1,Bt>10)break;Ct=nt/Rt,Pt=new o.$(te.x+Ce*Ct,te.y+Fe*Ct),Rt=1/Pt.meterInMercatorCoordinateUnits()}while(Math.abs(nt-Ct*Rt)>1e-12);return{center:Pt.toLngLat(),elevation:De,zoom:o.ah(this.height/2/Math.tan(this.fovInRadians/2)/Ct/this.tileSize)}}recalculateZoomAndCenter(c){if(this.elevation-c==0)return;const g=o.ag(1,this.center.lat)*this.worldSize,M=this.cameraToCenterDistance/g,L=o.$.fromLngLat(this.center,this.elevation),j=Le(this.center,this.elevation,this.pitch,this.bearing,M);this._elevation=c;const Y=this.calculateCenterFromCameraLngLatAlt(j.toLngLat(),o.aN(j.z,L.y),this.bearing,this.pitch);this._elevation=Y.elevation,this._center=Y.center,this.setZoom(Y.zoom)}getCameraPoint(){const c=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(c*Math.sin(this.rollInRadians),c*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const c=o.ag(1,this.center.lat)*this.worldSize;return Le(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/c).toLngLat()}getMercatorTileCoordinates(c){if(!c)return[0,0,1,1];const g=c.canonical.z>=0?1<<c.canonical.z:Math.pow(2,c.canonical.z);return[c.canonical.x/g,c.canonical.y/g,1/g/o.Z,1/g/o.Z]}}class Ha{constructor(c,g){this.min=c,this.max=g,this.center=o.aO([],o.aP([],this.min,this.max),.5)}quadrant(c){const g=[c%2==0,c<2],M=o.aQ(this.min),L=o.aQ(this.max);for(let j=0;j<g.length;j++)M[j]=g[j]?this.min[j]:this.center[j],L[j]=g[j]?this.center[j]:this.max[j];return L[2]=this.max[2],new Ha(M,L)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersectsFrustum(c){let g=!0;for(let M=0;M<c.planes.length;M++){const L=this.intersectsPlane(c.planes[M]);if(L===0)return 0;L===1&&(g=!1)}return g?2:c.aabb.min[0]>this.max[0]||c.aabb.min[1]>this.max[1]||c.aabb.min[2]>this.max[2]||c.aabb.max[0]<this.min[0]||c.aabb.max[1]<this.min[1]||c.aabb.max[2]<this.min[2]?0:1}intersectsPlane(c){let g=c[3],M=c[3];for(let L=0;L<3;L++)c[L]>0?(g+=c[L]*this.min[L],M+=c[L]*this.max[L]):(M+=c[L]*this.min[L],g+=c[L]*this.max[L]);return g>=0?2:M<0?0:1}}class ss{distanceToTile2d(c,g,M,L){const j=L.distanceX([c,g]),Y=L.distanceY([c,g]);return Math.hypot(j,Y)}getWrap(c,g,M){return M}getTileAABB(c,g,M,L){var j,Y;let te=M,oe=M;if(L.terrain){const Ce=new o.Y(c.z,g,c.z,c.x,c.y),Fe=L.terrain.getMinMaxElevation(Ce);te=(j=Fe.minElevation)!==null&&j!==void 0?j:M,oe=(Y=Fe.maxElevation)!==null&&Y!==void 0?Y:M}const be=1<<c.z;return new Ha([g+c.x/be,c.y/be,te],[g+(c.x+1)/be,(c.y+1)/be,oe])}allowVariableZoom(c,g){const M=c.fov*(Math.abs(Math.cos(c.rollInRadians))*c.height+Math.abs(Math.sin(c.rollInRadians))*c.width)/c.height,L=o.ae(78.5-M/2,0,60);return!!g.terrain||c.pitch>L}allowWorldCopies(){return!0}recalculateCache(){}}class Ca{constructor(c,g,M){this.points=c,this.planes=g,this.aabb=M}static fromInvProjectionMatrix(c,g=1,M=0){const L=Math.pow(2,M),j=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(be=>{const Ce=1/(be=o.at([],be,c))[3]/g*L;return o.aR(be,be,[Ce,Ce,1/be[3],Ce])}),Y=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(be=>{const Ce=o.aS([],j[be[0]],j[be[1]]),Fe=o.aS([],j[be[2]],j[be[1]]),De=o.aT([],o.aU([],Ce,Fe)),We=-o.aV(De,j[be[1]]);return De.concat(We)}),te=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],oe=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const be of j)for(let Ce=0;Ce<3;Ce++)te[Ce]=Math.min(te[Ce],be[Ce]),oe[Ce]=Math.max(oe[Ce],be[Ce]);return new Ca(j,Y,new Ha(te,oe))}}class nf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,g,M){return this._helper.interpolatePadding(c,g,M)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,g,M=!0){this._helper.resize(c,g,M)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}overrideNearFarZ(c,g){this._helper.overrideNearFarZ(c,g)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c,g){}constructor(c,g,M,L,j){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new Po({calcMatrices:()=>{this._calcMatrices()},getConstrained:(Y,te)=>this.getConstrained(Y,te)},c,g,M,L,j),this._coveringTilesDetailsProvider=new ss}clone(){const c=new nf;return c.apply(this),c}apply(c,g,M){this._helper.apply(c,g,M)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(c){const g=[new o.aW(0,c)];if(this._helper._renderWorldCopies){const M=this.screenPointToMercatorCoordinate(new o.P(0,0)),L=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,0)),j=this.screenPointToMercatorCoordinate(new o.P(this._helper._width,this._helper._height)),Y=this.screenPointToMercatorCoordinate(new o.P(0,this._helper._height)),te=Math.floor(Math.min(M.x,L.x,j.x,Y.x)),oe=Math.floor(Math.max(M.x,L.x,j.x,Y.x)),be=1;for(let Ce=te-be;Ce<=oe+be;Ce++)Ce!==0&&g.push(new o.aW(Ce,c))}return g}getCameraFrustum(){return Ca.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){const g=this.screenPointToLocation(this.centerPoint,c),M=c?c.getElevationForLngLatZoom(g,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(M)}setLocationAtPoint(c,g){const M=o.ag(this.elevation,this.center.lat),L=this.screenPointToMercatorCoordinateAtZ(g,M),j=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,M),Y=o.$.fromLngLat(c),te=new o.$(Y.x-(L.x-j.x),Y.y-(L.y-j.y));this.setCenter(te==null?void 0:te.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(c,g){return g?this.coordinatePoint(o.$.fromLngLat(c),g.getElevationForLngLatZoom(c,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(o.$.fromLngLat(c))}screenPointToLocation(c,g){var M;return(M=this.screenPointToMercatorCoordinate(c,g))===null||M===void 0?void 0:M.toLngLat()}screenPointToMercatorCoordinate(c,g){if(g){const M=g.pointCoordinate(c);if(M!=null)return M}return this.screenPointToMercatorCoordinateAtZ(c)}screenPointToMercatorCoordinateAtZ(c,g){const M=g||0,L=[c.x,c.y,0,1],j=[c.x,c.y,1,1];o.at(L,L,this._pixelMatrixInverse),o.at(j,j,this._pixelMatrixInverse);const Y=L[3],te=j[3],oe=L[1]/Y,be=j[1]/te,Ce=L[2]/Y,Fe=j[2]/te,De=Ce===Fe?0:(M-Ce)/(Fe-Ce);return new o.$(o.B.number(L[0]/Y,j[0]/te,De)/this.worldSize,o.B.number(oe,be,De)/this.worldSize,M)}coordinatePoint(c,g=0,M=this._pixelMatrix){const L=[c.x*this.worldSize,c.y*this.worldSize,g,1];return o.at(L,L,M),new o.P(L[0]/L[3],L[1]/L[3])}getBounds(){const c=Math.max(0,this._helper._height/2-Je(this));return new he().extend(this.screenPointToLocation(new o.P(0,c))).extend(this.screenPointToLocation(new o.P(this._helper._width,c))).extend(this.screenPointToLocation(new o.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new o.P(0,this._helper._height)))}isPointOnMapSurface(c,g){return g?g.pointCoordinate(c)!=null:c.y>this.height/2-Je(this)}calculatePosMatrix(c,g=!1,M){var L;const j=(L=c.key)!==null&&L!==void 0?L:o.aX(c.wrap,c.canonical.z,c.canonical.z,c.canonical.x,c.canonical.y),Y=g?this._alignedPosMatrixCache:this._posMatrixCache;if(Y.has(j)){const be=Y.get(j);return M?be.f32:be.f64}const te=Me(c,this.worldSize);o.N(te,g?this._alignedProjMatrix:this._viewProjMatrix,te);const oe={f64:te,f32:new Float32Array(te)};return Y.set(j,oe),M?oe.f32:oe.f64}calculateFogMatrix(c){const g=c.key,M=this._fogMatrixCacheF32;if(M.has(g))return M.get(g);const L=Me(c,this.worldSize);return o.N(L,this._fogMatrix,L),M.set(g,new Float32Array(L)),M.get(g)}getConstrained(c,g){g=o.ae(+g,this.minZoom,this.maxZoom);const M={center:new o.Q(c.lng,c.lat),zoom:g};let L=this._helper._lngRange;this._helper._renderWorldCopies||L!==null||(L=[-179.9999999999,180-1e-10]);const j=this.tileSize*o.ac(M.zoom);let Y=0,te=j,oe=0,be=j,Ce=0,Fe=0;const{x:De,y:We}=this.size;if(this._helper._latRange){const Ht=this._helper._latRange;Y=o.S(Ht[1])*j,te=o.S(Ht[0])*j,te-Y<We&&(Ce=We/(te-Y))}L&&(oe=o.aL(o.U(L[0])*j,0,j),be=o.aL(o.U(L[1])*j,0,j),be<oe&&(be+=j),be-oe<De&&(Fe=De/(be-oe)));const{x:nt,y:Pt}=nn(j,c);let Ct,Rt;const Bt=Math.max(Fe||0,Ce||0);if(Bt){const Ht=new o.P(Fe?(be+oe)/2:nt,Ce?(te+Y)/2:Pt);return M.center=ot(j,Ht).wrap(),M.zoom+=o.ah(Bt),M}if(this._helper._latRange){const Ht=We/2;Pt-Ht<Y&&(Rt=Y+Ht),Pt+Ht>te&&(Rt=te-Ht)}if(L){const Ht=(oe+be)/2;let $t=nt;this._helper._renderWorldCopies&&($t=o.aL(nt,Ht-j/2,Ht+j/2));const Wt=De/2;$t-Wt<oe&&(Ct=oe+Wt),$t+Wt>be&&(Ct=be-Wt)}if(Ct!==void 0||Rt!==void 0){const Ht=new o.P(Ct??nt,Rt??Pt);M.center=ot(j,Ht).wrap()}return M}calculateCenterFromCameraLngLatAlt(c,g,M,L){return this._helper.calculateCenterFromCameraLngLatAlt(c,g,M,L)}_calculateNearFarZIfNeeded(c,g,M){if(!this._helper.autoCalculateNearFarZ)return;const L=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),j=c-L*this._helper._pixelPerMeter/Math.cos(g),Y=L<0?j:c,te=Math.PI/2+this.pitchInRadians,oe=o.ab(this.fov)*(Math.abs(Math.cos(o.ab(this.roll)))*this.height+Math.abs(Math.sin(o.ab(this.roll)))*this.width)/this.height*(.5+M.y/this.height),be=Math.sin(oe)*Y/Math.sin(o.ae(Math.PI-te-oe,.01,Math.PI-.01)),Ce=Je(this),Fe=Math.atan(Ce/this._helper.cameraToCenterDistance),De=o.ab(.75),We=Fe>De?2*Fe*(.5+M.y/(2*Ce)):De,nt=Math.sin(We)*Y/Math.sin(o.ae(Math.PI-te-We,.01,Math.PI-.01)),Pt=Math.min(be,nt);this._helper._farZ=1.01*(Math.cos(Math.PI/2-g)*Pt+Y),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const c=this.centerOffset,g=nn(this.worldSize,this.center),M=g.x,L=g.y;this._helper._pixelPerMeter=o.ag(1,this.center.lat)*this.worldSize;const j=o.ab(Math.min(this.pitch,_n)),Y=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(j));let te;this._calculateNearFarZIfNeeded(Y,j,c),te=new Float64Array(16),o.aY(te,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),o.an(this._invProjMatrix,te),te[8]=2*-c.x/this._helper._width,te[9]=2*c.y/this._helper._height,this._projectionMatrix=o.aZ(te),o.M(te,te,[1,-1,1]),o.L(te,te,[0,0,-this._helper.cameraToCenterDistance]),o.a_(te,te,-this.rollInRadians),o.a$(te,te,this.pitchInRadians),o.a_(te,te,-this.bearingInRadians),o.L(te,te,[-M,-L,0]),this._mercatorMatrix=o.M([],te,[this.worldSize,this.worldSize,this.worldSize]),o.M(te,te,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,te),o.L(te,te,[0,0,-this.elevation]),this._viewProjMatrix=te,this._invViewProjMatrix=o.an([],te);const oe=[0,0,-1,1];o.at(oe,oe,this._invViewProjMatrix),this._cameraPosition=[oe[0]/oe[3],oe[1]/oe[3],oe[2]/oe[3]],this._fogMatrix=new Float64Array(16),o.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,Y,this._helper._farZ),this._fogMatrix[8]=2*-c.x/this.width,this._fogMatrix[9]=2*c.y/this.height,o.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),o.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),o.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),o.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),o.L(this._fogMatrix,this._fogMatrix,[-M,-L,0]),o.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),o.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=o.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,te);const be=this._helper._width%2/2,Ce=this._helper._height%2/2,Fe=Math.cos(this.bearingInRadians),De=Math.sin(-this.bearingInRadians),We=M-Math.round(M)+Fe*be+De*Ce,nt=L-Math.round(L)+Fe*Ce+De*be,Pt=new Float64Array(te);if(o.L(Pt,Pt,[We>.5?We-1:We,nt>.5?nt-1:nt,0]),this._alignedProjMatrix=Pt,te=o.an(new Float64Array(16),this._pixelMatrix),!te)throw new Error("failed to invert matrix");this._pixelMatrixInverse=te,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const c=this.screenPointToMercatorCoordinate(new o.P(0,0)),g=[c.x*this.worldSize,c.y*this.worldSize,0,1];return o.at(g,g,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const c=o.ag(1,this.center.lat)*this.worldSize;return Le(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/c).toLngLat()}lngLatToCameraDepth(c,g){const M=o.$.fromLngLat(c),L=[M.x*this.worldSize,M.y*this.worldSize,g,1];return o.at(L,L,this._viewProjMatrix),L[2]/L[3]}getProjectionData(c){const{overscaledTileID:g,aligned:M,applyTerrainMatrix:L}=c,j=this._helper.getMercatorTileCoordinates(g),Y=g?this.calculatePosMatrix(g,M,!0):null;let te;return te=g&&g.terrainRttPosMatrix32f&&L?g.terrainRttPosMatrix32f:Y||o.b0(),{mainMatrix:te,tileMercatorCoords:j,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:te}}isLocationOccluded(c){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(c,g,M){return 1}transformLightDirection(c){return o.aQ(c)}getRayDirectionFromPixel(c){throw new Error("Not implemented.")}projectTileCoordinates(c,g,M,L){const j=this.calculatePosMatrix(M);let Y;L?(Y=[c,g,L(c,g),1],o.at(Y,Y,j)):(Y=[c,g,0,1],So(Y,Y,j));const te=Y[3];return{point:new o.P(Y[0]/te,Y[1]/te),signedDistanceFromCamera:te,isOccluded:!1}}populateCache(c){for(const g of c)this.calculatePosMatrix(g)}getMatrixForModel(c,g){const M=o.$.fromLngLat(c,g),L=M.meterInMercatorCoordinateUnits(),j=o.b1();return o.L(j,j,[M.x,M.y,M.z]),o.a_(j,j,Math.PI),o.a$(j,j,Math.PI/2),o.M(j,j,[-L,L,L]),j}getProjectionDataForCustomLayer(c=!0){const g=new o.Y(0,0,0,0,0),M=this.getProjectionData({overscaledTileID:g,applyGlobeMatrix:c}),L=Me(g,this.worldSize);o.N(L,this._viewProjMatrix,L),M.tileMercatorCoords=[0,0,1,1];const j=[o.Z,o.Z,this.worldSize/this._helper.pixelsPerMeter],Y=o.b2();return o.M(Y,L,j),M.fallbackMatrix=Y,M.mainMatrix=Y,M}getFastPathSimpleProjectionMatrix(c){return this.calculatePosMatrix(c)}}function Xo(){o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ms(B){if(B.useSlerp)if(B.k<1){const c=o.b3(B.startEulerAngles.roll,B.startEulerAngles.pitch,B.startEulerAngles.bearing),g=o.b3(B.endEulerAngles.roll,B.endEulerAngles.pitch,B.endEulerAngles.bearing),M=new Float64Array(4);o.b4(M,c,g,B.k);const L=o.b5(M);B.tr.setRoll(L.roll),B.tr.setPitch(L.pitch),B.tr.setBearing(L.bearing)}else B.tr.setRoll(B.endEulerAngles.roll),B.tr.setPitch(B.endEulerAngles.pitch),B.tr.setBearing(B.endEulerAngles.bearing);else B.tr.setRoll(o.B.number(B.startEulerAngles.roll,B.endEulerAngles.roll,B.k)),B.tr.setPitch(o.B.number(B.startEulerAngles.pitch,B.endEulerAngles.pitch,B.k)),B.tr.setBearing(o.B.number(B.startEulerAngles.bearing,B.endEulerAngles.bearing,B.k))}function ba(B,c,g,M,L){const j=L.padding,Y=nn(L.worldSize,g.getNorthWest()),te=nn(L.worldSize,g.getNorthEast()),oe=nn(L.worldSize,g.getSouthEast()),be=nn(L.worldSize,g.getSouthWest()),Ce=o.ab(-M),Fe=Y.rotate(Ce),De=te.rotate(Ce),We=oe.rotate(Ce),nt=be.rotate(Ce),Pt=new o.P(Math.max(Fe.x,De.x,nt.x,We.x),Math.max(Fe.y,De.y,nt.y,We.y)),Ct=new o.P(Math.min(Fe.x,De.x,nt.x,We.x),Math.min(Fe.y,De.y,nt.y,We.y)),Rt=Pt.sub(Ct),Bt=(L.width-(j.left+j.right+c.left+c.right))/Rt.x,Ht=(L.height-(j.top+j.bottom+c.top+c.bottom))/Rt.y;if(Ht<0||Bt<0)return void Xo();const $t=Math.min(o.ah(L.scale*Math.min(Bt,Ht)),B.maxZoom),Wt=o.P.convert(B.offset),tr=new o.P((c.left-c.right)/2,(c.top-c.bottom)/2).rotate(o.ab(M)),nr=Wt.add(tr).mult(L.scale/o.ac($t));return{center:ot(L.worldSize,Y.add(oe).div(2).sub(nr)),zoom:$t,bearing:M}}class _t{get useGlobeControls(){return!1}handlePanInertia(c,g){return{easingOffset:c,easingCenter:g.center}}handleMapControlsRollPitchBearingZoom(c,g){c.bearingDelta&&g.setBearing(g.bearing+c.bearingDelta),c.pitchDelta&&g.setPitch(g.pitch+c.pitchDelta),c.rollDelta&&g.setRoll(g.roll+c.rollDelta),c.zoomDelta&&g.setZoom(g.zoom+c.zoomDelta)}handleMapControlsPan(c,g,M){c.around.distSqr(g.centerPoint)<.01||g.setLocationAtPoint(M,c.around)}cameraForBoxAndBearing(c,g,M,L,j){return ba(c,g,M,L,j)}handleJumpToCenterZoom(c,g){c.zoom!==(g.zoom!==void 0?+g.zoom:c.zoom)&&c.setZoom(+g.zoom),g.center!==void 0&&c.setCenter(o.Q.convert(g.center))}handleEaseTo(c,g){const M=c.zoom,L=c.padding,j={roll:c.roll,pitch:c.pitch,bearing:c.bearing},Y={roll:g.roll===void 0?c.roll:g.roll,pitch:g.pitch===void 0?c.pitch:g.pitch,bearing:g.bearing===void 0?c.bearing:g.bearing},te=g.zoom!==void 0,oe=!c.isPaddingEqual(g.padding);let be=!1;const Ce=te?+g.zoom:c.zoom;let Fe=c.centerPoint.add(g.offsetAsPoint);const De=c.screenPointToLocation(Fe),{center:We,zoom:nt}=c.getConstrained(o.Q.convert(g.center||De),Ce??M);Qs(c,We);const Pt=nn(c.worldSize,De),Ct=nn(c.worldSize,We).sub(Pt),Rt=o.ac(nt-M);return be=nt!==M,{easeFunc:Bt=>{if(be&&c.setZoom(o.B.number(M,nt,Bt)),o.b6(j,Y)||ms({startEulerAngles:j,endEulerAngles:Y,tr:c,k:Bt,useSlerp:j.roll!=Y.roll}),oe&&(c.interpolatePadding(L,g.padding,Bt),Fe=c.centerPoint.add(g.offsetAsPoint)),g.around)c.setLocationAtPoint(g.around,g.aroundPoint);else{const Ht=o.ac(c.zoom-M),$t=nt>M?Math.min(2,Rt):Math.max(.5,Rt),Wt=Math.pow($t,1-Bt),tr=ot(c.worldSize,Pt.add(Ct.mult(Bt*Wt)).mult(Ht));c.setLocationAtPoint(c.renderWorldCopies?tr.wrap():tr,Fe)}},isZooming:be,elevationCenter:We}}handleFlyTo(c,g){const M=g.zoom!==void 0,L=c.zoom,j=c.getConstrained(o.Q.convert(g.center||g.locationAtOffset),M?+g.zoom:L),Y=j.center,te=j.zoom;Qs(c,Y);const oe=nn(c.worldSize,g.locationAtOffset),be=nn(c.worldSize,Y).sub(oe),Ce=be.mag(),Fe=o.ac(te-L);let De;if(g.minZoom!==void 0){const We=Math.min(+g.minZoom,L,te),nt=c.getConstrained(Y,We).zoom;De=o.ac(nt-L)}return{easeFunc:(We,nt,Pt,Ct)=>{c.setZoom(We===1?te:L+o.ah(nt));const Rt=We===1?Y:ot(c.worldSize,oe.add(be.mult(Pt)).mult(nt));c.setLocationAtPoint(c.renderWorldCopies?Rt.wrap():Rt,Ct)},scaleOfZoom:Fe,targetCenter:Y,scaleOfMinZoom:De,pixelPathLength:Ce}}}class Nt{constructor(c,g,M){this.blendFunction=c,this.blendColor=g,this.mask=M}}Nt.Replace=[1,0],Nt.disabled=new Nt(Nt.Replace,o.b7.transparent,[!1,!1,!1,!1]),Nt.unblended=new Nt(Nt.Replace,o.b7.transparent,[!0,!0,!0,!0]),Nt.alphaBlended=new Nt([1,771],o.b7.transparent,[!0,!0,!0,!0]);const Ar=2305;class Zt{constructor(c,g,M){this.enable=c,this.mode=g,this.frontFace=M}}Zt.disabled=new Zt(!1,1029,Ar),Zt.backCCW=new Zt(!0,1029,Ar),Zt.frontCCW=new Zt(!0,1028,Ar);class pr{constructor(c,g,M){this.func=c,this.mask=g,this.range=M}}pr.ReadOnly=!1,pr.ReadWrite=!0,pr.disabled=new pr(519,pr.ReadOnly,[0,1]);const Kr=7680;class rn{constructor(c,g,M,L,j,Y){this.test=c,this.ref=g,this.mask=M,this.fail=L,this.depthFail=j,this.pass=Y}}rn.disabled=new rn({func:519,mask:0},0,0,Kr,Kr,Kr);const ri=new WeakMap;function Sn(B){var c;if(ri.has(B))return ri.get(B);{const g=(c=B.getParameter(B.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return ri.set(B,g),g}}class Ln{get awaitingQuery(){return!!this._readbackQueue}constructor(c){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=c;const g=c.context,M=g.gl;this._texFormat=M.RGBA,this._texType=M.UNSIGNED_BYTE;const L=new o.aI;L.emplaceBack(-1,-1),L.emplaceBack(2,-1),L.emplaceBack(-1,2);const j=new o.aK;j.emplaceBack(0,1,2),this._fullscreenTriangle=new to(g.createVertexBuffer(L,Yo.members),g.createIndexBuffer(j),o.aJ.simpleSegment(0,0,L.length,j.length)),this._resultBuffer=new Uint8Array(4),g.activeTexture.set(M.TEXTURE1);const Y=M.createTexture();M.bindTexture(M.TEXTURE_2D,Y),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texImage2D(M.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=g.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(Y),Sn(M)&&(this._pbo=M.createBuffer(),M.bindBuffer(M.PIXEL_PACK_BUFFER,this._pbo),M.bufferData(M.PIXEL_PACK_BUFFER,4,M.STREAM_READ),M.bindBuffer(M.PIXEL_PACK_BUFFER,null))}destroy(){const c=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),c.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(c,g){const M=this._updateCount;return this._readbackQueue?M>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():M>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(c,g),this._updateCount++,this._measuredError}_bindFramebuffer(){const c=this._cachedRenderContext.context,g=c.gl;c.activeTexture.set(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,this._fbo.colorAttachment.get()),c.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(c,g){const M=this._cachedRenderContext.context,L=M.gl;if(this._bindFramebuffer(),M.viewport.set([0,0,this._texWidth,this._texHeight]),M.clear({color:o.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(M,L.TRIANGLES,pr.disabled,rn.disabled,Nt.unblended,Zt.disabled,((j,Y)=>({u_input:j,u_output_expected:Y}))(c,g),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Sn(L)){L.bindBuffer(L.PIXEL_PACK_BUFFER,this._pbo),L.readBuffer(L.COLOR_ATTACHMENT0),L.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),L.bindBuffer(L.PIXEL_PACK_BUFFER,null);const j=L.fenceSync(L.SYNC_GPU_COMMANDS_COMPLETE,0);L.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:j}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const c=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Sn(c)){const g=c.clientWaitSync(this._readbackQueue.sync,0,0);if(g===c.WAIT_FAILED)return o.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(g===c.TIMEOUT_EXPIRED)return;c.bindBuffer(c.PIXEL_PACK_BUFFER,this._pbo),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),c.bindBuffer(c.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),c.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Ln._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(c){let g=0;return g+=c[0]/256,g+=c[1]/65536,g+=c[2]/16777216,c[3]<127&&(g=-g),g/128}}const An=o.Z/128;function Un(B,c){const g=B.granularity!==void 0?Math.max(B.granularity,1):1,M=g+(B.generateBorders?2:0),L=g+(B.extendToNorthPole||B.generateBorders?1:0)+(B.extendToSouthPole||B.generateBorders?1:0),j=M+1,Y=L+1,te=B.generateBorders?-1:0,oe=B.generateBorders||B.extendToNorthPole?-1:0,be=g+(B.generateBorders?1:0),Ce=g+(B.generateBorders||B.extendToSouthPole?1:0),Fe=j*Y,De=M*L*6,We=j*Y>65536;if(We&&c==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const nt=We||c==="32bit",Pt=new Int16Array(2*Fe);let Ct=0;for(let Ht=oe;Ht<=Ce;Ht++)for(let $t=te;$t<=be;$t++){let Wt=$t/g*o.Z;$t===-1&&(Wt=-64),$t===g+1&&(Wt=o.Z+An);let tr=Ht/g*o.Z;Ht===-1&&(tr=B.extendToNorthPole?o.b9:-64),Ht===g+1&&(tr=B.extendToSouthPole?o.ba:o.Z+An),Pt[Ct++]=Wt,Pt[Ct++]=tr}const Rt=nt?new Uint32Array(De):new Uint16Array(De);let Bt=0;for(let Ht=0;Ht<L;Ht++)for(let $t=0;$t<M;$t++){const Wt=$t+1+Ht*j,tr=$t+(Ht+1)*j,nr=$t+1+(Ht+1)*j;Rt[Bt++]=$t+Ht*j,Rt[Bt++]=tr,Rt[Bt++]=Wt,Rt[Bt++]=Wt,Rt[Bt++]=tr,Rt[Bt++]=nr}return{vertices:Pt.buffer.slice(0),indices:Rt.buffer.slice(0),uses32bitIndices:nt}}const fi=new o.aH({fill:new o.bb(128,2),line:new o.bb(512,0),tile:new o.bb(128,32),stencil:new o.bb(128,1),circle:3});class de{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Co.projectionGlobe}get vertexShaderPreludeCode(){return Co.projectionMercator.vertexSource}get subdivisionGranularity(){return fi}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(c){this._errorMeasurement||(this._errorMeasurement=new Ln(c));const g=o.S(this._errorQueryLatitudeDegrees),M=2*Math.atan(Math.exp(Math.PI-g*Math.PI*2))-.5*Math.PI,L=this._errorMeasurement.updateErrorLoop(g,M),j=p.now();L!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=L,this._errorMeasurementLastChangeTime=j);const Y=Math.min(Math.max((j-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=o.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,o.bd(Y))}_getMeshKey(c){return`${c.granularity.toString(36)}_${c.generateBorders?"b":""}${c.extendToNorthPole?"n":""}${c.extendToSouthPole?"s":""}`}getMeshFromTileID(c,g,M,L,j){const Y=(j==="stencil"?fi.stencil:fi.tile).getGranularityForZoomLevel(g.z);return this._getMesh(c,{granularity:Y,generateBorders:M,extendToNorthPole:g.y===0&&L,extendToSouthPole:g.y===(1<<g.z)-1&&L})}_getMesh(c,g){const M=this._getMeshKey(g);if(M in this._tileMeshCache)return this._tileMeshCache[M];const L=function(j,Y){const te=Un(Y,"16bit"),oe=o.aI.deserialize({arrayBuffer:te.vertices,length:te.vertices.byteLength/2/2}),be=o.aK.deserialize({arrayBuffer:te.indices,length:te.indices.byteLength/2/3});return new to(j.createVertexBuffer(oe,Yo.members),j.createIndexBuffer(be),o.aJ.simpleSegment(0,0,oe.length,be.length))}(c,g);return this._tileMeshCache[M]=L,L}recalculate(c){}hasTransition(){const c=p.now();let g=!1;return g=g||(c-this._errorMeasurementLastChangeTime)/1e3<.7,g=g||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,g}setErrorQueryLatitudeDegrees(c){this._errorQueryLatitudeDegrees=c}}const Ie=new o.r({type:new o.D(o.v.projection.type)});class Ke extends o.E{constructor(c){super(),this._transitionable=new o.T(Ie),this.setProjection(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new o.C(0)),this._mercatorProjection=new Ou,this._verticalPerspectiveProjection=new de}get transitionState(){const c=this.properties.get("type");if(typeof c=="string"&&c==="mercator")return 0;if(typeof c=="string"&&c==="vertical-perspective")return 1;if(c instanceof o.be){if(c.from==="vertical-perspective"&&c.to==="mercator")return 1-c.transition;if(c.from==="mercator"&&c.to==="vertical-perspective")return c.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(c){this._mercatorProjection.updateGPUdependent(c),this._verticalPerspectiveProjection.updateGPUdependent(c)}getMeshFromTileID(c,g,M,L,j){return this.currentProjection.getMeshFromTileID(c,g,M,L,j)}setProjection(c){this._transitionable.setValue("type",(c==null?void 0:c.type)||"mercator")}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}setErrorQueryLatitudeDegrees(c){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(c),this._mercatorProjection.setErrorQueryLatitudeDegrees(c)}}function et(B){const c=Ot(B.worldSize,B.center.lat);return 2*Math.PI*c}function St(B,c,g,M,L){const j=1/(1<<L),Y=c/o.Z*j+M*j,te=o.bg((B/o.Z*j+g*j)*Math.PI*2+Math.PI,2*Math.PI),oe=2*Math.atan(Math.exp(Math.PI-Y*Math.PI*2))-.5*Math.PI,be=Math.cos(oe),Ce=new Float64Array(3);return Ce[0]=Math.sin(te)*be,Ce[1]=Math.sin(oe),Ce[2]=Math.cos(te)*be,Ce}function vt(B){return function(c,g){const M=Math.cos(g),L=new Float64Array(3);return L[0]=Math.sin(c)*M,L[1]=Math.sin(g),L[2]=Math.cos(c)*M,L}(B.lng*Math.PI/180,B.lat*Math.PI/180)}function Ot(B,c){return B/(2*Math.PI)/Math.cos(c*Math.PI/180)}function Pr(B){const c=Math.asin(B[1])/Math.PI*180,g=Math.sqrt(B[0]*B[0]+B[2]*B[2]);if(g>1e-6){const M=B[0]/g,L=Math.acos(B[2]/g),j=(M>0?L:-L)/Math.PI*180;return new o.Q(o.aL(j,-180,180),c)}return new o.Q(0,c)}function Tr(B){return Math.cos(B*Math.PI/180)}function Mr(B,c){const g=Tr(B),M=Tr(c);return o.ah(M/g)}function bn(B,c){const g=B.rotate(c.bearingInRadians),M=c.zoom+Mr(c.center.lat,0),L=o.bc(1/Tr(c.center.lat),1/Tr(Math.min(Math.abs(c.center.lat),60)),o.bf(M,7,3,0,1)),j=360/et({worldSize:c.worldSize,center:{lat:c.center.lat}});return new o.Q(c.center.lng-g.x*j*L,o.ae(c.center.lat+g.y*j,-85.051129,o.af))}function sn(B){const c=.5*B,g=Math.sin(c),M=Math.cos(c);return Math.log(g+M)-Math.log(M-g)}function Pn(B,c,g,M){const L=B.lat+g*M;if(Math.abs(g)>1){const j=(Math.sign(B.lat+g)!==Math.sign(B.lat)?-Math.abs(B.lat):Math.abs(B.lat))*Math.PI/180,Y=Math.abs(B.lat+g)*Math.PI/180,te=sn(j+M*(Y-j)),oe=sn(j),be=sn(Y);return new o.Q(B.lng+c*((te-oe)/(be-oe)),L)}return new o.Q(B.lng+c*M,L)}class un{constructor(c){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=c}recalculateCache(){if(!this._hadAnyChanges)return;const c=this._cachePrevious;this._cachePrevious=this._cache,this._cache=c,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(c,g,M,L){const j=`${c.z}_${c.x}_${c.y}`,Y=this._cache.get(j);if(Y)return Y;const te=this._cachePrevious.get(j);if(te)return this._cache.set(j,te),te;const oe=this._aabbFactory(c,g,M,L);return this._cache.set(j,oe),this._hadAnyChanges=!0,oe}}function gn(B,c,g){const M=B-c;return M<0?-M:Math.max(0,M-g)}function Cn(B,c,g,M,L){const j=B-g;let Y;return Y=j<0?Math.min(-j,1+j-L):j>1?Math.min(Math.max(j-L,0),1-j):0,Math.max(Y,gn(c,M,L))}class Zn{constructor(){this._aabbCache=new un(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(c,g,M,L){const j=1<<M.z,Y=1/j,te=M.x/j,oe=M.y/j;let be=2;return be=Math.min(be,Cn(c,g,te,oe,Y)),be=Math.min(be,Cn(c,g,te+.5,-oe-Y,Y)),be=Math.min(be,Cn(c,g,te+.5,2-oe-Y,Y)),be}getWrap(c,g,M){const L=1<<g.z,j=1/L,Y=g.x/L,te=gn(c.x,Y,j),oe=gn(c.x,Y-1,j),be=gn(c.x,Y+1,j),Ce=Math.min(te,oe,be);return Ce===be?1:Ce===oe?-1:0}allowVariableZoom(c,g){return Ft(c,g)>4}allowWorldCopies(){return!1}getTileAABB(c,g,M,L){return this._aabbCache.getTileAABB(c,g,M,L)}_computeTileAABB(c,g,M,L){if(c.z<=0)return new Ha([-1,-1,-1],[1,1,1]);if(c.z===1)return new Ha([c.x===0?-1:0,c.y===0?0:-1,-1],[c.x===0?0:1,c.y===0?1:0,1]);{const j=[St(0,0,c.x,c.y,c.z),St(o.Z,0,c.x,c.y,c.z),St(o.Z,o.Z,c.x,c.y,c.z),St(0,o.Z,c.x,c.y,c.z)],Y=[1,1,1],te=[-1,-1,-1];for(const oe of j)for(let be=0;be<3;be++)Y[be]=Math.min(Y[be],oe[be]),te[be]=Math.max(te[be],oe[be]);if(c.y===0||c.y===(1<<c.z)-1){const oe=[0,c.y===0?1:-1,0];for(let be=0;be<3;be++)Y[be]=Math.min(Y[be],oe[be]),te[be]=Math.max(te[be],oe[be])}return new Ha(Y,te)}}}class hi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,g,M){return this._helper.interpolatePadding(c,g,M)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,g){this._helper.resize(c,g)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}overrideNearFarZ(c,g){this._helper.overrideNearFarZ(c,g)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c){}constructor(){this._cachedClippingPlane=o.bk(),this._projectionMatrix=o.b1(),this._globeViewProjMatrix32f=o.b0(),this._globeViewProjMatrixNoCorrection=o.b1(),this._globeViewProjMatrixNoCorrectionInverted=o.b1(),this._globeProjMatrixInverted=o.b1(),this._cameraPosition=o.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new Po({calcMatrices:()=>{this._calcMatrices()},getConstrained:(c,g)=>this.getConstrained(c,g)}),this._coveringTilesDetailsProvider=new Zn}clone(){const c=new hi;return c.apply(this),c}apply(c,g){this._globeLatitudeErrorCorrectionRadians=g||0,this._helper.apply(c)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const c=o.bh();return c[0]=this._cameraPosition[0],c[1]=this._cameraPosition[1],c[2]=this._cameraPosition[2],c}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(c){const{overscaledTileID:g,applyGlobeMatrix:M}=c,L=this._helper.getMercatorTileCoordinates(g);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:L,clippingPlane:this._cachedClippingPlane,projectionTransition:M?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(c){const g=this.pitchInRadians,M=this.cameraToCenterDistance/c,L=Math.sin(g)*M,j=Math.cos(g)*M+1,Y=1/Math.sqrt(L*L+j*j)*1;let te=-L,oe=j;const be=Math.sqrt(te*te+oe*oe);te/=be,oe/=be;const Ce=[0,te,oe];o.bl(Ce,Ce,[0,0,0],-this.bearingInRadians),o.bm(Ce,Ce,[0,0,0],-1*this.center.lat*Math.PI/180),o.bn(Ce,Ce,[0,0,0],this.center.lng*Math.PI/180);const Fe=1/o.bo(Ce);return o.aO(Ce,Ce,Fe),[...Ce,-Y*Fe]}isLocationOccluded(c){return!this.isSurfacePointVisible(vt(c))}transformLightDirection(c){const g=this._helper._center.lng*Math.PI/180,M=this._helper._center.lat*Math.PI/180,L=Math.cos(M),j=[Math.sin(g)*L,Math.sin(M),Math.cos(g)*L],Y=[j[2],0,-j[0]],te=[0,0,0];o.aU(te,Y,j),o.aT(Y,Y),o.aT(te,te);const oe=[0,0,0];return o.aT(oe,[Y[0]*c[0]+te[0]*c[1]+j[0]*c[2],Y[1]*c[0]+te[1]*c[1]+j[1]*c[2],Y[2]*c[0]+te[2]*c[1]+j[2]*c[2]]),oe}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(c,g,M){const L=function(te,oe,be){const Ce=1/(1<<be.z);return new o.$(te/o.Z*Ce+be.x*Ce,oe/o.Z*Ce+be.y*Ce)}(c,g,M.canonical),j=(Y=L.y,[o.bg(L.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-Y*Math.PI*2))-.5*Math.PI]);var Y;return this.getCircleRadiusCorrection()/Math.cos(j[1])}projectTileCoordinates(c,g,M,L){const j=M.canonical,Y=St(c,g,j.x,j.y,j.z),te=1+(L?L(c,g):0)/o.bu,oe=[Y[0]*te,Y[1]*te,Y[2]*te,1];o.at(oe,oe,this._globeViewProjMatrixNoCorrection);const be=this._cachedClippingPlane,Ce=be[0]*Y[0]+be[1]*Y[1]+be[2]*Y[2]+be[3]<0;return{point:new o.P(oe[0]/oe[3],oe[1]/oe[3]),signedDistanceFromCamera:oe[3],isOccluded:Ce}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const c=Ot(this.worldSize,this.center.lat),g=o.b2(),M=o.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*c),o.aY(g,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const L=this.centerOffset;g[8]=2*-L.x/this._helper._width,g[9]=2*L.y/this._helper._height,this._projectionMatrix=o.aZ(g),this._globeProjMatrixInverted=o.b2(),o.an(this._globeProjMatrixInverted,g),o.L(g,g,[0,0,-this.cameraToCenterDistance]),o.a_(g,g,this.rollInRadians),o.a$(g,g,-this.pitchInRadians),o.a_(g,g,this.bearingInRadians),o.L(g,g,[0,0,-c]);const j=o.bh();j[0]=c,j[1]=c,j[2]=c,o.a$(M,g,this.center.lat*Math.PI/180),o.bp(M,M,-this.center.lng*Math.PI/180),o.M(M,M,j),this._globeViewProjMatrixNoCorrection=M,o.a$(g,g,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),o.bp(g,g,-this.center.lng*Math.PI/180),o.M(g,g,j),this._globeViewProjMatrix32f=new Float32Array(g),this._globeViewProjMatrixNoCorrectionInverted=o.b2(),o.an(this._globeViewProjMatrixNoCorrectionInverted,M);const Y=o.bh();this._cameraPosition=o.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/c,o.bl(this._cameraPosition,this._cameraPosition,Y,-this.rollInRadians),o.bm(this._cameraPosition,this._cameraPosition,Y,this.pitchInRadians),o.bl(this._cameraPosition,this._cameraPosition,Y,-this.bearingInRadians),o.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),o.bm(this._cameraPosition,this._cameraPosition,Y,-this.center.lat*Math.PI/180),o.bn(this._cameraPosition,this._cameraPosition,Y,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(c);const te=o.aZ(this._globeViewProjMatrixNoCorrectionInverted);o.M(te,te,[1,1,-1]),this._cachedFrustum=Ca.fromInvProjectionMatrix(te)}calculateFogMatrix(c){o.w("calculateFogMatrix is not supported on globe projection.");const g=o.b2();return o.ad(g),g}getVisibleUnwrappedCoordinates(c){return[new o.aW(0,c)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){c&&o.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,g){if(!this._globeViewProjMatrixNoCorrection)return 1;const M=vt(c);o.aO(M,M,1+g/o.bu);const L=o.bk();return o.at(L,[M[0],M[1],M[2],1],this._globeViewProjMatrixNoCorrection),L[2]/L[3]}populateCache(c){}getBounds(){const c=.5*this.width,g=.5*this.height,M=[new o.P(0,0),new o.P(c,0),new o.P(this.width,0),new o.P(this.width,g),new o.P(this.width,this.height),new o.P(c,this.height),new o.P(0,this.height),new o.P(0,g)],L=[];for(const Fe of M)L.push(this.unprojectScreenPoint(Fe));let j=0,Y=0,te=0,oe=0;const be=this.center;for(const Fe of L){const De=o.bq(be.lng,Fe.lng),We=o.bq(be.lat,Fe.lat);De<Y&&(Y=De),De>j&&(j=De),We<oe&&(oe=We),We>te&&(te=We)}const Ce=[be.lng+Y,be.lat+oe,be.lng+j,be.lat+te];return this.isSurfacePointOnScreen([0,1,0])&&(Ce[3]=90,Ce[0]=-180,Ce[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(Ce[1]=-90,Ce[0]=-180,Ce[2]=180),new he(Ce)}getConstrained(c,g){const M=o.ae(c.lat,-85.051129,o.af),L=o.ae(+g,this.minZoom+Mr(0,M),this.maxZoom);return{center:new o.Q(c.lng,M),zoom:L}}calculateCenterFromCameraLngLatAlt(c,g,M,L){return this._helper.calculateCenterFromCameraLngLatAlt(c,g,M,L)}setLocationAtPoint(c,g){const M=vt(this.unprojectScreenPoint(g)),L=vt(c),j=o.bh();o.br(j);const Y=o.bh();o.bn(Y,M,j,-this.center.lng*Math.PI/180),o.bm(Y,Y,j,this.center.lat*Math.PI/180);const te=L[0]*L[0]+L[2]*L[2],oe=Y[0]*Y[0];if(te<oe)return;const be=Math.sqrt(te-oe),Ce=-be,Fe=o.bs(L[0],L[2],Y[0],be),De=o.bs(L[0],L[2],Y[0],Ce),We=o.bh();o.bn(We,L,j,-Fe);const nt=o.bs(We[1],We[2],Y[1],Y[2]),Pt=o.bh();o.bn(Pt,L,j,-De);const Ct=o.bs(Pt[1],Pt[2],Y[1],Y[2]),Rt=.5*Math.PI,Bt=nt>=-Rt&&nt<=Rt,Ht=Ct>=-Rt&&Ct<=Rt;let $t,Wt;if(Bt&&Ht){const Qr=this.center.lng*Math.PI/180,_r=this.center.lat*Math.PI/180;o.bv(Fe,Qr)+o.bv(nt,_r)<o.bv(De,Qr)+o.bv(Ct,_r)?($t=Fe,Wt=nt):($t=De,Wt=Ct)}else if(Bt)$t=Fe,Wt=nt;else{if(!Ht)return;$t=De,Wt=Ct}const tr=$t/Math.PI*180,nr=Wt/Math.PI*180,kr=this.center.lat;this.setCenter(new o.Q(tr,o.ae(nr,-90,90))),this.setZoom(this.zoom+Mr(kr,this.center.lat))}locationToScreenPoint(c,g){const M=vt(c);if(g){const L=g.getElevationForLngLatZoom(c,this._helper._tileZoom);o.aO(M,M,1+L/o.bu)}return this._projectSurfacePointToScreen(M)}_projectSurfacePointToScreen(c){const g=o.bk();return o.at(g,[...c,1],this._globeViewProjMatrixNoCorrection),g[0]/=g[3],g[1]/=g[3],new o.P((.5*g[0]+.5)*this.width,(.5*-g[1]+.5)*this.height)}screenPointToMercatorCoordinate(c,g){if(g){const M=g.pointCoordinate(c);if(M)return M}return o.$.fromLngLat(this.unprojectScreenPoint(c))}screenPointToLocation(c,g){var M;return(M=this.screenPointToMercatorCoordinate(c,g))===null||M===void 0?void 0:M.toLngLat()}isPointOnMapSurface(c,g){const M=this._cameraPosition,L=this.getRayDirectionFromPixel(c);return!!this.rayPlanetIntersection(M,L)}getRayDirectionFromPixel(c){const g=o.bk();g[0]=c.x/this.width*2-1,g[1]=-1*(c.y/this.height*2-1),g[2]=1,g[3]=1,o.at(g,g,this._globeViewProjMatrixNoCorrectionInverted),g[0]/=g[3],g[1]/=g[3],g[2]/=g[3];const M=o.bh();M[0]=g[0]-this._cameraPosition[0],M[1]=g[1]-this._cameraPosition[1],M[2]=g[2]-this._cameraPosition[2];const L=o.bh();return o.aT(L,M),L}isSurfacePointVisible(c){const g=this._cachedClippingPlane;return g[0]*c[0]+g[1]*c[1]+g[2]*c[2]+g[3]>=0}isSurfacePointOnScreen(c){if(!this.isSurfacePointVisible(c))return!1;const g=o.bk();return o.at(g,[...c,1],this._globeViewProjMatrixNoCorrection),g[0]/=g[3],g[1]/=g[3],g[2]/=g[3],g[0]>-1&&g[0]<1&&g[1]>-1&&g[1]<1&&g[2]>-1&&g[2]<1}rayPlanetIntersection(c,g){const M=o.aV(c,g),L=o.bh(),j=o.bh();o.aO(j,g,M),o.aS(L,c,j);const Y=1-o.aV(L,L);if(Y<0)return null;const te=o.aV(c,c)-1,oe=-M+(M<0?1:-1)*Math.sqrt(Y),be=te/oe,Ce=oe;return{tMin:Math.min(be,Ce),tMax:Math.max(be,Ce)}}unprojectScreenPoint(c){const g=this._cameraPosition,M=this.getRayDirectionFromPixel(c),L=this.rayPlanetIntersection(g,M);if(L){const Ce=o.bh();o.aP(Ce,g,[M[0]*L.tMin,M[1]*L.tMin,M[2]*L.tMin]);const Fe=o.bh();return o.aT(Fe,Ce),Pr(Fe)}const j=this._cachedClippingPlane,Y=j[0]*M[0]+j[1]*M[1]+j[2]*M[2],te=-o.bt(j,g)/Y,oe=o.bh();if(te>0)o.aP(oe,g,[M[0]*te,M[1]*te,M[2]*te]);else{const Ce=o.bh();o.aP(Ce,g,[2*M[0],2*M[1],2*M[2]]);const Fe=o.bt(this._cachedClippingPlane,Ce);o.aS(oe,Ce,[this._cachedClippingPlane[0]*Fe,this._cachedClippingPlane[1]*Fe,this._cachedClippingPlane[2]*Fe])}const be=function(Ce){const Fe=o.bh();return Fe[0]=Ce[0]*-Ce[3],Fe[1]=Ce[1]*-Ce[3],Fe[2]=Ce[2]*-Ce[3],{center:Fe,radius:Math.sqrt(1-Ce[3]*Ce[3])}}(j);return Pr(function(Ce,Fe,De){const We=o.bh();o.aS(We,De,Ce);const nt=o.bh();return o.bi(nt,Ce,We,Fe/o.bj(We)),nt}(be.center,be.radius,oe))}getMatrixForModel(c,g){const M=o.Q.convert(c),L=1/o.bu,j=o.b1();return o.bp(j,j,M.lng/180*Math.PI),o.a$(j,j,-M.lat/180*Math.PI),o.L(j,j,[0,0,1+g/o.bu]),o.a$(j,j,.5*Math.PI),o.M(j,j,[L,L,L]),j}getProjectionDataForCustomLayer(c=!0){const g=this.getProjectionData({overscaledTileID:new o.Y(0,0,0,0,0),applyGlobeMatrix:c});return g.tileMercatorCoords=[0,0,1,1],g}getFastPathSimpleProjectionMatrix(c){}}class ji{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,g,M){return this._helper.interpolatePadding(c,g,M)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,g,M=!0){this._helper.resize(c,g,M)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}overrideNearFarZ(c,g){this._helper.overrideNearFarZ(c,g)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(c,g){this._globeness=c,this._globeLatitudeErrorCorrectionRadians=g,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new Po({calcMatrices:()=>{this._calcMatrices()},getConstrained:(c,g)=>this.getConstrained(c,g)}),this._globeness=1,this._mercatorTransform=new nf,this._verticalPerspectiveTransform=new hi}clone(){const c=new ji;return c._globeness=this._globeness,c._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,c.apply(this),c}apply(c){this._helper.apply(c),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(c){const g=this._mercatorTransform.getProjectionData(c),M=this._verticalPerspectiveTransform.getProjectionData(c);return{mainMatrix:this.isGlobeRendering?M.mainMatrix:g.mainMatrix,clippingPlane:M.clippingPlane,tileMercatorCoords:M.tileMercatorCoords,projectionTransition:c.applyGlobeMatrix?this._globeness:0,fallbackMatrix:g.fallbackMatrix}}isLocationOccluded(c){return this.currentTransform.isLocationOccluded(c)}transformLightDirection(c){return this.currentTransform.transformLightDirection(c)}getPixelScale(){return o.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return o.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(c,g,M){const L=this._mercatorTransform.getPitchedTextCorrection(c,g,M),j=this._verticalPerspectiveTransform.getPitchedTextCorrection(c,g,M);return o.bc(L,j,this._globeness)}projectTileCoordinates(c,g,M,L){return this.currentTransform.projectTileCoordinates(c,g,M,L)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(c){return this.currentTransform.calculateFogMatrix(c)}getVisibleUnwrappedCoordinates(c){return this.currentTransform.getVisibleUnwrappedCoordinates(c)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(c){this._mercatorTransform.recalculateZoomAndCenter(c),this._verticalPerspectiveTransform.recalculateZoomAndCenter(c)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,g){return this.currentTransform.lngLatToCameraDepth(c,g)}populateCache(c){this._mercatorTransform.populateCache(c),this._verticalPerspectiveTransform.populateCache(c)}getBounds(){return this.currentTransform.getBounds()}getConstrained(c,g){return this.currentTransform.getConstrained(c,g)}calculateCenterFromCameraLngLatAlt(c,g,M,L){return this._helper.calculateCenterFromCameraLngLatAlt(c,g,M,L)}setLocationAtPoint(c,g){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(c,g),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(c,g),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(c,g){return this.currentTransform.locationToScreenPoint(c,g)}screenPointToMercatorCoordinate(c,g){return this.currentTransform.screenPointToMercatorCoordinate(c,g)}screenPointToLocation(c,g){return this.currentTransform.screenPointToLocation(c,g)}isPointOnMapSurface(c,g){return this.currentTransform.isPointOnMapSurface(c,g)}getRayDirectionFromPixel(c){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(c)}getMatrixForModel(c,g){return this.currentTransform.getMatrixForModel(c,g)}getProjectionDataForCustomLayer(c=!0){const g=this._mercatorTransform.getProjectionDataForCustomLayer(c);if(!this.isGlobeRendering)return g;const M=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(c);return M.fallbackMatrix=g.mainMatrix,M}getFastPathSimpleProjectionMatrix(c){return this.currentTransform.getFastPathSimpleProjectionMatrix(c)}}class ii{get useGlobeControls(){return!0}handlePanInertia(c,g){const M=bn(c,g);return Math.abs(M.lng-g.center.lng)>180&&(M.lng=g.center.lng+179.5*Math.sign(M.lng-g.center.lng)),{easingCenter:M,easingOffset:new o.P(0,0)}}handleMapControlsRollPitchBearingZoom(c,g){const M=c.around,L=g.screenPointToLocation(M);c.bearingDelta&&g.setBearing(g.bearing+c.bearingDelta),c.pitchDelta&&g.setPitch(g.pitch+c.pitchDelta),c.rollDelta&&g.setRoll(g.roll+c.rollDelta);const j=g.zoom;c.zoomDelta&&g.setZoom(g.zoom+c.zoomDelta);const Y=g.zoom-j;if(Y===0)return;const te=o.bq(g.center.lng,L.lng),oe=te/(Math.abs(te/180)+1),be=o.bq(g.center.lat,L.lat),Ce=g.getRayDirectionFromPixel(M),Fe=g.cameraPosition,De=-1*o.aV(Fe,Ce),We=o.bh();o.aP(We,Fe,[Ce[0]*De,Ce[1]*De,Ce[2]*De]);const nt=o.bo(We)-1,Pt=Math.exp(.5*-Math.max(nt-.3,0)),Ct=Ot(g.worldSize,g.center.lat)/Math.min(g.width,g.height),Rt=o.bf(Ct,.9,.5,1,.25),Bt=(1-o.ac(-Y))*Math.min(Pt,Rt),Ht=g.center.lat,$t=g.zoom,Wt=new o.Q(g.center.lng+oe*Bt,o.ae(g.center.lat+be*Bt,-85.051129,o.af));g.setLocationAtPoint(L,M);const tr=g.center,nr=o.bf(Math.abs(te),45,85,0,1),kr=o.bf(Ct,.75,.35,0,1),Qr=Math.pow(Math.max(nr,kr),.25),_r=o.bq(tr.lng,Wt.lng),$r=o.bq(tr.lat,Wt.lat);g.setCenter(new o.Q(tr.lng+_r*Qr,tr.lat+$r*Qr).wrap()),g.setZoom($t+Mr(Ht,g.center.lat))}handleMapControlsPan(c,g,M){if(!c.panDelta)return;const L=g.center.lat,j=g.zoom;g.setCenter(bn(c.panDelta,g).wrap()),g.setZoom(j+Mr(L,g.center.lat))}cameraForBoxAndBearing(c,g,M,L,j){const Y=ba(c,g,M,L,j),te=g.left/j.width*2-1,oe=(j.width-g.right)/j.width*2-1,be=g.top/j.height*-2+1,Ce=(j.height-g.bottom)/j.height*-2+1,Fe=o.bq(M.getWest(),M.getEast())<0,De=Fe?M.getEast():M.getWest(),We=Fe?M.getWest():M.getEast(),nt=Math.max(M.getNorth(),M.getSouth()),Pt=Math.min(M.getNorth(),M.getSouth()),Ct=De+.5*o.bq(De,We),Rt=nt+.5*o.bq(nt,Pt),Bt=j.clone();Bt.setCenter(Y.center),Bt.setBearing(Y.bearing),Bt.setPitch(0),Bt.setRoll(0),Bt.setZoom(Y.zoom);const Ht=Bt.modelViewProjectionMatrix,$t=[vt(M.getNorthWest()),vt(M.getNorthEast()),vt(M.getSouthWest()),vt(M.getSouthEast()),vt(new o.Q(We,Rt)),vt(new o.Q(De,Rt)),vt(new o.Q(Ct,nt)),vt(new o.Q(Ct,Pt))],Wt=vt(Y.center);let tr=Number.POSITIVE_INFINITY;for(const nr of $t)te<0&&(tr=ii.getLesserNonNegativeNonNull(tr,ii.solveVectorScale(nr,Wt,Ht,"x",te))),oe>0&&(tr=ii.getLesserNonNegativeNonNull(tr,ii.solveVectorScale(nr,Wt,Ht,"x",oe))),be>0&&(tr=ii.getLesserNonNegativeNonNull(tr,ii.solveVectorScale(nr,Wt,Ht,"y",be))),Ce<0&&(tr=ii.getLesserNonNegativeNonNull(tr,ii.solveVectorScale(nr,Wt,Ht,"y",Ce)));if(Number.isFinite(tr)&&tr!==0)return Y.zoom=Bt.zoom+o.ah(tr),Y;Xo()}handleJumpToCenterZoom(c,g){const M=c.center.lat,L=c.getConstrained(g.center?o.Q.convert(g.center):c.center,c.zoom).center;c.setCenter(L.wrap());const j=g.zoom!==void 0?+g.zoom:c.zoom+Mr(M,L.lat);c.zoom!==j&&c.setZoom(j)}handleEaseTo(c,g){const M=c.zoom,L=c.center,j=c.padding,Y={roll:c.roll,pitch:c.pitch,bearing:c.bearing},te={roll:g.roll===void 0?c.roll:g.roll,pitch:g.pitch===void 0?c.pitch:g.pitch,bearing:g.bearing===void 0?c.bearing:g.bearing},oe=g.zoom!==void 0,be=!c.isPaddingEqual(g.padding);let Ce=!1;const Fe=g.center?o.Q.convert(g.center):L,De=c.getConstrained(Fe,M).center;Qs(c,De);const We=c.clone();We.setCenter(De),We.setZoom(oe?+g.zoom:M+Mr(L.lat,Fe.lat)),We.setBearing(g.bearing);const nt=new o.P(o.ae(c.centerPoint.x+g.offsetAsPoint.x,0,c.width),o.ae(c.centerPoint.y+g.offsetAsPoint.y,0,c.height));We.setLocationAtPoint(De,nt);const Pt=(g.offset&&g.offsetAsPoint.mag())>0?We.center:De,Ct=oe?+g.zoom:M+Mr(L.lat,Pt.lat),Rt=M+Mr(L.lat,0),Bt=Ct+Mr(Pt.lat,0),Ht=o.bq(L.lng,Pt.lng),$t=o.bq(L.lat,Pt.lat),Wt=o.ac(Bt-Rt);return Ce=Ct!==M,{easeFunc:tr=>{if(o.b6(Y,te)||ms({startEulerAngles:Y,endEulerAngles:te,tr:c,k:tr,useSlerp:Y.roll!=te.roll}),be&&c.interpolatePadding(j,g.padding,tr),g.around)o.w("Easing around a point is not supported under globe projection."),c.setLocationAtPoint(g.around,g.aroundPoint);else{const nr=Bt>Rt?Math.min(2,Wt):Math.max(.5,Wt),kr=Math.pow(nr,1-tr),Qr=Pn(L,Ht,$t,tr*kr);c.setCenter(Qr.wrap())}if(Ce){const nr=o.B.number(Rt,Bt,tr)+Mr(0,c.center.lat);c.setZoom(nr)}},isZooming:Ce,elevationCenter:Pt}}handleFlyTo(c,g){const M=g.zoom!==void 0,L=c.center,j=c.zoom,Y=c.padding,te=!c.isPaddingEqual(g.padding),oe=c.getConstrained(o.Q.convert(g.center||g.locationAtOffset),j).center,be=M?+g.zoom:c.zoom+Mr(c.center.lat,oe.lat),Ce=c.clone();Ce.setCenter(oe),Ce.setZoom(be),Ce.setBearing(g.bearing);const Fe=new o.P(o.ae(c.centerPoint.x+g.offsetAsPoint.x,0,c.width),o.ae(c.centerPoint.y+g.offsetAsPoint.y,0,c.height));Ce.setLocationAtPoint(oe,Fe);const De=Ce.center;Qs(c,De);const We=function($t,Wt,tr){const nr=vt(Wt),kr=vt(tr),Qr=o.aV(nr,kr),_r=Math.acos(Qr),$r=et($t);return _r/(2*Math.PI)*$r}(c,L,De),nt=j+Mr(L.lat,0),Pt=be+Mr(De.lat,0),Ct=o.ac(Pt-nt);let Rt;if(typeof g.minZoom=="number"){const $t=+g.minZoom+Mr(De.lat,0),Wt=Math.min($t,nt,Pt)+Mr(0,De.lat),tr=c.getConstrained(De,Wt).zoom+Mr(De.lat,0);Rt=o.ac(tr-nt)}const Bt=o.bq(L.lng,De.lng),Ht=o.bq(L.lat,De.lat);return{easeFunc:($t,Wt,tr,nr)=>{const kr=Pn(L,Bt,Ht,tr);te&&c.interpolatePadding(Y,g.padding,$t);const Qr=$t===1?De:kr;c.setCenter(Qr.wrap());const _r=nt+o.ah(Wt);c.setZoom($t===1?be:_r+Mr(0,Qr.lat))},scaleOfZoom:Ct,targetCenter:De,scaleOfMinZoom:Rt,pixelPathLength:We}}static solveVectorScale(c,g,M,L,j){const Y=L==="x"?[M[0],M[4],M[8],M[12]]:[M[1],M[5],M[9],M[13]],te=[M[3],M[7],M[11],M[15]],oe=c[0]*Y[0]+c[1]*Y[1]+c[2]*Y[2],be=c[0]*te[0]+c[1]*te[1]+c[2]*te[2],Ce=g[0]*Y[0]+g[1]*Y[1]+g[2]*Y[2],Fe=g[0]*te[0]+g[1]*te[1]+g[2]*te[2];return Ce+j*be===oe+j*Fe||te[3]*(oe-Ce)+Y[3]*(Fe-be)+oe*Fe==Ce*be?null:(Ce+Y[3]-j*Fe-j*te[3])/(Ce-oe-j*Fe+j*be)}static getLesserNonNegativeNonNull(c,g){return g!==null&&g>=0&&g<c?g:c}}class Bn{constructor(c){this._globe=c,this._mercatorCameraHelper=new _t,this._verticalPerspectiveCameraHelper=new ii}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(c,g){return this.currentHelper.handlePanInertia(c,g)}handleMapControlsRollPitchBearingZoom(c,g){return this.currentHelper.handleMapControlsRollPitchBearingZoom(c,g)}handleMapControlsPan(c,g,M){this.currentHelper.handleMapControlsPan(c,g,M)}cameraForBoxAndBearing(c,g,M,L,j){return this.currentHelper.cameraForBoxAndBearing(c,g,M,L,j)}handleJumpToCenterZoom(c,g){this.currentHelper.handleJumpToCenterZoom(c,g)}handleEaseTo(c,g){return this.currentHelper.handleEaseTo(c,g)}handleFlyTo(c,g){return this.currentHelper.handleFlyTo(c,g)}}const ni=(B,c)=>o.x(B,c&&c.filter(g=>g.identifier!=="source.canvas")),ai=o.bw();class $i extends o.E{constructor(c,g={}){super(),this._rtlPluginLoaded=()=>{for(const M in this.sourceCaches){const L=this.sourceCaches[M].getSource().type;L!=="vector"&&L!=="geojson"||this.sourceCaches[M].reload()}},this.map=c,this.dispatcher=new $e(ct(),c._getMapId()),this.dispatcher.registerMessageHandler("GG",(M,L)=>this.getGlyphs(M,L)),this.dispatcher.registerMessageHandler("GI",(M,L)=>this.getImages(M,L)),this.imageManager=new $,this.imageManager.setEventedParent(this),this.glyphManager=new V(c._requestManager,g.localIdeographFontFamily),this.lineAtlas=new le(256,512),this.crossTileSymbolIndex=new Ol,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",o.by()),Nr().on(fr,this._rtlPluginLoaded),this.on("data",M=>{if(M.dataType!=="source"||M.sourceDataType!=="metadata")return;const L=this.sourceCaches[M.sourceId];if(!L)return;const j=L.getSource();if(j&&j.vectorLayerIds)for(const Y in this._layers){const te=this._layers[Y];te.source===j.id&&this._validateLayer(te)}})}loadURL(c,g={},M){this.fire(new o.l("dataloading",{dataType:"style"})),g.validate=typeof g.validate!="boolean"||g.validate;const L=this.map._requestManager.transformRequest(c,"Style");this._loadStyleRequest=new AbortController;const j=this._loadStyleRequest;o.j(L,this._loadStyleRequest).then(Y=>{this._loadStyleRequest=null,this._load(Y.data,g,M)}).catch(Y=>{this._loadStyleRequest=null,Y&&!j.signal.aborted&&this.fire(new o.k(Y))})}loadJSON(c,g={},M){this.fire(new o.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,p.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,g.validate=g.validate!==!1,this._load(c,g,M)}).catch(()=>{})}loadEmpty(){this.fire(new o.l("dataloading",{dataType:"style"})),this._load(ai,{validate:!1})}_load(c,g,M){var L,j;const Y=g.transformStyle?g.transformStyle(M,c):c;if(!g.validate||!ni(this,o.y(Y))){this._loaded=!0,this.stylesheet=Y;for(const te in Y.sources)this.addSource(te,Y.sources[te],{validate:!1});Y.sprite?this._loadSprite(Y.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(Y.glyphs),this._createLayers(),this.light=new ue(this.stylesheet.light),this._setProjectionInternal(((L=this.stylesheet.projection)===null||L===void 0?void 0:L.type)||"mercator"),this.sky=new ve(this.stylesheet.sky),this.map.setTerrain((j=this.stylesheet.terrain)!==null&&j!==void 0?j:null),this.fire(new o.l("data",{dataType:"style"})),this.fire(new o.l("style.load"))}}_createLayers(){const c=o.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",c),this._order=c.map(g=>g.id),this._layers={},this._serializedLayers=null;for(const g of c){const M=o.bA(g);M.setEventedParent(this,{layer:{id:g.id}}),this._layers[g.id]=M}}_loadSprite(c,g=!1,M=void 0){let L;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(j,Y,te,oe){return o._(this,void 0,void 0,function*(){const be=_(j),Ce=te>1?"@2x":"",Fe={},De={};for(const{id:We,url:nt}of be){const Pt=Y.transformRequest(R(nt,Ce,".json"),"SpriteJSON");Fe[We]=o.j(Pt,oe);const Ct=Y.transformRequest(R(nt,Ce,".png"),"SpriteImage");De[We]=S.getImage(Ct,oe)}return yield Promise.all([...Object.values(Fe),...Object.values(De)]),function(We,nt){return o._(this,void 0,void 0,function*(){const Pt={};for(const Ct in We){Pt[Ct]={};const Rt=p.getImageCanvasContext((yield nt[Ct]).data),Bt=(yield We[Ct]).data;for(const Ht in Bt){const{width:$t,height:Wt,x:tr,y:nr,sdf:kr,pixelRatio:Qr,stretchX:_r,stretchY:$r,content:Jr,textFitWidth:Dn,textFitHeight:In}=Bt[Ht];Pt[Ct][Ht]={data:null,pixelRatio:Qr,sdf:kr,stretchX:_r,stretchY:$r,content:Jr,textFitWidth:Dn,textFitHeight:In,spriteData:{width:$t,height:Wt,x:tr,y:nr,context:Rt}}}}return Pt})}(Fe,De)})}(c,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(j=>{if(this._spriteRequest=null,j)for(const Y in j){this._spritesImagesIds[Y]=[];const te=this._spritesImagesIds[Y]?this._spritesImagesIds[Y].filter(oe=>!(oe in j)):[];for(const oe of te)this.imageManager.removeImage(oe),this._changedImages[oe]=!0;for(const oe in j[Y]){const be=Y==="default"?oe:`${Y}:${oe}`;this._spritesImagesIds[Y].push(be),be in this.imageManager.images?this.imageManager.updateImage(be,j[Y][oe],!1):this.imageManager.addImage(be,j[Y][oe]),g&&(this._changedImages[be]=!0)}}}).catch(j=>{this._spriteRequest=null,L=j,this.fire(new o.k(L))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),g&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"})),M&&M(L)})}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}_validateLayer(c){const g=this.sourceCaches[c.source];if(!g)return;const M=c.sourceLayer;if(!M)return;const L=g.getSource();(L.type==="geojson"||L.vectorLayerIds&&L.vectorLayerIds.indexOf(M)===-1)&&this.fire(new o.k(new Error(`Source layer "${M}" does not exist on source "${L.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.sourceCaches)if(!this.sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c,g=!1){const M=this._serializedAllLayers();if(!c||c.length===0)return Object.values(g?o.bB(M):M);const L=[];for(const j of c)if(M[j]){const Y=g?o.bB(M[j]):M[j];L.push(Y)}return L}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const g=Object.keys(this._layers);for(const M of g){const L=this._layers[M];L.type!=="custom"&&(c[M]=L.serialize())}return c}hasTransitions(){var c,g,M;if(!((c=this.light)===null||c===void 0)&&c.hasTransition()||!((g=this.sky)===null||g===void 0)&&g.hasTransition()||!((M=this.projection)===null||M===void 0)&&M.hasTransition())return!0;for(const L in this.sourceCaches)if(this.sourceCaches[L].hasTransition())return!0;for(const L in this._layers)if(this._layers[L].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const g=this._changed;if(g){const L=Object.keys(this._updatedLayers),j=Object.keys(this._removedLayers);(L.length||j.length)&&this._updateWorkerLayers(L,j);for(const Y in this._updatedSources){const te=this._updatedSources[Y];if(te==="reload")this._reloadSource(Y);else{if(te!=="clear")throw new Error(`Invalid action ${te}`);this._clearSource(Y)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const Y in this._updatedPaintProps)this._layers[Y].updateTransitions(c);this.light.updateTransitions(c),this.sky.updateTransitions(c),this._resetUpdates()}const M={};for(const L in this.sourceCaches){const j=this.sourceCaches[L];M[L]=j.used,j.used=!1}for(const L of this._order){const j=this._layers[L];j.recalculate(c,this._availableImages),!j.isHidden(c.zoom)&&j.source&&(this.sourceCaches[j.source].used=!0)}for(const L in M){const j=this.sourceCaches[L];!!M[L]!=!!j.used&&j.fire(new o.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:L}))}this.light.recalculate(c),this.sky.recalculate(c),this.projection.recalculate(c),this.z=c.zoom,g&&this.fire(new o.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const g in this.sourceCaches)this.sourceCaches[g].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,g){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(c,!1),removedIds:g})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,g={}){var M;this._checkLoaded();const L=this.serialize();if(c=g.transformStyle?g.transformStyle(L,c):c,((M=g.validate)===null||M===void 0||M)&&ni(this,o.y(c)))return!1;(c=o.bB(c)).layers=o.bz(c.layers);const j=o.bC(L,c),Y=this._getOperationsToPerform(j);if(Y.unimplemented.length>0)throw new Error(`Unimplemented: ${Y.unimplemented.join(", ")}.`);if(Y.operations.length===0)return!1;for(const te of Y.operations)te();return this.stylesheet=c,this._serializedLayers=null,!0}_getOperationsToPerform(c){const g=[],M=[];for(const L of c)switch(L.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":g.push(()=>this.addLayer.apply(this,L.args));break;case"removeLayer":g.push(()=>this.removeLayer.apply(this,L.args));break;case"setPaintProperty":g.push(()=>this.setPaintProperty.apply(this,L.args));break;case"setLayoutProperty":g.push(()=>this.setLayoutProperty.apply(this,L.args));break;case"setFilter":g.push(()=>this.setFilter.apply(this,L.args));break;case"addSource":g.push(()=>this.addSource.apply(this,L.args));break;case"removeSource":g.push(()=>this.removeSource.apply(this,L.args));break;case"setLayerZoomRange":g.push(()=>this.setLayerZoomRange.apply(this,L.args));break;case"setLight":g.push(()=>this.setLight.apply(this,L.args));break;case"setGeoJSONSourceData":g.push(()=>this.setGeoJSONSourceData.apply(this,L.args));break;case"setGlyphs":g.push(()=>this.setGlyphs.apply(this,L.args));break;case"setSprite":g.push(()=>this.setSprite.apply(this,L.args));break;case"setTerrain":g.push(()=>this.map.setTerrain.apply(this,L.args));break;case"setSky":g.push(()=>this.setSky.apply(this,L.args));break;case"setProjection":this.setProjection.apply(this,L.args);break;case"setTransition":g.push(()=>{});break;default:M.push(L.command)}return{operations:g,unimplemented:M}}addImage(c,g){if(this.getImage(c))return this.fire(new o.k(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,g),this._afterImageUpdated(c)}updateImage(c,g){this.imageManager.updateImage(c,g)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new o.k(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,g,M={}){if(this._checkLoaded(),this.sourceCaches[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!g.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(g).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(g.type)>=0&&this._validate(o.y.source,`sources.${c}`,g,null,M))return;this.map&&this.map._collectResourceTiming&&(g.collectResourceTiming=!0);const L=this.sourceCaches[c]=new ir(c,g,this.dispatcher);L.style=this,L.setEventedParent(this,()=>({isSourceLoaded:L.loaded(),source:L.serialize(),sourceId:c})),L.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error("There is no source with this ID");for(const M in this._layers)if(this._layers[M].source===c)return this.fire(new o.k(new Error(`Source "${c}" cannot be removed while layer "${M}" is using it.`)));const g=this.sourceCaches[c];delete this.sourceCaches[c],delete this._updatedSources[c],g.fire(new o.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),g.setEventedParent(null),g.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,g){if(this._checkLoaded(),this.sourceCaches[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const M=this.sourceCaches[c].getSource();if(M.type!=="geojson")throw new Error(`geojsonSource.type is ${M.type}, which is !== 'geojson`);M.setData(g),this._changed=!0}getSource(c){return this.sourceCaches[c]&&this.sourceCaches[c].getSource()}addLayer(c,g,M={}){this._checkLoaded();const L=c.id;if(this.getLayer(L))return void this.fire(new o.k(new Error(`Layer "${L}" already exists on this map.`)));let j;if(c.type==="custom"){if(ni(this,o.bD(c)))return;j=o.bA(c)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(L,c.source),c=o.bB(c),c=o.e(c,{source:L})),this._validate(o.y.layer,`layers.${L}`,c,{arrayIndex:-1},M))return;j=o.bA(c),this._validateLayer(j),j.setEventedParent(this,{layer:{id:L}})}const Y=g?this._order.indexOf(g):this._order.length;if(g&&Y===-1)this.fire(new o.k(new Error(`Cannot add layer "${L}" before non-existing layer "${g}".`)));else{if(this._order.splice(Y,0,L),this._layerOrderChanged=!0,this._layers[L]=j,this._removedLayers[L]&&j.source&&j.type!=="custom"){const te=this._removedLayers[L];delete this._removedLayers[L],te.type!==j.type?this._updatedSources[j.source]="clear":(this._updatedSources[j.source]="reload",this.sourceCaches[j.source].pause())}this._updateLayer(j),j.onAdd&&j.onAdd(this.map)}}moveLayer(c,g){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new o.k(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===g)return;const M=this._order.indexOf(c);this._order.splice(M,1);const L=g?this._order.indexOf(g):this._order.length;g&&L===-1?this.fire(new o.k(new Error(`Cannot move layer "${c}" before non-existing layer "${g}".`))):(this._order.splice(L,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const g=this._layers[c];if(!g)return void this.fire(new o.k(new Error(`Cannot remove non-existing layer "${c}".`)));g.setEventedParent(null);const M=this._order.indexOf(c);this._order.splice(M,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=g,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],g.onRemove&&g.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,g,M){this._checkLoaded();const L=this.getLayer(c);L?L.minzoom===g&&L.maxzoom===M||(g!=null&&(L.minzoom=g),M!=null&&(L.maxzoom=M),this._updateLayer(L)):this.fire(new o.k(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,g,M={}){this._checkLoaded();const L=this.getLayer(c);if(L){if(!o.bE(L.filter,g))return g==null?(L.filter=void 0,void this._updateLayer(L)):void(this._validate(o.y.filter,`layers.${L.id}.filter`,g,null,M)||(L.filter=o.bB(g),this._updateLayer(L)))}else this.fire(new o.k(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return o.bB(this.getLayer(c).filter)}setLayoutProperty(c,g,M,L={}){this._checkLoaded();const j=this.getLayer(c);j?o.bE(j.getLayoutProperty(g),M)||(j.setLayoutProperty(g,M,L),this._updateLayer(j)):this.fire(new o.k(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,g){const M=this.getLayer(c);if(M)return M.getLayoutProperty(g);this.fire(new o.k(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,g,M,L={}){this._checkLoaded();const j=this.getLayer(c);j?o.bE(j.getPaintProperty(g),M)||(j.setPaintProperty(g,M,L)&&this._updateLayer(j),this._changed=!0,this._updatedPaintProps[c]=!0,this._serializedLayers=null):this.fire(new o.k(new Error(`Cannot style non-existing layer "${c}".`)))}getPaintProperty(c,g){return this.getLayer(c).getPaintProperty(g)}setFeatureState(c,g){this._checkLoaded();const M=c.source,L=c.sourceLayer,j=this.sourceCaches[M];if(j===void 0)return void this.fire(new o.k(new Error(`The source '${M}' does not exist in the map's style.`)));const Y=j.getSource().type;Y==="geojson"&&L?this.fire(new o.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):Y!=="vector"||L?(c.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),j.setFeatureState(L,c.id,g)):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,g){this._checkLoaded();const M=c.source,L=this.sourceCaches[M];if(L===void 0)return void this.fire(new o.k(new Error(`The source '${M}' does not exist in the map's style.`)));const j=L.getSource().type,Y=j==="vector"?c.sourceLayer:void 0;j!=="vector"||Y?g&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new o.k(new Error("A feature id is required to remove its specific state property."))):L.removeFeatureState(Y,c.id,g):this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const g=c.source,M=c.sourceLayer,L=this.sourceCaches[g];if(L!==void 0)return L.getSource().type!=="vector"||M?(c.id===void 0&&this.fire(new o.k(new Error("The feature id parameter must be provided."))),L.getFeatureState(M,c.id)):void this.fire(new o.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.k(new Error(`The source '${g}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=o.bF(this.sourceCaches,j=>j.serialize()),g=this._serializeByIds(this._order,!0),M=this.map.getTerrain()||void 0,L=this.stylesheet;return o.bG({version:L.version,name:L.name,metadata:L.metadata,light:L.light,sky:L.sky,center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,sprite:L.sprite,glyphs:L.glyphs,transition:L.transition,projection:L.projection,sources:c,layers:g,terrain:M},j=>j!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.sourceCaches[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.sourceCaches[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const g=Y=>this._layers[Y].type==="fill-extrusion",M={},L=[];for(let Y=this._order.length-1;Y>=0;Y--){const te=this._order[Y];if(g(te)){M[te]=Y;for(const oe of c){const be=oe[te];if(be)for(const Ce of be)L.push(Ce)}}}L.sort((Y,te)=>te.intersectionZ-Y.intersectionZ);const j=[];for(let Y=this._order.length-1;Y>=0;Y--){const te=this._order[Y];if(g(te))for(let oe=L.length-1;oe>=0;oe--){const be=L[oe].feature;if(M[be.layer.id]<Y)break;j.push(be),L.pop()}else for(const oe of c){const be=oe[te];if(be)for(const Ce of be)j.push(Ce.feature)}}return j}queryRenderedFeatures(c,g,M){g&&g.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",g.filter,null,g);const L={};if(g&&g.layers){if(!(Array.isArray(g.layers)||g.layers instanceof Set))return this.fire(new o.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const be of g.layers){const Ce=this._layers[be];if(!Ce)return this.fire(new o.k(new Error(`The layer '${be}' does not exist in the map's style and cannot be queried for features.`))),[];L[Ce.source]=!0}}const j=[];g.availableImages=this._availableImages;const Y=this._serializedAllLayers(),te=g.layers instanceof Set?g.layers:Array.isArray(g.layers)?new Set(g.layers):null,oe=Object.assign(Object.assign({},g),{layers:te});for(const be in this.sourceCaches)g.layers&&!L[be]||j.push(Re(this.sourceCaches[be],this._layers,Y,c,oe,M,this.map.terrain?(Ce,Fe,De)=>this.map.terrain.getElevation(Ce,Fe,De):void 0));return this.placement&&j.push(function(be,Ce,Fe,De,We,nt,Pt){const Ct={},Rt=nt.queryRenderedSymbols(De),Bt=[];for(const Ht of Object.keys(Rt).map(Number))Bt.push(Pt[Ht]);Bt.sort(ft);for(const Ht of Bt){const $t=Ht.featureIndex.lookupSymbolFeatures(Rt[Ht.bucketInstanceId],Ce,Ht.bucketIndex,Ht.sourceLayerIndex,We.filter,We.layers,We.availableImages,be);for(const Wt in $t){const tr=Ct[Wt]=Ct[Wt]||[],nr=$t[Wt];nr.sort((kr,Qr)=>{const _r=Ht.featureSortOrder;if(_r){const $r=_r.indexOf(kr.featureIndex);return _r.indexOf(Qr.featureIndex)-$r}return Qr.featureIndex-kr.featureIndex});for(const kr of nr)tr.push(kr)}}return function(Ht,$t,Wt){for(const tr in Ht)for(const nr of Ht[tr])qe(nr,Wt[$t[tr].source]);return Ht}(Ct,be,Fe)}(this._layers,Y,this.sourceCaches,c,oe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(j)}querySourceFeatures(c,g){g&&g.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",g.filter,null,g);const M=this.sourceCaches[c];return M?function(L,j){const Y=L.getRenderableIds().map(be=>L.getTileByID(be)),te=[],oe={};for(let be=0;be<Y.length;be++){const Ce=Y[be],Fe=Ce.tileID.canonical.key;oe[Fe]||(oe[Fe]=!0,Ce.querySourceFeatures(te,j))}return te}(M,g):[]}getLight(){return this.light.getLight()}setLight(c,g={}){this._checkLoaded();const M=this.light.getLight();let L=!1;for(const Y in c)if(!o.bE(c[Y],M[Y])){L=!0;break}if(!L)return;const j={now:p.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,g),this.light.updateTransitions(j)}getProjection(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.projection}setProjection(c){if(this._checkLoaded(),this.projection){if(this.projection.name===c.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=c,this._setProjectionInternal(c.type)}getSky(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.sky}setSky(c,g={}){this._checkLoaded();const M=this.getSky();let L=!1;if(!c&&!M)return;if(c&&!M)L=!0;else if(!c&&M)L=!0;else for(const Y in c)if(!o.bE(c[Y],M[Y])){L=!0;break}if(!L)return;const j={now:p.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=c,this.sky.setSky(c,g),this.sky.updateTransitions(j)}_setProjectionInternal(c){const g=function(M){if(Array.isArray(M)){const L=new Ke({type:M});return{projection:L,transform:new ji,cameraHelper:new Bn(L)}}switch(M){case"mercator":return{projection:new Ou,transform:new nf,cameraHelper:new _t};case"globe":{const L=new Ke({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:L,transform:new ji,cameraHelper:new Bn(L)}}case"vertical-perspective":return{projection:new de,transform:new hi,cameraHelper:new ii};default:return o.w(`Unknown projection name: ${M}. Falling back to mercator projection.`),{projection:new Ou,transform:new nf,cameraHelper:new _t}}}(c);this.projection=g.projection,this.map.migrateProjection(g.transform,g.cameraHelper);for(const M in this.sourceCaches)this.sourceCaches[M].reload()}_validate(c,g,M,L,j={}){return(!j||j.validate!==!1)&&ni(this,c.call(o.y,o.e({key:g,style:this.serialize(),value:M,styleSpec:o.v},L)))}_remove(c=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Nr().off(fr,this._rtlPluginLoaded);for(const g in this._layers)this._layers[g].setEventedParent(null);for(const g in this.sourceCaches){const M=this.sourceCaches[g];M.setEventedParent(null),M.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),c&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(c)}_clearSource(c){this.sourceCaches[c].clearTiles()}_reloadSource(c){this.sourceCaches[c].resume(),this.sourceCaches[c].reload()}_updateSources(c){for(const g in this.sourceCaches)this.sourceCaches[g].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.sourceCaches)this._reloadSource(c)}_updatePlacement(c,g,M,L,j=!1){let Y=!1,te=!1;const oe={};for(const be of this._order){const Ce=this._layers[be];if(Ce.type!=="symbol")continue;if(!oe[Ce.source]){const De=this.sourceCaches[Ce.source];oe[Ce.source]=De.getRenderableIds(!0).map(We=>De.getTileByID(We)).sort((We,nt)=>nt.tileID.overscaledZ-We.tileID.overscaledZ||(We.tileID.isLessThan(nt.tileID)?-1:1))}const Fe=this.crossTileSymbolIndex.addLayer(Ce,oe[Ce.source],c.center.lng);Y=Y||Fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((j=j||this._layerOrderChanged||M===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(p.now(),c.zoom))&&(this.pauseablePlacement=new Gl(c,this.map.terrain,this._order,j,g,M,L,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(p.now()),te=!0),Y&&this.pauseablePlacement.placement.setStale()),te||Y)for(const be of this._order){const Ce=this._layers[be];Ce.type==="symbol"&&this.placement.updateLayerOpacities(Ce,oe[Ce.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(p.now())}_releaseSymbolFadeTiles(){for(const c in this.sourceCaches)this.sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,g){return o._(this,void 0,void 0,function*(){const M=yield this.imageManager.getImages(g.icons);this._updateTilesForChangedImages();const L=this.sourceCaches[g.source];return L&&L.setDependencies(g.tileID.key,g.type,g.icons),M})}getGlyphs(c,g){return o._(this,void 0,void 0,function*(){const M=yield this.glyphManager.getGlyphs(g.stacks),L=this.sourceCaches[g.source];return L&&L.setDependencies(g.tileID.key,g.type,[""]),M})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,g={}){this._checkLoaded(),c&&this._validate(o.y.glyphs,"glyphs",c,null,g)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}addSprite(c,g,M={},L){this._checkLoaded();const j=[{id:c,url:g}],Y=[..._(this.stylesheet.sprite),...j];this._validate(o.y.sprite,"sprite",Y,null,M)||(this.stylesheet.sprite=Y,this._loadSprite(j,!0,L))}removeSprite(c){this._checkLoaded();const g=_(this.stylesheet.sprite);if(g.find(M=>M.id===c)){if(this._spritesImagesIds[c])for(const M of this._spritesImagesIds[c])this.imageManager.removeImage(M),this._changedImages[M]=!0;g.splice(g.findIndex(M=>M.id===c),1),this.stylesheet.sprite=g.length>0?g:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new o.l("data",{dataType:"style"}))}else this.fire(new o.k(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return _(this.stylesheet.sprite)}setSprite(c,g={},M){this._checkLoaded(),c&&this._validate(o.y.sprite,"sprite",c,null,g)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,M):(this._unloadSprite(),M&&M(null)))}}var _a=o.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ai{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,g,M,L,j,Y,te,oe,be){this.context=c;let Ce=this.boundPaintVertexBuffers.length!==L.length;for(let Fe=0;!Ce&&Fe<L.length;Fe++)this.boundPaintVertexBuffers[Fe]!==L[Fe]&&(Ce=!0);!this.vao||this.boundProgram!==g||this.boundLayoutVertexBuffer!==M||Ce||this.boundIndexBuffer!==j||this.boundVertexOffset!==Y||this.boundDynamicVertexBuffer!==te||this.boundDynamicVertexBuffer2!==oe||this.boundDynamicVertexBuffer3!==be?this.freshBind(g,M,L,j,Y,te,oe,be):(c.bindVertexArray.set(this.vao),te&&te.bind(),j&&j.dynamicDraw&&j.bind(),oe&&oe.bind(),be&&be.bind())}freshBind(c,g,M,L,j,Y,te,oe){const be=c.numAttributes,Ce=this.context,Fe=Ce.gl;this.vao&&this.destroy(),this.vao=Ce.createVertexArray(),Ce.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=g,this.boundPaintVertexBuffers=M,this.boundIndexBuffer=L,this.boundVertexOffset=j,this.boundDynamicVertexBuffer=Y,this.boundDynamicVertexBuffer2=te,this.boundDynamicVertexBuffer3=oe,g.enableAttributes(Fe,c);for(const De of M)De.enableAttributes(Fe,c);Y&&Y.enableAttributes(Fe,c),te&&te.enableAttributes(Fe,c),oe&&oe.enableAttributes(Fe,c),g.bind(),g.setVertexAttribPointers(Fe,c,j);for(const De of M)De.bind(),De.setVertexAttribPointers(Fe,c,j);Y&&(Y.bind(),Y.setVertexAttribPointers(Fe,c,j)),L&&L.bind(),te&&(te.bind(),te.setVertexAttribPointers(Fe,c,j)),oe&&(oe.bind(),oe.setVertexAttribPointers(Fe,c,j)),Ce.currentNumAttributes=be}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Zi=(B,c,g,M,L)=>({u_texture:0,u_ele_delta:B,u_fog_matrix:c,u_fog_color:g?g.properties.get("fog-color"):o.b7.white,u_fog_ground_blend:g?g.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:L?0:g?g.calculateFogBlendOpacity(M):0,u_horizon_color:g?g.properties.get("horizon-color"):o.b7.white,u_horizon_fog_blend:g?g.properties.get("horizon-fog-blend"):1,u_is_globe_mode:L?1:0}),ma={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Hi(B){const c=[];for(let g=0;g<B.length;g++){if(B[g]===null)continue;const M=B[g].split(" ");c.push(M.pop())}return c}class Pa{constructor(c,g,M,L,j,Y,te,oe,be=[]){const Ce=c.gl;this.program=Ce.createProgram();const Fe=Hi(g.staticAttributes),De=M?M.getBinderAttributes():[],We=Fe.concat(De),nt=Co.prelude.staticUniforms?Hi(Co.prelude.staticUniforms):[],Pt=te.staticUniforms?Hi(te.staticUniforms):[],Ct=g.staticUniforms?Hi(g.staticUniforms):[],Rt=M?M.getBinderUniforms():[],Bt=nt.concat(Pt).concat(Ct).concat(Rt),Ht=[];for(const _r of Bt)Ht.indexOf(_r)<0&&Ht.push(_r);const $t=M?M.defines():[];Sn(Ce)&&$t.unshift("#version 300 es"),j&&$t.push("#define OVERDRAW_INSPECTOR;"),Y&&$t.push("#define TERRAIN3D;"),oe&&$t.push(oe),be&&$t.push(...be);let Wt=$t.concat(Co.prelude.fragmentSource,te.fragmentSource,g.fragmentSource).join(`
`),tr=$t.concat(Co.prelude.vertexSource,te.vertexSource,g.vertexSource).join(`
`);Sn(Ce)||(Wt=function(_r){return _r.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Wt),tr=function(_r){return _r.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(tr));const nr=Ce.createShader(Ce.FRAGMENT_SHADER);if(Ce.isContextLost())return void(this.failedToCreate=!0);if(Ce.shaderSource(nr,Wt),Ce.compileShader(nr),!Ce.getShaderParameter(nr,Ce.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${Ce.getShaderInfoLog(nr)}`);Ce.attachShader(this.program,nr);const kr=Ce.createShader(Ce.VERTEX_SHADER);if(Ce.isContextLost())return void(this.failedToCreate=!0);if(Ce.shaderSource(kr,tr),Ce.compileShader(kr),!Ce.getShaderParameter(kr,Ce.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${Ce.getShaderInfoLog(kr)}`);Ce.attachShader(this.program,kr),this.attributes={};const Qr={};this.numAttributes=We.length;for(let _r=0;_r<this.numAttributes;_r++)We[_r]&&(Ce.bindAttribLocation(this.program,_r,We[_r]),this.attributes[We[_r]]=_r);if(Ce.linkProgram(this.program),!Ce.getProgramParameter(this.program,Ce.LINK_STATUS))throw new Error(`Program failed to link: ${Ce.getProgramInfoLog(this.program)}`);Ce.deleteShader(kr),Ce.deleteShader(nr);for(let _r=0;_r<Ht.length;_r++){const $r=Ht[_r];if($r&&!Qr[$r]){const Jr=Ce.getUniformLocation(this.program,$r);Jr&&(Qr[$r]=Jr)}}this.fixedUniforms=L(c,Qr),this.terrainUniforms=((_r,$r)=>({u_depth:new o.bH(_r,$r.u_depth),u_terrain:new o.bH(_r,$r.u_terrain),u_terrain_dim:new o.b8(_r,$r.u_terrain_dim),u_terrain_matrix:new o.bJ(_r,$r.u_terrain_matrix),u_terrain_unpack:new o.bK(_r,$r.u_terrain_unpack),u_terrain_exaggeration:new o.b8(_r,$r.u_terrain_exaggeration)}))(c,Qr),this.projectionUniforms=((_r,$r)=>({u_projection_matrix:new o.bJ(_r,$r.u_projection_matrix),u_projection_tile_mercator_coords:new o.bK(_r,$r.u_projection_tile_mercator_coords),u_projection_clipping_plane:new o.bK(_r,$r.u_projection_clipping_plane),u_projection_transition:new o.b8(_r,$r.u_projection_transition),u_projection_fallback_matrix:new o.bJ(_r,$r.u_projection_fallback_matrix)}))(c,Qr),this.binderUniforms=M?M.getUniforms(c,Qr):[]}draw(c,g,M,L,j,Y,te,oe,be,Ce,Fe,De,We,nt,Pt,Ct,Rt,Bt,Ht){const $t=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(M),c.setStencilMode(L),c.setColorMode(j),c.setCullFace(Y),oe){c.activeTexture.set($t.TEXTURE2),$t.bindTexture($t.TEXTURE_2D,oe.depthTexture),c.activeTexture.set($t.TEXTURE3),$t.bindTexture($t.TEXTURE_2D,oe.texture);for(const tr in this.terrainUniforms)this.terrainUniforms[tr].set(oe[tr])}if(be)for(const tr in be)this.projectionUniforms[ma[tr]].set(be[tr]);if(te)for(const tr in this.fixedUniforms)this.fixedUniforms[tr].set(te[tr]);Ct&&Ct.setUniforms(c,this.binderUniforms,nt,{zoom:Pt});let Wt=0;switch(g){case $t.LINES:Wt=2;break;case $t.TRIANGLES:Wt=3;break;case $t.LINE_STRIP:Wt=1}for(const tr of We.get()){const nr=tr.vaos||(tr.vaos={});(nr[Ce]||(nr[Ce]=new Ai)).bind(c,this,Fe,Ct?Ct.getPaintVertexBuffers():[],De,tr.vertexOffset,Rt,Bt,Ht),$t.drawElements(g,tr.primitiveLength*Wt,$t.UNSIGNED_SHORT,tr.primitiveOffset*Wt*2)}}}function ha(B,c,g){const M=1/o.az(g,1,c.transform.tileZoom),L=Math.pow(2,g.tileID.overscaledZ),j=g.tileSize*Math.pow(2,c.transform.tileZoom)/L,Y=j*(g.tileID.canonical.x+g.tileID.wrap*L),te=j*g.tileID.canonical.y;return{u_image:0,u_texsize:g.imageAtlasTexture.size,u_scale:[M,B.fromScale,B.toScale],u_fade:B.t,u_pixel_coord_upper:[Y>>16,te>>16],u_pixel_coord_lower:[65535&Y,65535&te]}}const ka=(B,c,g,M)=>{const L=B.style.light,j=L.properties.get("position"),Y=[j.x,j.y,j.z],te=o.bN();L.properties.get("anchor")==="viewport"&&o.bO(te,B.transform.bearingInRadians),o.bP(Y,Y,te);const oe=B.transform.transformLightDirection(Y),be=L.properties.get("color");return{u_lightpos:Y,u_lightpos_globe:oe,u_lightintensity:L.properties.get("intensity"),u_lightcolor:[be.r,be.g,be.b],u_vertical_gradient:+c,u_opacity:g,u_fill_translate:M}},pi=(B,c,g,M,L,j,Y)=>o.e(ka(B,c,g,M),ha(j,B,Y),{u_height_factor:-Math.pow(2,L.overscaledZ)/Y.tileSize/8}),Ta=(B,c,g,M)=>o.e(ha(c,B,g),{u_fill_translate:M}),Jo=(B,c)=>({u_world:B,u_fill_translate:c}),gs=(B,c,g,M,L)=>o.e(Ta(B,c,g,L),{u_world:M}),Ii=(B,c,g,M,L)=>{const j=B.transform;let Y,te,oe=0;if(g.paint.get("circle-pitch-alignment")==="map"){const be=o.az(c,1,j.zoom);Y=!0,te=[be,be],oe=be/(o.Z*Math.pow(2,c.tileID.overscaledZ))*2*Math.PI*L}else Y=!1,te=j.pixelsToGLUnits;return{u_camera_to_center_distance:j.cameraToCenterDistance,u_scale_with_map:+(g.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+Y,u_device_pixel_ratio:B.pixelRatio,u_extrude_scale:te,u_globe_extrude_scale:oe,u_translate:M}},Qo=B=>({u_pixel_extrude_scale:[1/B.width,1/B.height]}),vs=B=>({u_viewport_size:[B.width,B.height]}),qs=(B,c=1)=>({u_color:B,u_overlay:0,u_overlay_scale:c}),Uo=(B,c,g,M)=>{const L=o.az(B,1,c)/(o.Z*Math.pow(2,B.tileID.overscaledZ))*2*Math.PI*M;return{u_extrude_scale:o.az(B,1,c),u_intensity:g,u_globe_extrude_scale:L}},qc=(B,c,g,M)=>{const L=o.K();o.bQ(L,0,B.width,B.height,0,0,1);const j=B.context.gl;return{u_matrix:L,u_world:[j.drawingBufferWidth,j.drawingBufferHeight],u_image:g,u_color_ramp:M,u_opacity:c.paint.get("heatmap-opacity")}},ec=(B,c,g)=>{const M=g.paint.get("hillshade-accent-color");let L;switch(g.paint.get("hillshade-method")){case"basic":L=4;break;case"combined":L=1;break;case"igor":L=2;break;case"multidirectional":L=3;break;default:L=0}const j=g.getIlluminationProperties();for(let Y=0;Y<j.directionRadians.length;Y++)g.paint.get("hillshade-illumination-anchor")==="viewport"&&(j.directionRadians[Y]+=B.transform.bearingInRadians);return{u_image:0,u_latrange:xc(0,c.tileID),u_exaggeration:g.paint.get("hillshade-exaggeration"),u_altitudes:j.altitudeRadians,u_azimuths:j.directionRadians,u_accent:M,u_method:L,u_highlights:j.highlightColor,u_shadows:j.shadowColor}},Kl=(B,c)=>{const g=c.stride,M=o.K();return o.bQ(M,0,o.Z,-8192,0,0,1),o.L(M,M,[0,-8192,0]),{u_matrix:M,u_image:1,u_dimension:[g,g],u_zoom:B.overscaledZ,u_unpack:c.getUnpackVector()}};function xc(B,c){const g=Math.pow(2,c.canonical.z),M=c.canonical.y;return[new o.$(0,M/g).toLngLat().lat,new o.$(0,(M+1)/g).toLngLat().lat]}const el=(B,c,g,M)=>{const L=B.transform;return{u_translation:tc(B,c,g),u_ratio:M/o.az(c,1,L.zoom),u_device_pixel_ratio:B.pixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},af=(B,c,g,M,L)=>o.e(el(B,c,g,M),{u_image:0,u_image_height:L}),nh=(B,c,g,M,L)=>{const j=B.transform,Y=Sf(c,j);return{u_translation:tc(B,c,g),u_texsize:c.imageAtlasTexture.size,u_ratio:M/o.az(c,1,j.zoom),u_device_pixel_ratio:B.pixelRatio,u_image:0,u_scale:[Y,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/j.pixelsToGLUnits[0],1/j.pixelsToGLUnits[1]]}},Gh=(B,c,g,M,L,j)=>{const Y=B.lineAtlas,te=Sf(c,B.transform),oe=g.layout.get("line-cap")==="round",be=Y.getDash(L.from,oe),Ce=Y.getDash(L.to,oe),Fe=be.width*j.fromScale,De=Ce.width*j.toScale;return o.e(el(B,c,g,M),{u_patternscale_a:[te/Fe,-be.height/2],u_patternscale_b:[te/De,-Ce.height/2],u_sdfgamma:Y.width/(256*Math.min(Fe,De)*B.pixelRatio)/2,u_image:0,u_tex_y_a:be.y,u_tex_y_b:Ce.y,u_mix:j.t})};function Sf(B,c){return 1/o.az(B,1,c.tileZoom)}function tc(B,c,g){return o.aA(B.transform,c,g.paint.get("line-translate"),g.paint.get("line-translate-anchor"))}const Kh=(B,c,g,M,L)=>{return{u_tl_parent:B,u_scale_parent:c,u_buffer_scale:1,u_fade_t:g.mix,u_opacity:g.opacity*M.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:M.paint.get("raster-brightness-min"),u_brightness_high:M.paint.get("raster-brightness-max"),u_saturation_factor:(Y=M.paint.get("raster-saturation"),Y>0?1-1/(1.001-Y):-Y),u_contrast_factor:(j=M.paint.get("raster-contrast"),j>0?1/(1-j):1+j),u_spin_weights:Ef(M.paint.get("raster-hue-rotate")),u_coords_top:[L[0].x,L[0].y,L[1].x,L[1].y],u_coords_bottom:[L[3].x,L[3].y,L[2].x,L[2].y]};var j,Y};function Ef(B){B*=Math.PI/180;const c=Math.sin(B),g=Math.cos(B);return[(2*g+1)/3,(-Math.sqrt(3)*c-g+1)/3,(Math.sqrt(3)*c-g+1)/3]}const Sc=(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,De)=>{const We=Y.transform;return{u_is_size_zoom_constant:+(B==="constant"||B==="source"),u_is_size_feature_constant:+(B==="constant"||B==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:We.cameraToCenterDistance,u_pitch:We.pitch/360*2*Math.PI,u_rotate_symbol:+g,u_aspect_ratio:We.width/We.height,u_fade_change:Y.options.fadeDuration?Y.symbolFadeChange:1,u_label_plane_matrix:te,u_coord_matrix:oe,u_is_text:+Ce,u_pitch_with_map:+M,u_is_along_line:L,u_is_variable_anchor:j,u_texsize:Fe,u_texture:0,u_translation:be,u_pitched_scale:De}},Pp=(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,De,We)=>{const nt=Y.transform;return o.e(Sc(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,We),{u_gamma_scale:M?Math.cos(nt.pitch*Math.PI/180)*nt.cameraToCenterDistance:1,u_device_pixel_ratio:Y.pixelRatio,u_is_halo:1})},Il=(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,De)=>o.e(Pp(B,c,g,M,L,j,Y,te,oe,be,!0,Ce,0,De),{u_texsize_icon:Fe,u_texture_icon:1}),Iu=(B,c)=>({u_opacity:B,u_color:c}),Tp=(B,c,g,M,L)=>o.e(function(j,Y,te,oe){const be=te.imageManager.getPattern(j.from.toString()),Ce=te.imageManager.getPattern(j.to.toString()),{width:Fe,height:De}=te.imageManager.getPixelSize(),We=Math.pow(2,oe.tileID.overscaledZ),nt=oe.tileSize*Math.pow(2,te.transform.tileZoom)/We,Pt=nt*(oe.tileID.canonical.x+oe.tileID.wrap*We),Ct=nt*oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:be.tl,u_pattern_br_a:be.br,u_pattern_tl_b:Ce.tl,u_pattern_br_b:Ce.br,u_texsize:[Fe,De],u_mix:Y.t,u_pattern_size_a:be.displaySize,u_pattern_size_b:Ce.displaySize,u_scale_a:Y.fromScale,u_scale_b:Y.toScale,u_tile_units_to_pixels:1/o.az(oe,1,te.transform.tileZoom),u_pixel_coord_upper:[Pt>>16,Ct>>16],u_pixel_coord_lower:[65535&Pt,65535&Ct]}}(g,L,c,M),{u_opacity:B}),vl=(B,c)=>{},To={fillExtrusion:(B,c)=>({u_lightpos:new o.bL(B,c.u_lightpos),u_lightpos_globe:new o.bL(B,c.u_lightpos_globe),u_lightintensity:new o.b8(B,c.u_lightintensity),u_lightcolor:new o.bL(B,c.u_lightcolor),u_vertical_gradient:new o.b8(B,c.u_vertical_gradient),u_opacity:new o.b8(B,c.u_opacity),u_fill_translate:new o.bM(B,c.u_fill_translate)}),fillExtrusionPattern:(B,c)=>({u_lightpos:new o.bL(B,c.u_lightpos),u_lightpos_globe:new o.bL(B,c.u_lightpos_globe),u_lightintensity:new o.b8(B,c.u_lightintensity),u_lightcolor:new o.bL(B,c.u_lightcolor),u_vertical_gradient:new o.b8(B,c.u_vertical_gradient),u_height_factor:new o.b8(B,c.u_height_factor),u_opacity:new o.b8(B,c.u_opacity),u_fill_translate:new o.bM(B,c.u_fill_translate),u_image:new o.bH(B,c.u_image),u_texsize:new o.bM(B,c.u_texsize),u_pixel_coord_upper:new o.bM(B,c.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(B,c.u_pixel_coord_lower),u_scale:new o.bL(B,c.u_scale),u_fade:new o.b8(B,c.u_fade)}),fill:(B,c)=>({u_fill_translate:new o.bM(B,c.u_fill_translate)}),fillPattern:(B,c)=>({u_image:new o.bH(B,c.u_image),u_texsize:new o.bM(B,c.u_texsize),u_pixel_coord_upper:new o.bM(B,c.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(B,c.u_pixel_coord_lower),u_scale:new o.bL(B,c.u_scale),u_fade:new o.b8(B,c.u_fade),u_fill_translate:new o.bM(B,c.u_fill_translate)}),fillOutline:(B,c)=>({u_world:new o.bM(B,c.u_world),u_fill_translate:new o.bM(B,c.u_fill_translate)}),fillOutlinePattern:(B,c)=>({u_world:new o.bM(B,c.u_world),u_image:new o.bH(B,c.u_image),u_texsize:new o.bM(B,c.u_texsize),u_pixel_coord_upper:new o.bM(B,c.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(B,c.u_pixel_coord_lower),u_scale:new o.bL(B,c.u_scale),u_fade:new o.b8(B,c.u_fade),u_fill_translate:new o.bM(B,c.u_fill_translate)}),circle:(B,c)=>({u_camera_to_center_distance:new o.b8(B,c.u_camera_to_center_distance),u_scale_with_map:new o.bH(B,c.u_scale_with_map),u_pitch_with_map:new o.bH(B,c.u_pitch_with_map),u_extrude_scale:new o.bM(B,c.u_extrude_scale),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_globe_extrude_scale:new o.b8(B,c.u_globe_extrude_scale),u_translate:new o.bM(B,c.u_translate)}),collisionBox:(B,c)=>({u_pixel_extrude_scale:new o.bM(B,c.u_pixel_extrude_scale)}),collisionCircle:(B,c)=>({u_viewport_size:new o.bM(B,c.u_viewport_size)}),debug:(B,c)=>({u_color:new o.bI(B,c.u_color),u_overlay:new o.bH(B,c.u_overlay),u_overlay_scale:new o.b8(B,c.u_overlay_scale)}),depth:vl,clippingMask:vl,heatmap:(B,c)=>({u_extrude_scale:new o.b8(B,c.u_extrude_scale),u_intensity:new o.b8(B,c.u_intensity),u_globe_extrude_scale:new o.b8(B,c.u_globe_extrude_scale)}),heatmapTexture:(B,c)=>({u_matrix:new o.bJ(B,c.u_matrix),u_world:new o.bM(B,c.u_world),u_image:new o.bH(B,c.u_image),u_color_ramp:new o.bH(B,c.u_color_ramp),u_opacity:new o.b8(B,c.u_opacity)}),hillshade:(B,c)=>({u_image:new o.bH(B,c.u_image),u_latrange:new o.bM(B,c.u_latrange),u_exaggeration:new o.b8(B,c.u_exaggeration),u_altitudes:new o.bS(B,c.u_altitudes),u_azimuths:new o.bS(B,c.u_azimuths),u_accent:new o.bI(B,c.u_accent),u_method:new o.bH(B,c.u_method),u_shadows:new o.bR(B,c.u_shadows),u_highlights:new o.bR(B,c.u_highlights)}),hillshadePrepare:(B,c)=>({u_matrix:new o.bJ(B,c.u_matrix),u_image:new o.bH(B,c.u_image),u_dimension:new o.bM(B,c.u_dimension),u_zoom:new o.b8(B,c.u_zoom),u_unpack:new o.bK(B,c.u_unpack)}),line:(B,c)=>({u_translation:new o.bM(B,c.u_translation),u_ratio:new o.b8(B,c.u_ratio),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_units_to_pixels:new o.bM(B,c.u_units_to_pixels)}),lineGradient:(B,c)=>({u_translation:new o.bM(B,c.u_translation),u_ratio:new o.b8(B,c.u_ratio),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_units_to_pixels:new o.bM(B,c.u_units_to_pixels),u_image:new o.bH(B,c.u_image),u_image_height:new o.b8(B,c.u_image_height)}),linePattern:(B,c)=>({u_translation:new o.bM(B,c.u_translation),u_texsize:new o.bM(B,c.u_texsize),u_ratio:new o.b8(B,c.u_ratio),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_image:new o.bH(B,c.u_image),u_units_to_pixels:new o.bM(B,c.u_units_to_pixels),u_scale:new o.bL(B,c.u_scale),u_fade:new o.b8(B,c.u_fade)}),lineSDF:(B,c)=>({u_translation:new o.bM(B,c.u_translation),u_ratio:new o.b8(B,c.u_ratio),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_units_to_pixels:new o.bM(B,c.u_units_to_pixels),u_patternscale_a:new o.bM(B,c.u_patternscale_a),u_patternscale_b:new o.bM(B,c.u_patternscale_b),u_sdfgamma:new o.b8(B,c.u_sdfgamma),u_image:new o.bH(B,c.u_image),u_tex_y_a:new o.b8(B,c.u_tex_y_a),u_tex_y_b:new o.b8(B,c.u_tex_y_b),u_mix:new o.b8(B,c.u_mix)}),raster:(B,c)=>({u_tl_parent:new o.bM(B,c.u_tl_parent),u_scale_parent:new o.b8(B,c.u_scale_parent),u_buffer_scale:new o.b8(B,c.u_buffer_scale),u_fade_t:new o.b8(B,c.u_fade_t),u_opacity:new o.b8(B,c.u_opacity),u_image0:new o.bH(B,c.u_image0),u_image1:new o.bH(B,c.u_image1),u_brightness_low:new o.b8(B,c.u_brightness_low),u_brightness_high:new o.b8(B,c.u_brightness_high),u_saturation_factor:new o.b8(B,c.u_saturation_factor),u_contrast_factor:new o.b8(B,c.u_contrast_factor),u_spin_weights:new o.bL(B,c.u_spin_weights),u_coords_top:new o.bK(B,c.u_coords_top),u_coords_bottom:new o.bK(B,c.u_coords_bottom)}),symbolIcon:(B,c)=>({u_is_size_zoom_constant:new o.bH(B,c.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(B,c.u_is_size_feature_constant),u_size_t:new o.b8(B,c.u_size_t),u_size:new o.b8(B,c.u_size),u_camera_to_center_distance:new o.b8(B,c.u_camera_to_center_distance),u_pitch:new o.b8(B,c.u_pitch),u_rotate_symbol:new o.bH(B,c.u_rotate_symbol),u_aspect_ratio:new o.b8(B,c.u_aspect_ratio),u_fade_change:new o.b8(B,c.u_fade_change),u_label_plane_matrix:new o.bJ(B,c.u_label_plane_matrix),u_coord_matrix:new o.bJ(B,c.u_coord_matrix),u_is_text:new o.bH(B,c.u_is_text),u_pitch_with_map:new o.bH(B,c.u_pitch_with_map),u_is_along_line:new o.bH(B,c.u_is_along_line),u_is_variable_anchor:new o.bH(B,c.u_is_variable_anchor),u_texsize:new o.bM(B,c.u_texsize),u_texture:new o.bH(B,c.u_texture),u_translation:new o.bM(B,c.u_translation),u_pitched_scale:new o.b8(B,c.u_pitched_scale)}),symbolSDF:(B,c)=>({u_is_size_zoom_constant:new o.bH(B,c.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(B,c.u_is_size_feature_constant),u_size_t:new o.b8(B,c.u_size_t),u_size:new o.b8(B,c.u_size),u_camera_to_center_distance:new o.b8(B,c.u_camera_to_center_distance),u_pitch:new o.b8(B,c.u_pitch),u_rotate_symbol:new o.bH(B,c.u_rotate_symbol),u_aspect_ratio:new o.b8(B,c.u_aspect_ratio),u_fade_change:new o.b8(B,c.u_fade_change),u_label_plane_matrix:new o.bJ(B,c.u_label_plane_matrix),u_coord_matrix:new o.bJ(B,c.u_coord_matrix),u_is_text:new o.bH(B,c.u_is_text),u_pitch_with_map:new o.bH(B,c.u_pitch_with_map),u_is_along_line:new o.bH(B,c.u_is_along_line),u_is_variable_anchor:new o.bH(B,c.u_is_variable_anchor),u_texsize:new o.bM(B,c.u_texsize),u_texture:new o.bH(B,c.u_texture),u_gamma_scale:new o.b8(B,c.u_gamma_scale),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_is_halo:new o.bH(B,c.u_is_halo),u_translation:new o.bM(B,c.u_translation),u_pitched_scale:new o.b8(B,c.u_pitched_scale)}),symbolTextAndIcon:(B,c)=>({u_is_size_zoom_constant:new o.bH(B,c.u_is_size_zoom_constant),u_is_size_feature_constant:new o.bH(B,c.u_is_size_feature_constant),u_size_t:new o.b8(B,c.u_size_t),u_size:new o.b8(B,c.u_size),u_camera_to_center_distance:new o.b8(B,c.u_camera_to_center_distance),u_pitch:new o.b8(B,c.u_pitch),u_rotate_symbol:new o.bH(B,c.u_rotate_symbol),u_aspect_ratio:new o.b8(B,c.u_aspect_ratio),u_fade_change:new o.b8(B,c.u_fade_change),u_label_plane_matrix:new o.bJ(B,c.u_label_plane_matrix),u_coord_matrix:new o.bJ(B,c.u_coord_matrix),u_is_text:new o.bH(B,c.u_is_text),u_pitch_with_map:new o.bH(B,c.u_pitch_with_map),u_is_along_line:new o.bH(B,c.u_is_along_line),u_is_variable_anchor:new o.bH(B,c.u_is_variable_anchor),u_texsize:new o.bM(B,c.u_texsize),u_texsize_icon:new o.bM(B,c.u_texsize_icon),u_texture:new o.bH(B,c.u_texture),u_texture_icon:new o.bH(B,c.u_texture_icon),u_gamma_scale:new o.b8(B,c.u_gamma_scale),u_device_pixel_ratio:new o.b8(B,c.u_device_pixel_ratio),u_is_halo:new o.bH(B,c.u_is_halo),u_translation:new o.bM(B,c.u_translation),u_pitched_scale:new o.b8(B,c.u_pitched_scale)}),background:(B,c)=>({u_opacity:new o.b8(B,c.u_opacity),u_color:new o.bI(B,c.u_color)}),backgroundPattern:(B,c)=>({u_opacity:new o.b8(B,c.u_opacity),u_image:new o.bH(B,c.u_image),u_pattern_tl_a:new o.bM(B,c.u_pattern_tl_a),u_pattern_br_a:new o.bM(B,c.u_pattern_br_a),u_pattern_tl_b:new o.bM(B,c.u_pattern_tl_b),u_pattern_br_b:new o.bM(B,c.u_pattern_br_b),u_texsize:new o.bM(B,c.u_texsize),u_mix:new o.b8(B,c.u_mix),u_pattern_size_a:new o.bM(B,c.u_pattern_size_a),u_pattern_size_b:new o.bM(B,c.u_pattern_size_b),u_scale_a:new o.b8(B,c.u_scale_a),u_scale_b:new o.b8(B,c.u_scale_b),u_pixel_coord_upper:new o.bM(B,c.u_pixel_coord_upper),u_pixel_coord_lower:new o.bM(B,c.u_pixel_coord_lower),u_tile_units_to_pixels:new o.b8(B,c.u_tile_units_to_pixels)}),terrain:(B,c)=>({u_texture:new o.bH(B,c.u_texture),u_ele_delta:new o.b8(B,c.u_ele_delta),u_fog_matrix:new o.bJ(B,c.u_fog_matrix),u_fog_color:new o.bI(B,c.u_fog_color),u_fog_ground_blend:new o.b8(B,c.u_fog_ground_blend),u_fog_ground_blend_opacity:new o.b8(B,c.u_fog_ground_blend_opacity),u_horizon_color:new o.bI(B,c.u_horizon_color),u_horizon_fog_blend:new o.b8(B,c.u_horizon_fog_blend),u_is_globe_mode:new o.b8(B,c.u_is_globe_mode)}),terrainDepth:(B,c)=>({u_ele_delta:new o.b8(B,c.u_ele_delta)}),terrainCoords:(B,c)=>({u_texture:new o.bH(B,c.u_texture),u_terrain_coords_id:new o.b8(B,c.u_terrain_coords_id),u_ele_delta:new o.b8(B,c.u_ele_delta)}),projectionErrorMeasurement:(B,c)=>({u_input:new o.b8(B,c.u_input),u_output_expected:new o.b8(B,c.u_output_expected)}),atmosphere:(B,c)=>({u_sun_pos:new o.bL(B,c.u_sun_pos),u_atmosphere_blend:new o.b8(B,c.u_atmosphere_blend),u_globe_position:new o.bL(B,c.u_globe_position),u_globe_radius:new o.b8(B,c.u_globe_radius),u_inv_proj_matrix:new o.bJ(B,c.u_inv_proj_matrix)}),sky:(B,c)=>({u_sky_color:new o.bI(B,c.u_sky_color),u_horizon_color:new o.bI(B,c.u_horizon_color),u_horizon:new o.bM(B,c.u_horizon),u_horizon_normal:new o.bM(B,c.u_horizon_normal),u_sky_horizon_blend:new o.b8(B,c.u_sky_horizon_blend),u_sky_blend:new o.b8(B,c.u_sky_blend)})};class Rp{constructor(c,g,M){this.context=c;const L=c.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!M,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete g.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const g=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),g.bufferSubData(g.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Hc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class wm{constructor(c,g,M,L){this.length=g.length,this.attributes=M,this.itemSize=g.bytesPerElement,this.dynamicDraw=L,this.context=c;const j=c.gl;this.buffer=j.createBuffer(),c.bindVertexBuffer.set(this.buffer),j.bufferData(j.ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?j.DYNAMIC_DRAW:j.STATIC_DRAW),this.dynamicDraw||delete g.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const g=this.context.gl;this.bind(),g.bufferSubData(g.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,g){for(let M=0;M<this.attributes.length;M++){const L=g.attributes[this.attributes[M].name];L!==void 0&&c.enableVertexAttribArray(L)}}setVertexAttribPointers(c,g,M){for(let L=0;L<this.attributes.length;L++){const j=this.attributes[L],Y=g.attributes[j.name];Y!==void 0&&c.vertexAttribPointer(Y,j.components,c[Hc[j.type]],!1,this.itemSize,j.offset+this.itemSize*(M||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class la{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Hn extends la{getDefault(){return o.b7.transparent}set(c){const g=this.current;(c.r!==g.r||c.g!==g.g||c.b!==g.b||c.a!==g.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Wc extends la{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class ih extends la{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ah extends la{getDefault(){return[!0,!0,!0,!0]}set(c){const g=this.current;(c[0]!==g[0]||c[1]!==g[1]||c[2]!==g[2]||c[3]!==g[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class fg extends la{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class dg extends la{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class oh extends la{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const g=this.current;(c.func!==g.func||c.ref!==g.ref||c.mask!==g.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Id extends la{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const g=this.current;(c[0]!==g[0]||c[1]!==g[1]||c[2]!==g[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Cr extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;c?g.enable(g.STENCIL_TEST):g.disable(g.STENCIL_TEST),this.current=c,this.dirty=!1}}class dn extends la{getDefault(){return[0,1]}set(c){const g=this.current;(c[0]!==g[0]||c[1]!==g[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Zr extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;c?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST),this.current=c,this.dirty=!1}}class li extends la{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class ua extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;c?g.enable(g.BLEND):g.disable(g.BLEND),this.current=c,this.dirty=!1}}class fo extends la{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const g=this.current;(c[0]!==g[0]||c[1]!==g[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class As extends la{getDefault(){return o.b7.transparent}set(c){const g=this.current;(c.r!==g.r||c.g!==g.g||c.b!==g.b||c.a!==g.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class yo extends la{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Ui extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;c?g.enable(g.CULL_FACE):g.disable(g.CULL_FACE),this.current=c,this.dirty=!1}}class yl extends la{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class Mu extends la{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class ku extends la{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class sh extends la{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Du extends la{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const g=this.current;(c[0]!==g[0]||c[1]!==g[1]||c[2]!==g[2]||c[3]!==g[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Ml extends la{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class lh extends la{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.bindRenderbuffer(g.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Za extends la{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.bindTexture(g.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Md extends la{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.bindBuffer(g.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Cf extends la{getDefault(){return null}set(c){const g=this.gl;g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class rd extends la{getDefault(){return null}set(c){var g;if(c===this.current&&!this.dirty)return;const M=this.gl;Sn(M)?M.bindVertexArray(c):(g=M.getExtension("OES_vertex_array_object"))===null||g===void 0||g.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class nd extends la{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Zh extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Ap extends la{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class id extends la{constructor(c,g){super(c),this.context=c,this.parent=g}getDefault(){return null}}class Zl extends id{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Pf extends id{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class xm extends id{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,c),this.current=c,this.dirty=!1}}const rc="Framebuffer is not complete";class ga{constructor(c,g,M,L,j){this.context=c,this.width=g,this.height=M;const Y=c.gl,te=this.framebuffer=Y.createFramebuffer();if(this.colorAttachment=new Zl(c,te),L)this.depthAttachment=j?new xm(c,te):new Pf(c,te);else if(j)throw new Error("Stencil cannot be set without depth");if(Y.checkFramebufferStatus(Y.FRAMEBUFFER)!==Y.FRAMEBUFFER_COMPLETE)throw new Error(rc)}destroy(){const c=this.context.gl,g=this.colorAttachment.get();if(g&&c.deleteTexture(g),this.depthAttachment){const M=this.depthAttachment.get();M&&c.deleteRenderbuffer(M)}c.deleteFramebuffer(this.framebuffer)}}class kd{constructor(c){var g,M;if(this.gl=c,this.clearColor=new Hn(this),this.clearDepth=new Wc(this),this.clearStencil=new ih(this),this.colorMask=new ah(this),this.depthMask=new fg(this),this.stencilMask=new dg(this),this.stencilFunc=new oh(this),this.stencilOp=new Id(this),this.stencilTest=new Cr(this),this.depthRange=new dn(this),this.depthTest=new Zr(this),this.depthFunc=new li(this),this.blend=new ua(this),this.blendFunc=new fo(this),this.blendColor=new As(this),this.blendEquation=new yo(this),this.cullFace=new Ui(this),this.cullFaceSide=new yl(this),this.frontFace=new Mu(this),this.program=new ku(this),this.activeTexture=new sh(this),this.viewport=new Du(this),this.bindFramebuffer=new Ml(this),this.bindRenderbuffer=new lh(this),this.bindTexture=new Za(this),this.bindVertexBuffer=new Md(this),this.bindElementBuffer=new Cf(this),this.bindVertexArray=new rd(this),this.pixelStoreUnpack=new nd(this),this.pixelStoreUnpackPremultiplyAlpha=new Zh(this),this.pixelStoreUnpackFlipY=new Ap(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),Sn(c)){this.HALF_FLOAT=c.HALF_FLOAT;const L=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(g=c.RGBA16F)!==null&&g!==void 0?g:L==null?void 0:L.RGBA16F_EXT,this.RGB16F=(M=c.RGB16F)!==null&&M!==void 0?M:L==null?void 0:L.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const L=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=L==null?void 0:L.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,g){return new Rp(this,c,g)}createVertexBuffer(c,g,M){return new wm(this,c,g,M)}createRenderbuffer(c,g,M){const L=this.gl,j=L.createRenderbuffer();return this.bindRenderbuffer.set(j),L.renderbufferStorage(L.RENDERBUFFER,c,g,M),this.bindRenderbuffer.set(null),j}createFramebuffer(c,g,M,L){return new ga(this,c,g,M,L)}clear({color:c,depth:g,stencil:M}){const L=this.gl;let j=0;c&&(j|=L.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),g!==void 0&&(j|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),M!==void 0&&(j|=L.STENCIL_BUFFER_BIT,this.clearStencil.set(M),this.stencilMask.set(255)),L.clear(j)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){o.bE(c.blendFunction,Nt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return Sn(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var g;return Sn(this.gl)?this.gl.deleteVertexArray(c):(g=this.gl.getExtension("OES_vertex_array_object"))===null||g===void 0?void 0:g.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}let Fu;function Sm(B,c,g,M,L){const j=B.context,Y=B.transform,te=j.gl,oe=B.useProgram("collisionBox"),be=[];let Ce=0,Fe=0;for(let Rt=0;Rt<M.length;Rt++){const Bt=M[Rt],Ht=c.getTile(Bt).getBucket(g);if(!Ht)continue;const $t=L?Ht.textCollisionBox:Ht.iconCollisionBox,Wt=Ht.collisionCircleArray;Wt.length>0&&(be.push({circleArray:Wt,circleOffset:Fe,coord:Bt}),Ce+=Wt.length/4,Fe=Ce),$t&&oe.draw(j,te.LINES,pr.disabled,rn.disabled,B.colorModeForRenderPass(),Zt.disabled,Qo(B.transform),B.style.map.terrain&&B.style.map.terrain.getTerrainData(Bt),Y.getProjectionData({overscaledTileID:Bt,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),g.id,$t.layoutVertexBuffer,$t.indexBuffer,$t.segments,null,B.transform.zoom,null,null,$t.collisionVertexBuffer)}if(!L||!be.length)return;const De=B.useProgram("collisionCircle"),We=new o.bT;We.resize(4*Ce),We._trim();let nt=0;for(const Rt of be)for(let Bt=0;Bt<Rt.circleArray.length/4;Bt++){const Ht=4*Bt,$t=Rt.circleArray[Ht+0],Wt=Rt.circleArray[Ht+1],tr=Rt.circleArray[Ht+2],nr=Rt.circleArray[Ht+3];We.emplace(nt++,$t,Wt,tr,nr,0),We.emplace(nt++,$t,Wt,tr,nr,1),We.emplace(nt++,$t,Wt,tr,nr,2),We.emplace(nt++,$t,Wt,tr,nr,3)}(!Fu||Fu.length<2*Ce)&&(Fu=function(Rt){const Bt=2*Rt,Ht=new o.bV;Ht.resize(Bt),Ht._trim();for(let $t=0;$t<Bt;$t++){const Wt=6*$t;Ht.uint16[Wt+0]=4*$t+0,Ht.uint16[Wt+1]=4*$t+1,Ht.uint16[Wt+2]=4*$t+2,Ht.uint16[Wt+3]=4*$t+2,Ht.uint16[Wt+4]=4*$t+3,Ht.uint16[Wt+5]=4*$t+0}return Ht}(Ce));const Pt=j.createIndexBuffer(Fu,!0),Ct=j.createVertexBuffer(We,o.bU.members,!0);for(const Rt of be){const Bt=vs(B.transform);De.draw(j,te.TRIANGLES,pr.disabled,rn.disabled,B.colorModeForRenderPass(),Zt.disabled,Bt,B.style.map.terrain&&B.style.map.terrain.getTerrainData(Rt.coord),null,g.id,Ct,Pt,o.aJ.simpleSegment(0,2*Rt.circleOffset,Rt.circleArray.length,Rt.circleArray.length/2),null,B.transform.zoom,null,null,null)}Ct.destroy(),Pt.destroy()}const Ec=o.ad(new Float32Array(16));function Yl(B,c,g,M,L,j){const{horizontalAlign:Y,verticalAlign:te}=o.aE(B);return new o.P((-(Y-.5)*c/L+M[0])*j,(-(te-.5)*g/L+M[1])*j)}function Tf(B,c,g,M,L,j){const Y=c.tileAnchorPoint.add(new o.P(c.translation[0],c.translation[1]));if(c.pitchWithMap){let te=M.mult(j);g||(te=te.rotate(-L));const oe=Y.add(te);return jt(oe.x,oe.y,c.pitchedLabelPlaneMatrix,c.getElevation).point}if(g){const te=ui(c.tileAnchorPoint.x+1,c.tileAnchorPoint.y,c).point.sub(B),oe=Math.atan(te.y/te.x)+(te.x<0?Math.PI:0);return B.add(M.rotate(oe))}return B.add(M)}function Em(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe){const De=B.text.placedSymbolArray,We=B.text.dynamicLayoutVertexArray,nt=B.icon.dynamicLayoutVertexArray,Pt={};We.clear();for(let Ct=0;Ct<De.length;Ct++){const Rt=De.get(Ct),Bt=Rt.hidden||!Rt.crossTileID||B.allowVerticalPlacement&&!Rt.placedOrientation?null:M[Rt.crossTileID];if(Bt){const Ht=new o.P(Rt.anchorX,Rt.anchorY),$t={getElevation:Fe,width:L.width,height:L.height,pitchedLabelPlaneMatrix:j,pitchWithMap:g,transform:L,tileAnchorPoint:Ht,translation:be,unwrappedTileID:Ce},Wt=g?Wn(Ht.x,Ht.y,$t):ui(Ht.x,Ht.y,$t),tr=Yt(L.cameraToCenterDistance,Wt.signedDistanceFromCamera);let nr=o.am(B.textSizeData,te,Rt)*tr/o.ay;g&&(nr*=B.tilePixelRatio/Y);const{width:kr,height:Qr,anchor:_r,textOffset:$r,textBoxScale:Jr}=Bt,Dn=Yl(_r,kr,Qr,$r,Jr,nr),In=L.getPitchedTextCorrection(Ht.x+be[0],Ht.y+be[1],Ce),hn=Tf(Wt.point,$t,c,Dn,-L.bearingInRadians,In),Jn=B.allowVerticalPlacement&&Rt.placedOrientation===o.al.vertical?Math.PI/2:0;for(let Mi=0;Mi<Rt.numGlyphs;Mi++)o.as(We,hn,Jn);oe&&Rt.associatedIconIndex>=0&&(Pt[Rt.associatedIconIndex]={shiftedAnchor:hn,angle:Jn})}else Ji(Rt.numGlyphs,We)}if(oe){nt.clear();const Ct=B.icon.placedSymbolArray;for(let Rt=0;Rt<Ct.length;Rt++){const Bt=Ct.get(Rt);if(Bt.hidden)Ji(Bt.numGlyphs,nt);else{const Ht=Pt[Rt];if(Ht)for(let $t=0;$t<Bt.numGlyphs;$t++)o.as(nt,Ht.shiftedAnchor,Ht.angle);else Ji(Bt.numGlyphs,nt)}}B.icon.dynamicLayoutVertexBuffer.updateData(nt)}B.text.dynamicLayoutVertexBuffer.updateData(We)}function ls(B,c,g){return g.iconsInText&&c?"symbolTextAndIcon":B?"symbolSDF":"symbolIcon"}function Yh(B,c,g,M,L,j,Y,te,oe,be,Ce,Fe,De){const We=B.context,nt=We.gl,Pt=B.transform,Ct=te==="map",Rt=oe==="map",Bt=te!=="viewport"&&g.layout.get("symbol-placement")!=="point",Ht=Ct&&!Rt&&!Bt,$t=!g.layout.get("symbol-sort-key").isConstant();let Wt=!1;const tr=B.getDepthModeForSublayer(0,pr.ReadOnly),nr=g._unevaluatedLayout.hasValue("text-variable-anchor")||g._unevaluatedLayout.hasValue("text-variable-anchor-offset"),kr=[],Qr=Pt.getCircleRadiusCorrection();for(const _r of M){const $r=c.getTile(_r),Jr=$r.getBucket(g);if(!Jr)continue;const Dn=L?Jr.text:Jr.icon;if(!Dn||!Dn.segments.get().length||!Dn.hasVisibleVertices)continue;const In=Dn.programConfigurations.get(g.id),hn=L||Jr.sdfIcons,Jn=L?Jr.textSizeData:Jr.iconSizeData,Mi=Rt||Pt.pitch!==0,Ra=B.useProgram(ls(hn,L,Jr),In),Ao=o.ak(Jn,Pt.zoom),ho=B.style.map.terrain&&B.style.map.terrain.getTerrainData(_r);let es,cs,Da,Aa,Is=[0,0],nl=null;if(L)cs=$r.glyphAtlasTexture,Da=nt.LINEAR,es=$r.glyphAtlasTexture.size,Jr.iconsInText&&(Is=$r.imageAtlasTexture.size,nl=$r.imageAtlasTexture,Aa=Mi||B.options.rotating||B.options.zooming||Jn.kind==="composite"||Jn.kind==="camera"?nt.LINEAR:nt.NEAREST);else{const Ks=g.layout.get("icon-size").constantOr(0)!==1||Jr.iconsNeedLinear;cs=$r.imageAtlasTexture,Da=hn||B.options.rotating||B.options.zooming||Ks||Mi?nt.LINEAR:nt.NEAREST,es=$r.imageAtlasTexture.size}const Vs=o.az($r,1,B.transform.zoom),Fa=Kt(Ct,B.transform,Vs),tu=o.K();o.an(tu,Fa);const Bu=br(Rt,Ct,B.transform,Vs),Ic=o.aA(Pt,$r,j,Y),Ff=Pt.getProjectionData({overscaledTileID:_r,applyGlobeMatrix:!De,applyTerrainMatrix:!0}),Gs=nr&&Jr.hasTextData(),Mc=g.layout.get("icon-text-fit")!=="none"&&Gs&&Jr.hasIconData();if(Bt){const Ks=B.style.map.terrain?(_u,_o)=>B.style.map.terrain.getElevation(_r,_u,_o):null,Zs=g.layout.get("text-rotation-alignment")==="map";rr(Jr,B,L,Fa,tu,Rt,be,Zs,_r.toUnwrapped(),Pt.width,Pt.height,Ic,Ks)}const Bl=L&&nr||Mc,bu=Bt||Bl?Ec:Rt?Fa:B.transform.clipSpaceToPixelsMatrix,Lf=hn&&g.paint.get(L?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let kc;kc=hn?Jr.iconsInText?Il(Jn.kind,Ao,Ht,Rt,Bt,Bl,B,bu,Bu,Ic,es,Is,Qr):Pp(Jn.kind,Ao,Ht,Rt,Bt,Bl,B,bu,Bu,Ic,L,es,0,Qr):Sc(Jn.kind,Ao,Ht,Rt,Bt,Bl,B,bu,Bu,Ic,L,es,Qr);const md={program:Ra,buffers:Dn,uniformValues:kc,projectionData:Ff,atlasTexture:cs,atlasTextureIcon:nl,atlasInterpolation:Da,atlasInterpolationIcon:Aa,isSDF:hn,hasHalo:Lf};if($t&&Jr.canOverlap){Wt=!0;const Ks=Dn.segments.get();for(const Zs of Ks)kr.push({segments:new o.aJ([Zs]),sortKey:Zs.sortKey,state:md,terrainData:ho})}else kr.push({segments:Dn.segments,sortKey:0,state:md,terrainData:ho})}Wt&&kr.sort((_r,$r)=>_r.sortKey-$r.sortKey);for(const _r of kr){const $r=_r.state;if(We.activeTexture.set(nt.TEXTURE0),$r.atlasTexture.bind($r.atlasInterpolation,nt.CLAMP_TO_EDGE),$r.atlasTextureIcon&&(We.activeTexture.set(nt.TEXTURE1),$r.atlasTextureIcon&&$r.atlasTextureIcon.bind($r.atlasInterpolationIcon,nt.CLAMP_TO_EDGE)),$r.isSDF){const Jr=$r.uniformValues;$r.hasHalo&&(Jr.u_is_halo=1,of($r.buffers,_r.segments,g,B,$r.program,tr,Ce,Fe,Jr,$r.projectionData,_r.terrainData)),Jr.u_is_halo=0}of($r.buffers,_r.segments,g,B,$r.program,tr,Ce,Fe,$r.uniformValues,$r.projectionData,_r.terrainData)}}function of(B,c,g,M,L,j,Y,te,oe,be,Ce){const Fe=M.context;L.draw(Fe,Fe.gl.TRIANGLES,j,Y,te,Zt.backCCW,oe,Ce,be,g.id,B.layoutVertexBuffer,B.indexBuffer,c,g.paint,M.transform.zoom,B.programConfigurations.get(g.id),B.dynamicLayoutVertexBuffer,B.opacityVertexBuffer)}function sf(B,c,g,M,L){const j=B.context,Y=j.gl,te=rn.disabled,oe=new Nt([Y.ONE,Y.ONE],o.b7.transparent,[!0,!0,!0,!0]),be=c.getBucket(g);if(!be)return;const Ce=M.key;let Fe=g.heatmapFbos.get(Ce);Fe||(Fe=Jh(j,c.tileSize,c.tileSize),g.heatmapFbos.set(Ce,Fe)),j.bindFramebuffer.set(Fe.framebuffer),j.viewport.set([0,0,c.tileSize,c.tileSize]),j.clear({color:o.b7.transparent});const De=be.programConfigurations.get(g.id),We=B.useProgram("heatmap",De,!L),nt=B.transform.getProjectionData({overscaledTileID:c.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pt=B.style.map.terrain.getTerrainData(M);We.draw(j,Y.TRIANGLES,pr.disabled,te,oe,Zt.disabled,Uo(c,B.transform.zoom,g.paint.get("heatmap-intensity"),1),Pt,nt,g.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,g.paint,B.transform.zoom,De)}function Xh(B,c,g,M,L){const j=B.context,Y=j.gl,te=B.transform;j.setColorMode(B.colorModeForRenderPass());const oe=Dd(j,c),be=g.key,Ce=c.heatmapFbos.get(be);if(!Ce)return;j.activeTexture.set(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,Ce.colorAttachment.get()),j.activeTexture.set(Y.TEXTURE1),oe.bind(Y.LINEAR,Y.CLAMP_TO_EDGE);const Fe=te.getProjectionData({overscaledTileID:g,applyTerrainMatrix:L,applyGlobeMatrix:!M});B.useProgram("heatmapTexture").draw(j,Y.TRIANGLES,pr.disabled,rn.disabled,B.colorModeForRenderPass(),Zt.disabled,qc(B,c,0,1),null,Fe,c.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments,c.paint,te.zoom),Ce.destroy(),c.heatmapFbos.delete(be)}function Jh(B,c,g){var M,L;const j=B.gl,Y=j.createTexture();j.bindTexture(j.TEXTURE_2D,Y),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,j.LINEAR),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,j.LINEAR);const te=(M=B.HALF_FLOAT)!==null&&M!==void 0?M:j.UNSIGNED_BYTE,oe=(L=B.RGBA16F)!==null&&L!==void 0?L:j.RGBA;j.texImage2D(j.TEXTURE_2D,0,oe,c,g,0,j.RGBA,te,null);const be=B.createFramebuffer(c,g,!1,!1);return be.colorAttachment.set(Y),be}function Dd(B,c){return c.colorRampTexture||(c.colorRampTexture=new O(B,c.colorRamp,B.gl.RGBA)),c.colorRampTexture}function Fd(B,c,g,M,L){if(!g||!M||!M.imageAtlas)return;const j=M.imageAtlas.patternPositions;let Y=j[g.to.toString()],te=j[g.from.toString()];if(!Y&&te&&(Y=te),!te&&Y&&(te=Y),!Y||!te){const oe=L.getPaintProperty(c);Y=j[oe],te=j[oe]}Y&&te&&B.setConstantPatternPositions(Y,te)}function lf(B,c,g,M,L,j,Y,te){const oe=B.context.gl,be="fill-pattern",Ce=g.paint.get(be),Fe=Ce&&Ce.constantOr(1),De=g.getCrossfadeParameters();let We,nt,Pt,Ct,Rt;const Bt=B.transform,Ht=g.paint.get("fill-translate"),$t=g.paint.get("fill-translate-anchor");Y?(nt=Fe&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",We=oe.LINES):(nt=Fe?"fillPattern":"fill",We=oe.TRIANGLES);const Wt=Ce.constantOr(null);for(const tr of M){const nr=c.getTile(tr);if(Fe&&!nr.patternsLoaded())continue;const kr=nr.getBucket(g);if(!kr)continue;const Qr=kr.programConfigurations.get(g.id),_r=B.useProgram(nt,Qr),$r=B.style.map.terrain&&B.style.map.terrain.getTerrainData(tr);Fe&&(B.context.activeTexture.set(oe.TEXTURE0),nr.imageAtlasTexture.bind(oe.LINEAR,oe.CLAMP_TO_EDGE),Qr.updatePaintBuffers(De)),Fd(Qr,be,Wt,nr,g);const Jr=Bt.getProjectionData({overscaledTileID:tr,applyGlobeMatrix:!te,applyTerrainMatrix:!0}),Dn=o.aA(Bt,nr,Ht,$t);if(Y){Ct=kr.indexBuffer2,Rt=kr.segments2;const hn=[oe.drawingBufferWidth,oe.drawingBufferHeight];Pt=nt==="fillOutlinePattern"&&Fe?gs(B,De,nr,hn,Dn):Jo(hn,Dn)}else Ct=kr.indexBuffer,Rt=kr.segments,Pt=Fe?Ta(B,De,nr,Dn):{u_fill_translate:Dn};const In=B.stencilModeForClipping(tr);_r.draw(B.context,We,L,In,j,Zt.backCCW,Pt,$r,Jr,g.id,kr.layoutVertexBuffer,Ct,Rt,g.paint,B.transform.zoom,Qr)}}function Ss(B,c,g,M,L,j,Y,te){const oe=B.context,be=oe.gl,Ce="fill-extrusion-pattern",Fe=g.paint.get(Ce),De=Fe.constantOr(1),We=g.getCrossfadeParameters(),nt=g.paint.get("fill-extrusion-opacity"),Pt=Fe.constantOr(null),Ct=B.transform;for(const Rt of M){const Bt=c.getTile(Rt),Ht=Bt.getBucket(g);if(!Ht)continue;const $t=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Rt),Wt=Ht.programConfigurations.get(g.id),tr=B.useProgram(De?"fillExtrusionPattern":"fillExtrusion",Wt);De&&(B.context.activeTexture.set(be.TEXTURE0),Bt.imageAtlasTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),Wt.updatePaintBuffers(We));const nr=Ct.getProjectionData({overscaledTileID:Rt,applyGlobeMatrix:!te,applyTerrainMatrix:!0});Fd(Wt,Ce,Pt,Bt,g);const kr=o.aA(Ct,Bt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),Qr=g.paint.get("fill-extrusion-vertical-gradient"),_r=De?pi(B,Qr,nt,kr,Rt,We,Bt):ka(B,Qr,nt,kr);tr.draw(oe,oe.gl.TRIANGLES,L,j,Y,Zt.backCCW,_r,$t,nr,g.id,Ht.layoutVertexBuffer,Ht.indexBuffer,Ht.segments,g.paint,B.transform.zoom,Wt,B.style.map.terrain&&Ht.centroidVertexBuffer)}}function tl(B,c,g,M,L,j,Y,te,oe){var be;const Ce=B.style.projection,Fe=B.context,De=B.transform,We=Fe.gl,nt=[`#define NUM_ILLUMINATION_SOURCES ${g.paint.get("hillshade-highlight-color").values.length}`],Pt=B.useProgram("hillshade",null,!1,nt),Ct=!B.options.moving;for(const Rt of M){const Bt=c.getTile(Rt),Ht=Bt.fbo;if(!Ht)continue;const $t=Ce.getMeshFromTileID(Fe,Rt.canonical,te,!0,"raster"),Wt=(be=B.style.map.terrain)===null||be===void 0?void 0:be.getTerrainData(Rt);Fe.activeTexture.set(We.TEXTURE0),We.bindTexture(We.TEXTURE_2D,Ht.colorAttachment.get());const tr=De.getProjectionData({overscaledTileID:Rt,aligned:Ct,applyGlobeMatrix:!oe,applyTerrainMatrix:!0});Pt.draw(Fe,We.TRIANGLES,j,L[Rt.overscaledZ],Y,Zt.backCCW,ec(B,Bt,g),Wt,tr,g.id,$t.vertexBuffer,$t.indexBuffer,$t.segments)}}const ad=[new o.P(0,0),new o.P(o.Z,0),new o.P(o.Z,o.Z),new o.P(0,o.Z)];function Qh(B,c,g,M,L,j,Y,te,oe=!1,be=!1){const Ce=M[M.length-1].overscaledZ,Fe=B.context,De=Fe.gl,We=B.useProgram("raster"),nt=B.transform,Pt=B.style.projection,Ct=B.colorModeForRenderPass(),Rt=!B.options.moving;for(const Bt of M){const Ht=B.getDepthModeForSublayer(Bt.overscaledZ-Ce,g.paint.get("raster-opacity")===1?pr.ReadWrite:pr.ReadOnly,De.LESS),$t=c.getTile(Bt);$t.registerFadeDuration(g.paint.get("raster-fade-duration"));const Wt=c.findLoadedParent(Bt,0),tr=c.findLoadedSibling(Bt),nr=ep($t,Wt||tr||null,c,g,B.transform,B.style.map.terrain);let kr,Qr;const _r=g.paint.get("raster-resampling")==="nearest"?De.NEAREST:De.LINEAR;Fe.activeTexture.set(De.TEXTURE0),$t.texture.bind(_r,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),Fe.activeTexture.set(De.TEXTURE1),Wt?(Wt.texture.bind(_r,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),kr=Math.pow(2,Wt.tileID.overscaledZ-$t.tileID.overscaledZ),Qr=[$t.tileID.canonical.x*kr%1,$t.tileID.canonical.y*kr%1]):$t.texture.bind(_r,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),$t.texture.useMipmap&&Fe.extTextureFilterAnisotropic&&B.transform.pitch>20&&De.texParameterf(De.TEXTURE_2D,Fe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Fe.extTextureFilterAnisotropicMax);const $r=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Bt),Jr=nt.getProjectionData({overscaledTileID:Bt,aligned:Rt,applyGlobeMatrix:!be,applyTerrainMatrix:!0}),Dn=Kh(Qr||[0,0],kr||1,nr,g,te),In=Pt.getMeshFromTileID(Fe,Bt.canonical,j,Y,"raster");We.draw(Fe,De.TRIANGLES,Ht,L?L[Bt.overscaledZ]:rn.disabled,Ct,oe?Zt.frontCCW:Zt.backCCW,Dn,$r,Jr,g.id,In.vertexBuffer,In.indexBuffer,In.segments)}}function ep(B,c,g,M,L,j){const Y=M.paint.get("raster-fade-duration");if(!j&&Y>0){const te=p.now(),oe=(te-B.timeAdded)/Y,be=c?(te-c.timeAdded)/Y:-1,Ce=g.getSource(),Fe=Ft(L,{tileSize:Ce.tileSize,roundZoom:Ce.roundZoom}),De=!c||Math.abs(c.tileID.overscaledZ-Fe)>Math.abs(B.tileID.overscaledZ-Fe),We=De&&B.refreshedUponExpiration?1:o.ae(De?oe:1-be,0,1);return B.refreshedUponExpiration&&oe>=1&&(B.refreshedUponExpiration=!1),c?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}const Cc=new o.b7(1,0,0,1),$s=new o.b7(0,1,0,1),od=new o.b7(0,0,1,1),uh=new o.b7(1,0,1,1),Pc=new o.b7(0,1,1,1);function sd(B,c,g,M){Rf(B,0,c+g/2,B.transform.width,g,M)}function ch(B,c,g,M){Rf(B,c-g/2,0,g,B.transform.height,M)}function Rf(B,c,g,M,L,j){const Y=B.context,te=Y.gl;te.enable(te.SCISSOR_TEST),te.scissor(c*B.pixelRatio,g*B.pixelRatio,M*B.pixelRatio,L*B.pixelRatio),Y.clear({color:j}),te.disable(te.SCISSOR_TEST)}function qo(B,c,g){const M=B.context,L=M.gl,j=B.useProgram("debug"),Y=pr.disabled,te=rn.disabled,oe=B.colorModeForRenderPass(),be="$debug",Ce=B.style.map.terrain&&B.style.map.terrain.getTerrainData(g);M.activeTexture.set(L.TEXTURE0);const Fe=c.getTileByID(g.key).latestRawTileData,De=Math.floor((Fe&&Fe.byteLength||0)/1024),We=c.getTile(g).tileSize,nt=512/Math.min(We,512)*(g.overscaledZ/B.transform.zoom)*.5;let Pt=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(Pt+=` => ${g.overscaledZ}`),function(Rt,Bt){Rt.initDebugOverlayCanvas();const Ht=Rt.debugOverlayCanvas,$t=Rt.context.gl,Wt=Rt.debugOverlayCanvas.getContext("2d");Wt.clearRect(0,0,Ht.width,Ht.height),Wt.shadowColor="white",Wt.shadowBlur=2,Wt.lineWidth=1.5,Wt.strokeStyle="white",Wt.textBaseline="top",Wt.font="bold 36px Open Sans, sans-serif",Wt.fillText(Bt,5,5),Wt.strokeText(Bt,5,5),Rt.debugOverlayTexture.update(Ht),Rt.debugOverlayTexture.bind($t.LINEAR,$t.CLAMP_TO_EDGE)}(B,`${Pt} ${De}kB`);const Ct=B.transform.getProjectionData({overscaledTileID:g,applyGlobeMatrix:!0,applyTerrainMatrix:!0});j.draw(M,L.TRIANGLES,Y,te,Nt.alphaBlended,Zt.disabled,qs(o.b7.transparent,nt),null,Ct,be,B.debugBuffer,B.quadTriangleIndexBuffer,B.debugSegments),j.draw(M,L.LINE_STRIP,Y,te,oe,Zt.disabled,qs(o.b7.red),Ce,Ct,be,B.debugBuffer,B.tileBorderIndexBuffer,B.debugSegments)}function uf(B,c,g,M){const{isRenderingGlobe:L}=M,j=B.context,Y=j.gl,te=B.transform,oe=B.colorModeForRenderPass(),be=B.getDepthModeFor3D(),Ce=B.useProgram("terrain");j.bindFramebuffer.set(null),j.viewport.set([0,0,B.width,B.height]);for(const Fe of g){const De=c.getTerrainMesh(Fe.tileID),We=B.renderToTexture.getTexture(Fe),nt=c.getTerrainData(Fe.tileID);j.activeTexture.set(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,We.texture);const Pt=c.getMeshFrameDelta(te.zoom),Ct=te.calculateFogMatrix(Fe.tileID.toUnwrapped()),Rt=Zi(Pt,Ct,B.style.sky,te.pitch,L),Bt=te.getProjectionData({overscaledTileID:Fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Ce.draw(j,Y.TRIANGLES,be,rn.disabled,oe,Zt.backCCW,Rt,nt,Bt,"terrain",De.vertexBuffer,De.indexBuffer,De.segments)}}function rl(B,c){if(!c.mesh){const g=new o.aI;g.emplaceBack(-1,-1),g.emplaceBack(1,-1),g.emplaceBack(1,1),g.emplaceBack(-1,1);const M=new o.aK;M.emplaceBack(0,1,2),M.emplaceBack(0,2,3),c.mesh=new to(B.createVertexBuffer(g,Yo.members),B.createIndexBuffer(M),o.aJ.simpleSegment(0,0,g.length,M.length))}return c.mesh}class fh{constructor(c,g){this.context=new kd(c),this.transform=g,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ir.maxUnderzooming+ir.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ol}resize(c,g,M){if(this.width=Math.floor(c*M),this.height=Math.floor(g*M),this.pixelRatio=M,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const L of this.style._order)this.style._layers[L].resize()}setup(){const c=this.context,g=new o.aI;g.emplaceBack(0,0),g.emplaceBack(o.Z,0),g.emplaceBack(0,o.Z),g.emplaceBack(o.Z,o.Z),this.tileExtentBuffer=c.createVertexBuffer(g,Yo.members),this.tileExtentSegments=o.aJ.simpleSegment(0,0,4,2);const M=new o.aI;M.emplaceBack(0,0),M.emplaceBack(o.Z,0),M.emplaceBack(0,o.Z),M.emplaceBack(o.Z,o.Z),this.debugBuffer=c.createVertexBuffer(M,Yo.members),this.debugSegments=o.aJ.simpleSegment(0,0,4,5);const L=new o.b_;L.emplaceBack(0,0,0,0),L.emplaceBack(o.Z,0,o.Z,0),L.emplaceBack(0,o.Z,0,o.Z),L.emplaceBack(o.Z,o.Z,o.Z,o.Z),this.rasterBoundsBuffer=c.createVertexBuffer(L,_a.members),this.rasterBoundsSegments=o.aJ.simpleSegment(0,0,4,2);const j=new o.aI;j.emplaceBack(0,0),j.emplaceBack(o.Z,0),j.emplaceBack(0,o.Z),j.emplaceBack(o.Z,o.Z),this.rasterBoundsBufferPosOnly=c.createVertexBuffer(j,Yo.members),this.rasterBoundsSegmentsPosOnly=o.aJ.simpleSegment(0,0,4,5);const Y=new o.aI;Y.emplaceBack(0,0),Y.emplaceBack(1,0),Y.emplaceBack(0,1),Y.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(Y,Yo.members),this.viewportSegments=o.aJ.simpleSegment(0,0,4,2);const te=new o.b$;te.emplaceBack(0),te.emplaceBack(1),te.emplaceBack(3),te.emplaceBack(2),te.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(te);const oe=new o.aK;oe.emplaceBack(1,0,2),oe.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(oe);const be=this.context.gl;this.stencilClearMode=new rn({func:be.ALWAYS,mask:0},0,255,be.ZERO,be.ZERO,be.ZERO),this.tileExtentMesh=new to(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const c=this.context,g=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const M=o.K();o.bQ(M,0,this.width,this.height,0,0,1),o.M(M,M,[g.drawingBufferWidth,g.drawingBufferHeight,0]);const L={mainMatrix:M,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:M};this.useProgram("clippingMask",null,!0).draw(c,g.TRIANGLES,pr.disabled,this.stencilClearMode,Nt.disabled,Zt.disabled,null,null,L,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,g,M){if(this.currentStencilSource===c.source||!c.isTileClipped()||!g||!g.length)return;this.currentStencilSource=c.source,this.nextStencilID+g.length>256&&this.clearStencil();const L=this.context;L.setColorMode(Nt.disabled),L.setDepthMode(pr.disabled);const j={};for(const Y of g)j[Y.key]=this.nextStencilID++;this._renderTileMasks(j,g,M,!0),this._renderTileMasks(j,g,M,!1),this._tileClippingMaskIDs=j}_renderTileMasks(c,g,M,L){const j=this.context,Y=j.gl,te=this.style.projection,oe=this.transform,be=this.useProgram("clippingMask");for(const Ce of g){const Fe=c[Ce.key],De=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Ce),We=te.getMeshFromTileID(this.context,Ce.canonical,L,!0,"stencil"),nt=oe.getProjectionData({overscaledTileID:Ce,applyGlobeMatrix:!M,applyTerrainMatrix:!0});be.draw(j,Y.TRIANGLES,pr.disabled,new rn({func:Y.ALWAYS,mask:0},Fe,255,Y.KEEP,Y.KEEP,Y.REPLACE),Nt.disabled,M?Zt.disabled:Zt.backCCW,null,De,nt,"$clipping",We.vertexBuffer,We.indexBuffer,We.segments)}}_renderTilesDepthBuffer(){const c=this.context,g=c.gl,M=this.style.projection,L=this.transform,j=this.useProgram("depth"),Y=this.getDepthModeFor3D(),te=Tt(L,{tileSize:L.tileSize});for(const oe of te){const be=this.style.map.terrain&&this.style.map.terrain.getTerrainData(oe),Ce=M.getMeshFromTileID(this.context,oe.canonical,!0,!0,"raster"),Fe=L.getProjectionData({overscaledTileID:oe,applyGlobeMatrix:!0,applyTerrainMatrix:!0});j.draw(c,g.TRIANGLES,Y,rn.disabled,Nt.disabled,Zt.backCCW,null,be,Fe,"$clipping",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,g=this.context.gl;return new rn({func:g.NOTEQUAL,mask:255},c,255,g.KEEP,g.KEEP,g.REPLACE)}stencilModeForClipping(c){const g=this.context.gl;return new rn({func:g.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,g.KEEP,g.KEEP,g.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(c){const g=this.context.gl,M=c.sort((Y,te)=>te.overscaledZ-Y.overscaledZ),L=M[M.length-1].overscaledZ,j=M[0].overscaledZ-L+1;if(j>1){this.currentStencilSource=void 0,this.nextStencilID+j>256&&this.clearStencil();const Y={};for(let te=0;te<j;te++)Y[te+L]=new rn({func:g.GEQUAL,mask:255},te+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=j,[Y,M]}return[{[L]:rn.disabled},M]}stencilConfigForOverlapTwoPass(c){const g=this.context.gl,M=c.sort((Y,te)=>te.overscaledZ-Y.overscaledZ),L=M[M.length-1].overscaledZ,j=M[0].overscaledZ-L+1;if(this.clearStencil(),j>1){const Y={},te={};for(let oe=0;oe<j;oe++)Y[oe+L]=new rn({func:g.GREATER,mask:255},j+1+oe,255,g.KEEP,g.KEEP,g.REPLACE),te[oe+L]=new rn({func:g.GREATER,mask:255},1+oe,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID=2*j+1,[Y,te,M]}return this.nextStencilID=3,[{[L]:new rn({func:g.GREATER,mask:255},2,255,g.KEEP,g.KEEP,g.REPLACE)},{[L]:new rn({func:g.GREATER,mask:255},1,255,g.KEEP,g.KEEP,g.REPLACE)},M]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Nt([c.CONSTANT_COLOR,c.ONE],new o.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Nt.unblended:Nt.alphaBlended}getDepthModeForSublayer(c,g,M){if(!this.opaquePassEnabledForLayer())return pr.disabled;const L=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new pr(M||this.context.gl.LEQUAL,g,[L,L])}getDepthModeFor3D(){return new pr(this.context.gl.LEQUAL,pr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,g){var M,L;this.style=c,this.options=g,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(p.now()),this.imageManager.beginFrame();const j=this.style._order,Y=this.style.sourceCaches,te={},oe={},be={},Ce={isRenderingToTexture:!1,isRenderingGlobe:((M=c.projection)===null||M===void 0?void 0:M.transitionState)>0};for(const De in Y){const We=Y[De];We.used&&We.prepare(this.context),te[De]=We.getVisibleCoordinates(!1),oe[De]=te[De].slice().reverse(),be[De]=We.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let De=0;De<j.length;De++)if(this.style._layers[j[De]].is3D()){this.opaquePassCutoff=De;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const De of j){const We=this.style._layers[De];if(!We.hasOffscreenPass()||We.isHidden(this.transform.zoom))continue;const nt=oe[We.source];(We.type==="custom"||nt.length)&&this.renderLayer(this,Y[We.source],We,nt,Ce)}if((L=this.style.projection)===null||L===void 0||L.updateGPUdependent({context:this.context,useProgram:De=>this.useProgram(De)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:g.showOverdrawInspector?o.b7.black:o.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(De,We){const nt=De.context,Pt=nt.gl,Ct=((tr,nr,kr)=>{const Qr=Math.cos(nr.rollInRadians),_r=Math.sin(nr.rollInRadians),$r=Je(nr),Jr=nr.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:tr.properties.get("sky-color"),u_horizon_color:tr.properties.get("horizon-color"),u_horizon:[(nr.width/2-$r*_r)*kr,(nr.height/2+$r*Qr)*kr],u_horizon_normal:[-_r,Qr],u_sky_horizon_blend:tr.properties.get("sky-horizon-blend")*nr.height/2*kr,u_sky_blend:Jr}})(We,De.style.map.transform,De.pixelRatio),Rt=new pr(Pt.LEQUAL,pr.ReadWrite,[0,1]),Bt=rn.disabled,Ht=De.colorModeForRenderPass(),$t=De.useProgram("sky"),Wt=rl(nt,We);$t.draw(nt,Pt.TRIANGLES,Rt,Bt,Ht,Zt.disabled,Ct,null,void 0,"sky",Wt.vertexBuffer,Wt.indexBuffer,Wt.segments)}(this,this.style.sky),this._showOverdrawInspector=g.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=j.length-1;this.currentLayer>=0;this.currentLayer--){const De=this.style._layers[j[this.currentLayer]],We=Y[De.source],nt=te[De.source];this._renderTileClippingMasks(De,nt,!1),this.renderLayer(this,We,De,nt,Ce)}this.renderPass="translucent";let Fe=!1;for(this.currentLayer=0;this.currentLayer<j.length;this.currentLayer++){const De=this.style._layers[j[this.currentLayer]],We=Y[De.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(De,Ce))continue;this.opaquePassEnabledForLayer()||Fe||(Fe=!0,Ce.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const nt=(De.type==="symbol"?be:oe)[De.source];this._renderTileClippingMasks(De,te[De.source],!!this.renderToTexture),this.renderLayer(this,We,De,nt,Ce)}if(Ce.isRenderingGlobe&&function(De,We,nt){const Pt=De.context,Ct=Pt.gl,Rt=De.useProgram("atmosphere"),Bt=new pr(Ct.LEQUAL,pr.ReadOnly,[0,1]),Ht=De.transform,$t=function(Jr,Dn){const In=Jr.properties.get("position"),hn=[-In.x,-In.y,-In.z],Jn=o.ad(new Float64Array(16));return Jr.properties.get("anchor")==="map"&&(o.a_(Jn,Jn,Dn.rollInRadians),o.a$(Jn,Jn,-Dn.pitchInRadians),o.a_(Jn,Jn,Dn.bearingInRadians),o.a$(Jn,Jn,Dn.center.lat*Math.PI/180),o.bp(Jn,Jn,-Dn.center.lng*Math.PI/180)),o.bZ(hn,hn,Jn),hn}(nt,De.transform),Wt=Ht.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),tr=We.properties.get("atmosphere-blend")*Wt.projectionTransition;if(tr===0)return;const nr=Ot(Ht.worldSize,Ht.center.lat),kr=Ht.inverseProjectionMatrix,Qr=new Float64Array(4);Qr[3]=1,o.at(Qr,Qr,Ht.modelViewProjectionMatrix),Qr[0]/=Qr[3],Qr[1]/=Qr[3],Qr[2]/=Qr[3],Qr[3]=1,o.at(Qr,Qr,kr),Qr[0]/=Qr[3],Qr[1]/=Qr[3],Qr[2]/=Qr[3],Qr[3]=1;const _r=((Jr,Dn,In,hn,Jn)=>({u_sun_pos:Jr,u_atmosphere_blend:Dn,u_globe_position:In,u_globe_radius:hn,u_inv_proj_matrix:Jn}))($t,tr,[Qr[0],Qr[1],Qr[2]],nr,kr),$r=rl(Pt,We);Rt.draw(Pt,Ct.TRIANGLES,Bt,rn.disabled,Nt.alphaBlended,Zt.disabled,_r,null,null,"atmosphere",$r.vertexBuffer,$r.indexBuffer,$r.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const De=function(We,nt){let Pt=null;const Ct=Object.values(We._layers).flatMap($t=>$t.source&&!$t.isHidden(nt)?[We.sourceCaches[$t.source]]:[]),Rt=Ct.filter($t=>$t.getSource().type==="vector"),Bt=Ct.filter($t=>$t.getSource().type!=="vector"),Ht=$t=>{(!Pt||Pt.getSource().maxzoom<$t.getSource().maxzoom)&&(Pt=$t)};return Rt.forEach($t=>Ht($t)),Pt||Bt.forEach($t=>Ht($t)),Pt}(this.style,this.transform.zoom);De&&function(We,nt,Pt){for(let Ct=0;Ct<Pt.length;Ct++)qo(We,nt,Pt[Ct])}(this,De,De.getVisibleCoordinates())}this.options.showPadding&&function(De){const We=De.transform.padding;sd(De,De.transform.height-(We.top||0),3,Cc),sd(De,We.bottom||0,3,$s),ch(De,We.left||0,3,od),ch(De,De.transform.width-(We.right||0),3,uh);const nt=De.transform.centerPoint;(function(Pt,Ct,Rt,Bt){Rf(Pt,Ct-1,Rt-10,2,20,Bt),Rf(Pt,Ct-10,Rt-1,20,2,Bt)})(De,nt.x,De.transform.height-nt.y,Pc)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(c){if(!this.style||!this.style.map||!this.style.map.terrain)return;const g=this.terrainFacilitator.matrix,M=this.transform.modelViewProjectionMatrix;let L=this.terrainFacilitator.dirty;L||(L=c?!o.c0(g,M):!o.c1(g,M)),L||(L=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),L&&(o.c2(g,M),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(j,Y){const te=j.context,oe=te.gl,be=j.transform,Ce=Nt.unblended,Fe=new pr(oe.LEQUAL,pr.ReadWrite,[0,1]),De=Y.sourceCache.getRenderableTiles(),We=j.useProgram("terrainDepth");te.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),te.viewport.set([0,0,j.width/devicePixelRatio,j.height/devicePixelRatio]),te.clear({color:o.b7.transparent,depth:1});for(const nt of De){const Pt=Y.getTerrainMesh(nt.tileID),Ct=Y.getTerrainData(nt.tileID),Rt=be.getProjectionData({overscaledTileID:nt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),Bt={u_ele_delta:Y.getMeshFrameDelta(be.zoom)};We.draw(te,oe.TRIANGLES,Fe,rn.disabled,Ce,Zt.backCCW,Bt,Ct,Rt,"terrain",Pt.vertexBuffer,Pt.indexBuffer,Pt.segments)}te.bindFramebuffer.set(null),te.viewport.set([0,0,j.width,j.height])}(this,this.style.map.terrain),function(j,Y){const te=j.context,oe=te.gl,be=j.transform,Ce=Nt.unblended,Fe=new pr(oe.LEQUAL,pr.ReadWrite,[0,1]),De=Y.getCoordsTexture(),We=Y.sourceCache.getRenderableTiles(),nt=j.useProgram("terrainCoords");te.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),te.viewport.set([0,0,j.width/devicePixelRatio,j.height/devicePixelRatio]),te.clear({color:o.b7.transparent,depth:1}),Y.coordsIndex=[];for(const Pt of We){const Ct=Y.getTerrainMesh(Pt.tileID),Rt=Y.getTerrainData(Pt.tileID);te.activeTexture.set(oe.TEXTURE0),oe.bindTexture(oe.TEXTURE_2D,De.texture);const Bt={u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0,u_ele_delta:Y.getMeshFrameDelta(be.zoom)},Ht=be.getProjectionData({overscaledTileID:Pt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});nt.draw(te,oe.TRIANGLES,Fe,rn.disabled,Ce,Zt.backCCW,Bt,Rt,Ht,"terrain",Ct.vertexBuffer,Ct.indexBuffer,Ct.segments),Y.coordsIndex.push(Pt.tileID.key)}te.bindFramebuffer.set(null),te.viewport.set([0,0,j.width,j.height])}(this,this.style.map.terrain))}renderLayer(c,g,M,L,j){M.isHidden(this.transform.zoom)||(M.type==="background"||M.type==="custom"||(L||[]).length)&&(this.id=M.id,o.c3(M)?function(Y,te,oe,be,Ce,Fe){if(Y.renderPass!=="translucent")return;const{isRenderingToTexture:De}=Fe,We=rn.disabled,nt=Y.colorModeForRenderPass();(oe._unevaluatedLayout.hasValue("text-variable-anchor")||oe._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Pt,Ct,Rt,Bt,Ht,$t,Wt,tr,nr){const kr=Ct.transform,Qr=Ct.style.map.terrain,_r=Ht==="map",$r=$t==="map";for(const Jr of Pt){const Dn=Bt.getTile(Jr),In=Dn.getBucket(Rt);if(!In||!In.text||!In.text.segments.get().length)continue;const hn=o.ak(In.textSizeData,kr.zoom),Jn=o.az(Dn,1,Ct.transform.zoom),Mi=Kt(_r,Ct.transform,Jn),Ra=Rt.layout.get("icon-text-fit")!=="none"&&In.hasIconData();if(hn){const Ao=Math.pow(2,kr.zoom-Dn.tileID.overscaledZ),ho=Qr?(es,cs)=>Qr.getElevation(Jr,es,cs):null;Em(In,_r,$r,nr,kr,Mi,Ao,hn,Ra,o.aA(kr,Dn,Wt,tr),Jr.toUnwrapped(),ho)}}}(be,Y,oe,te,oe.layout.get("text-rotation-alignment"),oe.layout.get("text-pitch-alignment"),oe.paint.get("text-translate"),oe.paint.get("text-translate-anchor"),Ce),oe.paint.get("icon-opacity").constantOr(1)!==0&&Yh(Y,te,oe,be,!1,oe.paint.get("icon-translate"),oe.paint.get("icon-translate-anchor"),oe.layout.get("icon-rotation-alignment"),oe.layout.get("icon-pitch-alignment"),oe.layout.get("icon-keep-upright"),We,nt,De),oe.paint.get("text-opacity").constantOr(1)!==0&&Yh(Y,te,oe,be,!0,oe.paint.get("text-translate"),oe.paint.get("text-translate-anchor"),oe.layout.get("text-rotation-alignment"),oe.layout.get("text-pitch-alignment"),oe.layout.get("text-keep-upright"),We,nt,De),te.map.showCollisionBoxes&&(Sm(Y,te,oe,be,!0),Sm(Y,te,oe,be,!1))}(c,g,M,L,this.style.placement.variableOffsets,j):o.c4(M)?function(Y,te,oe,be,Ce){if(Y.renderPass!=="translucent")return;const{isRenderingToTexture:Fe}=Ce,De=oe.paint.get("circle-opacity"),We=oe.paint.get("circle-stroke-width"),nt=oe.paint.get("circle-stroke-opacity"),Pt=!oe.layout.get("circle-sort-key").isConstant();if(De.constantOr(1)===0&&(We.constantOr(1)===0||nt.constantOr(1)===0))return;const Ct=Y.context,Rt=Ct.gl,Bt=Y.transform,Ht=Y.getDepthModeForSublayer(0,pr.ReadOnly),$t=rn.disabled,Wt=Y.colorModeForRenderPass(),tr=[],nr=Bt.getCircleRadiusCorrection();for(let kr=0;kr<be.length;kr++){const Qr=be[kr],_r=te.getTile(Qr),$r=_r.getBucket(oe);if(!$r)continue;const Jr=oe.paint.get("circle-translate"),Dn=oe.paint.get("circle-translate-anchor"),In=o.aA(Bt,_r,Jr,Dn),hn=$r.programConfigurations.get(oe.id),Jn=Y.useProgram("circle",hn),Mi=$r.layoutVertexBuffer,Ra=$r.indexBuffer,Ao=Y.style.map.terrain&&Y.style.map.terrain.getTerrainData(Qr),ho={programConfiguration:hn,program:Jn,layoutVertexBuffer:Mi,indexBuffer:Ra,uniformValues:Ii(Y,_r,oe,In,nr),terrainData:Ao,projectionData:Bt.getProjectionData({overscaledTileID:Qr,applyGlobeMatrix:!Fe,applyTerrainMatrix:!0})};if(Pt){const es=$r.segments.get();for(const cs of es)tr.push({segments:new o.aJ([cs]),sortKey:cs.sortKey,state:ho})}else tr.push({segments:$r.segments,sortKey:0,state:ho})}Pt&&tr.sort((kr,Qr)=>kr.sortKey-Qr.sortKey);for(const kr of tr){const{programConfiguration:Qr,program:_r,layoutVertexBuffer:$r,indexBuffer:Jr,uniformValues:Dn,terrainData:In,projectionData:hn}=kr.state;_r.draw(Ct,Rt.TRIANGLES,Ht,$t,Wt,Zt.backCCW,Dn,In,hn,oe.id,$r,Jr,kr.segments,oe.paint,Y.transform.zoom,Qr)}}(c,g,M,L,j):o.c5(M)?function(Y,te,oe,be,Ce){if(oe.paint.get("heatmap-opacity")===0)return;const Fe=Y.context,{isRenderingToTexture:De,isRenderingGlobe:We}=Ce;if(Y.style.map.terrain){for(const nt of be){const Pt=te.getTile(nt);te.hasRenderableParent(nt)||(Y.renderPass==="offscreen"?sf(Y,Pt,oe,nt,We):Y.renderPass==="translucent"&&Xh(Y,oe,nt,De,We))}Fe.viewport.set([0,0,Y.width,Y.height])}else Y.renderPass==="offscreen"?function(nt,Pt,Ct,Rt){const Bt=nt.context,Ht=Bt.gl,$t=nt.transform,Wt=rn.disabled,tr=new Nt([Ht.ONE,Ht.ONE],o.b7.transparent,[!0,!0,!0,!0]);(function(nr,kr,Qr){const _r=nr.gl;nr.activeTexture.set(_r.TEXTURE1),nr.viewport.set([0,0,kr.width/4,kr.height/4]);let $r=Qr.heatmapFbos.get(o.bW);$r?(_r.bindTexture(_r.TEXTURE_2D,$r.colorAttachment.get()),nr.bindFramebuffer.set($r.framebuffer)):($r=Jh(nr,kr.width/4,kr.height/4),Qr.heatmapFbos.set(o.bW,$r))})(Bt,nt,Ct),Bt.clear({color:o.b7.transparent});for(let nr=0;nr<Rt.length;nr++){const kr=Rt[nr];if(Pt.hasRenderableParent(kr))continue;const Qr=Pt.getTile(kr),_r=Qr.getBucket(Ct);if(!_r)continue;const $r=_r.programConfigurations.get(Ct.id),Jr=nt.useProgram("heatmap",$r),Dn=$t.getProjectionData({overscaledTileID:kr,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),In=$t.getCircleRadiusCorrection();Jr.draw(Bt,Ht.TRIANGLES,pr.disabled,Wt,tr,Zt.backCCW,Uo(Qr,$t.zoom,Ct.paint.get("heatmap-intensity"),In),null,Dn,Ct.id,_r.layoutVertexBuffer,_r.indexBuffer,_r.segments,Ct.paint,$t.zoom,$r)}Bt.viewport.set([0,0,nt.width,nt.height])}(Y,te,oe,be):Y.renderPass==="translucent"&&function(nt,Pt){const Ct=nt.context,Rt=Ct.gl;Ct.setColorMode(nt.colorModeForRenderPass());const Bt=Pt.heatmapFbos.get(o.bW);Bt&&(Ct.activeTexture.set(Rt.TEXTURE0),Rt.bindTexture(Rt.TEXTURE_2D,Bt.colorAttachment.get()),Ct.activeTexture.set(Rt.TEXTURE1),Dd(Ct,Pt).bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE),nt.useProgram("heatmapTexture").draw(Ct,Rt.TRIANGLES,pr.disabled,rn.disabled,nt.colorModeForRenderPass(),Zt.disabled,qc(nt,Pt,0,1),null,null,Pt.id,nt.viewportBuffer,nt.quadTriangleIndexBuffer,nt.viewportSegments,Pt.paint,nt.transform.zoom))}(Y,oe)}(c,g,M,L,j):o.c6(M)?function(Y,te,oe,be,Ce){if(Y.renderPass!=="translucent")return;const{isRenderingToTexture:Fe}=Ce,De=oe.paint.get("line-opacity"),We=oe.paint.get("line-width");if(De.constantOr(1)===0||We.constantOr(1)===0)return;const nt=Y.getDepthModeForSublayer(0,pr.ReadOnly),Pt=Y.colorModeForRenderPass(),Ct=oe.paint.get("line-dasharray"),Rt=oe.paint.get("line-pattern"),Bt=Rt.constantOr(1),Ht=oe.paint.get("line-gradient"),$t=oe.getCrossfadeParameters(),Wt=Bt?"linePattern":Ct?"lineSDF":Ht?"lineGradient":"line",tr=Y.context,nr=tr.gl,kr=Y.transform;let Qr=!0;for(const _r of be){const $r=te.getTile(_r);if(Bt&&!$r.patternsLoaded())continue;const Jr=$r.getBucket(oe);if(!Jr)continue;const Dn=Jr.programConfigurations.get(oe.id),In=Y.context.program.get(),hn=Y.useProgram(Wt,Dn),Jn=Qr||hn.program!==In,Mi=Y.style.map.terrain&&Y.style.map.terrain.getTerrainData(_r),Ra=Rt.constantOr(null);if(Ra&&$r.imageAtlas){const Da=$r.imageAtlas,Aa=Da.patternPositions[Ra.to.toString()],Is=Da.patternPositions[Ra.from.toString()];Aa&&Is&&Dn.setConstantPatternPositions(Aa,Is)}const Ao=kr.getProjectionData({overscaledTileID:_r,applyGlobeMatrix:!Fe,applyTerrainMatrix:!0}),ho=kr.getPixelScale(),es=Bt?nh(Y,$r,oe,ho,$t):Ct?Gh(Y,$r,oe,ho,Ct,$t):Ht?af(Y,$r,oe,ho,Jr.lineClipsArray.length):el(Y,$r,oe,ho);if(Bt)tr.activeTexture.set(nr.TEXTURE0),$r.imageAtlasTexture.bind(nr.LINEAR,nr.CLAMP_TO_EDGE),Dn.updatePaintBuffers($t);else if(Ct&&(Jn||Y.lineAtlas.dirty))tr.activeTexture.set(nr.TEXTURE0),Y.lineAtlas.bind(tr);else if(Ht){const Da=Jr.gradients[oe.id];let Aa=Da.texture;if(oe.gradientVersion!==Da.version){let Is=256;if(oe.stepInterpolant){const nl=te.getSource().maxzoom,Vs=_r.canonical.z===nl?Math.ceil(1<<Y.transform.maxZoom-_r.canonical.z):1;Is=o.ae(o.bX(Jr.maxLineLength/o.Z*1024*Vs),256,tr.maxTextureSize)}Da.gradient=o.bY({expression:oe.gradientExpression(),evaluationKey:"lineProgress",resolution:Is,image:Da.gradient||void 0,clips:Jr.lineClipsArray}),Da.texture?Da.texture.update(Da.gradient):Da.texture=new O(tr,Da.gradient,nr.RGBA),Da.version=oe.gradientVersion,Aa=Da.texture}tr.activeTexture.set(nr.TEXTURE0),Aa.bind(oe.stepInterpolant?nr.NEAREST:nr.LINEAR,nr.CLAMP_TO_EDGE)}const cs=Y.stencilModeForClipping(_r);hn.draw(tr,nr.TRIANGLES,nt,cs,Pt,Zt.disabled,es,Mi,Ao,oe.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,oe.paint,Y.transform.zoom,Dn,Jr.layoutVertexBuffer2),Qr=!1}}(c,g,M,L,j):o.c7(M)?function(Y,te,oe,be,Ce){const Fe=oe.paint.get("fill-color"),De=oe.paint.get("fill-opacity");if(De.constantOr(1)===0)return;const{isRenderingToTexture:We}=Ce,nt=Y.colorModeForRenderPass(),Pt=oe.paint.get("fill-pattern"),Ct=Y.opaquePassEnabledForLayer()&&!Pt.constantOr(1)&&Fe.constantOr(o.b7.transparent).a===1&&De.constantOr(0)===1?"opaque":"translucent";if(Y.renderPass===Ct){const Rt=Y.getDepthModeForSublayer(1,Y.renderPass==="opaque"?pr.ReadWrite:pr.ReadOnly);lf(Y,te,oe,be,Rt,nt,!1,We)}if(Y.renderPass==="translucent"&&oe.paint.get("fill-antialias")){const Rt=Y.getDepthModeForSublayer(oe.getPaintProperty("fill-outline-color")?2:0,pr.ReadOnly);lf(Y,te,oe,be,Rt,nt,!0,We)}}(c,g,M,L,j):o.c8(M)?function(Y,te,oe,be,Ce){const Fe=oe.paint.get("fill-extrusion-opacity");if(Fe===0)return;const{isRenderingToTexture:De}=Ce;if(Y.renderPass==="translucent"){const We=new pr(Y.context.gl.LEQUAL,pr.ReadWrite,Y.depthRangeFor3D);if(Fe!==1||oe.paint.get("fill-extrusion-pattern").constantOr(1))Ss(Y,te,oe,be,We,rn.disabled,Nt.disabled,De),Ss(Y,te,oe,be,We,Y.stencilModeFor3D(),Y.colorModeForRenderPass(),De);else{const nt=Y.colorModeForRenderPass();Ss(Y,te,oe,be,We,rn.disabled,nt,De)}}}(c,g,M,L,j):o.c9(M)?function(Y,te,oe,be,Ce){if(Y.renderPass!=="offscreen"&&Y.renderPass!=="translucent")return;const{isRenderingToTexture:Fe}=Ce,De=Y.context,We=Y.style.projection.useSubdivision,nt=Y.getDepthModeForSublayer(0,pr.ReadOnly),Pt=Y.colorModeForRenderPass();if(Y.renderPass==="offscreen")(function(Ct,Rt,Bt,Ht,$t,Wt,tr){const nr=Ct.context,kr=nr.gl;for(const Qr of Bt){const _r=Rt.getTile(Qr),$r=_r.dem;if(!$r||!$r.data||!_r.needsHillshadePrepare)continue;const Jr=$r.dim,Dn=$r.stride,In=$r.getPixels();if(nr.activeTexture.set(kr.TEXTURE1),nr.pixelStoreUnpackPremultiplyAlpha.set(!1),_r.demTexture=_r.demTexture||Ct.getTileTexture(Dn),_r.demTexture){const Jn=_r.demTexture;Jn.update(In,{premultiply:!1}),Jn.bind(kr.NEAREST,kr.CLAMP_TO_EDGE)}else _r.demTexture=new O(nr,In,kr.RGBA,{premultiply:!1}),_r.demTexture.bind(kr.NEAREST,kr.CLAMP_TO_EDGE);nr.activeTexture.set(kr.TEXTURE0);let hn=_r.fbo;if(!hn){const Jn=new O(nr,{width:Jr,height:Jr,data:null},kr.RGBA);Jn.bind(kr.LINEAR,kr.CLAMP_TO_EDGE),hn=_r.fbo=nr.createFramebuffer(Jr,Jr,!0,!1),hn.colorAttachment.set(Jn.texture)}nr.bindFramebuffer.set(hn.framebuffer),nr.viewport.set([0,0,Jr,Jr]),Ct.useProgram("hillshadePrepare").draw(nr,kr.TRIANGLES,$t,Wt,tr,Zt.disabled,Kl(_r.tileID,$r),null,null,Ht.id,Ct.rasterBoundsBuffer,Ct.quadTriangleIndexBuffer,Ct.rasterBoundsSegments),_r.needsHillshadePrepare=!1}})(Y,te,be,oe,nt,rn.disabled,Pt),De.viewport.set([0,0,Y.width,Y.height]);else if(Y.renderPass==="translucent")if(We){const[Ct,Rt,Bt]=Y.stencilConfigForOverlapTwoPass(be);tl(Y,te,oe,Bt,Ct,nt,Pt,!1,Fe),tl(Y,te,oe,Bt,Rt,nt,Pt,!0,Fe)}else{const[Ct,Rt]=Y.getStencilConfigForOverlapAndUpdateStencilID(be);tl(Y,te,oe,Rt,Ct,nt,Pt,!1,Fe)}}(c,g,M,L,j):o.ca(M)?function(Y,te,oe,be,Ce){if(Y.renderPass!=="translucent"||oe.paint.get("raster-opacity")===0||!be.length)return;const{isRenderingToTexture:Fe}=Ce,De=te.getSource(),We=Y.style.projection.useSubdivision;if(De instanceof yt)Qh(Y,te,oe,be,null,!1,!1,De.tileCoords,De.flippedWindingOrder,Fe);else if(We){const[nt,Pt,Ct]=Y.stencilConfigForOverlapTwoPass(be);Qh(Y,te,oe,Ct,nt,!1,!0,ad,!1,Fe),Qh(Y,te,oe,Ct,Pt,!0,!0,ad,!1,Fe)}else{const[nt,Pt]=Y.getStencilConfigForOverlapAndUpdateStencilID(be);Qh(Y,te,oe,Pt,nt,!1,!0,ad,!1,Fe)}}(c,g,M,L,j):o.cb(M)?function(Y,te,oe,be,Ce){const Fe=oe.paint.get("background-color"),De=oe.paint.get("background-opacity");if(De===0)return;const{isRenderingToTexture:We}=Ce,nt=Y.context,Pt=nt.gl,Ct=Y.style.projection,Rt=Y.transform,Bt=Rt.tileSize,Ht=oe.paint.get("background-pattern");if(Y.isPatternMissing(Ht))return;const $t=!Ht&&Fe.a===1&&De===1&&Y.opaquePassEnabledForLayer()?"opaque":"translucent";if(Y.renderPass!==$t)return;const Wt=rn.disabled,tr=Y.getDepthModeForSublayer(0,$t==="opaque"?pr.ReadWrite:pr.ReadOnly),nr=Y.colorModeForRenderPass(),kr=Y.useProgram(Ht?"backgroundPattern":"background"),Qr=be||Tt(Rt,{tileSize:Bt,terrain:Y.style.map.terrain});Ht&&(nt.activeTexture.set(Pt.TEXTURE0),Y.imageManager.bind(Y.context));const _r=oe.getCrossfadeParameters();for(const $r of Qr){const Jr=Rt.getProjectionData({overscaledTileID:$r,applyGlobeMatrix:!We,applyTerrainMatrix:!0}),Dn=Ht?Tp(De,Y,Ht,{tileID:$r,tileSize:Bt},_r):Iu(De,Fe),In=Y.style.map.terrain&&Y.style.map.terrain.getTerrainData($r),hn=Ct.getMeshFromTileID(nt,$r.canonical,!1,!0,"raster");kr.draw(nt,Pt.TRIANGLES,tr,Wt,nr,Zt.backCCW,Dn,In,Jr,oe.id,hn.vertexBuffer,hn.indexBuffer,hn.segments)}}(c,0,M,L,j):o.cc(M)&&function(Y,te,oe,be){const{isRenderingGlobe:Ce}=be,Fe=Y.context,De=oe.implementation,We=Y.style.projection,nt=Y.transform,Pt=nt.getProjectionDataForCustomLayer(Ce),Ct={farZ:nt.farZ,nearZ:nt.nearZ,fov:nt.fov*Math.PI/180,modelViewProjectionMatrix:nt.modelViewProjectionMatrix,projectionMatrix:nt.projectionMatrix,shaderData:{variantName:We.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${We.shaderPreludeCode.vertexSource}`,define:We.shaderDefine},defaultProjectionData:Pt},Rt=De.renderingMode?De.renderingMode:"2d";if(Y.renderPass==="offscreen"){const Bt=De.prerender;Bt&&(Y.setCustomLayerDefaults(),Fe.setColorMode(Y.colorModeForRenderPass()),Bt.call(De,Fe.gl,Ct),Fe.setDirty(),Y.setBaseState())}else if(Y.renderPass==="translucent"){Y.setCustomLayerDefaults(),Fe.setColorMode(Y.colorModeForRenderPass()),Fe.setStencilMode(rn.disabled);const Bt=Rt==="3d"?Y.getDepthModeFor3D():Y.getDepthModeForSublayer(0,pr.ReadOnly);Fe.setDepthMode(Bt),De.render(Fe.gl,Ct),Fe.setDirty(),Y.setBaseState(),Fe.bindFramebuffer.set(null)}}(c,0,M,j))}saveTileTexture(c){const g=this._tileTextures[c.size[0]];g?g.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const g=this._tileTextures[c];return g&&g.length>0?g.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const g=this.imageManager.getPattern(c.from.toString()),M=this.imageManager.getPattern(c.to.toString());return!g||!M}useProgram(c,g,M=!1,L=[]){this.cache=this.cache||{};const j=!!this.style.map.terrain,Y=this.style.projection,te=M?Co.projectionMercator:Y.shaderPreludeCode,oe=M?du:Y.shaderDefine,be=c+(g?g.cacheKey:"")+`/${M?Ei:Y.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(j?"/terrain":"")+(L?`/${L.join("/")}`:"");return this.cache[be]||(this.cache[be]=new Pa(this.context,Co[c],g,To[c],this._showOverdrawInspector,j,te,oe,L)),this.cache[be]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new O(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:g}=this.context.gl;return this.width!==c||this.height!==g}}function Vc(B,c){let g,M=!1,L=null,j=null;const Y=()=>{L=null,M&&(B.apply(j,g),L=setTimeout(Y,c),M=!1)};return(...te)=>(M=!0,j=this,g=te,L||Y(),L)}class Lu{constructor(c){this._getCurrentHash=()=>{const g=window.location.hash.replace("#","");if(this._hashName){let M;return g.split("&").map(L=>L.split("=")).forEach(L=>{L[0]===this._hashName&&(M=L)}),(M&&M[1]||"").split("/")}return g.split("/")},this._onHashChange=()=>{const g=this._getCurrentHash();if(!this._isValidHash(g))return!1;const M=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(g[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:M,pitch:+(g[4]||0)}),!0},this._updateHashUnthrottled=()=>{const g=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,g)},this._removeHash=()=>{const g=this._getCurrentHash();if(g.length===0)return;const M=g.join("/");let L=M;L.split("&").length>0&&(L=L.split("&")[0]),this._hashName&&(L=`${this._hashName}=${M}`);let j=window.location.hash.replace(L,"");j.startsWith("#&")?j=j.slice(0,1)+j.slice(2):j==="#"&&(j="");let Y=window.location.href.replace(/(#.+)?$/,j);Y=Y.replace("&&","&"),window.history.replaceState(window.history.state,null,Y)},this._updateHash=Vc(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(c){const g=this._map.getCenter(),M=Math.round(100*this._map.getZoom())/100,L=Math.ceil((M*Math.LN2+Math.log(512/360/.5))/Math.LN10),j=Math.pow(10,L),Y=Math.round(g.lng*j)/j,te=Math.round(g.lat*j)/j,oe=this._map.getBearing(),be=this._map.getPitch();let Ce="";if(Ce+=c?`/${Y}/${te}/${M}`:`${M}/${te}/${Y}`,(oe||be)&&(Ce+="/"+Math.round(10*oe)/10),be&&(Ce+=`/${Math.round(be)}`),this._hashName){const Fe=this._hashName;let De=!1;const We=window.location.hash.slice(1).split("&").map(nt=>{const Pt=nt.split("=")[0];return Pt===Fe?(De=!0,`${Pt}=${Ce}`):nt}).filter(nt=>nt);return De||We.push(`${Fe}=${Ce}`),`#${We.join("&")}`}return`#${Ce}`}_isValidHash(c){if(c.length<3||c.some(isNaN))return!1;try{new o.Q(+c[2],+c[1])}catch{return!1}const g=+c[0],M=+(c[3]||0),L=+(c[4]||0);return g>=this._map.getMinZoom()&&g<=this._map.getMaxZoom()&&M>=-180&&M<=180&&L>=this._map.getMinPitch()&&L<=this._map.getMaxPitch()}}const kl={linearity:.3,easing:o.cd(0,0,.3,1)},Nu=o.e({deceleration:2500,maxSpeed:1400},kl),Ld=o.e({deceleration:20,maxSpeed:1400},kl),pt=o.e({deceleration:1e3,maxSpeed:360},kl),Af=o.e({deceleration:1e3,maxSpeed:90},kl),nc=o.e({deceleration:1e3,maxSpeed:360},kl);class Xl{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:p.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,g=p.now();for(;c.length>0&&g-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const g={zoom:0,bearing:0,pitch:0,roll:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:j}of this._inertiaBuffer)g.zoom+=j.zoomDelta||0,g.bearing+=j.bearingDelta||0,g.pitch+=j.pitchDelta||0,g.roll+=j.rollDelta||0,j.panDelta&&g.pan._add(j.panDelta),j.around&&(g.around=j.around),j.pinchAround&&(g.pinchAround=j.pinchAround);const M=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,L={};if(g.pan.mag()){const j=ld(g.pan.mag(),M,o.e({},Nu,c||{})),Y=g.pan.mult(j.amount/g.pan.mag()),te=this._map.cameraHelper.handlePanInertia(Y,this._map.transform);L.center=te.easingCenter,L.offset=te.easingOffset,ea(L,j)}if(g.zoom){const j=ld(g.zoom,M,Ld);L.zoom=this._map.transform.zoom+j.amount,ea(L,j)}if(g.bearing){const j=ld(g.bearing,M,pt);L.bearing=this._map.transform.bearing+o.ae(j.amount,-179,179),ea(L,j)}if(g.pitch){const j=ld(g.pitch,M,Af);L.pitch=this._map.transform.pitch+j.amount,ea(L,j)}if(g.roll){const j=ld(g.roll,M,nc);L.roll=this._map.transform.roll+o.ae(j.amount,-179,179),ea(L,j)}if(L.zoom||L.bearing){const j=g.pinchAround===void 0?g.around:g.pinchAround;L.around=j?this._map.unproject(j):this._map.getCenter()}return this.clear(),o.e(L,{noMoveStart:!0})}}function ea(B,c){(!B.duration||B.duration<c.duration)&&(B.duration=c.duration,B.easing=c.easing)}function ld(B,c,g){const{maxSpeed:M,linearity:L,deceleration:j}=g,Y=o.ae(B*L/(c/1e3),-M,M),te=Math.abs(Y)/(j*L);return{easing:g.easing,duration:1e3*te,amount:Y*(te/2)}}class Os extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,g,M,L={}){M=M instanceof MouseEvent?M:new MouseEvent(c,M);const j=m.mousePos(g.getCanvas(),M),Y=g.unproject(j);super(c,o.e({point:j,lngLat:Y,originalEvent:M},L)),this._defaultPrevented=!1,this.target=g}}class cf extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,g,M){const L=c==="touchend"?M.changedTouches:M.touches,j=m.touchPos(g.getCanvasContainer(),L),Y=j.map(oe=>g.unproject(oe)),te=j.reduce((oe,be,Ce,Fe)=>oe.add(be.div(Fe.length)),new o.P(0,0));super(c,{points:j,point:te,lngLats:Y,lngLat:g.unproject(te),originalEvent:M}),this._defaultPrevented=!1}}class pu extends o.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,g,M){super(c,{originalEvent:M}),this._defaultPrevented=!1}}class us{constructor(c,g){this._map=c,this._clickTolerance=g.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new pu(c.type,this._map,c))}mousedown(c,g){return this._mousedownPos=g,this._firePreventable(new Os(c.type,this._map,c))}mouseup(c){this._map.fire(new Os(c.type,this._map,c))}click(c,g){this._mousedownPos&&this._mousedownPos.dist(g)>=this._clickTolerance||this._map.fire(new Os(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Os(c.type,this._map,c))}mouseover(c){this._map.fire(new Os(c.type,this._map,c))}mouseout(c){this._map.fire(new Os(c.type,this._map,c))}touchstart(c){return this._firePreventable(new cf(c.type,this._map,c))}touchmove(c){this._map.fire(new cf(c.type,this._map,c))}touchend(c){this._map.fire(new cf(c.type,this._map,c))}touchcancel(c){this._map.fire(new cf(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Do{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Os(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Os("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Os(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ic{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.screenPointToLocation(o.P.convert(c),this._map.terrain)}}class Dl{constructor(c,g){this._map=c,this._tr=new ic(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=g.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,g){this.isEnabled()&&c.shiftKey&&c.button===0&&(m.disableDrag(),this._startPos=this._lastPos=g,this._active=!0)}mousemoveWindow(c,g){if(!this._active)return;const M=g;if(this._lastPos.equals(M)||!this._box&&M.dist(this._startPos)<this._clickTolerance)return;const L=this._startPos;this._lastPos=M,this._box||(this._box=m.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const j=Math.min(L.x,M.x),Y=Math.max(L.x,M.x),te=Math.min(L.y,M.y),oe=Math.max(L.y,M.y);m.setTransform(this._box,`translate(${j}px,${te}px)`),this._box.style.width=Y-j+"px",this._box.style.height=oe-te+"px"}mouseupWindow(c,g){if(!this._active||c.button!==0)return;const M=this._startPos,L=g;if(this.reset(),m.suppressClick(),M.x!==L.x||M.y!==L.y)return this._map.fire(new o.l("boxzoomend",{originalEvent:c})),{cameraAnimation:j=>j.fitScreenCoordinates(M,L,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(m.remove(this._box),this._box=null),m.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,g){return this._map.fire(new o.l(c,{originalEvent:g}))}}function Jl(B,c){if(B.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${B.length}, points ${c.length}`);const g={};for(let M=0;M<B.length;M++)g[B[M].identifier]=c[M];return g}class Fl{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,g,M){(this.centroid||M.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),M.length===this.numTouches&&(this.centroid=function(L){const j=new o.P(0,0);for(const Y of L)j._add(Y);return j.div(L.length)}(g),this.touches=Jl(M,g)))}touchmove(c,g,M){if(this.aborted||!this.centroid)return;const L=Jl(M,g);for(const j in this.touches){const Y=L[j];(!Y||Y.dist(this.touches[j])>30)&&(this.aborted=!0)}}touchend(c,g,M){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),M.length===0){const L=!this.aborted&&this.centroid;if(this.reset(),L)return L}}}class ac{constructor(c){this.singleTap=new Fl(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,g,M){this.singleTap.touchstart(c,g,M)}touchmove(c,g,M){this.singleTap.touchmove(c,g,M)}touchend(c,g,M){const L=this.singleTap.touchend(c,g,M);if(L){const j=c.timeStamp-this.lastTime<500,Y=!this.lastTap||this.lastTap.dist(L)<30;if(j&&Y||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}}}class Hs{constructor(c){this._tr=new ic(c),this._zoomIn=new ac({numTouches:1,numTaps:2}),this._zoomOut=new ac({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,g,M){this._zoomIn.touchstart(c,g,M),this._zoomOut.touchstart(c,g,M)}touchmove(c,g,M){this._zoomIn.touchmove(c,g,M),this._zoomOut.touchmove(c,g,M)}touchend(c,g,M){const L=this._zoomIn.touchend(c,g,M),j=this._zoomOut.touchend(c,g,M),Y=this._tr;return L?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:te=>te.easeTo({duration:300,zoom:Y.zoom+1,around:Y.unproject(L)},{originalEvent:c})}):j?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:te=>te.easeTo({duration:300,zoom:Y.zoom-1,around:Y.unproject(j)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Es{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const g=this._moveFunction(...c);if(g.bearingDelta||g.pitchDelta||g.rollDelta||g.around||g.panDelta)return this._active=!0,g}dragStart(c,g){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=Array.isArray(g)?g[0]:g,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,g){if(!this.isEnabled())return;const M=this._lastPoint;if(!M)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const L=Array.isArray(g)?g[0]:g;return!this._moved&&L.dist(M)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=L,this._move(M,L))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&m.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Gc={0:1,2:2};class ff{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const g=m.mouseButton(c);this._eventButton=g}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!function(g,M){const L=Gc[M];return g.buttons===void 0||(g.buttons&L)!==L}(c,this._eventButton)}isValidEndEvent(c){return m.mouseButton(c)===this._eventButton}}class Cs{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}class dh{constructor(c=new ff({checkCorrectEvent:()=>!0}),g=new Cs){this.mouseMoveStateManager=c,this.oneFingerTouchMoveStateManager=g}_executeRelevantHandler(c,g,M){return c instanceof MouseEvent?g(c):typeof TouchEvent<"u"&&c instanceof TouchEvent?M(c):void 0}startMove(c){this._executeRelevantHandler(c,g=>this.mouseMoveStateManager.startMove(g),g=>this.oneFingerTouchMoveStateManager.startMove(g))}endMove(c){this._executeRelevantHandler(c,g=>this.mouseMoveStateManager.endMove(g),g=>this.oneFingerTouchMoveStateManager.endMove(g))}isValidStartEvent(c){return this._executeRelevantHandler(c,g=>this.mouseMoveStateManager.isValidStartEvent(g),g=>this.oneFingerTouchMoveStateManager.isValidStartEvent(g))}isValidMoveEvent(c){return this._executeRelevantHandler(c,g=>this.mouseMoveStateManager.isValidMoveEvent(g),g=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(g))}isValidEndEvent(c){return this._executeRelevantHandler(c,g=>this.mouseMoveStateManager.isValidEndEvent(g),g=>this.oneFingerTouchMoveStateManager.isValidEndEvent(g))}}const oc=B=>{B.mousedown=B.dragStart,B.mousemoveWindow=B.dragMove,B.mouseup=B.dragEnd,B.contextmenu=c=>{c.preventDefault()}};class Cm{constructor(c,g){this._clickTolerance=c.clickTolerance||1,this._map=g,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0)}_shouldBePrevented(c){return c<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(c,g,M){return this._calculateTransform(c,g,M)}touchmove(c,g,M){if(this._active){if(!this._shouldBePrevented(M.length))return c.preventDefault(),this._calculateTransform(c,g,M);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",c)}}touchend(c,g,M){this._calculateTransform(c,g,M),this._active&&this._shouldBePrevented(M.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,g,M){M.length>0&&(this._active=!0);const L=Jl(M,g),j=new o.P(0,0),Y=new o.P(0,0);let te=0;for(const be in L){const Ce=L[be],Fe=this._touches[be];Fe&&(j._add(Ce),Y._add(Ce.sub(Fe)),te++,L[be]=Ce)}if(this._touches=L,this._shouldBePrevented(te)||!Y.mag())return;const oe=Y.div(te);return this._sum._add(oe),this._sum.mag()<this._clickTolerance?void 0:{around:j.div(te),panDelta:oe}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Op{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,g,M){this._firstTwoTouches||M.length<2||(this._firstTwoTouches=[M[0].identifier,M[1].identifier],this._start([g[0],g[1]]))}touchmove(c,g,M){if(!this._firstTwoTouches)return;c.preventDefault();const[L,j]=this._firstTwoTouches,Y=Ip(M,g,L),te=Ip(M,g,j);if(!Y||!te)return;const oe=this._aroundCenter?null:Y.add(te).div(2);return this._move([Y,te],oe,c)}touchend(c,g,M){if(!this._firstTwoTouches)return;const[L,j]=this._firstTwoTouches,Y=Ip(M,g,L),te=Ip(M,g,j);Y&&te||(this._active&&m.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Ip(B,c,g){for(let M=0;M<B.length;M++)if(B[M].identifier===g)return c[M]}function ud(B,c){return Math.log(B/c)/Math.LN2}class mu extends Op{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,g){const M=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(ud(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ud(this._distance,M),pinchAround:g}}}function gu(B,c){return 180*B.angleWith(c)/Math.PI}class qn extends Op{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,g,M){const L=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:gu(this._vector,L),pinchAround:g}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const g=25/(Math.PI*this._minDiameter)*360,M=gu(c,this._startVector);return Math.abs(M)<g}}function hh(B){return Math.abs(B.y)>Math.abs(B.x)}class Nd extends Op{constructor(c){super(),this._currentTouchCount=0,this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,g,M){super.touchstart(c,g,M),this._currentTouchCount=M.length}_start(c){this._lastPoints=c,hh(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,g,M){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const L=c[0].sub(this._lastPoints[0]),j=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(L,j,M.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(L.y+j.y)/2*-.5}):void 0}gestureBeginsVertically(c,g,M){if(this._valid!==void 0)return this._valid;const L=c.mag()>=2,j=g.mag()>=2;if(!L&&!j)return;if(!L||!j)return this._firstMove===void 0&&(this._firstMove=M),M-this._firstMove<100&&void 0;const Y=c.y>0==g.y>0;return hh(c)&&hh(g)&&Y}}const Tc={panStep:100,bearingStep:15,pitchStep:10};class Ql{constructor(c){this._tr=new ic(c);const g=Tc;this._panStep=g.panStep,this._bearingStep=g.bearingStep,this._pitchStep=g.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let g=0,M=0,L=0,j=0,Y=0;switch(c.keyCode){case 61:case 107:case 171:case 187:g=1;break;case 189:case 109:case 173:g=-1;break;case 37:c.shiftKey?M=-1:(c.preventDefault(),j=-1);break;case 39:c.shiftKey?M=1:(c.preventDefault(),j=1);break;case 38:c.shiftKey?L=1:(c.preventDefault(),Y=-1);break;case 40:c.shiftKey?L=-1:(c.preventDefault(),Y=1);break;default:return}return this._rotationDisabled&&(M=0,L=0),{cameraAnimation:te=>{const oe=this._tr;te.easeTo({duration:300,easeId:"keyboardHandler",easing:Kc,zoom:g?Math.round(oe.zoom)+g*(c.shiftKey?2:1):oe.zoom,bearing:oe.bearing+M*this._bearingStep,pitch:oe.pitch+L*this._pitchStep,offset:[-j*this._panStep,-Y*this._panStep],center:oe.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Kc(B){return B*(2-B)}const Zc=4.000244140625;class ta{constructor(c,g){this._onTimeout=M=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(M)},this._map=c,this._tr=new ic(c),this._triggerRenderFrame=g,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(c){return!!this._map.cooperativeGestures.isEnabled()&&!(c.ctrlKey||this._map.cooperativeGestures.isBypassed(c))}wheel(c){if(!this.isEnabled())return;if(this._shouldBePrevented(c))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",c);let g=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const M=p.now(),L=M-(this._lastWheelEventTime||0);this._lastWheelEventTime=M,g!==0&&g%Zc==0?this._type="wheel":g!==0&&Math.abs(g)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=g,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(L*g)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,g+=this._lastValue)),c.shiftKey&&g&&(g/=4),this._type&&(this._lastWheelEvent=c,this._delta-=g,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const g=m.mousePos(this._map.getCanvas(),c),M=this._tr;this._aroundPoint=this._aroundCenter?M.transform.locationToScreenPoint(o.Q.convert(M.center)):g,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const te=c.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=te),typeof this._targetZoom=="number"&&(this._targetZoom+=te)}if(this._delta!==0){const te=this._type==="wheel"&&Math.abs(this._delta)>Zc?this._wheelZoomRate:this._defaultZoomRate;let oe=2/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&oe!==0&&(oe=1/oe);const be=typeof this._targetZoom!="number"?c.scale:o.ac(this._targetZoom);this._targetZoom=c.getConstrained(c.getCameraLngLat(),o.ah(be*oe)).zoom,this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const g=typeof this._targetZoom!="number"?c.zoom:this._targetZoom,M=this._startZoom,L=this._easing;let j,Y=!1;if(this._type==="wheel"&&M&&L){const te=p.now()-this._lastWheelEventTime,oe=Math.min((te+5)/200,1),be=L(oe);j=o.B.number(M,g,be),oe<1?this._frameId||(this._frameId=!0):Y=!0}else j=g,Y=!0;return this._active=!0,Y&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=j,{noInertia:!0,needsRenderFrame:!Y,zoomDelta:j-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let g=o.cf;if(this._prevEase){const M=this._prevEase,L=(p.now()-M.start)/M.duration,j=M.easing(L+.01)-M.easing(L),Y=.27/Math.sqrt(j*j+1e-4)*.01,te=Math.sqrt(.0729-Y*Y);g=o.cd(Y,te,.25,1)}return this._prevEase={start:p.now(),duration:c,easing:g},g}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Of{constructor(c,g){this._clickZoom=c,this._tapZoom=g}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class hg{constructor(c){this._tr=new ic(c),this.reset()}reset(){this._active=!1}dblclick(c,g){return c.preventDefault(),{cameraAnimation:M=>{M.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(g)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $d{constructor(){this._tap=new ac({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,g,M){if(!this._swipePoint)if(this._tapTime){const L=g[0],j=c.timeStamp-this._tapTime<500,Y=this._tapPoint.dist(L)<30;j&&Y?M.length>0&&(this._swipePoint=L,this._swipeTouch=M[0].identifier):this.reset()}else this._tap.touchstart(c,g,M)}touchmove(c,g,M){if(this._tapTime){if(this._swipePoint){if(M[0].identifier!==this._swipeTouch)return;const L=g[0],j=L.y-this._swipePoint.y;return this._swipePoint=L,c.preventDefault(),this._active=!0,{zoomDelta:j/128}}}else this._tap.touchmove(c,g,M)}touchend(c,g,M){if(this._tapTime)this._swipePoint&&M.length===0&&this.reset();else{const L=this._tap.touchend(c,g,M);L&&(this._tapTime=c.timeStamp,this._tapPoint=L)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class If{constructor(c,g,M){this._el=c,this._mousePan=g,this._touchPan=M}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ll{constructor(c,g,M,L){this._pitchWithRotate=c.pitchWithRotate,this._rollEnabled=c.rollEnabled,this._mouseRotate=g,this._mousePitch=M,this._mouseRoll=L}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class eu{constructor(c,g,M,L){this._el=c,this._touchZoom=g,this._touchRotate=M,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Fo{constructor(c,g){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=c,this._options=g,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const c=this._map.getCanvasContainer();c.classList.add("maplibregl-cooperative-gestures"),this._container=m.create("div","maplibregl-cooperative-gesture-screen",c);let g=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(g=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const M=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),L=document.createElement("div");L.className="maplibregl-desktop-message",L.textContent=g,this._container.appendChild(L);const j=document.createElement("div");j.className="maplibregl-mobile-message",j.textContent=M,this._container.appendChild(j),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(m.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(c){return c[this._bypassKey]}notifyGestureBlocked(c,g){this._enabled&&(this._map.fire(new o.l("cooperativegestureprevented",{gestureType:c,originalEvent:g})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const vu=B=>B.zoom||B.drag||B.roll||B.pitch||B.rotate;class Rc extends o.l{}function cd(B){return B.panDelta&&B.panDelta.mag()||B.zoomDelta||B.bearingDelta||B.pitchDelta||B.rollDelta}class Mf{constructor(c,g){this.handleWindowEvent=L=>{this.handleEvent(L,`${L.type}Window`)},this.handleEvent=(L,j)=>{if(L.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const Y=L.type==="renderFrame"?void 0:L,te={needsRenderFrame:!1},oe={},be={};for(const{handlerName:De,handler:We,allowed:nt}of this._handlers){if(!We.isEnabled())continue;let Pt;if(this._blockedByActive(be,nt,De))We.reset();else if(We[j||L.type]){if(o.cg(L,j||L.type)){const Ct=m.mousePos(this._map.getCanvas(),L);Pt=We[j||L.type](L,Ct)}else if(o.ch(L,j||L.type)){const Ct=this._getMapTouches(L.touches),Rt=m.touchPos(this._map.getCanvas(),Ct);Pt=We[j||L.type](L,Rt,Ct)}else o.ci(j||L.type)||(Pt=We[j||L.type](L));this.mergeHandlerResult(te,oe,Pt,De,Y),Pt&&Pt.needsRenderFrame&&this._triggerRenderFrame()}(Pt||We.isActive())&&(be[De]=We)}const Ce={};for(const De in this._previousActiveHandlers)be[De]||(Ce[De]=Y);this._previousActiveHandlers=be,(Object.keys(Ce).length||cd(te))&&(this._changes.push([te,oe,Ce]),this._triggerRenderFrame()),(Object.keys(be).length||cd(te))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Fe}=te;Fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Fe(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Xl(c),this._bearingSnap=g.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(g);const M=this._el;this._listeners=[[M,"touchstart",{passive:!0}],[M,"touchmove",{passive:!1}],[M,"touchend",void 0],[M,"touchcancel",void 0],[M,"mousedown",void 0],[M,"mousemove",void 0],[M,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[M,"mouseover",void 0],[M,"mouseout",void 0],[M,"dblclick",void 0],[M,"click",void 0],[M,"keydown",{capture:!1}],[M,"keyup",void 0],[M,"wheel",{passive:!1}],[M,"contextmenu",void 0],[window,"blur",void 0]];for(const[L,j,Y]of this._listeners)m.addEventListener(L,j,L===document?this.handleWindowEvent:this.handleEvent,Y)}destroy(){for(const[c,g,M]of this._listeners)m.removeEventListener(c,g,c===document?this.handleWindowEvent:this.handleEvent,M)}_addDefaultHandlers(c){const g=this._map,M=g.getCanvasContainer();this._add("mapEvent",new us(g,c));const L=g.boxZoom=new Dl(g,c);this._add("boxZoom",L),c.interactive&&c.boxZoom&&L.enable();const j=g.cooperativeGestures=new Fo(g,c.cooperativeGestures);this._add("cooperativeGestures",j),c.cooperativeGestures&&j.enable();const Y=new Hs(g),te=new hg(g);g.doubleClickZoom=new Of(te,Y),this._add("tapZoom",Y),this._add("clickZoom",te),c.interactive&&c.doubleClickZoom&&g.doubleClickZoom.enable();const oe=new $d;this._add("tapDragZoom",oe);const be=g.touchPitch=new Nd(g);this._add("touchPitch",be),c.interactive&&c.touchPitch&&g.touchPitch.enable(c.touchPitch);const Ce=()=>g.project(g.getCenter()),Fe=function({enable:$t,clickTolerance:Wt,aroundCenter:tr=!0,minPixelCenterThreshold:nr=100,rotateDegreesPerPixelMoved:kr=.8},Qr){const _r=new ff({checkCorrectEvent:$r=>m.mouseButton($r)===0&&$r.ctrlKey||m.mouseButton($r)===2&&!$r.ctrlKey});return new Es({clickTolerance:Wt,move:($r,Jr)=>{const Dn=Qr();if(tr&&Math.abs(Dn.y-$r.y)>nr)return{bearingDelta:o.ce(new o.P($r.x,Jr.y),Jr,Dn)};let In=(Jr.x-$r.x)*kr;return tr&&Jr.y<Dn.y&&(In=-In),{bearingDelta:In}},moveStateManager:_r,enable:$t,assignEvents:oc})}(c,Ce),De=function({enable:$t,clickTolerance:Wt,pitchDegreesPerPixelMoved:tr=-.5}){const nr=new ff({checkCorrectEvent:kr=>m.mouseButton(kr)===0&&kr.ctrlKey||m.mouseButton(kr)===2});return new Es({clickTolerance:Wt,move:(kr,Qr)=>({pitchDelta:(Qr.y-kr.y)*tr}),moveStateManager:nr,enable:$t,assignEvents:oc})}(c),We=function({enable:$t,clickTolerance:Wt,rollDegreesPerPixelMoved:tr=.3},nr){const kr=new ff({checkCorrectEvent:Qr=>m.mouseButton(Qr)===2&&Qr.ctrlKey});return new Es({clickTolerance:Wt,move:(Qr,_r)=>{const $r=nr();let Jr=(_r.x-Qr.x)*tr;return _r.y<$r.y&&(Jr=-Jr),{rollDelta:Jr}},moveStateManager:kr,enable:$t,assignEvents:oc})}(c,Ce);g.dragRotate=new Ll(c,Fe,De,We),this._add("mouseRotate",Fe,["mousePitch"]),this._add("mousePitch",De,["mouseRotate","mouseRoll"]),this._add("mouseRoll",We,["mousePitch"]),c.interactive&&c.dragRotate&&g.dragRotate.enable();const nt=function({enable:$t,clickTolerance:Wt}){const tr=new ff({checkCorrectEvent:nr=>m.mouseButton(nr)===0&&!nr.ctrlKey});return new Es({clickTolerance:Wt,move:(nr,kr)=>({around:kr,panDelta:kr.sub(nr)}),activateOnStart:!0,moveStateManager:tr,enable:$t,assignEvents:oc})}(c),Pt=new Cm(c,g);g.dragPan=new If(M,nt,Pt),this._add("mousePan",nt),this._add("touchPan",Pt,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&g.dragPan.enable(c.dragPan);const Ct=new qn,Rt=new mu;g.touchZoomRotate=new eu(M,Rt,Ct,oe),this._add("touchRotate",Ct,["touchPan","touchZoom"]),this._add("touchZoom",Rt,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&g.touchZoomRotate.enable(c.touchZoomRotate);const Bt=g.scrollZoom=new ta(g,()=>this._triggerRenderFrame());this._add("scrollZoom",Bt,["mousePan"]),c.interactive&&c.scrollZoom&&g.scrollZoom.enable(c.scrollZoom);const Ht=g.keyboard=new Ql(g);this._add("keyboard",Ht),c.interactive&&c.keyboard&&g.keyboard.enable(),this._add("blockableMapEvent",new Do(g))}_add(c,g,M){this._handlers.push({handlerName:c,handler:g,allowed:M}),this._handlersById[c]=g}stop(c){if(!this._updatingCamera){for(const{handler:g}of this._handlers)g.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!vu(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,g,M){for(const L in c)if(L!==M&&(!g||g.indexOf(L)<0))return!0;return!1}_getMapTouches(c){const g=[];for(const M of c)this._el.contains(M.target)&&g.push(M);return g}mergeHandlerResult(c,g,M,L,j){if(!M)return;o.e(c,M);const Y={handlerName:L,originalEvent:M.originalEvent||j};M.zoomDelta!==void 0&&(g.zoom=Y),M.panDelta!==void 0&&(g.drag=Y),M.rollDelta!==void 0&&(g.roll=Y),M.pitchDelta!==void 0&&(g.pitch=Y),M.bearingDelta!==void 0&&(g.rotate=Y)}_applyChanges(){const c={},g={},M={};for(const[L,j,Y]of this._changes)L.panDelta&&(c.panDelta=(c.panDelta||new o.P(0,0))._add(L.panDelta)),L.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+L.zoomDelta),L.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+L.bearingDelta),L.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+L.pitchDelta),L.rollDelta&&(c.rollDelta=(c.rollDelta||0)+L.rollDelta),L.around!==void 0&&(c.around=L.around),L.pinchAround!==void 0&&(c.pinchAround=L.pinchAround),L.noInertia&&(c.noInertia=L.noInertia),o.e(g,j),o.e(M,Y);this._updateMapTransform(c,g,M),this._changes=[]}_updateMapTransform(c,g,M){const L=this._map,j=L._getTransformForUpdate(),Y=L.terrain;if(!(cd(c)||Y&&this._terrainMovement))return this._fireEvents(g,M,!0);L._stop(!0);let{panDelta:te,zoomDelta:oe,bearingDelta:be,pitchDelta:Ce,rollDelta:Fe,around:De,pinchAround:We}=c;We!==void 0&&(De=We),De=De||L.transform.centerPoint,Y&&!j.isPointOnMapSurface(De)&&(De=j.centerPoint);const nt={panDelta:te,zoomDelta:oe,rollDelta:Fe,pitchDelta:Ce,bearingDelta:be,around:De};this._map.cameraHelper.useGlobeControls&&!j.isPointOnMapSurface(De)&&(De=j.centerPoint);const Pt=De.distSqr(j.centerPoint)<.01?j.center:j.screenPointToLocation(te?De.sub(te):De);Y?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(nt,j),this._terrainMovement||!g.drag&&!g.zoom?g.drag&&this._terrainMovement?j.setCenter(j.screenPointToLocation(j.centerPoint.sub(te))):this._map.cameraHelper.handleMapControlsPan(nt,j,Pt):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(nt,j,Pt))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(nt,j),this._map.cameraHelper.handleMapControlsPan(nt,j,Pt)),L._applyUpdatedTransform(j),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(g,M,!0)}_fireEvents(c,g,M){const L=vu(this._eventsInProgress),j=vu(c),Y={};for(const Fe in c){const{originalEvent:De}=c[Fe];this._eventsInProgress[Fe]||(Y[`${Fe}start`]=De),this._eventsInProgress[Fe]=c[Fe]}!L&&j&&this._fireEvent("movestart",j.originalEvent);for(const Fe in Y)this._fireEvent(Fe,Y[Fe]);j&&this._fireEvent("move",j.originalEvent);for(const Fe in c){const{originalEvent:De}=c[Fe];this._fireEvent(Fe,De)}const te={};let oe;for(const Fe in this._eventsInProgress){const{handlerName:De,originalEvent:We}=this._eventsInProgress[Fe];this._handlersById[De].isActive()||(delete this._eventsInProgress[Fe],oe=g[De]||We,te[`${Fe}end`]=oe)}for(const Fe in te)this._fireEvent(Fe,te[Fe]);const be=vu(this._eventsInProgress),Ce=(L||j)&&!be;if(Ce&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Fe=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Fe.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Fe)}if(M&&Ce){this._updatingCamera=!0;const Fe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),De=We=>We!==0&&-this._bearingSnap<We&&We<this._bearingSnap;!Fe||!Fe.essential&&p.prefersReducedMotion?(this._map.fire(new o.l("moveend",{originalEvent:oe})),De(this._map.getBearing())&&this._map.resetNorth()):(De(Fe.bearing||this._map.getBearing())&&(Fe.bearing=0),Fe.freezeElevation=!0,this._map.easeTo(Fe,{originalEvent:oe})),this._updatingCamera=!1}}_fireEvent(c,g){this._map.fire(new o.l(c,g?{originalEvent:g}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{delete this._frameId,this.handleEvent(new Rc("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class sc extends o.E{constructor(c,g,M){super(),this._renderFrameCallback=()=>{const L=Math.min((p.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(L)),L<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=M.bearingSnap,this.cameraHelper=g,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(c,g){c.apply(this.transform),this.transform=c,this.cameraHelper=g}getCenter(){return new o.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(c,g){return this.jumpTo({center:c},g)}getCenterElevation(){return this.transform.elevation}setCenterElevation(c,g){return this.jumpTo({elevation:c},g),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(c){this._centerClampedToGround=c}panBy(c,g,M){return c=o.P.convert(c).mult(-1),this.panTo(this.transform.center,o.e({offset:c},g),M)}panTo(c,g,M){return this.easeTo(o.e({center:c},g),M)}getZoom(){return this.transform.zoom}setZoom(c,g){return this.jumpTo({zoom:c},g),this}zoomTo(c,g,M){return this.easeTo(o.e({zoom:c},g),M)}zoomIn(c,g){return this.zoomTo(this.getZoom()+1,c,g),this}zoomOut(c,g){return this.zoomTo(this.getZoom()-1,c,g),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(c,g){return c!=this.transform.fov&&(this.transform.setFov(c),this.fire(new o.l("movestart",g)).fire(new o.l("move",g)).fire(new o.l("moveend",g))),this}getBearing(){return this.transform.bearing}setBearing(c,g){return this.jumpTo({bearing:c},g),this}getPadding(){return this.transform.padding}setPadding(c,g){return this.jumpTo({padding:c},g),this}rotateTo(c,g,M){return this.easeTo(o.e({bearing:c},g),M)}resetNorth(c,g){return this.rotateTo(0,o.e({duration:1e3},c),g),this}resetNorthPitch(c,g){return this.easeTo(o.e({bearing:0,pitch:0,roll:0,duration:1e3},c),g),this}snapToNorth(c,g){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,g):this}getPitch(){return this.transform.pitch}setPitch(c,g){return this.jumpTo({pitch:c},g),this}getRoll(){return this.transform.roll}setRoll(c,g){return this.jumpTo({roll:c},g),this}cameraForBounds(c,g){c=he.convert(c).adjustAntiMeridian();const M=g&&g.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),M,g)}_cameraForBoxAndBearing(c,g,M,L){const j={top:0,bottom:0,right:0,left:0};if(typeof(L=o.e({padding:j,offset:[0,0],maxZoom:this.transform.maxZoom},L)).padding=="number"){const be=L.padding;L.padding={top:be,bottom:be,right:be,left:be}}const Y=o.e(j,L.padding);L.padding=Y;const te=this.transform,oe=new he(c,g);return this.cameraHelper.cameraForBoxAndBearing(L,Y,oe,M,te)}fitBounds(c,g,M){return this._fitInternal(this.cameraForBounds(c,g),g,M)}fitScreenCoordinates(c,g,M,L,j){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(o.P.convert(c)),this.transform.screenPointToLocation(o.P.convert(g)),M,L),L,j)}_fitInternal(c,g,M){return c?(delete(g=o.e(c,g)).padding,g.linear?this.easeTo(g,M):this.flyTo(g,M)):this}jumpTo(c,g){this.stop();const M=this._getTransformForUpdate();let L=!1,j=!1,Y=!1;const te=M.zoom;this.cameraHelper.handleJumpToCenterZoom(M,c);const oe=M.zoom!==te;return"elevation"in c&&M.elevation!==+c.elevation&&M.setElevation(+c.elevation),"bearing"in c&&M.bearing!==+c.bearing&&(L=!0,M.setBearing(+c.bearing)),"pitch"in c&&M.pitch!==+c.pitch&&(j=!0,M.setPitch(+c.pitch)),"roll"in c&&M.roll!==+c.roll&&(Y=!0,M.setRoll(+c.roll)),c.padding==null||M.isPaddingEqual(c.padding)||M.setPadding(c.padding),this._applyUpdatedTransform(M),this.fire(new o.l("movestart",g)).fire(new o.l("move",g)),oe&&this.fire(new o.l("zoomstart",g)).fire(new o.l("zoom",g)).fire(new o.l("zoomend",g)),L&&this.fire(new o.l("rotatestart",g)).fire(new o.l("rotate",g)).fire(new o.l("rotateend",g)),j&&this.fire(new o.l("pitchstart",g)).fire(new o.l("pitch",g)).fire(new o.l("pitchend",g)),Y&&this.fire(new o.l("rollstart",g)).fire(new o.l("roll",g)).fire(new o.l("rollend",g)),this.fire(new o.l("moveend",g))}calculateCameraOptionsFromTo(c,g,M,L=0){const j=o.$.fromLngLat(c,g),Y=o.$.fromLngLat(M,L),te=Y.x-j.x,oe=Y.y-j.y,be=Y.z-j.z,Ce=Math.hypot(te,oe,be);if(Ce===0)throw new Error("Can't calculate camera options with same From and To");const Fe=Math.hypot(te,oe),De=o.ah(this.transform.cameraToCenterDistance/Ce/this.transform.tileSize),We=180*Math.atan2(te,-oe)/Math.PI;let nt=180*Math.acos(Fe/Ce)/Math.PI;return nt=be<0?90-nt:90+nt,{center:Y.toLngLat(),elevation:L,zoom:De,pitch:nt,bearing:We}}calculateCameraOptionsFromCameraLngLatAltRotation(c,g,M,L,j){const Y=this.transform.calculateCenterFromCameraLngLatAlt(c,g,M,L);return{center:Y.center,elevation:Y.elevation,zoom:Y.zoom,bearing:M,pitch:L,roll:j}}easeTo(c,g){this._stop(!1,c.easeId),((c=o.e({offset:[0,0],duration:500,easing:o.cf},c)).animate===!1||!c.essential&&p.prefersReducedMotion)&&(c.duration=0);const M=this._getTransformForUpdate(),L=this.getBearing(),j=M.pitch,Y=M.roll,te="bearing"in c?this._normalizeBearing(c.bearing,L):L,oe="pitch"in c?+c.pitch:j,be="roll"in c?this._normalizeBearing(c.roll,Y):Y,Ce="padding"in c?c.padding:M.padding,Fe=o.P.convert(c.offset);let De,We;c.around&&(De=o.Q.convert(c.around),We=M.locationToScreenPoint(De));const nt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Pt=this.cameraHelper.handleEaseTo(M,{bearing:te,pitch:oe,roll:be,padding:Ce,around:De,aroundPoint:We,offsetAsPoint:Fe,offset:c.offset,zoom:c.zoom,center:c.center});return this._rotating=this._rotating||L!==te,this._pitching=this._pitching||oe!==j,this._rolling=this._rolling||be!==Y,this._padding=!M.isPaddingEqual(Ce),this._zooming=this._zooming||Pt.isZooming,this._easeId=c.easeId,this._prepareEase(g,c.noMoveStart,nt),this.terrain&&this._prepareElevation(Pt.elevationCenter),this._ease(Ct=>{Pt.easeFunc(Ct),this.terrain&&!c.freezeElevation&&this._updateElevation(Ct),this._applyUpdatedTransform(M),this._fireMoveEvents(g)},Ct=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(g,Ct)},c),this}_prepareEase(c,g,M={}){this._moving=!0,g||M.moving||this.fire(new o.l("movestart",c)),this._zooming&&!M.zooming&&this.fire(new o.l("zoomstart",c)),this._rotating&&!M.rotating&&this.fire(new o.l("rotatestart",c)),this._pitching&&!M.pitching&&this.fire(new o.l("pitchstart",c)),this._rolling&&!M.rolling&&this.fire(new o.l("rollstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const g=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&g!==this._elevationTarget){const M=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(M-(g-(M*c+this._elevationStart))/(1-c)),this._elevationTarget=g}this.transform.setElevation(o.B.number(this._elevationStart,this._elevationTarget,c))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(c){if(!this.terrain&&c.elevation>=0&&c.pitch<=90)return{};const g=c.getCameraLngLat(),M=c.getCameraAltitude(),L=this.terrain?this.terrain.getElevationForLngLatZoom(g,c.zoom):0;if(M<L){const j=this.calculateCameraOptionsFromTo(g,L,c.center,c.elevation);return{pitch:j.pitch,zoom:j.zoom}}return{}}_applyUpdatedTransform(c){const g=[];if(g.push(L=>this._elevateCameraIfInsideTerrain(L)),this.transformCameraUpdate&&g.push(L=>this.transformCameraUpdate(L)),!g.length)return;const M=c.clone();for(const L of g){const j=M.clone(),{center:Y,zoom:te,roll:oe,pitch:be,bearing:Ce,elevation:Fe}=L(j);Y&&j.setCenter(Y),Fe!==void 0&&j.setElevation(Fe),te!==void 0&&j.setZoom(te),oe!==void 0&&j.setRoll(oe),be!==void 0&&j.setPitch(be),Ce!==void 0&&j.setBearing(Ce),M.apply(j)}this.transform.apply(M)}_fireMoveEvents(c){this.fire(new o.l("move",c)),this._zooming&&this.fire(new o.l("zoom",c)),this._rotating&&this.fire(new o.l("rotate",c)),this._pitching&&this.fire(new o.l("pitch",c)),this._rolling&&this.fire(new o.l("roll",c))}_afterEase(c,g){if(this._easeId&&g&&this._easeId===g)return;delete this._easeId;const M=this._zooming,L=this._rotating,j=this._pitching,Y=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,M&&this.fire(new o.l("zoomend",c)),L&&this.fire(new o.l("rotateend",c)),j&&this.fire(new o.l("pitchend",c)),Y&&this.fire(new o.l("rollend",c)),this.fire(new o.l("moveend",c))}flyTo(c,g){if(!c.essential&&p.prefersReducedMotion){const Jr=o.O(c,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Jr,g)}this.stop(),c=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.cf},c);const M=this._getTransformForUpdate(),L=M.bearing,j=M.pitch,Y=M.roll,te=M.padding,oe="bearing"in c?this._normalizeBearing(c.bearing,L):L,be="pitch"in c?+c.pitch:j,Ce="roll"in c?this._normalizeBearing(c.roll,Y):Y,Fe="padding"in c?c.padding:M.padding,De=o.P.convert(c.offset);let We=M.centerPoint.add(De);const nt=M.screenPointToLocation(We),Pt=this.cameraHelper.handleFlyTo(M,{bearing:oe,pitch:be,roll:Ce,padding:Fe,locationAtOffset:nt,offsetAsPoint:De,center:c.center,minZoom:c.minZoom,zoom:c.zoom});let Ct=c.curve;const Rt=Math.max(M.width,M.height),Bt=Rt/Pt.scaleOfZoom,Ht=Pt.pixelPathLength;typeof Pt.scaleOfMinZoom=="number"&&(Ct=Math.sqrt(Rt/Pt.scaleOfMinZoom/Ht*2));const $t=Ct*Ct;function Wt(Jr){const Dn=(Bt*Bt-Rt*Rt+(Jr?-1:1)*$t*$t*Ht*Ht)/(2*(Jr?Bt:Rt)*$t*Ht);return Math.log(Math.sqrt(Dn*Dn+1)-Dn)}function tr(Jr){return(Math.exp(Jr)-Math.exp(-Jr))/2}function nr(Jr){return(Math.exp(Jr)+Math.exp(-Jr))/2}const kr=Wt(!1);let Qr=function(Jr){return nr(kr)/nr(kr+Ct*Jr)},_r=function(Jr){return Rt*((nr(kr)*(tr(Dn=kr+Ct*Jr)/nr(Dn))-tr(kr))/$t)/Ht;var Dn},$r=(Wt(!0)-kr)/Ct;if(Math.abs(Ht)<2e-6||!isFinite($r)){if(Math.abs(Rt-Bt)<1e-6)return this.easeTo(c,g);const Jr=Bt<Rt?-1:1;$r=Math.abs(Math.log(Bt/Rt))/Ct,_r=()=>0,Qr=Dn=>Math.exp(Jr*Ct*Dn)}return c.duration="duration"in c?+c.duration:1e3*$r/("screenSpeed"in c?+c.screenSpeed/Ct:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=L!==oe,this._pitching=be!==j,this._rolling=Ce!==Y,this._padding=!M.isPaddingEqual(Fe),this._prepareEase(g,!1),this.terrain&&this._prepareElevation(Pt.targetCenter),this._ease(Jr=>{const Dn=Jr*$r,In=1/Qr(Dn),hn=_r(Dn);this._rotating&&M.setBearing(o.B.number(L,oe,Jr)),this._pitching&&M.setPitch(o.B.number(j,be,Jr)),this._rolling&&M.setRoll(o.B.number(Y,Ce,Jr)),this._padding&&(M.interpolatePadding(te,Fe,Jr),We=M.centerPoint.add(De)),Pt.easeFunc(Jr,In,hn,We),this.terrain&&!c.freezeElevation&&this._updateElevation(Jr),this._applyUpdatedTransform(M),this._fireMoveEvents(g)},()=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(g)},c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,g){var M;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const L=this._onEaseEnd;delete this._onEaseEnd,L.call(this,g)}return c||(M=this.handlers)===null||M===void 0||M.stop(!1),this}_ease(c,g,M){M.animate===!1||M.duration===0?(c(1),g()):(this._easeStart=p.now(),this._easeOptions=M,this._onEaseFrame=c,this._onEaseEnd=g,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,g){c=o.aL(c,-180,180);const M=Math.abs(c-g);return Math.abs(c-360-g)<M&&(c-=360),Math.abs(c+360-g)<M&&(c+=360),c}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLatZoom(o.Q.convert(c),this.transform.tileZoom):null}}const kf={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Ro{constructor(c=kf){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=g=>{!g||g.sourceDataType!=="metadata"&&g.sourceDataType!=="visibility"&&g.dataType!=="style"&&g.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options.compact,this._container=m.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=m.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=m.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){m.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,g){const M=this._map._getUIString(`AttributionControl.${g}`);c.title=M,c.setAttribute("aria-label",M)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(L=>typeof L!="string"?"":L)):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const L=this._map.style.stylesheet;this.styleOwner=L.owner,this.styleId=L.id}const g=this._map.style.sourceCaches;for(const L in g){const j=g[L];if(j.used||j.usedForTerrain){const Y=j.getSource();Y.attribution&&c.indexOf(Y.attribution)<0&&c.push(Y.attribution)}}c=c.filter(L=>String(L).trim()),c.sort((L,j)=>L.length-j.length),c=c.filter((L,j)=>{for(let Y=j+1;Y<c.length;Y++)if(c[Y].indexOf(L)>=0)return!1;return!0});const M=c.join(" | ");M!==this._attribHTML&&(this._attribHTML=M,c.length?(this._innerContainer.innerHTML=m.sanitize(M),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class fd{constructor(c={}){this._updateCompact=()=>{const g=this._container.children;if(g.length){const M=g[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&M.classList.add("maplibregl-compact"):M.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=m.create("div","maplibregl-ctrl");const g=m.create("a","maplibregl-ctrl-logo");return g.target="_blank",g.rel="noopener nofollow",g.href="https://maplibre.org/",g.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),g.setAttribute("rel","noopener nofollow"),this._container.appendChild(g),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){m.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Ac{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const g=++this._id;return this._queue.push({callback:c,id:g,cancelled:!1}),g}remove(c){const g=this._currentlyRunning,M=g?this._queue.concat(g):this._queue;for(const L of M)if(L.id===c)return void(L.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const g=this._currentlyRunning=this._queue;this._queue=[];for(const M of g)if(!M.cancelled&&(M.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var df=o.aG([{name:"a_pos3d",type:"Int16",components:3}]);class pg extends o.E{constructor(c){super(),this._lastTilesetChange=p.now(),this.sourceCache=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=c._source.tileSize*2**this.deltaZoom,c.usedForTerrain=!0,c.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(c,g){this.sourceCache.update(c,g),this._renderableTilesKeys=[];const M={};for(const L of Tt(c,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:g,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))M[L.key]=!0,this._renderableTilesKeys.push(L.key),this._tiles[L.key]||(L.terrainRttPosMatrix32f=new Float64Array(16),o.bQ(L.terrainRttPosMatrix32f,0,o.Z,o.Z,0,0,1),this._tiles[L.key]=new gr(L,this.tileSize),this._lastTilesetChange=p.now());for(const L in this._tiles)M[L]||delete this._tiles[L]}freeRtt(c){for(const g in this._tiles){const M=this._tiles[g];(!c||M.tileID.equals(c)||M.tileID.isChildOf(c)||c.isChildOf(M.tileID))&&(M.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(c=>this.getTileByID(c))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c,g){return g?this._getTerrainCoordsForTileRanges(c,g):this._getTerrainCoordsForRegularTile(c)}_getTerrainCoordsForRegularTile(c){const g={};for(const M of this._renderableTilesKeys){const L=this._tiles[M].tileID,j=c.clone(),Y=o.b2();if(L.canonical.equals(c.canonical))o.bQ(Y,0,o.Z,o.Z,0,0,1);else if(L.canonical.isChildOf(c.canonical)){const te=L.canonical.z-c.canonical.z,oe=L.canonical.x-(L.canonical.x>>te<<te),be=L.canonical.y-(L.canonical.y>>te<<te),Ce=o.Z>>te;o.bQ(Y,0,Ce,Ce,0,0,1),o.L(Y,Y,[-oe*Ce,-be*Ce,0])}else{if(!c.canonical.isChildOf(L.canonical))continue;{const te=c.canonical.z-L.canonical.z,oe=c.canonical.x-(c.canonical.x>>te<<te),be=c.canonical.y-(c.canonical.y>>te<<te),Ce=o.Z>>te;o.bQ(Y,0,o.Z,o.Z,0,0,1),o.L(Y,Y,[oe*Ce,be*Ce,0]),o.M(Y,Y,[1/2**te,1/2**te,0])}}j.terrainRttPosMatrix32f=new Float32Array(Y),g[M]=j}return g}_getTerrainCoordsForTileRanges(c,g){const M={};for(const L of this._renderableTilesKeys){const j=this._tiles[L].tileID;if(!this._isWithinTileRanges(j,g))continue;const Y=c.clone(),te=o.b2();if(j.canonical.z===c.canonical.z){const oe=c.canonical.x-j.canonical.x,be=c.canonical.y-j.canonical.y;o.bQ(te,0,o.Z,o.Z,0,0,1),o.L(te,te,[oe*o.Z,be*o.Z,0])}else if(j.canonical.z>c.canonical.z){const oe=j.canonical.z-c.canonical.z,be=j.canonical.x-(j.canonical.x>>oe<<oe),Ce=j.canonical.y-(j.canonical.y>>oe<<oe),Fe=c.canonical.x-(j.canonical.x>>oe),De=c.canonical.y-(j.canonical.y>>oe),We=o.Z>>oe;o.bQ(te,0,We,We,0,0,1),o.L(te,te,[-be*We+Fe*o.Z,-Ce*We+De*o.Z,0])}else{const oe=c.canonical.z-j.canonical.z,be=c.canonical.x-(c.canonical.x>>oe<<oe),Ce=c.canonical.y-(c.canonical.y>>oe<<oe),Fe=(c.canonical.x>>oe)-j.canonical.x,De=(c.canonical.y>>oe)-j.canonical.y,We=o.Z<<oe;o.bQ(te,0,We,We,0,0,1),o.L(te,te,[be*o.Z+Fe*We,Ce*o.Z+De*We,0])}Y.terrainRttPosMatrix32f=new Float32Array(te),M[L]=Y}return M}getSourceTile(c,g){const M=this.sourceCache._source;let L=c.overscaledZ-this.deltaZoom;if(L>M.maxzoom&&(L=M.maxzoom),L<M.minzoom)return null;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(L).key);let j=this.sourceCache.getTileByID(this._sourceTileCache[c.key]);if((!j||!j.dem)&&g)for(;L>=M.minzoom&&(!j||!j.dem);)j=this.sourceCache.getTileByID(c.scaledTo(L--).key);return j}anyTilesAfterTime(c=Date.now()){return this._lastTilesetChange>=c}_isWithinTileRanges(c,g){return g[c.canonical.z]&&c.canonical.x>=g[c.canonical.z].minTileX&&c.canonical.x<=g[c.canonical.z].maxTileX&&c.canonical.y>=g[c.canonical.z].minTileY&&c.canonical.y<=g[c.canonical.z].maxTileY}}class zd{constructor(c,g,M){this._meshCache={},this.painter=c,this.sourceCache=new pg(g),this.options=M,this.exaggeration=typeof M.exaggeration=="number"?M.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,g,M,L=o.Z){var j;if(!(g>=0&&g<L&&M>=0&&M<L))return 0;const Y=this.getTerrainData(c),te=(j=Y.tile)===null||j===void 0?void 0:j.dem;if(!te)return 0;const oe=o.cj([],[g/L*o.Z,M/L*o.Z],Y.u_terrain_matrix),be=[oe[0]*te.dim,oe[1]*te.dim],Ce=Math.floor(be[0]),Fe=Math.floor(be[1]),De=be[0]-Ce,We=be[1]-Fe;return te.get(Ce,Fe)*(1-De)*(1-We)+te.get(Ce+1,Fe)*De*(1-We)+te.get(Ce,Fe+1)*(1-De)*We+te.get(Ce+1,Fe+1)*De*We}getElevationForLngLatZoom(c,g){if(!o.ck(g,c.wrap()))return 0;const{tileID:M,mercatorX:L,mercatorY:j}=this._getOverscaledTileIDFromLngLatZoom(c,g);return this.getElevation(M,L%o.Z,j%o.Z,o.Z)}getElevation(c,g,M,L=o.Z){return this.getDEMElevation(c,g,M,L)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const L=this.painter.context,j=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new O(L,j,L.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new O(L,new o.R({width:1,height:1}),L.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(L.gl.NEAREST,L.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ad([])}const g=this.sourceCache.getSourceTile(c,!0);if(g&&g.dem&&(!g.demTexture||g.needsTerrainPrepare)){const L=this.painter.context;g.demTexture=this.painter.getTileTexture(g.dem.stride),g.demTexture?g.demTexture.update(g.dem.getPixels(),{premultiply:!1}):g.demTexture=new O(L,g.dem.getPixels(),L.gl.RGBA,{premultiply:!1}),g.demTexture.bind(L.gl.NEAREST,L.gl.CLAMP_TO_EDGE),g.needsTerrainPrepare=!1}const M=g&&g+g.tileID.key+c.key;if(M&&!this._demMatrixCache[M]){const L=this.sourceCache.sourceCache._source.maxzoom;let j=c.canonical.z-g.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=L?j=c.canonical.z-L:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const Y=c.canonical.x-(c.canonical.x>>j<<j),te=c.canonical.y-(c.canonical.y>>j<<j),oe=o.cl(new Float64Array(16),[1/(o.Z<<j),1/(o.Z<<j),0]);o.L(oe,oe,[Y*o.Z,te*o.Z,0]),this._demMatrixCache[c.key]={matrix:oe,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:g&&g.dem&&g.dem.dim||1,u_terrain_matrix:M?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:g&&g.dem&&g.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(g&&g.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:g}}getFramebuffer(c){const g=this.painter,M=g.width/devicePixelRatio,L=g.height/devicePixelRatio;return!this._fbo||this._fbo.width===M&&this._fbo.height===L||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new O(g.context,{width:M,height:L,data:null},g.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(g.context.gl.NEAREST,g.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new O(g.context,{width:M,height:L,data:null},g.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(g.context.gl.NEAREST,g.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=g.context.createFramebuffer(M,L,!0,!1),this._fbo.depthAttachment.set(g.context.createRenderbuffer(g.context.gl.DEPTH_COMPONENT16,M,L))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const g=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let j=0,Y=0;j<this._coordsTextureSize;j++)for(let te=0;te<this._coordsTextureSize;te++,Y+=4)g[Y+0]=255&te,g[Y+1]=255&j,g[Y+2]=te>>8<<4|j>>8,g[Y+3]=0;const M=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(g.buffer)),L=new O(c,M,c.gl.RGBA,{premultiply:!1});return L.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=L,L}pointCoordinate(c){this.painter.maybeDrawDepthAndCoords(!0);const g=new Uint8Array(4),M=this.painter.context,L=M.gl,j=Math.round(c.x*this.painter.pixelRatio/devicePixelRatio),Y=Math.round(c.y*this.painter.pixelRatio/devicePixelRatio),te=Math.round(this.painter.height/devicePixelRatio);M.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),L.readPixels(j,te-Y-1,1,1,L.RGBA,L.UNSIGNED_BYTE,g),M.bindFramebuffer.set(null);const oe=g[0]+(g[2]>>4<<8),be=g[1]+((15&g[2])<<8),Ce=this.coordsIndex[255-g[3]],Fe=Ce&&this.sourceCache.getTileByID(Ce);if(!Fe)return null;const De=this._coordsTextureSize,We=(1<<Fe.tileID.canonical.z)*De;return new o.$((Fe.tileID.canonical.x*De+oe)/We+Fe.tileID.wrap,(Fe.tileID.canonical.y*De+be)/We,this.getElevation(Fe.tileID,oe,be,De))}depthAtPoint(c){const g=new Uint8Array(4),M=this.painter.context,L=M.gl;return M.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),L.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,L.RGBA,L.UNSIGNED_BYTE,g),M.bindFramebuffer.set(null),(g[0]/16777216+g[1]/65536+g[2]/256+g[3])/256}getTerrainMesh(c){var g;const M=((g=this.painter.style.projection)===null||g===void 0?void 0:g.transitionState)>0,L=M&&c.canonical.y===0,j=M&&c.canonical.y===(1<<c.canonical.z)-1,Y=`m_${L?"n":""}_${j?"s":""}`;if(this._meshCache[Y])return this._meshCache[Y];const te=this.painter.context,oe=new o.cm,be=new o.aK,Ce=this.meshSize,Fe=o.Z/Ce,De=Ce*Ce;for(let nr=0;nr<=Ce;nr++)for(let kr=0;kr<=Ce;kr++)oe.emplaceBack(kr*Fe,nr*Fe,0);for(let nr=0;nr<De;nr+=Ce+1)for(let kr=0;kr<Ce;kr++)be.emplaceBack(kr+nr,Ce+kr+nr+1,Ce+kr+nr+2),be.emplaceBack(kr+nr,Ce+kr+nr+2,kr+nr+1);const We=oe.length,nt=We+(Ce+1),Pt=(Ce+1)*Ce,Ct=L?o.b9:0,Rt=L?0:1,Bt=j?o.ba:o.Z,Ht=j?0:1;for(let nr=0;nr<=Ce;nr++)oe.emplaceBack(nr*Fe,Ct,Rt);for(let nr=0;nr<=Ce;nr++)oe.emplaceBack(nr*Fe,Bt,Ht);for(let nr=0;nr<Ce;nr++)be.emplaceBack(Pt+nr,nt+nr,nt+nr+1),be.emplaceBack(Pt+nr,nt+nr+1,Pt+nr+1),be.emplaceBack(0+nr,We+nr+1,We+nr),be.emplaceBack(0+nr,0+nr+1,We+nr+1);const $t=oe.length,Wt=$t+2*(Ce+1);for(const nr of[0,1])for(let kr=0;kr<=Ce;kr++)for(const Qr of[0,1])oe.emplaceBack(nr*o.Z,kr*Fe,Qr);for(let nr=0;nr<2*Ce;nr+=2)be.emplaceBack($t+nr,$t+nr+1,$t+nr+3),be.emplaceBack($t+nr,$t+nr+3,$t+nr+2),be.emplaceBack(Wt+nr,Wt+nr+3,Wt+nr+1),be.emplaceBack(Wt+nr,Wt+nr+2,Wt+nr+3);const tr=new to(te.createVertexBuffer(oe,df.members),te.createIndexBuffer(be),o.aJ.simpleSegment(0,0,oe.length,be.length));return this._meshCache[Y]=tr,tr}getMeshFrameDelta(c){return 2*Math.PI*o.bu/Math.pow(2,Math.max(c,0))/5}getMinTileElevationForLngLatZoom(c,g){var M;const{tileID:L}=this._getOverscaledTileIDFromLngLatZoom(c,g);return(M=this.getMinMaxElevation(L).minElevation)!==null&&M!==void 0?M:0}getMinMaxElevation(c){const g=this.getTerrainData(c).tile,M={minElevation:null,maxElevation:null};return g&&g.dem&&(M.minElevation=g.dem.min*this.exaggeration,M.maxElevation=g.dem.max*this.exaggeration),M}_getOverscaledTileIDFromLngLatZoom(c,g){const M=o.$.fromLngLat(c.wrap()),L=(1<<g)*o.Z,j=M.x*L,Y=M.y*L,te=Math.floor(j/o.Z),oe=Math.floor(Y/o.Z);return{tileID:new o.Y(g,0,g,te,oe),mercatorX:j,mercatorY:Y}}}class Df{constructor(c,g,M){this._context=c,this._size=g,this._tileSize=M,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const g=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),M=new O(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return M.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),g.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),g.colorAttachment.set(M.texture),{id:c,fbo:g,texture:M,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(g=>c.id!==g),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const g of this._recentlyUsed)if(!this._objects[g].inUse)return this._objects[g];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(c=>!c.inUse)===!1}}const Nl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ph{constructor(c,g){this.painter=c,this.terrain=g,this.pool=new Df(c.context,30,g.sourceCache.tileSize*g.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,g){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=c._order.filter(M=>!c._layers[M].isHidden(g)),this._coordsAscending={};for(const M in c.sourceCaches){this._coordsAscending[M]={};const L=c.sourceCaches[M].getVisibleCoordinates(),j=c.sourceCaches[M].getSource(),Y=j instanceof yt?j.terrainTileRanges:null;for(const te of L){const oe=this.terrain.sourceCache.getTerrainCoords(te,Y);for(const be in oe)this._coordsAscending[M][be]||(this._coordsAscending[M][be]=[]),this._coordsAscending[M][be].push(oe[be])}}this._coordsAscendingStr={};for(const M of c._order){const L=c._layers[M],j=L.source;if(Nl[L.type]&&!this._coordsAscendingStr[j]){this._coordsAscendingStr[j]={};for(const Y in this._coordsAscending[j])this._coordsAscendingStr[j][Y]=this._coordsAscending[j][Y].map(te=>te.key).sort().join()}}for(const M of this._renderableTiles)for(const L in this._coordsAscendingStr){const j=this._coordsAscendingStr[L][M.tileID.key];j&&j!==M.rttCoords[L]&&(M.rtt=[])}}renderLayer(c,g){if(c.isHidden(this.painter.transform.zoom))return!1;const M=Object.assign(Object.assign({},g),{isRenderingToTexture:!0}),L=c.type,j=this.painter,Y=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(Nl[L]&&(this._prevType&&Nl[this._prevType]||this._stacks.push([]),this._prevType=L,this._stacks[this._stacks.length-1].push(c.id),!Y))return!0;if(Nl[this._prevType]||Nl[L]&&Y){this._prevType=L;const te=this._stacks.length-1,oe=this._stacks[te]||[];for(const be of this._renderableTiles){if(this.pool.isFull()&&(uf(this.painter,this.terrain,this._rttTiles,M),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(be),be.rtt[te]){const Fe=this.pool.getObjectForId(be.rtt[te].id);if(Fe.stamp===be.rtt[te].stamp){this.pool.useObject(Fe);continue}}const Ce=this.pool.getOrCreateFreeObject();this.pool.useObject(Ce),this.pool.stampObject(Ce),be.rtt[te]={id:Ce.id,stamp:Ce.stamp},j.context.bindFramebuffer.set(Ce.fbo.framebuffer),j.context.clear({color:o.b7.transparent,stencil:0}),j.currentStencilSource=void 0;for(let Fe=0;Fe<oe.length;Fe++){const De=j.style._layers[oe[Fe]],We=De.source?this._coordsAscending[De.source][be.tileID.key]:[be.tileID];j.context.viewport.set([0,0,Ce.fbo.width,Ce.fbo.height]),j._renderTileClippingMasks(De,We,!0),j.renderLayer(j,j.style.sourceCaches[De.source],De,We,M),De.source&&(be.rttCoords[De.source]=this._coordsAscendingStr[De.source][be.tileID.key])}}return uf(this.painter,this.terrain,this._rttTiles,M),this._rttTiles=[],this.pool.freeAllObjects(),Nl[L]}return!1}}const Gn={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Di=l,dd={hash:!1,interactive:!0,bearingSnap:7,attributionControl:kf,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},yu={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class bl{constructor(c,g,M=!1){this.mousedown=j=>{this.startMove(j,m.mousePos(this.element,j)),m.addEventListener(window,"mousemove",this.mousemove),m.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=j=>{this.move(j,m.mousePos(this.element,j))},this.mouseup=j=>{this._rotatePitchHanlder.dragEnd(j),this.offTemp()},this.touchstart=j=>{j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=m.touchPos(this.element,j.targetTouches)[0],this.startMove(j,this._startPos),m.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),m.addEventListener(window,"touchend",this.touchend))},this.touchmove=j=>{j.targetTouches.length!==1?this.reset():(this._lastPos=m.touchPos(this.element,j.targetTouches)[0],this.move(j,this._lastPos))},this.touchend=j=>{j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=g;const L=new dh;this._rotatePitchHanlder=new Es({clickTolerance:3,move:(j,Y)=>{const te=g.getBoundingClientRect(),oe=new o.P((te.bottom-te.top)/2,(te.right-te.left)/2);return{bearingDelta:o.ce(new o.P(j.x,Y.y),Y,oe),pitchDelta:M?-.5*(Y.y-j.y):void 0}},moveStateManager:L,enable:!0,assignEvents:()=>{}}),this.map=c,m.addEventListener(g,"mousedown",this.mousedown),m.addEventListener(g,"touchstart",this.touchstart,{passive:!1}),m.addEventListener(g,"touchcancel",this.reset)}startMove(c,g){this._rotatePitchHanlder.dragStart(c,g),m.disableDrag()}move(c,g){const M=this.map,{bearingDelta:L,pitchDelta:j}=this._rotatePitchHanlder.dragMove(c,g)||{};L&&M.setBearing(M.getBearing()+L),j&&M.setPitch(M.getPitch()+j)}off(){const c=this.element;m.removeEventListener(c,"mousedown",this.mousedown),m.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),m.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),m.removeEventListener(window,"touchend",this.touchend),m.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){m.enableDrag(),m.removeEventListener(window,"mousemove",this.mousemove),m.removeEventListener(window,"mouseup",this.mouseup),m.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),m.removeEventListener(window,"touchend",this.touchend)}}let ys;function Yc(B,c,g,M=!1){if(M||!g.getCoveringTilesDetailsProvider().allowWorldCopies())return B==null?void 0:B.wrap();const L=new o.Q(B.lng,B.lat);if(B=new o.Q(B.lng,B.lat),c){const j=new o.Q(B.lng-360,B.lat),Y=new o.Q(B.lng+360,B.lat),te=g.locationToScreenPoint(B).distSqr(c);g.locationToScreenPoint(j).distSqr(c)<te?B=j:g.locationToScreenPoint(Y).distSqr(c)<te&&(B=Y)}for(;Math.abs(B.lng-g.center.lng)>180;){const j=g.locationToScreenPoint(B);if(j.x>=0&&j.y>=0&&j.x<=g.width&&j.y<=g.height)break;B.lng>g.center.lng?B.lng-=360:B.lng+=360}return B.lng!==L.lng&&g.isPointOnMapSurface(g.locationToScreenPoint(B))?B:L}const $u={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $l(B,c,g){const M=B.classList;for(const L in $u)M.remove(`maplibregl-${g}-anchor-${L}`);M.add(`maplibregl-${g}-anchor-${c}`)}class zu extends o.E{constructor(c){if(super(),this._onKeyPress=g=>{const M=g.code,L=g.charCode||g.keyCode;M!=="Space"&&M!=="Enter"&&L!==32&&L!==13||this.togglePopup()},this._onMapClick=g=>{const M=g.originalEvent.target,L=this._element;this._popup&&(M===L||L.contains(M))&&this.togglePopup()},this._update=g=>{if(!this._map)return;const M=this._map.loaded()&&!this._map.isMoving();((g==null?void 0:g.type)==="terrain"||(g==null?void 0:g.type)==="render"&&!M)&&this._map.once("render",this._update),this._lngLat=Yc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(L=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let j="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?j="rotateX(0deg)":this._pitchAlignment==="map"&&(j=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||g&&g.type!=="moveend"||(this._pos=this._pos.round()),m.setTransform(this._element,`${$u[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${j} ${L}`),p.frameAsync(new AbortController).then(()=>{this._updateOpacity(g&&g.type==="moveend")}).catch(()=>{})},this._onMove=g=>{if(!this._isDragging){const M=this._clickTolerance||this._map._clickTolerance;this._isDragging=g.point.dist(this._pointerdownPos)>=M}this._isDragging&&(this._pos=g.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.l("dragstart"))),this.fire(new o.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.l("dragend")),this._state="inactive"},this._addDragHandler=g=>{this._element.contains(g.originalEvent.target)&&(g.preventDefault(),this._positionDelta=g.point.sub(this._pos).add(this._offset),this._pointerdownPos=g.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._subpixelPositioning=c&&c.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,this.setOpacity(c==null?void 0:c.opacity,c==null?void 0:c.opacityWhenCovered),c&&c.element)this._element=c.element,this._offset=o.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=m.create("div");const g=m.createNS("http://www.w3.org/2000/svg","svg"),M=41,L=27;g.setAttributeNS(null,"display","block"),g.setAttributeNS(null,"height",`${M}px`),g.setAttributeNS(null,"width",`${L}px`),g.setAttributeNS(null,"viewBox",`0 0 ${L} ${M}`);const j=m.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"stroke","none"),j.setAttributeNS(null,"stroke-width","1"),j.setAttributeNS(null,"fill","none"),j.setAttributeNS(null,"fill-rule","evenodd");const Y=m.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill-rule","nonzero");const te=m.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(3.0, 29.0)"),te.setAttributeNS(null,"fill","#000000");const oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Rt of oe){const Bt=m.createNS("http://www.w3.org/2000/svg","ellipse");Bt.setAttributeNS(null,"opacity","0.04"),Bt.setAttributeNS(null,"cx","10.5"),Bt.setAttributeNS(null,"cy","5.80029008"),Bt.setAttributeNS(null,"rx",Rt.rx),Bt.setAttributeNS(null,"ry",Rt.ry),te.appendChild(Bt)}const be=m.createNS("http://www.w3.org/2000/svg","g");be.setAttributeNS(null,"fill",this._color);const Ce=m.createNS("http://www.w3.org/2000/svg","path");Ce.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),be.appendChild(Ce);const Fe=m.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"opacity","0.25"),Fe.setAttributeNS(null,"fill","#000000");const De=m.createNS("http://www.w3.org/2000/svg","path");De.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Fe.appendChild(De);const We=m.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"transform","translate(6.0, 7.0)"),We.setAttributeNS(null,"fill","#FFFFFF");const nt=m.createNS("http://www.w3.org/2000/svg","g");nt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Pt=m.createNS("http://www.w3.org/2000/svg","circle");Pt.setAttributeNS(null,"fill","#000000"),Pt.setAttributeNS(null,"opacity","0.25"),Pt.setAttributeNS(null,"cx","5.5"),Pt.setAttributeNS(null,"cy","5.5"),Pt.setAttributeNS(null,"r","5.4999962");const Ct=m.createNS("http://www.w3.org/2000/svg","circle");Ct.setAttributeNS(null,"fill","#FFFFFF"),Ct.setAttributeNS(null,"cx","5.5"),Ct.setAttributeNS(null,"cy","5.5"),Ct.setAttributeNS(null,"r","5.4999962"),nt.appendChild(Pt),nt.appendChild(Ct),Y.appendChild(te),Y.appendChild(be),Y.appendChild(Fe),Y.appendChild(We),Y.appendChild(nt),g.appendChild(Y),g.setAttributeNS(null,"height",M*this._scale+"px"),g.setAttributeNS(null,"width",L*this._scale+"px"),this._element.appendChild(g),this._offset=o.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",g=>{g.preventDefault()}),this._element.addEventListener("mousedown",g=>{g.preventDefault()}),$l(this._element,this._anchor,"marker"),c&&c.className)for(const g of c.className.split(" "))this._element.classList.add(g);this._popup=null}addTo(c){return this.remove(),this._map=c,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",c._getUIString("Marker.Title")),c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),c.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),m.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=o.Q.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const L=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[L,-1*(38.1-13.5+L)],"bottom-right":[-L,-1*(38.1-13.5+L)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(c){return this._subpixelPositioning=c,this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:c?(c.isOpen()?c.remove():(c.setLngLat(this._lngLat),c.addTo(this._map)),this):this}_updateOpacity(c=!1){var g,M;const L=(g=this._map)===null||g===void 0?void 0:g.terrain,j=this._map.transform.isLocationOccluded(this._lngLat);if(!L||j){const We=j?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==We&&(this._element.style.opacity=We))}if(c)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const Y=this._map,te=Y.terrain.depthAtPoint(this._pos),oe=Y.terrain.getElevationForLngLatZoom(this._lngLat,Y.transform.tileZoom);if(Y.transform.lngLatToCameraDepth(this._lngLat,oe)-te<.006)return void(this._element.style.opacity=this._opacity);const be=-this._offset.y/Y.transform.pixelsPerMeter,Ce=Math.sin(Y.getPitch()*Math.PI/180)*be,Fe=Y.terrain.depthAtPoint(new o.P(this._pos.x,this._pos.y-this._offset.y)),De=Y.transform.lngLatToCameraDepth(this._lngLat,oe+Ce)-Fe>.006;!((M=this._popup)===null||M===void 0)&&M.isOpen()&&De&&this._popup.remove(),this._element.style.opacity=De?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(c){return this._offset=o.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(c,g){return(this._opacity===void 0||c===void 0&&g===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),c!==void 0&&(this._opacity=c),g!==void 0&&(this._opacityWhenCovered=g),this._map&&this._updateOpacity(!0),this}}const ro={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let bo=0,hd=!1;const pd={maxWidth:100,unit:"metric"};function Oc(B,c,g){const M=g&&g.maxWidth||100,L=B._container.clientHeight/2,j=B._container.clientWidth/2,Y=B.unproject([j-M/2,L]),te=B.unproject([j+M/2,L]),oe=Math.round(B.project(te).x-B.project(Y).x),be=Math.min(M,oe,B._container.clientWidth),Ce=Y.distanceTo(te);if(g&&g.unit==="imperial"){const Fe=3.2808*Ce;Fe>5280?zl(c,be,Fe/5280,B._getUIString("ScaleControl.Miles")):zl(c,be,Fe,B._getUIString("ScaleControl.Feet"))}else g&&g.unit==="nautical"?zl(c,be,Ce/1852,B._getUIString("ScaleControl.NauticalMiles")):Ce>=1e3?zl(c,be,Ce/1e3,B._getUIString("ScaleControl.Kilometers")):zl(c,be,Ce,B._getUIString("ScaleControl.Meters"))}function zl(B,c,g,M){const L=function(j){const Y=Math.pow(10,`${Math.floor(j)}`.length-1);let te=j/Y;return te=te>=10?10:te>=5?5:te>=3?3:te>=2?2:te>=1?1:function(oe){const be=Math.pow(10,Math.ceil(-Math.log(oe)/Math.LN10));return Math.round(oe*be)/be}(te),Y*te}(g);B.style.width=c*(L/g)+"px",B.innerHTML=`${L}&nbsp;${M}`}const tp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Pm=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ws(B){if(B){if(typeof B=="number"){const c=Math.round(Math.abs(B)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,B),"top-left":new o.P(c,c),"top-right":new o.P(-c,c),bottom:new o.P(0,-B),"bottom-left":new o.P(c,-c),"bottom-right":new o.P(-c,-c),left:new o.P(B,0),right:new o.P(-B,0)}}if(B instanceof o.P||Array.isArray(B)){const c=o.P.convert(B);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:o.P.convert(B.center||[0,0]),top:o.P.convert(B.top||[0,0]),"top-left":o.P.convert(B["top-left"]||[0,0]),"top-right":o.P.convert(B["top-right"]||[0,0]),bottom:o.P.convert(B.bottom||[0,0]),"bottom-left":o.P.convert(B["bottom-left"]||[0,0]),"bottom-right":o.P.convert(B["bottom-right"]||[0,0]),left:o.P.convert(B.left||[0,0]),right:o.P.convert(B.right||[0,0])}}return Ws(new o.P(0,0))}const lc=l;s.AJAXError=o.cq,s.Event=o.l,s.Evented=o.E,s.LngLat=o.Q,s.MercatorCoordinate=o.$,s.Point=o.P,s.addProtocol=o.cr,s.config=o.a,s.removeProtocol=o.cs,s.AttributionControl=Ro,s.BoxZoomHandler=Dl,s.CanvasSource=At,s.CooperativeGesturesHandler=Fo,s.DoubleClickZoomHandler=Of,s.DragPanHandler=If,s.DragRotateHandler=Ll,s.EdgeInsets=hu,s.FullscreenControl=class extends o.E{constructor(B={}){super(),this._onFullscreenChange=()=>{var c;let g=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((c=g==null?void 0:g.shadowRoot)===null||c===void 0)&&c.fullscreenElement;)g=g.shadowRoot.fullscreenElement;g===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,B&&B.container&&(B.container instanceof HTMLElement?this._container=B.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(B){return this._map=B,this._container||(this._container=this._map.getContainer()),this._controlContainer=m.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){m.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const B=this._fullscreenButton=m.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);m.create("span","maplibregl-ctrl-icon",B).setAttribute("aria-hidden","true"),B.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const B=this._getTitle();this._fullscreenButton.setAttribute("aria-label",B),this._fullscreenButton.title=B}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new o.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},s.GeoJSONSource=Ze,s.GeolocateControl=class extends o.E{constructor(B){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new o.l("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.l("geolocate",c)),this._finish()}},this._updateCamera=c=>{const g=new o.Q(c.coords.longitude,c.coords.latitude),M=c.coords.accuracy,L=this._map.getBearing(),j=o.e({bearing:L},this.options.fitBoundsOptions),Y=he.fromLngLat(g,M);this._map.fitBounds(Y,j,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const g=new o.Q(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(g).addTo(this._map),this._userLocationDotMarker.setLngLat(g).addTo(this._map),this._accuracy=c.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=c=>{if(this._map){if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&hd)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.l("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=m.create("button","maplibregl-ctrl-geolocate",this._container),m.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=c=>{if(this._map){if(c===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}else{const g=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=m.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new zu({element:this._dotElement}),this._circleElement=m.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new zu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",g=>{g.geolocateSource||this._watchState!=="ACTIVE_LOCK"||g.originalEvent&&g.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.l("trackuserlocationend")),this.fire(new o.l("userlocationlostfocus")))})}},this.options=o.e({},ro,B)}onAdd(B){return this._map=B,this._container=m.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return o._(this,arguments,void 0,function*(c=!1){if(ys!==void 0&&!c)return ys;if(window.navigator.permissions===void 0)return ys=!!window.navigator.geolocation,ys;try{ys=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{ys=!!window.navigator.geolocation}return ys})}().then(c=>this._finishSetupUI(c)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),m.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,bo=0,hd=!1}_isOutOfMapMaxBounds(B){const c=this._map.getMaxBounds(),g=B.coords;return c&&(g.longitude<c.getWest()||g.longitude>c.getEast()||g.latitude<c.getSouth()||g.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const B=this._map.getBounds(),c=B.getSouthEast(),g=B.getNorthEast(),M=c.distanceTo(g),L=Math.ceil(this._accuracy/(M/this._map._container.clientHeight)*2);this._circleElement.style.width=`${L}px`,this._circleElement.style.height=`${L}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":bo--,hd=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.l("trackuserlocationstart")),this.fire(new o.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let B;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),bo++,bo>1?(B={maximumAge:6e5,timeout:0},hd=!0):(B=this.options.positionOptions,hd=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,B)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},s.GlobeControl=class{constructor(){this._toggleProjection=()=>{var B;const c=(B=this._map.getProjection())===null||B===void 0?void 0:B.type;this._map.setProjection(c!=="mercator"&&c?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var B;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((B=this._map.getProjection())===null||B===void 0?void 0:B.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(B){return this._map=B,this._container=m.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=m.create("button","maplibregl-ctrl-globe",this._container),m.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){m.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},s.Hash=Lu,s.ImageSource=yt,s.KeyboardHandler=Ql,s.LngLatBounds=he,s.LogoControl=fd,s.Map=class extends sc{constructor(B){var c,g;o.cn.mark(o.co.create);const M=Object.assign(Object.assign(Object.assign({},dd),B),{canvasContextAttributes:Object.assign(Object.assign({},dd.canvasContextAttributes),B.canvasContextAttributes)});if(M.minZoom!=null&&M.maxZoom!=null&&M.minZoom>M.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(M.minPitch!=null&&M.maxPitch!=null&&M.minPitch>M.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(M.minPitch!=null&&M.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(M.maxPitch!=null&&M.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const L=new nf,j=new _t;if(M.minZoom!==void 0&&L.setMinZoom(M.minZoom),M.maxZoom!==void 0&&L.setMaxZoom(M.maxZoom),M.minPitch!==void 0&&L.setMinPitch(M.minPitch),M.maxPitch!==void 0&&L.setMaxPitch(M.maxPitch),M.renderWorldCopies!==void 0&&L.setRenderWorldCopies(M.renderWorldCopies),super(L,j,{bearingSnap:M.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Ac,this._controls=[],this._mapId=o.a4(),this._contextLost=te=>{te.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new o.l("webglcontextlost",{originalEvent:te}))},this._contextRestored=te=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.l("webglcontextrestored",{originalEvent:te}))},this._onMapScroll=te=>{if(te.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=M.interactive,this._maxTileCacheSize=M.maxTileCacheSize,this._maxTileCacheZoomLevels=M.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},M.canvasContextAttributes),this._trackResize=M.trackResize===!0,this._bearingSnap=M.bearingSnap,this._centerClampedToGround=M.centerClampedToGround,this._refreshExpiredTiles=M.refreshExpiredTiles===!0,this._fadeDuration=M.fadeDuration,this._crossSourceCollisions=M.crossSourceCollisions===!0,this._collectResourceTiming=M.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Gn),M.locale),this._clickTolerance=M.clickTolerance,this._overridePixelRatio=M.pixelRatio,this._maxCanvasSize=M.maxCanvasSize,this.transformCameraUpdate=M.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=M.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=S.addThrottleControl(()=>this.isMoving()),this._requestManager=new E(M.transformRequest),typeof M.container=="string"){if(this._container=document.getElementById(M.container),!this._container)throw new Error(`Container '${M.container}' not found.`)}else{if(!(M.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=M.container}if(M.maxBounds&&this.setMaxBounds(M.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let te=!1;const oe=Vc(be=>{this._trackResize&&!this._removed&&(this.resize(be),this.redraw())},50);this._resizeObserver=new ResizeObserver(be=>{te?oe(be):te=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Mf(this,M),this._hash=M.hash&&new Lu(typeof M.hash=="string"&&M.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:M.center,elevation:M.elevation,zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,roll:M.roll}),M.bounds&&(this.resize(),this.fitBounds(M.bounds,o.e({},M.fitBoundsOptions,{duration:0}))));const Y=typeof M.style=="string"||((g=(c=M.style)===null||c===void 0?void 0:c.projection)===null||g===void 0?void 0:g.type)!=="globe";this.resize(null,Y),this._localIdeographFontFamily=M.localIdeographFontFamily,this._validateStyle=M.validateStyle,M.style&&this.setStyle(M.style,{localIdeographFontFamily:M.localIdeographFontFamily}),M.attributionControl&&this.addControl(new Ro(typeof M.attributionControl=="boolean"?void 0:M.attributionControl)),M.maplibreLogo&&this.addControl(new fd,M.logoPosition),this.on("style.load",()=>{if(Y||this._resizeTransform(),this.transform.unmodified){const te=o.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(te)}}),this.on("data",te=>{this._update(te.dataType==="style"),this.fire(new o.l(`${te.dataType}data`,te))}),this.on("dataloading",te=>{this.fire(new o.l(`${te.dataType}dataloading`,te))}),this.on("dataabort",te=>{this.fire(new o.l("sourcedataabort",te))})}_getMapId(){return this._mapId}addControl(B,c){if(c===void 0&&(c=B.getDefaultPosition?B.getDefaultPosition():"top-right"),!B||!B.onAdd)return this.fire(new o.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const g=B.onAdd(this);this._controls.push(B);const M=this._controlPositions[c];return c.indexOf("bottom")!==-1?M.insertBefore(g,M.firstChild):M.appendChild(g),this}removeControl(B){if(!B||!B.onRemove)return this.fire(new o.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(B);return c>-1&&this._controls.splice(c,1),B.onRemove(this),this}hasControl(B){return this._controls.indexOf(B)>-1}calculateCameraOptionsFromTo(B,c,g,M){return M==null&&this.terrain&&(M=this.terrain.getElevationForLngLatZoom(g,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(B,c,g,M)}resize(B,c=!0){const[g,M]=this._containerDimensions(),L=this._getClampedPixelRatio(g,M);if(this._resizeCanvas(g,M,L),this.painter.resize(g,M,L),this.painter.overLimit()){const Y=this.painter.context.gl;this._maxCanvasSize=[Y.drawingBufferWidth,Y.drawingBufferHeight];const te=this._getClampedPixelRatio(g,M);this._resizeCanvas(g,M,te),this.painter.resize(g,M,te)}this._resizeTransform(c);const j=!this._moving;return j&&(this.stop(),this.fire(new o.l("movestart",B)).fire(new o.l("move",B))),this.fire(new o.l("resize",B)),j&&this.fire(new o.l("moveend",B)),this}_resizeTransform(B=!0){var c;const[g,M]=this._containerDimensions();this.transform.resize(g,M,B),(c=this._requestedCameraState)===null||c===void 0||c.resize(g,M,B)}_getClampedPixelRatio(B,c){const{0:g,1:M}=this._maxCanvasSize,L=this.getPixelRatio(),j=B*L,Y=c*L;return Math.min(j>g?g/j:1,Y>M?M/Y:1)*L}getPixelRatio(){var B;return(B=this._overridePixelRatio)!==null&&B!==void 0?B:devicePixelRatio}setPixelRatio(B){this._overridePixelRatio=B,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(B){return this.transform.setMaxBounds(he.convert(B)),this._update()}setMinZoom(B){if((B=B??-2)>=-2&&B<=this.transform.maxZoom)return this.transform.setMinZoom(B),this._update(),this.getZoom()<B&&this.setZoom(B),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(B){if((B=B??22)>=this.transform.minZoom)return this.transform.setMaxZoom(B),this._update(),this.getZoom()>B&&this.setZoom(B),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(B){if((B=B??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(B>=0&&B<=this.transform.maxPitch)return this.transform.setMinPitch(B),this._update(),this.getPitch()<B&&this.setPitch(B),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(B){if((B=B??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(B>=this.transform.minPitch)return this.transform.setMaxPitch(B),this._update(),this.getPitch()>B&&this.setPitch(B),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(B){return this.transform.setRenderWorldCopies(B),this._update()}project(B){return this.transform.locationToScreenPoint(o.Q.convert(B),this.style&&this.terrain)}unproject(B){return this.transform.screenPointToLocation(o.P.convert(B),this.terrain)}isMoving(){var B;return this._moving||((B=this.handlers)===null||B===void 0?void 0:B.isMoving())}isZooming(){var B;return this._zooming||((B=this.handlers)===null||B===void 0?void 0:B.isZooming())}isRotating(){var B;return this._rotating||((B=this.handlers)===null||B===void 0?void 0:B.isRotating())}_createDelegatedListener(B,c,g){if(B==="mouseenter"||B==="mouseover"){let M=!1;return{layers:c,listener:g,delegates:{mousemove:j=>{const Y=c.filter(oe=>this.getLayer(oe)),te=Y.length!==0?this.queryRenderedFeatures(j.point,{layers:Y}):[];te.length?M||(M=!0,g.call(this,new Os(B,this,j.originalEvent,{features:te}))):M=!1},mouseout:()=>{M=!1}}}}if(B==="mouseleave"||B==="mouseout"){let M=!1;return{layers:c,listener:g,delegates:{mousemove:Y=>{const te=c.filter(oe=>this.getLayer(oe));(te.length!==0?this.queryRenderedFeatures(Y.point,{layers:te}):[]).length?M=!0:M&&(M=!1,g.call(this,new Os(B,this,Y.originalEvent)))},mouseout:Y=>{M&&(M=!1,g.call(this,new Os(B,this,Y.originalEvent)))}}}}{const M=L=>{const j=c.filter(te=>this.getLayer(te)),Y=j.length!==0?this.queryRenderedFeatures(L.point,{layers:j}):[];Y.length&&(L.features=Y,g.call(this,L),delete L.features)};return{layers:c,listener:g,delegates:{[B]:M}}}}_saveDelegatedListener(B,c){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[B]=this._delegatedListeners[B]||[],this._delegatedListeners[B].push(c)}_removeDelegatedListener(B,c,g){if(!this._delegatedListeners||!this._delegatedListeners[B])return;const M=this._delegatedListeners[B];for(let L=0;L<M.length;L++){const j=M[L];if(j.listener===g&&j.layers.length===c.length&&j.layers.every(Y=>c.includes(Y))){for(const Y in j.delegates)this.off(Y,j.delegates[Y]);return void M.splice(L,1)}}}on(B,c,g){if(g===void 0)return super.on(B,c);const M=typeof c=="string"?[c]:c,L=this._createDelegatedListener(B,M,g);this._saveDelegatedListener(B,L);for(const j in L.delegates)this.on(j,L.delegates[j]);return{unsubscribe:()=>{this._removeDelegatedListener(B,M,g)}}}once(B,c,g){if(g===void 0)return super.once(B,c);const M=typeof c=="string"?[c]:c,L=this._createDelegatedListener(B,M,g);for(const j in L.delegates){const Y=L.delegates[j];L.delegates[j]=(...te)=>{this._removeDelegatedListener(B,M,g),Y(...te)}}this._saveDelegatedListener(B,L);for(const j in L.delegates)this.once(j,L.delegates[j]);return this}off(B,c,g){return g===void 0?super.off(B,c):(this._removeDelegatedListener(B,typeof c=="string"?[c]:c,g),this)}queryRenderedFeatures(B,c){if(!this.style)return[];let g;const M=B instanceof o.P||Array.isArray(B),L=M?B:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(M?{}:B)||{},L instanceof o.P||typeof L[0]=="number")g=[o.P.convert(L)];else{const j=o.P.convert(L[0]),Y=o.P.convert(L[1]);g=[j,new o.P(Y.x,j.y),Y,new o.P(j.x,Y.y),j]}return this.style.queryRenderedFeatures(g,c,this.transform)}querySourceFeatures(B,c){return this.style.querySourceFeatures(B,c)}setStyle(B,c){return(c=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&B?(this._diffStyle(B,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(B,c))}setTransformRequest(B){return this._requestManager.setTransformRequest(B),this}_getUIString(B){const c=this._locale[B];if(c==null)throw new Error(`Missing UI string '${B}'`);return c}_updateStyle(B,c){var g,M;if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(B,c));const L=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!B)),B?(this.style=new $i(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof B=="string"?this.style.loadURL(B,c,L):this.style.loadJSON(B,c,L),this):((M=(g=this.style)===null||g===void 0?void 0:g.projection)===null||M===void 0||M.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new $i(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(B,c){if(typeof B=="string"){const g=this._requestManager.transformRequest(B,"Style");o.j(g,new AbortController).then(M=>{this._updateDiff(M.data,c)}).catch(M=>{M&&this.fire(new o.k(M))})}else typeof B=="object"&&this._updateDiff(B,c)}_updateDiff(B,c){try{this.style.setState(B,c)&&this._update(!0)}catch(g){o.w(`Unable to perform style diff: ${g.message||g.error||g}.  Rebuilding the style from scratch.`),this._updateStyle(B,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(B,c){return this._lazyInitEmptyStyle(),this.style.addSource(B,c),this._update(!0)}isSourceLoaded(B){const c=this.style&&this.style.sourceCaches[B];if(c!==void 0)return c.loaded();this.fire(new o.k(new Error(`There is no source with ID '${B}'`)))}setTerrain(B){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),B){const c=this.style.sourceCaches[B.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${B.source}`);this.terrain===null&&c.reload();for(const g in this.style._layers){const M=this.style._layers[g];M.type==="hillshade"&&M.source===B.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new zd(this.painter,c,B),this.painter.renderToTexture=new ph(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=g=>{var M;g.dataType==="style"?this.terrain.sourceCache.freeRtt():g.dataType==="source"&&g.tile&&(g.sourceId!==B.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((M=g.source)===null||M===void 0?void 0:M.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(g.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new o.l("terrain",{terrain:B})),this}getTerrain(){var B,c;return(c=(B=this.terrain)===null||B===void 0?void 0:B.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const B=this.style&&this.style.sourceCaches;for(const c in B){const g=B[c]._tiles;for(const M in g){const L=g[M];if(L.state!=="loaded"&&L.state!=="errored")return!1}}return!0}removeSource(B){return this.style.removeSource(B),this._update(!0)}getSource(B){return this.style.getSource(B)}setSourceTileLodParams(B,c,g){if(g){const M=this.getSource(g);if(!M)throw new Error(`There is no source with ID "${g}", cannot set LOD parameters`);M.calculateTileZoom=kt(Math.max(1,B),Math.max(1,c))}else for(const M in this.style.sourceCaches)this.style.sourceCaches[M].getSource().calculateTileZoom=kt(Math.max(1,B),Math.max(1,c));return this._update(!0),this}refreshTiles(B,c){const g=this.style.sourceCaches[B];if(!g)throw new Error(`There is no source cache with ID "${B}", cannot refresh tile`);c===void 0?g.reload():g.refreshTiles(c.map(M=>new o.a1(M.z,M.x,M.y)))}addImage(B,c,g={}){const{pixelRatio:M=1,sdf:L=!1,stretchX:j,stretchY:Y,content:te,textFitWidth:oe,textFitHeight:be}=g;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||o.b(c))){if(c.width===void 0||c.height===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Ce,height:Fe,data:De}=c,We=c;return this.style.addImage(B,{data:new o.R({width:Ce,height:Fe},new Uint8Array(De)),pixelRatio:M,stretchX:j,stretchY:Y,content:te,textFitWidth:oe,textFitHeight:be,sdf:L,version:0,userImage:We}),We.onAdd&&We.onAdd(this,B),this}}{const{width:Ce,height:Fe,data:De}=p.getImageData(c);this.style.addImage(B,{data:new o.R({width:Ce,height:Fe},De),pixelRatio:M,stretchX:j,stretchY:Y,content:te,textFitWidth:oe,textFitHeight:be,sdf:L,version:0})}}updateImage(B,c){const g=this.style.getImage(B);if(!g)return this.fire(new o.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const M=c instanceof HTMLImageElement||o.b(c)?p.getImageData(c):c,{width:L,height:j,data:Y}=M;if(L===void 0||j===void 0)return this.fire(new o.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(L!==g.data.width||j!==g.data.height)return this.fire(new o.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const te=!(c instanceof HTMLImageElement||o.b(c));return g.data.replace(Y,te),this.style.updateImage(B,g),this}getImage(B){return this.style.getImage(B)}hasImage(B){return B?!!this.style.getImage(B):(this.fire(new o.k(new Error("Missing required image id"))),!1)}removeImage(B){this.style.removeImage(B)}loadImage(B){return S.getImage(this._requestManager.transformRequest(B,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(B,c){return this._lazyInitEmptyStyle(),this.style.addLayer(B,c),this._update(!0)}moveLayer(B,c){return this.style.moveLayer(B,c),this._update(!0)}removeLayer(B){return this.style.removeLayer(B),this._update(!0)}getLayer(B){return this.style.getLayer(B)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(B,c,g){return this.style.setLayerZoomRange(B,c,g),this._update(!0)}setFilter(B,c,g={}){return this.style.setFilter(B,c,g),this._update(!0)}getFilter(B){return this.style.getFilter(B)}setPaintProperty(B,c,g,M={}){return this.style.setPaintProperty(B,c,g,M),this._update(!0)}getPaintProperty(B,c){return this.style.getPaintProperty(B,c)}setLayoutProperty(B,c,g,M={}){return this.style.setLayoutProperty(B,c,g,M),this._update(!0)}getLayoutProperty(B,c){return this.style.getLayoutProperty(B,c)}setGlyphs(B,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(B,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(B,c,g={}){return this._lazyInitEmptyStyle(),this.style.addSprite(B,c,g,M=>{M||this._update(!0)}),this}removeSprite(B){return this._lazyInitEmptyStyle(),this.style.removeSprite(B),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(B,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(B,c,g=>{g||this._update(!0)}),this}setLight(B,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(B,c),this._update(!0)}getLight(){return this.style.getLight()}setSky(B,c={}){return this._lazyInitEmptyStyle(),this.style.setSky(B,c),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(B,c){return this.style.setFeatureState(B,c),this._update()}removeFeatureState(B,c){return this.style.removeFeatureState(B,c),this._update()}getFeatureState(B){return this.style.getFeatureState(B)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let B=0,c=0;return this._container&&(B=this._container.clientWidth||400,c=this._container.clientHeight||300),[B,c]}_setupContainer(){const B=this._container;B.classList.add("maplibregl-map");const c=this._canvasContainer=m.create("div","maplibregl-canvas-container",B);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=m.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const g=this._containerDimensions(),M=this._getClampedPixelRatio(g[0],g[1]);this._resizeCanvas(g[0],g[1],M);const L=this._controlContainer=m.create("div","maplibregl-control-container",B),j=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Y=>{j[Y]=m.create("div",`maplibregl-ctrl-${Y} `,L)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(B,c,g){this._canvas.width=Math.floor(g*B),this._canvas.height=Math.floor(g*c),this._canvas.style.width=`${B}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const B=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let c=null;this._canvas.addEventListener("webglcontextcreationerror",M=>{c={requestedAttributes:B},M&&(c.statusMessage=M.statusMessage,c.type=M.type)},{once:!0});let g=null;if(g=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,B):this._canvas.getContext("webgl2",B)||this._canvas.getContext("webgl",B),!g){const M="Failed to initialize WebGL";throw c?(c.message=M,new Error(JSON.stringify(c))):new Error(M)}this.painter=new fh(g,this.transform),v.testSupport(g)}migrateProjection(B,c){super.migrateProjection(B,c),this.painter.transform=B,this.fire(new o.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(B){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||B,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(B){return this._update(),this._renderTaskQueue.add(B)}_cancelRenderFrame(B){this._renderTaskQueue.remove(B)}_render(B){var c,g,M,L,j;const Y=this._idleTriggered?this._fadeDuration:0,te=((c=this.style.projection)===null||c===void 0?void 0:c.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(B),this._removed)return;let oe=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Fe=this.transform.zoom,De=p.now();this.style.zoomHistory.update(Fe,De);const We=new o.C(Fe,{now:De,fadeDuration:Y,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),nt=We.crossFadingFactor();nt===1&&nt===this._crossFadingFactor||(oe=!0,this._crossFadingFactor=nt),this.style.update(We)}const be=((g=this.style.projection)===null||g===void 0?void 0:g.transitionState)>0!==te;(M=this.style.projection)===null||M===void 0||M.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((L=this.style.projection)===null||L===void 0?void 0:L.transitionState,(j=this.style.projection)===null||j===void 0?void 0:j.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||be)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,Y,this._crossSourceCollisions,be),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Y,showPadding:this.showPadding}),this.fire(new o.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.cn.mark(o.co.load),this.fire(new o.l("load"))),this.style&&(this.style.hasTransitions()||oe)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const Ce=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ce||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.l("idle")),!this._loaded||this._fullyLoaded||Ce||(this._fullyLoaded=!0,o.cn.mark(o.co.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var B;this._hash&&this._hash.remove();for(const g of this._controls)g.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),S.removeThrottleControl(this._imageQueueHandle),(B=this._resizeObserver)===null||B===void 0||B.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c!=null&&c.loseContext&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),m.remove(this._canvasContainer),m.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),o.cn.clearMetrics(),this._removed=!0,this.fire(new o.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,p.frame(this._frameRequest,B=>{o.cn.frame(B),this._frameRequest=null;try{this._render(B)}catch(c){if(!o.cp(c)&&!function(g){return g.message===rc}(c))throw c}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(B){this._showTileBoundaries!==B&&(this._showTileBoundaries=B,this._update())}get showPadding(){return!!this._showPadding}set showPadding(B){this._showPadding!==B&&(this._showPadding=B,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(B){this._showCollisionBoxes!==B&&(this._showCollisionBoxes=B,B?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(B){this._showOverdrawInspector!==B&&(this._showOverdrawInspector=B,this._update())}get repaint(){return!!this._repaint}set repaint(B){this._repaint!==B&&(this._repaint=B,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(B){this._vertices=B,this._update()}get version(){return Di}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(B){return this._lazyInitEmptyStyle(),this.style.setProjection(B),this._update(!0)}},s.MapMouseEvent=Os,s.MapTouchEvent=cf,s.MapWheelEvent=pu,s.Marker=zu,s.NavigationControl=class{constructor(B){this._updateZoomButtons=()=>{const c=this._map.getZoom(),g=c===this._map.getMaxZoom(),M=c===this._map.getMinZoom();this._zoomInButton.disabled=g,this._zoomOutButton.disabled=M,this._zoomInButton.setAttribute("aria-disabled",g.toString()),this._zoomOutButton.setAttribute("aria-disabled",M.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(c,g)=>{const M=this._map._getUIString(`NavigationControl.${g}`);c.title=M,c.setAttribute("aria-label",M)},this.options=o.e({},yu,B),this._container=m.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",c=>this._map.zoomIn({},{originalEvent:c})),m.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",c=>this._map.zoomOut({},{originalEvent:c})),m.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})}),this._compassIcon=m.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(B){return this._map=B,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){m.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(B,c){const g=m.create("button",B,this._container);return g.type="button",g.addEventListener("click",c),g}},s.Popup=class extends o.E{constructor(B){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&m.remove(this._content),this._container&&(m.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new o.l("close"))),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=m.create("div","maplibregl-popup",this._map.getContainer()),this._tip=m.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const Y of this.options.className.split(" "))this._container.classList.add(Y);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Yc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!c)return;const g=this._flatPos=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&c?c:this._map.transform.locationToScreenPoint(this._lngLat));let M=this.options.anchor;const L=Ws(this.options.offset);if(!M){const Y=this._container.offsetWidth,te=this._container.offsetHeight;let oe;oe=g.y+L.bottom.y<te?["top"]:g.y>this._map.transform.height-te?["bottom"]:[],g.x<Y/2?oe.push("left"):g.x>this._map.transform.width-Y/2&&oe.push("right"),M=oe.length===0?"bottom":oe.join("-")}let j=g.add(L[M]);this.options.subpixelPositioning||(j=j.round()),m.setTransform(this._container,`${$u[M]} translate(${j.x}px,${j.y}px)`),$l(this._container,M,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(tp),B)}addTo(B){return this._map&&this.remove(),this._map=B,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(B){return this._lngLat=o.Q.convert(B),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(B){return this.setDOMContent(document.createTextNode(B))}setHTML(B){const c=document.createDocumentFragment(),g=document.createElement("body");let M;for(g.innerHTML=B;M=g.firstChild,M;)c.appendChild(M);return this.setDOMContent(c)}getMaxWidth(){var B;return(B=this._container)===null||B===void 0?void 0:B.style.maxWidth}setMaxWidth(B){return this.options.maxWidth=B,this._update(),this}setDOMContent(B){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=m.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(B),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(B){return this._container&&this._container.classList.add(B),this}removeClassName(B){return this._container&&this._container.classList.remove(B),this}setOffset(B){return this.options.offset=B,this._update(),this}toggleClassName(B){if(this._container)return this._container.classList.toggle(B)}setSubpixelPositioning(B){this.options.subpixelPositioning=B}_createCloseButton(){this.options.closeButton&&(this._closeButton=m.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const B=this._container.querySelector(Pm);B&&B.focus()}},s.RasterDEMTileSource=rt,s.RasterTileSource=je,s.ScaleControl=class{constructor(B){this._onMove=()=>{Oc(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Oc(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},pd),B)}getDefaultPosition(){return"bottom-left"}onAdd(B){return this._map=B,this._container=m.create("div","maplibregl-ctrl maplibregl-ctrl-scale",B.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){m.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},s.ScrollZoomHandler=ta,s.Style=$i,s.TerrainControl=class{constructor(B){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=B}onAdd(B){return this._map=B,this._container=m.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=m.create("button","maplibregl-ctrl-terrain",this._container),m.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){m.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},s.TwoFingersTouchPitchHandler=Nd,s.TwoFingersTouchRotateHandler=qn,s.TwoFingersTouchZoomHandler=mu,s.TwoFingersTouchZoomRotateHandler=eu,s.VectorTileSource=xt,s.VideoSource=Vt,s.addSourceType=(B,c)=>o._(void 0,void 0,void 0,function*(){if(Sr(B))throw new Error(`A source type called "${B}" already exists.`);((g,M)=>{hr[g]=M})(B,c)}),s.clearPrewarmedResources=function(){const B=ke;B&&(B.isPreloaded()&&B.numActive()===1?(B.release(se),ke=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},s.createTileMesh=Un,s.getMaxParallelImageRequests=function(){return o.a.MAX_PARALLEL_IMAGE_REQUESTS},s.getRTLTextPluginStatus=function(){return Nr().getRTLTextPluginStatus()},s.getVersion=function(){return lc},s.getWorkerCount=function(){return ge.workerCount},s.getWorkerUrl=function(){return o.a.WORKER_URL},s.importScriptInWorkers=function(B){return we().broadcast("IS",B)},s.prewarm=function(){ct().acquire(se)},s.setMaxParallelImageRequests=function(B){o.a.MAX_PARALLEL_IMAGE_REQUESTS=B},s.setRTLTextPlugin=function(B,c){return Nr().setRTLTextPlugin(B,c)},s.setWorkerCount=function(B){ge.workerCount=B},s.setWorkerUrl=function(B){o.a.WORKER_URL=B}});var a=r;return a})}(UA)),UA.exports}var Rwt=Twt();const rEt=pl(Rwt);function h0(e){return Array.isArray?Array.isArray(e):KPe(e)==="[object Array]"}function Awt(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Owt(e){return e==null?"":Awt(e)}function Wv(e){return typeof e=="string"}function VPe(e){return typeof e=="number"}function Iwt(e){return e===!0||e===!1||Mwt(e)&&KPe(e)=="[object Boolean]"}function GPe(e){return typeof e=="object"}function Mwt(e){return GPe(e)&&e!==null}function tm(e){return e!=null}function nj(e){return!e.trim().length}function KPe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const kwt="Incorrect 'index' type",Dwt=e=>`Invalid value for key ${e}`,Fwt=e=>`Pattern length exceeds max of ${e}.`,Lwt=e=>`Missing ${e} property in key`,Nwt=e=>`Property 'weight' in key '${e}' must be a positive integer`,Fhe=Object.prototype.hasOwnProperty;class $wt{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=ZPe(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ZPe(e){let t=null,r=null,n=null,i=1,a=null;if(Wv(e)||h0(e))n=e,t=Lhe(e),r=uU(e);else{if(!Fhe.call(e,"name"))throw new Error(Lwt("name"));const s=e.name;if(n=s,Fhe.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Nwt(s));t=Lhe(s),r=uU(s),a=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:a}}function Lhe(e){return h0(e)?e:e.split(".")}function uU(e){return h0(e)?e.join("."):e}function zwt(e,t){let r=[],n=!1;const i=(a,s,o)=>{if(tm(a))if(!s[o])r.push(a);else{let l=s[o];const u=a[l];if(!tm(u))return;if(o===s.length-1&&(Wv(u)||VPe(u)||Iwt(u)))r.push(Owt(u));else if(h0(u)){n=!0;for(let f=0,h=u.length;f<h;f+=1)i(u[f],s,o+1)}else s.length&&i(u,s,o+1)}};return i(e,Wv(t)?t.split("."):t,0),n?r:r[0]}const Bwt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},jwt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Uwt={location:0,threshold:.6,distance:100},qwt={useExtendedSearch:!1,getFn:zwt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var La={...jwt,...Bwt,...Uwt,...qwt};const Hwt=/[^ ]+/g;function Wwt(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const a=i.match(Hwt).length;if(r.has(a))return r.get(a);const s=1/Math.pow(a,.5*e),o=parseFloat(Math.round(s*n)/n);return r.set(a,o),o},clear(){r.clear()}}}class ZG{constructor({getFn:t=La.getFn,fieldNormWeight:r=La.fieldNormWeight}={}){this.norm=Wwt(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Wv(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Wv(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!tm(t)||nj(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,a)=>{let s=i.getFn?i.getFn(t):this.getFn(t,i.path);if(tm(s)){if(h0(s)){let o=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:f}=l.pop();if(tm(f))if(Wv(f)&&!nj(f)){let h={v:f,i:u,n:this.norm.get(f)};o.push(h)}else h0(f)&&f.forEach((h,p)=>{l.push({nestedArrIndex:p,value:h})})}n.$[a]=o}else if(Wv(s)&&!nj(s)){let o={v:s,n:this.norm.get(s)};n.$[a]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function YPe(e,t,{getFn:r=La.getFn,fieldNormWeight:n=La.fieldNormWeight}={}){const i=new ZG({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(ZPe)),i.setSources(t),i.create(),i}function Vwt(e,{getFn:t=La.getFn,fieldNormWeight:r=La.fieldNormWeight}={}){const{keys:n,records:i}=e,a=new ZG({getFn:t,fieldNormWeight:r});return a.setKeys(n),a.setIndexRecords(i),a}function mA(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=La.distance,ignoreLocation:a=La.ignoreLocation}={}){const s=t/e.length;if(a)return s;const o=Math.abs(n-r);return i?s+o/i:o?1:s}function Gwt(e=[],t=La.minMatchCharLength){let r=[],n=-1,i=-1,a=0;for(let s=e.length;a<s;a+=1){let o=e[a];o&&n===-1?n=a:!o&&n!==-1&&(i=a-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[a-1]&&a-n>=t&&r.push([n,a-1]),r}const T_=32;function Kwt(e,t,r,{location:n=La.location,distance:i=La.distance,threshold:a=La.threshold,findAllMatches:s=La.findAllMatches,minMatchCharLength:o=La.minMatchCharLength,includeMatches:l=La.includeMatches,ignoreLocation:u=La.ignoreLocation}={}){if(t.length>T_)throw new Error(Fwt(T_));const f=t.length,h=e.length,p=Math.max(0,Math.min(n,h));let m=a,v=p;const w=o>1||l,x=w?Array(h):[];let T;for(;(T=e.indexOf(t,v))>-1;){let R=mA(t,{currentLocation:T,expectedLocation:p,distance:i,ignoreLocation:u});if(m=Math.min(R,m),v=T+f,w){let O=0;for(;O<f;)x[T+O]=1,O+=1}}v=-1;let A=[],P=1,S=f+h;const E=1<<f-1;for(let R=0;R<f;R+=1){let O=0,F=S;for(;O<F;)mA(t,{errors:R,currentLocation:p+F,expectedLocation:p,distance:i,ignoreLocation:u})<=m?O=F:S=F,F=Math.floor((S-O)/2+O);S=F;let $=Math.max(1,p-F+1),z=s?h:Math.min(p+F,h)+f,q=Array(z+2);q[z+1]=(1<<R)-1;for(let V=z;V>=$;V-=1){let J=V-1,fe=r[e.charAt(J)];if(w&&(x[J]=+!!fe),q[V]=(q[V+1]<<1|1)&fe,R&&(q[V]|=(A[V+1]|A[V])<<1|1|A[V+1]),q[V]&E&&(P=mA(t,{errors:R,currentLocation:J,expectedLocation:p,distance:i,ignoreLocation:u}),P<=m)){if(m=P,v=J,v<=p)break;$=Math.max(1,2*p-v)}}if(mA(t,{errors:R+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:u})>m)break;A=q}const _={isMatch:v>=0,score:Math.max(.001,P)};if(w){const R=Gwt(x,o);R.length?l&&(_.indices=R):_.isMatch=!1}return _}function Zwt(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const WI=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class XPe{constructor(t,{location:r=La.location,threshold:n=La.threshold,distance:i=La.distance,includeMatches:a=La.includeMatches,findAllMatches:s=La.findAllMatches,minMatchCharLength:o=La.minMatchCharLength,isCaseSensitive:l=La.isCaseSensitive,ignoreDiacritics:u=La.ignoreDiacritics,ignoreLocation:f=La.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:a,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f},t=l?t:t.toLowerCase(),t=u?WI(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const h=(m,v)=>{this.chunks.push({pattern:m,alphabet:Zwt(m),startIndex:v})},p=this.pattern.length;if(p>T_){let m=0;const v=p%T_,w=p-v;for(;m<w;)h(this.pattern.substr(m,T_),m),m+=T_;if(v){const x=p-T_;h(this.pattern.substr(x),x)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?WI(t):t,this.pattern===t){let w={isMatch:!0,score:0};return i&&(w.indices=[[0,t.length-1]]),w}const{location:a,distance:s,threshold:o,findAllMatches:l,minMatchCharLength:u,ignoreLocation:f}=this.options;let h=[],p=0,m=!1;this.chunks.forEach(({pattern:w,alphabet:x,startIndex:T})=>{const{isMatch:A,score:P,indices:S}=Kwt(t,w,x,{location:a+T,distance:s,threshold:o,findAllMatches:l,minMatchCharLength:u,includeMatches:i,ignoreLocation:f});A&&(m=!0),p+=P,A&&S&&(h=[...h,...S])});let v={isMatch:m,score:m?p/this.chunks.length:1};return m&&i&&(v.indices=h),v}}class Gb{constructor(t){this.pattern=t}static isMultiMatch(t){return Nhe(t,this.multiRegex)}static isSingleMatch(t){return Nhe(t,this.singleRegex)}search(){}}function Nhe(e,t){const r=e.match(t);return r?r[1]:null}class Ywt extends Gb{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Xwt extends Gb{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Jwt extends Gb{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Qwt extends Gb{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class e1t extends Gb{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class t1t extends Gb{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class JPe extends Gb{constructor(t,{location:r=La.location,threshold:n=La.threshold,distance:i=La.distance,includeMatches:a=La.includeMatches,findAllMatches:s=La.findAllMatches,minMatchCharLength:o=La.minMatchCharLength,isCaseSensitive:l=La.isCaseSensitive,ignoreDiacritics:u=La.ignoreDiacritics,ignoreLocation:f=La.ignoreLocation}={}){super(t),this._bitapSearch=new XPe(t,{location:r,threshold:n,distance:i,includeMatches:a,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class QPe extends Gb{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],a=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+a,i.push([n,r-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const cU=[Ywt,QPe,Jwt,Qwt,t1t,e1t,Xwt,JPe],$he=cU.length,r1t=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,n1t="|";function i1t(e,t={}){return e.split(n1t).map(r=>{let n=r.trim().split(r1t).filter(a=>a&&!!a.trim()),i=[];for(let a=0,s=n.length;a<s;a+=1){const o=n[a];let l=!1,u=-1;for(;!l&&++u<$he;){const f=cU[u];let h=f.isMultiMatch(o);h&&(i.push(new f(h,t)),l=!0)}if(!l)for(u=-1;++u<$he;){const f=cU[u];let h=f.isSingleMatch(o);if(h){i.push(new f(h,t));break}}}return i})}const a1t=new Set([JPe.type,QPe.type]);class o1t{constructor(t,{isCaseSensitive:r=La.isCaseSensitive,ignoreDiacritics:n=La.ignoreDiacritics,includeMatches:i=La.includeMatches,minMatchCharLength:a=La.minMatchCharLength,ignoreLocation:s=La.ignoreLocation,findAllMatches:o=La.findAllMatches,location:l=La.location,threshold:u=La.threshold,distance:f=La.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:a,findAllMatches:o,ignoreLocation:s,location:l,threshold:u,distance:f},t=r?t:t.toLowerCase(),t=n?WI(t):t,this.pattern=t,this.query=i1t(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:a}=this.options;t=i?t:t.toLowerCase(),t=a?WI(t):t;let s=0,o=[],l=0;for(let u=0,f=r.length;u<f;u+=1){const h=r[u];o.length=0,s=0;for(let p=0,m=h.length;p<m;p+=1){const v=h[p],{isMatch:w,indices:x,score:T}=v.search(t);if(w){if(s+=1,l+=T,n){const A=v.constructor.type;a1t.has(A)?o=[...o,...x]:o.push(x)}}else{l=0,s=0,o.length=0;break}}if(s){let p={isMatch:!0,score:l/s};return n&&(p.indices=o),p}}return{isMatch:!1,score:1}}}const fU=[];function s1t(...e){fU.push(...e)}function dU(e,t){for(let r=0,n=fU.length;r<n;r+=1){let i=fU[r];if(i.condition(e,t))return new i(e,t)}return new XPe(e,t)}const VI={AND:"$and",OR:"$or"},hU={PATH:"$path",PATTERN:"$val"},pU=e=>!!(e[VI.AND]||e[VI.OR]),l1t=e=>!!e[hU.PATH],u1t=e=>!h0(e)&&GPe(e)&&!pU(e),zhe=e=>({[VI.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function eTe(e,t,{auto:r=!0}={}){const n=i=>{let a=Object.keys(i);const s=l1t(i);if(!s&&a.length>1&&!pU(i))return n(zhe(i));if(u1t(i)){const l=s?i[hU.PATH]:a[0],u=s?i[hU.PATTERN]:i[l];if(!Wv(u))throw new Error(Dwt(l));const f={keyId:uU(l),pattern:u};return r&&(f.searcher=dU(u,t)),f}let o={children:[],operator:a[0]};return a.forEach(l=>{const u=i[l];h0(u)&&u.forEach(f=>{o.children.push(n(f))})}),o};return pU(e)||(e=zhe(e)),n(e)}function c1t(e,{ignoreFieldNorm:t=La.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:a,score:s})=>{const o=i?i.weight:null;n*=Math.pow(s===0&&o?Number.EPSILON:s,(o||1)*(t?1:a))}),r.score=n})}function f1t(e,t){const r=e.matches;t.matches=[],tm(r)&&r.forEach(n=>{if(!tm(n.indices)||!n.indices.length)return;const{indices:i,value:a}=n;let s={indices:i,value:a};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),t.matches.push(s)})}function d1t(e,t){t.score=e.score}function h1t(e,t,{includeMatches:r=La.includeMatches,includeScore:n=La.includeScore}={}){const i=[];return r&&i.push(f1t),n&&i.push(d1t),e.map(a=>{const{idx:s}=a,o={item:t[s],refIndex:s};return i.length&&i.forEach(l=>{l(a,o)}),o})}class RT{constructor(t,r={},n){this.options={...La,...r},this.options.useExtendedSearch,this._keyStore=new $wt(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof ZG))throw new Error(kwt);this._myIndex=r||YPe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){tm(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const a=this._docs[n];t(a,n)&&(this.removeAt(n),n-=1,i-=1,r.push(a))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:a,sortFn:s,ignoreFieldNorm:o}=this.options;let l=Wv(t)?Wv(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return c1t(l,{ignoreFieldNorm:o}),a&&l.sort(s),VPe(r)&&r>-1&&(l=l.slice(0,r)),h1t(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=dU(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:a,i:s,n:o})=>{if(!tm(a))return;const{isMatch:l,score:u,indices:f}=r.searchIn(a);l&&i.push({item:a,idx:s,matches:[{score:u,value:a,norm:o,indices:f}]})}),i}_searchLogical(t){const r=eTe(t,this.options),n=(o,l,u)=>{if(!o.children){const{keyId:h,searcher:p}=o,m=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:p});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const f=[];for(let h=0,p=o.children.length;h<p;h+=1){const m=o.children[h],v=n(m,l,u);if(v.length)f.push(...v);else if(o.operator===VI.AND)return[]}return f},i=this._myIndex.records,a={},s=[];return i.forEach(({$:o,i:l})=>{if(tm(o)){let u=n(r,o,l);u.length&&(a[l]||(a[l]={idx:l,item:o,matches:[]},s.push(a[l])),u.forEach(({matches:f})=>{a[l].matches.push(...f)}))}}),s}_searchObjectList(t){const r=dU(t,this.options),{keys:n,records:i}=this._myIndex,a=[];return i.forEach(({$:s,i:o})=>{if(!tm(s))return;let l=[];n.forEach((u,f)=>{l.push(...this._findMatches({key:u,value:s[f],searcher:r}))}),l.length&&a.push({idx:o,item:s,matches:l})}),a}_findMatches({key:t,value:r,searcher:n}){if(!tm(r))return[];let i=[];if(h0(r))r.forEach(({v:a,i:s,n:o})=>{if(!tm(a))return;const{isMatch:l,score:u,indices:f}=n.searchIn(a);l&&i.push({score:u,key:t,value:a,idx:s,norm:o,indices:f})});else{const{v:a,n:s}=r,{isMatch:o,score:l,indices:u}=n.searchIn(a);o&&i.push({score:l,key:t,value:a,norm:s,indices:u})}return i}}RT.version="7.1.0";RT.createIndex=YPe;RT.parseIndex=Vwt;RT.config=La;RT.parseQuery=eTe;s1t(o1t);Qge();var nm=Uint8Array,yx=Uint16Array,p1t=Int32Array,tTe=new nm([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rTe=new nm([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m1t=new nm([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nTe=function(e,t){for(var r=new yx(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new p1t(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},iTe=nTe(tTe,2),aTe=iTe.b,g1t=iTe.r;aTe[28]=258,g1t[258]=28;var v1t=nTe(rTe,0),y1t=v1t.b,mU=new yx(32768);for(var cu=0;cu<32768;++cu){var K0=(cu&43690)>>1|(cu&21845)<<1;K0=(K0&52428)>>2|(K0&13107)<<2,K0=(K0&61680)>>4|(K0&3855)<<4,mU[cu]=((K0&65280)>>8|(K0&255)<<8)>>1}var o2=function(e,t,r){for(var n=e.length,i=0,a=new yx(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new yx(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new yx(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],h=s[e[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)o[mU[h]>>l]=u}else for(o=new yx(n),i=0;i<n;++i)e[i]&&(o[i]=mU[s[e[i]-1]++]>>15-e[i]);return o},AT=new nm(288);for(var cu=0;cu<144;++cu)AT[cu]=8;for(var cu=144;cu<256;++cu)AT[cu]=9;for(var cu=256;cu<280;++cu)AT[cu]=7;for(var cu=280;cu<288;++cu)AT[cu]=8;var oTe=new nm(32);for(var cu=0;cu<32;++cu)oTe[cu]=5;var b1t=o2(AT,9,1),_1t=o2(oTe,5,1),ij=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},kg=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},aj=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},w1t=function(e){return(e+7)/8|0},x1t=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new nm(e.subarray(t,r))},S1t=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jp=function(e,t,r){var n=new Error(t||S1t[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Jp),!r)throw n;return n},YG=function(e,t,r,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return r||new nm(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new nm(i*3));var u=function(ft){var qe=r.length;if(ft>qe){var dt=new nm(Math.max(qe*2,ft));dt.set(r),r=dt}},f=t.f||0,h=t.p||0,p=t.b||0,m=t.l,v=t.d,w=t.m,x=t.n,T=i*8;do{if(!m){f=kg(e,h,1);var A=kg(e,h+1,3);if(h+=3,A)if(A==1)m=b1t,v=_1t,w=9,x=5;else if(A==2){var _=kg(e,h,31)+257,R=kg(e,h+10,15)+4,O=_+kg(e,h+5,31)+1;h+=14;for(var F=new nm(O),$=new nm(19),z=0;z<R;++z)$[m1t[z]]=kg(e,h+z*3,7);h+=R*3;for(var q=ij($),Z=(1<<q)-1,V=o2($,q,1),z=0;z<O;){var J=V[kg(e,h,Z)];h+=J&15;var P=J>>4;if(P<16)F[z++]=P;else{var fe=0,ue=0;for(P==16?(ue=3+kg(e,h,3),h+=2,fe=F[z-1]):P==17?(ue=3+kg(e,h,7),h+=3):P==18&&(ue=11+kg(e,h,127),h+=7);ue--;)F[z++]=fe}}var pe=F.subarray(0,_),ve=F.subarray(_);w=ij(pe),x=ij(ve),m=o2(pe,w,1),v=o2(ve,x,1)}else Jp(1);else{var P=w1t(h)+4,S=e[P-4]|e[P-3]<<8,E=P+S;if(E>i){l&&Jp(0);break}o&&u(p+S),r.set(e.subarray(P,E),p),t.b=p+=S,t.p=h=E*8,t.f=f;continue}if(h>T){l&&Jp(0);break}}o&&u(p+131072);for(var le=(1<<w)-1,se=(1<<x)-1,ge=h;;ge=h){var fe=m[aj(e,h)&le],_e=fe>>4;if(h+=fe&15,h>T){l&&Jp(0);break}if(fe||Jp(2),_e<256)r[p++]=_e;else if(_e==256){ge=h,m=null;break}else{var ke=_e-254;if(_e>264){var z=_e-257,Ge=tTe[z];ke=kg(e,h,(1<<Ge)-1)+aTe[z],h+=Ge}var ct=v[aj(e,h)&se],$e=ct>>4;ct||Jp(3),h+=ct&15;var ve=y1t[$e];if($e>3){var Ge=rTe[$e];ve+=aj(e,h)&(1<<Ge)-1,h+=Ge}if(h>T){l&&Jp(0);break}o&&u(p+131072);var we=p+ke;if(p<ve){var Ee=a-ve,Re=Math.min(ve,we);for(Ee+p<0&&Jp(3);p<Re;++p)r[p]=n[Ee+p]}for(;p<we;++p)r[p]=r[p-ve]}}t.l=m,t.p=ge,t.b=p,t.f=f,m&&(f=1,t.m=w,t.d=v,t.n=x)}while(!f);return p!=r.length&&s?x1t(r,0,p):r.subarray(0,p)},E1t=new nm(0),C1t=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Jp(6,"invalid gzip data");var t=e[3],r=10;t&4&&(r+=(e[10]|e[11]<<8)+2);for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(t&2)},P1t=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},T1t=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Jp(6,"invalid zlib data"),(e[1]>>5&1)==1&&Jp(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function R1t(e,t){return YG(e,{i:2},t,t)}function A1t(e,t){var r=C1t(e);return r+8>e.length&&Jp(6,"invalid gzip data"),YG(e.subarray(r,-8),{i:2},new nm(P1t(e)),t)}function O1t(e,t){return YG(e.subarray(T1t(e),-4),{i:2},t,t)}function nEt(e,t){return e[0]==31&&e[1]==139&&e[2]==8?A1t(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?R1t(e,t):O1t(e,t)}var I1t=typeof TextDecoder<"u"&&new TextDecoder,M1t=0;try{I1t.decode(E1t,{stream:!0}),M1t=1}catch{}const k1t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],D1t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],F1t=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],L1t=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Bhe=(e,t,r)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(n=e.toLocaleString(void 0,r)),n};function iEt(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const r=t.bits?t.binary?L1t:F1t:t.binary?D1t:k1t,n=t.space?" ":"";if(t.signed&&e===0)return` 0${n}${r[0]}`;const i=e<0,a=i?"-":t.signed?"+":"";i&&(e=-e);let s;if(t.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:t.maximumFractionDigits,...s}),e<1){const f=Bhe(e,t.locale,s);return a+f+n+r[0]}const o=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**o,s||(e=e.toPrecision(3));const l=Bhe(Number(e),t.locale,s),u=r[o];return a+l+n+u}var oj,jhe;function N1t(){if(jhe)return oj;jhe=1;var e=gM(),t=mq(),r=sge();function n(i,a){var s={};return a=r(a,3),t(i,function(o,l,u){e(s,l,a(o,l,u))}),s}return oj=n,oj}var $1t=N1t();const aEt=pl($1t);var MC={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var z1t=MC.exports,Uhe;function B1t(){return Uhe||(Uhe=1,function(e,t){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",h=1,p=2,m=4,v=1,w=2,x=1,T=2,A=4,P=8,S=16,E=32,_=64,R=128,O=256,F=512,$=30,z="...",q=800,Z=16,V=1,J=2,fe=3,ue=1/0,pe=9007199254740991,ve=17976931348623157e292,le=NaN,se=4294967295,ge=se-1,_e=se>>>1,ke=[["ary",R],["bind",x],["bindKey",T],["curry",P],["curryRight",S],["flip",F],["partial",E],["partialRight",_],["rearg",O]],Ge="[object Arguments]",ct="[object Array]",$e="[object AsyncFunction]",we="[object Boolean]",Ee="[object Date]",Re="[object DOMException]",ft="[object Error]",qe="[object Function]",dt="[object GeneratorFunction]",he="[object Map]",ut="[object Number]",xt="[object Null]",je="[object Object]",rt="[object Promise]",Ze="[object Proxy]",yt="[object RegExp]",Vt="[object Set]",At="[object String]",hr="[object Symbol]",Sr="[object Undefined]",fr="[object WeakMap]",Dt="[object WeakSet]",dr="[object ArrayBuffer]",Nr="[object DataView]",gr="[object Float32Array]",wr="[object Float64Array]",Fr="[object Int8Array]",_n="[object Int16Array]",nn="[object Int32Array]",ot="[object Uint8Array]",Je="[object Uint8ClampedArray]",Me="[object Uint16Array]",Le="[object Uint32Array]",Ye=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/&(?:amp|lt|gt|quot|#39);/g,Ft=/[&<>"']/g,Tt=RegExp(at.source),ir=RegExp(Ft.source),or=/<%-([\s\S]+?)%>/g,ar=/<%([\s\S]+?)%>/g,zr=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,br=/[\\^$.*+?()[\]{}|]/g,Rr=RegExp(br.source),jt=/^\s+/,Yt=/\s/,Jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rr=/\{\n\/\* \[wrapped with (.+)\] \*/,vr=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ir=/[()=,{}\[\]\/\s]/,fn=/\\(\\)?/g,Fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ui=/\w*$/,yi=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,mi=/^\[object .+?Constructor\]$/,ya=/^0o[0-7]+$/i,Ka=/^(?:0|[1-9]\d*)$/,Ua=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ji=/($^)/,So=/['\n\r\u2028\u2029\\]/g,ci="\\ud800-\\udfff",Ia="\\u0300-\\u036f",Ti="\\ufe20-\\ufe2f",Ko="\\u20d0-\\u20ff",wi=Ia+Ti+Ko,lo="\\u2700-\\u27bf",co="a-z\\xdf-\\xf6\\xf8-\\xff",bi="\\xac\\xb1\\xd7\\xf7",Ri="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sa="\\u2000-\\u206f",qa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",os="A-Z\\xc0-\\xd6\\xd8-\\xde",Eo="\\ufe0e\\ufe0f",Ns=bi+Ri+sa+qa,Zo="['’]",ml="["+ci+"]",Au="["+Ns+"]",Vl="["+wi+"]",gl="\\d+",wc="["+lo+"]",Gl="["+co+"]",ko="[^"+ci+Ns+gl+lo+co+os+"]",Rl="\\ud83c[\\udffb-\\udfff]",uo="(?:"+Vl+"|"+Rl+")",Al="[^"+ci+"]",Ol="(?:\\ud83c[\\udde6-\\uddff]){2}",fa="[\\ud800-\\udbff][\\udc00-\\udfff]",Co="["+os+"]",Bi="\\u200d",to="(?:"+Gl+"|"+ko+")",Yo="(?:"+Co+"|"+ko+")",du="(?:"+Zo+"(?:d|ll|m|re|s|t|ve))?",Ei="(?:"+Zo+"(?:D|LL|M|RE|S|T|VE))?",Ou=uo+"?",hu="["+Eo+"]?",Qs="(?:"+Bi+"(?:"+[Al,Ol,fa].join("|")+")"+hu+Ou+")*",Ma="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Po="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ha=hu+Ou+Qs,ss="(?:"+[wc,Ol,fa].join("|")+")"+Ha,Ca="(?:"+[Al+Vl+"?",Vl,Ol,fa,ml].join("|")+")",nf=RegExp(Zo,"g"),Xo=RegExp(Vl,"g"),ms=RegExp(Rl+"(?="+Rl+")|"+Ca+Ha,"g"),ba=RegExp([Co+"?"+Gl+"+"+du+"(?="+[Au,Co,"$"].join("|")+")",Yo+"+"+Ei+"(?="+[Au,Co+to,"$"].join("|")+")",Co+"?"+to+"+"+du,Co+"+"+Ei,Po,Ma,gl,ss].join("|"),"g"),_t=RegExp("["+Bi+ci+wi+Eo+"]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ar=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zt=-1,pr={};pr[gr]=pr[wr]=pr[Fr]=pr[_n]=pr[nn]=pr[ot]=pr[Je]=pr[Me]=pr[Le]=!0,pr[Ge]=pr[ct]=pr[dr]=pr[we]=pr[Nr]=pr[Ee]=pr[ft]=pr[qe]=pr[he]=pr[ut]=pr[je]=pr[yt]=pr[Vt]=pr[At]=pr[fr]=!1;var Kr={};Kr[Ge]=Kr[ct]=Kr[dr]=Kr[Nr]=Kr[we]=Kr[Ee]=Kr[gr]=Kr[wr]=Kr[Fr]=Kr[_n]=Kr[nn]=Kr[he]=Kr[ut]=Kr[je]=Kr[yt]=Kr[Vt]=Kr[At]=Kr[hr]=Kr[ot]=Kr[Je]=Kr[Me]=Kr[Le]=!0,Kr[ft]=Kr[qe]=Kr[fr]=!1;var rn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ln={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,Un=parseInt,fi=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl,de=typeof self=="object"&&self&&self.Object===Object&&self,Ie=fi||de||Function("return this")(),Ke=t&&!t.nodeType&&t,et=Ke&&!0&&e&&!e.nodeType&&e,St=et&&et.exports===Ke,vt=St&&fi.process,Ot=function(){try{var Cr=et&&et.require&&et.require("util").types;return Cr||vt&&vt.binding&&vt.binding("util")}catch{}}(),Pr=Ot&&Ot.isArrayBuffer,Tr=Ot&&Ot.isDate,Mr=Ot&&Ot.isMap,bn=Ot&&Ot.isRegExp,sn=Ot&&Ot.isSet,Pn=Ot&&Ot.isTypedArray;function un(Cr,dn,Zr){switch(Zr.length){case 0:return Cr.call(dn);case 1:return Cr.call(dn,Zr[0]);case 2:return Cr.call(dn,Zr[0],Zr[1]);case 3:return Cr.call(dn,Zr[0],Zr[1],Zr[2])}return Cr.apply(dn,Zr)}function gn(Cr,dn,Zr,li){for(var ua=-1,fo=Cr==null?0:Cr.length;++ua<fo;){var As=Cr[ua];dn(li,As,Zr(As),Cr)}return li}function Cn(Cr,dn){for(var Zr=-1,li=Cr==null?0:Cr.length;++Zr<li&&dn(Cr[Zr],Zr,Cr)!==!1;);return Cr}function Zn(Cr,dn){for(var Zr=Cr==null?0:Cr.length;Zr--&&dn(Cr[Zr],Zr,Cr)!==!1;);return Cr}function hi(Cr,dn){for(var Zr=-1,li=Cr==null?0:Cr.length;++Zr<li;)if(!dn(Cr[Zr],Zr,Cr))return!1;return!0}function ji(Cr,dn){for(var Zr=-1,li=Cr==null?0:Cr.length,ua=0,fo=[];++Zr<li;){var As=Cr[Zr];dn(As,Zr,Cr)&&(fo[ua++]=As)}return fo}function ii(Cr,dn){var Zr=Cr==null?0:Cr.length;return!!Zr&&ka(Cr,dn,0)>-1}function Bn(Cr,dn,Zr){for(var li=-1,ua=Cr==null?0:Cr.length;++li<ua;)if(Zr(dn,Cr[li]))return!0;return!1}function ni(Cr,dn){for(var Zr=-1,li=Cr==null?0:Cr.length,ua=Array(li);++Zr<li;)ua[Zr]=dn(Cr[Zr],Zr,Cr);return ua}function ai(Cr,dn){for(var Zr=-1,li=dn.length,ua=Cr.length;++Zr<li;)Cr[ua+Zr]=dn[Zr];return Cr}function $i(Cr,dn,Zr,li){var ua=-1,fo=Cr==null?0:Cr.length;for(li&&fo&&(Zr=Cr[++ua]);++ua<fo;)Zr=dn(Zr,Cr[ua],ua,Cr);return Zr}function _a(Cr,dn,Zr,li){var ua=Cr==null?0:Cr.length;for(li&&ua&&(Zr=Cr[--ua]);ua--;)Zr=dn(Zr,Cr[ua],ua,Cr);return Zr}function Ai(Cr,dn){for(var Zr=-1,li=Cr==null?0:Cr.length;++Zr<li;)if(dn(Cr[Zr],Zr,Cr))return!0;return!1}var Zi=gs("length");function ma(Cr){return Cr.split("")}function Hi(Cr){return Cr.match(Lt)||[]}function Pa(Cr,dn,Zr){var li;return Zr(Cr,function(ua,fo,As){if(dn(ua,fo,As))return li=fo,!1}),li}function ha(Cr,dn,Zr,li){for(var ua=Cr.length,fo=Zr+(li?1:-1);li?fo--:++fo<ua;)if(dn(Cr[fo],fo,Cr))return fo;return-1}function ka(Cr,dn,Zr){return dn===dn?Hc(Cr,dn,Zr):ha(Cr,Ta,Zr)}function pi(Cr,dn,Zr,li){for(var ua=Zr-1,fo=Cr.length;++ua<fo;)if(li(Cr[ua],dn))return ua;return-1}function Ta(Cr){return Cr!==Cr}function Jo(Cr,dn){var Zr=Cr==null?0:Cr.length;return Zr?qs(Cr,dn)/Zr:le}function gs(Cr){return function(dn){return dn==null?r:dn[Cr]}}function Ii(Cr){return function(dn){return Cr==null?r:Cr[dn]}}function Qo(Cr,dn,Zr,li,ua){return ua(Cr,function(fo,As,yo){Zr=li?(li=!1,fo):dn(Zr,fo,As,yo)}),Zr}function vs(Cr,dn){var Zr=Cr.length;for(Cr.sort(dn);Zr--;)Cr[Zr]=Cr[Zr].value;return Cr}function qs(Cr,dn){for(var Zr,li=-1,ua=Cr.length;++li<ua;){var fo=dn(Cr[li]);fo!==r&&(Zr=Zr===r?fo:Zr+fo)}return Zr}function Uo(Cr,dn){for(var Zr=-1,li=Array(Cr);++Zr<Cr;)li[Zr]=dn(Zr);return li}function qc(Cr,dn){return ni(dn,function(Zr){return[Zr,Cr[Zr]]})}function ec(Cr){return Cr&&Cr.slice(0,Wc(Cr)+1).replace(jt,"")}function Kl(Cr){return function(dn){return Cr(dn)}}function xc(Cr,dn){return ni(dn,function(Zr){return Cr[Zr]})}function el(Cr,dn){return Cr.has(dn)}function af(Cr,dn){for(var Zr=-1,li=Cr.length;++Zr<li&&ka(dn,Cr[Zr],0)>-1;);return Zr}function nh(Cr,dn){for(var Zr=Cr.length;Zr--&&ka(dn,Cr[Zr],0)>-1;);return Zr}function Gh(Cr,dn){for(var Zr=Cr.length,li=0;Zr--;)Cr[Zr]===dn&&++li;return li}var Sf=Ii(rn),tc=Ii(ri);function Kh(Cr){return"\\"+Ln[Cr]}function Ef(Cr,dn){return Cr==null?r:Cr[dn]}function Sc(Cr){return _t.test(Cr)}function Pp(Cr){return Nt.test(Cr)}function Il(Cr){for(var dn,Zr=[];!(dn=Cr.next()).done;)Zr.push(dn.value);return Zr}function Iu(Cr){var dn=-1,Zr=Array(Cr.size);return Cr.forEach(function(li,ua){Zr[++dn]=[ua,li]}),Zr}function Tp(Cr,dn){return function(Zr){return Cr(dn(Zr))}}function vl(Cr,dn){for(var Zr=-1,li=Cr.length,ua=0,fo=[];++Zr<li;){var As=Cr[Zr];(As===dn||As===f)&&(Cr[Zr]=f,fo[ua++]=Zr)}return fo}function To(Cr){var dn=-1,Zr=Array(Cr.size);return Cr.forEach(function(li){Zr[++dn]=li}),Zr}function Rp(Cr){var dn=-1,Zr=Array(Cr.size);return Cr.forEach(function(li){Zr[++dn]=[li,li]}),Zr}function Hc(Cr,dn,Zr){for(var li=Zr-1,ua=Cr.length;++li<ua;)if(Cr[li]===dn)return li;return-1}function wm(Cr,dn,Zr){for(var li=Zr+1;li--;)if(Cr[li]===dn)return li;return li}function la(Cr){return Sc(Cr)?ah(Cr):Zi(Cr)}function Hn(Cr){return Sc(Cr)?fg(Cr):ma(Cr)}function Wc(Cr){for(var dn=Cr.length;dn--&&Yt.test(Cr.charAt(dn)););return dn}var ih=Ii(Sn);function ah(Cr){for(var dn=ms.lastIndex=0;ms.test(Cr);)++dn;return dn}function fg(Cr){return Cr.match(ms)||[]}function dg(Cr){return Cr.match(ba)||[]}var oh=function Cr(dn){dn=dn==null?Ie:Id.defaults(Ie.Object(),dn,Id.pick(Ie,Ar));var Zr=dn.Array,li=dn.Date,ua=dn.Error,fo=dn.Function,As=dn.Math,yo=dn.Object,Ui=dn.RegExp,yl=dn.String,Mu=dn.TypeError,ku=Zr.prototype,sh=fo.prototype,Du=yo.prototype,Ml=dn["__core-js_shared__"],lh=sh.toString,Za=Du.hasOwnProperty,Md=0,Cf=function(){var D=/[^.]+$/.exec(Ml&&Ml.keys&&Ml.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),rd=Du.toString,nd=lh.call(yo),Zh=Ie._,Ap=Ui("^"+lh.call(Za).replace(br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),id=St?dn.Buffer:r,Zl=dn.Symbol,Pf=dn.Uint8Array,xm=id?id.allocUnsafe:r,rc=Tp(yo.getPrototypeOf,yo),ga=yo.create,kd=Du.propertyIsEnumerable,Fu=ku.splice,Sm=Zl?Zl.isConcatSpreadable:r,Ec=Zl?Zl.iterator:r,Yl=Zl?Zl.toStringTag:r,Tf=function(){try{var D=zs(yo,"defineProperty");return D({},"",{}),D}catch{}}(),Em=dn.clearTimeout!==Ie.clearTimeout&&dn.clearTimeout,ls=li&&li.now!==Ie.Date.now&&li.now,Yh=dn.setTimeout!==Ie.setTimeout&&dn.setTimeout,of=As.ceil,sf=As.floor,Xh=yo.getOwnPropertySymbols,Jh=id?id.isBuffer:r,Dd=dn.isFinite,Fd=ku.join,lf=Tp(yo.keys,yo),Ss=As.max,tl=As.min,ad=li.now,Qh=dn.parseInt,ep=As.random,Cc=ku.reverse,$s=zs(dn,"DataView"),od=zs(dn,"Map"),uh=zs(dn,"Promise"),Pc=zs(dn,"Set"),sd=zs(dn,"WeakMap"),ch=zs(yo,"create"),Rf=sd&&new sd,qo={},uf=Jc($s),rl=Jc(od),fh=Jc(uh),Vc=Jc(Pc),Lu=Jc(sd),kl=Zl?Zl.prototype:r,Nu=kl?kl.valueOf:r,Ld=kl?kl.toString:r;function pt(D){if(su(D)&&!za(D)&&!(D instanceof ea)){if(D instanceof Xl)return D;if(Za.call(D,"__wrapped__"))return S0(D)}return new Xl(D)}var Af=function(){function D(){}return function(U){if(!Ul(U))return{};if(ga)return ga(U);D.prototype=U;var re=new D;return D.prototype=r,re}}();function nc(){}function Xl(D,U){this.__wrapped__=D,this.__actions__=[],this.__chain__=!!U,this.__index__=0,this.__values__=r}pt.templateSettings={escape:or,evaluate:ar,interpolate:zr,variable:"",imports:{_:pt}},pt.prototype=nc.prototype,pt.prototype.constructor=pt,Xl.prototype=Af(nc.prototype),Xl.prototype.constructor=Xl;function ea(D){this.__wrapped__=D,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function ld(){var D=new ea(this.__wrapped__);return D.__actions__=ju(this.__actions__),D.__dir__=this.__dir__,D.__filtered__=this.__filtered__,D.__iteratees__=ju(this.__iteratees__),D.__takeCount__=this.__takeCount__,D.__views__=ju(this.__views__),D}function Os(){if(this.__filtered__){var D=new ea(this);D.__dir__=-1,D.__filtered__=!0}else D=this.clone(),D.__dir__*=-1;return D}function cf(){var D=this.__wrapped__.value(),U=this.__dir__,re=za(D),Ae=U<0,tt=re?D.length:0,Et=Bd(0,tt,this.__views__),Qt=Et.start,mr=Et.end,Lr=mr-Qt,wn=Ae?mr:Qt-1,En=this.__iteratees__,zn=En.length,_i=0,Yi=tl(Lr,this.__takeCount__);if(!re||!Ae&&tt==Lr&&Yi==Lr)return Fa(D,this.__actions__);var xa=[];e:for(;Lr--&&_i<Yi;){wn+=U;for(var mo=-1,Sa=D[wn];++mo<zn;){var zo=En[mo],ts=zo.iteratee,Wp=zo.type,Rh=ts(Sa);if(Wp==J)Sa=Rh;else if(!Rh){if(Wp==V)continue e;break e}}xa[_i++]=Sa}return xa}ea.prototype=Af(nc.prototype),ea.prototype.constructor=ea;function pu(D){var U=-1,re=D==null?0:D.length;for(this.clear();++U<re;){var Ae=D[U];this.set(Ae[0],Ae[1])}}function us(){this.__data__=ch?ch(null):{},this.size=0}function Do(D){var U=this.has(D)&&delete this.__data__[D];return this.size-=U?1:0,U}function ic(D){var U=this.__data__;if(ch){var re=U[D];return re===l?r:re}return Za.call(U,D)?U[D]:r}function Dl(D){var U=this.__data__;return ch?U[D]!==r:Za.call(U,D)}function Jl(D,U){var re=this.__data__;return this.size+=this.has(D)?0:1,re[D]=ch&&U===r?l:U,this}pu.prototype.clear=us,pu.prototype.delete=Do,pu.prototype.get=ic,pu.prototype.has=Dl,pu.prototype.set=Jl;function Fl(D){var U=-1,re=D==null?0:D.length;for(this.clear();++U<re;){var Ae=D[U];this.set(Ae[0],Ae[1])}}function ac(){this.__data__=[],this.size=0}function Hs(D){var U=this.__data__,re=Ll(U,D);if(re<0)return!1;var Ae=U.length-1;return re==Ae?U.pop():Fu.call(U,re,1),--this.size,!0}function Es(D){var U=this.__data__,re=Ll(U,D);return re<0?r:U[re][1]}function Gc(D){return Ll(this.__data__,D)>-1}function ff(D,U){var re=this.__data__,Ae=Ll(re,D);return Ae<0?(++this.size,re.push([D,U])):re[Ae][1]=U,this}Fl.prototype.clear=ac,Fl.prototype.delete=Hs,Fl.prototype.get=Es,Fl.prototype.has=Gc,Fl.prototype.set=ff;function Cs(D){var U=-1,re=D==null?0:D.length;for(this.clear();++U<re;){var Ae=D[U];this.set(Ae[0],Ae[1])}}function dh(){this.size=0,this.__data__={hash:new pu,map:new(od||Fl),string:new pu}}function oc(D){var U=Uu(this,D).delete(D);return this.size-=U?1:0,U}function Cm(D){return Uu(this,D).get(D)}function Op(D){return Uu(this,D).has(D)}function Ip(D,U){var re=Uu(this,D),Ae=re.size;return re.set(D,U),this.size+=re.size==Ae?0:1,this}Cs.prototype.clear=dh,Cs.prototype.delete=oc,Cs.prototype.get=Cm,Cs.prototype.has=Op,Cs.prototype.set=Ip;function ud(D){var U=-1,re=D==null?0:D.length;for(this.__data__=new Cs;++U<re;)this.add(D[U])}function mu(D){return this.__data__.set(D,l),this}function gu(D){return this.__data__.has(D)}ud.prototype.add=ud.prototype.push=mu,ud.prototype.has=gu;function qn(D){var U=this.__data__=new Fl(D);this.size=U.size}function hh(){this.__data__=new Fl,this.size=0}function Nd(D){var U=this.__data__,re=U.delete(D);return this.size=U.size,re}function Tc(D){return this.__data__.get(D)}function Ql(D){return this.__data__.has(D)}function Kc(D,U){var re=this.__data__;if(re instanceof Fl){var Ae=re.__data__;if(!od||Ae.length<i-1)return Ae.push([D,U]),this.size=++re.size,this;re=this.__data__=new Cs(Ae)}return re.set(D,U),this.size=re.size,this}qn.prototype.clear=hh,qn.prototype.delete=Nd,qn.prototype.get=Tc,qn.prototype.has=Ql,qn.prototype.set=Kc;function Zc(D,U){var re=za(D),Ae=!re&&Eg(D),tt=!re&&!Ae&&dc(D),Et=!re&&!Ae&&!tt&&$0(D),Qt=re||Ae||tt||Et,mr=Qt?Uo(D.length,yl):[],Lr=mr.length;for(var wn in D)(U||Za.call(D,wn))&&!(Qt&&(wn=="length"||tt&&(wn=="offset"||wn=="parent")||Et&&(wn=="buffer"||wn=="byteLength"||wn=="byteOffset")||Lo(wn,Lr)))&&mr.push(wn);return mr}function ta(D){var U=D.length;return U?D[nr(0,U-1)]:r}function Of(D,U){return Im(ju(D),Mf(U,0,D.length))}function hg(D){return Im(ju(D))}function $d(D,U,re){(re!==r&&!op(D[U],re)||re===r&&!(U in D))&&Rc(D,U,re)}function If(D,U,re){var Ae=D[U];(!(Za.call(D,U)&&op(Ae,re))||re===r&&!(U in D))&&Rc(D,U,re)}function Ll(D,U){for(var re=D.length;re--;)if(op(D[re][0],U))return re;return-1}function eu(D,U,re,Ae){return df(D,function(tt,Et,Qt){U(Ae,tt,re(tt),Qt)}),Ae}function Fo(D,U){return D&&uc(U,Se(U),D)}function vu(D,U){return D&&uc(U,Pe(U),D)}function Rc(D,U,re){U=="__proto__"&&Tf?Tf(D,U,{configurable:!0,enumerable:!0,value:re,writable:!0}):D[U]=re}function cd(D,U){for(var re=-1,Ae=U.length,tt=Zr(Ae),Et=D==null;++re<Ae;)tt[re]=Et?r:N(D,U[re]);return tt}function Mf(D,U,re){return D===D&&(re!==r&&(D=D<=re?D:re),U!==r&&(D=D>=U?D:U)),D}function sc(D,U,re,Ae,tt,Et){var Qt,mr=U&h,Lr=U&p,wn=U&m;if(re&&(Qt=tt?re(D,Ae,tt,Et):re(D)),Qt!==r)return Qt;if(!Ul(D))return D;var En=za(D);if(En){if(Qt=gg(D),!mr)return ju(D,Qt)}else{var zn=Ps(D),_i=zn==qe||zn==dt;if(dc(D))return Lf(D,mr);if(zn==je||zn==Ge||_i&&!tt){if(Qt=Lr||_i?{}:Hu(D),!mr)return Lr?Xc(D,vu(Qt,D)):gd(D,Fo(Qt,D))}else{if(!Kr[zn])return tt?D:{};Qt=wy(D,zn,mr)}}Et||(Et=new qn);var Yi=Et.get(D);if(Yi)return Yi;Et.set(D,Qt),o_(D)?D.forEach(function(Sa){Qt.add(sc(Sa,U,re,Sa,D,Et))}):oE(D)&&D.forEach(function(Sa,zo){Qt.set(zo,sc(Sa,U,re,zo,D,Et))});var xa=wn?Lr?al:ja:Lr?Pe:Se,mo=En?r:xa(D);return Cn(mo||D,function(Sa,zo){mo&&(zo=Sa,Sa=D[zo]),If(Qt,zo,sc(Sa,U,re,zo,D,Et))}),Qt}function kf(D){var U=Se(D);return function(re){return Ro(re,D,U)}}function Ro(D,U,re){var Ae=re.length;if(D==null)return!Ae;for(D=yo(D);Ae--;){var tt=re[Ae],Et=U[tt],Qt=D[tt];if(Qt===r&&!(tt in D)||!Et(Qt))return!1}return!0}function fd(D,U,re){if(typeof D!="function")throw new Mu(s);return Vu(function(){D.apply(r,re)},U)}function Ac(D,U,re,Ae){var tt=-1,Et=ii,Qt=!0,mr=D.length,Lr=[],wn=U.length;if(!mr)return Lr;re&&(U=ni(U,Kl(re))),Ae?(Et=Bn,Qt=!1):U.length>=i&&(Et=el,Qt=!1,U=new ud(U));e:for(;++tt<mr;){var En=D[tt],zn=re==null?En:re(En);if(En=Ae||En!==0?En:0,Qt&&zn===zn){for(var _i=wn;_i--;)if(U[_i]===zn)continue e;Lr.push(En)}else Et(U,zn,Ae)||Lr.push(En)}return Lr}var df=il(yu),pg=il(bl,!0);function zd(D,U){var re=!0;return df(D,function(Ae,tt,Et){return re=!!U(Ae,tt,Et),re}),re}function Df(D,U,re){for(var Ae=-1,tt=D.length;++Ae<tt;){var Et=D[Ae],Qt=U(Et);if(Qt!=null&&(mr===r?Qt===Qt&&!xh(Qt):re(Qt,mr)))var mr=Qt,Lr=Et}return Lr}function Nl(D,U,re,Ae){var tt=D.length;for(re=Xa(re),re<0&&(re=-re>tt?0:tt+re),Ae=Ae===r||Ae>tt?tt:Xa(Ae),Ae<0&&(Ae+=tt),Ae=re>Ae?0:uE(Ae);re<Ae;)D[re++]=U;return D}function ph(D,U){var re=[];return df(D,function(Ae,tt,Et){U(Ae,tt,Et)&&re.push(Ae)}),re}function Gn(D,U,re,Ae,tt){var Et=-1,Qt=D.length;for(re||(re=jd),tt||(tt=[]);++Et<Qt;){var mr=D[Et];U>0&&re(mr)?U>1?Gn(mr,U-1,re,Ae,tt):ai(tt,mr):Ae||(tt[tt.length]=mr)}return tt}var Di=mh(),dd=mh(!0);function yu(D,U){return D&&Di(D,U,Se)}function bl(D,U){return D&&dd(D,U,Se)}function ys(D,U){return ji(U,function(re){return Cg(D[re])})}function Yc(D,U){U=Gs(U,D);for(var re=0,Ae=U.length;D!=null&&re<Ae;)D=D[Gu(U[re++])];return re&&re==Ae?D:r}function $u(D,U,re){var Ae=U(D);return za(D)?Ae:ai(Ae,re(D))}function $l(D){return D==null?D===r?Sr:xt:Yl&&Yl in yo(D)?Ho(D):bg(D)}function zu(D,U){return D>U}function ro(D,U){return D!=null&&Za.call(D,U)}function bo(D,U){return D!=null&&U in yo(D)}function hd(D,U,re){return D>=tl(U,re)&&D<Ss(U,re)}function pd(D,U,re){for(var Ae=re?Bn:ii,tt=D[0].length,Et=D.length,Qt=Et,mr=Zr(Et),Lr=1/0,wn=[];Qt--;){var En=D[Qt];Qt&&U&&(En=ni(En,Kl(U))),Lr=tl(En.length,Lr),mr[Qt]=!re&&(U||tt>=120&&En.length>=120)?new ud(Qt&&En):r}En=D[0];var zn=-1,_i=mr[0];e:for(;++zn<tt&&wn.length<Lr;){var Yi=En[zn],xa=U?U(Yi):Yi;if(Yi=re||Yi!==0?Yi:0,!(_i?el(_i,xa):Ae(wn,xa,re))){for(Qt=Et;--Qt;){var mo=mr[Qt];if(!(mo?el(mo,xa):Ae(D[Qt],xa,re)))continue e}_i&&_i.push(xa),wn.push(Yi)}}return wn}function Oc(D,U,re,Ae){return yu(D,function(tt,Et,Qt){U(Ae,re(tt),Et,Qt)}),Ae}function zl(D,U,re){U=Gs(U,D),D=No(D,U);var Ae=D==null?D:D[Gu(oa(U))];return Ae==null?r:un(Ae,D,re)}function tp(D){return su(D)&&$l(D)==Ge}function Pm(D){return su(D)&&$l(D)==dr}function Ws(D){return su(D)&&$l(D)==Ee}function lc(D,U,re,Ae,tt){return D===U?!0:D==null||U==null||!su(D)&&!su(U)?D!==D&&U!==U:B(D,U,re,Ae,lc,tt)}function B(D,U,re,Ae,tt,Et){var Qt=za(D),mr=za(U),Lr=Qt?ct:Ps(D),wn=mr?ct:Ps(U);Lr=Lr==Ge?je:Lr,wn=wn==Ge?je:wn;var En=Lr==je,zn=wn==je,_i=Lr==wn;if(_i&&dc(D)){if(!dc(U))return!1;Qt=!0,En=!1}if(_i&&!En)return Et||(Et=new qn),Qt||$0(D)?Kn(D,U,re,Ae,tt,Et):Nn(D,U,Lr,re,Ae,tt,Et);if(!(re&v)){var Yi=En&&Za.call(D,"__wrapped__"),xa=zn&&Za.call(U,"__wrapped__");if(Yi||xa){var mo=Yi?D.value():D,Sa=xa?U.value():U;return Et||(Et=new qn),tt(mo,Sa,re,Ae,Et)}}return _i?(Et||(Et=new qn),ei(D,U,re,Ae,tt,Et)):!1}function c(D){return su(D)&&Ps(D)==he}function g(D,U,re,Ae){var tt=re.length,Et=tt,Qt=!Ae;if(D==null)return!Et;for(D=yo(D);tt--;){var mr=re[tt];if(Qt&&mr[2]?mr[1]!==D[mr[0]]:!(mr[0]in D))return!1}for(;++tt<Et;){mr=re[tt];var Lr=mr[0],wn=D[Lr],En=mr[1];if(Qt&&mr[2]){if(wn===r&&!(Lr in D))return!1}else{var zn=new qn;if(Ae)var _i=Ae(wn,En,Lr,D,U,zn);if(!(_i===r?lc(En,wn,v|w,Ae,zn):_i))return!1}}return!0}function M(D){if(!Ul(D)||xy(D))return!1;var U=Cg(D)?Ap:mi;return U.test(Jc(D))}function L(D){return su(D)&&$l(D)==yt}function j(D){return su(D)&&Ps(D)==Vt}function Y(D){return su(D)&&Bp(D.length)&&!!pr[$l(D)]}function te(D){return typeof D=="function"?D:D==null?Sd:typeof D=="object"?za(D)?We(D[0],D[1]):De(D):JT(D)}function oe(D){if(!vh(D))return lf(D);var U=[];for(var re in yo(D))Za.call(D,re)&&re!="constructor"&&U.push(re);return U}function be(D){if(!Ul(D))return Dp(D);var U=vh(D),re=[];for(var Ae in D)Ae=="constructor"&&(U||!Za.call(D,Ae))||re.push(Ae);return re}function Ce(D,U){return D<U}function Fe(D,U){var re=-1,Ae=_d(D)?Zr(D.length):[];return df(D,function(tt,Et,Qt){Ae[++re]=U(tt,Et,Qt)}),Ae}function De(D){var U=qu(D);return U.length==1&&U[0][2]?Am(U[0][0],U[0][1]):function(re){return re===D||g(re,D,U)}}function We(D,U){return di(D)&&yg(U)?Am(Gu(D),U):function(re){var Ae=N(re,D);return Ae===r&&Ae===U?G(re,D):lc(U,Ae,v|w)}}function nt(D,U,re,Ae,tt){D!==U&&Di(U,function(Et,Qt){if(tt||(tt=new qn),Ul(Et))Pt(D,U,Qt,re,nt,Ae,tt);else{var mr=Ae?Ae(Fc(D,Qt),Et,Qt+"",D,U,tt):r;mr===r&&(mr=Et),$d(D,Qt,mr)}},Pe)}function Pt(D,U,re,Ae,tt,Et,Qt){var mr=Fc(D,re),Lr=Fc(U,re),wn=Qt.get(Lr);if(wn){$d(D,re,wn);return}var En=Et?Et(mr,Lr,re+"",D,U,Qt):r,zn=En===r;if(zn){var _i=za(Lr),Yi=!_i&&dc(Lr),xa=!_i&&!Yi&&$0(Lr);En=Lr,_i||Yi||xa?za(mr)?En=mr:ou(mr)?En=ju(mr):Yi?(zn=!1,En=Lf(Lr,!0)):xa?(zn=!1,En=_u(Lr,!0)):En=[]:L0(Lr)||Eg(Lr)?(En=mr,Eg(mr)?En=HT(mr):(!Ul(mr)||Cg(mr))&&(En=Hu(Lr))):zn=!1}zn&&(Qt.set(Lr,En),tt(En,Lr,Ae,Et,Qt),Qt.delete(Lr)),$d(D,re,En)}function Ct(D,U){var re=D.length;if(re)return U+=U<0?re:0,Lo(U,re)?D[U]:r}function Rt(D,U,re){U.length?U=ni(U,function(Et){return za(Et)?function(Qt){return Yc(Qt,Et.length===1?Et[0]:Et)}:Et}):U=[Sd];var Ae=-1;U=ni(U,Kl(Qn()));var tt=Fe(D,function(Et,Qt,mr){var Lr=ni(U,function(wn){return wn(Et)});return{criteria:Lr,index:++Ae,value:Et}});return vs(tt,function(Et,Qt){return Tm(Et,Qt,re)})}function Bt(D,U){return Ht(D,U,function(re,Ae){return G(D,Ae)})}function Ht(D,U,re){for(var Ae=-1,tt=U.length,Et={};++Ae<tt;){var Qt=U[Ae],mr=Yc(D,Qt);re(mr,Qt)&&Dn(Et,Gs(Qt,D),mr)}return Et}function $t(D){return function(U){return Yc(U,D)}}function Wt(D,U,re,Ae){var tt=Ae?pi:ka,Et=-1,Qt=U.length,mr=D;for(D===U&&(U=ju(U)),re&&(mr=ni(D,Kl(re)));++Et<Qt;)for(var Lr=0,wn=U[Et],En=re?re(wn):wn;(Lr=tt(mr,En,Lr,Ae))>-1;)mr!==D&&Fu.call(mr,Lr,1),Fu.call(D,Lr,1);return D}function tr(D,U){for(var re=D?U.length:0,Ae=re-1;re--;){var tt=U[re];if(re==Ae||tt!==Et){var Et=tt;Lo(tt)?Fu.call(D,tt,1):Is(D,tt)}}return D}function nr(D,U){return D+sf(ep()*(U-D+1))}function kr(D,U,re,Ae){for(var tt=-1,Et=Ss(of((U-D)/(re||1)),0),Qt=Zr(Et);Et--;)Qt[Ae?Et:++tt]=D,D+=re;return Qt}function Qr(D,U){var re="";if(!D||U<1||U>pe)return re;do U%2&&(re+=D),U=sf(U/2),U&&(D+=D);while(U);return re}function _r(D,U){return Lc(wo(D,U,Sd),D+"")}function $r(D){return ta(Tn(D))}function Jr(D,U){var re=Tn(D);return Im(re,Mf(U,0,re.length))}function Dn(D,U,re,Ae){if(!Ul(D))return D;U=Gs(U,D);for(var tt=-1,Et=U.length,Qt=Et-1,mr=D;mr!=null&&++tt<Et;){var Lr=Gu(U[tt]),wn=re;if(Lr==="__proto__"||Lr==="constructor"||Lr==="prototype")return D;if(tt!=Qt){var En=mr[Lr];wn=Ae?Ae(En,Lr,mr):r,wn===r&&(wn=Ul(En)?En:Lo(U[tt+1])?[]:{})}If(mr,Lr,wn),mr=mr[Lr]}return D}var In=Rf?function(D,U){return Rf.set(D,U),D}:Sd,hn=Tf?function(D,U){return Tf(D,"toString",{configurable:!0,enumerable:!1,value:l_(U),writable:!0})}:Sd;function Jn(D){return Im(Tn(D))}function Mi(D,U,re){var Ae=-1,tt=D.length;U<0&&(U=-U>tt?0:tt+U),re=re>tt?tt:re,re<0&&(re+=tt),tt=U>re?0:re-U>>>0,U>>>=0;for(var Et=Zr(tt);++Ae<tt;)Et[Ae]=D[Ae+U];return Et}function Ra(D,U){var re;return df(D,function(Ae,tt,Et){return re=U(Ae,tt,Et),!re}),!!re}function Ao(D,U,re){var Ae=0,tt=D==null?Ae:D.length;if(typeof U=="number"&&U===U&&tt<=_e){for(;Ae<tt;){var Et=Ae+tt>>>1,Qt=D[Et];Qt!==null&&!xh(Qt)&&(re?Qt<=U:Qt<U)?Ae=Et+1:tt=Et}return tt}return ho(D,U,Sd,re)}function ho(D,U,re,Ae){var tt=0,Et=D==null?0:D.length;if(Et===0)return 0;U=re(U);for(var Qt=U!==U,mr=U===null,Lr=xh(U),wn=U===r;tt<Et;){var En=sf((tt+Et)/2),zn=re(D[En]),_i=zn!==r,Yi=zn===null,xa=zn===zn,mo=xh(zn);if(Qt)var Sa=Ae||xa;else wn?Sa=xa&&(Ae||_i):mr?Sa=xa&&_i&&(Ae||!Yi):Lr?Sa=xa&&_i&&!Yi&&(Ae||!mo):Yi||mo?Sa=!1:Sa=Ae?zn<=U:zn<U;Sa?tt=En+1:Et=En}return tl(Et,ge)}function es(D,U){for(var re=-1,Ae=D.length,tt=0,Et=[];++re<Ae;){var Qt=D[re],mr=U?U(Qt):Qt;if(!re||!op(mr,Lr)){var Lr=mr;Et[tt++]=Qt===0?0:Qt}}return Et}function cs(D){return typeof D=="number"?D:xh(D)?le:+D}function Da(D){if(typeof D=="string")return D;if(za(D))return ni(D,Da)+"";if(xh(D))return Ld?Ld.call(D):"";var U=D+"";return U=="0"&&1/D==-1/0?"-0":U}function Aa(D,U,re){var Ae=-1,tt=ii,Et=D.length,Qt=!0,mr=[],Lr=mr;if(re)Qt=!1,tt=Bn;else if(Et>=i){var wn=U?null:Xr(D);if(wn)return To(wn);Qt=!1,tt=el,Lr=new ud}else Lr=U?[]:mr;e:for(;++Ae<Et;){var En=D[Ae],zn=U?U(En):En;if(En=re||En!==0?En:0,Qt&&zn===zn){for(var _i=Lr.length;_i--;)if(Lr[_i]===zn)continue e;U&&Lr.push(zn),mr.push(En)}else tt(Lr,zn,re)||(Lr!==mr&&Lr.push(zn),mr.push(En))}return mr}function Is(D,U){return U=Gs(U,D),D=No(D,U),D==null||delete D[Gu(oa(U))]}function nl(D,U,re,Ae){return Dn(D,U,re(Yc(D,U)),Ae)}function Vs(D,U,re,Ae){for(var tt=D.length,Et=Ae?tt:-1;(Ae?Et--:++Et<tt)&&U(D[Et],Et,D););return re?Mi(D,Ae?0:Et,Ae?Et+1:tt):Mi(D,Ae?Et+1:0,Ae?tt:Et)}function Fa(D,U){var re=D;return re instanceof ea&&(re=re.value()),$i(U,function(Ae,tt){return tt.func.apply(tt.thisArg,ai([Ae],tt.args))},re)}function tu(D,U,re){var Ae=D.length;if(Ae<2)return Ae?Aa(D[0]):[];for(var tt=-1,Et=Zr(Ae);++tt<Ae;)for(var Qt=D[tt],mr=-1;++mr<Ae;)mr!=tt&&(Et[tt]=Ac(Et[tt]||Qt,D[mr],U,re));return Aa(Gn(Et,1),U,re)}function Bu(D,U,re){for(var Ae=-1,tt=D.length,Et=U.length,Qt={};++Ae<tt;){var mr=Ae<Et?U[Ae]:r;re(Qt,D[Ae],mr)}return Qt}function Ic(D){return ou(D)?D:[]}function Ff(D){return typeof D=="function"?D:Sd}function Gs(D,U){return za(D)?D:di(D,U)?[D]:yh(fs(D))}var Mc=_r;function Bl(D,U,re){var Ae=D.length;return re=re===r?Ae:re,!U&&re>=Ae?D:Mi(D,U,re)}var bu=Em||function(D){return Ie.clearTimeout(D)};function Lf(D,U){if(U)return D.slice();var re=D.length,Ae=xm?xm(re):new D.constructor(re);return D.copy(Ae),Ae}function kc(D){var U=new D.constructor(D.byteLength);return new Pf(U).set(new Pf(D)),U}function md(D,U){var re=U?kc(D.buffer):D.buffer;return new D.constructor(re,D.byteOffset,D.byteLength)}function Ks(D){var U=new D.constructor(D.source,ui.exec(D));return U.lastIndex=D.lastIndex,U}function Zs(D){return Nu?yo(Nu.call(D)):{}}function _u(D,U){var re=U?kc(D.buffer):D.buffer;return new D.constructor(re,D.byteOffset,D.length)}function _o(D,U){if(D!==U){var re=D!==r,Ae=D===null,tt=D===D,Et=xh(D),Qt=U!==r,mr=U===null,Lr=U===U,wn=xh(U);if(!mr&&!wn&&!Et&&D>U||Et&&Qt&&Lr&&!mr&&!wn||Ae&&Qt&&Lr||!re&&Lr||!tt)return 1;if(!Ae&&!Et&&!wn&&D<U||wn&&re&&tt&&!Ae&&!Et||mr&&re&&tt||!Qt&&tt||!Lr)return-1}return 0}function Tm(D,U,re){for(var Ae=-1,tt=D.criteria,Et=U.criteria,Qt=tt.length,mr=re.length;++Ae<Qt;){var Lr=_o(tt[Ae],Et[Ae]);if(Lr){if(Ae>=mr)return Lr;var wn=re[Ae];return Lr*(wn=="desc"?-1:1)}}return D.index-U.index}function Mp(D,U,re,Ae){for(var tt=-1,Et=D.length,Qt=re.length,mr=-1,Lr=U.length,wn=Ss(Et-Qt,0),En=Zr(Lr+wn),zn=!Ae;++mr<Lr;)En[mr]=U[mr];for(;++tt<Qt;)(zn||tt<Et)&&(En[re[tt]]=D[tt]);for(;wn--;)En[mr++]=D[tt++];return En}function rp(D,U,re,Ae){for(var tt=-1,Et=D.length,Qt=-1,mr=re.length,Lr=-1,wn=U.length,En=Ss(Et-mr,0),zn=Zr(En+wn),_i=!Ae;++tt<En;)zn[tt]=D[tt];for(var Yi=tt;++Lr<wn;)zn[Yi+Lr]=U[Lr];for(;++Qt<mr;)(_i||tt<Et)&&(zn[Yi+re[Qt]]=D[tt++]);return zn}function ju(D,U){var re=-1,Ae=D.length;for(U||(U=Zr(Ae));++re<Ae;)U[re]=D[re];return U}function uc(D,U,re,Ae){var tt=!re;re||(re={});for(var Et=-1,Qt=U.length;++Et<Qt;){var mr=U[Et],Lr=Ae?Ae(re[mr],D[mr],mr,re,D):r;Lr===r&&(Lr=D[mr]),tt?Rc(re,mr,Lr):If(re,mr,Lr)}return re}function gd(D,U){return uc(D,ol(D),U)}function Xc(D,U){return uc(D,np(D),U)}function Dc(D,U){return function(re,Ae){var tt=za(re)?gn:eu,Et=U?U():{};return tt(re,D,Qn(Ae,2),Et)}}function ru(D){return _r(function(U,re){var Ae=-1,tt=re.length,Et=tt>1?re[tt-1]:r,Qt=tt>2?re[2]:r;for(Et=D.length>3&&typeof Et=="function"?(tt--,Et):r,Qt&&nu(re[0],re[1],Qt)&&(Et=tt<3?r:Et,tt=1),U=yo(U);++Ae<tt;){var mr=re[Ae];mr&&D(U,mr,Ae,Et)}return U})}function il(D,U){return function(re,Ae){if(re==null)return re;if(!_d(re))return D(re,Ae);for(var tt=re.length,Et=U?tt:-1,Qt=yo(re);(U?Et--:++Et<tt)&&Ae(Qt[Et],Et,Qt)!==!1;);return re}}function mh(D){return function(U,re,Ae){for(var tt=-1,Et=yo(U),Qt=Ae(U),mr=Qt.length;mr--;){var Lr=Qt[D?mr:++tt];if(re(Et[Lr],Lr,Et)===!1)break}return U}}function K(D,U,re){var Ae=U&x,tt=xe(D);function Et(){var Qt=this&&this!==Ie&&this instanceof Et?tt:D;return Qt.apply(Ae?re:this,arguments)}return Et}function Q(D){return function(U){U=fs(U);var re=Sc(U)?Hn(U):r,Ae=re?re[0]:U.charAt(0),tt=re?Bl(re,1).join(""):U.slice(1);return Ae[D]()+tt}}function ie(D){return function(U){return $i(Ry(cl(U).replace(nf,"")),D,"")}}function xe(D){return function(){var U=arguments;switch(U.length){case 0:return new D;case 1:return new D(U[0]);case 2:return new D(U[0],U[1]);case 3:return new D(U[0],U[1],U[2]);case 4:return new D(U[0],U[1],U[2],U[3]);case 5:return new D(U[0],U[1],U[2],U[3],U[4]);case 6:return new D(U[0],U[1],U[2],U[3],U[4],U[5]);case 7:return new D(U[0],U[1],U[2],U[3],U[4],U[5],U[6])}var re=Af(D.prototype),Ae=D.apply(re,U);return Ul(Ae)?Ae:re}}function ye(D,U,re){var Ae=xe(D);function tt(){for(var Et=arguments.length,Qt=Zr(Et),mr=Et,Lr=bs(tt);mr--;)Qt[mr]=arguments[mr];var wn=Et<3&&Qt[0]!==Lr&&Qt[Et-1]!==Lr?[]:vl(Qt,Lr);if(Et-=wn.length,Et<re)return Or(D,U,Qe,tt.placeholder,r,Qt,wn,r,r,re-Et);var En=this&&this!==Ie&&this instanceof tt?Ae:D;return un(En,this,Qt)}return tt}function Oe(D){return function(U,re,Ae){var tt=yo(U);if(!_d(U)){var Et=Qn(re,3);U=Se(U),re=function(mr){return Et(tt[mr],mr,tt)}}var Qt=D(U,re,Ae);return Qt>-1?tt[Et?U[Qt]:Qt]:r}}function Ne(D){return Vi(function(U){var re=U.length,Ae=re,tt=Xl.prototype.thru;for(D&&U.reverse();Ae--;){var Et=U[Ae];if(typeof Et!="function")throw new Mu(s);if(tt&&!Qt&&po(Et)=="wrapper")var Qt=new Xl([],!0)}for(Ae=Qt?Ae:re;++Ae<re;){Et=U[Ae];var mr=po(Et),Lr=mr=="wrapper"?Wa(Et):r;Lr&&vg(Lr[0])&&Lr[1]==(R|P|E|O)&&!Lr[4].length&&Lr[9]==1?Qt=Qt[po(Lr[0])].apply(Qt,Lr[3]):Qt=Et.length==1&&vg(Et)?Qt[mr]():Qt.thru(Et)}return function(){var wn=arguments,En=wn[0];if(Qt&&wn.length==1&&za(En))return Qt.plant(En).value();for(var zn=0,_i=re?U[zn].apply(this,wn):En;++zn<re;)_i=U[zn].call(this,_i);return _i}})}function Qe(D,U,re,Ae,tt,Et,Qt,mr,Lr,wn){var En=U&R,zn=U&x,_i=U&T,Yi=U&(P|S),xa=U&F,mo=_i?r:xe(D);function Sa(){for(var zo=arguments.length,ts=Zr(zo),Wp=zo;Wp--;)ts[Wp]=arguments[Wp];if(Yi)var Rh=bs(Sa),Vp=Gh(ts,Rh);if(Ae&&(ts=Mp(ts,Ae,tt,Yi)),Et&&(ts=rp(ts,Et,Qt,Yi)),zo-=Vp,Yi&&zo<wn){var jc=vl(ts,Rh);return Or(D,U,Qe,Sa.placeholder,re,ts,jc,mr,Lr,wn-zo)}var Rg=zn?re:this,Oy=_i?Rg[D]:D;return zo=ts.length,mr?ts=hf(ts,mr):xa&&zo>1&&ts.reverse(),En&&Lr<zo&&(ts.length=Lr),this&&this!==Ie&&this instanceof Sa&&(Oy=mo||xe(Oy)),Oy.apply(Rg,ts)}return Sa}function Ve(D,U){return function(re,Ae){return Oc(re,D,U(Ae),{})}}function ht(D,U){return function(re,Ae){var tt;if(re===r&&Ae===r)return U;if(re!==r&&(tt=re),Ae!==r){if(tt===r)return Ae;typeof re=="string"||typeof Ae=="string"?(re=Da(re),Ae=Da(Ae)):(re=cs(re),Ae=cs(Ae)),tt=D(re,Ae)}return tt}}function zt(D){return Vi(function(U){return U=ni(U,Kl(Qn())),_r(function(re){var Ae=this;return D(U,function(tt){return un(tt,Ae,re)})})})}function er(D,U){U=U===r?" ":Da(U);var re=U.length;if(re<2)return re?Qr(U,D):U;var Ae=Qr(U,of(D/la(U)));return Sc(U)?Bl(Hn(Ae),0,D).join(""):Ae.slice(0,D)}function ur(D,U,re,Ae){var tt=U&x,Et=xe(D);function Qt(){for(var mr=-1,Lr=arguments.length,wn=-1,En=Ae.length,zn=Zr(En+Lr),_i=this&&this!==Ie&&this instanceof Qt?Et:D;++wn<En;)zn[wn]=Ae[wn];for(;Lr--;)zn[wn++]=arguments[++mr];return un(_i,tt?re:this,zn)}return Qt}function Xt(D){return function(U,re,Ae){return Ae&&typeof Ae!="number"&&nu(U,re,Ae)&&(re=Ae=r),U=jp(U),re===r?(re=U,U=0):re=jp(re),Ae=Ae===r?U<re?1:-1:jp(Ae),kr(U,re,Ae,D)}}function Er(D){return function(U,re){return typeof U=="string"&&typeof re=="string"||(U=Sh(U),re=Sh(re)),D(U,re)}}function Or(D,U,re,Ae,tt,Et,Qt,mr,Lr,wn){var En=U&P,zn=En?Qt:r,_i=En?r:Qt,Yi=En?Et:r,xa=En?r:Et;U|=En?E:_,U&=~(En?_:E),U&A||(U&=-4);var mo=[D,U,tt,Yi,zn,xa,_i,mr,Lr,wn],Sa=re.apply(r,mo);return vg(D)&&Om(Sa,mo),Sa.placeholder=Ae,_g(Sa,D,U)}function Br(D){var U=As[D];return function(re,Ae){if(re=Sh(re),Ae=Ae==null?0:tl(Xa(Ae),292),Ae&&Dd(re)){var tt=(fs(re)+"e").split("e"),Et=U(tt[0]+"e"+(+tt[1]+Ae));return tt=(fs(Et)+"e").split("e"),+(tt[0]+"e"+(+tt[1]-Ae))}return U(re)}}var Xr=Pc&&1/To(new Pc([,-0]))[1]==ue?function(D){return new Pc(D)}:wE;function pn(D){return function(U){var re=Ps(U);return re==he?Iu(U):re==Vt?Rp(U):qc(U,D(U))}}function on(D,U,re,Ae,tt,Et,Qt,mr){var Lr=U&T;if(!Lr&&typeof D!="function")throw new Mu(s);var wn=Ae?Ae.length:0;if(wn||(U&=-97,Ae=tt=r),Qt=Qt===r?Qt:Ss(Xa(Qt),0),mr=mr===r?mr:Xa(mr),wn-=tt?tt.length:0,U&_){var En=Ae,zn=tt;Ae=tt=r}var _i=Lr?r:Wa(D),Yi=[D,U,re,Ae,tt,En,zn,Et,Qt,mr];if(_i&&kp(Yi,_i),D=Yi[0],U=Yi[1],re=Yi[2],Ae=Yi[3],tt=Yi[4],mr=Yi[9]=Yi[9]===r?Lr?0:D.length:Ss(Yi[9]-wn,0),!mr&&U&(P|S)&&(U&=-25),!U||U==x)var xa=K(D,U,re);else U==P||U==S?xa=ye(D,U,mr):(U==E||U==(x|E))&&!tt.length?xa=ur(D,U,re,Ae):xa=Qe.apply(r,Yi);var mo=_i?In:Om;return _g(mo(xa,Yi),D,U)}function oi(D,U,re,Ae){return D===r||op(D,Du[re])&&!Za.call(Ae,re)?U:D}function en(D,U,re,Ae,tt,Et){return Ul(D)&&Ul(U)&&(Et.set(U,D),nt(D,U,r,en,Et),Et.delete(U)),D}function xr(D){return L0(D)?r:D}function Kn(D,U,re,Ae,tt,Et){var Qt=re&v,mr=D.length,Lr=U.length;if(mr!=Lr&&!(Qt&&Lr>mr))return!1;var wn=Et.get(D),En=Et.get(U);if(wn&&En)return wn==U&&En==D;var zn=-1,_i=!0,Yi=re&w?new ud:r;for(Et.set(D,U),Et.set(U,D);++zn<mr;){var xa=D[zn],mo=U[zn];if(Ae)var Sa=Qt?Ae(mo,xa,zn,U,D,Et):Ae(xa,mo,zn,D,U,Et);if(Sa!==r){if(Sa)continue;_i=!1;break}if(Yi){if(!Ai(U,function(zo,ts){if(!el(Yi,ts)&&(xa===zo||tt(xa,zo,re,Ae,Et)))return Yi.push(ts)})){_i=!1;break}}else if(!(xa===mo||tt(xa,mo,re,Ae,Et))){_i=!1;break}}return Et.delete(D),Et.delete(U),_i}function Nn(D,U,re,Ae,tt,Et,Qt){switch(re){case Nr:if(D.byteLength!=U.byteLength||D.byteOffset!=U.byteOffset)return!1;D=D.buffer,U=U.buffer;case dr:return!(D.byteLength!=U.byteLength||!Et(new Pf(D),new Pf(U)));case we:case Ee:case ut:return op(+D,+U);case ft:return D.name==U.name&&D.message==U.message;case yt:case At:return D==U+"";case he:var mr=Iu;case Vt:var Lr=Ae&v;if(mr||(mr=To),D.size!=U.size&&!Lr)return!1;var wn=Qt.get(D);if(wn)return wn==U;Ae|=w,Qt.set(D,U);var En=Kn(mr(D),mr(U),Ae,tt,Et,Qt);return Qt.delete(D),En;case hr:if(Nu)return Nu.call(D)==Nu.call(U)}return!1}function ei(D,U,re,Ae,tt,Et){var Qt=re&v,mr=ja(D),Lr=mr.length,wn=ja(U),En=wn.length;if(Lr!=En&&!Qt)return!1;for(var zn=Lr;zn--;){var _i=mr[zn];if(!(Qt?_i in U:Za.call(U,_i)))return!1}var Yi=Et.get(D),xa=Et.get(U);if(Yi&&xa)return Yi==U&&xa==D;var mo=!0;Et.set(D,U),Et.set(U,D);for(var Sa=Qt;++zn<Lr;){_i=mr[zn];var zo=D[_i],ts=U[_i];if(Ae)var Wp=Qt?Ae(ts,zo,_i,U,D,Et):Ae(zo,ts,_i,D,U,Et);if(!(Wp===r?zo===ts||tt(zo,ts,re,Ae,Et):Wp)){mo=!1;break}Sa||(Sa=_i=="constructor")}if(mo&&!Sa){var Rh=D.constructor,Vp=U.constructor;Rh!=Vp&&"constructor"in D&&"constructor"in U&&!(typeof Rh=="function"&&Rh instanceof Rh&&typeof Vp=="function"&&Vp instanceof Vp)&&(mo=!1)}return Et.delete(D),Et.delete(U),mo}function Vi(D){return Lc(wo(D,r,Qi),D+"")}function ja(D){return $u(D,Se,ol)}function al(D){return $u(D,Pe,np)}var Wa=Rf?function(D){return Rf.get(D)}:wE;function po(D){for(var U=D.name+"",re=qo[U],Ae=Za.call(qo,U)?re.length:0;Ae--;){var tt=re[Ae],Et=tt.func;if(Et==null||Et==D)return tt.name}return U}function bs(D){var U=Za.call(pt,"placeholder")?pt:D;return U.placeholder}function Qn(){var D=pt.iteratee||bE;return D=D===bE?te:D,arguments.length?D(arguments[0],arguments[1]):D}function Uu(D,U){var re=D.__data__;return Rm(U)?re[typeof U=="string"?"string":"hash"]:re.map}function qu(D){for(var U=Se(D),re=U.length;re--;){var Ae=U[re],tt=D[Ae];U[re]=[Ae,tt,yg(tt)]}return U}function zs(D,U){var re=Ef(D,U);return M(re)?re:r}function Ho(D){var U=Za.call(D,Yl),re=D[Yl];try{D[Yl]=r;var Ae=!0}catch{}var tt=rd.call(D);return Ae&&(U?D[Yl]=re:delete D[Yl]),tt}var ol=Xh?function(D){return D==null?[]:(D=yo(D),ji(Xh(D),function(U){return kd.call(D,U)}))}:Tg,np=Xh?function(D){for(var U=[];D;)ai(U,ol(D)),D=rc(D);return U}:Tg,Ps=$l;($s&&Ps(new $s(new ArrayBuffer(1)))!=Nr||od&&Ps(new od)!=he||uh&&Ps(uh.resolve())!=rt||Pc&&Ps(new Pc)!=Vt||sd&&Ps(new sd)!=fr)&&(Ps=function(D){var U=$l(D),re=U==je?D.constructor:r,Ae=re?Jc(re):"";if(Ae)switch(Ae){case uf:return Nr;case rl:return he;case fh:return rt;case Vc:return Vt;case Lu:return fr}return U});function Bd(D,U,re){for(var Ae=-1,tt=re.length;++Ae<tt;){var Et=re[Ae],Qt=Et.size;switch(Et.type){case"drop":D+=Qt;break;case"dropRight":U-=Qt;break;case"take":U=tl(U,D+Qt);break;case"takeRight":D=Ss(D,U-Qt);break}}return{start:D,end:U}}function mg(D){var U=D.match(rr);return U?U[1].split(vr):[]}function gh(D,U,re){U=Gs(U,D);for(var Ae=-1,tt=U.length,Et=!1;++Ae<tt;){var Qt=Gu(U[Ae]);if(!(Et=D!=null&&re(D,Qt)))break;D=D[Qt]}return Et||++Ae!=tt?Et:(tt=D==null?0:D.length,!!tt&&Bp(tt)&&Lo(Qt,tt)&&(za(D)||Eg(D)))}function gg(D){var U=D.length,re=new D.constructor(U);return U&&typeof D[0]=="string"&&Za.call(D,"index")&&(re.index=D.index,re.input=D.input),re}function Hu(D){return typeof D.constructor=="function"&&!vh(D)?Af(rc(D)):{}}function wy(D,U,re){var Ae=D.constructor;switch(U){case dr:return kc(D);case we:case Ee:return new Ae(+D);case Nr:return md(D,re);case gr:case wr:case Fr:case _n:case nn:case ot:case Je:case Me:case Le:return _u(D,re);case he:return new Ae;case ut:case At:return new Ae(D);case yt:return Ks(D);case Vt:return new Ae;case hr:return Zs(D)}}function Wu(D,U){var re=U.length;if(!re)return D;var Ae=re-1;return U[Ae]=(re>1?"& ":"")+U[Ae],U=U.join(re>2?", ":" "),D.replace(Jt,`{
/* [wrapped with `+U+`] */
`)}function jd(D){return za(D)||Eg(D)||!!(Sm&&D&&D[Sm])}function Lo(D,U){var re=typeof D;return U=U??pe,!!U&&(re=="number"||re!="symbol"&&Ka.test(D))&&D>-1&&D%1==0&&D<U}function nu(D,U,re){if(!Ul(re))return!1;var Ae=typeof U;return(Ae=="number"?_d(re)&&Lo(U,re.length):Ae=="string"&&U in re)?op(re[U],D):!1}function di(D,U){if(za(D))return!1;var re=typeof D;return re=="number"||re=="symbol"||re=="boolean"||D==null||xh(D)?!0:It.test(D)||!mt.test(D)||U!=null&&D in yo(U)}function Rm(D){var U=typeof D;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?D!=="__proto__":D===null}function vg(D){var U=po(D),re=pt[U];if(typeof re!="function"||!(U in ea.prototype))return!1;if(D===re)return!0;var Ae=Wa(re);return!!Ae&&D===Ae[0]}function xy(D){return!!Cf&&Cf in D}var Kb=Ml?Cg:Th;function vh(D){var U=D&&D.constructor,re=typeof U=="function"&&U.prototype||Du;return D===re}function yg(D){return D===D&&!Ul(D)}function Am(D,U){return function(re){return re==null?!1:re[D]===U&&(U!==r||D in yo(re))}}function ip(D){var U=Hr(D,function(Ae){return re.size===u&&re.clear(),Ae}),re=U.cache;return U}function kp(D,U){var re=D[1],Ae=U[1],tt=re|Ae,Et=tt<(x|T|R),Qt=Ae==R&&re==P||Ae==R&&re==O&&D[7].length<=U[8]||Ae==(R|O)&&U[7].length<=U[8]&&re==P;if(!(Et||Qt))return D;Ae&x&&(D[2]=U[2],tt|=re&x?0:A);var mr=U[3];if(mr){var Lr=D[3];D[3]=Lr?Mp(Lr,mr,U[4]):mr,D[4]=Lr?vl(D[3],f):U[4]}return mr=U[5],mr&&(Lr=D[5],D[5]=Lr?rp(Lr,mr,U[6]):mr,D[6]=Lr?vl(D[5],f):U[6]),mr=U[7],mr&&(D[7]=mr),Ae&R&&(D[8]=D[8]==null?U[8]:tl(D[8],U[8])),D[9]==null&&(D[9]=U[9]),D[0]=U[0],D[1]=tt,D}function Dp(D){var U=[];if(D!=null)for(var re in yo(D))U.push(re);return U}function bg(D){return rd.call(D)}function wo(D,U,re){return U=Ss(U===r?D.length-1:U,0),function(){for(var Ae=arguments,tt=-1,Et=Ss(Ae.length-U,0),Qt=Zr(Et);++tt<Et;)Qt[tt]=Ae[U+tt];tt=-1;for(var mr=Zr(U+1);++tt<U;)mr[tt]=Ae[tt];return mr[U]=re(Qt),un(D,this,mr)}}function No(D,U){return U.length<2?D:Yc(D,Mi(U,0,-1))}function hf(D,U){for(var re=D.length,Ae=tl(U.length,re),tt=ju(D);Ae--;){var Et=U[Ae];D[Ae]=Lo(Et,re)?tt[Et]:r}return D}function Fc(D,U){if(!(U==="constructor"&&typeof D[U]=="function")&&U!="__proto__")return D[U]}var Om=cc(In),Vu=Yh||function(D,U){return Ie.setTimeout(D,U)},Lc=cc(hn);function _g(D,U,re){var Ae=U+"";return Lc(D,Wu(Ae,ap(mg(Ae),re)))}function cc(D){var U=0,re=0;return function(){var Ae=ad(),tt=Z-(Ae-re);if(re=Ae,tt>0){if(++U>=q)return arguments[0]}else U=0;return D.apply(r,arguments)}}function Im(D,U){var re=-1,Ae=D.length,tt=Ae-1;for(U=U===r?Ae:U;++re<U;){var Et=nr(re,tt),Qt=D[Et];D[Et]=D[re],D[re]=Qt}return D.length=U,D}var yh=ip(function(D){var U=[];return D.charCodeAt(0)===46&&U.push(""),D.replace(Kt,function(re,Ae,tt,Et){U.push(tt?Et.replace(fn,"$1"):Ae||re)}),U});function Gu(D){if(typeof D=="string"||xh(D))return D;var U=D+"";return U=="0"&&1/D==-1/0?"-0":U}function Jc(D){if(D!=null){try{return lh.call(D)}catch{}try{return D+""}catch{}}return""}function ap(D,U){return Cn(ke,function(re){var Ae="_."+re[0];U&re[1]&&!ii(D,Ae)&&D.push(Ae)}),D.sort()}function S0(D){if(D instanceof ea)return D.clone();var U=new Xl(D.__wrapped__,D.__chain__);return U.__actions__=ju(D.__actions__),U.__index__=D.__index__,U.__values__=D.__values__,U}function Mm(D,U,re){(re?nu(D,U,re):U===r)?U=1:U=Ss(Xa(U),0);var Ae=D==null?0:D.length;if(!Ae||U<1)return[];for(var tt=0,Et=0,Qt=Zr(of(Ae/U));tt<Ae;)Qt[Et++]=Mi(D,tt,tt+=U);return Qt}function bh(D){for(var U=-1,re=D==null?0:D.length,Ae=0,tt=[];++U<re;){var Et=D[U];Et&&(tt[Ae++]=Et)}return tt}function pf(){var D=arguments.length;if(!D)return[];for(var U=Zr(D-1),re=arguments[0],Ae=D;Ae--;)U[Ae-1]=arguments[Ae];return ai(za(re)?ju(re):[re],Gn(U,1))}var Ya=_r(function(D,U){return ou(D)?Ac(D,Gn(U,1,ou,!0)):[]}),Ms=_r(function(D,U){var re=oa(U);return ou(re)&&(re=r),ou(D)?Ac(D,Gn(U,1,ou,!0),Qn(re,2)):[]}),sl=_r(function(D,U){var re=oa(U);return ou(re)&&(re=r),ou(D)?Ac(D,Gn(U,1,ou,!0),r,re):[]});function wu(D,U,re){var Ae=D==null?0:D.length;return Ae?(U=re||U===r?1:Xa(U),Mi(D,U<0?0:U,Ae)):[]}function sr(D,U,re){var Ae=D==null?0:D.length;return Ae?(U=re||U===r?1:Xa(U),U=Ae-U,Mi(D,0,U<0?0:U)):[]}function Dr(D,U){return D&&D.length?Vs(D,Qn(U,3),!0,!0):[]}function Gr(D,U){return D&&D.length?Vs(D,Qn(U,3),!0):[]}function $n(D,U,re,Ae){var tt=D==null?0:D.length;return tt?(re&&typeof re!="number"&&nu(D,U,re)&&(re=0,Ae=tt),Nl(D,U,re,Ae)):[]}function ti(D,U,re){var Ae=D==null?0:D.length;if(!Ae)return-1;var tt=re==null?0:Xa(re);return tt<0&&(tt=Ss(Ae+tt,0)),ha(D,Qn(U,3),tt)}function qi(D,U,re){var Ae=D==null?0:D.length;if(!Ae)return-1;var tt=Ae-1;return re!==r&&(tt=Xa(re),tt=re<0?Ss(Ae+tt,0):tl(tt,Ae-1)),ha(D,Qn(U,3),tt,!0)}function Qi(D){var U=D==null?0:D.length;return U?Gn(D,1):[]}function xi(D){var U=D==null?0:D.length;return U?Gn(D,ue):[]}function Si(D,U){var re=D==null?0:D.length;return re?(U=U===r?1:Xa(U),Gn(D,U)):[]}function Gi(D){for(var U=-1,re=D==null?0:D.length,Ae={};++U<re;){var tt=D[U];Ae[tt[0]]=tt[1]}return Ae}function ra(D){return D&&D.length?D[0]:r}function Fi(D,U,re){var Ae=D==null?0:D.length;if(!Ae)return-1;var tt=re==null?0:Xa(re);return tt<0&&(tt=Ss(Ae+tt,0)),ka(D,U,tt)}function wa(D){var U=D==null?0:D.length;return U?Mi(D,0,-1):[]}var $o=_r(function(D){var U=ni(D,Ic);return U.length&&U[0]===D[0]?pd(U):[]}),_s=_r(function(D){var U=oa(D),re=ni(D,Ic);return U===oa(re)?U=r:re.pop(),re.length&&re[0]===D[0]?pd(re,Qn(U,2)):[]}),jl=_r(function(D){var U=oa(D),re=ni(D,Ic);return U=typeof U=="function"?U:r,U&&re.pop(),re.length&&re[0]===D[0]?pd(re,r,U):[]});function _l(D,U){return D==null?"":Fd.call(D,U)}function oa(D){var U=D==null?0:D.length;return U?D[U-1]:r}function _h(D,U,re){var Ae=D==null?0:D.length;if(!Ae)return-1;var tt=Ae;return re!==r&&(tt=Xa(re),tt=tt<0?Ss(Ae+tt,0):tl(tt,Ae-1)),U===U?wm(D,U,tt):ha(D,Ta,tt,!0)}function vd(D,U){return D&&D.length?Ct(D,Xa(U)):r}var Nf=_r(xu);function xu(D,U){return D&&D.length&&U&&U.length?Wt(D,U):D}function iu(D,U,re){return D&&D.length&&U&&U.length?Wt(D,U,Qn(re,2)):D}function $f(D,U,re){return D&&D.length&&U&&U.length?Wt(D,U,r,re):D}var Qc=Vi(function(D,U){var re=D==null?0:D.length,Ae=cd(D,U);return tr(D,ni(U,function(tt){return Lo(tt,re)?+tt:tt}).sort(_o)),Ae});function wl(D,U){var re=[];if(!(D&&D.length))return re;var Ae=-1,tt=[],Et=D.length;for(U=Qn(U,3);++Ae<Et;){var Qt=D[Ae];U(Qt,Ae,D)&&(re.push(Qt),tt.push(Ae))}return tr(D,tt),re}function Fp(D){return D==null?D:Cc.call(D)}function Wo(D,U,re){var Ae=D==null?0:D.length;return Ae?(re&&typeof re!="number"&&nu(D,U,re)?(U=0,re=Ae):(U=U==null?0:Xa(U),re=re===r?Ae:Xa(re)),Mi(D,U,re)):[]}function Su(D,U){return Ao(D,U)}function wh(D,U,re){return ho(D,U,Qn(re,2))}function yd(D,U){var re=D==null?0:D.length;if(re){var Ae=Ao(D,U);if(Ae<re&&op(D[Ae],U))return Ae}return-1}function vv(D,U){return Ao(D,U,!0)}function ll(D,U,re){return ho(D,U,Qn(re,2),!0)}function zf(D,U){var re=D==null?0:D.length;if(re){var Ae=Ao(D,U,!0)-1;if(op(D[Ae],U))return Ae}return-1}function yv(D){return D&&D.length?es(D):[]}function Lp(D,U){return D&&D.length?es(D,Qn(U,2)):[]}function Zb(D){var U=D==null?0:D.length;return U?Mi(D,1,U):[]}function E0(D,U,re){return D&&D.length?(U=re||U===r?1:Xa(U),Mi(D,0,U<0?0:U)):[]}function C0(D,U,re){var Ae=D==null?0:D.length;return Ae?(U=re||U===r?1:Xa(U),U=Ae-U,Mi(D,U<0?0:U,Ae)):[]}function Sy(D,U){return D&&D.length?Vs(D,Qn(U,3),!1,!0):[]}function r1(D,U){return D&&D.length?Vs(D,Qn(U,3)):[]}var eE=_r(function(D){return Aa(Gn(D,1,ou,!0))}),Ey=_r(function(D){var U=oa(D);return ou(U)&&(U=r),Aa(Gn(D,1,ou,!0),Qn(U,2))}),n1=_r(function(D){var U=oa(D);return U=typeof U=="function"?U:r,Aa(Gn(D,1,ou,!0),r,U)});function km(D){return D&&D.length?Aa(D):[]}function tE(D,U){return D&&D.length?Aa(D,Qn(U,2)):[]}function bv(D,U){return U=typeof U=="function"?U:r,D&&D.length?Aa(D,r,U):[]}function P0(D){if(!(D&&D.length))return[];var U=0;return D=ji(D,function(re){if(ou(re))return U=Ss(re.length,U),!0}),Uo(U,function(re){return ni(D,gs(re))})}function ul(D,U){if(!(D&&D.length))return[];var re=P0(D);return U==null?re:ni(re,function(Ae){return un(U,r,Ae)})}var rE=_r(function(D,U){return ou(D)?Ac(D,U):[]}),i1=_r(function(D){return tu(ji(D,ou))}),Cy=_r(function(D){var U=oa(D);return ou(U)&&(U=r),tu(ji(D,ou),Qn(U,2))}),a1=_r(function(D){var U=oa(D);return U=typeof U=="function"?U:r,tu(ji(D,ou),r,U)}),T0=_r(P0);function Yb(D,U){return Bu(D||[],U||[],If)}function au(D,U){return Bu(D||[],U||[],Dn)}var Bf=_r(function(D){var U=D.length,re=U>1?D[U-1]:r;return re=typeof re=="function"?(D.pop(),re):r,ul(D,re)});function R0(D){var U=pt(D);return U.__chain__=!0,U}function o1(D,U){return U(D),D}function bd(D,U){return U(D)}var _v=Vi(function(D){var U=D.length,re=U?D[0]:0,Ae=this.__wrapped__,tt=function(Et){return cd(Et,D)};return U>1||this.__actions__.length||!(Ae instanceof ea)||!Lo(re)?this.thru(tt):(Ae=Ae.slice(re,+re+(U?1:0)),Ae.__actions__.push({func:bd,args:[tt],thisArg:r}),new Xl(Ae,this.__chain__).thru(function(Et){return U&&!Et.length&&Et.push(r),Et}))});function wg(){return R0(this)}function A0(){return new Xl(this.value(),this.__chain__)}function Xb(){this.__values__===r&&(this.__values__=lE(this.value()));var D=this.__index__>=this.__values__.length,U=D?r:this.__values__[this.__index__++];return{done:D,value:U}}function Jb(){return this}function s1(D){for(var U,re=this;re instanceof nc;){var Ae=S0(re);Ae.__index__=0,Ae.__values__=r,U?tt.__wrapped__=Ae:U=Ae;var tt=Ae;re=re.__wrapped__}return tt.__wrapped__=D,U}function Nc(){var D=this.__wrapped__;if(D instanceof ea){var U=D;return this.__actions__.length&&(U=new ea(this)),U=U.reverse(),U.__actions__.push({func:bd,args:[Fp],thisArg:r}),new Xl(U,this.__chain__)}return this.thru(Fp)}function Qb(){return Fa(this.__wrapped__,this.__actions__)}var e_=Dc(function(D,U,re){Za.call(D,re)?++D[re]:Rc(D,re,1)});function Np(D,U,re){var Ae=za(D)?hi:zd;return re&&nu(D,U,re)&&(U=r),Ae(D,Qn(U,3))}function xg(D,U){var re=za(D)?ji:ph;return re(D,Qn(U,3))}var Dm=Oe(ti),Sg=Oe(qi);function wv(D,U){return Gn($p(D,U),1)}function O0(D,U){return Gn($p(D,U),ue)}function l1(D,U,re){return re=re===r?1:Xa(re),Gn($p(D,U),re)}function I0(D,U){var re=za(D)?Cn:df;return re(D,Qn(U,3))}function xv(D,U){var re=za(D)?Zn:pg;return re(D,Qn(U,3))}var M0=Dc(function(D,U,re){Za.call(D,re)?D[re].push(U):Rc(D,re,[U])});function k0(D,U,re,Ae){D=_d(D)?D:Tn(D),re=re&&!Ae?Xa(re):0;var tt=D.length;return re<0&&(re=Ss(tt+re,0)),h1(D)?re<=tt&&D.indexOf(U,re)>-1:!!tt&&ka(D,U,re)>-1}var t_=_r(function(D,U,re){var Ae=-1,tt=typeof U=="function",Et=_d(D)?Zr(D.length):[];return df(D,function(Qt){Et[++Ae]=tt?un(U,Qt,re):zl(Qt,U,re)}),Et}),u1=Dc(function(D,U,re){Rc(D,re,U)});function $p(D,U){var re=za(D)?ni:Fe;return re(D,Qn(U,3))}function r_(D,U,re,Ae){return D==null?[]:(za(U)||(U=U==null?[]:[U]),re=Ae?r:re,za(re)||(re=re==null?[]:[re]),Rt(D,U,re))}var Py=Dc(function(D,U,re){D[re?0:1].push(U)},function(){return[[],[]]});function c1(D,U,re){var Ae=za(D)?$i:Qo,tt=arguments.length<3;return Ae(D,Qn(U,4),re,tt,df)}function D0(D,U,re){var Ae=za(D)?_a:Qo,tt=arguments.length<3;return Ae(D,Qn(U,4),re,tt,pg)}function C(D,U){var re=za(D)?ji:ph;return re(D,Vn(Qn(U,3)))}function k(D){var U=za(D)?ta:$r;return U(D)}function W(D,U,re){(re?nu(D,U,re):U===r)?U=1:U=Xa(U);var Ae=za(D)?Of:Jr;return Ae(D,U)}function ee(D){var U=za(D)?hg:Jn;return U(D)}function me(D){if(D==null)return 0;if(_d(D))return h1(D)?la(D):D.length;var U=Ps(D);return U==he||U==Vt?D.size:oe(D).length}function Te(D,U,re){var Ae=za(D)?Ai:Ra;return re&&nu(D,U,re)&&(U=r),Ae(D,Qn(U,3))}var lt=_r(function(D,U){if(D==null)return[];var re=U.length;return re>1&&nu(D,U[0],U[1])?U=[]:re>2&&nu(U[0],U[1],U[2])&&(U=[U[0]]),Rt(D,Gn(U,1),[])}),Ut=ls||function(){return Ie.Date.now()};function cr(D,U){if(typeof U!="function")throw new Mu(s);return D=Xa(D),function(){if(--D<1)return U.apply(this,arguments)}}function tn(D,U,re){return U=re?r:U,U=D&&U==null?D.length:U,on(D,R,r,r,r,r,U)}function Mn(D,U){var re;if(typeof U!="function")throw new Mu(s);return D=Xa(D),function(){return--D>0&&(re=U.apply(this,arguments)),D<=1&&(U=r),re}}var jn=_r(function(D,U,re){var Ae=x;if(re.length){var tt=vl(re,bs(jn));Ae|=E}return on(D,Ae,U,re,tt)}),kn=_r(function(D,U,re){var Ae=x|T;if(re.length){var tt=vl(re,bs(kn));Ae|=E}return on(U,Ae,D,re,tt)});function gi(D,U,re){U=re?r:U;var Ae=on(D,P,r,r,r,r,r,U);return Ae.placeholder=gi.placeholder,Ae}function Oi(D,U,re){U=re?r:U;var Ae=on(D,S,r,r,r,r,r,U);return Ae.placeholder=Oi.placeholder,Ae}function Li(D,U,re){var Ae,tt,Et,Qt,mr,Lr,wn=0,En=!1,zn=!1,_i=!0;if(typeof D!="function")throw new Mu(s);U=Sh(U)||0,Ul(re)&&(En=!!re.leading,zn="maxWait"in re,Et=zn?Ss(Sh(re.maxWait)||0,U):Et,_i="trailing"in re?!!re.trailing:_i);function Yi(jc){var Rg=Ae,Oy=tt;return Ae=tt=r,wn=jc,Qt=D.apply(Oy,Rg),Qt}function xa(jc){return wn=jc,mr=Vu(zo,U),En?Yi(jc):Qt}function mo(jc){var Rg=jc-Lr,Oy=jc-wn,XG=U-Rg;return zn?tl(XG,Et-Oy):XG}function Sa(jc){var Rg=jc-Lr,Oy=jc-wn;return Lr===r||Rg>=U||Rg<0||zn&&Oy>=Et}function zo(){var jc=Ut();if(Sa(jc))return ts(jc);mr=Vu(zo,mo(jc))}function ts(jc){return mr=r,_i&&Ae?Yi(jc):(Ae=tt=r,Qt)}function Wp(){mr!==r&&bu(mr),wn=0,Ae=Lr=tt=mr=r}function Rh(){return mr===r?Qt:ts(Ut())}function Vp(){var jc=Ut(),Rg=Sa(jc);if(Ae=arguments,tt=this,Lr=jc,Rg){if(mr===r)return xa(Lr);if(zn)return bu(mr),mr=Vu(zo,U),Yi(Lr)}return mr===r&&(mr=Vu(zo,U)),Qt}return Vp.cancel=Wp,Vp.flush=Rh,Vp}var xl=_r(function(D,U){return fd(D,1,U)}),jr=_r(function(D,U,re){return fd(D,Sh(U)||0,re)});function yr(D){return on(D,F)}function Hr(D,U){if(typeof D!="function"||U!=null&&typeof U!="function")throw new Mu(s);var re=function(){var Ae=arguments,tt=U?U.apply(this,Ae):Ae[0],Et=re.cache;if(Et.has(tt))return Et.get(tt);var Qt=D.apply(this,Ae);return re.cache=Et.set(tt,Qt)||Et,Qt};return re.cache=new(Hr.Cache||Cs),re}Hr.Cache=Cs;function Vn(D){if(typeof D!="function")throw new Mu(s);return function(){var U=arguments;switch(U.length){case 0:return!D.call(this);case 1:return!D.call(this,U[0]);case 2:return!D.call(this,U[0],U[1]);case 3:return!D.call(this,U[0],U[1],U[2])}return!D.apply(this,U)}}function Ni(D){return Mn(2,D)}var na=Mc(function(D,U){U=U.length==1&&za(U[0])?ni(U[0],Kl(Qn())):ni(Gn(U,1),Kl(Qn()));var re=U.length;return _r(function(Ae){for(var tt=-1,Et=tl(Ae.length,re);++tt<Et;)Ae[tt]=U[tt].call(this,Ae[tt]);return un(D,this,Ae)})}),Ki=_r(function(D,U){var re=vl(U,bs(Ki));return on(D,E,r,U,re)}),da=_r(function(D,U){var re=vl(U,bs(da));return on(D,_,r,U,re)}),fc=Vi(function(D,U){return on(D,O,r,r,r,U)});function Vo(D,U){if(typeof D!="function")throw new Mu(s);return U=U===r?U:Xa(U),_r(D,U)}function zp(D,U){if(typeof D!="function")throw new Mu(s);return U=U==null?0:Ss(Xa(U),0),_r(function(re){var Ae=re[U],tt=Bl(re,0,U);return Ae&&ai(tt,Ae),un(D,this,tt)})}function nE(D,U,re){var Ae=!0,tt=!0;if(typeof D!="function")throw new Mu(s);return Ul(re)&&(Ae="leading"in re?!!re.leading:Ae,tt="trailing"in re?!!re.trailing:tt),Li(D,U,{leading:Ae,maxWait:U,trailing:tt})}function vD(D){return tn(D,1)}function yD(D,U){return Ki(Ff(U),D)}function bD(){if(!arguments.length)return[];var D=arguments[0];return za(D)?D:[D]}function _D(D){return sc(D,m)}function iE(D,U){return U=typeof U=="function"?U:r,sc(D,m,U)}function Sv(D){return sc(D,h|m)}function OT(D,U){return U=typeof U=="function"?U:r,sc(D,h|m,U)}function IT(D,U){return U==null||Ro(D,U,Se(U))}function op(D,U){return D===U||D!==D&&U!==U}var MT=Er(zu),kT=Er(function(D,U){return D>=U}),Eg=tp(function(){return arguments}())?tp:function(D){return su(D)&&Za.call(D,"callee")&&!kd.call(D,"callee")},za=Zr.isArray,n_=Pr?Kl(Pr):Pm;function _d(D){return D!=null&&Bp(D.length)&&!Cg(D)}function ou(D){return su(D)&&_d(D)}function DT(D){return D===!0||D===!1||su(D)&&$l(D)==we}var dc=Jh||Th,F0=Tr?Kl(Tr):Ws;function FT(D){return su(D)&&D.nodeType===1&&!L0(D)}function LT(D){if(D==null)return!0;if(_d(D)&&(za(D)||typeof D=="string"||typeof D.splice=="function"||dc(D)||$0(D)||Eg(D)))return!D.length;var U=Ps(D);if(U==he||U==Vt)return!D.size;if(vh(D))return!oe(D).length;for(var re in D)if(Za.call(D,re))return!1;return!0}function NT(D,U){return lc(D,U)}function $T(D,U,re){re=typeof re=="function"?re:r;var Ae=re?re(D,U):r;return Ae===r?lc(D,U,r,re):!!Ae}function f1(D){if(!su(D))return!1;var U=$l(D);return U==ft||U==Re||typeof D.message=="string"&&typeof D.name=="string"&&!L0(D)}function zT(D){return typeof D=="number"&&Dd(D)}function Cg(D){if(!Ul(D))return!1;var U=$l(D);return U==qe||U==dt||U==$e||U==Ze}function aE(D){return typeof D=="number"&&D==Xa(D)}function Bp(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=pe}function Ul(D){var U=typeof D;return D!=null&&(U=="object"||U=="function")}function su(D){return D!=null&&typeof D=="object"}var oE=Mr?Kl(Mr):c;function BT(D,U){return D===U||g(D,U,qu(U))}function wD(D,U,re){return re=typeof re=="function"?re:r,g(D,U,qu(U),re)}function xD(D){return a_(D)&&D!=+D}function jT(D){if(Kb(D))throw new ua(a);return M(D)}function i_(D){return D===null}function UT(D){return D==null}function a_(D){return typeof D=="number"||su(D)&&$l(D)==ut}function L0(D){if(!su(D)||$l(D)!=je)return!1;var U=rc(D);if(U===null)return!0;var re=Za.call(U,"constructor")&&U.constructor;return typeof re=="function"&&re instanceof re&&lh.call(re)==nd}var N0=bn?Kl(bn):L;function d1(D){return aE(D)&&D>=-9007199254740991&&D<=pe}var o_=sn?Kl(sn):j;function h1(D){return typeof D=="string"||!za(D)&&su(D)&&$l(D)==At}function xh(D){return typeof D=="symbol"||su(D)&&$l(D)==hr}var $0=Pn?Kl(Pn):Y;function z0(D){return D===r}function ef(D){return su(D)&&Ps(D)==fr}function Ev(D){return su(D)&&$l(D)==Dt}var sE=Er(Ce),qT=Er(function(D,U){return D<=U});function lE(D){if(!D)return[];if(_d(D))return h1(D)?Hn(D):ju(D);if(Ec&&D[Ec])return Il(D[Ec]());var U=Ps(D),re=U==he?Iu:U==Vt?To:Tn;return re(D)}function jp(D){if(!D)return D===0?D:0;if(D=Sh(D),D===ue||D===-1/0){var U=D<0?-1:1;return U*ve}return D===D?D:0}function Xa(D){var U=jp(D),re=U%1;return U===U?re?U-re:U:0}function uE(D){return D?Mf(Xa(D),0,se):0}function Sh(D){if(typeof D=="number")return D;if(xh(D))return le;if(Ul(D)){var U=typeof D.valueOf=="function"?D.valueOf():D;D=Ul(U)?U+"":U}if(typeof D!="string")return D===0?D:+D;D=ec(D);var re=Wn.test(D);return re||ya.test(D)?Un(D.slice(2),re?2:8):yi.test(D)?le:+D}function HT(D){return uc(D,Pe(D))}function WT(D){return D?Mf(Xa(D),-9007199254740991,pe):D===0?D:0}function fs(D){return D==null?"":Da(D)}var cE=ru(function(D,U){if(vh(U)||_d(U)){uc(U,Se(U),D);return}for(var re in U)Za.call(U,re)&&If(D,re,U[re])}),fE=ru(function(D,U){uc(U,Pe(U),D)}),Cv=ru(function(D,U,re,Ae){uc(U,Pe(U),D,Ae)}),dE=ru(function(D,U,re,Ae){uc(U,Se(U),D,Ae)}),VT=Vi(cd);function hE(D,U){var re=Af(D);return U==null?re:Fo(re,U)}var p1=_r(function(D,U){D=yo(D);var re=-1,Ae=U.length,tt=Ae>2?U[2]:r;for(tt&&nu(U[0],U[1],tt)&&(Ae=1);++re<Ae;)for(var Et=U[re],Qt=Pe(Et),mr=-1,Lr=Qt.length;++mr<Lr;){var wn=Qt[mr],En=D[wn];(En===r||op(En,Du[wn])&&!Za.call(D,wn))&&(D[wn]=Et[wn])}return D}),s_=_r(function(D){return D.push(r,en),un(st,r,D)});function pE(D,U){return Pa(D,Qn(U,3),yu)}function mE(D,U){return Pa(D,Qn(U,3),bl)}function gE(D,U){return D==null?D:Di(D,Qn(U,3),Pe)}function SD(D,U){return D==null?D:dd(D,Qn(U,3),Pe)}function b(D,U){return D&&yu(D,Qn(U,3))}function d(D,U){return D&&bl(D,Qn(U,3))}function y(D){return D==null?[]:ys(D,Se(D))}function I(D){return D==null?[]:ys(D,Pe(D))}function N(D,U,re){var Ae=D==null?r:Yc(D,U);return Ae===r?re:Ae}function H(D,U){return D!=null&&gh(D,U,ro)}function G(D,U){return D!=null&&gh(D,U,bo)}var X=Ve(function(D,U,re){U!=null&&typeof U.toString!="function"&&(U=rd.call(U)),D[U]=re},l_(Sd)),ae=Ve(function(D,U,re){U!=null&&typeof U.toString!="function"&&(U=rd.call(U)),Za.call(D,U)?D[U].push(re):D[U]=[re]},Qn),ce=_r(zl);function Se(D){return _d(D)?Zc(D):oe(D)}function Pe(D){return _d(D)?Zc(D,!0):be(D)}function Be(D,U){var re={};return U=Qn(U,3),yu(D,function(Ae,tt,Et){Rc(re,U(Ae,tt,Et),Ae)}),re}function He(D,U){var re={};return U=Qn(U,3),yu(D,function(Ae,tt,Et){Rc(re,tt,U(Ae,tt,Et))}),re}var Xe=ru(function(D,U,re){nt(D,U,re)}),st=ru(function(D,U,re,Ae){nt(D,U,re,Ae)}),wt=Vi(function(D,U){var re={};if(D==null)return re;var Ae=!1;U=ni(U,function(Et){return Et=Gs(Et,D),Ae||(Ae=Et.length>1),Et}),uc(D,al(D),re),Ae&&(re=sc(re,h|p|m,xr));for(var tt=U.length;tt--;)Is(re,U[tt]);return re});function Mt(D,U){return qt(D,Vn(Qn(U)))}var lr=Vi(function(D,U){return D==null?{}:Bt(D,U)});function qt(D,U){if(D==null)return{};var re=ni(al(D),function(Ae){return[Ae]});return U=Qn(U),Ht(D,re,function(Ae,tt){return U(Ae,tt[0])})}function Ue(D,U,re){U=Gs(U,D);var Ae=-1,tt=U.length;for(tt||(tt=1,D=r);++Ae<tt;){var Et=D==null?r:D[Gu(U[Ae])];Et===r&&(Ae=tt,Et=re),D=Cg(Et)?Et.call(D):Et}return D}function bt(D,U,re){return D==null?D:Dn(D,U,re)}function Gt(D,U,re,Ae){return Ae=typeof Ae=="function"?Ae:r,D==null?D:Dn(D,U,re,Ae)}var Ur=pn(Se),mn=pn(Pe);function Yr(D,U,re){var Ae=za(D),tt=Ae||dc(D)||$0(D);if(U=Qn(U,4),re==null){var Et=D&&D.constructor;tt?re=Ae?new Et:[]:Ul(D)?re=Cg(Et)?Af(rc(D)):{}:re={}}return(tt?Cn:yu)(D,function(Qt,mr,Lr){return U(re,Qt,mr,Lr)}),re}function an(D,U){return D==null?!0:Is(D,U)}function On(D,U,re){return D==null?D:nl(D,U,Ff(re))}function yn(D,U,re,Ae){return Ae=typeof Ae=="function"?Ae:r,D==null?D:nl(D,U,Ff(re),Ae)}function Tn(D){return D==null?[]:xc(D,Se(D))}function cn(D){return D==null?[]:xc(D,Pe(D))}function vi(D,U,re){return re===r&&(re=U,U=r),re!==r&&(re=Sh(re),re=re===re?re:0),U!==r&&(U=Sh(U),U=U===U?U:0),Mf(Sh(D),U,re)}function Wi(D,U,re){return U=jp(U),re===r?(re=U,U=0):re=jp(re),D=Sh(D),hd(D,U,re)}function zi(D,U,re){if(re&&typeof re!="boolean"&&nu(D,U,re)&&(U=re=r),re===r&&(typeof U=="boolean"?(re=U,U=r):typeof D=="boolean"&&(re=D,D=r)),D===r&&U===r?(D=0,U=1):(D=jp(D),U===r?(U=D,D=0):U=jp(U)),D>U){var Ae=D;D=U,U=Ae}if(re||D%1||U%1){var tt=ep();return tl(D+tt*(U-D+An("1e-"+((tt+"").length-1))),U)}return nr(D,U)}var Ci=ie(function(D,U,re){return U=U.toLowerCase(),D+(re?Va(U):U)});function Va(D){return Pv(fs(D).toLowerCase())}function cl(D){return D=fs(D),D&&D.replace(Ua,Sf).replace(Xo,"")}function Ku(D,U,re){D=fs(D),U=Da(U);var Ae=D.length;re=re===r?Ae:Mf(Xa(re),0,Ae);var tt=re;return re-=U.length,re>=0&&D.slice(re,tt)==U}function tf(D){return D=fs(D),D&&ir.test(D)?D.replace(Ft,tc):D}function Eh(D){return D=fs(D),D&&Rr.test(D)?D.replace(br,"\\$&"):D}var wd=ie(function(D,U,re){return D+(re?"-":"")+U.toLowerCase()}),$c=ie(function(D,U,re){return D+(re?" ":"")+U.toLowerCase()}),fl=Q("toLowerCase");function hc(D,U,re){D=fs(D),U=Xa(U);var Ae=U?la(D):0;if(!U||Ae>=U)return D;var tt=(U-Ae)/2;return er(sf(tt),re)+D+er(of(tt),re)}function zc(D,U,re){D=fs(D),U=Xa(U);var Ae=U?la(D):0;return U&&Ae<U?D+er(U-Ae,re):D}function Bc(D,U,re){D=fs(D),U=Xa(U);var Ae=U?la(D):0;return U&&Ae<U?er(U-Ae,re)+D:D}function jf(D,U,re){return re||U==null?U=0:U&&(U=+U),Qh(fs(D).replace(jt,""),U||0)}function Ch(D,U,re){return(re?nu(D,U,re):U===r)?U=1:U=Xa(U),Qr(fs(D),U)}function pc(){var D=arguments,U=fs(D[0]);return D.length<3?U:U.replace(D[1],D[2])}var xd=ie(function(D,U,re){return D+(re?"_":"")+U.toLowerCase()});function Zu(D,U,re){return re&&typeof re!="number"&&nu(D,U,re)&&(U=re=r),re=re===r?se:re>>>0,re?(D=fs(D),D&&(typeof U=="string"||U!=null&&!N0(U))&&(U=Da(U),!U&&Sc(D))?Bl(Hn(D),0,re):D.split(U,re)):[]}var mc=ie(function(D,U,re){return D+(re?" ":"")+Pv(U)});function gc(D,U,re){return D=fs(D),re=re==null?0:Mf(Xa(re),0,D.length),U=Da(U),D.slice(re,re+U.length)==U}function Eu(D,U,re){var Ae=pt.templateSettings;re&&nu(D,U,re)&&(U=r),D=fs(D),U=Cv({},U,Ae,oi);var tt=Cv({},U.imports,Ae.imports,oi),Et=Se(tt),Qt=xc(tt,Et),mr,Lr,wn=0,En=U.interpolate||Ji,zn="__p += '",_i=Ui((U.escape||Ji).source+"|"+En.source+"|"+(En===zr?Fn:Ji).source+"|"+(U.evaluate||Ji).source+"|$","g"),Yi="//# sourceURL="+(Za.call(U,"sourceURL")?(U.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zt+"]")+`
`;D.replace(_i,function(Sa,zo,ts,Wp,Rh,Vp){return ts||(ts=Wp),zn+=D.slice(wn,Vp).replace(So,Kh),zo&&(mr=!0,zn+=`' +
__e(`+zo+`) +
'`),Rh&&(Lr=!0,zn+=`';
`+Rh+`;
__p += '`),ts&&(zn+=`' +
((__t = (`+ts+`)) == null ? '' : __t) +
'`),wn=Vp+Sa.length,Sa}),zn+=`';
`;var xa=Za.call(U,"variable")&&U.variable;if(!xa)zn=`with (obj) {
`+zn+`
}
`;else if(Ir.test(xa))throw new ua(o);zn=(Lr?zn.replace(Ye,""):zn).replace(gt,"$1").replace(kt,"$1;"),zn="function("+(xa||"obj")+`) {
`+(xa?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(mr?", __e = _.escape":"")+(Lr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+zn+`return __p
}`;var mo=vE(function(){return fo(Et,Yi+"return "+zn).apply(r,Qt)});if(mo.source=zn,f1(mo))throw mo;return mo}function Bs(D){return fs(D).toLowerCase()}function Up(D){return fs(D).toUpperCase()}function B0(D,U,re){if(D=fs(D),D&&(re||U===r))return ec(D);if(!D||!(U=Da(U)))return D;var Ae=Hn(D),tt=Hn(U),Et=af(Ae,tt),Qt=nh(Ae,tt)+1;return Bl(Ae,Et,Qt).join("")}function qp(D,U,re){if(D=fs(D),D&&(re||U===r))return D.slice(0,Wc(D)+1);if(!D||!(U=Da(U)))return D;var Ae=Hn(D),tt=nh(Ae,Hn(U))+1;return Bl(Ae,0,tt).join("")}function ED(D,U,re){if(D=fs(D),D&&(re||U===r))return D.replace(jt,"");if(!D||!(U=Da(U)))return D;var Ae=Hn(D),tt=af(Ae,Hn(U));return Bl(Ae,tt).join("")}function j0(D,U){var re=$,Ae=z;if(Ul(U)){var tt="separator"in U?U.separator:tt;re="length"in U?Xa(U.length):re,Ae="omission"in U?Da(U.omission):Ae}D=fs(D);var Et=D.length;if(Sc(D)){var Qt=Hn(D);Et=Qt.length}if(re>=Et)return D;var mr=re-la(Ae);if(mr<1)return Ae;var Lr=Qt?Bl(Qt,0,mr).join(""):D.slice(0,mr);if(tt===r)return Lr+Ae;if(Qt&&(mr+=Lr.length-mr),N0(tt)){if(D.slice(mr).search(tt)){var wn,En=Lr;for(tt.global||(tt=Ui(tt.source,fs(ui.exec(tt))+"g")),tt.lastIndex=0;wn=tt.exec(En);)var zn=wn.index;Lr=Lr.slice(0,zn===r?mr:zn)}}else if(D.indexOf(Da(tt),mr)!=mr){var _i=Lr.lastIndexOf(tt);_i>-1&&(Lr=Lr.slice(0,_i))}return Lr+Ae}function Ty(D){return D=fs(D),D&&Tt.test(D)?D.replace(at,ih):D}var U0=ie(function(D,U,re){return D+(re?" ":"")+U.toUpperCase()}),Pv=Q("toUpperCase");function Ry(D,U,re){return D=fs(D),U=re?r:U,U===r?Pp(D)?dg(D):Hi(D):D.match(U)||[]}var vE=_r(function(D,U){try{return un(D,r,U)}catch(re){return f1(re)?re:new ua(re)}}),GT=Vi(function(D,U){return Cn(U,function(re){re=Gu(re),Rc(D,re,jn(D[re],D))}),D});function KT(D){var U=D==null?0:D.length,re=Qn();return D=U?ni(D,function(Ae){if(typeof Ae[1]!="function")throw new Mu(s);return[re(Ae[0]),Ae[1]]}):[],_r(function(Ae){for(var tt=-1;++tt<U;){var Et=D[tt];if(un(Et[0],this,Ae))return un(Et[1],this,Ae)}})}function ZT(D){return kf(sc(D,h))}function l_(D){return function(){return D}}function yE(D,U){return D==null||D!==D?U:D}var Pg=Ne(),YT=Ne(!0);function Sd(D){return D}function bE(D){return te(typeof D=="function"?D:sc(D,h))}function CD(D){return De(sc(D,h))}function PD(D,U){return We(D,sc(U,h))}var TD=_r(function(D,U){return function(re){return zl(re,D,U)}}),RD=_r(function(D,U){return function(re){return zl(D,re,U)}});function _E(D,U,re){var Ae=Se(U),tt=ys(U,Ae);re==null&&!(Ul(U)&&(tt.length||!Ae.length))&&(re=U,U=D,D=this,tt=ys(U,Se(U)));var Et=!(Ul(re)&&"chain"in re)||!!re.chain,Qt=Cg(D);return Cn(tt,function(mr){var Lr=U[mr];D[mr]=Lr,Qt&&(D.prototype[mr]=function(){var wn=this.__chain__;if(Et||wn){var En=D(this.__wrapped__),zn=En.__actions__=ju(this.__actions__);return zn.push({func:Lr,args:arguments,thisArg:D}),En.__chain__=wn,En}return Lr.apply(D,ai([this.value()],arguments))})}),D}function AD(){return Ie._===this&&(Ie._=Zh),this}function wE(){}function Hp(D){return D=Xa(D),_r(function(U){return Ct(U,D)})}var m1=zt(ni),XT=zt(hi),OD=zt(Ai);function JT(D){return di(D)?gs(Gu(D)):$t(D)}function ID(D){return function(U){return D==null?r:Yc(D,U)}}var mf=Xt(),Ph=Xt(!0);function Tg(){return[]}function Th(){return!1}function Ay(){return{}}function Fm(){return""}function lTe(){return!0}function uTe(D,U){if(D=Xa(D),D<1||D>pe)return[];var re=se,Ae=tl(D,se);U=Qn(U),D-=se;for(var tt=Uo(Ae,U);++re<D;)U(re);return tt}function cTe(D){return za(D)?ni(D,Gu):xh(D)?[D]:ju(yh(fs(D)))}function fTe(D){var U=++Md;return fs(D)+U}var dTe=ht(function(D,U){return D+U},0),hTe=Br("ceil"),pTe=ht(function(D,U){return D/U},1),mTe=Br("floor");function gTe(D){return D&&D.length?Df(D,Sd,zu):r}function vTe(D,U){return D&&D.length?Df(D,Qn(U,2),zu):r}function yTe(D){return Jo(D,Sd)}function bTe(D,U){return Jo(D,Qn(U,2))}function _Te(D){return D&&D.length?Df(D,Sd,Ce):r}function wTe(D,U){return D&&D.length?Df(D,Qn(U,2),Ce):r}var xTe=ht(function(D,U){return D*U},1),STe=Br("round"),ETe=ht(function(D,U){return D-U},0);function CTe(D){return D&&D.length?qs(D,Sd):0}function PTe(D,U){return D&&D.length?qs(D,Qn(U,2)):0}return pt.after=cr,pt.ary=tn,pt.assign=cE,pt.assignIn=fE,pt.assignInWith=Cv,pt.assignWith=dE,pt.at=VT,pt.before=Mn,pt.bind=jn,pt.bindAll=GT,pt.bindKey=kn,pt.castArray=bD,pt.chain=R0,pt.chunk=Mm,pt.compact=bh,pt.concat=pf,pt.cond=KT,pt.conforms=ZT,pt.constant=l_,pt.countBy=e_,pt.create=hE,pt.curry=gi,pt.curryRight=Oi,pt.debounce=Li,pt.defaults=p1,pt.defaultsDeep=s_,pt.defer=xl,pt.delay=jr,pt.difference=Ya,pt.differenceBy=Ms,pt.differenceWith=sl,pt.drop=wu,pt.dropRight=sr,pt.dropRightWhile=Dr,pt.dropWhile=Gr,pt.fill=$n,pt.filter=xg,pt.flatMap=wv,pt.flatMapDeep=O0,pt.flatMapDepth=l1,pt.flatten=Qi,pt.flattenDeep=xi,pt.flattenDepth=Si,pt.flip=yr,pt.flow=Pg,pt.flowRight=YT,pt.fromPairs=Gi,pt.functions=y,pt.functionsIn=I,pt.groupBy=M0,pt.initial=wa,pt.intersection=$o,pt.intersectionBy=_s,pt.intersectionWith=jl,pt.invert=X,pt.invertBy=ae,pt.invokeMap=t_,pt.iteratee=bE,pt.keyBy=u1,pt.keys=Se,pt.keysIn=Pe,pt.map=$p,pt.mapKeys=Be,pt.mapValues=He,pt.matches=CD,pt.matchesProperty=PD,pt.memoize=Hr,pt.merge=Xe,pt.mergeWith=st,pt.method=TD,pt.methodOf=RD,pt.mixin=_E,pt.negate=Vn,pt.nthArg=Hp,pt.omit=wt,pt.omitBy=Mt,pt.once=Ni,pt.orderBy=r_,pt.over=m1,pt.overArgs=na,pt.overEvery=XT,pt.overSome=OD,pt.partial=Ki,pt.partialRight=da,pt.partition=Py,pt.pick=lr,pt.pickBy=qt,pt.property=JT,pt.propertyOf=ID,pt.pull=Nf,pt.pullAll=xu,pt.pullAllBy=iu,pt.pullAllWith=$f,pt.pullAt=Qc,pt.range=mf,pt.rangeRight=Ph,pt.rearg=fc,pt.reject=C,pt.remove=wl,pt.rest=Vo,pt.reverse=Fp,pt.sampleSize=W,pt.set=bt,pt.setWith=Gt,pt.shuffle=ee,pt.slice=Wo,pt.sortBy=lt,pt.sortedUniq=yv,pt.sortedUniqBy=Lp,pt.split=Zu,pt.spread=zp,pt.tail=Zb,pt.take=E0,pt.takeRight=C0,pt.takeRightWhile=Sy,pt.takeWhile=r1,pt.tap=o1,pt.throttle=nE,pt.thru=bd,pt.toArray=lE,pt.toPairs=Ur,pt.toPairsIn=mn,pt.toPath=cTe,pt.toPlainObject=HT,pt.transform=Yr,pt.unary=vD,pt.union=eE,pt.unionBy=Ey,pt.unionWith=n1,pt.uniq=km,pt.uniqBy=tE,pt.uniqWith=bv,pt.unset=an,pt.unzip=P0,pt.unzipWith=ul,pt.update=On,pt.updateWith=yn,pt.values=Tn,pt.valuesIn=cn,pt.without=rE,pt.words=Ry,pt.wrap=yD,pt.xor=i1,pt.xorBy=Cy,pt.xorWith=a1,pt.zip=T0,pt.zipObject=Yb,pt.zipObjectDeep=au,pt.zipWith=Bf,pt.entries=Ur,pt.entriesIn=mn,pt.extend=fE,pt.extendWith=Cv,_E(pt,pt),pt.add=dTe,pt.attempt=vE,pt.camelCase=Ci,pt.capitalize=Va,pt.ceil=hTe,pt.clamp=vi,pt.clone=_D,pt.cloneDeep=Sv,pt.cloneDeepWith=OT,pt.cloneWith=iE,pt.conformsTo=IT,pt.deburr=cl,pt.defaultTo=yE,pt.divide=pTe,pt.endsWith=Ku,pt.eq=op,pt.escape=tf,pt.escapeRegExp=Eh,pt.every=Np,pt.find=Dm,pt.findIndex=ti,pt.findKey=pE,pt.findLast=Sg,pt.findLastIndex=qi,pt.findLastKey=mE,pt.floor=mTe,pt.forEach=I0,pt.forEachRight=xv,pt.forIn=gE,pt.forInRight=SD,pt.forOwn=b,pt.forOwnRight=d,pt.get=N,pt.gt=MT,pt.gte=kT,pt.has=H,pt.hasIn=G,pt.head=ra,pt.identity=Sd,pt.includes=k0,pt.indexOf=Fi,pt.inRange=Wi,pt.invoke=ce,pt.isArguments=Eg,pt.isArray=za,pt.isArrayBuffer=n_,pt.isArrayLike=_d,pt.isArrayLikeObject=ou,pt.isBoolean=DT,pt.isBuffer=dc,pt.isDate=F0,pt.isElement=FT,pt.isEmpty=LT,pt.isEqual=NT,pt.isEqualWith=$T,pt.isError=f1,pt.isFinite=zT,pt.isFunction=Cg,pt.isInteger=aE,pt.isLength=Bp,pt.isMap=oE,pt.isMatch=BT,pt.isMatchWith=wD,pt.isNaN=xD,pt.isNative=jT,pt.isNil=UT,pt.isNull=i_,pt.isNumber=a_,pt.isObject=Ul,pt.isObjectLike=su,pt.isPlainObject=L0,pt.isRegExp=N0,pt.isSafeInteger=d1,pt.isSet=o_,pt.isString=h1,pt.isSymbol=xh,pt.isTypedArray=$0,pt.isUndefined=z0,pt.isWeakMap=ef,pt.isWeakSet=Ev,pt.join=_l,pt.kebabCase=wd,pt.last=oa,pt.lastIndexOf=_h,pt.lowerCase=$c,pt.lowerFirst=fl,pt.lt=sE,pt.lte=qT,pt.max=gTe,pt.maxBy=vTe,pt.mean=yTe,pt.meanBy=bTe,pt.min=_Te,pt.minBy=wTe,pt.stubArray=Tg,pt.stubFalse=Th,pt.stubObject=Ay,pt.stubString=Fm,pt.stubTrue=lTe,pt.multiply=xTe,pt.nth=vd,pt.noConflict=AD,pt.noop=wE,pt.now=Ut,pt.pad=hc,pt.padEnd=zc,pt.padStart=Bc,pt.parseInt=jf,pt.random=zi,pt.reduce=c1,pt.reduceRight=D0,pt.repeat=Ch,pt.replace=pc,pt.result=Ue,pt.round=STe,pt.runInContext=Cr,pt.sample=k,pt.size=me,pt.snakeCase=xd,pt.some=Te,pt.sortedIndex=Su,pt.sortedIndexBy=wh,pt.sortedIndexOf=yd,pt.sortedLastIndex=vv,pt.sortedLastIndexBy=ll,pt.sortedLastIndexOf=zf,pt.startCase=mc,pt.startsWith=gc,pt.subtract=ETe,pt.sum=CTe,pt.sumBy=PTe,pt.template=Eu,pt.times=uTe,pt.toFinite=jp,pt.toInteger=Xa,pt.toLength=uE,pt.toLower=Bs,pt.toNumber=Sh,pt.toSafeInteger=WT,pt.toString=fs,pt.toUpper=Up,pt.trim=B0,pt.trimEnd=qp,pt.trimStart=ED,pt.truncate=j0,pt.unescape=Ty,pt.uniqueId=fTe,pt.upperCase=U0,pt.upperFirst=Pv,pt.each=I0,pt.eachRight=xv,pt.first=ra,_E(pt,function(){var D={};return yu(pt,function(U,re){Za.call(pt.prototype,re)||(D[re]=U)}),D}(),{chain:!1}),pt.VERSION=n,Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(D){pt[D].placeholder=pt}),Cn(["drop","take"],function(D,U){ea.prototype[D]=function(re){re=re===r?1:Ss(Xa(re),0);var Ae=this.__filtered__&&!U?new ea(this):this.clone();return Ae.__filtered__?Ae.__takeCount__=tl(re,Ae.__takeCount__):Ae.__views__.push({size:tl(re,se),type:D+(Ae.__dir__<0?"Right":"")}),Ae},ea.prototype[D+"Right"]=function(re){return this.reverse()[D](re).reverse()}}),Cn(["filter","map","takeWhile"],function(D,U){var re=U+1,Ae=re==V||re==fe;ea.prototype[D]=function(tt){var Et=this.clone();return Et.__iteratees__.push({iteratee:Qn(tt,3),type:re}),Et.__filtered__=Et.__filtered__||Ae,Et}}),Cn(["head","last"],function(D,U){var re="take"+(U?"Right":"");ea.prototype[D]=function(){return this[re](1).value()[0]}}),Cn(["initial","tail"],function(D,U){var re="drop"+(U?"":"Right");ea.prototype[D]=function(){return this.__filtered__?new ea(this):this[re](1)}}),ea.prototype.compact=function(){return this.filter(Sd)},ea.prototype.find=function(D){return this.filter(D).head()},ea.prototype.findLast=function(D){return this.reverse().find(D)},ea.prototype.invokeMap=_r(function(D,U){return typeof D=="function"?new ea(this):this.map(function(re){return zl(re,D,U)})}),ea.prototype.reject=function(D){return this.filter(Vn(Qn(D)))},ea.prototype.slice=function(D,U){D=Xa(D);var re=this;return re.__filtered__&&(D>0||U<0)?new ea(re):(D<0?re=re.takeRight(-D):D&&(re=re.drop(D)),U!==r&&(U=Xa(U),re=U<0?re.dropRight(-U):re.take(U-D)),re)},ea.prototype.takeRightWhile=function(D){return this.reverse().takeWhile(D).reverse()},ea.prototype.toArray=function(){return this.take(se)},yu(ea.prototype,function(D,U){var re=/^(?:filter|find|map|reject)|While$/.test(U),Ae=/^(?:head|last)$/.test(U),tt=pt[Ae?"take"+(U=="last"?"Right":""):U],Et=Ae||/^find/.test(U);tt&&(pt.prototype[U]=function(){var Qt=this.__wrapped__,mr=Ae?[1]:arguments,Lr=Qt instanceof ea,wn=mr[0],En=Lr||za(Qt),zn=function(zo){var ts=tt.apply(pt,ai([zo],mr));return Ae&&_i?ts[0]:ts};En&&re&&typeof wn=="function"&&wn.length!=1&&(Lr=En=!1);var _i=this.__chain__,Yi=!!this.__actions__.length,xa=Et&&!_i,mo=Lr&&!Yi;if(!Et&&En){Qt=mo?Qt:new ea(this);var Sa=D.apply(Qt,mr);return Sa.__actions__.push({func:bd,args:[zn],thisArg:r}),new Xl(Sa,_i)}return xa&&mo?D.apply(this,mr):(Sa=this.thru(zn),xa?Ae?Sa.value()[0]:Sa.value():Sa)})}),Cn(["pop","push","shift","sort","splice","unshift"],function(D){var U=ku[D],re=/^(?:push|sort|unshift)$/.test(D)?"tap":"thru",Ae=/^(?:pop|shift)$/.test(D);pt.prototype[D]=function(){var tt=arguments;if(Ae&&!this.__chain__){var Et=this.value();return U.apply(za(Et)?Et:[],tt)}return this[re](function(Qt){return U.apply(za(Qt)?Qt:[],tt)})}}),yu(ea.prototype,function(D,U){var re=pt[U];if(re){var Ae=re.name+"";Za.call(qo,Ae)||(qo[Ae]=[]),qo[Ae].push({name:U,func:re})}}),qo[Qe(r,T).name]=[{name:"wrapper",func:r}],ea.prototype.clone=ld,ea.prototype.reverse=Os,ea.prototype.value=cf,pt.prototype.at=_v,pt.prototype.chain=wg,pt.prototype.commit=A0,pt.prototype.next=Xb,pt.prototype.plant=s1,pt.prototype.reverse=Nc,pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=Qb,pt.prototype.first=pt.prototype.head,Ec&&(pt.prototype[Ec]=Jb),pt},Id=oh();et?((et.exports=Id)._=Id,Ke._=Id):Ie._=Id}).call(z1t)}(MC,MC.exports)),MC.exports}var oEt=B1t();function sEt(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function sTe(e,t,r){if(e!==null)for(var n,i,a,s,o,l,u,f=0,h=0,p,m=e.type,v=m==="FeatureCollection",w=m==="Feature",x=v?e.features.length:1,T=0;T<x;T++){u=v?e.features[T].geometry:w?e.geometry:e,p=u?u.type==="GeometryCollection":!1,o=p?u.geometries.length:1;for(var A=0;A<o;A++){var P=0,S=0;if(s=p?u.geometries[A]:u,s!==null){l=s.coordinates;var E=s.type;switch(f=0,E){case null:break;case"Point":if(t(l,h,T,P,S)===!1)return!1;h++,P++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(t(l[n],h,T,P,S)===!1)return!1;h++,E==="MultiPoint"&&P++}E==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-f;i++){if(t(l[n][i],h,T,P,S)===!1)return!1;h++}E==="MultiLineString"&&P++,E==="Polygon"&&S++}E==="Polygon"&&P++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(S=0,i=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-f;a++){if(t(l[n][i][a],h,T,P,S)===!1)return!1;h++}S++}P++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(sTe(s.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function j1t(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return sTe(e,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}var lEt=j1t;export{Yxt as $,oJe as A,Ztt as B,Hh as C,lxt as D,Qxt as E,jS as F,P_e as G,Kxt as H,Htt as I,Vtt as J,Gtt as K,oye as L,V1t as M,uu as N,td as O,Wr as P,Ju as Q,ze as R,JW as S,Na as T,$2 as U,Rd as V,Hw as W,G1t as X,Rn as Y,nV as Z,N2 as _,Z1t as a,YW as a$,KW as a0,qQe as a1,xb as a2,Zxt as a3,dv as a4,Xs as a5,ln as a6,Vr as a7,ia as a8,vW as a9,R_e as aA,$be as aB,_W as aC,Nz as aD,Sbe as aE,xW as aF,Jd as aG,Txt as aH,ak as aI,gf as aJ,Ru as aK,qP as aL,ny as aM,wb as aN,Bo as aO,vet as aP,uSt as aQ,cSt as aR,xxt as aS,trt as aT,PQe as aU,CQe as aV,TQe as aW,BQe as aX,wW as aY,sSt as aZ,mx as a_,yW as aa,Xxt as ab,Js as ac,dp as ad,Qy as ae,js as af,Vxt as ag,Gxt as ah,Ebe as ai,fu as aj,rk as ak,ds as al,Uw as am,_xt as an,Tu as ao,ps as ap,p_e as aq,iSt as ar,rSt as as,tSt as at,oSt as au,aSt as av,Wxt as aw,Vh as ax,qr as ay,as as az,ixt as b,qxt as b$,tle as b0,Cxt as b1,eQe as b2,kR as b3,Qd as b4,tk as b5,Ug as b6,Q0 as b7,Xp as b8,E_ as b9,jxt as bA,hSt as bB,rtt as bC,VJe as bD,aQe as bE,VC as bF,ntt as bG,Sxt as bH,PR as bI,TR as bJ,HXe as bK,vxt as bL,wxt as bM,XO as bN,L7 as bO,Vle as bP,Hxt as bQ,$S as bR,O_ as bS,pSt as bT,mSt as bU,Oxt as bV,Mxt as bW,Lxt as bX,Ixt as bY,Dxt as bZ,Axt as b_,kS as ba,V7 as bb,yc as bc,Jy as bd,fm as be,fSt as bf,dSt as bg,i0 as bh,eo as bi,vQe as bj,Ds as bk,KP as bl,Pxt as bm,Ext as bn,Pbe as bo,Eet as bp,$xt as bq,eV as br,lQe as bs,Pl as bt,Vz as bu,cw as bv,Mge as bw,zxt as bx,W_e as by,Bxt as bz,Fve as c,L2e as c$,kxt as c0,Nxt as c1,Fxt as c2,Rxt as c3,gk as c4,Ww as c5,ZW as c6,Rx as c7,eI as c8,vk as c9,bSt as cA,LSt as cB,oqe as cC,SSt as cD,ISt as cE,MSt as cF,ASt as cG,bst as cH,Sst as cI,wst as cJ,xst as cK,TSt as cL,PSt as cM,pV as cN,Gwe as cO,FSt as cP,xSt as cQ,NSt as cR,mxt as cS,gxt as cT,zSt as cU,J2 as cV,N8 as cW,$St as cX,Zst as cY,GSt as cZ,qSt as c_,US as ca,HW as cb,ywe as cc,Ep as cd,dxt as ce,yxt as cf,bxt as cg,hxt as ch,gSt as ci,dqe as cj,y0 as ck,X1t as cl,J1t as cm,J0 as cn,Y1t as co,vSt as cp,txt as cq,vot as cr,ESt as cs,Mot as ct,RSt as cu,Klt as cv,Zlt as cw,DSt as cx,Ylt as cy,Xlt as cz,axt as d,USt as d0,F2e as d1,hbt as d2,Hyt as d3,G0t as d4,ude as d5,V0t as d6,bbt as d7,WSt as d8,HSt as d9,rEt as dA,tEt as dB,nEt as dC,eEt as dD,iEt as dE,aEt as dF,oEt as dG,sEt as dH,lEt as dI,q1t as dJ,lbe as dK,hXe as dL,C_e as dM,aw as dN,MS as dO,DS as dP,VSt as da,y2e as db,fxt as dc,Q_ as dd,xKe as de,kot as df,pxt as dg,KSt as dh,CSt as di,Kot as dj,Zot as dk,kSt as dl,Q1t as dm,ext as dn,H1t as dp,ZSt as dq,YSt as dr,JSt as ds,OSt as dt,XSt as du,QSt as dv,Ihe as dw,wwt as dx,r7 as dy,RT as dz,nxt as e,sxt as f,rxt as g,cxt as h,ike as i,io as j,uxt as k,W1t as l,vme as m,B0e as n,BKe as o,ob as p,z0e as q,ne as r,nW as s,K1t as t,eye as u,iW as v,OS as w,Mze as x,Ls as y,PW as z};
